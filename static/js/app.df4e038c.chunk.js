(this["webpackJsonp"] = this["webpackJsonp"] || []).push([[0],{

/***/ 1000:
/***/ (function(module, exports) {

Object.defineProperty(exports,"__esModule",{value:true});exports.liveInEurope=void 0;var liveInEurope=function liveInEurope(state){if(Object.entries(state.example.user).length<=0)return null;var europeanCities=['Gwenborough','Wisokyburgh','McKenziehaven','South Elvis','Roscoeview'];return europeanCities.includes(state.example.user.address.city);};exports.liveInEurope=liveInEurope;

/***/ }),

/***/ 1001:
/***/ (function(module, exports, __webpack_require__) {

var _interopRequireDefault=__webpack_require__(2);Object.defineProperty(exports,"__esModule",{value:true});exports.default=void 0;var _defineProperty2=_interopRequireDefault(__webpack_require__(11));var _StyleSheet=_interopRequireDefault(__webpack_require__(12));var _Theme=__webpack_require__(22);function ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);if(enumerableOnly)symbols=symbols.filter(function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable;});keys.push.apply(keys,symbols);}return keys;}function _objectSpread(target){for(var i=1;i<arguments.length;i++){var source=arguments[i]!=null?arguments[i]:{};if(i%2){ownKeys(Object(source),true).forEach(function(key){(0,_defineProperty2.default)(target,key,source[key]);});}else if(Object.getOwnPropertyDescriptors){Object.defineProperties(target,Object.getOwnPropertyDescriptors(source));}else{ownKeys(Object(source)).forEach(function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key));});}}return target;}var _default=_StyleSheet.default.create({error:_objectSpread(_objectSpread({},_Theme.Fonts.normal),{},{color:_Theme.Colors.error,marginBottom:_Theme.Metrics.tiny,textAlign:'center'}),instructions:_objectSpread(_objectSpread({},_Theme.Fonts.normal),{},{fontStyle:'italic',marginBottom:_Theme.Metrics.tiny,textAlign:'center'}),logoContainer:_objectSpread(_objectSpread({},_Theme.Helpers.fullWidth),{},{height:300,marginBottom:25}),result:_objectSpread(_objectSpread({},_Theme.Fonts.normal),{},{marginBottom:_Theme.Metrics.tiny,textAlign:'center'}),text:_objectSpread(_objectSpread({},_Theme.Fonts.normal),{},{marginBottom:_Theme.Metrics.tiny,textAlign:'center'})});exports.default=_default;

/***/ }),

/***/ 1002:
/***/ (function(module, exports, __webpack_require__) {

var _interopRequireDefault=__webpack_require__(2);var _interopRequireWildcard=__webpack_require__(7);Object.defineProperty(exports,"__esModule",{value:true});exports.default=void 0;var _react=_interopRequireWildcard(__webpack_require__(1));var _Platform=_interopRequireDefault(__webpack_require__(18));var _Text=_interopRequireDefault(__webpack_require__(21));var _View=_interopRequireDefault(__webpack_require__(8));var _ActivityIndicator=_interopRequireDefault(__webpack_require__(30));var _Image=_interopRequireDefault(__webpack_require__(33));var _FlatList=_interopRequireDefault(__webpack_require__(50));var _SafeAreaView=_interopRequireDefault(__webpack_require__(97));var _ScrollView=_interopRequireDefault(__webpack_require__(39));var _reactRedux=__webpack_require__(37);var _NavigationService=_interopRequireDefault(__webpack_require__(32));var _Actions=_interopRequireDefault(__webpack_require__(94));var _Selectors=__webpack_require__(70);var _Components=__webpack_require__(44);var _DeviceScreenStyle=_interopRequireDefault(__webpack_require__(1003));var _Theme=__webpack_require__(22);var _reactNativeBlePlx=__webpack_require__(105);var BLEButton=function BLEButton(dispatch){var Active=arguments.length>1&&arguments[1]!==undefined?arguments[1]:false;if(!Active){return _react.default.createElement(_Components.Button,{buttonStyle:_Theme.ApplicationStyles.button,Text:"Search BLE devices",onPress:function onPress(){return dispatch(_Actions.default.startBleScan());}});}else{return _react.default.createElement(_Components.Button,{buttonStyle:_Theme.ApplicationStyles.button,Text:"Stop BLE Search",onPress:function onPress(){return dispatch(_Actions.default.stopBleScan());}});}};var ConnectedDevice_View=function ConnectedDevice_View(connectedDevice,DeviceData){var dispatch=(0,_reactRedux.useDispatch)();return _react.default.createElement(_View.default,null,_react.default.createElement(_Components.CustomListItem,{Title:connectedDevice.localName,Subtitle:connectedDevice.id,itemStyle:{marginBottom:10},onPress:function onPress(){return dispatch(_Actions.default.disconnectDevice());}}),DeviceData&&Object.keys(DeviceData).length>1?_react.default.createElement(_View.default,{style:_DeviceScreenStyle.default.deviceDataContainer},DeviceData&&DeviceData.Battery?_react.default.createElement(_View.default,{style:_DeviceScreenStyle.default.textContainer},_react.default.createElement(_Text.default,null,"Device battery level"),_react.default.createElement(_Text.default,null,DeviceData.Battery+"%")):_react.default.createElement(_react.default.Fragment,null),DeviceData.tagid?_react.default.createElement(_View.default,{style:_DeviceScreenStyle.default.textContainer},_react.default.createElement(_Text.default,null,"TAG Id:"),_react.default.createElement(_Text.default,null,DeviceData.tagid)):_react.default.createElement(_react.default.Fragment,null),DeviceData.FatLayers&&DeviceData.FatLayers>0?_react.default.createElement(_View.default,{style:_DeviceScreenStyle.default.textContainer},_react.default.createElement(_Text.default,null,"Layers received: ",DeviceData.FatLayers),_react.default.createElement(_Text.default,null,"Layer 1: ",DeviceData.FatL1),_react.default.createElement(_Text.default,null,"Layer 2: ",DeviceData.FatL2),_react.default.createElement(_Text.default,null,"Layer 3: ",DeviceData.FatL3)):_react.default.createElement(_react.default.Fragment,null),DeviceData.Unknown?_react.default.createElement(_View.default,{style:_DeviceScreenStyle.default.textContainer},_react.default.createElement(_Text.default,null,"unknon Id:"),_react.default.createElement(_Text.default,null,DeviceData.Unknown)):_react.default.createElement(_react.default.Fragment,null)):_react.default.createElement(_react.default.Fragment,null));};var DeviceScreen=function DeviceScreen(){var dispatch=(0,_reactRedux.useDispatch)();var deviceErrorMessage=(0,_reactRedux.useSelector)(function(state){return state.device.deviceErrorMessage;});var connectedDevice=(0,_reactRedux.useSelector)(function(state){return state.device.connectedDevice;});var DeviceData=(0,_reactRedux.useSelector)(function(state){return state.device.deviceData;});var scannerState=(0,_reactRedux.useSelector)(function(state){return state.device.scannerState;});var connectionMethode=(0,_reactRedux.useSelector)(function(state){return state.device.connectionMethode;});var Devices=(0,_reactRedux.useSelector)(function(state){return state.device.DeviceList;});(0,_react.useEffect)(function(){},[]);return _react.default.createElement(_View.default,{style:[_Theme.Helpers.fill,_Theme.Helpers.rowMain,_Theme.Metrics.mediumHorizontalMargin,_Theme.Metrics.mediumVerticalMargin]},_react.default.createElement(_View.default,null,_react.default.createElement(_View.default,{style:_DeviceScreenStyle.default.textContainer},deviceErrorMessage?_react.default.createElement(_View.default,null,_react.default.createElement(_Text.default,null,"There was a error while retrieving conected device")):_react.default.createElement(_View.default,null,_react.default.createElement(_Text.default,{style:_DeviceScreenStyle.default.text},"Corrently connected:"),_react.default.createElement(_Text.default,{style:_DeviceScreenStyle.default.text},connectedDevice&&connectedDevice.name?connectedDevice.name:"None"))),_react.default.createElement(_View.default,{style:_DeviceScreenStyle.default.buttonContainer},connectedDevice?_react.default.createElement(_View.default,null,_react.default.createElement(_Components.Button,{buttonStyle:_Theme.ApplicationStyles.button,Text:"Disconnect Device",onPress:function onPress(){return dispatch(_Actions.default.disconnectDevice(connectionMethode));}})):_react.default.createElement(_View.default,null,connectionMethode==_Selectors.ConnectionMethode.BLE&&scannerState!=_Selectors.ScannerState.IDLE?_react.default.createElement(_Components.Button,{buttonStyle:_Theme.ApplicationStyles.button,Text:"Stop BLE Search",onPress:function onPress(){return dispatch(_Actions.default.stopBleScan());}}):_react.default.createElement(_Components.Button,{buttonStyle:_Theme.ApplicationStyles.button,Text:"Search BLE devices",onPress:function onPress(){return dispatch(_Actions.default.startBleScan());}}),_Platform.default.OS==='ios'?_react.default.createElement(_react.default.Fragment,null):_react.default.createElement(_View.default,null,connectionMethode==_Selectors.ConnectionMethode.BLUETOOTH&&scannerState!=_Selectors.ScannerState.IDLE?_react.default.createElement(_Components.Button,{buttonStyle:_Theme.ApplicationStyles.button,Text:"Stop Bluetooth Search",onPress:function onPress(){return dispatch(_Actions.default.stopBluetoothScan());}}):_react.default.createElement(_Components.Button,{buttonStyle:_Theme.ApplicationStyles.button,Text:"Search Bluetooth devices",onPress:function onPress(){return dispatch(_Actions.default.startBluetoothScan());}}),_react.default.createElement(_Components.Button,{buttonStyle:_Theme.ApplicationStyles.button,Text:"Make Discoverable (Blu 30sec)",onPress:function onPress(){return dispatch(_Actions.default.bluetoothScanAble());}}),_react.default.createElement(_Components.Button,{buttonStyle:_Theme.ApplicationStyles.button,Text:"OnDevice-serial",onPress:function onPress(){}})))),_react.default.createElement(_View.default,{style:_DeviceScreenStyle.default.deviceContainer},_react.default.createElement(_Text.default,{style:_DeviceScreenStyle.default.text2},"Device List:"),connectedDevice?ConnectedDevice_View(connectedDevice,DeviceData):_react.default.createElement(_ScrollView.default,{style:{paddingRight:5}},Devices.map(function(Dev,i){return _react.default.createElement(_Components.CustomListItem,{key:i,Title:Dev.localName,Subtitle:Dev.id,onPress:function onPress(){return dispatch(_Actions.default.connectDevice(Dev));}});})))));};var _default=DeviceScreen;exports.default=_default;

/***/ }),

/***/ 1003:
/***/ (function(module, exports, __webpack_require__) {

var _interopRequireDefault=__webpack_require__(2);Object.defineProperty(exports,"__esModule",{value:true});exports.default=void 0;var _defineProperty2=_interopRequireDefault(__webpack_require__(11));var _StyleSheet=_interopRequireDefault(__webpack_require__(12));var _Theme=__webpack_require__(22);function ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);if(enumerableOnly)symbols=symbols.filter(function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable;});keys.push.apply(keys,symbols);}return keys;}function _objectSpread(target){for(var i=1;i<arguments.length;i++){var source=arguments[i]!=null?arguments[i]:{};if(i%2){ownKeys(Object(source),true).forEach(function(key){(0,_defineProperty2.default)(target,key,source[key]);});}else if(Object.getOwnPropertyDescriptors){Object.defineProperties(target,Object.getOwnPropertyDescriptors(source));}else{ownKeys(Object(source)).forEach(function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key));});}}return target;}var _default=_StyleSheet.default.create({logoContainer:_objectSpread(_objectSpread({},_Theme.Helpers.fullWidth),{},{height:220,marginBottom:_Theme.Metrics.small}),textContainer:_objectSpread(_objectSpread({},_Theme.Fonts.normal),{},{marginBottom:_Theme.Metrics.small}),buttonContainer:{marginBottom:_Theme.Metrics.normal},deviceContainer:{flex:1,marginBottom:_Theme.Metrics.tiny},deviceDataContainer:{borderWidth:1,borderColor:"#000",marginTop:_Theme.Metrics.normal,paddingTop:_Theme.Metrics.small,paddingHorizontal:_Theme.Metrics.normal},error:_objectSpread(_objectSpread({},_Theme.Fonts.normal),{},{color:_Theme.Colors.error,marginBottom:_Theme.Metrics.tiny,textAlign:'center'}),result:_objectSpread(_objectSpread({},_Theme.Fonts.normal),{},{marginBottom:_Theme.Metrics.tiny,textAlign:'center'}),text:_objectSpread(_objectSpread({},_Theme.Fonts.normal),{},{marginBottom:_Theme.Metrics.tiny,textAlign:'center'}),text2:_objectSpread(_objectSpread({},_Theme.Fonts.normal),{},{marginRight:_Theme.Metrics.small,marginBottom:_Theme.Metrics.tiny})});exports.default=_default;

/***/ }),

/***/ 1004:
/***/ (function(module, exports, __webpack_require__) {

var _interopRequireDefault=__webpack_require__(2);Object.defineProperty(exports,"__esModule",{value:true});exports.default=void 0;var _defineProperty2=_interopRequireDefault(__webpack_require__(11));var _react=_interopRequireDefault(__webpack_require__(1));var _reactNavigationStack=__webpack_require__(148);var _TouchableOpacity=_interopRequireDefault(__webpack_require__(41));var _View=_interopRequireDefault(__webpack_require__(8));var _Text=_interopRequireDefault(__webpack_require__(21));var _reactNativeElements=__webpack_require__(46);var _NavigationService=_interopRequireDefault(__webpack_require__(32));var _UserLoadingScreen=_interopRequireDefault(__webpack_require__(1005));var _UserLoginScreen=_interopRequireDefault(__webpack_require__(1006));var _VerifyScreen=_interopRequireDefault(__webpack_require__(1007));var _CreateUserDataScreen=_interopRequireDefault(__webpack_require__(1008));var _Theme=__webpack_require__(22);function ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);if(enumerableOnly)symbols=symbols.filter(function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable;});keys.push.apply(keys,symbols);}return keys;}function _objectSpread(target){for(var i=1;i<arguments.length;i++){var source=arguments[i]!=null?arguments[i]:{};if(i%2){ownKeys(Object(source),true).forEach(function(key){(0,_defineProperty2.default)(target,key,source[key]);});}else if(Object.getOwnPropertyDescriptors){Object.defineProperties(target,Object.getOwnPropertyDescriptors(source));}else{ownKeys(Object(source)).forEach(function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key));});}}return target;}var StackNavigator=(0,_reactNavigationStack.createStackNavigator)({UserLoadingScreen:{screen:_UserLoadingScreen.default,navigationOptions:function navigationOptions(){return{title:'User loading'};}},LoginUser:{screen:_UserLoginScreen.default,navigationOptions:function navigationOptions(){return{title:'User Login',headerLeft:function headerLeft(){return _react.default.createElement(_View.default,{style:{padding:6,paddingLeft:15}},_react.default.createElement(_reactNativeElements.Icon,{name:"md-arrow-back",type:"ionicon",size:25,color:"black",onPress:function onPress(){return _NavigationService.default.navigate('MainStack');}}));}};}},VerifyScreen:{screen:_VerifyScreen.default,navigationOptions:function navigationOptions(){return{title:'User Verification'};}},CreateUserData:{screen:_CreateUserDataScreen.default,navigationOptions:function navigationOptions(){return{title:'Create Data'};}}},{initialRouteName:'UserLoadingScreen',headerMode:'float',defaultNavigationOptions:{headerTitleAlign:'center',headerTitleStyle:_objectSpread({},_Theme.ApplicationStyles.navigationHeader),headerLeft:function headerLeft(){return _react.default.createElement(_View.default,{style:{padding:6,paddingLeft:15}},_react.default.createElement(_reactNativeElements.Icon,{type:"ionicon",name:"md-arrow-back",size:25,color:"black",onPress:function onPress(){return _NavigationService.default.navigate('MainStack');}}));},headerRight:function headerRight(){return _react.default.createElement(_View.default,{style:{padding:6}});}}});var _default=StackNavigator;exports.default=_default;

/***/ }),

/***/ 1005:
/***/ (function(module, exports, __webpack_require__) {

var _interopRequireWildcard=__webpack_require__(7);var _interopRequireDefault=__webpack_require__(2);Object.defineProperty(exports,"__esModule",{value:true});exports.default=void 0;var _classCallCheck2=_interopRequireDefault(__webpack_require__(9));var _createClass2=_interopRequireDefault(__webpack_require__(10));var _inherits2=_interopRequireDefault(__webpack_require__(15));var _possibleConstructorReturn2=_interopRequireDefault(__webpack_require__(16));var _getPrototypeOf2=_interopRequireDefault(__webpack_require__(14));var _react=_interopRequireWildcard(__webpack_require__(1));var _Platform=_interopRequireDefault(__webpack_require__(18));var _Text=_interopRequireDefault(__webpack_require__(21));var _Image=_interopRequireDefault(__webpack_require__(33));var _View=_interopRequireDefault(__webpack_require__(8));var _ActivityIndicator=_interopRequireDefault(__webpack_require__(30));var _reactNativeElements=__webpack_require__(46);var _reactRedux=__webpack_require__(37);var _redux=__webpack_require__(29);var _NavigationService=_interopRequireDefault(__webpack_require__(32));var _Actions=_interopRequireDefault(__webpack_require__(38));var _Selectors=__webpack_require__(40);var _Components=__webpack_require__(44);var _AuthStyle=_interopRequireDefault(__webpack_require__(192));var _Theme=__webpack_require__(22);function _createSuper(Derived){var hasNativeReflectConstruct=_isNativeReflectConstruct();return function _createSuperInternal(){var Super=(0,_getPrototypeOf2.default)(Derived),result;if(hasNativeReflectConstruct){var NewTarget=(0,_getPrototypeOf2.default)(this).constructor;result=Reflect.construct(Super,arguments,NewTarget);}else{result=Super.apply(this,arguments);}return(0,_possibleConstructorReturn2.default)(this,result);};}function _isNativeReflectConstruct(){if(typeof Reflect==="undefined"||!Reflect.construct)return false;if(Reflect.construct.sham)return false;if(typeof Proxy==="function")return true;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}));return true;}catch(e){return false;}}var auth;if(_Platform.default.OS==='ios'||_Platform.default.OS==='android'){auth=__webpack_require__(180).default;}else{var firebase=__webpack_require__(147).default;__webpack_require__(184).default;auth=firebase.auth;}var PanelsSorter=function PanelsSorter(userType){switch(userType){case _Selectors.UserStates.ADMIN:return"AdminPanel";case _Selectors.UserStates.OWNER:return"ConsysPanel";case _Selectors.UserStates.FREE:return"UserPanel";case _Selectors.UserStates.STARTER:return"CreateUserData";default:return"LoginUser";}};var UserLoadingScreen=function(_Component){(0,_inherits2.default)(UserLoadingScreen,_Component);var _super=_createSuper(UserLoadingScreen);function UserLoadingScreen(props){var _this;(0,_classCallCheck2.default)(this,UserLoadingScreen);_this=_super.call(this,props);_this.state={ISLOADPAGE:true,FocusSubscription:null};return _this;}(0,_createClass2.default)(UserLoadingScreen,[{key:"getData",value:function getData(){}},{key:"checkData",value:function checkData(props){var firebaseData=this.props.firebase;if(!firebaseData){this.props.setFirebaseError("Internal rootdata Error");_NavigationService.default.navigate('MainStack');return;}var page="LoginUser";var firebaseUser=firebaseData.firebaseUser;if(firebaseUser&&Object.keys(firebaseUser).length>1){if(firebaseUser.state===_Selectors.UserStates.STARTER&&!firebaseUser.emailVerified){var User=auth().currentUser;if(!User.emailVerified){page="VerifyScreen";}else{page=PanelsSorter(firebaseUser.state);}}else{page=PanelsSorter(firebaseUser.state);}}_NavigationService.default.navigate(page);}},{key:"componentDidUpdate",value:function componentDidUpdate(prevProps,prevState){if(this.props!==prevProps){if(this.props.firebase.firebaseUser!=prevProps.firebase.firebaseUser){var now=this.props.firebase.firebaseUser;var prev=prevProps.firebase.firebaseUser;if(!now||now.uid!==prev.uid||now.state!==prev.state&&prev.state!==_Selectors.UserStates.STARTER||now.emailVerified!=prev.emailVerified){console.log("UserLoading");this.checkData(this.props);}}}}},{key:"componentDidMount",value:function componentDidMount(){var _this2=this;this.props.setFirebaseError(null);this.props.getUser(null);this.checkData(this.props);this.getData();var FocusSubscription=this.props.navigation.addListener('willFocus',function(payload){_this2.props.setViewLoading(false);_this2.props.setViewError(null);});this.setState({FocusSubscription:FocusSubscription});}},{key:"componentWillUnmount",value:function componentWillUnmount(){if(this.state.FocusSubscription){this.state.FocusSubscription.remove();}}},{key:"render",value:function render(){var IsLoading=this.props.firebase.firebaseIsLoading;var ISLOADPAGE=this.state.ISLOADPAGE;return _react.default.createElement(_View.default,{style:[_Theme.Helpers.mainContainer]},!ISLOADPAGE?_react.default.createElement(_View.default,{style:[_Theme.Helpers.contentContainer,_Theme.Helpers.fullSize,_Theme.Helpers.fillColMain]},_react.default.createElement(_Text.default,{style:_Theme.ApplicationStyles.text},"This page contains an error."),_react.default.createElement(_Text.default,{style:_Theme.ApplicationStyles.text},"If you are going back, please press back again.")):_react.default.createElement(_View.default,{style:[_Theme.Helpers.fillRowCenter,_Theme.Helpers.center,_Theme.Helpers.logoContainer]},_react.default.createElement(_Image.default,{style:_Theme.Helpers.fullSize,source:_Theme.Images.Hexa_icon,resizeMode:'contain'})),(IsLoading||ISLOADPAGE)&&_react.default.createElement(_ActivityIndicator.default,{style:_Theme.Helpers.loadingContainer,size:"large"}));}}]);return UserLoadingScreen;}(_react.Component);var mapStateToProps=function mapStateToProps(state){var firebase=state.firebase;return{firebase:firebase};};var mapDispatchToProps=function mapDispatchToProps(dispatch){return{setFirebaseError:function setFirebaseError(error){return dispatch(_Actions.default.setFirebaseError(error));},setViewLoading:function setViewLoading(state){return dispatch(_Actions.default.viewIsLoading(state));},setViewError:function setViewError(error){return dispatch(_Actions.default.setViewError(error));},clearDataMem:function clearDataMem(){return dispatch(_Actions.default.actionStarting(_Selectors.Actions.CLEAR,_Selectors.DataRefs.USERSDATA));},getUser:function getUser(UserId){return dispatch(_Actions.default.actionStarting(_Selectors.Actions.FETCH,_Selectors.DataRefs.USERSDATA,{UserId:UserId}));}};};var _default=(0,_reactRedux.connect)(mapStateToProps,mapDispatchToProps)(UserLoadingScreen);exports.default=_default;

/***/ }),

/***/ 1006:
/***/ (function(module, exports, __webpack_require__) {

var _interopRequireWildcard=__webpack_require__(7);var _interopRequireDefault=__webpack_require__(2);Object.defineProperty(exports,"__esModule",{value:true});exports.default=void 0;var _classCallCheck2=_interopRequireDefault(__webpack_require__(9));var _createClass2=_interopRequireDefault(__webpack_require__(10));var _inherits2=_interopRequireDefault(__webpack_require__(15));var _possibleConstructorReturn2=_interopRequireDefault(__webpack_require__(16));var _getPrototypeOf2=_interopRequireDefault(__webpack_require__(14));var _react=_interopRequireWildcard(__webpack_require__(1));var _Text=_interopRequireDefault(__webpack_require__(21));var _View=_interopRequireDefault(__webpack_require__(8));var _ActivityIndicator=_interopRequireDefault(__webpack_require__(30));var _Image=_interopRequireDefault(__webpack_require__(33));var _reactNativeElements=__webpack_require__(46);var _reactRedux=__webpack_require__(37);var _redux=__webpack_require__(29);var _NavigationService=_interopRequireDefault(__webpack_require__(32));var _Actions=_interopRequireDefault(__webpack_require__(38));var _Selectors=__webpack_require__(40);var _Components=__webpack_require__(44);var _AuthStyle=_interopRequireDefault(__webpack_require__(192));var _Theme=__webpack_require__(22);function _createSuper(Derived){var hasNativeReflectConstruct=_isNativeReflectConstruct();return function _createSuperInternal(){var Super=(0,_getPrototypeOf2.default)(Derived),result;if(hasNativeReflectConstruct){var NewTarget=(0,_getPrototypeOf2.default)(this).constructor;result=Reflect.construct(Super,arguments,NewTarget);}else{result=Super.apply(this,arguments);}return(0,_possibleConstructorReturn2.default)(this,result);};}function _isNativeReflectConstruct(){if(typeof Reflect==="undefined"||!Reflect.construct)return false;if(Reflect.construct.sham)return false;if(typeof Proxy==="function")return true;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}));return true;}catch(e){return false;}}var UserLoginScreen=function(_Component){(0,_inherits2.default)(UserLoginScreen,_Component);var _super=_createSuper(UserLoginScreen);function UserLoginScreen(props){var _this;(0,_classCallCheck2.default)(this,UserLoginScreen);_this=_super.call(this,props);_this.state={Email:"",Pass:"",CreateUser:false};return _this;}(0,_createClass2.default)(UserLoginScreen,[{key:"getData",value:function getData(){}},{key:"checkData",value:function checkData(props){}},{key:"componentDidMount",value:function componentDidMount(){this.props.setViewLoading(false);this.props.setViewError(null);this.checkData(this.props);this.getData();}},{key:"componentDidUpdate",value:function componentDidUpdate(prevProps,prevState){if(this.props!==prevProps){this.checkData(this.props);if(this.props.firebase.viewError!=prevProps.firebase.viewError){this.forceUpdate();}}}},{key:"render",value:function render(){var _this2=this;var IsLoading=this.props.firebase.firebaseIsLoading;var ErrorMessage=this.props.firebase.viewError;return _react.default.createElement(_View.default,{style:[_Theme.Helpers.mainContainer]},_react.default.createElement(_View.default,{style:[_Theme.Helpers.contentContainer,_Theme.Helpers.fullSize,_Theme.Helpers.fillColMain]},ErrorMessage?_react.default.createElement(_Text.default,{style:_Theme.ApplicationStyles.error},ErrorMessage):_react.default.createElement(_react.default.Fragment,null),!this.state.CreateUser?_react.default.createElement(_View.default,{style:[_Theme.Helpers.contentContainer,_Theme.Helpers.fullSize,_Theme.Helpers.fillColMain]},_react.default.createElement(_View.default,{style:[_Theme.Helpers.borderContainer,_Theme.Helpers.midWidth,{marginBottom:20}]},_react.default.createElement(_reactNativeElements.Input,{label:"Username",style:_Theme.ApplicationStyles.input,onChangeText:function onChangeText(text){_this2.setState({Email:text});},value:this.state.Email}),_react.default.createElement(_reactNativeElements.Input,{label:"Password",style:_Theme.ApplicationStyles.input,onChangeText:function onChangeText(text){_this2.setState({Pass:text});},value:this.state.Pass,secureTextEntry:true}),_react.default.createElement(_Components.Button,{Text:"Login",icon:_Theme.Images.User,onPress:function onPress(){if(!_this2.state.Email||_this2.state.Email==="")_this2.props.setViewError("Email is needed");else if(_this2.state.Email==="CLEAR")_this2.props.clearDataMem();else if(!_this2.state.Pass||_this2.state.Pass==="")_this2.props.setViewError("Password is needed");else{_this2.props.setViewLoading(true);_this2.props.signIN(_this2.state.Email,_this2.state.Pass);}}})),_react.default.createElement(_View.default,{style:[_Theme.Helpers.buttonContainer,_Theme.Helpers.midWidth]},_react.default.createElement(_Components.Button,{Text:"Send reset password",onPress:function onPress(){_this2.props.setViewError(null);if(_this2.state.Email){_this2.props.setViewLoading(true);_this2.props.resetPass(_this2.state.Email);}else{_this2.props.setViewError("Please provide an Email");}}}),_react.default.createElement(_Components.Button,{Text:"Create New User",onPress:function onPress(){_this2.props.setViewError(null);_this2.setState({Email:"",Pass:"",CreateUser:true});}}))):_react.default.createElement(_View.default,{style:[_Theme.Helpers.contentContainer,_Theme.Helpers.fullSize,_Theme.Helpers.fillColMain]},_react.default.createElement(_View.default,{style:[_Theme.Helpers.borderContainer,_Theme.Helpers.midWidth,{marginBottom:20}]},_react.default.createElement(_reactNativeElements.Input,{label:"Email",style:_Theme.ApplicationStyles.input,onChangeText:function onChangeText(text){_this2.setState({Email:text});},value:this.state.Email}),_react.default.createElement(_reactNativeElements.Input,{label:"Password",style:_Theme.ApplicationStyles.input,onChangeText:function onChangeText(text){_this2.setState({Pass:text});},value:this.state.Pass,secureTextEntry:true})),_react.default.createElement(_View.default,{style:[_Theme.Helpers.buttonContainer,_Theme.Helpers.midWidth]},_react.default.createElement(_Components.Button,{Text:"Create User",onPress:function onPress(){if(!_this2.state.Email||_this2.state.Email==="")_this2.props.setFirebaseError("Email is needed");else if(!_this2.state.Pass||_this2.state.Pass==="")_this2.props.setFirebaseError("Password is needed");else{_this2.props.setViewLoading(true);_this2.props.createUser(_this2.state.Email,_this2.state.Pass);}}}))),(IsLoading||this.props.firebase.viewIsLoading)&&_react.default.createElement(_ActivityIndicator.default,{style:_Theme.Helpers.loadingContainer,size:"large"})));}}]);return UserLoginScreen;}(_react.Component);var mapStateToProps=function mapStateToProps(state){var firebase=state.firebase;return{firebase:firebase};};var mapDispatchToProps=function mapDispatchToProps(dispatch){return{setViewLoading:function setViewLoading(state){return dispatch(_Actions.default.viewIsLoading(state));},setViewError:function setViewError(error){return dispatch(_Actions.default.setViewError(error));},clearDataMem:function clearDataMem(){return dispatch(_Actions.default.actionStarting(_Selectors.Actions.CLEAR,_Selectors.DataRefs.USERSDATA));},signIN:function signIN(Email,Pass){return dispatch(_Actions.default.actionStarting(_Selectors.Actions.SIGN,_Selectors.DataRefs.USERSDATA,{Email:Email,Pass:Pass}));},resetPass:function resetPass(Email){return dispatch(_Actions.default.actionStarting(_Selectors.Actions.CREATE,_Selectors.DataRefs.USERS,{Email:Email}));},createUser:function createUser(Email,Pass){return dispatch(_Actions.default.actionStarting(_Selectors.Actions.CREATE,_Selectors.DataRefs.USERS,{Email:Email,Pass:Pass}));}};};var _default=(0,_reactRedux.connect)(mapStateToProps,mapDispatchToProps)(UserLoginScreen);exports.default=_default;

/***/ }),

/***/ 1007:
/***/ (function(module, exports, __webpack_require__) {

var _interopRequireWildcard=__webpack_require__(7);var _interopRequireDefault=__webpack_require__(2);Object.defineProperty(exports,"__esModule",{value:true});exports.default=void 0;var _classCallCheck2=_interopRequireDefault(__webpack_require__(9));var _createClass2=_interopRequireDefault(__webpack_require__(10));var _inherits2=_interopRequireDefault(__webpack_require__(15));var _possibleConstructorReturn2=_interopRequireDefault(__webpack_require__(16));var _getPrototypeOf2=_interopRequireDefault(__webpack_require__(14));var _react=_interopRequireWildcard(__webpack_require__(1));var _Text=_interopRequireDefault(__webpack_require__(21));var _View=_interopRequireDefault(__webpack_require__(8));var _ActivityIndicator=_interopRequireDefault(__webpack_require__(30));var _Platform=_interopRequireDefault(__webpack_require__(18));var _reactRedux=__webpack_require__(37);var _redux=__webpack_require__(29);var _NavigationService=_interopRequireDefault(__webpack_require__(32));var _Actions=_interopRequireDefault(__webpack_require__(38));var _Selectors=__webpack_require__(40);var _Components=__webpack_require__(44);var _AuthStyle=_interopRequireDefault(__webpack_require__(192));var _Theme=__webpack_require__(22);function _createSuper(Derived){var hasNativeReflectConstruct=_isNativeReflectConstruct();return function _createSuperInternal(){var Super=(0,_getPrototypeOf2.default)(Derived),result;if(hasNativeReflectConstruct){var NewTarget=(0,_getPrototypeOf2.default)(this).constructor;result=Reflect.construct(Super,arguments,NewTarget);}else{result=Super.apply(this,arguments);}return(0,_possibleConstructorReturn2.default)(this,result);};}function _isNativeReflectConstruct(){if(typeof Reflect==="undefined"||!Reflect.construct)return false;if(Reflect.construct.sham)return false;if(typeof Proxy==="function")return true;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}));return true;}catch(e){return false;}}var auth;if(_Platform.default.OS==='ios'||_Platform.default.OS==='android'){auth=__webpack_require__(180).default;}else{var firebase=__webpack_require__(147).default;__webpack_require__(184).default;auth=firebase.auth;}var VerifyScreen=function(_Component){(0,_inherits2.default)(VerifyScreen,_Component);var _super=_createSuper(VerifyScreen);function VerifyScreen(props){var _this;(0,_classCallCheck2.default)(this,VerifyScreen);_this=_super.call(this,props);_this.state={};return _this;}(0,_createClass2.default)(VerifyScreen,[{key:"setData",value:function setData(Props){}},{key:"getData",value:function getData(){}},{key:"checkData",value:function checkData(props){var _this2=this;if(props.firebase&&props.firebase.firebaseUser){var User=auth().currentUser;if(User&&!props.firebase.firebaseUser.emailVerified&&!props.firebase.viewIsLoading){User.reload().then(function(data){if(User.emailVerified){_this2.props.setViewLoading(true);_this2.props.setUser(User.emailVerified);console.log("Verified");_NavigationService.default.navigate("AuthStack");}});}if(props.firebase.firebaseUser.emailVerified)_NavigationService.default.navigate("AuthStack");}}},{key:"componentDidUpdate",value:function componentDidUpdate(prevProps,prevState){if(this.props!==prevProps){this.checkData(this.props);}}},{key:"componentDidMount",value:function componentDidMount(){this.props.setViewLoading(false);this.props.setViewError(null);this.checkData(this.props);this.getData();}},{key:"componentWillUnmount",value:function componentWillUnmount(){}},{key:"render",value:function render(){var _this3=this;var IsLoading=this.props.firebase.firebaseIsLoading;var firebaseUser=this.props.firebase.firebaseUser;var ErrorMessage=this.props.firebase.viewError;return _react.default.createElement(_View.default,{style:[_Theme.Helpers.mainContainer]},_react.default.createElement(_View.default,{style:[_Theme.Helpers.contentContainer,_Theme.Helpers.fullSize,_Theme.Helpers.fillColMain]},ErrorMessage?_react.default.createElement(_Text.default,{style:_Theme.ApplicationStyles.error},ErrorMessage):_react.default.createElement(_react.default.Fragment,null),_react.default.createElement(_View.default,null,_react.default.createElement(_Text.default,null,"Please verify your account by accepting the email, sent to your current account"),_react.default.createElement(_Text.default,null,"This page will not refresh itself..."),_react.default.createElement(_Components.Button,{Text:"Resend verification",onPress:function onPress(){console.log("send",firebaseUser,_this3.state.User);if(firebaseUser&&_this3.state.User){_this3.state.User.sendEmailVerification();}}}),_react.default.createElement(_Components.Button,{Text:"Refresh",onPress:function onPress(){_this3.checkData(_this3.props,_this3.state);}}))),(IsLoading||this.props.firebase.viewIsLoading)&&_react.default.createElement(_ActivityIndicator.default,{style:_Theme.Helpers.loadingContainer,size:"large"}));}}]);return VerifyScreen;}(_react.Component);var mapStateToProps=function mapStateToProps(state){var firebase=state.firebase;return{firebase:firebase};};var mapDispatchToProps=function mapDispatchToProps(dispatch){return{setViewLoading:function setViewLoading(state){return dispatch(_Actions.default.viewIsLoading(state));},setViewError:function setViewError(error){return dispatch(_Actions.default.setViewError(error));},setFirebaseError:function setFirebaseError(error){return dispatch(_Actions.default.setFirebaseError(error));},setUser:function setUser(Verified){return dispatch(_Actions.default.actionStarting(_Selectors.Actions.UPDATE,_Selectors.DataRefs.USERS,{emailVerified:Verified}));}};};var _default=(0,_reactRedux.connect)(mapStateToProps,mapDispatchToProps)(VerifyScreen);exports.default=_default;

/***/ }),

/***/ 1008:
/***/ (function(module, exports, __webpack_require__) {

var _interopRequireWildcard=__webpack_require__(7);var _interopRequireDefault=__webpack_require__(2);Object.defineProperty(exports,"__esModule",{value:true});exports.default=void 0;var _classCallCheck2=_interopRequireDefault(__webpack_require__(9));var _createClass2=_interopRequireDefault(__webpack_require__(10));var _inherits2=_interopRequireDefault(__webpack_require__(15));var _possibleConstructorReturn2=_interopRequireDefault(__webpack_require__(16));var _getPrototypeOf2=_interopRequireDefault(__webpack_require__(14));var _react=_interopRequireWildcard(__webpack_require__(1));var _Platform=_interopRequireDefault(__webpack_require__(18));var _Text=_interopRequireDefault(__webpack_require__(21));var _View=_interopRequireDefault(__webpack_require__(8));var _ScrollView=_interopRequireDefault(__webpack_require__(39));var _ActivityIndicator=_interopRequireDefault(__webpack_require__(30));var _reactNativeElements=__webpack_require__(46);var _reactRedux=__webpack_require__(37);var _redux=__webpack_require__(29);var _NavigationService=_interopRequireDefault(__webpack_require__(32));var _Actions=_interopRequireDefault(__webpack_require__(38));var _Selectors=__webpack_require__(40);var _Components=__webpack_require__(44);var _AuthStyle=_interopRequireDefault(__webpack_require__(192));var _Theme=__webpack_require__(22);var _UserInformation=_interopRequireDefault(__webpack_require__(1009));var _Subscription=_interopRequireDefault(__webpack_require__(1010));var _FarmInformation=_interopRequireDefault(__webpack_require__(1011));function _createSuper(Derived){var hasNativeReflectConstruct=_isNativeReflectConstruct();return function _createSuperInternal(){var Super=(0,_getPrototypeOf2.default)(Derived),result;if(hasNativeReflectConstruct){var NewTarget=(0,_getPrototypeOf2.default)(this).constructor;result=Reflect.construct(Super,arguments,NewTarget);}else{result=Super.apply(this,arguments);}return(0,_possibleConstructorReturn2.default)(this,result);};}function _isNativeReflectConstruct(){if(typeof Reflect==="undefined"||!Reflect.construct)return false;if(Reflect.construct.sham)return false;if(typeof Proxy==="function")return true;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}));return true;}catch(e){return false;}}var CreateNewUserData=function(_Component){(0,_inherits2.default)(CreateNewUserData,_Component);var _super=_createSuper(CreateNewUserData);function CreateNewUserData(props){var _this;(0,_classCallCheck2.default)(this,CreateNewUserData);_this=_super.call(this,props);_this.state={ViewState:1};return _this;}(0,_createClass2.default)(CreateNewUserData,[{key:"getData",value:function getData(){}},{key:"checkData",value:function checkData(props){}},{key:"componentDidMount",value:function componentDidMount(){this.props.setViewLoading(false);this.checkData(this.props);this.getData();}},{key:"componentDidUpdate",value:function componentDidUpdate(prevProps,prevState){if(this.props!==prevProps){this.checkData(this.props);if(this.props.firebase.firebaseUser!==prevProps.firebase.firebaseUser){if(prevProps.firebase.firebaseUser.state!==_Selectors.UserStates.STARTER&&this.state.ViewState!==3){_NavigationService.default.nacigationPop();}}}}},{key:"render",value:function render(){var _this2=this;var IsLoading=this.props.firebase.firebaseIsLoading;var Display=[];if(this.state.ViewState===1){Display=[_react.default.createElement(_UserInformation.default,{key:"View1",OnDone:function OnDone(res){if(res){_this2.setState({ViewState:2},_this2.forceUpdate());}else{_NavigationService.default.nacigationPop();}}})];}else if(this.state.ViewState===2){Display=[_react.default.createElement(_Subscription.default,{key:"View2",OnDone:function OnDone(res){if(res&&res!=""){var FarmName="Not set";if(_this2.props.firebase.firebaseUser.lastN)FarmName=_this2.props.firebase.firebaseUser.lastN;_this2.props.precreateUserData(res,FarmName);_this2.setState({ViewState:3},_this2.forceUpdate());}else{_NavigationService.default.nacigationPop();}}})];}else if(this.state.ViewState===3){Display=[_react.default.createElement(_FarmInformation.default,{key:"View3",OnDone:function OnDone(res){if(res&&res!=""){_this2.props.clearDataMem();_NavigationService.default.navigateAndReset('AuthStack');}}})];}else{this.props.clearDataMem();_NavigationService.default.navigateAndReset('AuthStack');}return _react.default.createElement(_View.default,null,Display);}}]);return CreateNewUserData;}(_react.Component);var mapStateToProps=function mapStateToProps(state){var firebase=state.firebase;return{firebase:firebase};};var mapDispatchToProps=function mapDispatchToProps(dispatch){return{setViewLoading:function setViewLoading(state){return dispatch(_Actions.default.viewIsLoading(state));},clearDataMem:function clearDataMem(){return dispatch(_Actions.default.actionStarting(_Selectors.Actions.CLEAR,_Selectors.DataRefs.USERSDATA));},updateUser:function updateUser(Data){return dispatch(_Actions.default.actionStarting(_Selectors.Actions.UPDATE,_Selectors.DataRefs.USERSDATA,{Data:Data}));},precreateUserData:function precreateUserData(Subsc,FarmName){return dispatch(_Actions.default.actionStarting(_Selectors.Actions.CREATE,_Selectors.DataRefs.USERSDATA,{UserData:{state:Subsc},Farms:{name:FarmName},Sections:{},Pens:{}}));}};};var _default=(0,_reactRedux.connect)(mapStateToProps,mapDispatchToProps)(CreateNewUserData);exports.default=_default;

/***/ }),

/***/ 1009:
/***/ (function(module, exports, __webpack_require__) {

var _interopRequireWildcard=__webpack_require__(7);var _interopRequireDefault=__webpack_require__(2);Object.defineProperty(exports,"__esModule",{value:true});exports.default=void 0;var _classCallCheck2=_interopRequireDefault(__webpack_require__(9));var _createClass2=_interopRequireDefault(__webpack_require__(10));var _inherits2=_interopRequireDefault(__webpack_require__(15));var _possibleConstructorReturn2=_interopRequireDefault(__webpack_require__(16));var _getPrototypeOf2=_interopRequireDefault(__webpack_require__(14));var _react=_interopRequireWildcard(__webpack_require__(1));var _Platform=_interopRequireDefault(__webpack_require__(18));var _Text=_interopRequireDefault(__webpack_require__(21));var _View=_interopRequireDefault(__webpack_require__(8));var _ScrollView=_interopRequireDefault(__webpack_require__(39));var _ActivityIndicator=_interopRequireDefault(__webpack_require__(30));var _reactNativeElements=__webpack_require__(46);var _reactRedux=__webpack_require__(37);var _redux=__webpack_require__(29);var _NavigationService=_interopRequireDefault(__webpack_require__(32));var _Actions=_interopRequireDefault(__webpack_require__(38));var _Selectors=__webpack_require__(40);var _Components=__webpack_require__(44);var _UserPanelStyle=_interopRequireDefault(__webpack_require__(80));var _Theme=__webpack_require__(22);function _createSuper(Derived){var hasNativeReflectConstruct=_isNativeReflectConstruct();return function _createSuperInternal(){var Super=(0,_getPrototypeOf2.default)(Derived),result;if(hasNativeReflectConstruct){var NewTarget=(0,_getPrototypeOf2.default)(this).constructor;result=Reflect.construct(Super,arguments,NewTarget);}else{result=Super.apply(this,arguments);}return(0,_possibleConstructorReturn2.default)(this,result);};}function _isNativeReflectConstruct(){if(typeof Reflect==="undefined"||!Reflect.construct)return false;if(Reflect.construct.sham)return false;if(typeof Proxy==="function")return true;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}));return true;}catch(e){return false;}}var UserInformation=function(_Component){(0,_inherits2.default)(UserInformation,_Component);var _super=_createSuper(UserInformation);function UserInformation(props){var _this;(0,_classCallCheck2.default)(this,UserInformation);_this=_super.call(this,props);var _this$setData=_this.setData(props),FirstN=_this$setData.FirstN,LastN=_this$setData.LastN,Contact=_this$setData.Contact,ContactP=_this$setData.ContactP,Address=_this$setData.Address;_this.state={FirstN:FirstN,LastN:LastN,Contact:Contact,ContactP:ContactP,Address:Address,Country:""};return _this;}(0,_createClass2.default)(UserInformation,[{key:"setData",value:function setData(Props){var FirstN="";var LastN="";var Contact="";var ContactP="";var Address="";var firebaseData=this.props.firebase;if(firebaseData){var firebaseUser=firebaseData.firebaseUser;if(firebaseUser){if(firebaseUser.name&&(0,_Selectors.DataStringCheck)(firebaseUser.name)){FirstN=firebaseUser.name;}if(firebaseUser.lastN){LastN=firebaseUser.lastN;}if(firebaseUser.contact){Contact=firebaseUser.contact;}if(firebaseUser.phoneNumber){ContactP=firebaseUser.phoneNumber;}if(firebaseUser.address){Address=firebaseUser.address;}}}return{FirstN:FirstN,LastN:LastN,Contact:Contact,ContactP:ContactP,Address:Address};}},{key:"getData",value:function getData(){}},{key:"checkData",value:function checkData(props){}},{key:"componentDidMount",value:function componentDidMount(){this.props.setViewLoading(false);this.props.setViewError(null);this.props.getUser(null);this.checkData(this.props);this.getData();}},{key:"componentDidUpdate",value:function componentDidUpdate(prevProps,prevState){if(this.props!==prevProps){this.checkData(this.props);if(this.props.firebase.firebaseUser){if(this.props.firebase.firebaseUser.name!=this.state.FirstN&&this.state.FirstN===""||this.props.firebase.firebaseUser.lastN!=this.state.lastN&&this.state.lastN===""||this.props.firebase.firebaseUser.contact!=this.state.Contact&&this.state.Contact===""||this.props.firebase.firebaseUser.address!=this.state.Address&&this.state.Address===""){var _this$setData2=this.setData(this.props),FirstN=_this$setData2.FirstN,LastN=_this$setData2.LastN,Contact=_this$setData2.Contact,ContactP=_this$setData2.ContactP,Address=_this$setData2.Address;this.setState({FirstN:FirstN,LastN:LastN,Contact:Contact,ContactP:ContactP,Address:Address});}}}}},{key:"render",value:function render(){var _this2=this;var IsLoading=this.props.firebase.firebaseIsLoading;var ErrorMessage=this.props.firebase.viewError;var F_FirstN=_react.default.createRef();var F_LastN=_react.default.createRef();var F_Contact=_react.default.createRef();var F_ContactP=_react.default.createRef();var F_Address=_react.default.createRef();return _react.default.createElement(_ScrollView.default,{style:[_Theme.Metrics.verticalMargin,{paddingRight:5}]},_react.default.createElement(_View.default,{style:[_Theme.Helpers.mainContainer]},_react.default.createElement(_View.default,{style:[_Theme.Helpers.contentContainer,_Theme.Helpers.fullSize,_Theme.Helpers.fillColMain]},ErrorMessage&&(!ErrorMessage.type||ErrorMessage.type===_Selectors.ErrorTypes.SYSTEM)?_react.default.createElement(_Text.default,{style:_Theme.ApplicationStyles.error},ErrorMessage.message?ErrorMessage.message:ErrorMessage):_react.default.createElement(_react.default.Fragment,null),_react.default.createElement(_Components.TitleElement,{Text:"User Informations"}),_react.default.createElement(_View.default,{style:[_Theme.Helpers.borderContainer,_Theme.Helpers.midWidth,{marginBottom:20}]},_react.default.createElement(_reactNativeElements.Input,{ref:F_FirstN,label:"First Name",style:_Theme.ApplicationStyles.input,onChangeText:function onChangeText(text){if(text){if((0,_Selectors.DataStringCheck)(text)){_this2.setState({FirstN:text});}}else{_this2.setState({FirstN:text});}},value:this.state.FirstN}),_react.default.createElement(_reactNativeElements.Input,{ref:F_LastN,label:"Last Name",style:_Theme.ApplicationStyles.input,onChangeText:function onChangeText(text){if(text){if((0,_Selectors.DataStringCheck)(text)){_this2.setState({LastN:text});}}else{_this2.setState({LastN:text});}},value:this.state.LastN}),_react.default.createElement(_reactNativeElements.Input,{ref:F_Contact,label:"Contact Email",style:_Theme.ApplicationStyles.input,onChangeText:function onChangeText(text){if(text){var test=text;test=test.replace('@','a');test=test.replace('.','d');if((0,_Selectors.DataStringCheck)(test)){_this2.setState({Contact:text});}}else{_this2.setState({Contact:text});}},value:this.state.Contact}),_react.default.createElement(_reactNativeElements.Input,{ref:F_ContactP,label:"Contact Phone",style:_Theme.ApplicationStyles.input,onChangeText:function onChangeText(text){if(text){if((0,_Selectors.DataStringCheck)(text,false)){_this2.setState({ContactP:text});}}else{_this2.setState({ContactP:text});}},value:this.state.ContactP}),_react.default.createElement(_reactNativeElements.Input,{ref:F_Address,label:"Address",style:_Theme.ApplicationStyles.input,onChangeText:function onChangeText(text){if(text){if((0,_Selectors.DataStringCheck)(text)){_this2.setState({Address:text});}}else{_this2.setState({Address:text});}},value:this.state.Address}),_react.default.createElement(_reactNativeElements.Input,{label:"Country",style:_Theme.ApplicationStyles.input,onChangeText:function onChangeText(text){if(text){if((0,_Selectors.DataStringCheck)(text)){_this2.setState({Country:text});}}else{_this2.setState({Country:text});}},value:this.state.Country})),_react.default.createElement(_View.default,{style:[_Theme.Helpers.buttonContainer,_Theme.Helpers.midWidth]},_react.default.createElement(_Components.Button,{Text:"Save User information",onPress:function onPress(){var _UserData={};if(!_this2.state.FirstN||_this2.state.FirstN===""){_this2.props.setViewError("First name is needed");}else if(!(0,_Selectors.DataStringCheck)(_this2.state.FirstN)){_this2.props.setViewError("First name contains invalid characters");}else if(!_this2.state.LastN||_this2.state.LastN===""){_this2.props.setViewError("Last name is needed");}else if(!(0,_Selectors.DataStringCheck)(_this2.state.LastN)){_this2.props.setViewError("Last name contains invalid characters");}else{_UserData={name:_this2.state.FirstN,lastN:_this2.state.LastN};if(_this2.state.Contact!=="")_UserData.contact=_this2.state.Contact;if(_this2.state.ContactP!=="")_UserData.phone=_this2.state.ContactP;if(_this2.state.Address!=="")_UserData.address=_this2.state.Address;if(_this2.state.Country!=="")_UserData.country=_this2.state.Country;_this2.props.setViewLoading(true);_this2.props.updateUser(_UserData);if(_this2.props.OnDone){_this2.props.OnDone(true);}}}}))),(IsLoading||this.props.firebase.viewIsLoading)&&_react.default.createElement(_ActivityIndicator.default,{style:_Theme.Helpers.loadingContainer,size:"large"})));}}]);return UserInformation;}(_react.Component);var mapStateToProps=function mapStateToProps(state){var firebase=state.firebase;return{firebase:firebase};};var mapDispatchToProps=function mapDispatchToProps(dispatch){return{setViewLoading:function setViewLoading(state){return dispatch(_Actions.default.viewIsLoading(state));},setViewError:function setViewError(error){return dispatch(_Actions.default.setViewError(error));},getUser:function getUser(UserId){return dispatch(_Actions.default.actionStarting(_Selectors.Actions.FETCH,_Selectors.DataRefs.USERSDATA,{UserId:UserId}));},updateUser:function updateUser(Data){return dispatch(_Actions.default.actionStarting(_Selectors.Actions.UPDATE,_Selectors.DataRefs.USERSDATA,{Data:Data}));}};};var _default=(0,_reactRedux.connect)(mapStateToProps,mapDispatchToProps)(UserInformation);exports.default=_default;

/***/ }),

/***/ 1010:
/***/ (function(module, exports, __webpack_require__) {

var _interopRequireWildcard=__webpack_require__(7);var _interopRequireDefault=__webpack_require__(2);Object.defineProperty(exports,"__esModule",{value:true});exports.default=void 0;var _classCallCheck2=_interopRequireDefault(__webpack_require__(9));var _createClass2=_interopRequireDefault(__webpack_require__(10));var _assertThisInitialized2=_interopRequireDefault(__webpack_require__(26));var _inherits2=_interopRequireDefault(__webpack_require__(15));var _possibleConstructorReturn2=_interopRequireDefault(__webpack_require__(16));var _getPrototypeOf2=_interopRequireDefault(__webpack_require__(14));var _defineProperty2=_interopRequireDefault(__webpack_require__(11));var _react=_interopRequireWildcard(__webpack_require__(1));var _Platform=_interopRequireDefault(__webpack_require__(18));var _Dimensions=_interopRequireDefault(__webpack_require__(49));var _Text=_interopRequireDefault(__webpack_require__(21));var _CheckBox=_interopRequireDefault(__webpack_require__(408));var _View=_interopRequireDefault(__webpack_require__(8));var _ScrollView=_interopRequireDefault(__webpack_require__(39));var _ActivityIndicator=_interopRequireDefault(__webpack_require__(30));var _TouchableOpacity=_interopRequireDefault(__webpack_require__(41));var _reactNativeElements=__webpack_require__(46);var _reactRedux=__webpack_require__(37);var _redux=__webpack_require__(29);var _NavigationService=_interopRequireDefault(__webpack_require__(32));var _Actions=_interopRequireDefault(__webpack_require__(38));var _Selectors=__webpack_require__(40);var _Components=__webpack_require__(44);var _UserPanelStyle=_interopRequireDefault(__webpack_require__(80));var _Theme=__webpack_require__(22);function _createSuper(Derived){var hasNativeReflectConstruct=_isNativeReflectConstruct();return function _createSuperInternal(){var Super=(0,_getPrototypeOf2.default)(Derived),result;if(hasNativeReflectConstruct){var NewTarget=(0,_getPrototypeOf2.default)(this).constructor;result=Reflect.construct(Super,arguments,NewTarget);}else{result=Super.apply(this,arguments);}return(0,_possibleConstructorReturn2.default)(this,result);};}function _isNativeReflectConstruct(){if(typeof Reflect==="undefined"||!Reflect.construct)return false;if(Reflect.construct.sham)return false;if(typeof Proxy==="function")return true;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}));return true;}catch(e){return false;}}var window=_Dimensions.default.get("window");var screen=_Dimensions.default.get("screen");var Subscription=function(_Component){(0,_inherits2.default)(Subscription,_Component);var _super=_createSuper(Subscription);function Subscription(props){var _this;(0,_classCallCheck2.default)(this,Subscription);_this=_super.call(this,props);(0,_defineProperty2.default)((0,_assertThisInitialized2.default)(_this),"onChange",function(_ref){var window=_ref.window,screen=_ref.screen;_this.setState({dimensions:{window:window,screen:screen}});});var _this$setData=_this.setData(props),CurrentSub=_this$setData.CurrentSub;_this.state={dimensions:{window:window,screen:screen},CurrentSub:CurrentSub,Billing:0};return _this;}(0,_createClass2.default)(Subscription,[{key:"setData",value:function setData(Props){var CurrentSub="";var firebaseData=this.props.firebase;if(firebaseData){var firebaseUser=firebaseData.firebaseUser;if(firebaseUser){if(firebaseUser.state&&firebaseUser.state!=_Selectors.UserStates.STARTER){CurrentSub=firebaseUser.state;}}}return{CurrentSub:CurrentSub};}},{key:"getData",value:function getData(){}},{key:"checkData",value:function checkData(props){}},{key:"componentDidMount",value:function componentDidMount(){_Dimensions.default.addEventListener("change",this.onChange);this.props.setViewLoading(false);this.props.setViewError(null);this.props.getUser(null);this.checkData(this.props);this.getData();}},{key:"componentWillUnmount",value:function componentWillUnmount(){_Dimensions.default.removeEventListener("change",this.onChange);}},{key:"componentDidUpdate",value:function componentDidUpdate(prevProps,prevState){if(this.props!==prevProps){this.checkData(this.props);if(this.props.firebase.firebaseUser){if(this.props.firebase.firebaseUser.state!=this.state.CurrentSub&&this.state.CurrentSub===""){var _this$setData2=this.setData(this.props),CurrentSub=_this$setData2.CurrentSub;this.setState({CurrentSub:CurrentSub});}}}}},{key:"render",value:function render(){var _this2=this;var IsLoading=this.props.firebase.firebaseIsLoading;var ErrorMessage=this.props.firebase.viewError;var wide=this.state.dimensions.window.width>900?true:false;var App=_Platform.default.OS==='ios'||_Platform.default.OS==='android'||!wide;return _react.default.createElement(_ScrollView.default,{style:[_Theme.Metrics.verticalMargin,{paddingRight:5}]},_react.default.createElement(_View.default,{style:[_Theme.Helpers.mainContainer]},_react.default.createElement(_View.default,{style:[_Theme.Helpers.contentContainer,_Theme.Helpers.fullSize,_Theme.Helpers.fillColMain]},ErrorMessage&&(!ErrorMessage.type||ErrorMessage.type===_Selectors.ErrorTypes.SYSTEM)?_react.default.createElement(_Text.default,{style:_Theme.ApplicationStyles.error},ErrorMessage.message?ErrorMessage.message:ErrorMessage):_react.default.createElement(_react.default.Fragment,null),_react.default.createElement(_Components.TitleElement,{Text:"Subscription plan"}),_react.default.createElement(_View.default,{style:[!App?_Theme.Helpers.fillRowCenter:{},{marginBottom:20}]},_react.default.createElement(_TouchableOpacity.default,{style:[_Theme.Helpers.borderContainer,{width:200,height:300},this.state.CurrentSub===_Selectors.UserStates.WORKER?{backgroundColor:_Theme.Colors.AgriGreen}:{}],onPress:function onPress(){_this2.setState({CurrentSub:_Selectors.UserStates.WORKER},_this2.forceUpdate());}},_react.default.createElement(_View.default,{style:[_Theme.Helpers.row,_Theme.Helpers.fullWidth,{alignContent:'center',alignItems:'center',justifyContent:'center',height:35}]},_react.default.createElement(_Text.default,{style:{fontWeight:"bold",fontSize:20}},"Farm Staff"),this.state.CurrentSub===_Selectors.UserStates.WORKER?_react.default.createElement(_CheckBox.default,{value:this.state.CurrentSub===_Selectors.UserStates.WORKER?true:false}):_react.default.createElement(_react.default.Fragment,null)),_react.default.createElement(_View.default,{style:[_Theme.Helpers.fill,_Theme.Helpers.borderContainer]}),_react.default.createElement(_View.default,{style:[_Theme.Helpers.borderContainer,{height:75}]},_react.default.createElement(_Text.default,{style:{fontWeight:"bold"}},"Free"),_react.default.createElement(_Text.default,null,"Access to assign as staff of an existing farm"))),_react.default.createElement(_TouchableOpacity.default,{style:[_Theme.Helpers.borderContainer,{width:200,height:300},this.state.CurrentSub===_Selectors.UserStates.FREE?{backgroundColor:_Theme.Colors.AgriGreen}:{}],onPress:function onPress(){_this2.setState({CurrentSub:_Selectors.UserStates.FREE},_this2.forceUpdate());}},_react.default.createElement(_View.default,{style:[_Theme.Helpers.row,_Theme.Helpers.fullWidth,{alignContent:'center',alignItems:'center',justifyContent:'center',height:35}]},_react.default.createElement(_Text.default,{style:{fontWeight:"bold",fontSize:20}},"Farm Owner"),this.state.CurrentSub===_Selectors.UserStates.FREE?_react.default.createElement(_CheckBox.default,{value:this.state.CurrentSub===_Selectors.UserStates.FREE?true:false}):_react.default.createElement(_react.default.Fragment,null)),_react.default.createElement(_View.default,{style:[_Theme.Helpers.fill,_Theme.Helpers.borderContainer]}),_react.default.createElement(_View.default,{style:[_Theme.Helpers.borderContainer,{height:75}]},_react.default.createElement(_Text.default,{style:{fontWeight:"bold"}},"Free"),_react.default.createElement(_Text.default,null,"Access to create and manage own farm"))),_react.default.createElement(_TouchableOpacity.default,{style:[_Theme.Helpers.borderContainer,{width:200,height:300},this.state.CurrentSub===_Selectors.UserStates.OWNER?{backgroundColor:_Theme.Colors.AgriGreen}:{}],onPress:function onPress(){_this2.setState({CurrentSub:_Selectors.UserStates.OWNER},_this2.forceUpdate());}},_react.default.createElement(_View.default,{style:[_Theme.Helpers.row,_Theme.Helpers.fullWidth,{alignContent:'center',alignItems:'center',justifyContent:'center',height:35}]},_react.default.createElement(_Text.default,{style:{fontWeight:"bold",fontSize:20}},"Farm Manager"),this.state.CurrentSub===_Selectors.UserStates.OWNER?_react.default.createElement(_CheckBox.default,{value:this.state.CurrentSub===_Selectors.UserStates.OWNER?true:false}):_react.default.createElement(_react.default.Fragment,null)),_react.default.createElement(_View.default,{style:[_Theme.Helpers.fill,_Theme.Helpers.borderContainer]}),_react.default.createElement(_View.default,{style:[_Theme.Helpers.borderContainer,{height:75}]},_react.default.createElement(_Text.default,{style:{fontWeight:"bold"}},"9999.99\u20AC"),_react.default.createElement(_Text.default,null,"Access to manage own farm, and assing staff"))),_react.default.createElement(_TouchableOpacity.default,{style:[_Theme.Helpers.borderContainer,{width:200,height:300},this.state.CurrentSub==="Contact"?{backgroundColor:_Theme.Colors.AgriGreen}:{}],onPress:function onPress(){_this2.setState({CurrentSub:"Contact"},_this2.forceUpdate());}},_react.default.createElement(_View.default,{style:[_Theme.Helpers.row,_Theme.Helpers.fullWidth,{alignContent:'center',alignItems:'center',justifyContent:'center',height:35}]},_react.default.createElement(_Text.default,{style:{fontWeight:"bold",fontSize:20}},"Get contacted"),this.state.CurrentSub==="Contact"?_react.default.createElement(_CheckBox.default,{value:this.state.CurrentSub==="Contact"?true:false}):_react.default.createElement(_react.default.Fragment,null)),_react.default.createElement(_View.default,{style:[_Theme.Helpers.fill,_Theme.Helpers.borderContainer]}),_react.default.createElement(_View.default,{style:[_Theme.Helpers.borderContainer,{height:75}]},_react.default.createElement(_Text.default,{style:{fontWeight:"bold",height:20}}),_react.default.createElement(_Text.default,null,"We will contact you, and tell more about our offers")))),_react.default.createElement(_View.default,{style:[_Theme.Helpers.buttonContainer,_Theme.Helpers.midWidth]},_react.default.createElement(_Components.Button,{Text:"Submit",onPress:function onPress(){if(!_this2.state.CurrentSub||_this2.state.CurrentSub===""){_this2.props.setViewError("Please choose a subscription type.");}else if(_this2.props.OnDone){_this2.props.OnDone(_this2.state.CurrentSub);}else{}}}))),(IsLoading||this.props.firebase.viewIsLoading)&&_react.default.createElement(_ActivityIndicator.default,{style:_Theme.Helpers.loadingContainer,size:"large"})));}}]);return Subscription;}(_react.Component);var mapStateToProps=function mapStateToProps(state){var firebase=state.firebase;return{firebase:firebase};};var mapDispatchToProps=function mapDispatchToProps(dispatch){return{setViewLoading:function setViewLoading(state){return dispatch(_Actions.default.viewIsLoading(state));},setViewError:function setViewError(error){return dispatch(_Actions.default.setViewError(error));},getUser:function getUser(UserId){return dispatch(_Actions.default.actionStarting(_Selectors.Actions.FETCH,_Selectors.DataRefs.USERSDATA,{UserId:UserId}));}};};var _default=(0,_reactRedux.connect)(mapStateToProps,mapDispatchToProps)(Subscription);exports.default=_default;

/***/ }),

/***/ 1011:
/***/ (function(module, exports, __webpack_require__) {

var _interopRequireWildcard=__webpack_require__(7);var _interopRequireDefault=__webpack_require__(2);Object.defineProperty(exports,"__esModule",{value:true});exports.default=void 0;var _classCallCheck2=_interopRequireDefault(__webpack_require__(9));var _createClass2=_interopRequireDefault(__webpack_require__(10));var _inherits2=_interopRequireDefault(__webpack_require__(15));var _possibleConstructorReturn2=_interopRequireDefault(__webpack_require__(16));var _getPrototypeOf2=_interopRequireDefault(__webpack_require__(14));var _react=_interopRequireWildcard(__webpack_require__(1));var _Platform=_interopRequireDefault(__webpack_require__(18));var _Text=_interopRequireDefault(__webpack_require__(21));var _View=_interopRequireDefault(__webpack_require__(8));var _ScrollView=_interopRequireDefault(__webpack_require__(39));var _ActivityIndicator=_interopRequireDefault(__webpack_require__(30));var _reactNativeElements=__webpack_require__(46);var _reactRedux=__webpack_require__(37);var _redux=__webpack_require__(29);var _NavigationService=_interopRequireDefault(__webpack_require__(32));var _Actions=_interopRequireDefault(__webpack_require__(38));var _Selectors=__webpack_require__(40);var _Components=__webpack_require__(44);var _UserPanelStyle=_interopRequireDefault(__webpack_require__(80));var _Theme=__webpack_require__(22);function _createSuper(Derived){var hasNativeReflectConstruct=_isNativeReflectConstruct();return function _createSuperInternal(){var Super=(0,_getPrototypeOf2.default)(Derived),result;if(hasNativeReflectConstruct){var NewTarget=(0,_getPrototypeOf2.default)(this).constructor;result=Reflect.construct(Super,arguments,NewTarget);}else{result=Super.apply(this,arguments);}return(0,_possibleConstructorReturn2.default)(this,result);};}function _isNativeReflectConstruct(){if(typeof Reflect==="undefined"||!Reflect.construct)return false;if(Reflect.construct.sham)return false;if(typeof Proxy==="function")return true;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}));return true;}catch(e){return false;}}var FarmInformation=function(_Component){(0,_inherits2.default)(FarmInformation,_Component);var _super=_createSuper(FarmInformation);function FarmInformation(props){var _this;(0,_classCallCheck2.default)(this,FarmInformation);_this=_super.call(this,props);var _this$setData=_this.setData(props),FarmName=_this$setData.FarmName,Address=_this$setData.Address,Country=_this$setData.Country,Cvr=_this$setData.Cvr,Manager=_this$setData.Manager;_this.state={FarmName:FarmName,Address:Address,Country:Country,Cvr:Cvr,Manager:Manager,Sections:"0",Pens:"0"};return _this;}(0,_createClass2.default)(FarmInformation,[{key:"setData",value:function setData(Props){var FarmName="";var Address="";var Country="";var Cvr="";var Manager="";var localDataStore=Props.firebase.localDataStore;var firebaseUser=this.props.firebase.firebaseUser;if(firebaseUser){if(firebaseUser.lastN!==""){FarmName=firebaseUser.lastN;}if(firebaseUser.address!==""){Address=firebaseUser.address;}if(firebaseUser.country){Country=firebaseUser.country;}if(firebaseUser.email!=""){Manager=firebaseUser.email;}}if(localDataStore&&firebaseUser&&localDataStore.farms&&firebaseUser.farms&&localDataStore.farms[Object.keys(firebaseUser.farms)[0]]){var FarmData=localDataStore.farms[Object.keys(firebaseUser.farms)[0]];if(FarmData.name)FarmName=FarmData.name;if(FarmData.address)Address=FarmData.address;if(FarmData.country)Country=FarmData.country;if(FarmData.cvr)Cvr=FarmData.cvr;if(FarmData.manager)Manager=FarmData.manager;}return{FarmName:FarmName,Address:Address,Country:Country,Cvr:Cvr,Manager:Manager};}},{key:"getData",value:function getData(){}},{key:"checkData",value:function checkData(props){}},{key:"componentDidMount",value:function componentDidMount(){this.props.setViewLoading(false);this.props.setViewError(null);this.props.getUser(null);this.props.getFarm();this.checkData(this.props);this.getData();}},{key:"componentDidUpdate",value:function componentDidUpdate(prevProps,prevState){if(this.props!==prevProps){this.checkData(this.props);if(this.props.firebase.firebaseUser){}}}},{key:"render",value:function render(){var _this2=this;var IsLoading=this.props.firebase.firebaseIsLoading;var ErrorMessage=this.props.firebase.viewError;return _react.default.createElement(_ScrollView.default,{style:[_Theme.Metrics.verticalMargin,{paddingRight:5}]},_react.default.createElement(_View.default,{style:[_Theme.Helpers.mainContainer]},_react.default.createElement(_View.default,{style:[_Theme.Helpers.contentContainer,_Theme.Helpers.fullSize,_Theme.Helpers.fillColMain]},ErrorMessage&&(!ErrorMessage.type||ErrorMessage.type===_Selectors.ErrorTypes.SYSTEM)?_react.default.createElement(_Text.default,{style:_Theme.ApplicationStyles.error},ErrorMessage.message?ErrorMessage.message:ErrorMessage):_react.default.createElement(_react.default.Fragment,null),_react.default.createElement(_Components.TitleElement,{Text:"Farm Informations"}),_react.default.createElement(_View.default,{style:[_Theme.Helpers.borderContainer,_Theme.Helpers.midWidth,{marginBottom:20}]},_react.default.createElement(_reactNativeElements.Input,{label:"Farm Name",style:_Theme.ApplicationStyles.input,onChangeText:function onChangeText(text){if(text){if((0,_Selectors.DataStringCheck)(text)){_this2.setState({FarmName:text});}}else{_this2.setState({FarmName:text});}},value:this.state.FarmName}),_react.default.createElement(_reactNativeElements.Input,{label:"Address",style:_Theme.ApplicationStyles.input,onChangeText:function onChangeText(text){if(text){_this2.setState({Address:text});}else{_this2.setState({Address:text});}},value:this.state.Address}),_react.default.createElement(_reactNativeElements.Input,{label:"Country",style:_Theme.ApplicationStyles.input,onChangeText:function onChangeText(text){if(text){_this2.setState({Country:text});}else{_this2.setState({Country:text});}},value:this.state.Country}),_react.default.createElement(_reactNativeElements.Input,{label:"Cvr",style:_Theme.ApplicationStyles.input,onChangeText:function onChangeText(text){if(!isNaN(text)){_this2.setState({Cvr:text});}},value:this.state.Cvr}),_react.default.createElement(_reactNativeElements.Input,{label:"Manager contact",style:_Theme.ApplicationStyles.input,onChangeText:function onChangeText(text){if(text){var test=text;test=test.replace('@','a');test=test.replace('.','d');if((0,_Selectors.DataStringCheck)(test)){_this2.setState({Manager:text});}}else{_this2.setState({Manager:text});}},value:this.state.Manager}),_react.default.createElement(_reactNativeElements.Input,{label:"Number of Sections",style:_Theme.ApplicationStyles.input,onChangeText:function onChangeText(text){if(!isNaN(text)){_this2.setState({Sections:text});}},value:this.state.Sections}),_react.default.createElement(_reactNativeElements.Input,{label:"Number of Pens in each Sections",style:_Theme.ApplicationStyles.input,onChangeText:function onChangeText(text){if(!isNaN(text)){_this2.setState({Pens:text});}},value:this.state.Pens})),_react.default.createElement(_View.default,{style:[_Theme.Helpers.buttonContainer,_Theme.Helpers.midWidth]},_react.default.createElement(_Components.Button,{Text:"Save Farm information",onPress:function onPress(){var _FarmData={};var _sections={};var _pens={};if(!_this2.state.FarmName||_this2.state.FarmName===""){_this2.props.setViewError("Farm name is needed");}else if(!(0,_Selectors.DataStringCheck)(_this2.state.FarmName)){_this2.props.setViewError("First name contains invalid characters");}else{_FarmData={name:_this2.state.FarmName};if(_this2.state.Address!=="")_FarmData.address=_this2.state.Address;if(_this2.state.Country!=="")_FarmData.country=_this2.state.Country;if(_this2.state.Cvr!=="")_FarmData.cvr=_this2.state.Cvr;if(_this2.state.Manager!=="")_FarmData.manager=_this2.state.Manager;_this2.props.setViewLoading(true);_this2.props.updateFarm(_FarmData);if(_this2.state.Sections&&_this2.state.Pens){_this2.props.setViewLoading(true);var Pen=1;var i,i2;for(i=1;i<=_this2.state.Sections;i++){var sectionPens={};for(i2=1;i2<=_this2.state.Pens;i2++){_pens['Pen_'+Pen]={section:'Section_'+i};sectionPens['Pen_'+Pen]=true;Pen++;}_sections['Section_'+i]={pens:sectionPens};}console.log("Set",_sections,_pens);_this2.props.updateFarmData(_sections,_pens);}if(_this2.props.OnDone){_this2.props.OnDone(true);}}}}))),(IsLoading||this.props.firebase.viewIsLoading)&&_react.default.createElement(_ActivityIndicator.default,{style:_Theme.Helpers.loadingContainer,size:"large"})));}}]);return FarmInformation;}(_react.Component);var mapStateToProps=function mapStateToProps(state){var firebase=state.firebase;return{firebase:firebase};};var mapDispatchToProps=function mapDispatchToProps(dispatch){return{setViewLoading:function setViewLoading(state){return dispatch(_Actions.default.viewIsLoading(state));},setViewError:function setViewError(error){return dispatch(_Actions.default.setViewError(error));},getUser:function getUser(UserId){return dispatch(_Actions.default.actionStarting(_Selectors.Actions.FETCH,_Selectors.DataRefs.USERSDATA,{UserId:UserId}));},getFarm:function getFarm(){return dispatch(_Actions.default.actionStarting(_Selectors.Actions.FETCH,_Selectors.DataRefs.FARMS,{}));},updateFarm:function updateFarm(FarmData){return dispatch(_Actions.default.actionStarting(_Selectors.Actions.UPDATE,_Selectors.DataRefs.FARMS,{Data:FarmData}));},updateFarmData:function updateFarmData(sections,pens){return dispatch(_Actions.default.actionStarting(_Selectors.Actions.UPDATE,_Selectors.DataRefs.FARMDATAS,{Data:{sections:sections,pens:pens}}));}};};var _default=(0,_reactRedux.connect)(mapStateToProps,mapDispatchToProps)(FarmInformation);exports.default=_default;

/***/ }),

/***/ 1012:
/***/ (function(module, exports, __webpack_require__) {

var _interopRequireWildcard=__webpack_require__(7);var _interopRequireDefault=__webpack_require__(2);Object.defineProperty(exports,"__esModule",{value:true});exports.default=void 0;var _classCallCheck2=_interopRequireDefault(__webpack_require__(9));var _createClass2=_interopRequireDefault(__webpack_require__(10));var _inherits2=_interopRequireDefault(__webpack_require__(15));var _possibleConstructorReturn2=_interopRequireDefault(__webpack_require__(16));var _getPrototypeOf2=_interopRequireDefault(__webpack_require__(14));var _react=_interopRequireWildcard(__webpack_require__(1));var _Text=_interopRequireDefault(__webpack_require__(21));var _View=_interopRequireDefault(__webpack_require__(8));var _ActivityIndicator=_interopRequireDefault(__webpack_require__(30));var _ScrollView=_interopRequireDefault(__webpack_require__(39));var _reactRedux=__webpack_require__(37);var _redux=__webpack_require__(29);var _NavigationService=_interopRequireDefault(__webpack_require__(32));var _Actions=_interopRequireDefault(__webpack_require__(38));var _Selectors=__webpack_require__(40);var _Components=__webpack_require__(44);var _UserPanelStyle=_interopRequireDefault(__webpack_require__(80));var _Theme=__webpack_require__(22);function _createSuper(Derived){var hasNativeReflectConstruct=_isNativeReflectConstruct();return function _createSuperInternal(){var Super=(0,_getPrototypeOf2.default)(Derived),result;if(hasNativeReflectConstruct){var NewTarget=(0,_getPrototypeOf2.default)(this).constructor;result=Reflect.construct(Super,arguments,NewTarget);}else{result=Super.apply(this,arguments);}return(0,_possibleConstructorReturn2.default)(this,result);};}function _isNativeReflectConstruct(){if(typeof Reflect==="undefined"||!Reflect.construct)return false;if(Reflect.construct.sham)return false;if(typeof Proxy==="function")return true;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}));return true;}catch(e){return false;}}var FrontScreen=function(_Component){(0,_inherits2.default)(FrontScreen,_Component);var _super=_createSuper(FrontScreen);function FrontScreen(props){var _this;(0,_classCallCheck2.default)(this,FrontScreen);_this=_super.call(this,props);_this.state={ISLOADPAGE:true};return _this;}(0,_createClass2.default)(FrontScreen,[{key:"getData",value:function getData(){this.props.getFarm();}},{key:"checkData",value:function checkData(props){}},{key:"componentDidMount",value:function componentDidMount(){this.props.setViewLoading(false);this.props.setViewError(null);this.checkData(this.props);this.getData();}},{key:"componentDidUpdate",value:function componentDidUpdate(prevProps,prevState){if(this.props!==prevProps){this.checkData(this.props);if(this.props.firebase.viewError!=prevProps.firebase.viewError){this.forceUpdate();}}}},{key:"render",value:function render(){var _this2=this;var firebase=this.props.firebase;var IsLoading=firebase.firebaseIsLoading;var firebaseErrorMessage=firebase.firebaseErrorMessage;var ErrorMessage=this.props.firebase.viewError;var firebaseUser=firebase.firebaseUser;return _react.default.createElement(_ScrollView.default,{style:[_Theme.Helpers.fullSize,_Theme.Helpers.fill]},_react.default.createElement(_View.default,{style:[_Theme.Helpers.mainContainer]},_react.default.createElement(_View.default,{style:[_Theme.Helpers.contentContainer,_Theme.Helpers.fullSize,_Theme.Helpers.fillColMain]},firebaseErrorMessage?_react.default.createElement(_Text.default,{style:_Theme.ApplicationStyles.error},firebaseErrorMessage):_react.default.createElement(_react.default.Fragment,null),firebaseUser?_react.default.createElement(_View.default,{style:_Theme.Helpers.textContainer},_react.default.createElement(_Text.default,{style:_Theme.ApplicationStyles.text},"Welcome: ",firebaseUser.displayName?firebaseUser.displayName:firebaseUser.email)):_react.default.createElement(_react.default.Fragment,null),_react.default.createElement(_Components.Button_Panel,{Texts:["Dashboard","Pens","Batchs","Growth curves","Operations","AutoPigs","Feeding","Pigs"],Images:[_Theme.Images.DashBoard,_Theme.Images.Pens,_Theme.Images.Section,_Theme.Images.GCurves,_Theme.Images.System,_Theme.Images.AutoPig,_Theme.Images.Feed,_Theme.Images.Sow],onPress:function onPress(ele){switch(ele.text){case"Dashboard":_NavigationService.default.navigate("UserDashBoard");break;case"Pens":_NavigationService.default.navigate("UserPens");break;case"Batchs":_NavigationService.default.navigate("UserBatchs");break;case"Growth curves":_NavigationService.default.navigate("UserCurves");break;case"Operations":_NavigationService.default.navigate("UserOperations");break;case"AutoPigs":var localDataStore=_this2.props.firebase.localDataStore;var FirebaseUser=_this2.props.firebase.firebaseUser;if(FirebaseUser&&FirebaseUser.farms&&localDataStore&&localDataStore.farms){var FarmsData=localDataStore.farms;if(FarmsData&&FarmsData[Object.keys(FirebaseUser.farms)[0]]){var FarmData=FarmsData[Object.keys(FirebaseUser.farms)[0]];if(FarmData.site&&FarmData.refToken){_NavigationService.default.navigate("AutoPig");}}}break;case"Feeding":break;case"Pigs":_NavigationService.default.navigate("UserPigs");break;}}}),firebaseUser&&firebaseUser.state==="admin"?_react.default.createElement(_react.default.Fragment,null):_react.default.createElement(_View.default,{style:[_Theme.Helpers.buttonContainer,_Theme.Helpers.midWidth]},_react.default.createElement(_Components.Button,{Text:"LogOut",onPress:function onPress(){_this2.props.logOut();}}))),(IsLoading||this.props.firebase.viewIsLoading)&&_react.default.createElement(_ActivityIndicator.default,{style:_Theme.Helpers.loadingContainer,size:"large"})));}}]);return FrontScreen;}(_react.Component);var mapStateToProps=function mapStateToProps(state){var firebase=state.firebase;return{firebase:firebase};};var mapDispatchToProps=function mapDispatchToProps(dispatch){return{setFirebaseError:function setFirebaseError(error){return dispatch(_Actions.default.setFirebaseError(error));},setViewLoading:function setViewLoading(state){return dispatch(_Actions.default.viewIsLoading(state));},setViewError:function setViewError(error){return dispatch(_Actions.default.setViewError(error));},logOut:function logOut(){return dispatch(_Actions.default.actionStarting(_Selectors.Actions.SIGN,_Selectors.DataRefs.USERSDATA));},getFarm:function getFarm(){return dispatch(_Actions.default.actionStarting(_Selectors.Actions.FETCH,_Selectors.DataRefs.FARMS,{}));}};};var _default=(0,_reactRedux.connect)(mapStateToProps,mapDispatchToProps)(FrontScreen);exports.default=_default;

/***/ }),

/***/ 1013:
/***/ (function(module, exports, __webpack_require__) {

var _interopRequireWildcard=__webpack_require__(7);var _interopRequireDefault=__webpack_require__(2);Object.defineProperty(exports,"__esModule",{value:true});exports.default=void 0;var _classCallCheck2=_interopRequireDefault(__webpack_require__(9));var _createClass2=_interopRequireDefault(__webpack_require__(10));var _inherits2=_interopRequireDefault(__webpack_require__(15));var _possibleConstructorReturn2=_interopRequireDefault(__webpack_require__(16));var _getPrototypeOf2=_interopRequireDefault(__webpack_require__(14));var _react=_interopRequireWildcard(__webpack_require__(1));var _Text=_interopRequireDefault(__webpack_require__(21));var _View=_interopRequireDefault(__webpack_require__(8));var _ActivityIndicator=_interopRequireDefault(__webpack_require__(30));var _ScrollView=_interopRequireDefault(__webpack_require__(39));var _FlatList=_interopRequireDefault(__webpack_require__(50));var _reactNativeElements=__webpack_require__(46);var _reactRedux=__webpack_require__(37);var _redux=__webpack_require__(29);var _NavigationService=_interopRequireDefault(__webpack_require__(32));var _Actions=_interopRequireDefault(__webpack_require__(38));var _Selectors=__webpack_require__(40);var _Components=__webpack_require__(44);var _UserPanelStyle=_interopRequireDefault(__webpack_require__(80));var _Theme=__webpack_require__(22);function _createSuper(Derived){var hasNativeReflectConstruct=_isNativeReflectConstruct();return function _createSuperInternal(){var Super=(0,_getPrototypeOf2.default)(Derived),result;if(hasNativeReflectConstruct){var NewTarget=(0,_getPrototypeOf2.default)(this).constructor;result=Reflect.construct(Super,arguments,NewTarget);}else{result=Super.apply(this,arguments);}return(0,_possibleConstructorReturn2.default)(this,result);};}function _isNativeReflectConstruct(){if(typeof Reflect==="undefined"||!Reflect.construct)return false;if(Reflect.construct.sham)return false;if(typeof Proxy==="function")return true;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}));return true;}catch(e){return false;}}var Dashboard=function(_Component){(0,_inherits2.default)(Dashboard,_Component);var _super=_createSuper(Dashboard);function Dashboard(props){var _this;(0,_classCallCheck2.default)(this,Dashboard);_this=_super.call(this,props);var _this$setData=_this.setData(props),Name=_this$setData.Name,Manager=_this$setData.Manager,Mail=_this$setData.Mail,SectionsList=_this$setData.SectionsList,BatchList=_this$setData.BatchList,MaxCap=_this$setData.MaxCap,CurCap=_this$setData.CurCap;_this.state={farmName:Name,farmManager:Manager,farmMail:Mail,BatchList:BatchList,MaxCap:MaxCap,CurCap:CurCap};return _this;}(0,_createClass2.default)(Dashboard,[{key:"setData",value:function setData(Props){var localDataStore=Props.firebase.localDataStore;var firebaseUser=this.props.firebase.firebaseUser;var Name="Not set";var Manager="Not set";var Mail="Not set";if(localDataStore&&localDataStore.farms&&firebaseUser.farms&&localDataStore.farms[Object.keys(firebaseUser.farms)[0]]){var Farm=localDataStore.farms[Object.keys(firebaseUser.farms)[0]];Name=Farm.name?Farm.name:Name;Manager=Farm.name?Farm.manager:Manager;Mail=Farm.name?Farm.email:Mail;}var BatchList={};var MaxCap=0;var CurCap=0;if(localDataStore.batchs){Object.keys(localDataStore.batchs).filter(function(e){return e!=='__jsogObjectId'&&e!=='update_time';}).map(function(BatchID){var Batch=localDataStore.batchs[BatchID];var Data=(0,_Selectors.GetStats_FromBatch)(Batch,localDataStore);if(Data){var StartDate=Data.StartDate,EndDate=Data.EndDate,TargetWeight=Data.TargetWeight,PenCount=Data.PenCount,Animals=Data.Animals,AverageWeight=Data.AverageWeight,AverageGrowth=Data.AverageGrowth,isClosed=Data.isClosed,isVirtual=Data.isVirtual;if(Batch.pens){MaxCap+=Object.keys(Batch.pens).reverse().filter(function(e){return e!=='__jsogObjectId';}).length*1;}CurCap+=Animals;Batch.count=Animals;Batch.weight=AverageWeight;Batch.target=TargetWeight;Batch.End=EndDate;BatchList[BatchID]=Batch;}});}if(MaxCap===0)MaxCap++;return{Name:Name,Manager:Manager,Mail:Mail,BatchList:BatchList,MaxCap:MaxCap,CurCap:CurCap};}},{key:"getData",value:function getData(){var localDataStore=this.props.firebase.localDataStore;if(!localDataStore.sections)localDataStore.sections={};if(!localDataStore.pens)localDataStore.pens={};this.props.getFarm();this.props.getSections(localDataStore.sections?localDataStore.sections.update_time:null);this.props.getPens(localDataStore.pens?localDataStore.pens.update_time:null);this.props.getBatch();this.props.getWeights(localDataStore.weighings?localDataStore.weighings.update_time:null,localDataStore.sections);this.props.getCurve();}},{key:"checkData",value:function checkData(props){}},{key:"componentDidUpdate",value:function componentDidUpdate(prevProps,prevState){var _this2=this;if(this.props!==prevProps){this.checkData(this.props);if(this.props.firebase.localDataStore&&prevProps.firebase.localDataStore){var firebaseUser=this.props.firebase.firebaseUser;var localDataStore=this.props.firebase.localDataStore;if(localDataStore.farms&&firebaseUser.farms&&localDataStore.farms[Object.keys(firebaseUser.farms)[0]]){var Farm=localDataStore.farms[Object.keys(firebaseUser.farms)[0]];if(this.state.farmName!==Farm.name||this.state.farmManager!==Farm.manager||this.state.farmMail!==Farm.email||localDataStore.batchs&&JSON.stringify(this.state.BatchList)!==JSON.stringify(localDataStore.batchs)||localDataStore.graphs&&localDataStore.graphs!==prevProps.firebase.localDataStore.graphs){var _this$setData2=this.setData(this.props),Name=_this$setData2.Name,Manager=_this$setData2.Manager,Mail=_this$setData2.Mail,BatchList=_this$setData2.BatchList,MaxCap=_this$setData2.MaxCap,CurCap=_this$setData2.CurCap;this.setState({farmName:Name,farmManager:Manager,farmMail:Mail,BatchList:BatchList,MaxCap:MaxCap,CurCap:CurCap},function(){_this2.forceUpdate();});}}}}}},{key:"componentDidMount",value:function componentDidMount(){this.props.setViewLoading(false);this.props.setViewError(null);this.checkData(this.props);this.getData();}},{key:"render",value:function render(){var _this3=this;var IsLoading=this.props.firebase.firebaseIsLoading;var localDataStore=this.props.firebase.localDataStore;var FarmProgress=0;if(this.state.BatchList){var BatchList=Object.keys(this.state.BatchList).filter(function(e){return e!=='__jsogObjectId'&&e!=='update_time'&&(!_this3.state.BatchList[e].state||_this3.state.BatchList[e].state!=="Closed");});BatchList.forEach(function(element){var Batch=_this3.state.BatchList[element];FarmProgress+=Batch.weight/Batch.target*100;});FarmProgress=FarmProgress/(100*BatchList.length)*100;}return _react.default.createElement(_ScrollView.default,{style:[_Theme.Metrics.verticalMargin,{paddingRight:5}]},_react.default.createElement(_View.default,{style:[_Theme.Helpers.mainContainer]},_react.default.createElement(_View.default,{style:[_Theme.Helpers.contentContainer,_Theme.Helpers.fullWidth,_Theme.Helpers.fill]},_react.default.createElement(_Components.TitleElement,{Text:"Farm description"}),_react.default.createElement(_View.default,{style:[_Theme.Helpers.buttonContainer,_Theme.Helpers.fullWidth,{height:110}]},_react.default.createElement(_Components.ContentProp,{texts:["Farm name","Manager","E-mail"],datas:[this.state.farmName,this.state.farmManager,this.state.farmMail]})),_react.default.createElement(_View.default,{style:{height:20}}),_react.default.createElement(_Components.ProgressBar,{text:"Farm capacity: "+this.state.CurCap+" of "+this.state.MaxCap,progress:this.state.CurCap/this.state.MaxCap*100}),_react.default.createElement(_Components.ProgressBar,{text:"Farm performance:",progress:FarmProgress}),this.state.BatchList?_react.default.createElement(_View.default,{style:[_Theme.Helpers.borderContainer,_Theme.Helpers.fullWidth,{borderWidth:0,marginTop:10}]},_react.default.createElement(_Text.default,null,"Batches:"),_react.default.createElement(_FlatList.default,{data:Object.keys(this.state.BatchList).filter(function(e){return e!=='__jsogObjectId'&&e!=='update_time'&&(!_this3.state.BatchList[e].state||_this3.state.BatchList[e].state!=="Closed");}),renderItem:function renderItem(_ref){var item=_ref.item,i=_ref.i;var Batch=_this3.state.BatchList[item];var TempCurve=(0,_Selectors.GetCurve_FromBatch)(Batch,localDataStore.graphs);var End=(0,_Selectors.GetBatchEnd)(Batch,TempCurve);var EndDate=Batch.End;var Color=_Theme.Colors.AgriGreen;if(EndDate>End)Color=_Theme.Colors.error;var count=Batch.count;if(!count)count=0;var progress=Batch.weight/Batch.target*100;EndDate=new Date(EndDate).getDate()+"/"+(new Date(EndDate).getMonth()+1)+"/"+new Date(EndDate).getFullYear();var StartDate=new Date(Batch.time).getDate()+"/"+(new Date(Batch.time).getMonth()+1)+"/"+new Date(Batch.time).getFullYear();return _react.default.createElement(_Components.ProgressBar,{text:item+" Startdate: "+StartDate+" EndForcast: "+EndDate+", "+count+" pigs",progress:progress,color:Color});},keyExtractor:function keyExtractor(item,index){return index.toString();}})):_react.default.createElement(_react.default.Fragment,null),_react.default.createElement(_Components.Button,{Text:"Clear local datastore",onPress:function onPress(){_this3.props.clearDataMem();_this3.getData();}})),(IsLoading||this.props.firebase.viewIsLoading)&&_react.default.createElement(_ActivityIndicator.default,{style:_Theme.Helpers.loadingContainer,size:"large"})));}}]);return Dashboard;}(_react.Component);var mapStateToProps=function mapStateToProps(state){var firebase=state.firebase;return{firebase:firebase};};var mapDispatchToProps=function mapDispatchToProps(dispatch){return{setFirebaseError:function setFirebaseError(error){return dispatch(_Actions.default.setFirebaseError(error));},setViewLoading:function setViewLoading(state){return dispatch(_Actions.default.viewIsLoading(state));},setViewError:function setViewError(error){return dispatch(_Actions.default.setViewError(error));},clearDataMem:function clearDataMem(){return dispatch(_Actions.default.actionStarting(_Selectors.Actions.CLEAR,_Selectors.DataRefs.USERSDATA));},getFarm:function getFarm(){return dispatch(_Actions.default.actionStarting(_Selectors.Actions.FETCH,_Selectors.DataRefs.FARMS,{}));},getSections:function getSections(DataTime){return dispatch(_Actions.default.actionStarting(_Selectors.Actions.FETCH,_Selectors.DataRefs.SECTIONS,{DataTime:DataTime}));},getPens:function getPens(DataTime){return dispatch(_Actions.default.actionStarting(_Selectors.Actions.FETCH,_Selectors.DataRefs.PENS,{DataTime:DataTime}));},getBatch:function getBatch(){return dispatch(_Actions.default.actionStarting(_Selectors.Actions.FETCH,_Selectors.DataRefs.BATCHS,{}));},getCurve:function getCurve(){return dispatch(_Actions.default.actionStarting(_Selectors.Actions.FETCH,_Selectors.DataRefs.GRAPH,{}));},getWeights:function getWeights(DataTime,MemSections){return dispatch(_Actions.default.actionStarting(_Selectors.Actions.FETCH,_Selectors.DataRefs.WEIGHING,{DataTime:DataTime,MemSections:MemSections}));}};};var _default=(0,_reactRedux.connect)(mapStateToProps,mapDispatchToProps)(Dashboard);exports.default=_default;

/***/ }),

/***/ 1014:
/***/ (function(module, exports, __webpack_require__) {

var _interopRequireWildcard=__webpack_require__(7);var _interopRequireDefault=__webpack_require__(2);Object.defineProperty(exports,"__esModule",{value:true});exports.default=void 0;var _defineProperty2=_interopRequireDefault(__webpack_require__(11));var _classCallCheck2=_interopRequireDefault(__webpack_require__(9));var _createClass2=_interopRequireDefault(__webpack_require__(10));var _inherits2=_interopRequireDefault(__webpack_require__(15));var _possibleConstructorReturn2=_interopRequireDefault(__webpack_require__(16));var _getPrototypeOf2=_interopRequireDefault(__webpack_require__(14));var _react=_interopRequireWildcard(__webpack_require__(1));var _Platform=_interopRequireDefault(__webpack_require__(18));var _Text=_interopRequireDefault(__webpack_require__(21));var _View=_interopRequireDefault(__webpack_require__(8));var _ActivityIndicator=_interopRequireDefault(__webpack_require__(30));var _Image=_interopRequireDefault(__webpack_require__(33));var _StyleSheet=_interopRequireDefault(__webpack_require__(12));var _ScrollView=_interopRequireDefault(__webpack_require__(39));var _SafeAreaView=_interopRequireDefault(__webpack_require__(97));var _FlatList=_interopRequireDefault(__webpack_require__(50));var _reactNativeElements=__webpack_require__(46);var _reactRedux=__webpack_require__(37);var _redux=__webpack_require__(29);var _NavigationService=_interopRequireDefault(__webpack_require__(32));var _Selectors=__webpack_require__(70);var _Actions=_interopRequireDefault(__webpack_require__(38));var _Selectors2=__webpack_require__(40);var _Components=__webpack_require__(44);var _CloudScreenStyle=_interopRequireDefault(__webpack_require__(127));var _Theme=__webpack_require__(22);var _reactNativeSuperGrid=__webpack_require__(128);function ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);if(enumerableOnly)symbols=symbols.filter(function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable;});keys.push.apply(keys,symbols);}return keys;}function _objectSpread(target){for(var i=1;i<arguments.length;i++){var source=arguments[i]!=null?arguments[i]:{};if(i%2){ownKeys(Object(source),true).forEach(function(key){(0,_defineProperty2.default)(target,key,source[key]);});}else if(Object.getOwnPropertyDescriptors){Object.defineProperties(target,Object.getOwnPropertyDescriptors(source));}else{ownKeys(Object(source)).forEach(function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key));});}}return target;}function _createSuper(Derived){var hasNativeReflectConstruct=_isNativeReflectConstruct();return function _createSuperInternal(){var Super=(0,_getPrototypeOf2.default)(Derived),result;if(hasNativeReflectConstruct){var NewTarget=(0,_getPrototypeOf2.default)(this).constructor;result=Reflect.construct(Super,arguments,NewTarget);}else{result=Super.apply(this,arguments);}return(0,_possibleConstructorReturn2.default)(this,result);};}function _isNativeReflectConstruct(){if(typeof Reflect==="undefined"||!Reflect.construct)return false;if(Reflect.construct.sham)return false;if(typeof Proxy==="function")return true;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}));return true;}catch(e){return false;}}var Pigs=function(_Component){(0,_inherits2.default)(Pigs,_Component);var _super=_createSuper(Pigs);function Pigs(props){var _this;(0,_classCallCheck2.default)(this,Pigs);_this=_super.call(this,props);var _this$setData=_this.setData(props),PigsList=_this$setData.PigsList;_this.state={PigsList:PigsList,PigTag:""};return _this;}(0,_createClass2.default)(Pigs,[{key:"getData",value:function getData(){var localDataStore=this.props.firebase.localDataStore;if(!localDataStore.pens)localDataStore.pens={};this.props.getPigs();this.props.getPens(localDataStore.pens.update_time);}},{key:"setData",value:function setData(Props){var localDataStore=Props.firebase.localDataStore;var PigsList=null;if(localDataStore&&localDataStore.pigs){PigsList=(0,_Selectors2.sortObject)(localDataStore.pigs);}return{PigsList:PigsList};}},{key:"checkData",value:function checkData(props){}},{key:"componentDidMount",value:function componentDidMount(){this.props.setViewLoading(false);this.props.setViewError(null);this.checkData(this.props);this.getData();}},{key:"componentDidUpdate",value:function componentDidUpdate(prevProps,prevState){if(this.props!==prevProps){this.checkData(this.props);if(this.props.firebase){if(this.props.firebase.localDataStore){if(this.props.firebase.localDataStore.pigs&&JSON.stringify(this.state.PigsList)!==JSON.stringify((0,_Selectors2.sortObject)(this.props.firebase.localDataStore.pigs))){var _this$setData2=this.setData(this.props),PigsList=_this$setData2.PigsList;this.setState({PigsList:PigsList});}}}}}},{key:"render",value:function render(){var _this2=this;var IsLoading=this.props.firebase.firebaseIsLoading;var localDataStore=this.props.firebase.localDataStore;var connectedDevice=null;var connectedState=null;var DeviceData=null;return _react.default.createElement(_View.default,{style:[_Theme.Helpers.mainContainer]},_react.default.createElement(_View.default,{style:[_Theme.Helpers.contentContainer,_Theme.Helpers.fullWidth,_Theme.Helpers.fill]},_react.default.createElement(_View.default,{style:[_Theme.Helpers.fill,_Theme.Helpers.buttonContainer,_Theme.Helpers.fullWidth,_Theme.Metrics.bottomMargin,_Theme.Helpers.column]},_react.default.createElement(Device_Display,{connectedState:connectedState}),_react.default.createElement(Scanner_Display,{DeviceData:DeviceData}),this.state.PigsList?_react.default.createElement(_View.default,{style:[_Theme.Helpers.fill,_Theme.Helpers.borderContainer,_Theme.Metrics.smallHorizontalPadding,_Theme.Metrics.smallVerticalPadding,{maxWidth:800,marginTop:10}]},_react.default.createElement(_SafeAreaView.default,{style:styles.container},_react.default.createElement(_FlatList.default,{data:Object.keys(this.state.PigsList),renderItem:function renderItem(_ref){var item=_ref.item;var Pen="-";var Section="-";if(_this2.state.PigsList[item].pen&&_this2.state.PigsList[item].pen!=0){Pen=_this2.state.PigsList[item].pen;if(localDataStore.pens&&localDataStore.pens[Pen]){var PenData=localDataStore.pens[Pen];Section=PenData.section;}}return _react.default.createElement(_View.default,{style:[_Theme.Helpers.fill,_Theme.Helpers.rowCenter,_Theme.Helpers.fullWidth,{height:35}]},_react.default.createElement(_Components.CustomListItem,{Title:item,itemStyle:[{height:35}],onPress:function onPress(){_this2.props.setData(item,Section,Pen);_NavigationService.default.navigate("DataDisplay");}}),_react.default.createElement(_Components.CustomListItem,{itemStyle:[{width:70,height:35,justifyContent:"center"}],Title:Pen,onPress:function onPress(){_this2.setState({PigTag:item});}}),_react.default.createElement(_Components.CustomListItem,{itemStyle:[{width:90,height:35}],Title:Section,onPress:function onPress(){_this2.setState({PigTag:item});}}));},keyExtractor:function keyExtractor(item){return"PigTag_"+item;}}))):_react.default.createElement(_react.default.Fragment,null),_react.default.createElement(_reactNativeElements.Input,{label:"Pig-tag:",containerStyle:[{borderWidth:1,marginTop:10}],style:[_Theme.ApplicationStyles.input],onChangeText:function onChangeText(text){_this2.setState({PigTag:text});},value:this.state.PigTag}),_react.default.createElement(_Components.OperationsPanel,{pig:true,pigTag:this.state.PigTag,PigsList:this.state.PigsList}))),(IsLoading||this.props.firebase.viewIsLoading)&&_react.default.createElement(_ActivityIndicator.default,{style:_Theme.Helpers.loadingContainer,size:"large"}));}}]);return Pigs;}(_react.Component);var mapStateToProps=function mapStateToProps(state){var firebase=state.firebase;return{firebase:firebase};};var mapDispatchToProps=function mapDispatchToProps(dispatch){return{setViewLoading:function setViewLoading(state){return dispatch(_Actions.default.viewIsLoading(state));},setViewError:function setViewError(error){return dispatch(_Actions.default.setViewError(error));},getPens:function getPens(DataTime){return dispatch(_Actions.default.actionStarting(_Selectors2.Actions.FETCH,_Selectors2.DataRefs.PENS,{DataTime:DataTime}));},getPigs:function getPigs(){var tagId=arguments.length>0&&arguments[0]!==undefined?arguments[0]:null;return dispatch(_Actions.default.actionStarting(_Selectors2.Actions.FETCH,_Selectors2.DataRefs.PIGS,{TagId:tagId}));},setData:function setData(pigId,Section,Pen){return dispatch(_Actions.default.setCurrentData({pigId:pigId,type:_Selectors2.DataRefs.PIGS,section:Section,dataId:Pen}));}};};var _default=(0,_reactRedux.connect)(mapStateToProps,mapDispatchToProps)(Pigs);exports.default=_default;var Device_Display=function Device_Display(props){if(_Platform.default.OS==='ios'||_Platform.default.OS==='android'){return _react.default.createElement(_View.default,{style:[_Theme.Helpers.buttonContainer,_Theme.Helpers.fullWidth,_Theme.Metrics.bottomMargin,_Theme.Helpers.rowCenter]},_react.default.createElement(_View.default,{style:[_Theme.Helpers.fill,_Theme.Helpers.fullWidth,_Theme.Helpers.rowMain]},_react.default.createElement(_View.default,{style:[_Theme.Helpers.fill,_Theme.Helpers.column,{backgroundColor:"red"}]},_react.default.createElement(_View.default,{style:[_Theme.Helpers.fill,_Theme.Helpers.row,_Theme.Helpers.fullWidth,{backgroundColor:"blue"}]},_react.default.createElement(_View.default,{style:{justifyContent:'center',alignItems:'center'}})),_react.default.createElement(_View.default,{style:[_Theme.Helpers.fill,_Theme.Helpers.row,_Theme.Helpers.fullWidth]},_react.default.createElement(_Text.default,null,"Messages"),_react.default.createElement(_Text.default,null,"Errors"))),_react.default.createElement(_View.default,{style:[_Theme.Helpers.fill,_Theme.Helpers.fullWidth,_Theme.Helpers.rowCenter,{maxWidth:150}]},props&&props.connectedState===_Selectors.ConnectionState.CONNECTED?_react.default.createElement(_View.default,{style:_objectSpread(_objectSpread({},styles.circle),{},{backgroundColor:"green",justifyContent:'center',alignItems:'center'})},_react.default.createElement(_Text.default,null,"Device is"),_react.default.createElement(_Text.default,null,"connected")):_react.default.createElement(_View.default,{style:_objectSpread(_objectSpread({},styles.circle),{},{backgroundColor:"red",justifyContent:'center',alignItems:'center'})},_react.default.createElement(_Text.default,null,"No Device"),_react.default.createElement(_Text.default,null,"connected")))));}else{return _react.default.createElement(_react.default.Fragment,null);}};var Scanner_Display=function Scanner_Display(props){if(_Platform.default.OS==='ios'||_Platform.default.OS==='android'){var dispatch=(0,_reactRedux.useDispatch)();var DeviceData=props&&props.DeviceData?props.DeviceData:null;return _react.default.createElement(_View.default,{style:{flexDirection:'row',justifyContent:'space-between',borderWidth:1,borderColor:'#000',borderRadius:25,paddingHorizontal:15,paddingVertical:10,marginBottom:10}},_react.default.createElement(_View.default,{style:(_CloudScreenStyle.default.textContainer,{paddingTop:10})},DeviceData&&DeviceData.tagid?_react.default.createElement(_View.default,{style:{marginBottom:5}},_react.default.createElement(_Text.default,null,"TAG Id:"),_react.default.createElement(_Text.default,null,DeviceData.tagid)):_react.default.createElement(_react.default.Fragment,null),DeviceData&&DeviceData.FatLayers&&DeviceData.FatLayers>0?_react.default.createElement(_View.default,{style:{marginBottom:5}},_react.default.createElement(_Text.default,null,"Layers received: ",DeviceData.FatLayers),_react.default.createElement(_Text.default,null,"Layer 1: ",DeviceData.FatL1),_react.default.createElement(_Text.default,null,"Layer 2: ",DeviceData.FatL2),_react.default.createElement(_Text.default,null,"Layer 3: ",DeviceData.FatL3)):_react.default.createElement(_react.default.Fragment,null)),DeviceData&&DeviceData.tagid?_react.default.createElement(_View.default,{style:{flexDirection:'row',justifyContent:'space-between'}},known?_react.default.createElement(_Components.Button,{buttonStyle:(_Theme.ApplicationStyles.button,{minWidth:0}),Text:"Open data",onPress:function onPress(){dispatch(_Actions.default.setCurrentData({pigId:known,type:_Selectors2.DataRefs.PIGS}));_NavigationService.default.navigate("DataDisplay");}}):_react.default.createElement(_react.default.Fragment,null),_react.default.createElement(_Components.Button,{buttonStyle:(_Theme.ApplicationStyles.button,{minWidth:0}),Text:"Save Tag",onPress:function onPress(){}})):_react.default.createElement(_react.default.Fragment,null));}else{return _react.default.createElement(_react.default.Fragment,null);}};var styles=_StyleSheet.default.create({circle:{width:125,height:125,borderRadius:125/2,marginTop:_Theme.Metrics.tiny,marginLeft:_Theme.Metrics.tiny}});

/***/ }),

/***/ 1017:
/***/ (function(module, exports, __webpack_require__) {

var _interopRequireWildcard=__webpack_require__(7);var _interopRequireDefault=__webpack_require__(2);Object.defineProperty(exports,"__esModule",{value:true});exports.default=void 0;var _classCallCheck2=_interopRequireDefault(__webpack_require__(9));var _createClass2=_interopRequireDefault(__webpack_require__(10));var _inherits2=_interopRequireDefault(__webpack_require__(15));var _possibleConstructorReturn2=_interopRequireDefault(__webpack_require__(16));var _getPrototypeOf2=_interopRequireDefault(__webpack_require__(14));var _react=_interopRequireWildcard(__webpack_require__(1));var _Text=_interopRequireDefault(__webpack_require__(21));var _View=_interopRequireDefault(__webpack_require__(8));var _ActivityIndicator=_interopRequireDefault(__webpack_require__(30));var _ScrollView=_interopRequireDefault(__webpack_require__(39));var _FlatList=_interopRequireDefault(__webpack_require__(50));var _TouchableOpacity=_interopRequireDefault(__webpack_require__(41));var _Image=_interopRequireDefault(__webpack_require__(33));var _reactRedux=__webpack_require__(37);var _redux=__webpack_require__(29);var _NavigationService=_interopRequireDefault(__webpack_require__(32));var _Actions=_interopRequireDefault(__webpack_require__(38));var _Selectors=__webpack_require__(40);var _Components=__webpack_require__(44);var _CloudScreenStyle=_interopRequireDefault(__webpack_require__(127));var _Theme=__webpack_require__(22);var _reactNativeSuperGrid=__webpack_require__(128);function _createSuper(Derived){var hasNativeReflectConstruct=_isNativeReflectConstruct();return function _createSuperInternal(){var Super=(0,_getPrototypeOf2.default)(Derived),result;if(hasNativeReflectConstruct){var NewTarget=(0,_getPrototypeOf2.default)(this).constructor;result=Reflect.construct(Super,arguments,NewTarget);}else{result=Super.apply(this,arguments);}return(0,_possibleConstructorReturn2.default)(this,result);};}function _isNativeReflectConstruct(){if(typeof Reflect==="undefined"||!Reflect.construct)return false;if(Reflect.construct.sham)return false;if(typeof Proxy==="function")return true;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}));return true;}catch(e){return false;}}var Pens=function(_Component){(0,_inherits2.default)(Pens,_Component);var _super=_createSuper(Pens);function Pens(props){var _this;(0,_classCallCheck2.default)(this,Pens);_this=_super.call(this,props);var _this$setData=_this.setData(props),Sections=_this$setData.Sections,Weighings=_this$setData.Weighings,Mid=_this$setData.Mid;_this.state={Mid:Mid,Sections:Sections,Weighings:Weighings};return _this;}(0,_createClass2.default)(Pens,[{key:"setData",value:function setData(Props){var localDataStore=Props.firebase.localDataStore;var Sections={};if(localDataStore&&localDataStore.sections){Sections=(0,_Selectors.sortObject)(Props.firebase.localDataStore.sections);}var Mid=0;var Weighings={};if(localDataStore&&localDataStore.weighings){Weighings=localDataStore.weighings;for(var property in localDataStore.weighings){if(localDataStore.weighings[property]&&Object.keys(localDataStore.weighings[property]).length>0){var weight=localDataStore.weighings[property][Object.keys(localDataStore.weighings[property])[0]].weight;if(weight){if(Mid>0){Mid=(Mid+weight)/2;}else{Mid=Mid+weight;}}}}}return{Sections:Sections,Weighings:Weighings,Mid:Mid};}},{key:"getData",value:function getData(){var localDataStore=this.props.firebase.localDataStore;if(!localDataStore.sections)localDataStore.sections={};if(!localDataStore.pens)localDataStore.pens={};if(!localDataStore.weighings)localDataStore.weighings={};if(!localDataStore.batchs)localDataStore.batchs={};if(!localDataStore.graphs)localDataStore.graphs={};this.props.getSections(localDataStore.sections.update_time);this.props.getPens(localDataStore.pens.update_time);this.props.getWeights(localDataStore.weighings.update_time,localDataStore.sections);this.props.getBatch(localDataStore.batchs.update_time);this.props.getCurve(localDataStore.graphs.update_time);}},{key:"checkData",value:function checkData(props){}},{key:"componentDidMount",value:function componentDidMount(){this.props.setViewLoading(false);this.props.setViewError(null);this.checkData(this.props);this.getData();}},{key:"componentDidUpdate",value:function componentDidUpdate(prevProps,prevState){if(this.props!==prevProps){this.checkData(this.props);if(this.props.firebase.localDataStore){if(this.props.firebase.localDataStore.sections&&JSON.stringify(this.state.Sections)!==JSON.stringify((0,_Selectors.sortObject)(this.props.firebase.localDataStore.sections))||this.props.firebase.localDataStore.weighings&&JSON.stringify(this.state.Weighings)!==JSON.stringify((0,_Selectors.sortObject)(this.props.firebase.localDataStore.weighings))){var _this$setData2=this.setData(this.props),Sections=_this$setData2.Sections,Mid=_this$setData2.Mid;this.setState({Mid:Mid,Sections:Sections});}}}}},{key:"render",value:function render(){var _this2=this;var IsLoading=this.props.firebase.firebaseIsLoading;var localDataStore=this.props.firebase.localDataStore;return _react.default.createElement(_View.default,{style:[_Theme.Helpers.mainContainer]},_react.default.createElement(_View.default,{style:[_Theme.Helpers.fullSize,_Theme.Helpers.fill]},this.state.Sections?_react.default.createElement(_ScrollView.default,{style:[_Theme.Metrics.verticalMargin,{paddingRight:5}]},_react.default.createElement(_reactNativeSuperGrid.SectionGrid,{itemDimension:70,spacing:10,sections:Object.keys(this.state.Sections).filter(function(e){return e!=='update_time';}).map(function(Section){var _Pens=(0,_Selectors.sortObject)(_this2.state.Sections[Section].pens);return{title:Section,data:Object.keys(_Pens)};}),renderSectionHeader:function renderSectionHeader(_ref){var section=_ref.section;return _react.default.createElement(_View.default,{style:[_Theme.Helpers.buttonContainer,_Theme.Helpers.midWidth,{marginBottom:0}]},_react.default.createElement(_Components.Button,{Text:section.title,buttonStyle:{backgroundColor:_Theme.Colors.AgriDarkblue},onPress:function onPress(){}}));},renderItem:function renderItem(_ref2){var item=_ref2.item;var color=_Theme.Colors.gray;var displayWeight=null;var Predict=(0,_Selectors.CurvePredict)(localDataStore,item);if(Predict!=null)color=_Theme.Colors.pigpink;if(Predict&&Predict.Now){var Batch=Predict.Batch;var devianceMin=2;var devianceMax=5;if(Batch.datas.devianceMin){devianceMin=Batch.datas.devianceMin;}if(Batch.datas.devianceMax){devianceMax=Batch.datas.devianceMax;}var ExValue=Predict.TempEx;var Weight=Predict.Now;var TargetWeight=Batch.datas.target?Batch.datas.target:Predict.Batch.datas.target;if(Weight>=TargetWeight){color=_Theme.Colors.pigpink;}else{var devianceValMin=ExValue/100*devianceMin;var devianceValMax=ExValue/100*devianceMax;if(ExValue&&Weight<ExValue&&Weight<ExValue-devianceValMin){color=_Theme.Colors.error;}else if(ExValue&&Weight>ExValue&&Weight>ExValue+devianceValMax){color=_Theme.Colors.overest;}else{color=_Theme.Colors.success;}}displayWeight=Math.round(Weight*100)/100;}return _react.default.createElement(_TouchableOpacity.default,{style:[_Theme.Helpers.borderContainer,{width:70,height:70,alignItems:"center",justifyContent:"center",backgroundColor:color}],onPress:function onPress(){_this2.props.setCurrentData(item);_NavigationService.default.navigate("DataDisplay");}},_react.default.createElement(_Text.default,null,item),displayWeight?_react.default.createElement(_Text.default,null,displayWeight+" kg"):_react.default.createElement(_react.default.Fragment,null));}})):_react.default.createElement(_View.default,{style:[_Theme.Helpers.fillRowCenter,_Theme.Helpers.center,_Theme.Helpers.logoContainer]},_react.default.createElement(_Image.default,{style:_Theme.Helpers.fullSize,source:_Theme.Images.Hexa_icon,resizeMode:'contain'}))),(IsLoading||this.props.firebase.viewIsLoading)&&_react.default.createElement(_ActivityIndicator.default,{style:_Theme.Helpers.loadingContainer,size:"large"}));}}]);return Pens;}(_react.Component);var mapStateToProps=function mapStateToProps(state){var firebase=state.firebase;return{firebase:firebase};};var mapDispatchToProps=function mapDispatchToProps(dispatch){return{setViewLoading:function setViewLoading(state){return dispatch(_Actions.default.viewIsLoading(state));},setViewError:function setViewError(error){return dispatch(_Actions.default.setViewError(error));},getSections:function getSections(DataTime){return dispatch(_Actions.default.actionStarting(_Selectors.Actions.FETCH,_Selectors.DataRefs.SECTIONS,{DataTime:DataTime}));},getPens:function getPens(DataTime){return dispatch(_Actions.default.actionStarting(_Selectors.Actions.FETCH,_Selectors.DataRefs.PENS,{DataTime:DataTime}));},getWeights:function getWeights(DataTime,MemSections){return dispatch(_Actions.default.actionStarting(_Selectors.Actions.FETCH,_Selectors.DataRefs.WEIGHING,{DataTime:DataTime,MemSections:MemSections}));},getBatch:function getBatch(DataTime){return dispatch(_Actions.default.actionStarting(_Selectors.Actions.FETCH,_Selectors.DataRefs.BATCHS,{DataTime:DataTime}));},getCurve:function getCurve(DataTime){return dispatch(_Actions.default.actionStarting(_Selectors.Actions.FETCH,_Selectors.DataRefs.GRAPH,{GraphId:"",DataTime:DataTime}));},setCurrentData:function setCurrentData(penId){return dispatch(_Actions.default.setCurrentData({type:_Selectors.DataRefs.PENS,penId:penId}));}};};var _default=(0,_reactRedux.connect)(mapStateToProps,mapDispatchToProps)(Pens);exports.default=_default;

/***/ }),

/***/ 1018:
/***/ (function(module, exports, __webpack_require__) {

var _interopRequireWildcard=__webpack_require__(7);var _interopRequireDefault=__webpack_require__(2);Object.defineProperty(exports,"__esModule",{value:true});exports.default=void 0;var _classCallCheck2=_interopRequireDefault(__webpack_require__(9));var _createClass2=_interopRequireDefault(__webpack_require__(10));var _assertThisInitialized2=_interopRequireDefault(__webpack_require__(26));var _inherits2=_interopRequireDefault(__webpack_require__(15));var _possibleConstructorReturn2=_interopRequireDefault(__webpack_require__(16));var _getPrototypeOf2=_interopRequireDefault(__webpack_require__(14));var _defineProperty2=_interopRequireDefault(__webpack_require__(11));var _react=_interopRequireWildcard(__webpack_require__(1));var _Platform=_interopRequireDefault(__webpack_require__(18));var _Text=_interopRequireDefault(__webpack_require__(21));var _View=_interopRequireDefault(__webpack_require__(8));var _ActivityIndicator=_interopRequireDefault(__webpack_require__(30));var _Image=_interopRequireDefault(__webpack_require__(33));var _StyleSheet=_interopRequireDefault(__webpack_require__(12));var _ScrollView=_interopRequireDefault(__webpack_require__(39));var _Dimensions=_interopRequireDefault(__webpack_require__(49));var _SafeAreaView=_interopRequireDefault(__webpack_require__(97));var _FlatList=_interopRequireDefault(__webpack_require__(50));var _Picker=_interopRequireDefault(__webpack_require__(125));var _reactNativeElements=__webpack_require__(46);var _reactRedux=__webpack_require__(37);var _redux=__webpack_require__(29);var _NavigationService=_interopRequireDefault(__webpack_require__(32));var _Actions=_interopRequireDefault(__webpack_require__(38));var _Selectors=__webpack_require__(40);var _Components=__webpack_require__(44);var _UserPanelStyle=_interopRequireDefault(__webpack_require__(80));var _Theme=__webpack_require__(22);var _MaterialIcons=_interopRequireDefault(__webpack_require__(272));var _reactNativeSectionedMultiSelect=_interopRequireDefault(__webpack_require__(1019));var _reactNativeMultiSelectbox=_interopRequireDefault(__webpack_require__(1023));var _lodash=__webpack_require__(156);function _createSuper(Derived){var hasNativeReflectConstruct=_isNativeReflectConstruct();return function _createSuperInternal(){var Super=(0,_getPrototypeOf2.default)(Derived),result;if(hasNativeReflectConstruct){var NewTarget=(0,_getPrototypeOf2.default)(this).constructor;result=Reflect.construct(Super,arguments,NewTarget);}else{result=Super.apply(this,arguments);}return(0,_possibleConstructorReturn2.default)(this,result);};}function _isNativeReflectConstruct(){if(typeof Reflect==="undefined"||!Reflect.construct)return false;if(Reflect.construct.sham)return false;if(typeof Proxy==="function")return true;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}));return true;}catch(e){return false;}}var window=_Dimensions.default.get("window");var screen=_Dimensions.default.get("screen");var Batchs=function(_Component){(0,_inherits2.default)(Batchs,_Component);var _super=_createSuper(Batchs);function Batchs(props){var _this;(0,_classCallCheck2.default)(this,Batchs);_this=_super.call(this,props);(0,_defineProperty2.default)((0,_assertThisInitialized2.default)(_this),"onChange",function(_ref){var window=_ref.window,screen=_ref.screen;_this.setState({dimensions:{window:window,screen:screen}});});(0,_defineProperty2.default)((0,_assertThisInitialized2.default)(_this),"onMultiChange",function(item){var items=(0,_lodash.xorBy)(_this.state.selectedPens,[item],'id');_this.setState({selectedPens:items});});var _this$setData=_this.setData(props),BatchList=_this$setData.BatchList,freePens=_this$setData.freePens;_this.state={dimensions:{window:window,screen:screen},BatchList:BatchList,Display:0,BatchName:"",ShowPicker:false,StartD:new Date().getTime(),Curve:"",TargetWeight:"",DevianceMin:"",DevianceMax:"",freePens:freePens,avaiblePens:freePens,selectedPens:[]};return _this;}(0,_createClass2.default)(Batchs,[{key:"setData",value:function setData(Props){var localDataStore=Props.firebase.localDataStore;var BatchList=localDataStore.batchs;var freePens=[];if(BatchList&&localDataStore.sections){Object.keys(localDataStore.sections).forEach(function(section){if(localDataStore.sections[section].pens){var pens=[];Object.keys(localDataStore.sections[section].pens).filter(function(e){return e!=='__jsogObjectId'&&e!=='update_time';}).forEach(function(pen){var add=true;Object.keys(BatchList).forEach(function(batch){if(!BatchList[batch].state||BatchList[batch].state!=="Closed"){if(BatchList[batch].pens&&BatchList[batch].pens[pen]&&!BatchList[batch].pens[pen].enddate){add=false;}}});if(add){var item={item:pen,id:section+"_"+pen};freePens.push(item);}});}});}return{BatchList:BatchList,freePens:freePens};}},{key:"getData",value:function getData(){var localDataStore=this.props.firebase.localDataStore;if(!localDataStore.sections)localDataStore.sections={};if(!localDataStore.pens)localDataStore.pens={};this.props.getBatch(localDataStore.batchs?localDataStore.batchs.update_time:null);this.props.getSections(localDataStore.sections?localDataStore.sections.update_time:null);this.props.getPens(localDataStore.pens?localDataStore.pens.update_time:null);this.props.getCurve();}},{key:"checkData",value:function checkData(props){}},{key:"componentDidUpdate",value:function componentDidUpdate(prevProps,prevState){if(this.props!==prevProps){this.checkData(this.props);if(this.props.firebase.localDataStore){if(this.props.firebase.localDataStore.batchs&&JSON.stringify(this.state.BatchList)!==JSON.stringify(this.props.firebase.localDataStore.batchs)||this.props.firebase.localDataStore.pens&&JSON.stringify(this.state.pens)!==JSON.stringify(this.props.firebase.localDataStore.pens)){var _this$setData2=this.setData(this.props),BatchList=_this$setData2.BatchList,freePens=_this$setData2.freePens;this.setState({freePens:freePens,BatchList:BatchList});}}}}},{key:"componentDidMount",value:function componentDidMount(){_Dimensions.default.addEventListener("change",this.onChange);this.props.setViewLoading(false);this.props.setViewError(null);this.checkData(this.props);this.getData();}},{key:"componentWillUnmount",value:function componentWillUnmount(){_Dimensions.default.removeEventListener("change",this.onChange);}},{key:"render",value:function render(){var _this2=this;var IsLoading=this.props.firebase.firebaseIsLoading;var ErrorMessage=this.props.firebase.viewError;var localDataStore=this.props.firebase.localDataStore;var wide=this.state.dimensions.window.width>900?true:false;var App=_Platform.default.OS==='ios'||_Platform.default.OS==='android'||!wide;return _react.default.createElement(_ScrollView.default,{style:[_Theme.Metrics.verticalMargin,{paddingRight:5}]},_react.default.createElement(_View.default,{style:[_Theme.Helpers.mainContainer]},_react.default.createElement(_View.default,{style:[_Theme.Helpers.contentContainer,_Theme.Helpers.fullSize,_Theme.Helpers.fill]},ErrorMessage?_react.default.createElement(_Text.default,{style:_Theme.ApplicationStyles.error},ErrorMessage):_react.default.createElement(_react.default.Fragment,null),this.state.Display===0?_react.default.createElement(_View.default,{style:[_Theme.Helpers.contentContainer,_Theme.Helpers.fullSize,{marginHorizontal:0,paddingHorizontal:-20}]},this.state.BatchList?_react.default.createElement(_View.default,{style:[_Theme.Helpers.fill,_Theme.Helpers.fullWidth,_Theme.Metrics.smallHorizontalPadding,_Theme.Metrics.smallVerticalPadding,{maxWidth:800,marginTop:10}]},_react.default.createElement(_FlatList.default,{scrollEnabled:true,style:[_Theme.Helpers.fill],data:Object.keys(this.state.BatchList).filter(function(e){return e!=='__jsogObjectId'&&e!=='update_time';}),renderItem:function renderItem(_ref2){var item=_ref2.item,i=_ref2.i;var name=item;if(_this2.state.BatchList[item]&&_this2.state.BatchList[item].state&&_this2.state.BatchList[item].state==="Closed"){name+="  Closed";}return _react.default.createElement(_Components.Button,{Text:name,onPress:function onPress(){var curveId="default";if(_this2.state.BatchList[item]&&_this2.state.BatchList[item].gcurve){curveId=_this2.state.BatchList[item].gcurve;if(typeof curveId!=='string')curveId=null;}_this2.props.setCurrentData(item,curveId);_NavigationService.default.navigate('DataPlotter');}});},keyExtractor:function keyExtractor(item,index){return index.toString();}})):_react.default.createElement(_react.default.Fragment,null),_react.default.createElement(_View.default,{style:[_Theme.Helpers.buttonContainer,_Theme.Helpers.borderContainer,_Theme.Helpers.midWidth]},_react.default.createElement(_Components.Button,{Text:"New Batch",onPress:function onPress(){var graph=0;if(localDataStore&&localDataStore.graphs){graph=Object.keys(localDataStore.graphs).filter(function(e){return e!=='__jsogObjectId'&&e!=='update_time';})[0];}_this2.setState({Display:1,DevianceMin:String(2),DevianceMax:String(2),Curve:graph,freePens:_this2.state.freePens,avaiblePens:_this2.state.freePens,selectedPens:[]});}}),this.state.BatchList?_react.default.createElement(_Components.Button,{Text:"Edit or Close Batch",onPress:function onPress(){var batchName=Object.keys(_this2.state.BatchList).filter(function(e){return e!=='__jsogObjectId'&&e!=='update_time'&&(!_this2.state.BatchList[e].state||_this2.state.BatchList[e].state!=="Closed");})[0];var batch=_this2.state.BatchList[batchName];if(batch){var Pens=[];var pens=(0,_Selectors.sortObject)(batch.pens);Object.keys(pens).forEach(function(element){if(!batch.pens[element].enddate){if(localDataStore.pens&&localDataStore.pens[element]){var _pen=localDataStore.pens[element];var item={};item.item=element;item.id=_pen.section+"_"+element;Pens.push(item);}}});_this2.setState({Display:2,BatchName:batchName,StartD:batch.time,Curve:batch.gcurve,TargetWeight:String(batch.datas.target),DevianceMin:String(batch.datas.devianceMin),DevianceMax:String(batch.datas.devianceMax),avaiblePens:_this2.state.freePens.concat(Pens),selectedPens:Pens});}}}):_react.default.createElement(_react.default.Fragment,null))):_react.default.createElement(_View.default,{style:[_Theme.Helpers.contentContainer,_Theme.Helpers.fullSize,{marginHorizontal:0,paddingHorizontal:-20}]},this.state.Display===1?_react.default.createElement(_reactNativeElements.Input,{label:"BatchName",containerStyle:[{borderWidth:1,marginTop:10}],style:[_Theme.ApplicationStyles.input],onChangeText:function onChangeText(text){if(text){if((0,_Selectors.DataStringCheck)(text)){_this2.setState({BatchName:text});}}else{_this2.setState({BatchName:text});}},value:this.state.BatchName}):_react.default.createElement(_View.default,{style:[_Theme.Helpers.borderContainer,_Theme.Helpers.fullWidth,{height:60,borderRadius:0,alignItems:"center"}]},_react.default.createElement(_Picker.default,{mode:"dropdown",selectedValue:this.state.BatchName,style:[_Theme.Helpers.fullWidth,{height:50,justifyContent:"flex-end"}],onValueChange:function onValueChange(itemValue,itemIndex){if(_this2.state.BatchList&&_this2.state.BatchList[itemValue]){var batch=_this2.state.BatchList[itemValue];var Pens=[];var pens=(0,_Selectors.sortObject)(batch.pens);Object.keys(pens).forEach(function(element){if(!batch.pens[element].enddate){if(localDataStore.pens&&localDataStore.pens[element]){var _pen=localDataStore.pens[element];var item={};item.item=element;item.id=_pen.section+"_"+element;Pens.push(item);}}});_this2.setState({BatchName:itemValue,StartD:batch.time,Curve:batch.gcurve,DevianceMin:String(batch.datas.devianceMin),DevianceMax:String(batch.datas.devianceMax),avaiblePens:_this2.state.freePens.concat(Pens),selectedPens:Pens});}}},Object.keys(this.state.BatchList).filter(function(e){return e!=='__jsogObjectId'&&e!=='update_time'&&(!_this2.state.BatchList[e].state||_this2.state.BatchList[e].state!=="Closed");}).map(function(graph,i){return _react.default.createElement(_Picker.default.Item,{label:graph,value:graph,key:i});}))),_react.default.createElement(_View.default,{style:[_Theme.Helpers.fullWidth,App?{}:_Theme.Helpers.row,{zIndex:999}]},_react.default.createElement(_View.default,{style:[App?{}:_Theme.Helpers.halvWidth,{borderWidth:1,marginTop:10,paddingHorizontal:5,paddingTop:0,borderRadius:0,alignItems:"center",zIndex:1}]},_react.default.createElement(_View.default,{style:[_Theme.Helpers.fullWidth,{alignItems:"flex-start",marginBottom:-5}]},_react.default.createElement(_Text.default,{style:[_Theme.ApplicationStyles.text,{marginHorizontal:5,marginTop:2,color:_Theme.Colors.input,fontSize:15,fontWeight:"bold"}]},"Start date:")),_react.default.createElement(_View.default,{style:[_Theme.Helpers.fullWidth,App?{marginBottom:10}:{},{alignItems:'flex-start'}]},_react.default.createElement(_Components.Datetime_Picker,{Selected:this.state.StartD,onValueChange:function onValueChange(date){_this2.setState({StartD:date.getTime()});}}))),_react.default.createElement(_View.default,{style:[App?{}:_Theme.Helpers.halvWidth,{borderWidth:1,marginTop:10,paddingHorizontal:5,paddingTop:0,borderRadius:0,alignItems:"center",zIndex:1}]},_react.default.createElement(_View.default,{style:[_Theme.Helpers.fullWidth,{alignItems:"flex-start",marginBottom:-5}]},_react.default.createElement(_Text.default,{style:[_Theme.ApplicationStyles.text,{marginHorizontal:5,marginTop:2,color:_Theme.Colors.input,fontSize:15,fontWeight:"bold"}]},"Growth curve:")),_react.default.createElement(_View.default,{style:[_Theme.Helpers.fullWidth,{alignItems:"center"}]},_react.default.createElement(_Picker.default,{mode:"dropdown",selectedValue:this.state.Curve,style:[_Theme.Helpers.fullWidth,{height:30}],onValueChange:function onValueChange(itemValue,itemIndex){_this2.setState({Curve:itemValue});}},Object.keys(localDataStore.graphs).filter(function(e){return e!=='__jsogObjectId'&&e!=='update_time';}).map(function(graph,i){return _react.default.createElement(_Picker.default.Item,{label:graph,value:graph,key:i});}))))),_react.default.createElement(_View.default,{style:[_Theme.Helpers.fullWidth,_Theme.Helpers.row]},_react.default.createElement(_reactNativeElements.Input,{label:"Target weight",type:"number",step:"0.1",containerStyle:[_Theme.Helpers.halvWidth,{borderWidth:1,marginTop:10}],style:[_Theme.ApplicationStyles.input,{marginBottom:-10}],onChangeText:function onChangeText(text){if(!isNaN(text)||text.endsWith('.')&&text.split('.').length<=2){_this2.setState({TargetWeight:text});}},value:this.state.TargetWeight})),_react.default.createElement(_View.default,{style:[_Theme.Helpers.fullWidth,_Theme.Helpers.row]},_react.default.createElement(_reactNativeElements.Input,{label:"Deviance Min alert procentage",type:"number",step:"0.1",containerStyle:[_Theme.Helpers.halvWidth,{borderWidth:1,marginTop:10}],style:[_Theme.ApplicationStyles.input,{marginBottom:-10}],onChangeText:function onChangeText(text){if(!isNaN(text)||text.endsWith('.')&&text.split('.').length<=2){_this2.setState({DevianceMin:text});}},value:this.state.DevianceMin}),_react.default.createElement(_reactNativeElements.Input,{label:"Deviance Max alert procentage",type:"number",step:"0.1",containerStyle:[_Theme.Helpers.halvWidth,{borderWidth:1,marginTop:10}],style:[_Theme.ApplicationStyles.input,{marginBottom:-10}],onChangeText:function onChangeText(text){if(!isNaN(text)||text.endsWith('.')&&text.split('.').length<=2){_this2.setState({DevianceMax:text});}},value:this.state.DevianceMax})),_react.default.createElement(_View.default,{style:[_Theme.Helpers.fullWidth,{borderWidth:1,marginTop:10,paddingHorizontal:10,paddingTop:5}]},_react.default.createElement(_reactNativeMultiSelectbox.default,{label:"Pens in Batch..",labelStyle:{color:_Theme.Colors.input,fontSize:15,fontWeight:"bold"},optionsLabelStyle:{minWidth:100,color:"black",fontSize:12,fontWeight:"bold"},options:this.state.avaiblePens,selectedValues:this.state.selectedPens,onMultiSelect:this.onMultiChange,onTapClose:this.onMultiChange,isMulti:true})),_react.default.createElement(_View.default,{style:[_Theme.Helpers.buttonContainer,_Theme.Helpers.borderContainer,_Theme.Helpers.midWidth,{marginTop:10}]},this.state.Display===2?_react.default.createElement(_Components.Button,{Text:"Close Batch",onPress:function onPress(){var Batch=localDataStore.batchs[_this2.state.BatchName];if(Batch){var _GetStats_FromBatch=(0,_Selectors.GetStats_FromBatch)(Batch,localDataStore),StartDate=_GetStats_FromBatch.StartDate,EndDate=_GetStats_FromBatch.EndDate,TargetWeight=_GetStats_FromBatch.TargetWeight,PenCount=_GetStats_FromBatch.PenCount,Animals=_GetStats_FromBatch.Animals,AverageWeight=_GetStats_FromBatch.AverageWeight,AverageGrowth=_GetStats_FromBatch.AverageGrowth,isClosed=_GetStats_FromBatch.isClosed,isVirtual=_GetStats_FromBatch.isVirtual;if(Animals){_this2.props.setViewError("The batch still contains active pens, please clear pens before closing the batch");}else{var newBatch={name:_this2.state.BatchName,state:"Closed"};_this2.props.updateBatch(newBatch);_this2.setState({Display:0});_this2.props.getPens(localDataStore.pens.update_time);}}}}):_react.default.createElement(_react.default.Fragment,null),_react.default.createElement(_Components.Button,{Text:"Save",onPress:function onPress(){var update=true;if(_this2.state.BatchName!==""){var Name=_this2.state.BatchName;if(!Object.keys(_this2.state.BatchList).includes(Name)){if(_this2.state.Display===2){update=false;_this2.props.setViewError("BatchName error, batch does not exists");}}else{if(_this2.state.Display===1){update=false;_this2.props.setViewError("BatchName error, batch allready exists");}}}else{update=false;_this2.props.setViewError("BatchName error");}if(_this2.state.StartD!==""){}else{update=false;_this2.props.setViewError("Startdate error");}if(_this2.state.TargetWeight!==""){var Dev=_this2.state.TargetWeight;if(Dev.length>3||isNaN(Dev)){update=false;}}else{update=false;_this2.props.setViewError("Tartget weight setting error");}if(_this2.state.DevianceMin!==""){var Dev=_this2.state.DevianceMin;if(Dev.length>3||isNaN(Dev)||Dev>100){update=false;}}else{update=false;_this2.props.setViewError("DevianceMin setting error");}if(_this2.state.DevianceMax!==""){var Dev=_this2.state.DevianceMax;if(Dev.length>3||isNaN(Dev)||Dev>100){update=false;}}else{update=false;_this2.props.setViewError("DevianceMax setting error");}if(_this2.state.Curve===""){update=false;_this2.props.setViewError("Growth curve setting error, please reselect a curve");}var Pens={};if(_this2.state.selectedPens&&_this2.state.selectedPens.length>0){_this2.state.selectedPens.forEach(function(element){Pens[element.item]=true;});}if(Object.keys(Pens).length!==_this2.state.selectedPens.length){update=false;_this2.props.setViewError("An error occurred during Pen assigning (please update the page)");}if(update){_this2.props.setViewLoading(true);var _Date=new Date(_this2.state.StartD);var StartD=new Date(_Date.getFullYear(),_Date.getMonth(),_Date.getDate()).getTime();var newBatch={name:_this2.state.BatchName,gcurve:_this2.state.Curve,pens:Pens,time:StartD,datas:{target:_this2.state.TargetWeight,devianceMin:_this2.state.DevianceMin,devianceMax:_this2.state.DevianceMax}};if(_this2.state.Display===1){_this2.props.setBatch(newBatch);}else if(_this2.state.Display===2){_this2.props.updateBatch(newBatch);}_this2.setState({Display:0});_this2.props.getPens(localDataStore.pens.update_time);_this2.props.setViewError(null);_this2.props.setViewLoading(false);}}})))),(IsLoading||this.props.firebase.viewIsLoading)&&_react.default.createElement(_ActivityIndicator.default,{style:_Theme.Helpers.loadingContainer,size:"large"})));}}]);return Batchs;}(_react.Component);var mapStateToProps=function mapStateToProps(state){var firebase=state.firebase;return{firebase:firebase};};var mapDispatchToProps=function mapDispatchToProps(dispatch){return{setViewLoading:function setViewLoading(state){return dispatch(_Actions.default.viewIsLoading(state));},setViewError:function setViewError(error){return dispatch(_Actions.default.setViewError(error));},getCurve:function getCurve(){return dispatch(_Actions.default.actionStarting(_Selectors.Actions.FETCH,_Selectors.DataRefs.GRAPH,{}));},getSections:function getSections(DataTime){return dispatch(_Actions.default.actionStarting(_Selectors.Actions.FETCH,_Selectors.DataRefs.SECTIONS,{DataTime:DataTime}));},getPens:function getPens(DataTime){return dispatch(_Actions.default.actionStarting(_Selectors.Actions.FETCH,_Selectors.DataRefs.PENS,{DataTime:DataTime}));},getBatch:function getBatch(DataTime){return dispatch(_Actions.default.actionStarting(_Selectors.Actions.FETCH,_Selectors.DataRefs.BATCHS,{DataTime:DataTime}));},setBatch:function setBatch(batch){return dispatch(_Actions.default.actionStarting(_Selectors.Actions.CREATE,_Selectors.DataRefs.BATCHS,{Batch:batch}));},updateBatch:function updateBatch(batch){return dispatch(_Actions.default.actionStarting(_Selectors.Actions.UPDATE,_Selectors.DataRefs.BATCHS,{BatchId:batch.name,Batch:batch}));},setCurrentData:function setCurrentData(batchId,curveId){return dispatch(_Actions.default.setCurrentData({type:_Selectors.DataRefs.PENS,batchId:batchId,curveId:curveId}));}};};var _default=(0,_reactRedux.connect)(mapStateToProps,mapDispatchToProps)(Batchs);exports.default=_default;

/***/ }),

/***/ 1028:
/***/ (function(module, exports, __webpack_require__) {

var _interopRequireWildcard=__webpack_require__(7);var _interopRequireDefault=__webpack_require__(2);Object.defineProperty(exports,"__esModule",{value:true});exports.default=void 0;var _toConsumableArray2=_interopRequireDefault(__webpack_require__(53));var _classCallCheck2=_interopRequireDefault(__webpack_require__(9));var _createClass2=_interopRequireDefault(__webpack_require__(10));var _inherits2=_interopRequireDefault(__webpack_require__(15));var _possibleConstructorReturn2=_interopRequireDefault(__webpack_require__(16));var _getPrototypeOf2=_interopRequireDefault(__webpack_require__(14));var _react=_interopRequireWildcard(__webpack_require__(1));var _Platform=_interopRequireDefault(__webpack_require__(18));var _Text=_interopRequireDefault(__webpack_require__(21));var _View=_interopRequireDefault(__webpack_require__(8));var _ActivityIndicator=_interopRequireDefault(__webpack_require__(30));var _Image=_interopRequireDefault(__webpack_require__(33));var _StyleSheet=_interopRequireDefault(__webpack_require__(12));var _ScrollView=_interopRequireDefault(__webpack_require__(39));var _Dimensions=_interopRequireDefault(__webpack_require__(49));var _SafeAreaView=_interopRequireDefault(__webpack_require__(97));var _FlatList=_interopRequireDefault(__webpack_require__(50));var _Picker=_interopRequireDefault(__webpack_require__(125));var _reactNativeElements=__webpack_require__(46);var _reactRedux=__webpack_require__(37);var _redux=__webpack_require__(29);var _NavigationService=_interopRequireDefault(__webpack_require__(32));var _Actions=_interopRequireDefault(__webpack_require__(38));var _Selectors=__webpack_require__(40);var _Components=__webpack_require__(44);var _UserPanelStyle=_interopRequireDefault(__webpack_require__(80));var _Theme=__webpack_require__(22);var _CurveElement=_interopRequireDefault(__webpack_require__(433));function _createSuper(Derived){var hasNativeReflectConstruct=_isNativeReflectConstruct();return function _createSuperInternal(){var Super=(0,_getPrototypeOf2.default)(Derived),result;if(hasNativeReflectConstruct){var NewTarget=(0,_getPrototypeOf2.default)(this).constructor;result=Reflect.construct(Super,arguments,NewTarget);}else{result=Super.apply(this,arguments);}return(0,_possibleConstructorReturn2.default)(this,result);};}function _isNativeReflectConstruct(){if(typeof Reflect==="undefined"||!Reflect.construct)return false;if(Reflect.construct.sham)return false;if(typeof Proxy==="function")return true;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}));return true;}catch(e){return false;}}var GrowthCurve=function(_Component){(0,_inherits2.default)(GrowthCurve,_Component);var _super=_createSuper(GrowthCurve);function GrowthCurve(props){var _this;(0,_classCallCheck2.default)(this,GrowthCurve);_this=_super.call(this,props);var _this$setData=_this.setData(props),CurveList=_this$setData.CurveList;var D=new Date();_this.state={CurveList:CurveList,Display:0,CurveName:"",DataPoints:[],Periode:"Days",Selected:{dataindex:null,index:null,error:false}};return _this;}(0,_createClass2.default)(GrowthCurve,[{key:"setData",value:function setData(Props){var localDataStore=Props.firebase.localDataStore;var CurveList=localDataStore.graphs;return{CurveList:CurveList};}},{key:"getData",value:function getData(){this.props.getCurve();}},{key:"checkData",value:function checkData(props){}},{key:"componentDidMount",value:function componentDidMount(){this.props.setViewLoading(false);this.props.setViewError(null);this.checkData(this.props);this.getData();}},{key:"componentDidUpdate",value:function componentDidUpdate(prevProps,prevState){if(this.props!==prevProps){this.checkData(this.props);if(this.props.firebase.localDataStore){if(this.props.firebase.localDataStore.graphs&&JSON.stringify(this.state.CurveList)!==JSON.stringify(this.props.firebase.localDataStore.graphs)){var _this$setData2=this.setData(this.props),CurveList=_this$setData2.CurveList;this.setState({CurveList:CurveList});}}}}},{key:"render",value:function render(){var _this2=this;var IsLoading=this.props.firebase.firebaseIsLoading;var ErrorMessage=this.props.firebase.viewError;var AverageGrowth=0;for(var i=0;i<this.state.DataPoints.length;i++){if(!this.state.DataPoints[i]||!this.state.DataPoints[i].hasOwnProperty("value"))continue;var value=this.state.DataPoints[i].value;if(value===""||value===null)value=0;value=parseFloat(value);for(var i2=i-1;i2>=0;i2--){if(this.state.DataPoints[i2]&&this.state.DataPoints[i2].hasOwnProperty("value")){var Growth=value-this.state.DataPoints[i2].value;AverageGrowth=(AverageGrowth+Growth)/2;break;}}}AverageGrowth=AverageGrowth.toFixed(3);var App=_Platform.default.OS==="android"||_Platform.default.OS==="ios"?true:false;return _react.default.createElement(_ScrollView.default,{style:[_Theme.Helpers.fullSize,_Theme.Helpers.fill],nestedScrollEnabled:true},_react.default.createElement(_View.default,{style:[_Theme.Helpers.mainContainer]},_react.default.createElement(_View.default,{style:[_Theme.Helpers.contentContainer,_Theme.Helpers.fullSize,_Theme.Helpers.fillColMain]},ErrorMessage?_react.default.createElement(_Text.default,{style:_Theme.ApplicationStyles.error},ErrorMessage):_react.default.createElement(_react.default.Fragment,null),this.state.Display===0?_react.default.createElement(_View.default,{style:[_Theme.Helpers.contentContainer,_Theme.Helpers.fullSize,{marginHorizontal:0,paddingHorizontal:-20}]},this.state.CurveList?_react.default.createElement(_View.default,{style:[_Theme.Helpers.fill,_Theme.Helpers.fullWidth,_Theme.Metrics.smallHorizontalPadding,_Theme.Metrics.smallVerticalPadding,{maxWidth:800,marginTop:10}]},_react.default.createElement(_FlatList.default,{nestedScrollEnabled:true,data:Object.keys(this.state.CurveList).filter(function(e){return e!=='__jsogObjectId'&&e!=='update_time';}),renderItem:function renderItem(_ref){var item=_ref.item;return _react.default.createElement(_Components.Button,{Text:item,onPress:function onPress(){var CurveData=_this2.state.CurveList[item];var DataPoints=[];if(!CurveData||!CurveData.hasOwnProperty("data")){_this2.props.viewError("DataFetch error, please try to refresh");}else{var _index=0;Object.keys(CurveData.data).filter(function(e){return e!=='__jsogObjectId';}).map(function(index){DataPoints[index]={value:CurveData.data[index]};for(var i=index-1;i>_index;i--){DataPoints[i]={value:null};}_index=index;});}_this2.setState({Display:2,CurveName:item,DataPoints:DataPoints,Periode:CurveData.periode});}});},keyExtractor:function keyExtractor(item,index){return index.toString();}})):_react.default.createElement(_react.default.Fragment,null),_react.default.createElement(_View.default,{style:[_Theme.Helpers.buttonContainer,_Theme.Helpers.borderContainer,_Theme.Helpers.midWidth]},_react.default.createElement(_Components.Button,{Text:"New Curve",onPress:function onPress(){_this2.setState({Display:1,DataPoints:[{value:"0"},{value:"0"}]});}}))):_react.default.createElement(_View.default,{style:[_Theme.Helpers.contentContainer,_Theme.Helpers.fullSize,{marginHorizontal:0,paddingHorizontal:-20}]},this.state.Display===1?_react.default.createElement(_reactNativeElements.Input,{label:"CurveName",containerStyle:[{borderWidth:1,marginTop:10}],style:[_Theme.ApplicationStyles.input],onChangeText:function onChangeText(text){if(text){if((0,_Selectors.DataStringCheck)(text)){_this2.setState({CurveName:text});}}else{_this2.setState({CurveName:text});}},value:this.state.CurveName}):_react.default.createElement(_Components.TitleElement,{Text:this.state.CurveName}),_react.default.createElement(_View.default,{style:[_Theme.Helpers.fill,_Theme.Helpers.fullWidth]},_react.default.createElement(_Components.ContentProp,{texts:["Periode: "+this.state.Periode],datas:["Average Growth: "+AverageGrowth]}),_react.default.createElement(_View.default,{style:[_Theme.Helpers.borderContainer,_Theme.Helpers.fillCenter,_Theme.Helpers.fullWidth,{alignSelf:'center'}]},_react.default.createElement(_CurveElement.default,{Display:true,DataPoints:this.state.DataPoints,Height:200,Width:455})),_react.default.createElement(_View.default,null,_react.default.createElement(_FlatList.default,{nestedScrollEnabled:true,data:this.state.DataPoints,style:[App?styles.AppStyle:styles.WebStyle],renderItem:function renderItem(_ref2){var item=_ref2.item,index=_ref2.index;if(!item||item.value===null||item.value===undefined)return null;var Selected=index===_this2.state.Selected.dataindex;return _react.default.createElement(_View.default,{style:[_Theme.Helpers.fullWidth,_Theme.Helpers.row],onFocus:function onFocus(){_this2.setState({Selected:{dataindex:index,index:index,error:false}});},onBlur:function onBlur(){_this2.setState({Selected:{dataindex:null,index:null,error:false}});}},_react.default.createElement(_reactNativeElements.Input,{label:"Day:",type:"number",step:"0.1",containerStyle:[{width:120,borderWidth:1,marginTop:10,marginRight:10}],style:[_Theme.ApplicationStyles.input,{width:100}],errorMessage:Selected&&_this2.state.Selected.error?"Value error":"",editable:index===0?false:true,onChangeText:function onChangeText(text){if(!isNaN(text)){var _Selected=_this2.state.Selected;_Selected.index=text;_Selected.error=false;if(_this2.state.DataPoints[text]&&_this2.state.DataPoints[text].hasOwnProperty("value")&&_this2.state.DataPoints[text].value){_Selected.error=true;}_this2.setState({Selected:_Selected});}},onBlur:function onBlur(){if(!_this2.state.Selected.error&&_this2.state.Selected.dataindex!==_this2.state.Selected.index){var DataPoints=(0,_toConsumableArray2.default)(_this2.state.DataPoints);DataPoints[_this2.state.Selected.index]={value:item.value.toString()};DataPoints[_this2.state.Selected.dataindex].value=null;var FirstData=false;for(var i=DataPoints.length-1;i>1;i--){if(!DataPoints[i]||!DataPoints[i].hasOwnProperty("value")||!DataPoints[i].value){if(FirstData){DataPoints[i]={value:null};}else DataPoints.pop();}else{FirstData=true;}}_this2.setState({DataPoints:DataPoints});}},value:""+(Selected?_this2.state.Selected.index:index)}),_react.default.createElement(_reactNativeElements.Input,{label:"Weight:",type:"number",step:"0.1",containerStyle:[_Theme.Helpers.fill,{borderWidth:1,marginTop:10}],style:[_Theme.ApplicationStyles.input],onChangeText:function onChangeText(text){if(!isNaN(text)||text.endsWith('.')&&text.split('.').length<=2){var DataPoints=(0,_toConsumableArray2.default)(_this2.state.DataPoints);DataPoints[index].value=text;_this2.setState({DataPoints:DataPoints});}},onBlur:function onBlur(e){var text=e.nativeEvent.text;if(text===undefined||text===null||text===""){var DataPoints=(0,_toConsumableArray2.default)(_this2.state.DataPoints);DataPoints[index].value="0";_this2.setState({DataPoints:DataPoints});}},value:""+item.value}));},keyExtractor:function keyExtractor(item,index){return index.toString();},numColumns:1})),_react.default.createElement(_View.default,{style:{height:20}}),_react.default.createElement(_Components.Button,{Text:"New Point",onPress:function onPress(){var DataPoints=(0,_toConsumableArray2.default)(_this2.state.DataPoints);var value=_this2.state.DataPoints&&_this2.state.DataPoints.length>=1?_this2.state.DataPoints[_this2.state.DataPoints.length-1].value:"0";DataPoints.push({value:value});_this2.setState({DataPoints:DataPoints});}})),_react.default.createElement(_View.default,{style:[_Theme.Helpers.buttonContainer,_Theme.Helpers.borderContainer,_Theme.Helpers.midWidth,{marginTop:10}]},_react.default.createElement(_Components.Button,{Text:"Save",onPress:function onPress(){var update=true;if(_this2.state.CurveName!==""){var Name=_this2.state.CurveName;if(!Object.keys(_this2.state.CurveList).includes(Name)){if(_this2.state.Display===2){_this2.props.setViewError("Cannot update non-existing Curve. (Please refresh)");update=false;}}else{if(_this2.state.Display===1){_this2.props.setViewError("Cannot create allready existing Curve.");update=false;}}}else{_this2.props.setViewError("Curve template need a name.");update=false;}var lastDataIndex=0;_this2.state.DataPoints.forEach(function(element,index){if(update&&element.value!==null&&element.value!==undefined){if(index>0&&parseInt(element.value)<=parseInt(_this2.state.DataPoints[lastDataIndex].value)){var Eindex=lastDataIndex;if(element.value===_this2.state.DataPoints[lastDataIndex].value)Eindex=index;_this2.props.setViewError("Curve template needs to be incremental: error at day: "+Eindex);update=false;}else{lastDataIndex=index;}}});if(update){_this2.props.setViewError(null);_this2.props.setViewLoading(true);var newCurve={name:_this2.state.CurveName,periode:_this2.state.Periode};var Data=[];var index=0;_this2.state.DataPoints.forEach(function(element){if(element.value)Data[index]=parseFloat(element.value);index++;});newCurve.data=Data;_this2.props.updateCurve(newCurve);_this2.setState({Display:0});}}})))),(IsLoading||this.props.firebase.viewIsLoading)&&_react.default.createElement(_ActivityIndicator.default,{style:_Theme.Helpers.loadingContainer,size:"large"})));}}]);return GrowthCurve;}(_react.Component);var styles=_StyleSheet.default.create({AppStyle:{},WebStyle:{height:400}});var mapStateToProps=function mapStateToProps(state){var firebase=state.firebase;return{firebase:firebase};};var mapDispatchToProps=function mapDispatchToProps(dispatch){return{setViewLoading:function setViewLoading(state){return dispatch(_Actions.default.viewIsLoading(state));},setViewError:function setViewError(error){return dispatch(_Actions.default.setViewError(error));},getCurve:function getCurve(){return dispatch(_Actions.default.actionStarting(_Selectors.Actions.FETCH,_Selectors.DataRefs.GRAPH,{GraphId:""}));},updateCurve:function updateCurve(curve){return dispatch(_Actions.default.actionStarting(_Selectors.Actions.UPDATE,_Selectors.DataRefs.GRAPH,{Graph:curve}));}};};var _default=(0,_reactRedux.connect)(mapStateToProps,mapDispatchToProps)(GrowthCurve);exports.default=_default;

/***/ }),

/***/ 1046:
/***/ (function(module, exports, __webpack_require__) {

var _interopRequireWildcard=__webpack_require__(7);var _interopRequireDefault=__webpack_require__(2);Object.defineProperty(exports,"__esModule",{value:true});exports.default=void 0;var _defineProperty2=_interopRequireDefault(__webpack_require__(11));var _classCallCheck2=_interopRequireDefault(__webpack_require__(9));var _createClass2=_interopRequireDefault(__webpack_require__(10));var _inherits2=_interopRequireDefault(__webpack_require__(15));var _possibleConstructorReturn2=_interopRequireDefault(__webpack_require__(16));var _getPrototypeOf2=_interopRequireDefault(__webpack_require__(14));var React=_interopRequireWildcard(__webpack_require__(1));var _Text=_interopRequireDefault(__webpack_require__(21));var _View=_interopRequireDefault(__webpack_require__(8));var _ActivityIndicator=_interopRequireDefault(__webpack_require__(30));var _Image=_interopRequireDefault(__webpack_require__(33));var _StyleSheet=_interopRequireDefault(__webpack_require__(12));var _ScrollView=_interopRequireDefault(__webpack_require__(39));var _FlatList=_interopRequireDefault(__webpack_require__(50));var _SafeAreaView=_interopRequireDefault(__webpack_require__(97));var _reactNativeElements=__webpack_require__(46);var _reactRedux=__webpack_require__(37);var _redux=__webpack_require__(29);var _NavigationService=_interopRequireDefault(__webpack_require__(32));var _Actions=_interopRequireDefault(__webpack_require__(38));var _Selectors=__webpack_require__(40);var _Components=__webpack_require__(44);var _UserPanelStyle=_interopRequireDefault(__webpack_require__(80));var _Theme=__webpack_require__(22);var _victoryNative=__webpack_require__(1167);function ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);if(enumerableOnly)symbols=symbols.filter(function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable;});keys.push.apply(keys,symbols);}return keys;}function _objectSpread(target){for(var i=1;i<arguments.length;i++){var source=arguments[i]!=null?arguments[i]:{};if(i%2){ownKeys(Object(source),true).forEach(function(key){(0,_defineProperty2.default)(target,key,source[key]);});}else if(Object.getOwnPropertyDescriptors){Object.defineProperties(target,Object.getOwnPropertyDescriptors(source));}else{ownKeys(Object(source)).forEach(function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key));});}}return target;}function _createSuper(Derived){var hasNativeReflectConstruct=_isNativeReflectConstruct();return function _createSuperInternal(){var Super=(0,_getPrototypeOf2.default)(Derived),result;if(hasNativeReflectConstruct){var NewTarget=(0,_getPrototypeOf2.default)(this).constructor;result=Reflect.construct(Super,arguments,NewTarget);}else{result=Super.apply(this,arguments);}return(0,_possibleConstructorReturn2.default)(this,result);};}function _isNativeReflectConstruct(){if(typeof Reflect==="undefined"||!Reflect.construct)return false;if(Reflect.construct.sham)return false;if(typeof Proxy==="function")return true;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}));return true;}catch(e){return false;}}var VictoryZoomVoronoiContainer=(0,_victoryNative.createContainer)("zoom","voronoi");function getRandomNumber(low,high){var r=Math.floor(Math.random()*(high-low+1))+low;return r;}function getRandomColor(){var red_range=[10,250];var green_range=[10,250];var blue_range=[10,250];var a_range=[0.2,1];var red=getRandomNumber(red_range[0],red_range[1]);var green=getRandomNumber(green_range[0],green_range[1]);var blue=getRandomNumber(blue_range[0],blue_range[1]);var alpha=getRandomNumber(a_range[0]*100,a_range[1]*100)/100;return{r:red,g:green,b:blue,a:alpha,rgbaValue:'rgba('+red+','+green+','+blue+','+alpha+')'};}var AutoPig=function(_Component){(0,_inherits2.default)(AutoPig,_Component);var _super=_createSuper(AutoPig);function AutoPig(props){var _this;(0,_classCallCheck2.default)(this,AutoPig);_this=_super.call(this,props);var _this$setData=_this.setData(props),FarmData=_this$setData.FarmData,ValveData=_this$setData.ValveData,ScaleData=_this$setData.ScaleData,categories=_this$setData.categories,series=_this$setData.series,Domain=_this$setData.Domain;_this.state={FarmData:FarmData,ValveData:ValveData,ScaleData:ScaleData,Limit:300,SysId:2,STime:undefined,ETime:undefined,LastId:undefined,categories:categories,series:series,entireDomain:Domain,zoomedDomain:Domain};return _this;}(0,_createClass2.default)(AutoPig,[{key:"setData",value:function setData(Props){var localDataStore=Props.firebase.localDataStore;var FirebaseUser=this.props.firebase.firebaseUser;var Site=null,refToken=null,accessToken=null;var FarmData=null,ValveData={},ScaleData={};var categories=[],series=[];if(FirebaseUser&&FirebaseUser.farms&&localDataStore&&localDataStore.farms){var FarmsData=localDataStore.farms;if(FarmsData&&FarmsData[Object.keys(FirebaseUser.farms)[0]]){FarmData=FarmsData[Object.keys(FirebaseUser.farms)[0]];}}if(localDataStore&&localDataStore.consys){if(localDataStore.consys.feedData){ValveData=localDataStore.consys.feedData;var DataSet=[];Object.keys(ValveData).filter(function(e){return e!=='__jsogObjectId';}).forEach(function(element){var data=ValveData[element];var _DataSet=DataSet.find(function(x){return x.name===data.valve;});if(_DataSet){_DataSet.data.push({x:data.timestamp*1000,y:data.amount,silono:data.silono,unit:data.unit});}else{DataSet.push({name:data.valve,data:[{x:data.timestamp*1000,y:data.amount,silono:data.silono,unit:data.unit}]});}});DataSet.forEach(function(element){series.push({type:"Bar",name:element.name,color:getRandomColor().rgbaValue,data:element.data});});}if(localDataStore.consys.scaleData){ScaleData=localDataStore.consys.scaleData;var DataSet2=[];Object.keys(ScaleData).filter(function(e){return e!=='__jsogObjectId';}).forEach(function(element){var data=ScaleData[element];DataSet2.push({x:data.timestamp*1000,y:data.amount});});if(DataSet2.length>0){series.push({type:'Line',name:'AutoScale',color:getRandomColor().rgbaValue,data:DataSet2});}}}var Domain=this.getEntireDomain(series);return{FarmData:FarmData,ValveData:ValveData,ScaleData:ScaleData,categories:categories,series:series,Domain:Domain};}},{key:"getData",value:function getData(){var localDataStore=this.props.firebase.localDataStore;var FirebaseUser=this.props.firebase.firebaseUser;this.props.getFarm();}},{key:"checkData",value:function checkData(props){var localDataStore=this.props.firebase.localDataStore;var FirebaseUser=this.props.firebase.firebaseUser;if(FirebaseUser&&FirebaseUser.farms&&localDataStore&&localDataStore.farms){var FarmsData=localDataStore.farms;if(FarmsData&&FarmsData[Object.keys(FirebaseUser.farms)[0]]){var FarmData=FarmsData[Object.keys(FirebaseUser.farms)[0]];if(!FarmData.site||!FarmData.refToken){_NavigationService.default.nacigationPop();}}}}},{key:"componentDidUpdate",value:function componentDidUpdate(prevProps,prevState){if(this.props!==prevProps){this.checkData(this.props);if(this.props.firebase.localDataStore&&prevProps.firebase.localDataStore){var localDataStore=this.props.firebase.localDataStore;var firebaseUser=this.props.firebase.firebaseUser;if(localDataStore.farms&&firebaseUser.farms&&localDataStore.farms[Object.keys(firebaseUser.farms)[0]]){var Farm=localDataStore.farms[Object.keys(firebaseUser.farms)[0]];if(this.state.FarmData.site!==Farm.site||this.state.FarmData.refToken!==Farm.refToken||this.state.FarmData.token!==Farm.token||localDataStore.consys&&localDataStore.consys.scaleData&&JSON.stringify(this.state.ScaleData)!==JSON.stringify(localDataStore.consys.scaleData)||localDataStore.consys&&localDataStore.consys.feedData&&JSON.stringify(this.state.ValveData)!==JSON.stringify(localDataStore.consys.feedData)){var _this$setData2=this.setData(this.props),FarmData=_this$setData2.FarmData,ValveData=_this$setData2.ValveData,ScaleData=_this$setData2.ScaleData,categories=_this$setData2.categories,series=_this$setData2.series,Domain=_this$setData2.Domain;console.log(ValveData,ScaleData);this.setState({FarmData:FarmData,ValveData:ValveData,ScaleData:ScaleData,categories:categories,series:series,entireDomain:Domain,zoomedDomain:Domain});}}}}}},{key:"componentDidMount",value:function componentDidMount(){this.props.setViewLoading(false);this.props.setViewError(null);this.checkData(this.props);this.getData();}},{key:"getEntireDomain",value:function getEntireDomain(series){var MinMax={y:[0,0],x:[0,0]};series.forEach(function(element){var data=element.data;var min=_.minBy(data,function(d){return d.y;}).y;var max=_.maxBy(data,function(d){return d.y;}).y;if(min<MinMax.y[0])MinMax.y[0]=min;if(max>MinMax.y[1])MinMax.y[1]=max;min=_.minBy(data,function(d){return d.x;}).x;max=_.maxBy(data,function(d){return d.x;}).x;if(min<MinMax.x[0]||MinMax.x[0]===0)MinMax.x[0]=min;if(max>MinMax.x[1])MinMax.x[1]=max;});return MinMax;}},{key:"getZoomDomain",value:function getZoomDomain(){var zoomedXDomain=this.state.zoomedDomain.x;var Serie=this.state.series;var maxPoints=150;var filteredSeries=[];Serie.forEach(function(element){var filtered=[];if(element.type==="Line"){var last=null;element.data.forEach(function(data){if(data.x>=zoomedXDomain[0]){if(data.x<=zoomedXDomain[1]){if(filtered.length===0&&last!==null)filtered.push(last);filtered.push(data);}else if(last.x<=zoomedXDomain[1])filtered.push(data);}last=data;});}else{filtered=element.data.filter(function(d){return d.x>=zoomedXDomain[0]&&d.x<=zoomedXDomain[1];});}if(filtered.length>0)filteredSeries.push(_objectSpread(_objectSpread({},element),{},{data:filtered}));});return filteredSeries;}},{key:"onDomainChange",value:function onDomainChange(domain){this.setState({zoomedDomain:domain});}},{key:"render",value:function render(){var _this2=this;var IsLoading=this.props.firebase.firebaseIsLoading;var ErrorMessage=this.props.firebase.viewError;var localDataStore=this.props.firebase.localDataStore;var Token=this.state.FarmData.token?this.state.FarmData.token:null;var test="";var renderData=this.getZoomDomain();var Legends=[this.state.zoomedDomain.x[0]];while(Legends[Legends.length-1]<this.state.zoomedDomain.x[1]){Legends.push(Legends[Legends.length-1]+3600000);}return React.createElement(_ScrollView.default,{style:[_Theme.Helpers.fullSize,_Theme.Helpers.fill]},React.createElement(_View.default,{style:[_Theme.Helpers.mainContainer]},React.createElement(_View.default,{style:[_Theme.Helpers.contentContainer,_Theme.Helpers.fullSize,_Theme.Helpers.fill]},ErrorMessage?React.createElement(_Text.default,{style:_Theme.ApplicationStyles.error},ErrorMessage):React.createElement(React.Fragment,null),React.createElement(_Components.TitleElement,{Text:"AutoPigs"}),React.createElement(_View.default,null,React.createElement(_View.default,{style:[_Theme.Helpers.rowCenter]},React.createElement(_reactNativeElements.Input,{label:"SysId",containerStyle:[{maxWidth:100}],style:[_Theme.ApplicationStyles.input,{maxWidth:90}],onChangeText:function onChangeText(text){if(!isNaN(text)){_this2.setState({SysId:text});}},value:this.state.SysId}),React.createElement(_reactNativeElements.Input,{label:"Data Limit",containerStyle:[{maxWidth:150}],style:[_Theme.ApplicationStyles.input,{maxWidth:140}],onChangeText:function onChangeText(text){if(!isNaN(text)||text===""){if(text==="")text=undefined;_this2.setState({Limit:text});}},value:this.state.Limit}),React.createElement(_reactNativeElements.Input,{label:"LastId (Ids newer than)",containerStyle:[{maxWidth:200}],style:[_Theme.ApplicationStyles.input,{maxWidth:190}],onChangeText:function onChangeText(text){if(text==="")text=undefined;if(text){_this2.setState({LastId:text});}else{_this2.setState({LastId:text});}},value:this.state.LastId})),React.createElement(_View.default,{style:[_Theme.Helpers.rowCenter]},React.createElement(_reactNativeElements.Input,{label:"Start Time : Epoch-sec (newest)",containerStyle:[_Theme.Helpers.halvWidth],style:[_Theme.ApplicationStyles.input],onChangeText:function onChangeText(text){if(text===""){_this2.setState({STime:undefined});}else if(!isNaN(text)){_this2.setState({STime:text});}},value:this.state.STime}),React.createElement(_reactNativeElements.Input,{label:"End Time : Epoch-sec (oldest)",containerStyle:[_Theme.Helpers.halvWidth],style:[_Theme.ApplicationStyles.input],onChangeText:function onChangeText(text){if(text===""){_this2.setState({ETime:undefined});}else if(!isNaN(text)){_this2.setState({ETime:text});}},value:this.state.ETime})),React.createElement(_View.default,{style:[_Theme.Helpers.rowCenter]},React.createElement(_Components.Button,{Text:"Fetch Scale_Data",onPress:function onPress(){_this2.props.getAutoPig(_this2.state.Limit,_this2.state.SysId,_this2.state.STime,_this2.state.ETime,null,_this2.state.LastId);}}),React.createElement(_View.default,{style:{width:20}}),React.createElement(_Components.Button,{Text:"Fetch Valve_Data",onPress:function onPress(){_this2.props.getValveFeed(_this2.state.Limit,_this2.state.SysId,_this2.state.STime,_this2.state.ETime,null,_this2.state.LastId);}}))),React.createElement(_SafeAreaView.default,{style:[_Theme.Helpers.borderContainer,_Theme.Helpers.fullSize,{maxWidth:900,maxHeight:650}]},React.createElement(_victoryNative.VictoryChart,{scale:{x:"time"},containerComponent:React.createElement(VictoryZoomVoronoiContainer,{voronoiDimension:"x",zoomDimension:"x",mouseFollowTooltips:true,onZoomDomainChange:this.onDomainChange.bind(this),labels:function labels(_ref){var datum=_ref.datum;if(datum.childName==="none")return;var DateTime=new Date(datum.x);var format=DateTime.getDate()+"/"+DateTime.getMonth()+"/"+DateTime.getFullYear()+" "+ +("0"+DateTime.getHours()).slice(-2)+":"+("0"+DateTime.getMinutes()).slice(-2);if(datum.silono||datum.unit){var add="\n";if(datum.silono)add+='Silo: '+datum.silono+' ';if(datum.unit)add+='Unit: '+datum.unit;return datum.childName+' y: '+datum.y+add+"\n"+format;}else return datum.childName+' y: '+datum.y+"\n"+format;},labelComponent:React.createElement(_victoryNative.VictoryTooltip,{cornerRadius:0,flyoutStyle:{fill:"white"}})}),width:900,height:600,domain:this.state.entireDomain,theme:_victoryNative.VictoryTheme.material},React.createElement(_victoryNative.VictoryAxis,{crossAxis:false,scale:{x:"time"},tickCount:8,minDomain:{x:1,y:0},tickFormat:function tickFormat(t){var DateTime=new Date(t);var format=DateTime.getDate()+"/"+DateTime.getMonth()+"/"+DateTime.getFullYear()+" "+("0"+DateTime.getHours()).slice(-2)+":"+("0"+DateTime.getMinutes()).slice(-2);if(test===format)return;else test=format;return format;},theme:_victoryNative.VictoryTheme.material,standalone:false,fixLabelOverlap:true,tickValues:Legends,style:{grid:{stroke:"#818e99",strokeWidth:0.5}}}),React.createElement(_victoryNative.VictoryAxis,{dependentAxis:true,crossAxis:false,tickCount:20,minDomain:{x:0,y:0},tickFormat:function tickFormat(t){return Math.round(t*10)/10;},theme:_victoryNative.VictoryTheme.material,standalone:false,style:{grid:{stroke:"#818e99",strokeWidth:0.5}}}),renderData.map(function(Data,i){if(Data.type==="Bar"){return React.createElement(_victoryNative.VictoryBar,{key:"Bar_"+Data.name,barWidth:6,data:Data.data,style:{data:{fill:Data.color}},name:'valve: '+Data.name});}else if(Data.type==="Line"){return React.createElement(_victoryNative.VictoryLine,{key:"Line_"+Data.name,data:Data.data,style:{data:{stroke:Data.color,strokeWidth:function strokeWidth(_ref2){var active=_ref2.active;return active?2:1;}}},name:Data.name});}})))),(IsLoading||this.props.firebase.viewIsLoading)&&React.createElement(_ActivityIndicator.default,{style:_Theme.Helpers.loadingContainer,size:"large"})));}}]);return AutoPig;}(React.Component);var mapStateToProps=function mapStateToProps(state){var firebase=state.firebase;return{firebase:firebase};};var mapDispatchToProps=function mapDispatchToProps(dispatch){return{setViewLoading:function setViewLoading(state){return dispatch(_Actions.default.viewIsLoading(state));},setViewError:function setViewError(error){return dispatch(_Actions.default.setViewError(error));},getFarm:function getFarm(){return dispatch(_Actions.default.actionStarting(_Selectors.Actions.FETCH,_Selectors.DataRefs.FARMS,{}));},getValveFeed:function getValveFeed(limit,sysId,start,stop,offset,lastId){return dispatch(_Actions.default.actionStarting(_Selectors.ConsysRefs.VALVEFEED,_Selectors.DataRefs.CONSYS,{limit:limit,sysId:sysId,start:start,stop:stop,offset:offset,lastId:lastId}));},getAutoPig:function getAutoPig(limit,sysId,start,stop,offset,lastId){return dispatch(_Actions.default.actionStarting(_Selectors.ConsysRefs.SCALE,_Selectors.DataRefs.CONSYS,{limit:limit,sysId:sysId,start:start,stop:stop,offset:offset,lastId:lastId}));}};};var _default=(0,_reactRedux.connect)(mapStateToProps,mapDispatchToProps)(AutoPig);exports.default=_default;

/***/ }),

/***/ 1154:
/***/ (function(module, exports, __webpack_require__) {

var _interopRequireWildcard=__webpack_require__(7);var _interopRequireDefault=__webpack_require__(2);Object.defineProperty(exports,"__esModule",{value:true});exports.default=void 0;var _classCallCheck2=_interopRequireDefault(__webpack_require__(9));var _createClass2=_interopRequireDefault(__webpack_require__(10));var _inherits2=_interopRequireDefault(__webpack_require__(15));var _possibleConstructorReturn2=_interopRequireDefault(__webpack_require__(16));var _getPrototypeOf2=_interopRequireDefault(__webpack_require__(14));var _react=_interopRequireWildcard(__webpack_require__(1));var _Text=_interopRequireDefault(__webpack_require__(21));var _View=_interopRequireDefault(__webpack_require__(8));var _ActivityIndicator=_interopRequireDefault(__webpack_require__(30));var _ScrollView=_interopRequireDefault(__webpack_require__(39));var _reactRedux=__webpack_require__(37);var _redux=__webpack_require__(29);var _NavigationService=_interopRequireDefault(__webpack_require__(32));var _Actions=_interopRequireDefault(__webpack_require__(38));var _Selectors=__webpack_require__(40);var _Components=__webpack_require__(44);var _UserPanelStyle=_interopRequireDefault(__webpack_require__(80));var _Theme=__webpack_require__(22);function _createSuper(Derived){var hasNativeReflectConstruct=_isNativeReflectConstruct();return function _createSuperInternal(){var Super=(0,_getPrototypeOf2.default)(Derived),result;if(hasNativeReflectConstruct){var NewTarget=(0,_getPrototypeOf2.default)(this).constructor;result=Reflect.construct(Super,arguments,NewTarget);}else{result=Super.apply(this,arguments);}return(0,_possibleConstructorReturn2.default)(this,result);};}function _isNativeReflectConstruct(){if(typeof Reflect==="undefined"||!Reflect.construct)return false;if(Reflect.construct.sham)return false;if(typeof Proxy==="function")return true;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}));return true;}catch(e){return false;}}var Operations=function(_Component){(0,_inherits2.default)(Operations,_Component);var _super=_createSuper(Operations);function Operations(props){var _this;(0,_classCallCheck2.default)(this,Operations);_this=_super.call(this,props);_this.state={};return _this;}(0,_createClass2.default)(Operations,[{key:"getData",value:function getData(){this.props.setCurrentData({});}},{key:"checkData",value:function checkData(props){}},{key:"componentDidMount",value:function componentDidMount(){this.props.setViewLoading(false);this.props.setViewError(null);this.checkData(this.props);this.getData();}},{key:"componentDidUpdate",value:function componentDidUpdate(prevProps,prevState){}},{key:"render",value:function render(){var IsLoading=this.props.firebase.firebaseIsLoading;var ErrorMessage=this.props.firebase.viewError;return _react.default.createElement(_View.default,{style:[_Theme.Helpers.mainContainer]},_react.default.createElement(_View.default,{style:[_Theme.Helpers.contentContainer,_Theme.Helpers.fullSize,_Theme.Helpers.fill]},ErrorMessage?_react.default.createElement(_Text.default,{style:_Theme.ApplicationStyles.error},ErrorMessage):_react.default.createElement(_react.default.Fragment,null),_react.default.createElement(_View.default,{style:[_Theme.Helpers.buttonContainer,_Theme.Helpers.midWidth,_Theme.Metrics.bottomMargin,{marginBottom:60}]}),_react.default.createElement(_View.default,{style:[_Theme.Helpers.buttonContainer,_Theme.Helpers.halvWidth,_Theme.Helpers.fillColMain]},_react.default.createElement(_Components.OperationsPanel,{section:true}))),(IsLoading||this.props.firebase.viewIsLoading)&&_react.default.createElement(_ActivityIndicator.default,{style:_Theme.Helpers.loadingContainer,size:"large"}));}}]);return Operations;}(_react.Component);var mapStateToProps=function mapStateToProps(state){var firebase=state.firebase;return{firebase:firebase};};var mapDispatchToProps=function mapDispatchToProps(dispatch){return{setViewLoading:function setViewLoading(state){return dispatch(_Actions.default.viewIsLoading(state));},setViewError:function setViewError(error){return dispatch(_Actions.default.setViewError(error));},setCurrentData:function setCurrentData(actionType){return dispatch(_Actions.default.setCurrentData({type:_Selectors.DataRefs.PENS,action:actionType}));}};};var _default=(0,_reactRedux.connect)(mapStateToProps,mapDispatchToProps)(Operations);exports.default=_default;

/***/ }),

/***/ 1155:
/***/ (function(module, exports, __webpack_require__) {

var _interopRequireWildcard=__webpack_require__(7);var _interopRequireDefault=__webpack_require__(2);Object.defineProperty(exports,"__esModule",{value:true});exports.default=void 0;var _defineProperty2=_interopRequireDefault(__webpack_require__(11));var _classCallCheck2=_interopRequireDefault(__webpack_require__(9));var _createClass2=_interopRequireDefault(__webpack_require__(10));var _inherits2=_interopRequireDefault(__webpack_require__(15));var _possibleConstructorReturn2=_interopRequireDefault(__webpack_require__(16));var _getPrototypeOf2=_interopRequireDefault(__webpack_require__(14));var _react=_interopRequireWildcard(__webpack_require__(1));var _Text=_interopRequireDefault(__webpack_require__(21));var _View=_interopRequireDefault(__webpack_require__(8));var _ActivityIndicator=_interopRequireDefault(__webpack_require__(30));var _Picker=_interopRequireDefault(__webpack_require__(125));var _reactNativeElements=__webpack_require__(46);var _reactRedux=__webpack_require__(37);var _redux=__webpack_require__(29);var _NavigationService=_interopRequireDefault(__webpack_require__(32));var _Actions=_interopRequireDefault(__webpack_require__(38));var _Selectors=__webpack_require__(40);var _Components=__webpack_require__(44);var _CloudScreenStyle=_interopRequireDefault(__webpack_require__(127));var _Theme=__webpack_require__(22);function ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);if(enumerableOnly)symbols=symbols.filter(function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable;});keys.push.apply(keys,symbols);}return keys;}function _objectSpread(target){for(var i=1;i<arguments.length;i++){var source=arguments[i]!=null?arguments[i]:{};if(i%2){ownKeys(Object(source),true).forEach(function(key){(0,_defineProperty2.default)(target,key,source[key]);});}else if(Object.getOwnPropertyDescriptors){Object.defineProperties(target,Object.getOwnPropertyDescriptors(source));}else{ownKeys(Object(source)).forEach(function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key));});}}return target;}function _createSuper(Derived){var hasNativeReflectConstruct=_isNativeReflectConstruct();return function _createSuperInternal(){var Super=(0,_getPrototypeOf2.default)(Derived),result;if(hasNativeReflectConstruct){var NewTarget=(0,_getPrototypeOf2.default)(this).constructor;result=Reflect.construct(Super,arguments,NewTarget);}else{result=Super.apply(this,arguments);}return(0,_possibleConstructorReturn2.default)(this,result);};}function _isNativeReflectConstruct(){if(typeof Reflect==="undefined"||!Reflect.construct)return false;if(Reflect.construct.sham)return false;if(typeof Proxy==="function")return true;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}));return true;}catch(e){return false;}}var Weighing=function(_Component){(0,_inherits2.default)(Weighing,_Component);var _super=_createSuper(Weighing);function Weighing(props){var _this;(0,_classCallCheck2.default)(this,Weighing);_this=_super.call(this,props);var _this$setData=_this.setData(_this.props),Sections=_this$setData.Sections,Section=_this$setData.Section,Pens=_this$setData.Pens,Pen=_this$setData.Pen,quantity=_this$setData.quantity;_this.state={Sections:Sections,Section:Section,Pens:Pens,Pen:Pen,weight:"",quantity:quantity,date:new Date().getTime()};return _this;}(0,_createClass2.default)(Weighing,[{key:"getData",value:function getData(){var localDataStore=this.props.firebase.localDataStore;if(!localDataStore.sections)localDataStore.sections={};this.props.getSections(localDataStore.sections.update_time);}},{key:"setData",value:function setData(Props){var localDataStore=Props.firebase.localDataStore;var Sections=false;if(localDataStore&&localDataStore.sections&&localDataStore.sections!==Sections){Sections=(0,_Selectors.sortObject)(localDataStore.sections);}var CurrentData=Props.firebase.currentData;var Section=Sections?Object.keys(Sections)[0]:"";if(CurrentData&&CurrentData.data&&CurrentData.data.section&&Sections[CurrentData.data.section]){if(CurrentData.data.section!=Section){Section=CurrentData.data.section;}}var Pens=Sections?(0,_Selectors.sortObject)(Sections[Section].pens):{};var Pen=Sections?Object.keys(Pens)[0]:"";if(CurrentData&&CurrentData.penId&&Pens[CurrentData.penId]&&CurrentData.penId!=Pen){Pen=CurrentData.penId;}var quantity=1;if(localDataStore&&localDataStore.pens){var _Pen=localDataStore.pens[Pen];if(_Pen&&_Pen.datas&&_Pen.datas.count)quantity=_Pen.datas.count;}if(!Sections)Sections={};return{Sections:Sections,Section:Section,Pens:Pens,Pen:Pen,quantity:quantity};}},{key:"checkData",value:function checkData(props){}},{key:"componentDidMount",value:function componentDidMount(){this.props.setViewLoading(false);this.props.setViewError(null);this.checkData(this.props);this.getData();}},{key:"componentDidUpdate",value:function componentDidUpdate(prevProps,prevState){if(this.props!==prevProps){this.checkData(this.props);if(this.props.firebase.localDataStore){if(this.props.firebase.localDataStore.sections&&JSON.stringify(this.state.Sections)!==JSON.stringify((0,_Selectors.sortObject)(this.props.firebase.localDataStore.sections))){var _this$setData2=this.setData(this.props),Sections=_this$setData2.Sections,Section=_this$setData2.Section,Pens=_this$setData2.Pens,Pen=_this$setData2.Pen,quantity=_this$setData2.quantity;this.setState({Sections:Sections,Section:Section,Pens:Pens,Pen:Pen,quantity:quantity,weight:""});}}}}},{key:"render",value:function render(){var _this2=this;var IsLoading=this.props.firebase.firebaseIsLoading;var ErrorMessage=this.props.firebase.viewError;var localDataStore=this.props.firebase.localDataStore;return _react.default.createElement(_View.default,{style:[_Theme.Helpers.mainContainer]},_react.default.createElement(_View.default,{style:[_Theme.Helpers.contentContainer,_Theme.Helpers.fullSize,_Theme.Helpers.fill]},ErrorMessage?_react.default.createElement(_Text.default,{style:_Theme.ApplicationStyles.error},ErrorMessage):_react.default.createElement(_react.default.Fragment,null),_react.default.createElement(_View.default,{style:[_Theme.Helpers.contentContainer,_Theme.Helpers.fullSize,_Theme.Helpers.fill]},_react.default.createElement(_View.default,{style:[_Theme.Helpers.buttonContainer,_Theme.Helpers.midWidth,_Theme.Metrics.bottomMargin]},_react.default.createElement(_Components.Button,{Text:"Weighing",buttonStyle:{backgroundColor:_Theme.Colors.AgriDarkblue},onPress:function onPress(){}})),_react.default.createElement(_View.default,{style:[_Theme.Helpers.borderContainer,_Theme.Helpers.fullWidth,{marginBottom:20}]},_react.default.createElement(_Picker.default,{mode:"dropdown",selectedValue:this.state.Section,style:{height:50,width:150},onValueChange:function onValueChange(itemValue,itemIndex){if(_this2.state.Sections[itemValue]){var Pens=(0,_Selectors.sortObject)(_this2.state.Sections[itemValue].pens);var quantity=1;if(localDataStore&&localDataStore.pens){var Pen=localDataStore.pens[Object.keys(Pens)[0]];if(Pen&&Pen.datas&&Pen.datas.count)quantity=Pen.datas.count;}_this2.setState({Section:itemValue,Pens:Pens,Pen:Object.keys(Pens)[0],quantity:quantity});}}},Object.keys(this.state.Sections).map(function(Section,i){return _react.default.createElement(_Picker.default.Item,{label:Section,value:Section,key:i});})),_react.default.createElement(_Picker.default,{mode:"dropdown",selectedValue:this.state.Pen,style:{height:50,width:150},onValueChange:function onValueChange(itemValue,itemIndex){var quantity=1;if(localDataStore&&localDataStore.pens){var Pen=localDataStore.pens[itemValue];if(Pen&&Pen.datas&&Pen.datas.count)quantity=Pen.datas.count;}_this2.setState({quantity:quantity,Pen:itemValue});}},Object.keys(this.state.Pens).map(function(Pen,i){return _react.default.createElement(_Picker.default.Item,{label:Pen,value:Pen,key:i});})),_react.default.createElement(_View.default,{style:[_Theme.Helpers.fullWidth,{borderWidth:0,height:65,marginTop:10,paddingHorizontal:5,paddingTop:0,borderRadius:0,alignItems:"center"}]},_react.default.createElement(_View.default,{style:[_Theme.Helpers.fullWidth,{alignItems:"flex-start"}]},_react.default.createElement(_Text.default,{style:[_Theme.ApplicationStyles.text,{marginHorizontal:5,marginTop:2,color:_Theme.Colors.input,fontSize:15,fontWeight:"bold"}]},"Weight date:")),_react.default.createElement(_View.default,{style:[_Theme.Helpers.fullWidth,{alignItems:'flex-start'}]},_react.default.createElement(_Components.Datetime_Picker,{Selected:this.state.date,onValueChange:function onValueChange(date){_this2.setState({date:date.getTime()});}}))),_react.default.createElement(_reactNativeElements.Input,{label:"Animal quantity",style:_objectSpread({},_CloudScreenStyle.default.input),onChangeText:function onChangeText(text){if(!isNaN(text)){_this2.setState({quantity:text});}},value:this.state.quantity}),_react.default.createElement(_reactNativeElements.Input,{label:"Total Weight",style:_objectSpread({},_CloudScreenStyle.default.input),onChangeText:function onChangeText(text){_this2.setState({weight:text});},value:this.state.weight})),_react.default.createElement(_View.default,{style:[_Theme.Helpers.buttonContainer,_Theme.Helpers.midWidth]},_react.default.createElement(_Components.Button,{Text:"Submit",onPress:function onPress(){if(!_this2.state.Section){_this2.props.setViewError("A section is needed");}else if(!_this2.state.Pen){_this2.props.setViewError("A pen is needed");}else if(isNaN(_this2.state.quantity)||_this2.state.quantity===""||_this2.state.quantity<=0){_this2.props.setViewError("Quantity have to be a number bigger than 0");}else if(isNaN(_this2.state.weight)||_this2.state.weight===""){_this2.props.setViewError("Weight have to be a number");}else{_this2.props.setViewLoading(true);_this2.props.setViewError(null);_this2.props.newWeight(_this2.state.Pen,parseFloat(_this2.state.weight),_this2.state.date,parseFloat(_this2.state.quantity));_this2.setState({weight:"",date:new Date().getTime()});}}})))),(IsLoading||this.props.firebase.viewIsLoading)&&_react.default.createElement(_ActivityIndicator.default,{style:_Theme.Helpers.loadingContainer,size:"large"}));}}]);return Weighing;}(_react.Component);var mapStateToProps=function mapStateToProps(state){var firebase=state.firebase;return{firebase:firebase};};var mapDispatchToProps=function mapDispatchToProps(dispatch){return{setViewLoading:function setViewLoading(state){return dispatch(_Actions.default.viewIsLoading(state));},setViewError:function setViewError(error){return dispatch(_Actions.default.setViewError(error));},getSections:function getSections(DataTime){return dispatch(_Actions.default.actionStarting(_Selectors.Actions.FETCH,_Selectors.DataRefs.SECTIONS,{DataTime:DataTime}));},newWeight:function newWeight(penId,weight,date,quantity){return dispatch(_Actions.default.actionStarting(_Selectors.Actions.CREATE,_Selectors.DataRefs.WEIGHING,{PenId:penId,Weight:weight,Quantity:quantity,Date:date}));}};};var _default=(0,_reactRedux.connect)(mapStateToProps,mapDispatchToProps)(Weighing);exports.default=_default;

/***/ }),

/***/ 1156:
/***/ (function(module, exports, __webpack_require__) {

var _interopRequireWildcard=__webpack_require__(7);var _interopRequireDefault=__webpack_require__(2);Object.defineProperty(exports,"__esModule",{value:true});exports.default=void 0;var _defineProperty2=_interopRequireDefault(__webpack_require__(11));var _classCallCheck2=_interopRequireDefault(__webpack_require__(9));var _createClass2=_interopRequireDefault(__webpack_require__(10));var _inherits2=_interopRequireDefault(__webpack_require__(15));var _possibleConstructorReturn2=_interopRequireDefault(__webpack_require__(16));var _getPrototypeOf2=_interopRequireDefault(__webpack_require__(14));var _react=_interopRequireWildcard(__webpack_require__(1));var _Text=_interopRequireDefault(__webpack_require__(21));var _View=_interopRequireDefault(__webpack_require__(8));var _ActivityIndicator=_interopRequireDefault(__webpack_require__(30));var _Image=_interopRequireDefault(__webpack_require__(33));var _StyleSheet=_interopRequireDefault(__webpack_require__(12));var _ScrollView=_interopRequireDefault(__webpack_require__(39));var _Picker=_interopRequireDefault(__webpack_require__(125));var _reactNativeElements=__webpack_require__(46);var _reactRedux=__webpack_require__(37);var _redux=__webpack_require__(29);var _NavigationService=_interopRequireDefault(__webpack_require__(32));var _Actions=_interopRequireDefault(__webpack_require__(38));var _Selectors=__webpack_require__(40);var _Components=__webpack_require__(44);var _CloudScreenStyle=_interopRequireDefault(__webpack_require__(127));var _Theme=__webpack_require__(22);function ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);if(enumerableOnly)symbols=symbols.filter(function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable;});keys.push.apply(keys,symbols);}return keys;}function _objectSpread(target){for(var i=1;i<arguments.length;i++){var source=arguments[i]!=null?arguments[i]:{};if(i%2){ownKeys(Object(source),true).forEach(function(key){(0,_defineProperty2.default)(target,key,source[key]);});}else if(Object.getOwnPropertyDescriptors){Object.defineProperties(target,Object.getOwnPropertyDescriptors(source));}else{ownKeys(Object(source)).forEach(function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key));});}}return target;}function _createSuper(Derived){var hasNativeReflectConstruct=_isNativeReflectConstruct();return function _createSuperInternal(){var Super=(0,_getPrototypeOf2.default)(Derived),result;if(hasNativeReflectConstruct){var NewTarget=(0,_getPrototypeOf2.default)(this).constructor;result=Reflect.construct(Super,arguments,NewTarget);}else{result=Super.apply(this,arguments);}return(0,_possibleConstructorReturn2.default)(this,result);};}function _isNativeReflectConstruct(){if(typeof Reflect==="undefined"||!Reflect.construct)return false;if(Reflect.construct.sham)return false;if(typeof Proxy==="function")return true;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}));return true;}catch(e){return false;}}var DataEditor=function(_Component){(0,_inherits2.default)(DataEditor,_Component);var _super=_createSuper(DataEditor);function DataEditor(props){var _this;(0,_classCallCheck2.default)(this,DataEditor);_this=_super.call(this,props);var _this$setData=_this.setData(props),Sections=_this$setData.Sections,Section=_this$setData.Section,Pens=_this$setData.Pens,Pen=_this$setData.Pen;_this.state={Sections:Sections,Section:Section,Pens:Pens,Pen:Pen,NewSection:Sections&&Object.keys(Sections).length>0?false:true};return _this;}(0,_createClass2.default)(DataEditor,[{key:"getData",value:function getData(){var localDataStore=this.props.firebase.localDataStore;if(!localDataStore.sections)localDataStore.sections={};this.props.getSections(localDataStore.sections.update_time);}},{key:"setData",value:function setData(Props){var localDataStore=Props.firebase.localDataStore;var Sections=false;if(localDataStore&&localDataStore.sections&&localDataStore.sections!==Sections){Sections=(0,_Selectors.sortObject)(localDataStore.sections);}var CurrentData=Props.firebase.currentData;var Section=Sections?Object.keys(Sections)[0]:"";if(CurrentData&&CurrentData.data&&CurrentData.data.section&&Sections[CurrentData.data.section]){if(CurrentData.data.section!=Section){Section=CurrentData.data.section;}}var Pens=Sections&&Sections[Section]?(0,_Selectors.sortObject)(Sections[Section].pens):{};var Pen=Sections?Object.keys(Pens)[0]:"";if(CurrentData&&CurrentData.dataId&&Pens[CurrentData.dataId]&&CurrentData.dataId!=Pen){Pen=CurrentData.dataId;}if(!Sections)Sections={};return{Sections:Sections,Section:Section,Pens:Pens,Pen:Pen};}},{key:"checkData",value:function checkData(props){}},{key:"componentDidMount",value:function componentDidMount(){this.props.setViewLoading(false);this.props.setViewError(null);this.checkData(this.props);this.getData();}},{key:"componentDidUpdate",value:function componentDidUpdate(prevProps,prevState){if(this.props!==prevProps){this.checkData(this.props);if(this.props.firebase){if(this.props.firebase.localDataStore){if(this.props.firebase.localDataStore.sections&&JSON.stringify(this.state.Sections)!==JSON.stringify((0,_Selectors.sortObject)(this.props.firebase.localDataStore.sections))){var _this$setData2=this.setData(this.props),Sections=_this$setData2.Sections,Section=_this$setData2.Section,Pens=_this$setData2.Pens,Pen=_this$setData2.Pen;this.setState({Sections:Sections,Section:Section,Pens:Pens,Pen:Pen,NewSection:Sections&&Object.keys(Sections).length>0?false:true});}}if(this.props.firebase.currentData){if(this.props.firebase.currentData!=prevProps.firebase.currentData){this.forceUpdate();}}}}}},{key:"render",value:function render(){var IsLoading=this.props.firebase.firebaseIsLoading;var ErrorMessage=this.props.firebase.viewError;var localDataStore=this.props.firebase.localDataStore;var CurrentData=this.props.firebase.currentData;var DataView=_react.default.createElement(_View.default,null);switch(CurrentData.type){case _Selectors.DataRefs.PENS:DataView=PenEditor_View_Creator(this,CurrentData,localDataStore);break;case _Selectors.DataRefs.PIGS:DataView=PigEditor_View_Creator(this,CurrentData,localDataStore);break;}return _react.default.createElement(_View.default,{style:[_Theme.Helpers.mainContainer]},_react.default.createElement(_View.default,{style:[_Theme.Helpers.contentContainer,_Theme.Helpers.fullSize,_Theme.Helpers.fill]},ErrorMessage?_react.default.createElement(_Text.default,{style:_Theme.ApplicationStyles.error},ErrorMessage):_react.default.createElement(_react.default.Fragment,null),DataView),(IsLoading||this.props.firebase.viewIsLoading)&&_react.default.createElement(_ActivityIndicator.default,{style:_Theme.Helpers.loadingContainer,size:"large"}));}}]);return DataEditor;}(_react.Component);var PenEditor_View_Creator=function PenEditor_View_Creator(Control,CurrentData,localDataStore){var Sections=Control.state.Sections;if(CurrentData.action===_Selectors.Actions.CREATE){Sections["New Section"]={};}return _react.default.createElement(_View.default,{style:[_Theme.Helpers.contentContainer,_Theme.Helpers.fullSize,_Theme.Helpers.fill]},_react.default.createElement(PenEditor_Titles,{CurrentAction:CurrentData.action}),_react.default.createElement(_View.default,{style:[_Theme.Helpers.borderContainer,_Theme.Helpers.midWidth,{marginBottom:20}]},_react.default.createElement(Section_Picker,{Control:Control,CurrentData:CurrentData,localDataStore:localDataStore}),CurrentData.action===_Selectors.Actions.CREATE?_react.default.createElement(_reactNativeElements.Input,{label:"Pen name",style:_objectSpread({},_CloudScreenStyle.default.input),onChangeText:function onChangeText(text){if(text){if((0,_Selectors.DataStringCheck)(text)){Control.setState({Pen:text});}}else{Control.setState({Pen:text});}},value:Control.state.Pen}):_react.default.createElement(_react.default.Fragment,null),CurrentData.action===_Selectors.Actions.DELETE?_react.default.createElement(_Picker.default,{mode:"dropdown",selectedValue:Control.state.Pen,style:{height:50,width:150},onValueChange:function onValueChange(itemValue,itemIndex){Control.setState({Pen:itemValue});}},Object.keys(Control.state.Pens).map(function(Pen,i){return _react.default.createElement(_Picker.default.Item,{label:Pen,value:Pen,key:i});})):_react.default.createElement(_react.default.Fragment,null)),CurrentData.action===_Selectors.Actions.CREATE||CurrentData.action===_Selectors.Actions.DELETE?_react.default.createElement(_View.default,{style:[_Theme.Helpers.buttonContainer,_Theme.Helpers.midWidth]},_react.default.createElement(_Components.Button,{Text:"Submit",onPress:function onPress(){if(!Control.state.Section||Control.state.Section===""){Control.props.setViewError("A section is needed");}else if(!Control.state.Pen||Control.state.Pen===""){Control.props.setViewError("A pen name is needed");}else if(!isNaN(Control.state.Section)||!isNaN(Control.state.Section[0])){Control.props.setViewError("Section name cannot be or start with a number");}else if(!isNaN(Control.state.Pen)||!isNaN(Control.state.Pen[0])){Control.props.setViewError("Pen name cannot be or start with a number");}else{var exists=false;Object.keys(Control.state.Sections).map(function(section,i){if(Control.state.Sections[section].pens){var test=Object.keys(Control.state.Sections[section].pens).filter(function(e){return e===Control.state.Pen;}).length;if(test)exists=true;}});if(exists&&CurrentData.action===_Selectors.Actions.CREATE){Control.props.setViewError("Given pen name already exists");}else if(!exists&&CurrentData.action===_Selectors.Actions.DELETE){Control.props.setViewError("Cannot remove non-existing pen");}else{Control.props.setViewError(null);Control.props.setViewLoading(true);Control.props.penAction(CurrentData.action,Control.state.Section,Control.state.Pen);_NavigationService.default.navigate("UserOperations");}}}})):_react.default.createElement(_react.default.Fragment,null));};var PenEditor_Titles=function PenEditor_Titles(props){switch(props.CurrentAction){case _Selectors.Actions.CREATE:return _react.default.createElement(_Components.TitleElement,{Text:"Add Pen"});case _Selectors.Actions.DELETE:return _react.default.createElement(_Components.TitleElement,{Text:"Remove Pen"});default:return _react.default.createElement(_react.default.Fragment,null);}};var PigEditor_View_Creator=function PigEditor_View_Creator(Control,CurrentData,localDataStore){var Sections=Control.state.Sections;if(CurrentData.action===_Selectors.Actions.CREATE){}return _react.default.createElement(_View.default,{style:[_Theme.Helpers.contentContainer,_Theme.Helpers.fullSize,_Theme.Helpers.fill]},_react.default.createElement(_Components.TitleElement,{Text:"Add Pig: "+CurrentData.pigtag}),_react.default.createElement(_View.default,{style:[_Theme.Helpers.borderContainer,_Theme.Helpers.midWidth,{marginBottom:20}]},_react.default.createElement(Section_Picker,{Control:Control,CurrentData:CurrentData,localDataStore:localDataStore}),Control.state.NewSection?_react.default.createElement(_reactNativeElements.Input,{label:"Pen name",style:_objectSpread({},_CloudScreenStyle.default.input),onChangeText:function onChangeText(text){if(text){if((0,_Selectors.DataStringCheck)(text)){Control.setState({Pen:text});}}else{Control.setState({Pen:text});}},value:Control.state.Pen}):_react.default.createElement(_Picker.default,{mode:"dropdown",selectedValue:Control.state.Pen,style:{height:50,width:150},onValueChange:function onValueChange(itemValue,itemIndex){Control.setState({Pen:itemValue});}},Object.keys(Control.state.Pens).map(function(Pen,i){return _react.default.createElement(_Picker.default.Item,{label:Pen,value:Pen,key:i});})),CurrentData.action===_Selectors.Actions.CREATE?_react.default.createElement(_View.default,{style:[_Theme.Helpers.buttonContainer,_Theme.Helpers.midWidth]},_react.default.createElement(_Components.Button,{Text:"Submit",onPress:function onPress(){if(!Control.state.Section||Control.state.Section===""){Control.props.setViewError("A section is needed");}else if(!Control.state.Pen||Control.state.Pen===""){Control.props.setViewError("A pen name is needed");}else if(!isNaN(Control.state.Section)||!isNaN(Control.state.Section[0])){Control.props.setViewError("Section name cannot be or start with a number");}else if(!isNaN(Control.state.Pen)||!isNaN(Control.state.Pen[0])){Control.props.setViewError("Pen name cannot be or start with a number");}else{var exists=false;Object.keys(Control.state.Sections).map(function(section,i){if(Control.state.Sections[section].pens){var test=Object.keys(Control.state.Sections[section].pens).filter(function(e){return e===Control.state.Pen;}).length;if(test)exists=true;}});if(exists&&CurrentData.action===_Selectors.Actions.CREATE&&Control.state.NewSection){Control.props.setViewError("Given pen name already exists");}else{Control.props.setViewLoading(true);Control.props.setViewError(null);Control.props.pigAction(CurrentData.action,CurrentData.pigtag,Control.state.Pen);_NavigationService.default.navigate("UserPigs");}}}})):_react.default.createElement(_react.default.Fragment,null)));};var Section_Picker=function Section_Picker(_ref){var Control=_ref.Control,CurrentData=_ref.CurrentData,localDataStore=_ref.localDataStore;if(Control.state.NewSection&&CurrentData.action===_Selectors.Actions.CREATE){return _react.default.createElement(_reactNativeElements.Input,{label:"Section Name",style:_objectSpread({},_CloudScreenStyle.default.input),onChangeText:function onChangeText(text){if(text){if((0,_Selectors.DataStringCheck)(text)){Control.setState({Section:text});}}else{Control.setState({Section:text});}},value:Control.state.Section});}else{return _react.default.createElement(_Picker.default,{mode:"dropdown",selectedValue:Control.state.Section,style:{height:50,width:150},onValueChange:function onValueChange(itemValue,itemIndex){var Section=itemValue;var NewSection=Control.state.NewSection;var Pens=Control.state.Pens;var Pen=Control.state.Pen;if(itemValue==="New Section"){NewSection=true;Section="Section_"+Object.keys(Control.state.Sections).length;}else{Pens=(0,_Selectors.sortObject)(Control.state.Sections[itemValue].pens);if(CurrentData.action===_Selectors.Actions.DELETE){Pen=Object.keys(Pens)[Object.keys(Pens).length-1];}else{if(CurrentData.type==_Selectors.DataRefs.PIGS){Pen=Object.keys(Pens)[0];}else{Pen="Pen_"+(Object.keys(Pens).length+1);}}}Control.setState({Section:Section,NewSection:NewSection,Pens:Pens,Pen:Pen});}},Object.keys(Control.state.Sections).map(function(Section,i){return _react.default.createElement(_Picker.default.Item,{label:Section,value:Section,key:i});}));}};var mapStateToProps=function mapStateToProps(state){var firebase=state.firebase;return{firebase:firebase};};var mapDispatchToProps=function mapDispatchToProps(dispatch){return{setFirebaseError:function setFirebaseError(error){return dispatch(_Actions.default.setFirebaseError(error));},setViewLoading:function setViewLoading(state){return dispatch(_Actions.default.viewIsLoading(state));},setViewError:function setViewError(error){return dispatch(_Actions.default.setViewError(error));},getSections:function getSections(DataTime){return dispatch(_Actions.default.actionStarting(_Selectors.Actions.FETCH,_Selectors.DataRefs.SECTIONS,{DataTime:DataTime}));},penAction:function penAction(action,senctionId,penId){return dispatch(_Actions.default.actionStarting(action,_Selectors.DataRefs.PENS,{SectionId:senctionId,PenId:penId}));},pigAction:function pigAction(action,tagId,penId){return dispatch(_Actions.default.actionStarting(action,_Selectors.DataRefs.PIGS,{TagId:tagId,PenId:penId}));}};};var _default=(0,_reactRedux.connect)(mapStateToProps,mapDispatchToProps)(DataEditor);exports.default=_default;

/***/ }),

/***/ 1157:
/***/ (function(module, exports, __webpack_require__) {

var _interopRequireWildcard=__webpack_require__(7);var _interopRequireDefault=__webpack_require__(2);Object.defineProperty(exports,"__esModule",{value:true});exports.default=void 0;var _defineProperty2=_interopRequireDefault(__webpack_require__(11));var _classCallCheck2=_interopRequireDefault(__webpack_require__(9));var _createClass2=_interopRequireDefault(__webpack_require__(10));var _inherits2=_interopRequireDefault(__webpack_require__(15));var _possibleConstructorReturn2=_interopRequireDefault(__webpack_require__(16));var _getPrototypeOf2=_interopRequireDefault(__webpack_require__(14));var _react=_interopRequireWildcard(__webpack_require__(1));var _Platform=_interopRequireDefault(__webpack_require__(18));var _Text=_interopRequireDefault(__webpack_require__(21));var _View=_interopRequireDefault(__webpack_require__(8));var _ActivityIndicator=_interopRequireDefault(__webpack_require__(30));var _Image=_interopRequireDefault(__webpack_require__(33));var _StyleSheet=_interopRequireDefault(__webpack_require__(12));var _ScrollView=_interopRequireDefault(__webpack_require__(39));var _FlatList=_interopRequireDefault(__webpack_require__(50));var _reactRedux=__webpack_require__(37);var _redux=__webpack_require__(29);var _reactNativeElements=__webpack_require__(46);var _NavigationService=_interopRequireDefault(__webpack_require__(32));var _Actions=_interopRequireDefault(__webpack_require__(94));var _Selectors=__webpack_require__(70);var _Actions2=_interopRequireDefault(__webpack_require__(38));var _Selectors2=__webpack_require__(40);var _Components=__webpack_require__(44);var _DataDisplay_Pens=_interopRequireDefault(__webpack_require__(1158));var _DataDisplay_Pigs=_interopRequireDefault(__webpack_require__(1159));var _Theme=__webpack_require__(22);function ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);if(enumerableOnly)symbols=symbols.filter(function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable;});keys.push.apply(keys,symbols);}return keys;}function _objectSpread(target){for(var i=1;i<arguments.length;i++){var source=arguments[i]!=null?arguments[i]:{};if(i%2){ownKeys(Object(source),true).forEach(function(key){(0,_defineProperty2.default)(target,key,source[key]);});}else if(Object.getOwnPropertyDescriptors){Object.defineProperties(target,Object.getOwnPropertyDescriptors(source));}else{ownKeys(Object(source)).forEach(function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key));});}}return target;}function _createSuper(Derived){var hasNativeReflectConstruct=_isNativeReflectConstruct();return function _createSuperInternal(){var Super=(0,_getPrototypeOf2.default)(Derived),result;if(hasNativeReflectConstruct){var NewTarget=(0,_getPrototypeOf2.default)(this).constructor;result=Reflect.construct(Super,arguments,NewTarget);}else{result=Super.apply(this,arguments);}return(0,_possibleConstructorReturn2.default)(this,result);};}function _isNativeReflectConstruct(){if(typeof Reflect==="undefined"||!Reflect.construct)return false;if(Reflect.construct.sham)return false;if(typeof Proxy==="function")return true;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}));return true;}catch(e){return false;}}var DataDisplay=function(_Component){(0,_inherits2.default)(DataDisplay,_Component);var _super=_createSuper(DataDisplay);function DataDisplay(props){var _this;(0,_classCallCheck2.default)(this,DataDisplay);_this=_super.call(this,props);_this.state={currentData:{}};return _this;}(0,_createClass2.default)(DataDisplay,[{key:"getData",value:function getData(){if(this.props.firebase&&this.props.firebase.localDataStore){var localDataStore=this.props.firebase.localDataStore;if(this.props.firebase.currentData&&this.props.firebase.currentData.type){var CurrentData=this.props.firebase.currentData;switch(CurrentData.type){case _Selectors2.DataRefs.PIGS:break;}}}}},{key:"checkData",value:function checkData(props){}},{key:"componentDidMount",value:function componentDidMount(){this.props.setViewLoading(false);this.props.setViewError(null);this.checkData(this.props);this.getData();}},{key:"componentDidUpdate",value:function componentDidUpdate(prevProps,prevState){if(this.props!==prevProps){this.checkData(this.props);if(this.props.firebase.localDataStore){var localDataStore=this.props.firebase.localDataStore;if(this.props.firebase.currentData&&this.props.firebase.currentData.type&&JSON.stringify(this.state.currentData)!==JSON.stringify(this.props.firebase.currentData)){var CurrentData=this.props.firebase.currentData;switch(CurrentData.type){case _Selectors2.DataRefs.PENS:if(localDataStore.pens){var Pens=(0,_Selectors2.sortObject)(localDataStore.pens);if(Pens[CurrentData.penId]){if(JSON.stringify(CurrentData.data)!==JSON.stringify(Pens[CurrentData.penId])){CurrentData.data=Pens[CurrentData.penId];}this.props.setCurrentDataElement(CurrentData);}}this.setState({currentData:CurrentData});break;case _Selectors2.DataRefs.PIGS:this.setState({currentData:CurrentData});break;default:this.setState({currentData:CurrentData});break;}}}}}},{key:"render",value:function render(){var IsLoading=this.props.firebase.firebaseIsLoading;var localDataStore=this.props.firebase.localDataStore;var ErrorMessage=this.props.firebase.viewError;var CurrentData=this.state.currentData;var DataView=_react.default.createElement(_View.default,null);switch(CurrentData.type){case _Selectors2.DataRefs.PENS:DataView=_react.default.createElement(_DataDisplay_Pens.default,{currentData:this.state.currentData});break;case _Selectors2.DataRefs.PIGS:DataView=PigData_View(this,CurrentData,localDataStore);break;}return _react.default.createElement(_ScrollView.default,{style:[_Theme.Helpers.fullSize,_Theme.Helpers.fill]},_react.default.createElement(_View.default,{style:[_Theme.Helpers.mainContainer]},_react.default.createElement(_View.default,{style:[_Theme.Helpers.contentContainer,_Theme.Helpers.fullSize,_Theme.Helpers.fill]},ErrorMessage?_react.default.createElement(_Text.default,{style:_Theme.ApplicationStyles.error},ErrorMessage):_react.default.createElement(_react.default.Fragment,null),DataView),(IsLoading||this.props.firebase.viewIsLoading)&&_react.default.createElement(_ActivityIndicator.default,{style:_Theme.Helpers.loadingContainer,size:"large"})));}}]);return DataDisplay;}(_react.Component);function onPageSwipe(Control,localDataStore,CurrentData,dir){var section=localDataStore.pens[CurrentData.penId].section;var Pens=(0,_Selectors2.sortObject)(localDataStore.sections[section].pens);if(CurrentData.type===_Selectors2.DataRefs.PENS&&CurrentData.data&&Pens[CurrentData.penId]){var index=Object.keys(Pens).indexOf(CurrentData.penId);switch(dir){case true:index=index+1;break;case false:index=index-1;break;}if(index<0)index=Object.keys(Pens).length-1;else if(index>=Object.keys(Pens).length)index=0;Control.props.setCurrentData(Object.keys(Pens)[index]);_NavigationService.default.replace("DataDisplay");}}function onDataPress(sender,element){switch(sender){case 1:switch(element.index){case 0:console.log("test");break;}break;}}var PigData_View=function PigData_View(Control,CurrentData,localDataStore){var Pigs;if(localDataStore&&localDataStore.pigs){Pigs=(0,_Selectors2.sortObject)(localDataStore.pigs);if(Pigs[CurrentData.TagId]){CurrentData.data=Pigs[CurrentData.TagId];}}if(CurrentData.data&&!CurrentData.data.datas)CurrentData.data.datas={};if(!CurrentData.data){return _react.default.createElement(_View.default,{style:[_Theme.Helpers.fillRowCenter,_Theme.Helpers.center,_Theme.Helpers.logoContainer]},_react.default.createElement(_Image.default,{style:_Theme.Helpers.fullSize,source:_Theme.Images.Hexa_icon,resizeMode:'contain'}));}var App=_Platform.default.OS==="android"||_Platform.default.OS==="ios"?true:false;return _react.default.createElement(_View.default,{style:[_Theme.Helpers.contentContainer,_Theme.Helpers.fullSize,_Theme.Helpers.fill]},App?_react.default.createElement(_View.default,{style:[_Theme.Helpers.fill,_Theme.Helpers.row,_Theme.Helpers.fullWidth]},_react.default.createElement(_View.default,{style:[_Theme.Helpers.fill,_Theme.Helpers.column,{backgroundColor:"red"}]},_react.default.createElement(_View.default,{style:[_Theme.Helpers.fill,_Theme.Helpers.row,_Theme.Helpers.fullWidth,{backgroundColor:"blue"}]},_react.default.createElement(_View.default,{style:{justifyContent:'center',alignItems:'center'}})),_react.default.createElement(_View.default,{style:[_Theme.Helpers.fill,_Theme.Helpers.row,_Theme.Helpers.fullWidth]},_react.default.createElement(_Text.default,null,"Messages"),_react.default.createElement(_Text.default,null,"Errors"))),_react.default.createElement(_View.default,{style:[_Theme.Helpers.fill,_Theme.Helpers.column]},connectedState===_Selectors.ConnectionState.CONNECTED?_react.default.createElement(_View.default,{style:_objectSpread(_objectSpread({},styles.circle),{},{backgroundColor:"green",justifyContent:'center',alignItems:'center'})},_react.default.createElement(_Text.default,null,"Device is"),_react.default.createElement(_Text.default,null,"connected")):_react.default.createElement(_View.default,{style:_objectSpread(_objectSpread({},styles.circle),{},{backgroundColor:"red",justifyContent:'center',alignItems:'center'})},_react.default.createElement(_Text.default,null,"No Device"),_react.default.createElement(_Text.default,null,"connected")))):_react.default.createElement(_react.default.Fragment,null),_react.default.createElement(_View.default,{style:[_Theme.Helpers.buttonContainer,_Theme.Helpers.midWidth]},_react.default.createElement(_Components.Button,{Text:CurrentData.TagId,buttonStyle:{backgroundColor:_Theme.Colors.AgriDarkblue},onPress:function onPress(){}})),_react.default.createElement(_View.default,{style:[_Theme.Helpers.fullWidth]},_react.default.createElement(_Components.ContentProp,{ingrid:true,texts:["Section","Pen"],datas:[CurrentData.data.section,CurrentData.data.pen]}),_react.default.createElement(_View.default,{style:{height:20}}),_react.default.createElement(_View.default,{style:(_Theme.Helpers.midWidth,_Theme.Helpers.colCenter)},_react.default.createElement(_reactNativeElements.Input,{label:"Comment:",multiline:true,containerStyle:[{borderWidth:1}],style:[_Theme.ApplicationStyles.input],onChangeText:function onChangeText(text){},value:"NONE"}))));};var styles=_StyleSheet.default.create({circle:{width:125,height:125,borderRadius:125/2,marginTop:_Theme.Metrics.tiny,marginLeft:_Theme.Metrics.tiny}});var mapStateToProps=function mapStateToProps(state){var firebase=state.firebase;return{firebase:firebase};};var mapDispatchToProps=function mapDispatchToProps(dispatch){return{setViewLoading:function setViewLoading(state){return dispatch(_Actions2.default.viewIsLoading(state));},setViewError:function setViewError(error){return dispatch(_Actions2.default.setViewError(error));},getWeights:function getWeights(penId){return dispatch(_Actions2.default.actionStarting(_Selectors2.Actions.FETCH,_Selectors2.DataRefs.WEIGHING,{PenId:penId}));},setCurrentData:function setCurrentData(penId){return dispatch(_Actions2.default.setCurrentData({type:_Selectors2.DataRefs.PENS,penId:penId}));},setCurrentDataElement:function setCurrentDataElement(element){return dispatch(_Actions2.default.setCurrentData(element));}};};var _default=(0,_reactRedux.connect)(mapStateToProps,mapDispatchToProps)(DataDisplay);exports.default=_default;

/***/ }),

/***/ 1158:
/***/ (function(module, exports, __webpack_require__) {

var _interopRequireWildcard=__webpack_require__(7);var _interopRequireDefault=__webpack_require__(2);Object.defineProperty(exports,"__esModule",{value:true});exports.default=void 0;var _defineProperty2=_interopRequireDefault(__webpack_require__(11));var _classCallCheck2=_interopRequireDefault(__webpack_require__(9));var _createClass2=_interopRequireDefault(__webpack_require__(10));var _inherits2=_interopRequireDefault(__webpack_require__(15));var _possibleConstructorReturn2=_interopRequireDefault(__webpack_require__(16));var _getPrototypeOf2=_interopRequireDefault(__webpack_require__(14));var _react=_interopRequireWildcard(__webpack_require__(1));var _Platform=_interopRequireDefault(__webpack_require__(18));var _Text=_interopRequireDefault(__webpack_require__(21));var _View=_interopRequireDefault(__webpack_require__(8));var _ActivityIndicator=_interopRequireDefault(__webpack_require__(30));var _Image=_interopRequireDefault(__webpack_require__(33));var _StyleSheet=_interopRequireDefault(__webpack_require__(12));var _ScrollView=_interopRequireDefault(__webpack_require__(39));var _FlatList=_interopRequireDefault(__webpack_require__(50));var _reactRedux=__webpack_require__(37);var _redux=__webpack_require__(29);var _reactNativeElements=__webpack_require__(46);var _NavigationService=_interopRequireDefault(__webpack_require__(32));var _Actions=_interopRequireDefault(__webpack_require__(94));var _Selectors=__webpack_require__(70);var _Actions2=_interopRequireDefault(__webpack_require__(38));var _Selectors2=__webpack_require__(40);var _Components=__webpack_require__(44);var _Theme=__webpack_require__(22);function _createSuper(Derived){var hasNativeReflectConstruct=_isNativeReflectConstruct();return function _createSuperInternal(){var Super=(0,_getPrototypeOf2.default)(Derived),result;if(hasNativeReflectConstruct){var NewTarget=(0,_getPrototypeOf2.default)(this).constructor;result=Reflect.construct(Super,arguments,NewTarget);}else{result=Super.apply(this,arguments);}return(0,_possibleConstructorReturn2.default)(this,result);};}function _isNativeReflectConstruct(){if(typeof Reflect==="undefined"||!Reflect.construct)return false;if(Reflect.construct.sham)return false;if(typeof Proxy==="function")return true;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}));return true;}catch(e){return false;}}var DataDisplay_Pens=function(_Component){(0,_inherits2.default)(DataDisplay_Pens,_Component);var _super=_createSuper(DataDisplay_Pens);function DataDisplay_Pens(props){var _this;(0,_classCallCheck2.default)(this,DataDisplay_Pens);_this=_super.call(this,props);_this.state={currentData:props.currentData};var _this$setData=_this.setData(props),CurrentData=_this$setData.CurrentData,WeighingsList=_this$setData.WeighingsList,Weighings=_this$setData.Weighings,CommentsList=_this$setData.CommentsList,Comments=_this$setData.Comments;_this.state={currentData:CurrentData,WeighingsList:WeighingsList,Weighings:Weighings,CommentsList:CommentsList,Comments:Comments,action:""};return _this;}(0,_createClass2.default)(DataDisplay_Pens,[{key:"setData",value:function setData(Props){var localDataStore=Props.firebase.localDataStore;var CurrentData=this.state.currentData;var Pens=(0,_Selectors2.sortObject)(localDataStore.pens);if(Pens[CurrentData.penId]){CurrentData.data=Pens[CurrentData.penId];}var WeighingsList=[];var Weighings=[];var App=_Platform.default.OS==="android"||_Platform.default.OS==="ios"?true:false;if(localDataStore&&localDataStore.weighings){if(localDataStore.weighings[CurrentData.penId]){WeighingsList=localDataStore.weighings[CurrentData.penId];for(var i=0;i<Object.keys(WeighingsList).length;i++){var name=Object.keys(WeighingsList)[i];if(!name)continue;var object=WeighingsList[name];if(!object||!object.time)continue;Weighings.push((0,_defineProperty2.default)({},name,object));}Weighings=Weighings.sort(function(a,b){return a.time>b.time?1:-1;});if(App){Weighings=Weighings.slice(0,5);}}}var CommentsList=[];var Comments=[];if(localDataStore&&localDataStore.comments){if(localDataStore.comments[CurrentData.penId]){CommentsList=localDataStore.comments[CurrentData.penId];for(var i=0;i<Object.keys(CommentsList).length;i++){var name=Object.keys(CommentsList)[i];if(!name)continue;var object=CommentsList[name];if(!object||!object.time)continue;Comments.push((0,_defineProperty2.default)({},name,object));}Comments=Comments.sort(function(a,b){return a.time>b.time?1:-1;});if(App){Comments=Comments.slice(0,5);}}}if(CurrentData.data&&!CurrentData.data.datas)CurrentData.data.datas={};return{CurrentData:CurrentData,WeighingsList:WeighingsList,Weighings:Weighings,CommentsList:CommentsList,Comments:Comments};}},{key:"getData",value:function getData(){if(this.props.firebase&&this.props.firebase.localDataStore&&this.state.currentData.penId){var localDataStore=this.props.firebase.localDataStore;if(!localDataStore.pens)localDataStore.pens={};this.props.getPens(localDataStore.pens.update_time);var MemTime=null;if(localDataStore.weighings&&localDataStore.weighings[this.state.currentData.penId])MemTime=localDataStore.weighings.update_time;this.props.getWeights(this.state.currentData.penId,MemTime,localDataStore.sections);this.props.getComments(this.state.currentData.penId);this.props.getBatch(localDataStore.batchs.update_time);}}},{key:"checkData",value:function checkData(props){}},{key:"componentDidMount",value:function componentDidMount(){this.props.setViewLoading(false);this.props.setViewError(null);this.checkData(this.props);this.getData();}},{key:"componentDidUpdate",value:function componentDidUpdate(prevProps,prevState){if(this.props!==prevProps){this.checkData(this.props);if(this.props.firebase.localDataStore){var localDataStore=this.props.firebase.localDataStore;if(JSON.stringify(prevProps.currentData)!==JSON.stringify(this.state.currentData)||localDataStore.sections&&JSON.stringify(this.state.Sections)!==JSON.stringify((0,_Selectors2.sortObject)(localDataStore.sections))||localDataStore.weighings&&JSON.stringify(this.state.Weighings)!==JSON.stringify((0,_Selectors2.sortObject)(localDataStoree.weighings))||localDataStore.comments&&JSON.stringify(this.state.Comments)!==JSON.stringify((0,_Selectors2.sortObject)(localDataStoree.comments))){var _this$setData2=this.setData(this.props),CurrentData=_this$setData2.CurrentData,WeighingsList=_this$setData2.WeighingsList,Weighings=_this$setData2.Weighings,CommentsList=_this$setData2.CommentsList,Comments=_this$setData2.Comments;this.setState({currentData:CurrentData,WeighingsList:WeighingsList,Weighings:Weighings,CommentsList:CommentsList,Comments:Comments});}}}}},{key:"render",value:function render(){var _this2=this;var IsLoading=this.props.firebase.firebaseIsLoading;var localDataStore=this.props.firebase.localDataStore;var CurrentData=this.state.currentData;if(!CurrentData.data){return _react.default.createElement(_View.default,{style:[_Theme.Helpers.fillRowCenter,_Theme.Helpers.center,_Theme.Helpers.logoContainer]},_react.default.createElement(_Image.default,{style:_Theme.Helpers.fullSize,source:_Theme.Images.Hexa_icon,resizeMode:'contain'}));}else{var pigcount=CurrentData.data.datas.count?CurrentData.data.datas.count:0;var penWeight=[];if(this.state.Weighings.length>0){penWeight=this.state.Weighings[0][Object.keys(this.state.Weighings[0])].weight/this.state.Weighings[0][Object.keys(this.state.Weighings[0])].count;}var batch_name=CurrentData.data.datas.batch?CurrentData.data.datas.batch:"No Batch";var batch={};var age="";var displayWeight=penWeight;if(CurrentData.data.datas.batch&&localDataStore.batchs&&localDataStore.batchs[CurrentData.data.datas.batch]){batch=localDataStore.batchs[CurrentData.data.datas.batch];var StartTime=batch.time;age=Math.floor((Date.now()-StartTime)/(1000*60*60*24));CurrentData.data.datas.gcurve=batch.gcurve;var Predict=(0,_Selectors2.CurvePredict)(localDataStore,CurrentData.penId);if(Predict&&Predict.Now)displayWeight=Predict.Now;}if(!batch.datas)batch.datas={};if(!batch.datas.devianceMin)batch.datas.devianceMin=0;if(!batch.datas.devianceMax)batch.datas.devianceMax=0;displayWeight=Math.round(displayWeight*1000)/1000;var App=_Platform.default.OS==="android"||_Platform.default.OS==="ios"?true:false;return _react.default.createElement(_View.default,{style:[_Theme.Helpers.contentContainer,_Theme.Helpers.fullSize,_Theme.Helpers.fill]},_react.default.createElement(_View.default,{style:[_Theme.Helpers.buttonContainer,_Theme.Helpers.midWidth,_Theme.Metrics.bottomMargin,_Theme.Helpers.rowCenter]},_react.default.createElement(_View.default,{style:{padding:6,paddingRight:15}},_react.default.createElement(_reactNativeElements.Icon,{name:"md-arrow-back",type:"ionicon",size:25,color:"black",onPress:function onPress(){return onPageSwipe(_this2,localDataStore,CurrentData,false);}})),_react.default.createElement(_View.default,{style:[_Theme.Helpers.buttonContainer,_Theme.Helpers.midWidth]},_react.default.createElement(_Components.Button,{Text:CurrentData.penId,buttonStyle:{backgroundColor:_Theme.Colors.AgriDarkblue},onPress:function onPress(){}})),_react.default.createElement(_View.default,{style:{padding:6,paddingLeft:15}},_react.default.createElement(_reactNativeElements.Icon,{name:"md-arrow-forward",type:"ionicon",size:25,color:"black",onPress:function onPress(){return onPageSwipe(_this2,localDataStore,CurrentData,true);}}))),_react.default.createElement(_View.default,{style:[_Theme.Helpers.fullWidth]},_react.default.createElement(_Components.ContentProp,{texts:["Pig count","Batch","Age Days","Weight","Growth Cruve","Alarm Max","Alarm Min","Mixtur","Correction","Portion in kg"],onPress:function onPress(element){return onDataPress(1,element);},datas:[pigcount,batch_name,age,displayWeight,CurrentData.data.datas.gcurve?CurrentData.data.datas.gcurve:"default",batch.datas.devianceMin+" %",batch.datas.devianceMax+" %","-","-","-"]})),_react.default.createElement(_View.default,{style:{height:20}}),_react.default.createElement(_View.default,{style:[_Theme.Helpers.fill,App?_Theme.Helpers.fullWidth:_Theme.Helpers.midWidth,App?{}:{height:215}]},_react.default.createElement(_Components.ContentProp,{texts:["Control weighings"],datas:[]}),_react.default.createElement(_View.default,{style:{height:10}}),_react.default.createElement(_FlatList.default,{data:this.state.Weighings,renderItem:function renderItem(_ref){var item=_ref.item,index=_ref.index;if(item==="__jsogObjectId")return _react.default.createElement(_react.default.Fragment,null);var Weight=_this2.state.WeighingsList[Object.keys(item)[0]];return _react.default.createElement(_Components.ContentProp,{texts:[(0,_Selectors2.format_Time)(Weight.time)],datas:[Weight.weight+"   : "+Weight.count+" pigs"]});},numColumns:1,keyExtractor:function keyExtractor(item,index){return String(index);}})),_react.default.createElement(_View.default,{style:{height:20}}),_react.default.createElement(_View.default,{style:[_Theme.Helpers.fill,App?_Theme.Helpers.fullWidth:_Theme.Helpers.midWidth,App?{}:{height:215}]},_react.default.createElement(_Components.ContentProp,{texts:["Action log"],datas:[]}),_react.default.createElement(_View.default,{style:{height:10}}),_react.default.createElement(_FlatList.default,{data:this.state.Comments,renderItem:function renderItem(_ref2){var item=_ref2.item,index=_ref2.index;if(item==="__jsogObjectId")return _react.default.createElement(_react.default.Fragment,null);var Comment=_this2.state.CommentsList[Object.keys(item)[0]];return _react.default.createElement(_Components.ContentProp,{texts:[(0,_Selectors2.format_Time)(Comment.time)+":\n"+Comment.user],datas:[(Comment.quantity?Comment.quantity+" * ":"")+Comment.action+":\n"+Comment.data]});},numColumns:1,keyExtractor:function keyExtractor(item,index){return String(index);}})),_react.default.createElement(_View.default,{style:{height:30}}),_react.default.createElement(_View.default,{style:[_Theme.Helpers.borderContainer,_Theme.Helpers.midWidth]},_react.default.createElement(_Components.OperationsPanel,null)));}}}]);return DataDisplay_Pens;}(_react.Component);function onPageSwipe(Control,localDataStore,CurrentData,dir){var section=localDataStore.pens[CurrentData.penId].section;var Pens=(0,_Selectors2.sortObject)(localDataStore.sections[section].pens);if(CurrentData.type===_Selectors2.DataRefs.PENS&&CurrentData.data&&Pens[CurrentData.penId]){var index=Object.keys(Pens).indexOf(CurrentData.penId);switch(dir){case true:index=index+1;break;case false:index=index-1;break;}if(index<0)index=Object.keys(Pens).length-1;else if(index>=Object.keys(Pens).length)index=0;Control.props.setCurrentData(Object.keys(Pens)[index]);_NavigationService.default.replace("DataDisplay");}}function onDataPress(sender,element){switch(sender){case 1:switch(element.index){case 0:console.log("test");break;}break;}}var mapStateToProps=function mapStateToProps(state){var firebase=state.firebase;return{firebase:firebase};};var mapDispatchToProps=function mapDispatchToProps(dispatch){return{setViewLoading:function setViewLoading(state){return dispatch(_Actions2.default.viewIsLoading(state));},setViewError:function setViewError(error){return dispatch(_Actions2.default.setViewError(error));},getPens:function getPens(DataTime){return dispatch(_Actions2.default.actionStarting(_Selectors2.Actions.FETCH,_Selectors2.DataRefs.PENS,{DataTime:DataTime}));},getWeights:function getWeights(penId,DataTime,MemSections){return dispatch(_Actions2.default.actionStarting(_Selectors2.Actions.FETCH,_Selectors2.DataRefs.WEIGHING,{PenId:penId,DataTime:DataTime,MemSections:MemSections}));},getComments:function getComments(penId){return dispatch(_Actions2.default.actionStarting(_Selectors2.Actions.FETCH,_Selectors2.DataRefs.COMMENTS,{PenId:penId}));},getBatch:function getBatch(DataTime){return dispatch(_Actions2.default.actionStarting(_Selectors2.Actions.FETCH,_Selectors2.DataRefs.BATCHS,{DataTime:DataTime}));},setCurrentData:function setCurrentData(penId){return dispatch(_Actions2.default.setCurrentData({type:_Selectors2.DataRefs.PENS,penId:penId}));},setCurrentDataElement:function setCurrentDataElement(element){return dispatch(_Actions2.default.setCurrentData(element));}};};var _default=(0,_reactRedux.connect)(mapStateToProps,mapDispatchToProps)(DataDisplay_Pens);exports.default=_default;

/***/ }),

/***/ 1159:
/***/ (function(module, exports, __webpack_require__) {

var _interopRequireWildcard=__webpack_require__(7);var _interopRequireDefault=__webpack_require__(2);Object.defineProperty(exports,"__esModule",{value:true});exports.default=void 0;var _defineProperty2=_interopRequireDefault(__webpack_require__(11));var _classCallCheck2=_interopRequireDefault(__webpack_require__(9));var _createClass2=_interopRequireDefault(__webpack_require__(10));var _inherits2=_interopRequireDefault(__webpack_require__(15));var _possibleConstructorReturn2=_interopRequireDefault(__webpack_require__(16));var _getPrototypeOf2=_interopRequireDefault(__webpack_require__(14));var _react=_interopRequireWildcard(__webpack_require__(1));var _Platform=_interopRequireDefault(__webpack_require__(18));var _Text=_interopRequireDefault(__webpack_require__(21));var _View=_interopRequireDefault(__webpack_require__(8));var _ActivityIndicator=_interopRequireDefault(__webpack_require__(30));var _Image=_interopRequireDefault(__webpack_require__(33));var _StyleSheet=_interopRequireDefault(__webpack_require__(12));var _ScrollView=_interopRequireDefault(__webpack_require__(39));var _FlatList=_interopRequireDefault(__webpack_require__(50));var _reactRedux=__webpack_require__(37);var _redux=__webpack_require__(29);var _reactNativeElements=__webpack_require__(46);var _NavigationService=_interopRequireDefault(__webpack_require__(32));var _Actions=_interopRequireDefault(__webpack_require__(38));var _Selectors=__webpack_require__(40);var _Components=__webpack_require__(44);var _Theme=__webpack_require__(22);function _createSuper(Derived){var hasNativeReflectConstruct=_isNativeReflectConstruct();return function _createSuperInternal(){var Super=(0,_getPrototypeOf2.default)(Derived),result;if(hasNativeReflectConstruct){var NewTarget=(0,_getPrototypeOf2.default)(this).constructor;result=Reflect.construct(Super,arguments,NewTarget);}else{result=Super.apply(this,arguments);}return(0,_possibleConstructorReturn2.default)(this,result);};}function _isNativeReflectConstruct(){if(typeof Reflect==="undefined"||!Reflect.construct)return false;if(Reflect.construct.sham)return false;if(typeof Proxy==="function")return true;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}));return true;}catch(e){return false;}}var DataDisplay_Pigs=function(_Component){(0,_inherits2.default)(DataDisplay_Pigs,_Component);var _super=_createSuper(DataDisplay_Pigs);function DataDisplay_Pigs(props){var _this;(0,_classCallCheck2.default)(this,DataDisplay_Pigs);_this=_super.call(this,props);_this.state={currentData:props.currentData};var _this$setData=_this.setData(props),CurrentData=_this$setData.CurrentData,WeighingsList=_this$setData.WeighingsList,Weighings=_this$setData.Weighings;_this.state={currentData:CurrentData,WeighingsList:WeighingsList,Weighings:Weighings};return _this;}(0,_createClass2.default)(DataDisplay_Pigs,[{key:"setData",value:function setData(Props){var localDataStore=Props.firebase.localDataStore;var CurrentData=this.state.currentData;var Pigs=(0,_Selectors.sortObject)(localDataStore.pigs);if(Pigs[CurrentData.TagId]){CurrentData.data=Pigs[CurrentData.TagId];}var WeighingsList=[];var Weighings=[];var App=_Platform.default.OS==="android"||_Platform.default.OS==="ios"?true:false;if(localDataStore&&localDataStore.weighings){if(localDataStore.weighings[CurrentData.penId]){WeighingsList=localDataStore.weighings[CurrentData.penId];for(var i=0;i<Object.keys(WeighingsList).length;i++){var name=Object.keys(WeighingsList)[i];if(!name)continue;var object=WeighingsList[name];if(!object||!object.time)continue;Weighings.push((0,_defineProperty2.default)({},name,object));}Weighings=Weighings.sort(function(a,b){return a.time>b.time?1:-1;});if(App){Weighings=Weighings.slice(0,5);}}}if(CurrentData.data&&!CurrentData.data.datas)CurrentData.data.datas={};return{CurrentData:CurrentData,WeighingsList:WeighingsList,Weighings:Weighings};}},{key:"getData",value:function getData(){if(this.props.firebase&&this.props.firebase.localDataStore&&this.state.currentData.penId){var localDataStore=this.props.firebase.localDataStore;if(!localDataStore.pens)localDataStore.pens={};this.props.getPens(localDataStore.pens.update_time);this.props.getWeights(this.state.currentData.penId);this.props.getBatch(null);}}},{key:"checkData",value:function checkData(props){}},{key:"componentDidMount",value:function componentDidMount(){this.props.setViewLoading(false);this.props.setViewError(null);this.checkData(this.props);this.getData();}},{key:"componentDidUpdate",value:function componentDidUpdate(prevProps,prevState){if(this.props!==prevProps){this.checkData(this.props);if(this.props.firebase.localDataStore){var localDataStore=this.props.firebase.localDataStore;if(JSON.stringify(prevProps.currentData)!==JSON.stringify(this.state.currentData)||localDataStore.sections&&JSON.stringify(this.state.Sections)!==JSON.stringify((0,_Selectors.sortObject)(localDataStore.sections))||localDataStore.weighings&&JSON.stringify(this.state.Weighings)!==JSON.stringify((0,_Selectors.sortObject)(localDataStoree.weighings))){var _this$setData2=this.setData(this.props),CurrentData=_this$setData2.CurrentData,WeighingsList=_this$setData2.WeighingsList,Weighings=_this$setData2.Weighings;this.setState({currentData:CurrentData,WeighingsList:WeighingsList,Weighings:Weighings});}}}}},{key:"render",value:function render(){var _this2=this;var IsLoading=this.props.firebase.firebaseIsLoading;var localDataStore=this.props.firebase.localDataStore;var CurrentData=this.state.currentData;if(!CurrentData.data){return _react.default.createElement(_View.default,{style:[_Theme.Helpers.fillRowCenter,_Theme.Helpers.center,_Theme.Helpers.logoContainer]},_react.default.createElement(_Image.default,{style:_Theme.Helpers.fullSize,source:_Theme.Images.Hexa_icon,resizeMode:'contain'}));}else{var pigcount=CurrentData.data.datas.count?CurrentData.data.datas.count:0;var penWeight=[];if(this.state.Weighings.length>0){var count=pigcount?pigcount:1;penWeight=this.state.Weighings[0][Object.keys(this.state.Weighings[0])].weight/this.state.Weighings[0][Object.keys(this.state.Weighings[0])].count;}var batch_name=CurrentData.data.datas.batch?CurrentData.data.datas.batch:"No Batch";var batch={};var age="";var displayWeight=penWeight;if(CurrentData.data.datas.batch&&localDataStore.batchs&&localDataStore.batchs[CurrentData.data.datas.batch]){batch=localDataStore.batchs[CurrentData.data.datas.batch];var StartTime=batch.time;age=Math.floor((Date.now()-StartTime)/(1000*60*60*24));CurrentData.data.datas.gcurve=batch.gcurve;var Predict=CurvePredict(localDataStore,CurrentData.penId);displayWeight=Predict.Now;}if(!batch.datas)batch.datas={};if(!batch.datas.devianceMin)batch.datas.devianceMin=0;if(!batch.datas.devianceMax)batch.datas.devianceMax=0;return _react.default.createElement(_View.default,{style:[_Theme.Helpers.contentContainer,_Theme.Helpers.fullSize,_Theme.Helpers.fill]},_react.default.createElement(_View.default,{style:[_Theme.Helpers.buttonContainer,_Theme.Helpers.midWidth,_Theme.Metrics.bottomMargin,_Theme.Helpers.rowCenter]},_react.default.createElement(_View.default,{style:{padding:6,paddingRight:15}},_react.default.createElement(_reactNativeElements.Icon,{name:"md-arrow-back",type:"ionicon",size:25,color:"black",onPress:function onPress(){return onPageSwipe(_this2,localDataStore,CurrentData,false);}})),_react.default.createElement(_View.default,{style:[_Theme.Helpers.buttonContainer,_Theme.Helpers.midWidth]},_react.default.createElement(_Components.Button,{Text:CurrentData.penId,buttonStyle:{backgroundColor:_Theme.Colors.AgriDarkblue},onPress:function onPress(){}})),_react.default.createElement(_View.default,{style:{padding:6,paddingLeft:15}},_react.default.createElement(_reactNativeElements.Icon,{name:"md-arrow-forward",type:"ionicon",size:25,color:"black",onPress:function onPress(){return onPageSwipe(_this2,localDataStore,CurrentData,true);}}))),_react.default.createElement(_View.default,{style:[_Theme.Helpers.fullWidth]},_react.default.createElement(_Components.ContentProp,{texts:["Pig count","Batch","Age Days","Weight","Growth Cruve","Alarm Max","Alarm Min","Mixtur","Correction","Portion in kg"],onPress:function onPress(element){return onDataPress(1,element);},datas:[pigcount,batch_name,age,displayWeight,CurrentData.data.datas.gcurve?CurrentData.data.datas.gcurve:"default",batch.datas.devianceMin+" %",batch.datas.devianceMax+" %","-","-","-"]})),_react.default.createElement(_View.default,{style:{height:20}}),_react.default.createElement(_View.default,{style:[_Theme.Helpers.fill,App?_Theme.Helpers.fullWidth:_Theme.Helpers.midWidth,App?{}:{height:215}]},_react.default.createElement(_Components.ContentProp,{texts:["Last weighings"],datas:[]}),_react.default.createElement(_View.default,{style:{height:10}}),_react.default.createElement(_FlatList.default,{data:this.state.Weighings,renderItem:function renderItem(_ref){var item=_ref.item,index=_ref.index;if(item==="__jsogObjectId")return _react.default.createElement(_react.default.Fragment,null);var Weight=_this2.state.WeighingsList[Object.keys(item)[0]];return _react.default.createElement(_Components.ContentProp,{texts:[(0,_Selectors.format_Time)(Weight.time)],datas:[Weight.weight]});},numColumns:1,keyExtractor:function keyExtractor(item,index){return String(index);}})),_react.default.createElement(_View.default,{style:{height:30}}),_react.default.createElement(_View.default,{style:[_Theme.Helpers.borderContainer,_Theme.Helpers.midWidth]},_react.default.createElement(_Components.OperationsPanel,null)));}}}]);return DataDisplay_Pigs;}(_react.Component);function onPageSwipe(Control,localDataStore,CurrentData,dir){var section=localDataStore.pens[CurrentData.penId].section;var Pens=(0,_Selectors.sortObject)(localDataStore.sections[section].pens);if(CurrentData.type===_Selectors.DataRefs.PENS&&CurrentData.data&&Pens[CurrentData.penId]){var index=Object.keys(Pens).indexOf(CurrentData.penId);switch(dir){case true:index=index+1;break;case false:index=index-1;break;}if(index<0)index=Object.keys(Pens).length-1;else if(index>=Object.keys(Pens).length)index=0;Control.props.setCurrentData(Object.keys(Pens)[index]);_NavigationService.default.replace("DataDisplay");}}function onDataPress(sender,element){switch(sender){case 1:switch(element.index){case 0:console.log("test");break;}break;}}var mapStateToProps=function mapStateToProps(state){var firebase=state.firebase;return{firebase:firebase};};var mapDispatchToProps=function mapDispatchToProps(dispatch){return{setViewLoading:function setViewLoading(state){return dispatch(_Actions.default.viewIsLoading(state));},setViewError:function setViewError(error){return dispatch(_Actions.default.setViewError(error));},getPens:function getPens(DataTime){return dispatch(_Actions.default.actionStarting(_Selectors.Actions.FETCH,_Selectors.DataRefs.PENS,{DataTime:DataTime}));},getWeights:function getWeights(penId){return dispatch(_Actions.default.actionStarting(_Selectors.Actions.FETCH,_Selectors.DataRefs.WEIGHING,{PenId:penId}));},getBatch:function getBatch(batchId){return dispatch(_Actions.default.actionStarting(_Selectors.Actions.FETCH,_Selectors.DataRefs.BATCHS,{BatchId:batchId}));},setCurrentData:function setCurrentData(penId){return dispatch(_Actions.default.setCurrentData({type:_Selectors.DataRefs.PENS,penId:penId}));},setCurrentDataElement:function setCurrentDataElement(element){return dispatch(_Actions.default.setCurrentData(element));}};};var _default=(0,_reactRedux.connect)(mapStateToProps,mapDispatchToProps)(DataDisplay_Pigs);exports.default=_default;

/***/ }),

/***/ 1160:
/***/ (function(module, exports, __webpack_require__) {

var _interopRequireWildcard=__webpack_require__(7);var _interopRequireDefault=__webpack_require__(2);Object.defineProperty(exports,"__esModule",{value:true});exports.default=void 0;var _defineProperty2=_interopRequireDefault(__webpack_require__(11));var _classCallCheck2=_interopRequireDefault(__webpack_require__(9));var _createClass2=_interopRequireDefault(__webpack_require__(10));var _inherits2=_interopRequireDefault(__webpack_require__(15));var _possibleConstructorReturn2=_interopRequireDefault(__webpack_require__(16));var _getPrototypeOf2=_interopRequireDefault(__webpack_require__(14));var _react=_interopRequireWildcard(__webpack_require__(1));var _Text=_interopRequireDefault(__webpack_require__(21));var _View=_interopRequireDefault(__webpack_require__(8));var _ActivityIndicator=_interopRequireDefault(__webpack_require__(30));var _Image=_interopRequireDefault(__webpack_require__(33));var _StyleSheet=_interopRequireDefault(__webpack_require__(12));var _ScrollView=_interopRequireDefault(__webpack_require__(39));var _FlatList=_interopRequireDefault(__webpack_require__(50));var _reactNativeElements=__webpack_require__(46);var _reactRedux=__webpack_require__(37);var _redux=__webpack_require__(29);var _NavigationService=_interopRequireDefault(__webpack_require__(32));var _Actions=_interopRequireDefault(__webpack_require__(38));var _Selectors=__webpack_require__(40);var _reactNativeChartKit=__webpack_require__(434);var _Components=__webpack_require__(44);var _UserPanelStyle=_interopRequireDefault(__webpack_require__(80));var _Theme=__webpack_require__(22);var _CurveElement=_interopRequireWildcard(__webpack_require__(433));var _reactNativeSuperGrid=__webpack_require__(128);function _createSuper(Derived){var hasNativeReflectConstruct=_isNativeReflectConstruct();return function _createSuperInternal(){var Super=(0,_getPrototypeOf2.default)(Derived),result;if(hasNativeReflectConstruct){var NewTarget=(0,_getPrototypeOf2.default)(this).constructor;result=Reflect.construct(Super,arguments,NewTarget);}else{result=Super.apply(this,arguments);}return(0,_possibleConstructorReturn2.default)(this,result);};}function _isNativeReflectConstruct(){if(typeof Reflect==="undefined"||!Reflect.construct)return false;if(Reflect.construct.sham)return false;if(typeof Proxy==="function")return true;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}));return true;}catch(e){return false;}}var DataDisplay=function(_Component){(0,_inherits2.default)(DataDisplay,_Component);var _super=_createSuper(DataDisplay);function DataDisplay(props){var _this;(0,_classCallCheck2.default)(this,DataDisplay);_this=_super.call(this,props);var _this$setData=_this.setData(props),isClosed=_this$setData.isClosed,isVirtual=_this$setData.isVirtual,StartDate=_this$setData.StartDate,EndDate=_this$setData.EndDate,Animals=_this$setData.Animals,TargetWeight=_this$setData.TargetWeight,AverageWeight=_this$setData.AverageWeight,AverageGrowth=_this$setData.AverageGrowth,Comments_List=_this$setData.Comments_List,Comments=_this$setData.Comments;_this.state={Prediction:false,isClosed:isClosed,isVirtual:isVirtual,StartDate:StartDate,EndDate:EndDate,Animals:Animals,TargetWeight:TargetWeight,AverageWeight:AverageWeight,AverageGrowth:AverageGrowth,Comments_List:Comments_List,Comments:Comments};return _this;}(0,_createClass2.default)(DataDisplay,[{key:"setData",value:function setData(Props){var localDataStore=Props.firebase.localDataStore;var CurrentData=Props.firebase.currentData;var Batch=localDataStore.batchs[this.props.firebase.currentData.batchId];var StartDate,EndDate,TargetWeight,PenCount,Animals,AverageWeight,AverageGrowth,isClosed,isVirtual;var Data=(0,_Selectors.GetStats_FromBatch)(Batch,localDataStore);if(Data){StartDate=Data.StartDate;EndDate=Data.EndDate;TargetWeight=Data.TargetWeight;PenCount=Data.PenCount;Animals=Data.Animals;AverageWeight=Data.AverageWeight;AverageGrowth=Data.AverageGrowth;isClosed=Data.isClosed;isVirtual=Data.isVirtual;}var Comments_List=null;var Comments=[];if(Batch&&Batch.state&&Batch.state==="Closed"&&Batch.closed&&Batch.closed.comments){Comments_List=[];Object.keys(Batch.pens).reverse().filter(function(e){return e!=='__jsogObjectId';}).forEach(function(element){var CommentsList=[];if(Batch.closed.comments[element]){CommentsList=Batch.closed.comments[element];for(var i=0;i<Object.keys(CommentsList).length;i++){var name=Object.keys(CommentsList)[i];if(!name)continue;var object=CommentsList[name];if(!object||!object.time)continue;object.pen=element;Comments.push((0,_defineProperty2.default)({},name,object));}}Comments_List=Comments_List.concat(CommentsList);});}Comments=Comments.sort(function(a,b){return a.time>b.time?1:-1;});return{isClosed:isClosed,isVirtual:isVirtual,StartDate:StartDate,EndDate:EndDate,Animals:Animals,TargetWeight:TargetWeight,AverageWeight:AverageWeight,AverageGrowth:AverageGrowth,Comments_List:Comments_List,Comments:Comments};}},{key:"getData",value:function getData(){var _this2=this;var localDataStore=this.props.firebase.localDataStore;var CurrentData=this.props.firebase.currentData;if(CurrentData&&CurrentData.batchId&&localDataStore.batchs[CurrentData.batchId]){var batchData=localDataStore.batchs[CurrentData.batchId];this.props.getWeights(localDataStore.weighings?localDataStore.weighings.update_time:null,localDataStore.sections);var PenMemTime=null;if(localDataStore.pens)PenMemTime=localDataStore.pens.update_time;if(batchData.pens){Object.keys(batchData.pens).filter(function(e){return e!=='__jsogObjectId';}).forEach(function(Pen){_this2.props.getPen(Pen,PenMemTime);});}var TempGraph="";if(CurrentData.curveId){TempGraph=CurrentData.curveId;}this.props.getCurve(TempGraph);}}},{key:"checkData",value:function checkData(props){}},{key:"componentDidUpdate",value:function componentDidUpdate(prevProps,prevState){if(this.props!==prevProps){this.checkData(this.props);if(this.props.firebase.localDataStore){var _this$setData2=this.setData(this.props),isClosed=_this$setData2.isClosed,isVirtual=_this$setData2.isVirtual,StartDate=_this$setData2.StartDate,EndDate=_this$setData2.EndDate,Animals=_this$setData2.Animals,TargetWeight=_this$setData2.TargetWeight,AverageWeight=_this$setData2.AverageWeight,AverageGrowth=_this$setData2.AverageGrowth,Comments_List=_this$setData2.Comments_List,Comments=_this$setData2.Comments;this.setState({Prediction:false,isClosed:isClosed,isVirtual:isVirtual,StartDate:StartDate,EndDate:EndDate,Animals:Animals,TargetWeight:TargetWeight,AverageWeight:AverageWeight,AverageGrowth:AverageGrowth,Comments_List:Comments_List,Comments:Comments});}}}},{key:"componentDidMount",value:function componentDidMount(){this.props.setViewLoading(false);this.props.setViewError(null);this.checkData(this.props);this.getData();}},{key:"render",value:function render(){var _this3=this;var IsLoading=this.props.firebase.firebaseIsLoading;var ErrorMessage=this.props.firebase.viewError;var localDataStore=this.props.firebase.localDataStore;var CurrentData=this.props.firebase.currentData;var StartDate=this.state.StartDate;var Dif_Time=new Date().getTime()-StartDate;var Days=Dif_Time/(1000*3600*24);Days=Days.toFixed(0);StartDate=new Date(StartDate).getDate()+"/"+(new Date(StartDate).getMonth()+1)+"/"+new Date(StartDate).getFullYear();var EndDate=this.state.EndDate;EndDate=new Date(EndDate).getDate()+"/"+(new Date(EndDate).getMonth()+1)+"/"+new Date(EndDate).getFullYear();var Virtual=String(this.state.isVirtual);Virtual=Virtual.charAt(0).toUpperCase()+Virtual.slice(1);return _react.default.createElement(_ScrollView.default,{style:[_Theme.Helpers.fullSize,_Theme.Helpers.fill]},_react.default.createElement(_View.default,{style:[_Theme.Helpers.mainContainer]},_react.default.createElement(_View.default,{style:[_Theme.Helpers.contentContainer,_Theme.Helpers.fullSize,_Theme.Helpers.fill]},ErrorMessage?_react.default.createElement(_Text.default,{style:_Theme.ApplicationStyles.error},ErrorMessage):_react.default.createElement(_react.default.Fragment,null),_react.default.createElement(_Components.TitleElement,{Text:this.props.firebase.currentData.batchId?this.props.firebase.currentData.batchId:"-NON-"}),_react.default.createElement(_View.default,null,_react.default.createElement(_View.default,{style:[_Theme.Helpers.fullWidth,{justifyContent:'center'}]},_react.default.createElement(_reactNativeSuperGrid.FlatGrid,{itemDimension:120,spacing:10,data:[{title:'Start',data:StartDate},{title:'End Forecast',data:EndDate},{title:'Target Weight',data:this.state.TargetWeight}],renderItem:function renderItem(_ref){var item=_ref.item;return _react.default.createElement(_View.default,{style:[_Theme.Helpers.borderContainer,{textAlign:'center'}]},_react.default.createElement(_Text.default,null,item.title),_react.default.createElement(_Text.default,null,item.data));}})),_react.default.createElement(_View.default,{style:[_Theme.Helpers.fullWidth,{justifyContent:'center'}]},_react.default.createElement(_reactNativeSuperGrid.FlatGrid,{itemDimension:120,spacing:10,data:[{title:'Animals',data:this.state.Animals},{title:'Day',data:Days},{title:'Avarage weight',data:this.state.AverageWeight},{title:'Average growth',data:this.state.AverageGrowth}],renderItem:function renderItem(_ref2){var item=_ref2.item;return _react.default.createElement(_View.default,{style:[_Theme.Helpers.borderContainer,{textAlign:'center'}]},_react.default.createElement(_Text.default,null,item.title),_react.default.createElement(_Text.default,null,item.data));}})),_react.default.createElement(_Components.Button,{Text:"Show Predict",onPress:function onPress(){_this3.setState({Prediction:!_this3.state.Prediction});}})),_react.default.createElement(_View.default,{style:[_Theme.Helpers.fill,_Theme.Helpers.fullWidth,{minHeight:750}]},_react.default.createElement(_CurveElement.default,{Predict:this.state.Prediction,weighings:localDataStore.weighings})),this.state.Comments_List?_react.default.createElement(_View.default,{style:[_Theme.Helpers.fill,_Theme.Helpers.midWidth,{height:415}]},_react.default.createElement(_Components.ContentProp,{texts:["Action log"],datas:[]}),_react.default.createElement(_View.default,{style:{height:10}}),_react.default.createElement(_FlatList.default,{data:this.state.Comments.filter(function(e){return e!=='__jsogObjectId';}),renderItem:function renderItem(_ref3){var item=_ref3.item,index=_ref3.index;var Comment=_this3.state.Comments_List[0][Object.keys(item)[0]];if(!Comment)return null;return _react.default.createElement(_Components.ContentProp,{texts:[(0,_Selectors.format_Time)(Comment.time)+":\n"+Comment.user],datas:[Comment.pen+": "+Comment.action+":\n"+Comment.data]});},numColumns:1,keyExtractor:function keyExtractor(item,index){return String(index);}})):_react.default.createElement(_react.default.Fragment,null)),(IsLoading||this.props.firebase.viewIsLoading)&&_react.default.createElement(_ActivityIndicator.default,{style:_Theme.Helpers.loadingContainer,size:"large"})));}}]);return DataDisplay;}(_react.Component);var mapStateToProps=function mapStateToProps(state){var firebase=state.firebase;return{firebase:firebase};};var mapDispatchToProps=function mapDispatchToProps(dispatch){return{setViewLoading:function setViewLoading(state){return dispatch(_Actions.default.viewIsLoading(state));},setViewError:function setViewError(error){return dispatch(_Actions.default.setViewError(error));},getPen:function getPen(penId,DataTime){return dispatch(_Actions.default.actionStarting(_Selectors.Actions.FETCH,_Selectors.DataRefs.PENS,{PenId:penId,DataTime:DataTime}));},getWeights:function getWeights(DataTime,MemSections){return dispatch(_Actions.default.actionStarting(_Selectors.Actions.FETCH,_Selectors.DataRefs.WEIGHING,{DataTime:DataTime,MemSections:MemSections}));},getBatch:function getBatch(batchId){return dispatch(_Actions.default.actionStarting(_Selectors.Actions.FETCH,_Selectors.DataRefs.BATCHS,{}));},getCurve:function getCurve(curveid){return dispatch(_Actions.default.actionStarting(_Selectors.Actions.FETCH,_Selectors.DataRefs.GRAPH,{GraphId:curveid}));},setCurve:function setCurve(curve){return dispatch(_Actions.default.actionStarting(_Selectors.Actions.CREATE,_Selectors.DataRefs.GRAPH,{Graph:curve}));}};};var _default=(0,_reactRedux.connect)(mapStateToProps,mapDispatchToProps)(DataDisplay);exports.default=_default;

/***/ }),

/***/ 1161:
/***/ (function(module, exports, __webpack_require__) {

var _interopRequireWildcard=__webpack_require__(7);var _interopRequireDefault=__webpack_require__(2);Object.defineProperty(exports,"__esModule",{value:true});exports.default=void 0;var _classCallCheck2=_interopRequireDefault(__webpack_require__(9));var _createClass2=_interopRequireDefault(__webpack_require__(10));var _assertThisInitialized2=_interopRequireDefault(__webpack_require__(26));var _inherits2=_interopRequireDefault(__webpack_require__(15));var _possibleConstructorReturn2=_interopRequireDefault(__webpack_require__(16));var _getPrototypeOf2=_interopRequireDefault(__webpack_require__(14));var _defineProperty2=_interopRequireDefault(__webpack_require__(11));var _react=_interopRequireWildcard(__webpack_require__(1));var _Platform=_interopRequireDefault(__webpack_require__(18));var _Dimensions=_interopRequireDefault(__webpack_require__(49));var _Text=_interopRequireDefault(__webpack_require__(21));var _View=_interopRequireDefault(__webpack_require__(8));var _ActivityIndicator=_interopRequireDefault(__webpack_require__(30));var _Image=_interopRequireDefault(__webpack_require__(33));var _reactRedux=__webpack_require__(37);var _redux=__webpack_require__(29);var _NavigationService=_interopRequireDefault(__webpack_require__(32));var _Actions=_interopRequireDefault(__webpack_require__(38));var _Components=__webpack_require__(44);var _Theme=__webpack_require__(22);function _createSuper(Derived){var hasNativeReflectConstruct=_isNativeReflectConstruct();return function _createSuperInternal(){var Super=(0,_getPrototypeOf2.default)(Derived),result;if(hasNativeReflectConstruct){var NewTarget=(0,_getPrototypeOf2.default)(this).constructor;result=Reflect.construct(Super,arguments,NewTarget);}else{result=Super.apply(this,arguments);}return(0,_possibleConstructorReturn2.default)(this,result);};}function _isNativeReflectConstruct(){if(typeof Reflect==="undefined"||!Reflect.construct)return false;if(Reflect.construct.sham)return false;if(typeof Proxy==="function")return true;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}));return true;}catch(e){return false;}}var ViewContainer=function(_Component){(0,_inherits2.default)(ViewContainer,_Component);var _super=_createSuper(ViewContainer);function ViewContainer(props){var _this;(0,_classCallCheck2.default)(this,ViewContainer);_this=_super.call(this,props);(0,_defineProperty2.default)((0,_assertThisInitialized2.default)(_this),"onChange",function(_ref){var window=_ref.window,screen=_ref.screen;_this.setState({dimensions:{window:window,screen:screen}});});var _window=_Dimensions.default.get("window");var _screen=_Dimensions.default.get("screen");_this.state={dimensions:{window:_window,screen:_screen},viewState:0,ShowMainError:false,FocusSubscription:null,NaviParams:props.navigation.state.params};return _this;}(0,_createClass2.default)(ViewContainer,[{key:"setData",value:function setData(Props){}},{key:"getData",value:function getData(){}},{key:"checkData",value:function checkData(props){}},{key:"componentDidUpdate",value:function componentDidUpdate(prevProps,prevState){if(this.props!==prevProps){this.checkData(this.props);if(this.props.firebase.viewError!=prevProps.firebase.viewError){this.forceUpdate();}}}},{key:"componentDidMount",value:function componentDidMount(){var _this2=this;_Dimensions.default.addEventListener("change",this.onChange);this.props.setFirebaseError(null);this.checkData(this.props);this.getData();var FocusSubscription=this.props.navigation.addListener('willFocus',function(payload){_this2.props.setViewLoading(false);_this2.props.setViewError(null);});this.setState({FocusSubscription:FocusSubscription});}},{key:"componentWillUnmount",value:function componentWillUnmount(){if(this.state.FocusSubscription){this.state.FocusSubscription.remove();}_Dimensions.default.removeEventListener("change",this.onChange);}},{key:"render",value:function render(){var ErrorMessage=this.props.firebase.viewError;var firebaseErrorMessage=this.props.firebase.firebaseErrorMessage;var wide=this.state.dimensions.window.width>900?true:false;var App=_Platform.default.OS==='ios'||_Platform.default.OS==='android'||!wide;var Menu=this.state.NaviParams.Menu;var Main=this.state.NaviParams.Main;if(Menu){if(App){return _react.default.createElement(Main,null);}else{return _react.default.createElement(_View.default,{style:[_Theme.Helpers.rowMain,_Theme.Helpers.fullSize,{alignItems:'flex-start'}]},_react.default.createElement(_View.default,{style:[_Theme.Helpers.fillRow,_Theme.Helpers.fullSize,{flex:1,minWidth:390,maxWidth:400,marginHorizontal:-30,borderRightWidth:1}]},_react.default.createElement(Menu,null)),_react.default.createElement(_View.default,{style:[_Theme.Helpers.fillRow,_Theme.Helpers.fullSize,{flex:1,alignItems:'flex-start',marginLeft:20}]},_react.default.createElement(Main,null)));}}else{return _react.default.createElement(Main,null);}}}]);return ViewContainer;}(_react.Component);var mapStateToProps=function mapStateToProps(state){var firebase=state.firebase;return{firebase:firebase};};var mapDispatchToProps=function mapDispatchToProps(dispatch){return{setFirebaseError:function setFirebaseError(error){return dispatch(_Actions.default.setFirebaseError(error));},setViewLoading:function setViewLoading(state){return dispatch(_Actions.default.viewIsLoading(state));},setViewError:function setViewError(error){return dispatch(_Actions.default.setViewError(error));}};};var _default=(0,_reactRedux.connect)(mapStateToProps,mapDispatchToProps)(ViewContainer);exports.default=_default;

/***/ }),

/***/ 1162:
/***/ (function(module, exports, __webpack_require__) {

var _interopRequireDefault=__webpack_require__(2);Object.defineProperty(exports,"__esModule",{value:true});exports.default=void 0;var _defineProperty2=_interopRequireDefault(__webpack_require__(11));var _react=_interopRequireDefault(__webpack_require__(1));var _reactNavigation=__webpack_require__(83);var _reactNavigationStack=__webpack_require__(148);var _TouchableOpacity=_interopRequireDefault(__webpack_require__(41));var _View=_interopRequireDefault(__webpack_require__(8));var _Text=_interopRequireDefault(__webpack_require__(21));var _reactNativeElements=__webpack_require__(46);var _NavigationService=_interopRequireDefault(__webpack_require__(32));var _FrontScreen=_interopRequireDefault(__webpack_require__(1163));var _UserBoard=_interopRequireDefault(__webpack_require__(1165));var _SystemBoard=_interopRequireDefault(__webpack_require__(1166));var _UserPanelNavigator=_interopRequireDefault(__webpack_require__(428));var _Theme=__webpack_require__(22);function ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);if(enumerableOnly)symbols=symbols.filter(function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable;});keys.push.apply(keys,symbols);}return keys;}function _objectSpread(target){for(var i=1;i<arguments.length;i++){var source=arguments[i]!=null?arguments[i]:{};if(i%2){ownKeys(Object(source),true).forEach(function(key){(0,_defineProperty2.default)(target,key,source[key]);});}else if(Object.getOwnPropertyDescriptors){Object.defineProperties(target,Object.getOwnPropertyDescriptors(source));}else{ownKeys(Object(source)).forEach(function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key));});}}return target;}var StackNavigator=(0,_reactNavigationStack.createStackNavigator)({AdminFront:{screen:_FrontScreen.default,navigationOptions:function navigationOptions(){return{title:'Admin Panel',headerLeft:function headerLeft(){return _react.default.createElement(_View.default,{style:{padding:6,paddingLeft:15}},_react.default.createElement(_reactNativeElements.Icon,{type:"ionicon",name:"md-arrow-back",size:25,color:"black",onPress:function onPress(){return _NavigationService.default.navigate('MainStack');}}));}};},path:'admin_front'},UserBoard:{screen:_UserBoard.default,navigationOptions:function navigationOptions(){return{title:'User Board'};},path:'admin_user_board'},SystemBoard:{screen:_SystemBoard.default,navigationOptions:function navigationOptions(){return{title:'System Board'};},path:'admin_system_board'},UserPanel:{screen:_UserPanelNavigator.default,navigationOptions:function navigationOptions(){return{title:'Admin Panel',headerLeft:function headerLeft(){return _react.default.createElement(_View.default,{style:{padding:6,paddingLeft:15}},_react.default.createElement(_reactNativeElements.Icon,{type:"ionicon",name:"md-arrow-back",size:25,color:"black",onPress:function onPress(){return _NavigationService.default.navigate('SystemBoard');}}));}};},path:'admin_front'}},{initialRouteName:'AdminFront',headerMode:'float',defaultNavigationOptions:{headerTitleAlign:'center',headerTitleStyle:_objectSpread({},_Theme.ApplicationStyles.navigationHeader),headerRight:function headerRight(){return _react.default.createElement(_View.default,{style:{padding:6}});}}});var _default=StackNavigator;exports.default=_default;

/***/ }),

/***/ 1163:
/***/ (function(module, exports, __webpack_require__) {

var _interopRequireWildcard=__webpack_require__(7);var _interopRequireDefault=__webpack_require__(2);Object.defineProperty(exports,"__esModule",{value:true});exports.default=void 0;var _classCallCheck2=_interopRequireDefault(__webpack_require__(9));var _createClass2=_interopRequireDefault(__webpack_require__(10));var _inherits2=_interopRequireDefault(__webpack_require__(15));var _possibleConstructorReturn2=_interopRequireDefault(__webpack_require__(16));var _getPrototypeOf2=_interopRequireDefault(__webpack_require__(14));var _react=_interopRequireWildcard(__webpack_require__(1));var _Platform=_interopRequireDefault(__webpack_require__(18));var _Text=_interopRequireDefault(__webpack_require__(21));var _View=_interopRequireDefault(__webpack_require__(8));var _ActivityIndicator=_interopRequireDefault(__webpack_require__(30));var _reactRedux=__webpack_require__(37);var _redux=__webpack_require__(29);var _NavigationService=_interopRequireDefault(__webpack_require__(32));var _Actions=_interopRequireDefault(__webpack_require__(38));var _Selectors=__webpack_require__(40);var _Components=__webpack_require__(44);var _AdminPanelStyle=_interopRequireDefault(__webpack_require__(1164));var _Theme=__webpack_require__(22);function _createSuper(Derived){var hasNativeReflectConstruct=_isNativeReflectConstruct();return function _createSuperInternal(){var Super=(0,_getPrototypeOf2.default)(Derived),result;if(hasNativeReflectConstruct){var NewTarget=(0,_getPrototypeOf2.default)(this).constructor;result=Reflect.construct(Super,arguments,NewTarget);}else{result=Super.apply(this,arguments);}return(0,_possibleConstructorReturn2.default)(this,result);};}function _isNativeReflectConstruct(){if(typeof Reflect==="undefined"||!Reflect.construct)return false;if(Reflect.construct.sham)return false;if(typeof Proxy==="function")return true;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}));return true;}catch(e){return false;}}var FrontScreen=function(_Component){(0,_inherits2.default)(FrontScreen,_Component);var _super=_createSuper(FrontScreen);function FrontScreen(props){var _this;(0,_classCallCheck2.default)(this,FrontScreen);_this=_super.call(this,props);_this.state={ISLOADPAGE:true};return _this;}(0,_createClass2.default)(FrontScreen,[{key:"getData",value:function getData(){}},{key:"checkData",value:function checkData(props){}},{key:"componentDidMount",value:function componentDidMount(){this.props.setViewLoading(false);this.props.setViewError(null);this.props.clearDataMem();this.checkData(this.props);this.getData();}},{key:"componentDidUpdate",value:function componentDidUpdate(prevProps,prevState){if(this.props!==prevProps){this.checkData(this.props);}}},{key:"render",value:function render(){var _this2=this;var IsLoading=this.props.firebase.firebaseIsLoading;var firebaseUser=this.props.firebase.firebaseUser;return _react.default.createElement(_View.default,{style:[_Theme.Helpers.mainContainer]},_react.default.createElement(_View.default,{style:[_Theme.Helpers.contentContainer,_Theme.Helpers.fullSize,_Theme.Helpers.fillColMain]},firebaseUser?_react.default.createElement(_View.default,{style:_Theme.Helpers.textContainer},_react.default.createElement(_Text.default,{style:_Theme.ApplicationStyles.text},"Welcome: ",firebaseUser.displayName?firebaseUser.displayName:firebaseUser.email)):_react.default.createElement(_react.default.Fragment,null),_react.default.createElement(_Components.Button_Panel,{Texts:["User Board","Systems"],Images:[_Theme.Images.DashBoard,_Theme.Images.System],onPress:function onPress(ele){switch(ele.text){case"User Board":_NavigationService.default.navigate("UserBoard");break;case"Systems":_NavigationService.default.navigate("SystemBoard");break;}ele.text;}}),_react.default.createElement(_View.default,{style:[_Theme.Helpers.buttonContainer,_Theme.Helpers.midWidth]},_react.default.createElement(_Components.Button,{Text:"LogOut",onPress:function onPress(){_this2.props.logOut();}}))),(IsLoading||this.props.firebase.viewIsLoading)&&_react.default.createElement(_ActivityIndicator.default,{style:_Theme.Helpers.loadingContainer,size:"large"}));}}]);return FrontScreen;}(_react.Component);var mapStateToProps=function mapStateToProps(state){var firebase=state.firebase;return{firebase:firebase};};var mapDispatchToProps=function mapDispatchToProps(dispatch){return{setFirebaseError:function setFirebaseError(error){return dispatch(_Actions.default.setFirebaseError(error));},setViewLoading:function setViewLoading(state){return dispatch(_Actions.default.viewIsLoading(state));},setViewError:function setViewError(error){return dispatch(_Actions.default.setViewError(error));},clearDataMem:function clearDataMem(){return dispatch(_Actions.default.actionStarting(_Selectors.Actions.CLEAR,_Selectors.DataRefs.USERSDATA));},logOut:function logOut(){return dispatch(_Actions.default.actionStarting(_Selectors.Actions.SIGN,_Selectors.DataRefs.USERSDATA));}};};var _default=(0,_reactRedux.connect)(mapStateToProps,mapDispatchToProps)(FrontScreen);exports.default=_default;

/***/ }),

/***/ 1164:
/***/ (function(module, exports, __webpack_require__) {

var _interopRequireDefault=__webpack_require__(2);Object.defineProperty(exports,"__esModule",{value:true});exports.default=void 0;var _StyleSheet=_interopRequireDefault(__webpack_require__(12));var _Theme=__webpack_require__(22);var _default=_StyleSheet.default.create({});exports.default=_default;

/***/ }),

/***/ 1165:
/***/ (function(module, exports, __webpack_require__) {

var _interopRequireWildcard=__webpack_require__(7);var _interopRequireDefault=__webpack_require__(2);Object.defineProperty(exports,"__esModule",{value:true});exports.default=void 0;var _classCallCheck2=_interopRequireDefault(__webpack_require__(9));var _createClass2=_interopRequireDefault(__webpack_require__(10));var _inherits2=_interopRequireDefault(__webpack_require__(15));var _possibleConstructorReturn2=_interopRequireDefault(__webpack_require__(16));var _getPrototypeOf2=_interopRequireDefault(__webpack_require__(14));var _react=_interopRequireWildcard(__webpack_require__(1));var _Platform=_interopRequireDefault(__webpack_require__(18));var _Text=_interopRequireDefault(__webpack_require__(21));var _View=_interopRequireDefault(__webpack_require__(8));var _ActivityIndicator=_interopRequireDefault(__webpack_require__(30));var _Image=_interopRequireDefault(__webpack_require__(33));var _StyleSheet=_interopRequireDefault(__webpack_require__(12));var _ScrollView=_interopRequireDefault(__webpack_require__(39));var _SafeAreaView=_interopRequireDefault(__webpack_require__(97));var _FlatList=_interopRequireDefault(__webpack_require__(50));var _reactNativeElements=__webpack_require__(46);var _reactRedux=__webpack_require__(37);var _redux=__webpack_require__(29);var _NavigationService=_interopRequireDefault(__webpack_require__(32));var _Actions=_interopRequireDefault(__webpack_require__(38));var _Selectors=__webpack_require__(40);var _Components=__webpack_require__(44);var _CloudScreenStyle=_interopRequireDefault(__webpack_require__(127));var _Theme=__webpack_require__(22);var _reactNativeSuperGrid=__webpack_require__(128);function _createSuper(Derived){var hasNativeReflectConstruct=_isNativeReflectConstruct();return function _createSuperInternal(){var Super=(0,_getPrototypeOf2.default)(Derived),result;if(hasNativeReflectConstruct){var NewTarget=(0,_getPrototypeOf2.default)(this).constructor;result=Reflect.construct(Super,arguments,NewTarget);}else{result=Super.apply(this,arguments);}return(0,_possibleConstructorReturn2.default)(this,result);};}function _isNativeReflectConstruct(){if(typeof Reflect==="undefined"||!Reflect.construct)return false;if(Reflect.construct.sham)return false;if(typeof Proxy==="function")return true;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}));return true;}catch(e){return false;}}var UserListBoard=function(_Component){(0,_inherits2.default)(UserListBoard,_Component);var _super=_createSuper(UserListBoard);function UserListBoard(props){var _this;(0,_classCallCheck2.default)(this,UserListBoard);_this=_super.call(this,props);var _this$setData=_this.setData(props),UserList=_this$setData.UserList;_this.state={UserList:UserList,User:""};return _this;}(0,_createClass2.default)(UserListBoard,[{key:"getData",value:function getData(){this.props.getUsers();}},{key:"setData",value:function setData(Props){var localDataStore=Props.firebase.localDataStore;var UserList=null;if(localDataStore&&localDataStore.users){UserList=(0,_Selectors.sortObject)(localDataStore.users);}return{UserList:UserList};}},{key:"checkData",value:function checkData(props){}},{key:"componentDidMount",value:function componentDidMount(){this.props.setViewLoading(false);this.props.setViewError(null);this.checkData(this.props);this.getData();}},{key:"componentDidUpdate",value:function componentDidUpdate(prevProps,prevState){if(this.props!==prevProps){this.checkData(this.props);if(this.props.firebase){if(this.props.firebase.localDataStore){if(this.props.firebase.localDataStore.users&&JSON.stringify(this.state.UserList)!==JSON.stringify((0,_Selectors.sortObject)(this.props.firebase.localDataStore.users))){var _this$setData2=this.setData(this.props),UserList=_this$setData2.UserList;this.setState({UserList:UserList});}}}}}},{key:"render",value:function render(){var _this2=this;var IsLoading=this.props.firebase.firebaseIsLoading;return _react.default.createElement(_View.default,{style:[_Theme.Helpers.mainContainer]},_react.default.createElement(_View.default,{style:[_Theme.Helpers.contentContainer,_Theme.Helpers.fullWidth,_Theme.Helpers.fill]},_react.default.createElement(_View.default,{style:[_Theme.Helpers.fill,_Theme.Helpers.buttonContainer,_Theme.Helpers.fullWidth,_Theme.Metrics.bottomMargin,_Theme.Helpers.column]},this.state.UserList?_react.default.createElement(_View.default,{style:[_Theme.Helpers.fill,_Theme.Helpers.borderContainer,_Theme.Metrics.smallHorizontalPadding,_Theme.Metrics.smallVerticalPadding,{maxWidth:800,marginTop:10}]},_react.default.createElement(_SafeAreaView.default,{style:styles.container},_react.default.createElement(_FlatList.default,{data:Object.keys(this.state.UserList).filter(function(e){return e!=='__jsogObjectId';}),renderItem:function renderItem(_ref){var item=_ref.item,index=_ref.index;var User=_this2.state.UserList[item];return _react.default.createElement(_View.default,{style:[_Theme.Helpers.fill,_Theme.Helpers.rowCenter,_Theme.Helpers.fullWidth,{height:35}]},_react.default.createElement(_Components.CustomListItem,{Title:User.name,itemStyle:[{minWidth:190,height:35}],onPress:function onPress(){}}),_react.default.createElement(_Components.CustomListItem,{itemStyle:[{width:70,height:35,justifyContent:"center"}],Title:"",onPress:function onPress(){_this2.setState({User:User.name});}}),_react.default.createElement(_Components.CustomListItem,{itemStyle:[{width:90,height:35}],Title:User.state,onPress:function onPress(){_this2.setState({User:User.name});}}));},keyExtractor:function keyExtractor(item,index){return index.toString();}}))):_react.default.createElement(_react.default.Fragment,null),_react.default.createElement(_reactNativeElements.Input,{label:"User-tag:",containerStyle:[{borderWidth:1,marginTop:10}],style:[_Theme.ApplicationStyles.input],onChangeText:function onChangeText(text){_this2.setState({User:text});},value:this.state.User}))),(IsLoading||this.props.firebase.viewIsLoading)&&_react.default.createElement(_ActivityIndicator.default,{style:_Theme.Helpers.loadingContainer,size:"large"}));}}]);return UserListBoard;}(_react.Component);var styles=_StyleSheet.default.create({circle:{width:125,height:125,borderRadius:125/2,marginTop:_Theme.Metrics.tiny,marginLeft:_Theme.Metrics.tiny}});var mapStateToProps=function mapStateToProps(state){var firebase=state.firebase;return{firebase:firebase};};var mapDispatchToProps=function mapDispatchToProps(dispatch){return{setFirebaseError:function setFirebaseError(error){return dispatch(_Actions.default.setFirebaseError(error));},setViewLoading:function setViewLoading(state){return dispatch(_Actions.default.viewIsLoading(state));},setViewError:function setViewError(error){return dispatch(_Actions.default.setViewError(error));},getUsers:function getUsers(){return dispatch(_Actions.default.actionStarting(_Selectors.Actions.FETCH,_Selectors.DataRefs.USERS,{UserId:""}));}};};var _default=(0,_reactRedux.connect)(mapStateToProps,mapDispatchToProps)(UserListBoard);exports.default=_default;

/***/ }),

/***/ 1166:
/***/ (function(module, exports, __webpack_require__) {

var _interopRequireWildcard=__webpack_require__(7);var _interopRequireDefault=__webpack_require__(2);Object.defineProperty(exports,"__esModule",{value:true});exports.default=void 0;var _defineProperty2=_interopRequireDefault(__webpack_require__(11));var _classCallCheck2=_interopRequireDefault(__webpack_require__(9));var _createClass2=_interopRequireDefault(__webpack_require__(10));var _inherits2=_interopRequireDefault(__webpack_require__(15));var _possibleConstructorReturn2=_interopRequireDefault(__webpack_require__(16));var _getPrototypeOf2=_interopRequireDefault(__webpack_require__(14));var _react=_interopRequireWildcard(__webpack_require__(1));var _Platform=_interopRequireDefault(__webpack_require__(18));var _Text=_interopRequireDefault(__webpack_require__(21));var _View=_interopRequireDefault(__webpack_require__(8));var _ActivityIndicator=_interopRequireDefault(__webpack_require__(30));var _Image=_interopRequireDefault(__webpack_require__(33));var _StyleSheet=_interopRequireDefault(__webpack_require__(12));var _ScrollView=_interopRequireDefault(__webpack_require__(39));var _SafeAreaView=_interopRequireDefault(__webpack_require__(97));var _FlatList=_interopRequireDefault(__webpack_require__(50));var _reactNativeElements=__webpack_require__(46);var _reactRedux=__webpack_require__(37);var _redux=__webpack_require__(29);var _NavigationService=_interopRequireDefault(__webpack_require__(32));var _Actions=_interopRequireDefault(__webpack_require__(38));var _Selectors=__webpack_require__(40);var _Components=__webpack_require__(44);var _CloudScreenStyle=_interopRequireDefault(__webpack_require__(127));var _Theme=__webpack_require__(22);var _reactNativeSuperGrid=__webpack_require__(128);function _createSuper(Derived){var hasNativeReflectConstruct=_isNativeReflectConstruct();return function _createSuperInternal(){var Super=(0,_getPrototypeOf2.default)(Derived),result;if(hasNativeReflectConstruct){var NewTarget=(0,_getPrototypeOf2.default)(this).constructor;result=Reflect.construct(Super,arguments,NewTarget);}else{result=Super.apply(this,arguments);}return(0,_possibleConstructorReturn2.default)(this,result);};}function _isNativeReflectConstruct(){if(typeof Reflect==="undefined"||!Reflect.construct)return false;if(Reflect.construct.sham)return false;if(typeof Proxy==="function")return true;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}));return true;}catch(e){return false;}}var SystemListBoard=function(_Component){(0,_inherits2.default)(SystemListBoard,_Component);var _super=_createSuper(SystemListBoard);function SystemListBoard(props){var _this;(0,_classCallCheck2.default)(this,SystemListBoard);_this=_super.call(this,props);var _this$setData=_this.setData(props),FarmList=_this$setData.FarmList;_this.state={FarmList:FarmList,Farm:{name:""}};return _this;}(0,_createClass2.default)(SystemListBoard,[{key:"getData",value:function getData(){this.props.getFarms();}},{key:"setData",value:function setData(Props){var localDataStore=Props.firebase.localDataStore;var FarmList=null;if(localDataStore&&localDataStore.farms){FarmList=(0,_Selectors.sortObject)(localDataStore.farms);}return{FarmList:FarmList};}},{key:"checkData",value:function checkData(props){}},{key:"componentDidMount",value:function componentDidMount(){this.props.setViewLoading(false);this.props.setViewError(null);this.checkData(this.props);this.getData();}},{key:"componentDidUpdate",value:function componentDidUpdate(prevProps,prevState){if(this.props!==prevProps){this.checkData(this.props);if(this.props.firebase){if(this.props.firebase.localDataStore){if(this.props.firebase.localDataStore.farms&&JSON.stringify(this.state.FarmList)!==JSON.stringify((0,_Selectors.sortObject)(this.props.firebase.localDataStore.farms))){var _this$setData2=this.setData(this.props),FarmList=_this$setData2.FarmList;this.setState({FarmList:FarmList});}}}}}},{key:"render",value:function render(){var _this2=this;var IsLoading=this.props.firebase.firebaseIsLoading;return _react.default.createElement(_View.default,{style:[_Theme.Helpers.mainContainer]},_react.default.createElement(_View.default,{style:[_Theme.Helpers.contentContainer,_Theme.Helpers.fullWidth,_Theme.Helpers.fill]},_react.default.createElement(_View.default,{style:[_Theme.Helpers.fill,_Theme.Helpers.buttonContainer,_Theme.Helpers.fullWidth,_Theme.Metrics.bottomMargin,_Theme.Helpers.column]},this.state.FarmList?_react.default.createElement(_View.default,{style:[_Theme.Helpers.fill,_Theme.Helpers.borderContainer,_Theme.Metrics.smallHorizontalPadding,_Theme.Metrics.smallVerticalPadding,{maxWidth:800,marginTop:10}]},_react.default.createElement(_SafeAreaView.default,{style:styles.container},_react.default.createElement(_FlatList.default,{data:Object.keys(this.state.FarmList).filter(function(e){return e!=='__jsogObjectId';}),renderItem:function renderItem(_ref){var item=_ref.item,index=_ref.index;var Farm=_this2.state.FarmList[item];Farm.id=item;return _react.default.createElement(_View.default,{style:[_Theme.Helpers.fill,_Theme.Helpers.rowCenter,_Theme.Helpers.fullWidth,{height:35}]},_react.default.createElement(_Components.CustomListItem,{Title:Farm.name,itemStyle:[{minWidth:100,height:35}],onPress:function onPress(){}}),_react.default.createElement(_Components.CustomListItem,{itemStyle:[{minWidth:150,height:35,justifyContent:"center"}],Title:Farm.manager,onPress:function onPress(){_this2.setState({Farm:Farm});}}),_react.default.createElement(_Components.CustomListItem,{itemStyle:[{minWidth:150,height:35}],Title:Farm.email,onPress:function onPress(){_this2.setState({Farm:Farm});}}));},keyExtractor:function keyExtractor(item,index){return index.toString();}}))):_react.default.createElement(_react.default.Fragment,null),_react.default.createElement(_View.default,{style:[_Theme.Helpers.rowCenter,_Theme.Helpers.fullWidth,{height:120}]},_react.default.createElement(_reactNativeElements.Input,{label:"Farm-tag:",containerStyle:[_Theme.Helpers.halvWidth,{borderWidth:1,marginTop:10}],style:[_Theme.ApplicationStyles.input],editable:false,onChangeText:function onChangeText(text){var Farm=_this2.state.Farm;Farm.name=text;_this2.setState({Farm:Farm});},value:this.state.Farm.name}),_react.default.createElement(_Components.Button,{Text:"Consys",boxStyle:[{marginLeft:10}],onPress:function onPress(){}}),_react.default.createElement(_Components.Button,{Text:"Farm Panel",boxStyle:[{marginLeft:10}],onPress:function onPress(){if(_this2.state.Farm.id!==""){_this2.props.clearDataMem();_this2.props.setUserFarm(_this2.state.Farm.id);_NavigationService.default.navigate("UserPanel");}}})))),(IsLoading||this.props.firebase.viewIsLoading)&&_react.default.createElement(_ActivityIndicator.default,{style:_Theme.Helpers.loadingContainer,size:"large"}));}}]);return SystemListBoard;}(_react.Component);var styles=_StyleSheet.default.create({circle:{width:125,height:125,borderRadius:125/2,marginTop:_Theme.Metrics.tiny,marginLeft:_Theme.Metrics.tiny}});var mapStateToProps=function mapStateToProps(state){var firebase=state.firebase;return{firebase:firebase};};var mapDispatchToProps=function mapDispatchToProps(dispatch){return{setFirebaseError:function setFirebaseError(error){return dispatch(_Actions.default.setFirebaseError(error));},setViewLoading:function setViewLoading(state){return dispatch(_Actions.default.viewIsLoading(state));},setViewError:function setViewError(error){return dispatch(_Actions.default.setViewError(error));},clearDataMem:function clearDataMem(){return dispatch(_Actions.default.actionStarting(_Selectors.Actions.CLEAR,_Selectors.DataRefs.USERSDATA));},getFarms:function getFarms(){return dispatch(_Actions.default.actionStarting(_Selectors.Actions.FETCH,_Selectors.DataRefs.FARMS,{FarmId:""}));},setUserFarm:function setUserFarm(FarmId){return dispatch(_Actions.default.actionStarting(_Selectors.Actions.UPDATE,_Selectors.DataRefs.USERS,{farms:(0,_defineProperty2.default)({},FarmId,true)}));}};};var _default=(0,_reactRedux.connect)(mapStateToProps,mapDispatchToProps)(SystemListBoard);exports.default=_default;

/***/ }),

/***/ 127:
/***/ (function(module, exports, __webpack_require__) {

var _interopRequireDefault=__webpack_require__(2);Object.defineProperty(exports,"__esModule",{value:true});exports.default=void 0;var _defineProperty2=_interopRequireDefault(__webpack_require__(11));var _StyleSheet=_interopRequireDefault(__webpack_require__(12));var _Theme=__webpack_require__(22);function ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);if(enumerableOnly)symbols=symbols.filter(function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable;});keys.push.apply(keys,symbols);}return keys;}function _objectSpread(target){for(var i=1;i<arguments.length;i++){var source=arguments[i]!=null?arguments[i]:{};if(i%2){ownKeys(Object(source),true).forEach(function(key){(0,_defineProperty2.default)(target,key,source[key]);});}else if(Object.getOwnPropertyDescriptors){Object.defineProperties(target,Object.getOwnPropertyDescriptors(source));}else{ownKeys(Object(source)).forEach(function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key));});}}return target;}var _default=_StyleSheet.default.create({loading:{position:'absolute',left:0,right:0,top:0,bottom:0,alignItems:'center',justifyContent:'center',backgroundColor:'#F5FCFF88'},textContainer:_objectSpread(_objectSpread({},_Theme.Fonts.normal),{},{marginBottom:_Theme.Metrics.normal}),inputContainer:{marginBottom:_Theme.Metrics.small},input:_objectSpread(_objectSpread({},_Theme.Fonts.normal),{},{height:24})});exports.default=_default;

/***/ }),

/***/ 140:
/***/ (function(module, exports, __webpack_require__) {

Object.defineProperty(exports,"__esModule",{value:true});exports.default=exports.ExampleTypes=void 0;var _reduxsauce=__webpack_require__(77);var _createActions=(0,_reduxsauce.createActions)({fetchUser:null,fetchUserLoading:null,fetchUserSuccess:['user'],fetchUserFailure:['errorMessage']}),Types=_createActions.Types,Creators=_createActions.Creators;var ExampleTypes=Types;exports.ExampleTypes=ExampleTypes;var _default=Creators;exports.default=_default;

/***/ }),

/***/ 190:
/***/ (function(module, exports, __webpack_require__) {

var _interopRequireDefault=__webpack_require__(2);Object.defineProperty(exports,"__esModule",{value:true});exports.default=void 0;var _defineProperty2=_interopRequireDefault(__webpack_require__(11));var _react=_interopRequireDefault(__webpack_require__(1));var _StyleSheet=_interopRequireDefault(__webpack_require__(12));var _View=_interopRequireDefault(__webpack_require__(8));var _TouchableOpacity=_interopRequireDefault(__webpack_require__(41));var _Text=_interopRequireDefault(__webpack_require__(21));var _Image2=_interopRequireDefault(__webpack_require__(33));var _Theme=__webpack_require__(22);function ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);if(enumerableOnly)symbols=symbols.filter(function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable;});keys.push.apply(keys,symbols);}return keys;}function _objectSpread(target){for(var i=1;i<arguments.length;i++){var source=arguments[i]!=null?arguments[i]:{};if(i%2){ownKeys(Object(source),true).forEach(function(key){(0,_defineProperty2.default)(target,key,source[key]);});}else if(Object.getOwnPropertyDescriptors){Object.defineProperties(target,Object.getOwnPropertyDescriptors(source));}else{ownKeys(Object(source)).forEach(function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key));});}}return target;}var Button=function Button(props){var TextView=[_react.default.createElement(_Text.default,{style:[styles.text,props.textStyle],key:0},props.Text)];var ImageView=[];if(props.icon){var _Image=_react.default.createElement(_Image2.default,{style:_Theme.Helpers.fullSize,source:props.icon,resizeMode:'contain'});ImageView=_react.default.createElement(_View.default,{style:[styles.icon,props.iconStyle]},_Image);}return _react.default.createElement(_TouchableOpacity.default,{style:[styles.boxContainer,props.boxStyle],onPress:props.onPress},props.icon?_react.default.createElement(_View.default,{style:[styles.button,props.buttonStyle,_Theme.Helpers.rowCenter]},_react.default.createElement(_View.default,{style:[_Theme.Helpers.colCenter,_Theme.Helpers.fill]},TextView),ImageView):_react.default.createElement(_View.default,{style:[styles.button,props.buttonStyle]},TextView));};var styles=_StyleSheet.default.create({boxContainer:_objectSpread(_objectSpread({},_Theme.Helpers.center),_Theme.Metrics.tinyVerticalMargin),button:_objectSpread(_objectSpread(_objectSpread(_objectSpread({borderRadius:15},_Theme.Helpers.center),_Theme.Helpers.fullWidth),_Theme.Metrics.horizontalPadding),_Theme.ApplicationStyles.button),text:_objectSpread(_objectSpread(_objectSpread(_objectSpread({},_Theme.ApplicationStyles.buttonText),_Theme.Metrics.verticalPadding),_Theme.Helpers.center),{},{textAlign:"center"}),icon:_objectSpread(_objectSpread(_objectSpread({},_Theme.Helpers.colCenter),_Theme.Metrics.smallVerticalMargin),{},{width:'25%',height:50})});var _default=Button;exports.default=_default;

/***/ }),

/***/ 192:
/***/ (function(module, exports, __webpack_require__) {

var _interopRequireDefault=__webpack_require__(2);Object.defineProperty(exports,"__esModule",{value:true});exports.default=void 0;var _StyleSheet=_interopRequireDefault(__webpack_require__(12));var _Theme=__webpack_require__(22);var _default=_StyleSheet.default.create({});exports.default=_default;

/***/ }),

/***/ 22:
/***/ (function(module, exports, __webpack_require__) {

var _interopRequireDefault=__webpack_require__(2);Object.defineProperty(exports,"__esModule",{value:true});Object.defineProperty(exports,"Colors",{enumerable:true,get:function get(){return _Colors.default;}});Object.defineProperty(exports,"Fonts",{enumerable:true,get:function get(){return _Fonts.default;}});Object.defineProperty(exports,"Metrics",{enumerable:true,get:function get(){return _Metrics.default;}});Object.defineProperty(exports,"Images",{enumerable:true,get:function get(){return _Images.default;}});Object.defineProperty(exports,"Helpers",{enumerable:true,get:function get(){return _Helpers.default;}});Object.defineProperty(exports,"ApplicationStyles",{enumerable:true,get:function get(){return _ApplicationStyles.default;}});var _Colors=_interopRequireDefault(__webpack_require__(875));var _Fonts=_interopRequireDefault(__webpack_require__(876));var _Metrics=_interopRequireDefault(__webpack_require__(877));var _Images=_interopRequireDefault(__webpack_require__(878));var _Helpers=_interopRequireDefault(__webpack_require__(894));var _ApplicationStyles=_interopRequireDefault(__webpack_require__(895));

/***/ }),

/***/ 229:
/***/ (function(module, exports, __webpack_require__) {

Object.defineProperty(exports,"__esModule",{value:true});exports.default=exports.BleTypes=void 0;var _reduxsauce=__webpack_require__(77);var _createActions=(0,_reduxsauce.createActions)({bleStartup:null,bleStateUpdated:['bleState'],startBleScan:null,stopBleScan:null,readBleDeviceData:null}),Types=_createActions.Types,Creators=_createActions.Creators;var BleTypes=Types;exports.BleTypes=BleTypes;var _default=Creators;exports.default=_default;

/***/ }),

/***/ 230:
/***/ (function(module, exports, __webpack_require__) {

Object.defineProperty(exports,"__esModule",{value:true});exports.default=exports.BluetoothTypes=void 0;var _reduxsauce=__webpack_require__(77);var _createActions=(0,_reduxsauce.createActions)({bluetoothStartup:null,startBluetoothScan:null,stopBluetoothScan:null,bluetoothScanAble:null,readBlueDeviceData:null}),Types=_createActions.Types,Creators=_createActions.Creators;var BluetoothTypes=Types;exports.BluetoothTypes=BluetoothTypes;var _default=Creators;exports.default=_default;

/***/ }),

/***/ 254:
/***/ (function(module, exports) {

Object.defineProperty(exports,"__esModule",{value:true});exports.GetToken_URL=GetToken_URL;exports.GetCheckToken_URL=GetCheckToken_URL;exports.GetConsumtion_URL=GetConsumtion_URL;exports.GetConsumtionData_URL=GetConsumtionData_URL;exports.GetConsumtionData_Var=GetConsumtionData_Var;exports.Config=void 0;var HTTPS_START='https://';var Config={API_URL:HTTPS_START+'jsonplaceholder.typicode.com/users/',CONSYS_CLIENT_ID:'consysapp',CONSYS_CLIENT_SECRET:'Kjsd832n8DIO32kmsdds3',CONSYS_AUTH:'.agrisys.cloud/oauthserver/getaccesstoken/?redirect_uri=urn:ietf:wg:oauth:2.0:oob',CONSYS_API:'.agrisys.cloud/consys-api-v1/'};exports.Config=Config;function GetToken_URL(Site_URL,Refresh_Token){var res=HTTPS_START+Site_URL+Config.CONSYS_AUTH;res=res+'&client_id='+Config.CONSYS_CLIENT_ID+'&client_secret='+Config.CONSYS_CLIENT_SECRET+'&refresh_token='+Refresh_Token;return res;}function GetCheckToken_URL(Site_URL){var res=HTTPS_START+Site_URL+Config.CONSYS_API+'checkaccesstoken';return res;}function GetConsumtion_URL(Site_URL){var res=HTTPS_START+Site_URL+Config.CONSYS_API+'getconsumptiondata?';return res;}function GetConsumtionData_URL(Site_URL,Consumptiontype,SystemId){var Offset=arguments.length>3&&arguments[3]!==undefined?arguments[3]:null;var Limit=arguments.length>4&&arguments[4]!==undefined?arguments[4]:null;var Starttime=arguments.length>5&&arguments[5]!==undefined?arguments[5]:null;var Stoptime=arguments.length>6&&arguments[6]!==undefined?arguments[6]:null;var Lastid=arguments.length>7&&arguments[7]!==undefined?arguments[7]:null;var res=GetConsumtion_URL(Site_URL);res=res+GetConsumtionData_Var(Consumptiontype,SystemId,Offset,Limit,Starttime,Stoptime,Lastid);return res;}function GetConsumtionData_Var(Consumptiontype,SystemId){var Offset=arguments.length>2&&arguments[2]!==undefined?arguments[2]:null;var Limit=arguments.length>3&&arguments[3]!==undefined?arguments[3]:null;var Starttime=arguments.length>4&&arguments[4]!==undefined?arguments[4]:null;var Stoptime=arguments.length>5&&arguments[5]!==undefined?arguments[5]:null;var Lastid=arguments.length>6&&arguments[6]!==undefined?arguments[6]:null;var res='consumptiontype='+Consumptiontype+'&systemid='+SystemId;if(Offset)res=res+'&offset='+Offset;if(Limit)res=res+'&limit='+Limit;if(Starttime)res=res+'&starttime='+Starttime;if(Stoptime)res=res+'&stoptime='+Stoptime;if(Lastid)res=res+'&lastid='+Lastid;return res;}

/***/ }),

/***/ 255:
/***/ (function(module, exports, __webpack_require__) {

var _interopRequireDefault=__webpack_require__(2);Object.defineProperty(exports,"__esModule",{value:true});exports.deviceService=void 0;var _regenerator=_interopRequireDefault(__webpack_require__(52));var _asyncToGenerator2=_interopRequireDefault(__webpack_require__(62));var _Platform=_interopRequireDefault(__webpack_require__(18));var _PermissionsAndroid=_interopRequireDefault(__webpack_require__(256));var _Config=__webpack_require__(254);function isPermit_Android(){return _isPermit_Android.apply(this,arguments);}function _isPermit_Android(){_isPermit_Android=(0,_asyncToGenerator2.default)(_regenerator.default.mark(function _callee(){var Have_Coarse_Location,Got_Access;return _regenerator.default.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:if(!(_Platform.default.OS==='android'&&_Platform.default.Version>=23)){_context.next=11;break;}_context.next=3;return _PermissionsAndroid.default.check(_PermissionsAndroid.default.PERMISSIONS.ACCESS_COARSE_LOCATION);case 3:Have_Coarse_Location=_context.sent;if(Have_Coarse_Location){_context.next=11;break;}_context.next=7;return _PermissionsAndroid.default.request(_PermissionsAndroid.default.PERMISSIONS.ACCESS_COARSE_LOCATION);case 7:Got_Access=_context.sent;if(!(Got_Access!==_PermissionsAndroid.default.RESULTS.GRANTED)){_context.next=11;break;}console.log("No Ble Permission granted : Android");return _context.abrupt("return",false);case 11:return _context.abrupt("return",true);case 12:case"end":return _context.stop();}}},_callee);}));return _isPermit_Android.apply(this,arguments);}function isBlePermitted(){return new Promise(function(resolve,reject){if(_Platform.default.OS==='android'&&_Platform.default.Version>=23){if(!isPermit_Android()){resolve('This application needs premissions to be using BLE');}}resolve(null);});}var deviceService={isBlePermitted:isBlePermitted};exports.deviceService=deviceService;

/***/ }),

/***/ 32:
/***/ (function(module, exports, __webpack_require__) {

var _interopRequireDefault=__webpack_require__(2);Object.defineProperty(exports,"__esModule",{value:true});exports.default=void 0;var _react=_interopRequireDefault(__webpack_require__(1));var _BackHandler=_interopRequireDefault(__webpack_require__(231));var _reactNavigation=__webpack_require__(83);var navigator;var LastPage;function setTopLevelNavigator(navigatorRef){navigator=navigatorRef;}function replace(routeName,params){LastPage=routeName;navigator.dispatch(_reactNavigation.StackActions.replace({routeName:routeName,params:params}));}function navigate(routeName,params){LastPage=routeName;navigator.dispatch(_reactNavigation.NavigationActions.navigate({routeName:routeName,params:params}));}function navigateAndReset(routeName,params){LastPage=routeName;navigator.dispatch(_reactNavigation.StackActions.reset({index:0,key:null,actions:[_reactNavigation.NavigationActions.navigate({routeName:routeName,params:params})]}));}function nacigationPop(){LastPage="";navigator.dispatch(_reactNavigation.NavigationActions.back());}var _default={navigate:navigate,replace:replace,navigateAndReset:navigateAndReset,setTopLevelNavigator:setTopLevelNavigator,nacigationPop:nacigationPop};exports.default=_default;

/***/ }),

/***/ 335:
/***/ (function(module, exports, __webpack_require__) {

Object.defineProperty(exports,"__esModule",{value:true});exports.default=exports.StartupTypes=void 0;var _reduxsauce=__webpack_require__(77);var _createActions=(0,_reduxsauce.createActions)({startup:null}),Types=_createActions.Types,Creators=_createActions.Creators;var StartupTypes=Types;exports.StartupTypes=StartupTypes;var _default=Creators;exports.default=_default;

/***/ }),

/***/ 38:
/***/ (function(module, exports, __webpack_require__) {

var _interopRequireDefault=__webpack_require__(2);Object.defineProperty(exports,"__esModule",{value:true});exports.default=exports.FirebaseTypes=void 0;var _defineProperty2=_interopRequireDefault(__webpack_require__(11));var _reduxsauce=__webpack_require__(77);function ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);if(enumerableOnly)symbols=symbols.filter(function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable;});keys.push.apply(keys,symbols);}return keys;}function _objectSpread(target){for(var i=1;i<arguments.length;i++){var source=arguments[i]!=null?arguments[i]:{};if(i%2){ownKeys(Object(source),true).forEach(function(key){(0,_defineProperty2.default)(target,key,source[key]);});}else if(Object.getOwnPropertyDescriptors){Object.defineProperties(target,Object.getOwnPropertyDescriptors(source));}else{ownKeys(Object(source)).forEach(function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key));});}}return target;}var _createActions=(0,_reduxsauce.createActions)({firebaseStartup:null,firebaseIsLoading:['loadingstate'],setFirebaseError:['errorMessage'],setViewError:['errorMessage'],viewIsLoading:['loadingstate'],setCurrentData:['data'],actionStarting:['action','ref','params'],fetchStarting:['action','ref','params'],dataFetchSuccess:['params'],fetchSuccess:['data'],fetchFailure:['errorMessage']}),Types=_createActions.Types,Creators=_createActions.Creators;var FirebaseTypes=_objectSpread({},Types);exports.FirebaseTypes=FirebaseTypes;var _default=_objectSpread({},Creators);exports.default=_default;

/***/ }),

/***/ 385:
/***/ (function(module, exports, __webpack_require__) {

Object.defineProperty(exports,"__esModule",{value:true});exports.INITIAL_STATE=void 0;var _Selectors=__webpack_require__(70);var _reactNativeBlePlx=__webpack_require__(105);var INITIAL_STATE={bleState:_reactNativeBlePlx.State.PoweredOff};exports.INITIAL_STATE=INITIAL_STATE;

/***/ }),

/***/ 386:
/***/ (function(module, exports, __webpack_require__) {

Object.defineProperty(exports,"__esModule",{value:true});exports.INITIAL_STATE=void 0;var _Selectors=__webpack_require__(70);var _reactNativeBlePlx=__webpack_require__(105);var INITIAL_STATE={};exports.INITIAL_STATE=INITIAL_STATE;

/***/ }),

/***/ 40:
/***/ (function(module, exports) {

Object.defineProperty(exports,"__esModule",{value:true});exports.format_Time=format_Time;exports.sortObject=sortObject;exports.DataStringCheck=DataStringCheck;exports.GetWeight_FromPen=GetWeight_FromPen;exports.GetBatch_FromPen=GetBatch_FromPen;exports.GetStats_FromPen=GetStats_FromPen;exports.GetStats_FromBatch=GetStats_FromBatch;exports.GetCurve_FromBatch=GetCurve_FromBatch;exports.GetBatchEnd=GetBatchEnd;exports.AccumulateTime=AccumulateTime;exports.get_DataSpot_FromData=get_DataSpot_FromData;exports.get_DataSpot=get_DataSpot;exports.CurvePredict=CurvePredict;exports.ErrorTypes=exports.Operations=exports.Actions=exports.ConsysRefs=exports.DataRefs=exports.DataStates=exports.UserStates=void 0;var UserStates={STARTER:'starter',FREE:'free',WORKER:'worker',OWNER:'owner',ADMIN:'admin'};exports.UserStates=UserStates;var DataStates={CLOSED:'Closed'};exports.DataStates=DataStates;var DataRefs={FIREBASEUSER:'firebaseuser',USERSDATA:'usersdata',USERS:'users',FARMS:'farms',SECTIONS:'farms_data/$farmid/sections',PENS:'farms_data/$farmid/pens',PIGS:'farms_data/$farmid/pigs',BATCHS:'farms_data/$farmid/batchs',WEIGHING:'farms_data/$farmid/pens/$penid/weighings/',GRAPH:'farms_data/$farmid/Graph/$graphid/',COMMENTS:'farms_data/$farmid/datas/comments/',FARMDATAS:'farms_data/$farmid/datas/',SHARES:'shareData',CONSYS:'consys'};exports.DataRefs=DataRefs;var ConsysRefs={VALVEFEED:100,SCALE:700};exports.ConsysRefs=ConsysRefs;var Actions={SIGN:'sign',FETCH:'fetch',CREATE:'create',UPDATE:'update',MOVE:'move',DELETE:'delete',CLEAR:'clear',ADD:'add'};exports.Actions=Actions;var Operations={ADD:'Add pig',MOVE:'Move pig',LOST:'Lost pig',SOLD:'Sold pig',NOTE:'Pen Note'};exports.Operations=Operations;var ErrorTypes={SYSTEM:'System',EMAIL:'Email',PASSWORD:'Password',FORMAT:'Format'};exports.ErrorTypes=ErrorTypes;function format_num(num){if(num<10){num="0"+num;}return num;}function format_Time(time){var s=new Date(parseInt(time));var datetime=format_num(s.getDate())+"/"+format_num(s.getMonth()+1)+"/"+s.getFullYear()+" "+format_num(s.getHours())+":"+format_num(s.getMinutes())+":"+format_num(s.getSeconds());return datetime;}var reA=/[^a-zA-Z]/g;var reN=/[^0-9]/g;function sortAlphaNum(a,b){var aA=a.replace(reA,"");var bA=b.replace(reA,"");if(aA===bA){var aN=parseInt(a.replace(reN,""),10);var bN=parseInt(b.replace(reN,""),10);return aN===bN?0:aN>bN?1:-1;}else{return aA>bA?1:-1;}}function sortObject(o){var sorted={},key,a=[];for(key in o){if(o.hasOwnProperty(key)&&key!=="__jsogObjectId"&&key!=="update_time"){a.push(key);}}a.sort(sortAlphaNum);for(key=0;key<a.length;key++){sorted[a[key]]=o[a[key]];}return sorted;}function DataStringCheck(data){var Check_num=arguments.length>1&&arguments[1]!==undefined?arguments[1]:true;if(!data||data===""){return false;}if(!typeof data==='string'){return false;}else{if(Check_num){var first=data[0];var numbers='0123456789';for(var i=0;i<numbers.length;i++){if(first===numbers[i]){return false;}}}var specialChars='/[`!@#$%^&*()+\-=\[\]{};\':"\\|,.<>\/?~]/';for(var i=0;i<specialChars.length;i++){if(data.indexOf(specialChars[i])>-1){return false;}}}return true;}function GetWeight_FromPen(PenId){var WeighingsStore=arguments.length>1&&arguments[1]!==undefined?arguments[1]:null;var AfterTime=arguments.length>2&&arguments[2]!==undefined?arguments[2]:null;var BeforeTime=arguments.length>3&&arguments[3]!==undefined?arguments[3]:null;var Weighing=null;if(PenId,WeighingsStore){for(var _weighing in WeighingsStore[PenId]){var weighing=WeighingsStore[PenId][_weighing];if(weighing&&(!Weighing||Weighing.time<weighing.time)){if((!AfterTime||weighing.time>=AfterTime)&&(!BeforeTime||weighing.time<=BeforeTime)){Weighing=weighing;}}}}return Weighing;}function GetBatch_FromPen(localDataStore,PenId){if(localDataStore.batchs){for(var _batch in localDataStore.batchs){var batch=localDataStore.batchs[_batch];if(batch.hasOwnProperty("pens")&&batch.pens[PenId]!=null){return localDataStore.batchs[_batch];}}}return null;}function GetStats_FromPen(PenId,PenData,localDataStore,StartDate,EndDate){var PenWeighings=arguments.length>5&&arguments[5]!==undefined?arguments[5]:null;var Animals=0;var PenWeight=0;var PenGrowth=0;var AveragePenGrowth=0;if(PenData.datas&&PenData.datas.count||PenData.count){if(PenData.count)Animals+=PenData.count;else Animals+=PenData.datas.count;}if(localDataStore.weighings&&localDataStore.weighings[PenId]){var GrowthCount=0;var lastDate=0;var LastWeight=undefined;var LastWeightDay=undefined;var FirstWeight=undefined;if(!PenWeighings)PenWeighings=localDataStore.weighings[PenId];if(PenWeighings){Object.keys(PenWeighings).forEach(function(weight){var Weight=PenWeighings[weight];if(Weight.time>=StartDate&&Weight.time<=EndDate&&Weight.time>lastDate){PenWeight=Weight.weight;if(Weight.count)PenWeight=Weight.weight/Weight.count;if(LastWeight!==undefined){PenGrowth=PenWeight-LastWeight;GrowthCount++;}lastDate=Weight.time;LastWeight=PenWeight;LastWeightDay=Weight.time;if(!FirstWeight)FirstWeight=Weight.time;}});}var now=new Date().getTime();var isVirtual=false;if(StartDate&&EndDate){var Batch=GetBatch_FromPen(localDataStore,PenId);var TempGraph=GetCurve_FromBatch(Batch,localDataStore.graphs);var BatchEndDate=EndDate;var Predict=CurvePredict(localDataStore,PenId,Batch,TempGraph);if(Predict!=null&&Predict.Now&&now>new Date(lastDate).getDate()){PenWeight=Predict.Now;if(LastWeight!==undefined){PenGrowth+=PenWeight-LastWeight;GrowthCount++;}var _date=new Date(Predict.lastWeighing.time+Predict.Addition);_date.setDate(_date.getDate()+Predict.days);LastWeightDay=_date.getTime();isVirtual=true;}if(Predict&&Predict.lastWeighing&&Predict.days){var tempEnd=new Date(EndDate).getTime();var date=new Date(Predict.lastWeighing.time);date.setDate(date.getDate()+Predict.days);tempEnd=date.getTime();if(Predict.Addition){tempEnd+=Predict.Addition;}if(EndDate===BatchEndDate||EndDate<tempEnd){EndDate=tempEnd;}}}if(GrowthCount>0){var Growth=PenGrowth/GrowthCount;var days=(LastWeightDay-FirstWeight)/86400000;Growth=Growth/days;AveragePenGrowth+=Growth;}}return{Animals:Animals,PenWeight:PenWeight,AveragePenGrowth:AveragePenGrowth,EndDate:EndDate,isVirtual:isVirtual};}function GetStats_FromBatch(Batch,localDataStore){var Closed=arguments.length>2&&arguments[2]!==undefined?arguments[2]:true;if(!Batch)return null;var isVirtual=false;var PenCount=0;var Animals=0;var CollectedWeight=0;var CollectedGrowth=0;var isClosed=Batch.state&&Batch.state==="Closed"?true:false;var TempGraph=GetCurve_FromBatch(Batch,localDataStore.graphs);if(!TempGraph)return null;var TargetWeight=Batch&&Batch.datas&&Batch.datas.target?Batch.datas.target:TempGraph.data[TempGraph.data.length-1];var EndDate=GetBatchEnd(Batch,TempGraph);var StartDate=Batch.time;var PenEnds=0;if(Batch&&Batch.pens&&localDataStore.pens){Object.keys(Batch.pens).reverse().filter(function(e){return e!=='__jsogObjectId';}).forEach(function(Batch_Pen){if(localDataStore&&localDataStore.pens&&localDataStore.pens[Batch_Pen]&&localDataStore.weighings&&localDataStore.weighings[Batch_Pen]||isClosed){var Pen=isClosed?Batch.pens[Batch_Pen]:localDataStore.pens[Batch_Pen];PenCount++;var PenWeighings=isClosed?Batch.closed.weighings[Batch_Pen]:localDataStore.weighings[Batch_Pen];if(PenWeighings){var PenStats=GetStats_FromPen(Batch_Pen,Pen,localDataStore,StartDate,EndDate,PenWeighings);Animals+=PenStats.Animals;var PenWeight=PenStats.PenWeight;if(PenWeight===0){PenCount--;}else{CollectedWeight+=PenWeight;CollectedGrowth+=PenStats.AveragePenGrowth;if(PenEnds<PenStats.EndDate)PenEnds=PenStats.EndDate;if(!isVirtual)isVirtual=PenStats.isVirtual;}}}});}if(PenEnds>0)EndDate=PenEnds;var AverageWeight=CollectedWeight/PenCount;AverageWeight=parseFloat(AverageWeight).toFixed(2);var AverageGrowth=CollectedGrowth/PenCount;AverageGrowth=parseFloat(AverageGrowth).toFixed(2);return{StartDate:StartDate,EndDate:EndDate,TargetWeight:TargetWeight,PenCount:PenCount,Animals:Animals,AverageWeight:AverageWeight,AverageGrowth:AverageGrowth,isClosed:isClosed,isVirtual:isVirtual};}function GetCurve_FromBatch(Batch){var GraphsStore=arguments.length>1&&arguments[1]!==undefined?arguments[1]:null;var CurrentData=arguments.length>2&&arguments[2]!==undefined?arguments[2]:null;if(Batch){var Garph=null;if(Batch.gcurve&&Batch.state&&Batch.state===DataStates.CLOSED){Garph=Batch.gcurve;}else if(GraphsStore){if(CurrentData&&(typeof CurrentData==='string'||CurrentData.curveId)){var Id=typeof CurrentData==='string'?CurrentData:CurrentData.curveId;Garph=GraphsStore[Id];}if(Batch.gcurve){Garph=GraphsStore[Batch.gcurve];}}if(Garph){var DataPoints=[];var _index=0;Object.keys(Garph.data).filter(function(e){return e!=='__jsogObjectId';}).map(function(index){DataPoints[index]=Garph.data[index];for(var i=index-1;i>_index;i--){DataPoints[i]=null;}_index=index;});Garph.data=DataPoints;return Garph;}}return null;}function GetBatchEnd(Batch,TempCurve){if(Batch&&Batch.time&&TempCurve){var currentTime=new Date(Batch.time);for(var i=0;i<TempCurve.data.length;i++){if(i<TempCurve.data.length-1){currentTime=new Date(AccumulateTime(currentTime,TempCurve.periode));}}return currentTime.getTime();}return null;}function AccumulateTime(Time,PeriodeLength){var NewTime=new Date(Time.getTime());switch(PeriodeLength){case"Days":NewTime.setDate(NewTime.getDate()+1);break;case"Month":NewTime.setMonth(NewTime.getMonth()+1);break;case"Weeks":default:NewTime.setDate(NewTime.getDate()+7);break;}return NewTime;}function get_DataSpot_FromData(localDataStore,PenId,Batch){var Closed=arguments.length>3&&arguments[3]!==undefined?arguments[3]:false;if(localDataStore.weighings&&localDataStore.weighings[PenId]){var Weighing=null;for(var _weighing in localDataStore.weighings[PenId]){var weighing=localDataStore.weighings[PenId][_weighing];if(weighing&&(!Weighing||Weighing.time<weighing.time)){Weighing=weighing;}}if(Weighing){var weight=Weighing.weight;weight=weight/Weighing.count;if(weight&&!isNaN(weight)){if(!Batch){for(var _batch in localDataStore.batchs){var batch=localDataStore.batchs[_batch];if(batch.hasOwnProperty("pens")&&batch.pens[PenId]!=null){Batch=localDataStore.batchs[_batch];}}}if(Batch&&Batch.time&&Batch.datas&&localDataStore.graphs&&localDataStore.graphs[Batch.gcurve]){var Curve=localDataStore.graphs[Batch.gcurve];var WeighingTime=Weighing.time;if(Closed||WeighingTime>Batch.time&&(!Batch.state||Batch.state!=="Closed")){var StartTime=Batch.time;var EndTime=Batch.time;var index=0;var currentTime=new Date(StartTime);for(index=0;index<Curve.data.length-1;index++){currentTime=new Date(AccumulateTime(currentTime,Curve.periode));EndTime=currentTime.getTime();if(EndTime>=WeighingTime){break;}else{StartTime=EndTime;}}var Keys=Object.keys(Curve.data);var DataSpot=get_DataSpot([StartTime,EndTime],[Curve.data[Keys[index]],Curve.data[index+1]],new Date().getTime(),weight,WeighingTime);DataSpot.Batch=Batch;return DataSpot;}}}}}return null;}function get_DataSpot(MinMax_Time,MinMax_Data,FindTime,Data,DataTime){var ExValue=null;var VirData=null;var ExTime=null;if(FindTime){var slope=GetSlope_Between(MinMax_Time,MinMax_Data);var FindX=FindTime-MinMax_Time[0];ExValue=FindX*slope+MinMax_Data[0];if(Data&&DataTime){var Findx2=DataTime-MinMax_Time[0];var ExData=Findx2*slope+MinMax_Data[0];var DataDiff=ExData-Data;VirData=ExValue+DataDiff;ExTime=(Data-MinMax_Data[0])/slope;ExTime=MinMax_Time[0]+ExTime;ExTime=Math.floor(ExTime);}}return{ExValue:ExValue,VirData:VirData,ExTime:ExTime};}function GetSlope_Between(MinMax_Time,MinMax_Data){var minX=MinMax_Time[0];var maxX=MinMax_Time[1];var minY=MinMax_Data[0];var maxY=MinMax_Data[1];var slope=(maxY-minY)/(maxX-minX);if(minY>minX)slope=-slope;return slope;}function CurvePredict(localDataStore,PenId,Batch,TempCurve){if(localDataStore){if(!PenId&&Batch&&Batch.pens){PenId=Object.keys(Batch.pens).filter(function(e){return e!=='__jsogObjectId';})[0];}if(!Batch){Batch=GetBatch_FromPen(localDataStore,PenId);}if(Batch&&Batch.time){if(!TempCurve){TempCurve=GetCurve_FromBatch(Batch,localDataStore.graphs);}if(TempCurve&&TempCurve.data){var BatchEndDate=GetBatchEnd(Batch,TempCurve);var Weighing=GetWeight_FromPen(PenId,localDataStore.weighings,Batch.time,BatchEndDate);if(Weighing&&Weighing.weight){var weight=Weighing.weight;if(Weighing.count)weight=weight/Weighing.count;var Weighing2=GetWeight_FromPen(PenId,localDataStore.weighings,Batch.time,Weighing.time-1);var weight2=Weighing2?Weighing2.weight:0;if(Weighing2&&Weighing2.count)weight2=weight2/Weighing2.count;var StartIndex="none";var PredictCurve={periode:TempCurve.periode,data:[]};var now=new Date(Date.now());now=new Date(now.getFullYear(),now.getMonth(),now.getDate()).getTime();var CurrentTime=new Date(Batch.time);var Temp_CurrentIndex=0;for(var index=0;index<TempCurve.data.length;index++){if(CurrentTime.getTime()<=now){CurrentTime=new Date(AccumulateTime(CurrentTime,TempCurve.periode));Temp_CurrentIndex++;}if(weight<=TempCurve.data[index]){if(StartIndex==="none"){StartIndex=index;if(index===0){var slope=GetSlope_Between([Weighing.time,AccumulateTime(new Date(Weighing.time),TempCurve.periode)],[TempCurve.data[0],TempCurve.data[1]]);var time=(TempCurve.data[0]-weight)/slope;Weighing2=Weighing;weight2=weight;Weighing={weight:TempCurve.data[0],time:Math.floor(Weighing.time+time)};weight=TempCurve.data[0];}}PredictCurve.data.push(TempCurve.data[index]);}}if(weight<weight2){StartIndex=StartIndex-1;PredictCurve.data.unshift(TempCurve.data[StartIndex]);}var PredictStart=new Date(Batch.time);for(var _index2=0;_index2<StartIndex;_index2++){PredictStart=new Date(AccumulateTime(PredictStart,TempCurve.periode));}PredictCurve.Now=weight;PredictCurve.TempEx=TempCurve.data[Temp_CurrentIndex];if(StartIndex!=="none"){var DataSpot=null;if(Weighing2){DataSpot=get_DataSpot([Weighing2.time,Weighing.time],[weight2,weight],Weighing.time,TempCurve.data[StartIndex],PredictStart.getTime());}if(DataSpot&&DataSpot.ExTime){PredictCurve.FirstSpot=DataSpot.ExTime;PredictCurve.Addition=DataSpot.ExTime-Weighing.time;}else{PredictCurve.FirstSpot=new Date(Weighing.time+86400000);PredictCurve.Addition=86400000;}if(BatchEndDate){var now=new Date(Date.now());now=new Date(now.getFullYear(),now.getMonth(),now.getDate()).getTime();var Temp_CurrentTime;CurrentTime=new Date(Weighing.time);var CurrentIndex=0;for(var index=0;index<PredictCurve.data.length;index++){if(CurrentTime.getTime()<now){Temp_CurrentTime=CurrentTime;CurrentTime=new Date(AccumulateTime(CurrentTime,TempCurve.periode));CurrentIndex++;}}var WeightNow;if(CurrentIndex>=PredictCurve.data.length){DataSpot=get_DataSpot([Temp_CurrentTime,CurrentTime],[PredictCurve.data[PredictCurve.data.length-2],PredictCurve.data[PredictCurve.data.length-1]],Date.now());WeightNow=DataSpot.ExValue;}else{CurrentIndex--;WeightNow=PredictCurve.data[CurrentIndex];}if(WeightNow)PredictCurve.Now=WeightNow;else PredictCurve.Now=weight;}}var days=0;if(TempCurve.periode==="Days")days=PredictCurve.data.length;else if(TempCurve.periode==="Weeks")days=PredictCurve.data.length*7;PredictCurve.days=days;PredictCurve.lastWeighing=Weighing;Batch.datas.target=Batch.datas.target?Batch.datas.target:TempCurve.data[TempCurve.data.length-1];PredictCurve.Batch=Batch;return PredictCurve;}}}}return null;}

/***/ }),

/***/ 428:
/***/ (function(module, exports, __webpack_require__) {

var _interopRequireDefault=__webpack_require__(2);Object.defineProperty(exports,"__esModule",{value:true});exports.default=void 0;var _defineProperty2=_interopRequireDefault(__webpack_require__(11));var _react=_interopRequireDefault(__webpack_require__(1));var _Platform=_interopRequireDefault(__webpack_require__(18));var _Dimensions=_interopRequireDefault(__webpack_require__(49));var _Text=_interopRequireDefault(__webpack_require__(21));var _TouchableOpacity=_interopRequireDefault(__webpack_require__(41));var _View=_interopRequireDefault(__webpack_require__(8));var _reactNavigation=__webpack_require__(83);var _reactNavigationStack=__webpack_require__(148);var _reactNativeElements=__webpack_require__(46);var _NavigationService=_interopRequireDefault(__webpack_require__(32));var _FrontScreen=_interopRequireDefault(__webpack_require__(1012));var _Dashboard=_interopRequireDefault(__webpack_require__(1013));var _Pigs=_interopRequireDefault(__webpack_require__(1014));var _Pens=_interopRequireDefault(__webpack_require__(1017));var _Batchs=_interopRequireDefault(__webpack_require__(1018));var _GrowthCurves=_interopRequireDefault(__webpack_require__(1028));var _AutoPig=_interopRequireDefault(__webpack_require__(1046));var _Operations=_interopRequireDefault(__webpack_require__(1154));var _Weighing=_interopRequireDefault(__webpack_require__(1155));var _DataEditor=_interopRequireDefault(__webpack_require__(1156));var _DataDisplay=_interopRequireDefault(__webpack_require__(1157));var _DataPlotter=_interopRequireDefault(__webpack_require__(1160));var _WebViewer=_interopRequireDefault(__webpack_require__(1161));var _Theme=__webpack_require__(22);function ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);if(enumerableOnly)symbols=symbols.filter(function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable;});keys.push.apply(keys,symbols);}return keys;}function _objectSpread(target){for(var i=1;i<arguments.length;i++){var source=arguments[i]!=null?arguments[i]:{};if(i%2){ownKeys(Object(source),true).forEach(function(key){(0,_defineProperty2.default)(target,key,source[key]);});}else if(Object.getOwnPropertyDescriptors){Object.defineProperties(target,Object.getOwnPropertyDescriptors(source));}else{ownKeys(Object(source)).forEach(function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key));});}}return target;}function ViewTransformer(Main,Title){var window=_Dimensions.default.get("window");var screen=_Dimensions.default.get("screen");var wide=window.width>900?true:false;var App=_Platform.default.OS==='ios'||_Platform.default.OS==='android'||!wide;var NavComponent={};if(App){NavComponent.screen=Main;NavComponent.navigationOptions=function(){return{title:Title};};}else{NavComponent.screen=_WebViewer.default;NavComponent.navigationOptions=function(){return{title:Title,headerMode:App?'screen':'none',headerShown:App?true:false};};}return NavComponent;}var StackNavigator=(0,_reactNavigationStack.createStackNavigator)({UserFront:{screen:_WebViewer.default,navigationOptions:function navigationOptions(){return{title:'Front Pannel',headerMode:_Dimensions.default.get("window").width<900||_Platform.default.OS==='ios'||_Platform.default.OS==='android'?'screen':'none',headerShown:_Dimensions.default.get("window").width<900||_Platform.default.OS==='ios'||_Platform.default.OS==='android'?true:false,headerLeft:function headerLeft(props){return _react.default.createElement(_View.default,{style:{padding:6,paddingLeft:15}},_react.default.createElement(_reactNativeElements.Icon,{type:"ionicon",name:"arrow-back",size:25,color:"black",onPress:function onPress(){if(props.label==="System Board"){_NavigationService.default.nacigationPop();}else _NavigationService.default.navigate('MainStack');}}));}};},params:_Dimensions.default.get("window").width<900||_Platform.default.OS==='ios'||_Platform.default.OS==='android'?{Main:_FrontScreen.default}:{Menu:_FrontScreen.default,Main:_Dashboard.default},path:'user_front'},UserDashBoard:_objectSpread(_objectSpread({},ViewTransformer(_Dashboard.default,'Dashboard')),{params:{Menu:_FrontScreen.default,Main:_Dashboard.default},path:'user_dashboard'}),UserPigs:_objectSpread(_objectSpread({},ViewTransformer(_Pigs.default,'Pigs')),{params:{Menu:_FrontScreen.default,Main:_Pigs.default},path:'user_pigs'}),UserPens:_objectSpread(_objectSpread({},ViewTransformer(_Pens.default,'Pens')),{params:{Menu:_FrontScreen.default,Main:_Pens.default},path:'user_pens'}),UserBatchs:_objectSpread(_objectSpread({},ViewTransformer(_Batchs.default,'Batchs')),{params:{Menu:_FrontScreen.default,Main:_Batchs.default},path:'user_batchs'}),UserCurves:_objectSpread(_objectSpread({},ViewTransformer(_GrowthCurves.default,'Curves')),{params:{Menu:_FrontScreen.default,Main:_GrowthCurves.default},path:'user_curves'}),AutoPig:_objectSpread(_objectSpread({},ViewTransformer(_AutoPig.default,'AutoPig')),{params:{Menu:_FrontScreen.default,Main:_AutoPig.default},path:'user_autopigs'}),UserOperations:_objectSpread(_objectSpread({},ViewTransformer(_Operations.default,'Operations')),{params:{Menu:_FrontScreen.default,Main:_Operations.default},path:'user_operations'}),WeighingOperations:_objectSpread(_objectSpread({},ViewTransformer(_Weighing.default,'Operations')),{params:{Menu:_FrontScreen.default,Main:_Weighing.default},path:'weight_operations'}),DataEditor:_objectSpread(_objectSpread({},ViewTransformer(_DataEditor.default,'User Data')),{params:{Menu:_FrontScreen.default,Main:_DataEditor.default},path:'user_dataedtior'}),DataDisplay:_objectSpread(_objectSpread({},ViewTransformer(_DataDisplay.default,'User Data')),{params:{Menu:_FrontScreen.default,Main:_DataDisplay.default},path:'user_datadisplay'}),DataPlotter:_objectSpread(_objectSpread({},ViewTransformer(_DataPlotter.default,'Batch Data')),{params:{Menu:_FrontScreen.default,Main:_DataPlotter.default},path:'user_dataplotter'})},{initialRouteName:'UserFront',headerMode:'float',defaultNavigationOptions:{headerTitleAlign:'center',headerTitleStyle:_objectSpread({},_Theme.ApplicationStyles.navigationHeader),headerRight:function headerRight(){return _react.default.createElement(_View.default,{style:{padding:6}});}}});var _default=StackNavigator;exports.default=_default;

/***/ }),

/***/ 433:
/***/ (function(module, exports, __webpack_require__) {

var _interopRequireWildcard=__webpack_require__(7);var _interopRequireDefault=__webpack_require__(2);Object.defineProperty(exports,"__esModule",{value:true});exports.WeightsToGraphData=WeightsToGraphData;exports.default=void 0;var _slicedToArray2=_interopRequireDefault(__webpack_require__(54));var _classCallCheck2=_interopRequireDefault(__webpack_require__(9));var _createClass2=_interopRequireDefault(__webpack_require__(10));var _assertThisInitialized2=_interopRequireDefault(__webpack_require__(26));var _inherits2=_interopRequireDefault(__webpack_require__(15));var _possibleConstructorReturn2=_interopRequireDefault(__webpack_require__(16));var _getPrototypeOf2=_interopRequireDefault(__webpack_require__(14));var _defineProperty2=_interopRequireDefault(__webpack_require__(11));var _react=_interopRequireWildcard(__webpack_require__(1));var _Platform=_interopRequireDefault(__webpack_require__(18));var _Text=_interopRequireDefault(__webpack_require__(21));var _View=_interopRequireDefault(__webpack_require__(8));var _ActivityIndicator=_interopRequireDefault(__webpack_require__(30));var _Image=_interopRequireDefault(__webpack_require__(33));var _StyleSheet=_interopRequireDefault(__webpack_require__(12));var _ScrollView=_interopRequireDefault(__webpack_require__(39));var _Dimensions=_interopRequireDefault(__webpack_require__(49));var _reactNativeElements=__webpack_require__(46);var _reactRedux=__webpack_require__(37);var _redux=__webpack_require__(29);var _NavigationService=_interopRequireDefault(__webpack_require__(32));var _Actions=_interopRequireDefault(__webpack_require__(38));var _Selectors=__webpack_require__(40);var _reactNativeChartKit=__webpack_require__(434);var _Components=__webpack_require__(44);var _UserPanelStyle=_interopRequireDefault(__webpack_require__(80));var _Theme=__webpack_require__(22);var _reactNativeSuperGrid=__webpack_require__(128);function ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);if(enumerableOnly)symbols=symbols.filter(function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable;});keys.push.apply(keys,symbols);}return keys;}function _objectSpread(target){for(var i=1;i<arguments.length;i++){var source=arguments[i]!=null?arguments[i]:{};if(i%2){ownKeys(Object(source),true).forEach(function(key){(0,_defineProperty2.default)(target,key,source[key]);});}else if(Object.getOwnPropertyDescriptors){Object.defineProperties(target,Object.getOwnPropertyDescriptors(source));}else{ownKeys(Object(source)).forEach(function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key));});}}return target;}function _createSuper(Derived){var hasNativeReflectConstruct=_isNativeReflectConstruct();return function _createSuperInternal(){var Super=(0,_getPrototypeOf2.default)(Derived),result;if(hasNativeReflectConstruct){var NewTarget=(0,_getPrototypeOf2.default)(this).constructor;result=Reflect.construct(Super,arguments,NewTarget);}else{result=Super.apply(this,arguments);}return(0,_possibleConstructorReturn2.default)(this,result);};}function _isNativeReflectConstruct(){if(typeof Reflect==="undefined"||!Reflect.construct)return false;if(Reflect.construct.sham)return false;if(typeof Proxy==="function")return true;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}));return true;}catch(e){return false;}}function getRandomNumber(low,high){var r=Math.floor(Math.random()*(high-low+1))+low;return r;}function getRandomColor(){var red_range=[10,250];var green_range=[10,250];var blue_range=[10,250];var a_range=[0.2,1];var red=getRandomNumber(red_range[0],red_range[1]);var green=getRandomNumber(green_range[0],green_range[1]);var blue=getRandomNumber(blue_range[0],blue_range[1]);var alpha=getRandomNumber(a_range[0]*100,a_range[1]*100)/100;return{r:red,g:green,b:blue,a:alpha,rgbaValue:'rgba('+red+','+green+','+blue+','+alpha+')'};}var window=_Dimensions.default.get("window");var screen=_Dimensions.default.get("screen");function WeightsToGraphData(localDataStore,Batch){var TempGraph=arguments.length>2&&arguments[2]!==undefined?arguments[2]:null;var StartDate=arguments.length>3&&arguments[3]!==undefined?arguments[3]:undefined;var _EndDate=arguments.length>4&&arguments[4]!==undefined?arguments[4]:undefined;var Prediction=arguments.length>5&&arguments[5]!==undefined?arguments[5]:false;var DataSets=[];var EndDate=0;var DoPredict=Batch&&(!Batch.state||Batch.state!=="Closed")?true:false;var Legends=[];if(Batch.pens)Legends=Object.keys(Batch.pens).filter(function(e){return e!=='__jsogObjectId';}).reverse();Legends.forEach(function(Pen){var BatchPen=Batch.pens[Pen];var _color=getRandomColor();var DataSet=[];var DataSetX=[];if(localDataStore.weighings[Pen]||Batch.state&&Batch.state==="Closed"){var PenWeighings=localDataStore.weighings[Pen];if(Batch.state&&Batch.state==="Closed"){PenWeighings=Batch.closed.weighings[Pen];}if(PenWeighings&&Object.keys(PenWeighings).length>=1){Object.keys(PenWeighings).sort(function(a,b){return PenWeighings[a].time-PenWeighings[b].time;}).forEach(function(key){var data=PenWeighings[key];if(data.weight){if((!StartDate||data.time>=StartDate)&&(!_EndDate||data.time<=_EndDate)){if((!BatchPen.startdate||data.time>=BatchPen.startdate)&&(!BatchPen.enddate||data.time<=BatchPen.enddate)){var weight=data.weight;if(data.count){weight=weight/data.count;}DataSet.push(weight);var Time=new Date(data.time);DataSetX.push(Time);if(!_EndDate&&data.time>EndDate){EndDate=data.time;}}}}});if(DoPredict&&Prediction){var Predict=(0,_Selectors.CurvePredict)(localDataStore,Pen);if(Predict&&Predict.lastWeighing){var Time=Predict.FirstSpot?new Date(Predict.FirstSpot):new Date(Predict.lastWeighing.time);Predict.data.forEach(function(element,index){DataSet.push(element);Time=index===0&&Predict.FirstSpot?Time:(0,_Selectors.AccumulateTime)(Time,TempGraph.periode);DataSetX.push(Time);});}}}}while(DataSet.length<TempGraph.data.length){DataSet.push(null);DataSetX.push(null);}DataSets.push({Pen:Pen,data:DataSet,dataX:DataSetX,color:function color(){var opacity=arguments.length>0&&arguments[0]!==undefined?arguments[0]:1;return _color.rgbaValue;}});});return{DataSets:DataSets,EndDate:EndDate};}var CurveElement=function(_Component){(0,_inherits2.default)(CurveElement,_Component);var _super=_createSuper(CurveElement);function CurveElement(props){var _this;(0,_classCallCheck2.default)(this,CurveElement);_this=_super.call(this,props);(0,_defineProperty2.default)((0,_assertThisInitialized2.default)(_this),"onChange",function(_ref){var window=_ref.window,screen=_ref.screen;_this.setState({dimensions:{window:window,screen:screen}});});if(!_this.props.Display){var _this$setData=_this.setData(props),TempGraph=_this$setData.TempGraph,Legends=_this$setData.Legends,DataSets=_this$setData.DataSets,StartDate=_this$setData.StartDate,EndDate=_this$setData.EndDate;_this.state={dimensions:{window:window,screen:screen},TempGraph:TempGraph,Legends:Legends,DataSets:DataSets,StartDate:StartDate,EndDate:EndDate,Labels:[],ActiveIndex:0,ActiveLength:"Batch",ActiveDataSets:DataSets,ActiveStartDate:StartDate,ActiveEndDate:EndDate,ViewPoint:null};}else{_this.state={dimensions:{window:window,screen:screen}};}return _this;}(0,_createClass2.default)(CurveElement,[{key:"setData",value:function setData(Props){var localDataStore=Props.firebase.localDataStore;var CurrentData=Props.firebase.currentData;var TempGraph={periode:"Days",data:[]};var Legends=[];var DataSets=[];var D=new Date();var StartDate=D.getTime();var EndDate=new Date(D.setDate(D.getDate()+7*8));if(localDataStore&&localDataStore.batchs&&CurrentData&&CurrentData.batchId){var Batch=localDataStore.batchs[CurrentData.batchId];TempGraph=(0,_Selectors.GetCurve_FromBatch)(Batch,localDataStore.graphs,CurrentData.curveId);if(TempGraph){if(CurrentData.curveId)TempGraph.name=CurrentData.curveId;else TempGraph.name="Template";StartDate=Batch.time;if(Batch.pens)Legends=Legends.concat(Object.keys(Batch.pens).reverse().filter(function(e){return e!=='__jsogObjectId';}));var DataX=[];var currentTime=new Date(StartDate);for(var i=0;i<TempGraph.data.length;i++){DataX.push(currentTime.getTime());if(i<TempGraph.data.length-1){currentTime=new Date((0,_Selectors.AccumulateTime)(currentTime,TempGraph.periode));}}EndDate=currentTime.getTime();DataX.push(EndDate);DataSets.push({data:TempGraph.data,dataX:DataX,color:function color(){var opacity=arguments.length>0&&arguments[0]!==undefined?arguments[0]:0.1;return"rgba(0, 0, 0, "+opacity+")";}});if(localDataStore.weighings){var TempData=DataSets;var TempEndDate=EndDate;var NextEnd=new Date((0,_Selectors.AccumulateTime)(new Date(TempEndDate),TempGraph.periode)).getTime();var _WeightsToGraphData=WeightsToGraphData(localDataStore,Batch,TempGraph,StartDate,NextEnd,this.props.Predict),DataSets=_WeightsToGraphData.DataSets,EndDate=_WeightsToGraphData.EndDate;DataSets=TempData.concat(DataSets);if(TempEndDate>EndDate){EndDate=TempEndDate;}Legends=Legends.filter(function(e){return e!=='__jsogObjectId'&&(e===TempGraph.name||DataSets.some(function(i){return i.Pen===e;}));});Legends.unshift(TempGraph.name);}}}return{TempGraph:TempGraph,Legends:Legends,DataSets:DataSets,StartDate:StartDate,EndDate:EndDate};}},{key:"setGraphPeriode",value:function setGraphPeriode(){var _this2=this;var ActiveLength=arguments.length>0&&arguments[0]!==undefined?arguments[0]:this.state.ActiveLength;var Labels=[];var StartDate=this.state.StartDate;var EndDate=this.state.EndDate;var ActiveIndex=this.state.ActiveIndex;var TemplatePeriode="Weeks";if(this.state.TempGraph&&this.state.TempGraph.periode)TemplatePeriode=this.state.TempGraph.periode;var CurrentDate=new Date(StartDate);var TempActiveDataSet=this.state.ActiveDataSets;var Today=new Date().getTime();switch(this.state.ActiveLength){case"Days":for(var i=0;i<ActiveIndex||ActiveIndex===-1;i++){var getNewDate=new Date((0,_Selectors.AccumulateTime)(CurrentDate,this.state.ActiveLength));if(ActiveIndex===-1&&getNewDate>Today){ActiveIndex=i-1;break;}CurrentDate=getNewDate;}StartDate=CurrentDate.getTime();Labels.push(CurrentDate.getDate()+"/"+(CurrentDate.getMonth()+1));CurrentDate=new Date((0,_Selectors.AccumulateTime)(CurrentDate,this.state.ActiveLength));Labels.push(CurrentDate.getDate()+"/"+(CurrentDate.getMonth()+1));EndDate=CurrentDate.getTime();CurrentDate=new Date((0,_Selectors.AccumulateTime)(CurrentDate,this.state.ActiveLength));break;case"Weeks":for(var i=0;i<ActiveIndex||ActiveIndex===-1;i++){var getNewDate=new Date((0,_Selectors.AccumulateTime)(CurrentDate,this.state.ActiveLength));if(ActiveIndex===-1&&getNewDate>Today){ActiveIndex=i;break;}CurrentDate=getNewDate;}StartDate=CurrentDate.getTime();for(var i=0;i<=7;i++){Labels.push(CurrentDate.getDate()+"/"+(CurrentDate.getMonth()+1));EndDate=CurrentDate.getTime();CurrentDate=new Date((0,_Selectors.AccumulateTime)(CurrentDate,"Days"));}break;case"Batch":default:while(CurrentDate.getTime()<=EndDate){switch(TemplatePeriode){case"Days":Labels.push(CurrentDate.getDate()+"/"+(CurrentDate.getMonth()+1));break;case"Month":Labels.push(CurrentDate.getDate()+"/"+(CurrentDate.getMonth()+1));break;case"Weeks":default:Labels.push(CurrentDate.getDate()+"/"+(CurrentDate.getMonth()+1));break;}CurrentDate=new Date((0,_Selectors.AccumulateTime)(CurrentDate,TemplatePeriode));}break;}var ActiveDataSets=[];if(!ActiveLength||ActiveLength==="Batch"){ActiveDataSets=this.state.DataSets;}else{var End=(0,_Selectors.AccumulateTime)(new Date(EndDate),this.state.ActiveLength).getTime();this.state.DataSets.forEach(function(element){var NewData=_objectSpread(_objectSpread({},element),{},{data:[],dataX:[]});var first=null;var last=null;if(new Date(element.dataX[0]).getTime()<=EndDate){for(var i=0;i<element.data.length;i++){if(new Date(element.dataX[i]).getTime()>=StartDate){NewData.data.push(element.data[i]);NewData.dataX.push(element.dataX[i]);var time=(0,_Selectors.AccumulateTime)(new Date(element.dataX[i]),_this2.state.ActiveLength);if(time.getTime()>End){if(element.dataX.length-1>=i)last=i;break;}}else if(element.dataX[i]!==null){first=i;}}if(first!==null&&NewData.dataX[0]>StartDate&&element.data.length>=first+1){var DataSpot=(0,_Selectors.get_DataSpot)([element.dataX[first],element.dataX[first+1]],[element.data[first],element.data[first+1]],StartDate,element.data[first],element.dataX[first]);console.log(DataSpot);NewData.data.unshift(DataSpot.ExValue);NewData.dataX.unshift(StartDate);}if(last!=null){}}ActiveDataSets.push(NewData);});}if(this.state.ActiveIndex>0&&ActiveDataSets[0].data.length===0){var i=this.state.ActiveIndex;i=i-1;this.setState({ActiveIndex:i});}else{this.setState({ActiveLength:ActiveLength,Labels:Labels,ActiveDataSets:ActiveDataSets,ActiveStartDate:StartDate,ActiveEndDate:EndDate,ActiveIndex:ActiveIndex},function(){_this2.forceUpdate();});}}},{key:"getData",value:function getData(){var localDataStore=this.props.firebase.localDataStore;var CurrentData=this.props.firebase.currentData;}},{key:"componentDidUpdate",value:function componentDidUpdate(prevProps,prevState){var _this3=this;if(!this.props.Display&&this.props!==prevProps){if(this.props.firebase.localDataStore){if(JSON.stringify(prevProps.firebase.localDataStore.weighings)!==JSON.stringify(this.props.firebase.localDataStore.weighings)||JSON.stringify(prevProps.firebase.localDataStore.pens)!==JSON.stringify(this.props.firebase.localDataStore.pens)||JSON.stringify(prevProps.firebase.localDataStore.graphs)!==JSON.stringify(this.props.firebase.localDataStore.graphs)||prevProps.Predict!==this.props.Predict||prevProps.weighings!==this.props.weighings){var _this$setData2=this.setData(this.props),TempGraph=_this$setData2.TempGraph,Legends=_this$setData2.Legends,DataSets=_this$setData2.DataSets,StartDate=_this$setData2.StartDate,EndDate=_this$setData2.EndDate;if(JSON.stringify(this.state.TempGraph)!==JSON.stringify(TempGraph)||JSON.stringify(this.state.Legends)!==JSON.stringify(Legends)||JSON.stringify(this.state.DataSets)!==JSON.stringify(DataSets)||JSON.stringify(this.state.StartDate)!==JSON.stringify(StartDate)||JSON.stringify(this.state.EndDate)!==JSON.stringify(EndDate)){this.setState({TempGraph:TempGraph,Legends:Legends,DataSets:DataSets,StartDate:StartDate,EndDate:EndDate},function(){_this3.setGraphPeriode(_this3.state.ActiveLength);});}}}}if(!this.props.Display&&this.state!==prevState){if(this.state.ActiveLength!=prevState.ActiveLength||this.state.ActiveIndex!=prevState.ActiveIndex){this.setGraphPeriode(this.state.ActiveLength);}}}},{key:"componentDidMount",value:function componentDidMount(){this.getData();if(!this.props.height)_Dimensions.default.addEventListener("change",this.onChange);if(!this.props.Display)this.setGraphPeriode(this.state.ActiveLength);}},{key:"componentWillUnmount",value:function componentWillUnmount(){if(!this.props.height)_Dimensions.default.removeEventListener("change",this.onChange);}},{key:"render",value:function render(){var _this4=this;var localDataStore=this.props.firebase.localDataStore;var BatchIsOpen=false;if(localDataStore.batchs&&this.props.firebase.currentData&&this.props.firebase.currentData.batchId){BatchIsOpen=localDataStore.batchs&&localDataStore.batchs[this.props.firebase.currentData.batchId]&&(!localDataStore.batchs[this.props.firebase.currentData.batchId].state||localDataStore.batchs[this.props.firebase.currentData.batchId].state!=="Closed")?true:false;}var wide=this.state.dimensions.window.width>1000?true:false;if(this.props.Display)wide=false;var App=_Platform.default.OS==='ios'||_Platform.default.OS==='android'||!wide;var height=this.state.dimensions.window.height;if(this.props.Height){height=this.props.Height;}else{height=500;}var width=this.state.dimensions.window.width*2;if(this.props.Width){width=this.props.Width;}else{width=width-_Theme.Metrics.normal*4;width=width/(wide?2.05:1);}var DataSets=this.props.Display?[{color:function color(){var opacity=arguments.length>0&&arguments[0]!==undefined?arguments[0]:0.1;return"rgba(0, 0, 0, "+opacity+")";},data:[],dataX:[]}]:this.state.ActiveDataSets;var Legends=this.props.Display?[]:this.state.Legends.slice(0,DataSets.length);var StartDate=this.props.Display?1:this.state.ActiveStartDate;var EndDate=this.props.Display?this.props.DataPoints.length:this.state.ActiveEndDate;var Labels=[];if(this.props.Display){this.props.DataPoints.forEach(function(point,index){DataSets[0].data.push(point.value);DataSets[0].dataX.push(index+1);Labels.push(index);});}else Labels=this.state.Labels;return _react.default.createElement(_View.default,{style:[_Theme.Helpers.fullWidth,_Theme.Helpers.fill]},_react.default.createElement(_View.default,{style:[_Theme.Helpers.fullWidth,_Theme.Helpers.fill]},_react.default.createElement(_ScrollView.default,{horizontal:true,showsHorizontalScrollIndicator:wide||this.props.Display?false:true,style:[_Theme.Helpers.fullSize,App&&!this.props.Display?{maxWidth:width/2,maxHeight:540}:{}]},this.state.TempGraph||this.props.Display&&Labels&&Labels.length>0&&DataSets&&DataSets.length>0?_react.default.createElement(_reactNativeChartKit.LineChart,{style:[{marginLeft:-15,minHeight:height,minWidth:width}],width:width,height:height,data:{labels:Labels,xMinMax:[StartDate,EndDate,Labels.length-1],legend:Legends,datasets:DataSets},onDataPointClick:function onDataPointClick(data){_this4.setState({ViewPoint:data});},withShadow:false,withVerticalLines:true,fromZero:false,segments:15,verticalLabelRotation:0,xLabelsOffset:0,chartConfig:{backgroundColor:_Theme.Colors.white,backgroundGradientFrom:_Theme.Colors.white,backgroundGradientTo:_Theme.Colors.white,decimalPlaces:1,color:function color(){var opacity=arguments.length>0&&arguments[0]!==undefined?arguments[0]:1;return"rgba(0, 0, 0, "+opacity+")";},labelColor:function labelColor(){var opacity=arguments.length>0&&arguments[0]!==undefined?arguments[0]:1;return"rgba(0, 0, 0, "+opacity+")";},style:{borderRadius:16,height:height},propsForDots:{r:"5",strokeWidth:"0.5",stroke:_Theme.Colors.white}}}):_react.default.createElement(_react.default.Fragment,null))),!this.props.Display?_react.default.createElement(_View.default,{style:[_Theme.Helpers.fullWidth,_Theme.Helpers.mainCenter]},_react.default.createElement(_View.default,{style:[_Theme.Helpers.fill,_Theme.Helpers.fullWidth,_Theme.Helpers.rowCenter]},_react.default.createElement(_View.default,{style:{paddingRight:2.5}},_react.default.createElement(_reactNativeElements.Icon,{name:"md-arrow-back",type:"ionicon",size:25,color:"black",onPress:function onPress(){if(_this4.state.ActiveIndex!=0){var i=_this4.state.ActiveIndex;i=i-1;_this4.setState({ActiveIndex:i});}}})),_react.default.createElement(_Components.Button,{Text:"Day view",buttonStyle:{width:wide?100:80},onPress:function onPress(){_this4.setState({ActiveIndex:-1,ActiveLength:"Days"});}}),_react.default.createElement(_Components.Button,{Text:"Week view",buttonStyle:{width:wide?100:80,marginLeft:2.5},onPress:function onPress(){_this4.setState({ActiveIndex:-1,ActiveLength:"Weeks"});}}),_react.default.createElement(_Components.Button,{Text:"Full Batch",buttonStyle:{width:wide?100:80,marginLeft:2.5},onPress:function onPress(){_this4.setState({ActiveIndex:0,ActiveLength:"Batch"});}}),_react.default.createElement(_View.default,{style:{paddingLeft:2.5}},_react.default.createElement(_reactNativeElements.Icon,{name:"md-arrow-forward",type:"ionicon",size:25,color:"black",onPress:function onPress(){var i=_this4.state.ActiveIndex;i=i+1;_this4.setState({ActiveIndex:i});}}))),BatchIsOpen&&!App?_react.default.createElement(_View.default,{style:[_Theme.Helpers.fullWidth,_Theme.Helpers.rowCenter]},_react.default.createElement(CurveEditor,{control:this,props:this.props,state:this.state})):_react.default.createElement(_react.default.Fragment,null)):_react.default.createElement(_react.default.Fragment,null));}}]);return CurveElement;}(_react.Component);var CurveEditor=function CurveEditor(props){if(_Platform.default.OS==='ios'||_Platform.default.OS==='android'){if(props.state.ViewPoint){var TimeText=props.state.Labels[props.state.ViewPoint.index];if(props.state.ViewPoint.dataset.dataX){var Time=new Date(props.state.ViewPoint.dataset.dataX[props.state.ViewPoint.index]);TimeText=Time.getFullYear()+"."+(Time.getMonth()+1)+"."+Time.getDate();}var Data=props.state.ViewPoint.value;return _react.default.createElement(_View.default,{style:[_Theme.Helpers.buttonContainer,_Theme.Helpers.fullWidth,_Theme.Helpers.rowCenter,{maxHeight:100}]},_react.default.createElement(_View.default,{style:[_Theme.Helpers.colCenter,_Theme.Helpers.borderContainer,{borderRadius:0}]},_react.default.createElement(_Text.default,null,TimeText)),_react.default.createElement(_View.default,{style:[_Theme.Helpers.colCenter,_Theme.Helpers.borderContainer,{borderRadius:0}]},_react.default.createElement(_Text.default,null,Data," Kg.")));}else return _react.default.createElement(_react.default.Fragment,null);}else{var _React$useState=_react.default.useState(0),_React$useState2=(0,_slicedToArray2.default)(_React$useState,2),Point=_React$useState2[0],setPoint=_React$useState2[1];if(!props.state.TempGraph){return _react.default.createElement(_react.default.Fragment,null);}else{return _react.default.createElement(_View.default,{style:[_Theme.Helpers.buttonContainer,_Theme.Helpers.fullWidth,_Theme.Helpers.rowCenter,{maxHeight:100,marginTop:10}]},_react.default.createElement(_View.default,{style:{padding:6,paddingRight:15}},_react.default.createElement(_reactNativeElements.Icon,{name:"md-arrow-back",type:"ionicon",size:25,color:"black",onPress:function onPress(){var index=Point;index=index-1;if(index<0){index=props.state.TempGraph.data.length-1;}setPoint(index);}})),_react.default.createElement(_reactNativeElements.Input,{type:"number",step:"0.1",label:props.state.Labels[Point],containerStyle:[{width:"auto",borderWidth:1}],style:[_Theme.ApplicationStyles.input,_Theme.Helpers.borderContainer,{borderRadius:0}],onChange:function onChange(evt){var text=evt.target.value;if(!isNaN(text)||text.endsWith('.')&&text.split('.').length<=2){var NewData=props.state.TempGraph.data;NewData[Point]=text;props.control.setState({state:props.state,TempGraph:_objectSpread(_objectSpread({},props.state.TempGraph),{},{data:NewData})});props.control.setGraphPeriode(props.state.ActiveLength);}},value:props.state.TempGraph.data[Point]}),_react.default.createElement(_View.default,{style:{padding:6,paddingRight:15}},_react.default.createElement(_reactNativeElements.Icon,{name:"md-arrow-forward",type:"ionicon",size:25,color:"black",onPress:function onPress(){var index=Point;index=index+1;if(index>props.state.TempGraph.data.length-1){index=0;}setPoint(index);}})),_react.default.createElement(_reactNativeElements.Input,{label:"Curve Name",containerStyle:[{width:"auto",borderWidth:1}],style:[_Theme.ApplicationStyles.input,_Theme.Helpers.borderContainer,{borderRadius:0}],onChangeText:function onChangeText(text){},value:props.state.TempGraph.name}));}}};var mapStateToProps=function mapStateToProps(state){var firebase=state.firebase;return{firebase:firebase};};var mapDispatchToProps=function mapDispatchToProps(dispatch){return{getPen:function getPen(penId,DataTime){return dispatch(_Actions.default.actionStarting(_Selectors.Actions.FETCH,_Selectors.DataRefs.PENS,{PenId:penId,DataTime:DataTime}));},getWeights:function getWeights(penId,DataTime,MemSections){return dispatch(_Actions.default.actionStarting(_Selectors.Actions.FETCH,_Selectors.DataRefs.WEIGHING,{PenId:penId,DataTime:DataTime,MemSections:MemSections}));},getCurve:function getCurve(curveid){return dispatch(_Actions.default.actionStarting(_Selectors.Actions.FETCH,_Selectors.DataRefs.GRAPH,{GraphId:curveid}));},setCurve:function setCurve(curve){return dispatch(_Actions.default.actionStarting(_Selectors.Actions.CREATE,_Selectors.DataRefs.GRAPH,{Graph:curve}));}};};var _default=(0,_reactRedux.connect)(mapStateToProps,mapDispatchToProps)(CurveElement);exports.default=_default;

/***/ }),

/***/ 44:
/***/ (function(module, exports, __webpack_require__) {

var _interopRequireDefault=__webpack_require__(2);Object.defineProperty(exports,"__esModule",{value:true});Object.defineProperty(exports,"Button",{enumerable:true,get:function get(){return _Button.default;}});Object.defineProperty(exports,"Button_Panel",{enumerable:true,get:function get(){return _Button_Panel.default;}});Object.defineProperty(exports,"TitleElement",{enumerable:true,get:function get(){return _TitleElement.default;}});Object.defineProperty(exports,"CustomListItem",{enumerable:true,get:function get(){return _CustomListItem.default;}});Object.defineProperty(exports,"ContentProp",{enumerable:true,get:function get(){return _ContentProp.default;}});Object.defineProperty(exports,"Loading",{enumerable:true,get:function get(){return _Loading.default;}});Object.defineProperty(exports,"OperationsPanel",{enumerable:true,get:function get(){return _OperationsPanel.default;}});Object.defineProperty(exports,"ProgressBar",{enumerable:true,get:function get(){return _Progressbar.default;}});Object.defineProperty(exports,"Datetime_Picker",{enumerable:true,get:function get(){return _DateTime_Picker.default;}});Object.defineProperty(exports,"Comment_Module",{enumerable:true,get:function get(){return _Comment_Module.default;}});var _Button=_interopRequireDefault(__webpack_require__(190));var _Button_Panel=_interopRequireDefault(__webpack_require__(899));var _TitleElement=_interopRequireDefault(__webpack_require__(900));var _CustomListItem=_interopRequireDefault(__webpack_require__(901));var _ContentProp=_interopRequireDefault(__webpack_require__(992));var _Loading=_interopRequireDefault(__webpack_require__(993));var _OperationsPanel=_interopRequireDefault(__webpack_require__(994));var _Progressbar=_interopRequireDefault(__webpack_require__(995));var _DateTime_Picker=_interopRequireDefault(__webpack_require__(996));var _Comment_Module=_interopRequireDefault(__webpack_require__(997));

/***/ }),

/***/ 499:
/***/ (function(module, exports, __webpack_require__) {

module.exports = __webpack_require__(500);


/***/ }),

/***/ 556:
/***/ (function(module, exports, __webpack_require__) {

var _interopRequireDefault=__webpack_require__(2);Object.defineProperty(exports,"__esModule",{value:true});exports.default=void 0;var _react=_interopRequireDefault(__webpack_require__(1));var _reactRedux=__webpack_require__(37);var _react2=__webpack_require__(560);var _Stores=_interopRequireDefault(__webpack_require__(561));var _RootScreen=_interopRequireDefault(__webpack_require__(816));var _createStore=(0,_Stores.default)(),store=_createStore.store,persistor=_createStore.persistor;var App=function App(){return _react.default.createElement(_reactRedux.Provider,{store:store},_react.default.createElement(_react2.PersistGate,{loading:null,persistor:persistor},_react.default.createElement(_RootScreen.default,null)));};var _default=App;exports.default=_default;

/***/ }),

/***/ 561:
/***/ (function(module, exports, __webpack_require__) {

var _interopRequireDefault=__webpack_require__(2);Object.defineProperty(exports,"__esModule",{value:true});exports.default=void 0;var _redux=__webpack_require__(29);var _CreateStore=_interopRequireDefault(__webpack_require__(562));var _Sagas=_interopRequireDefault(__webpack_require__(577));var _Reducers=__webpack_require__(807);var _Reducers2=__webpack_require__(809);var _Reducers3=__webpack_require__(813);var _default=function _default(){var rootReducer=(0,_redux.combineReducers)({example:_Reducers.reducer,device:_Reducers2.reducer,firebase:_Reducers3.reducer});return(0,_CreateStore.default)(rootReducer,_Sagas.default);};exports.default=_default;

/***/ }),

/***/ 562:
/***/ (function(module, exports, __webpack_require__) {

var _interopRequireDefault=__webpack_require__(2);Object.defineProperty(exports,"__esModule",{value:true});exports.default=exports.JSOGTransform=void 0;var _Platform=_interopRequireDefault(__webpack_require__(18));var _redux=__webpack_require__(29);var _reduxSaga=_interopRequireDefault(__webpack_require__(160));var _reduxPersist=__webpack_require__(1168);var _NativeModules=_interopRequireDefault(__webpack_require__(104));var _reactNativeBlePlx=__webpack_require__(105);var _jsog=_interopRequireDefault(__webpack_require__(573));var _storage=_interopRequireDefault(__webpack_require__(574));var JSOGTransform=(0,_reduxPersist.createTransform)(function(inboundState,key){return _jsog.default.encode(inboundState);},function(outboundState,key){return _jsog.default.decode(outboundState);});exports.JSOGTransform=JSOGTransform;var persistConfig={key:'root',storage:_storage.default,transforms:[JSOGTransform],blacklist:[]};var _default=function _default(rootReducer,rootSaga){var middleware=[];var enhancers=[];var sagaMiddleware=(0,_reduxSaga.default)();middleware.push(sagaMiddleware);enhancers.push(_redux.applyMiddleware.apply(void 0,middleware));var persistedReducer=(0,_reduxPersist.persistReducer)(persistConfig,rootReducer);var store=(0,_redux.createStore)(persistedReducer,_redux.compose.apply(void 0,enhancers));var persistor=(0,_reduxPersist.persistStore)(store);if(_Platform.default.OS==='ios'||_Platform.default.OS==='android'){var blemanager=new _reactNativeBlePlx.BleManager();blemanager.setLogLevel(_reactNativeBlePlx.LogLevel.Verbose);var bluemanager=_NativeModules.default.BlueToothControl;var sagaArgs={BLEManager:blemanager,BlueManager:bluemanager};sagaMiddleware.run(rootSaga,sagaArgs);}else{sagaMiddleware.run(rootSaga);}return{store:store,persistor:persistor};};exports.default=_default;

/***/ }),

/***/ 577:
/***/ (function(module, exports, __webpack_require__) {

var _interopRequireWildcard=__webpack_require__(7);var _interopRequireDefault=__webpack_require__(2);Object.defineProperty(exports,"__esModule",{value:true});exports.default=root;var _regenerator=_interopRequireDefault(__webpack_require__(52));var _effects=__webpack_require__(118);var _Actions=__webpack_require__(335);var _Actions2=__webpack_require__(140);var _Actions3=__webpack_require__(94);var _Actions4=__webpack_require__(38);var StartupSaga=_interopRequireWildcard(__webpack_require__(631));var ExampleSaga=_interopRequireWildcard(__webpack_require__(732));var DeviceSaga=_interopRequireWildcard(__webpack_require__(751));var FirebaseSaga=_interopRequireWildcard(__webpack_require__(759));var _marked=_regenerator.default.mark(root);function root(sagaArgs){return _regenerator.default.wrap(function root$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return(0,_effects.all)([(0,_effects.takeLatest)(_Actions.StartupTypes.STARTUP,StartupSaga.startup),(0,_effects.takeLatest)(_Actions2.ExampleTypes.FETCH_USER,ExampleSaga.fetchUser),(0,_effects.takeLatest)(_Actions3.DeviceTypes.DEVICE_STARTUP,DeviceSaga.deviceStartup),(0,_effects.takeLatest)(_Actions3.DeviceTypes.CONNECT_DEVICE,DeviceSaga.connectDevice),(0,_effects.takeLatest)(_Actions3.DeviceTypes.DISCONNECT_DEVICE,DeviceSaga.disconnectDevice),(0,_effects.takeLatest)(_Actions3.DeviceTypes.READ_DEVICE_DATA,DeviceSaga.readDeviceData),(0,_effects.takeLatest)(_Actions3.DeviceTypes.FETCH_DEVICE,DeviceSaga.fetchDevice,sagaArgs),(0,_effects.takeLatest)(_Actions3.DeviceTypes.BLE_STARTUP,DeviceSaga.BLE.bleStartup,sagaArgs),(0,_effects.takeLatest)(_Actions3.DeviceTypes.START_BLE_SCAN,DeviceSaga.BLE.startBleScan),(0,_effects.takeLatest)(_Actions3.DeviceTypes.STOP_BLE_SCAN,DeviceSaga.BLE.stopBleScan),(0,_effects.takeLatest)(_Actions3.DeviceTypes.READ_BLE_DEVICE_DATA,DeviceSaga.BLE.readBleDeviceData,sagaArgs),(0,_effects.takeLatest)(_Actions3.DeviceTypes.BLUETOOTH_STARTUP,DeviceSaga.BlueTooth.bluetoothStartup,sagaArgs),(0,_effects.takeLatest)(_Actions3.DeviceTypes.START_BLUETOOTH_SCAN,DeviceSaga.BlueTooth.startBluetoothScan),(0,_effects.takeLatest)(_Actions3.DeviceTypes.STOP_BLUETOOTH_SCAN,DeviceSaga.BlueTooth.stopBluetoothScan),(0,_effects.takeLatest)(_Actions3.DeviceTypes.BLUETOOTH_SCAN_ABLE,DeviceSaga.BlueTooth.bluetoothScanAble,sagaArgs),(0,_effects.takeLatest)(_Actions3.DeviceTypes.READ_BLUE_DEVICE_DATA,DeviceSaga.BlueTooth.readBlueDeviceData,sagaArgs),(0,_effects.takeLatest)(_Actions4.FirebaseTypes.FIREBASE_STARTUP,FirebaseSaga.firebaseStartup)]);case 2:case"end":return _context.stop();}}},_marked);}

/***/ }),

/***/ 631:
/***/ (function(module, exports, __webpack_require__) {

var _interopRequireDefault=__webpack_require__(2);Object.defineProperty(exports,"__esModule",{value:true});exports.startup=startup;var _regenerator=_interopRequireDefault(__webpack_require__(52));var _Platform=_interopRequireDefault(__webpack_require__(18));var _effects=__webpack_require__(118);var _NavigationService=_interopRequireDefault(__webpack_require__(32));var _Actions=_interopRequireDefault(__webpack_require__(140));var _Actions2=_interopRequireDefault(__webpack_require__(94));var _Actions3=_interopRequireDefault(__webpack_require__(38));var _marked=_regenerator.default.mark(startup);function startup(){return _regenerator.default.wrap(function startup$(_context){while(1){switch(_context.prev=_context.next){case 0:console.log("Starting sagas");if(!(_Platform.default.OS==='ios'||_Platform.default.OS==='android')){_context.next=4;break;}_context.next=4;return(0,_effects.put)(_Actions2.default.deviceStartup());case 4:_context.next=6;return(0,_effects.put)(_Actions3.default.firebaseStartup());case 6:_NavigationService.default.navigateAndReset('MainStack');case 7:case"end":return _context.stop();}}},_marked);}

/***/ }),

/***/ 70:
/***/ (function(module, exports) {

Object.defineProperty(exports,"__esModule",{value:true});exports.ConnectionMethode=exports.ConnectionState=exports.ScannerState=void 0;var ScannerState={IDLE:'IDLE',AVAILABLE:'AVAILABLE',SCANNING:'SCANNING'};exports.ScannerState=ScannerState;var ConnectionState={DISCONNECTED:'DISCONNECTED',CONNECTING:'CONNECTING',DISCOVERING:'DISCOVERING',CONNECTED:'CONNECTED',DISCONNECTING:'DISCONNECTING'};exports.ConnectionState=ConnectionState;var ConnectionMethode={NONE:'NONE',BLE:'BLE',SERIAL:'SERIAL',BLUETOOTH:'BLUETOOTH',WIFI:'WIFI'};exports.ConnectionMethode=ConnectionMethode;

/***/ }),

/***/ 732:
/***/ (function(module, exports, __webpack_require__) {

var _interopRequireDefault=__webpack_require__(2);Object.defineProperty(exports,"__esModule",{value:true});exports.fetchUser=fetchUser;var _regenerator=_interopRequireDefault(__webpack_require__(52));var _effects=__webpack_require__(118);var _Actions=_interopRequireDefault(__webpack_require__(140));var _UserService=__webpack_require__(733);var _marked=_regenerator.default.mark(fetchUser);function fetchUser(){var user;return _regenerator.default.wrap(function fetchUser$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return(0,_effects.put)(_Actions.default.fetchUserLoading());case 2:_context.next=4;return(0,_effects.call)(_UserService.userService.fetchUser);case 4:user=_context.sent;if(!user){_context.next=10;break;}_context.next=8;return(0,_effects.put)(_Actions.default.fetchUserSuccess(user));case 8:_context.next=12;break;case 10:_context.next=12;return(0,_effects.put)(_Actions.default.fetchUserFailure('There was an error while fetching user informations.'));case 12:case"end":return _context.stop();}}},_marked);}

/***/ }),

/***/ 733:
/***/ (function(module, exports, __webpack_require__) {

var _interopRequireDefault=__webpack_require__(2);Object.defineProperty(exports,"__esModule",{value:true});exports.userService=void 0;var _axios=_interopRequireDefault(__webpack_require__(368));var _Config=__webpack_require__(254);var _ramda=__webpack_require__(474);var isWithin=(0,_ramda.curryN)(3,function(min,max,value){var isNumber=(0,_ramda.is)(Number);return isNumber(min)&&isNumber(max)&&isNumber(value)&&(0,_ramda.gte)(value,min)&&(0,_ramda.gte)(max,value);});var in200s=isWithin(200,299);var userApiClient=_axios.default.create({baseURL:_Config.Config.API_URL,headers:{Accept:'application/json','Content-Type':'application/json'},timeout:3000});function fetchUser(){console.log("user fetch test");if(Math.random()>0.5){return new Promise(function(resolve,reject){console.log("error");resolve(null);});}var number=Math.floor(Math.random()/0.1)+1;return userApiClient.get(number.toString()).then(function(response){if(in200s(response.status)){return response.data;}return null;});}var userService={fetchUser:fetchUser};exports.userService=userService;

/***/ }),

/***/ 751:
/***/ (function(module, exports, __webpack_require__) {

var _interopRequireWildcard=__webpack_require__(7);var _interopRequireDefault=__webpack_require__(2);Object.defineProperty(exports,"__esModule",{value:true});exports.deviceStartup=deviceStartup;exports.connectDevice=connectDevice;exports.disconnectDevice=disconnectDevice;exports.readDeviceData=readDeviceData;exports.fetchDevice=fetchDevice;exports.BlueTooth=exports.BLE=void 0;var _regenerator=_interopRequireDefault(__webpack_require__(52));var _reduxSaga=__webpack_require__(160);var _effects=__webpack_require__(118);var _Actions=_interopRequireDefault(__webpack_require__(94));var _DeviceService=__webpack_require__(255);var _Selectors=__webpack_require__(70);var _reactNativeBlePlx=__webpack_require__(105);var BLE=_interopRequireWildcard(__webpack_require__(752));exports.BLE=BLE;var BlueTooth=_interopRequireWildcard(__webpack_require__(758));exports.BlueTooth=BlueTooth;var _marked=_regenerator.default.mark(deviceStartup),_marked2=_regenerator.default.mark(connectDevice),_marked3=_regenerator.default.mark(disconnectDevice),_marked4=_regenerator.default.mark(readDeviceData),_marked5=_regenerator.default.mark(fetchDevice);function deviceStartup(){return _regenerator.default.wrap(function deviceStartup$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return(0,_effects.put)(_Actions.default.setDeviceError(""));case 2:_context.next=4;return(0,_effects.put)(_Actions.default.clearDevices());case 4:_context.next=6;return(0,_effects.put)(_Actions.default.connectedDeviceUpdated(null));case 6:_context.next=8;return(0,_effects.put)(_Actions.default.connectionStateUpdated(_Selectors.ConnectionState.DISCONNECTED));case 8:_context.next=10;return(0,_effects.put)(_Actions.default.bleStartup());case 10:_context.next=12;return(0,_effects.put)(_Actions.default.bluetoothStartup());case 12:console.log('Device Startup : Done');case 13:case"end":return _context.stop();}}},_marked);}function connectDevice(device){return _regenerator.default.wrap(function connectDevice$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:_context2.next=2;return(0,_effects.put)(_Actions.default.scannerStateUpdated(_Selectors.ScannerState.IDLE));case 2:case"end":return _context2.stop();}}},_marked2);}function disconnectDevice(methode){return _regenerator.default.wrap(function disconnectDevice$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:case"end":return _context3.stop();}}},_marked3);}function readDeviceData(){var connectedDevice,connectionMethode;return _regenerator.default.wrap(function readDeviceData$(_context4){while(1){switch(_context4.prev=_context4.next){case 0:_context4.next=2;return(0,_effects.select)(function(state){return state.device.connectedDevice;});case 2:connectedDevice=_context4.sent;if(!(connectedDevice!=null)){_context4.next=15;break;}_context4.next=6;return(0,_effects.select)(function(state){return state.device.connectionMethode;});case 6:connectionMethode=_context4.sent;if(!(connectionMethode==_Selectors.ConnectionMethode.BLE)){_context4.next=12;break;}_context4.next=10;return(0,_effects.put)(_Actions.default.readBleDeviceData());case 10:_context4.next=15;break;case 12:if(!(connectionMethode==_Selectors.ConnectionMethode.BLUETOOTH)){_context4.next=15;break;}_context4.next=15;return(0,_effects.put)(_Actions.default.readBlueDeviceData());case 15:case"end":return _context4.stop();}}},_marked4);}function fetchDevice(sagaArgs){return _regenerator.default.wrap(function fetchDevice$(_context5){while(1){switch(_context5.prev=_context5.next){case 0:console.log("??");case 1:case"end":return _context5.stop();}}},_marked5);}

/***/ }),

/***/ 752:
/***/ (function(module, exports, __webpack_require__) {

var _interopRequireDefault=__webpack_require__(2);Object.defineProperty(exports,"__esModule",{value:true});exports.bleStartup=bleStartup;exports.connectBle=connectBle;exports.readBleDeviceData=readBleDeviceData;exports.startBleScan=startBleScan;exports.stopBleScan=stopBleScan;var _slicedToArray2=_interopRequireDefault(__webpack_require__(54));var _regenerator=_interopRequireDefault(__webpack_require__(52));var _reduxSaga=__webpack_require__(160);var _effects=__webpack_require__(118);var _reactNativeBase=_interopRequireDefault(__webpack_require__(753));var _buffer=__webpack_require__(754);var _Actions=_interopRequireDefault(__webpack_require__(94));var _DeviceService=__webpack_require__(255);var _Actions2=_interopRequireDefault(__webpack_require__(229));var _Selectors=__webpack_require__(70);var _reactNativeBlePlx=__webpack_require__(105);function _createForOfIteratorHelperLoose(o,allowArrayLike){var it;if(typeof Symbol==="undefined"||o[Symbol.iterator]==null){if(Array.isArray(o)||(it=_unsupportedIterableToArray(o))||allowArrayLike&&o&&typeof o.length==="number"){if(it)o=it;var i=0;return function(){if(i>=o.length)return{done:true};return{done:false,value:o[i++]};};}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.");}it=o[Symbol.iterator]();return it.next.bind(it);}function _unsupportedIterableToArray(o,minLen){if(!o)return;if(typeof o==="string")return _arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);if(n==="Object"&&o.constructor)n=o.constructor.name;if(n==="Map"||n==="Set")return Array.from(o);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _arrayLikeToArray(o,minLen);}function _arrayLikeToArray(arr,len){if(len==null||len>arr.length)len=arr.length;for(var i=0,arr2=new Array(len);i<len;i++){arr2[i]=arr[i];}return arr2;}var _marked=_regenerator.default.mark(bleStartup),_marked2=_regenerator.default.mark(handleBleState),_marked3=_regenerator.default.mark(connectBle),_marked4=_regenerator.default.mark(handleConnection),_marked5=_regenerator.default.mark(readBleDeviceData),_marked6=_regenerator.default.mark(handleScanning),_marked7=_regenerator.default.mark(scanBle),_marked8=_regenerator.default.mark(startBleScan),_marked9=_regenerator.default.mark(setBleScannerStart),_marked10=_regenerator.default.mark(stopBleScan);function bleStartup(sagaArgs){var permitError;return _regenerator.default.wrap(function bleStartup$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return(0,_effects.call)(_DeviceService.deviceService.isBlePermitted);case 2:permitError=_context.sent;if(!permitError){_context.next=8;break;}_context.next=6;return(0,_effects.put)(_Actions.default.setDeviceError(permitError));case 6:_context.next=14;break;case 8:_context.next=10;return(0,_effects.fork)(handleScanning,sagaArgs.BLEManager);case 10:_context.next=12;return(0,_effects.fork)(handleBleState,sagaArgs.BLEManager);case 12:_context.next=14;return(0,_effects.fork)(handleConnection,sagaArgs.BLEManager);case 14:console.log('BLE Startup : Done');case 15:case"end":return _context.stop();}}},_marked);}function handleBleState(manager){var stateChannel,newState;return _regenerator.default.wrap(function handleBleState$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:console.log("Handle BLE State...");_context2.next=3;return(0,_reduxSaga.eventChannel)(function(emit){var subscription=manager.onStateChange(function(state){emit(state);},true);return function(){subscription.remove();};},_reduxSaga.buffers.expanding(1));case 3:stateChannel=_context2.sent;_context2.prev=4;case 5:_context2.next=7;return(0,_effects.take)(stateChannel);case 7:newState=_context2.sent;console.log("New BLE state: "+newState);_context2.next=11;return(0,_effects.put)(_Actions2.default.bleStateUpdated(newState));case 11:_context2.next=5;break;case 13:_context2.prev=13;_context2.next=16;return(0,_effects.cancelled)();case 16:if(!_context2.sent){_context2.next=18;break;}stateChannel.close();case 18:return _context2.finish(13);case 19:case"end":return _context2.stop();}}},_marked2,null,[[4,,13,19]]);}function connectBle(device){return _regenerator.default.wrap(function connectBle$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:case"end":return _context3.stop();}}},_marked3);}function handleConnection(manager){var _yield$take,device,connectionMethode,connectedDevice,disconnectedChannel,deviceActionChannel,_device,_yield$race,deviceAction,disconnected;return _regenerator.default.wrap(function handleConnection$(_context4){while(1){switch(_context4.prev=_context4.next){case 0:console.log("Handle BLE Connection...");case 1:_context4.next=3;return(0,_effects.take)('CONNECT_DEVICE');case 3:_yield$take=_context4.sent;device=_yield$take.device;_context4.next=7;return(0,_effects.select)(function(state){return state.device.connectionMethode;});case 7:connectionMethode=_context4.sent;if(!(connectionMethode!=_Selectors.ConnectionMethode.BLE)){_context4.next=10;break;}return _context4.abrupt("continue",87);case 10:_context4.next=12;return(0,_effects.select)(function(state){return state.device.connectedDevice;});case 12:connectedDevice=_context4.sent;if(!(device===null||device._manager===null)){_context4.next=19;break;}_context4.next=16;return(0,_effects.put)(_Actions.default.setDeviceError("Could not find device.."));case 16:_context4.next=18;return(0,_effects.put)(_Actions.default.connectionStateUpdated(_Selectors.ConnectionState.DISCONNECTED));case 18:return _context4.abrupt("return");case 19:if(device.isConnected()){console.log("is connected ??");}console.log("Connect device");_context4.prev=21;_context4.next=24;return(0,_reduxSaga.eventChannel)(function(emit){var subscription=device.onDisconnected(function(error){emit({type:'DISCONNECT_DEVICE',error:error});});return function(){subscription.remove();};},_reduxSaga.buffers.expanding(1));case 24:disconnectedChannel=_context4.sent;_context4.next=27;return(0,_effects.actionChannel)(['DISCONNECT_DEVICE']);case 27:deviceActionChannel=_context4.sent;_context4.prev=28;_context4.next=31;return(0,_effects.put)(_Actions.default.connectionStateUpdated(_Selectors.ConnectionState.CONNECTING));case 31:_context4.next=33;return(0,_effects.call)([device,device.connect]);case 33:_context4.next=35;return(0,_effects.put)(_Actions.default.connectionStateUpdated(_Selectors.ConnectionState.DISCOVERING));case 35:_context4.next=37;return(0,_effects.call)([device,device.discoverAllServicesAndCharacteristics]);case 37:_context4.next=39;return(0,_effects.put)(_Actions.default.connectionStateUpdated(_Selectors.ConnectionState.CONNECTED));case 39:_context4.next=41;return(0,_effects.put)(_Actions.default.connectionMethodeUpdated(_Selectors.ConnectionMethode.BLE));case 41:_context4.next=43;return(0,_effects.put)(_Actions.default.connectedDeviceUpdated(device));case 43:_device=device;_context4.next=46;return(0,_effects.fork)(readBleDeviceData,manager);case 46:_context4.next=48;return(0,_effects.race)({deviceAction:(0,_effects.take)(deviceActionChannel),disconnected:(0,_effects.take)(disconnectedChannel)});case 48:_yield$race=_context4.sent;deviceAction=_yield$race.deviceAction;disconnected=_yield$race.disconnected;if(!deviceAction){_context4.next=61;break;}if(!(deviceAction.type==='DISCONNECT_DEVICE')){_context4.next=59;break;}console.log('Disconnected by user...');_context4.next=56;return(0,_effects.call)([_device,_device.cancelConnection]);case 56:_context4.next=58;return(0,_effects.put)(_Actions.default.connectionStateUpdated(_Selectors.ConnectionState.DISCONNECTING));case 58:return _context4.abrupt("break",67);case 59:_context4.next=65;break;case 61:if(!disconnected){_context4.next=65;break;}console.log('Disconnected by device...');if(disconnected.error!=null){console.log("Error ",disconnected.error);}return _context4.abrupt("break",67);case 65:_context4.next=46;break;case 67:_context4.next=71;break;case 69:_context4.prev=69;_context4.t0=_context4["catch"](28);case 71:_context4.prev=71;disconnectedChannel.close();_context4.next=75;return(0,_effects.put)(_Actions.default.connectedDeviceUpdated(null));case 75:_context4.next=77;return(0,_effects.put)(_Actions.default.connectionStateUpdated(_Selectors.ConnectionState.DISCONNECTED));case 77:return _context4.finish(71);case 78:_context4.next=87;break;case 80:_context4.prev=80;_context4.t1=_context4["catch"](21);console.log('Error on device actions...');_context4.next=85;return(0,_effects.put)(_Actions.default.removeDevice(device));case 85:_context4.next=87;return(0,_effects.put)(_Actions.default.connectionStateUpdated(_Selectors.ConnectionState.DISCONNECTING));case 87:_context4.next=1;break;case 89:case"end":return _context4.stop();}}},_marked4,null,[[21,80],[28,69,71,78]]);}function readBleDeviceData(manager){var KnownUUIDS,device,_services,serviceUUIDs,services,monitor,_iterator,_step,service,characteristics,_iterator2,_step2,_characteristic,readingChannel,TempData_Reading,length,PacketId,_yield$take2,_yield$take3,error,characteristic,BatteryLevel,RawData,header,NewData,TagId,layers,layer1,layer2,layer3;return _regenerator.default.wrap(function readBleDeviceData$(_context5){while(1){switch(_context5.prev=_context5.next){case 0:KnownUUIDS=['0000fff0-0000-1000-8000-00805f9b34fb','0000fff1-0000-1000-8000-00805f9b34fb','0000180f-0000-1000-8000-00805f9b34fb','00002a19-0000-1000-8000-00805f9b34fb'];_context5.next=3;return(0,_effects.select)(function(state){return state.device.connectedDevice;});case 3:device=_context5.sent;if(!(device===null)){_context5.next=6;break;}return _context5.abrupt("return");case 6:_context5.next=8;return(0,_effects.call)([device,device.services]);case 8:_services=_context5.sent;serviceUUIDs=device.serviceUUIDs;services=_services.filter(function(service){return serviceUUIDs.includes(service.uuid);});monitor=[];_iterator=_createForOfIteratorHelperLoose(services);case 13:if((_step=_iterator()).done){_context5.next=22;break;}service=_step.value;console.log('Device had service: '+service.uuid);_context5.next=18;return(0,_effects.call)([service,service.characteristics]);case 18:characteristics=_context5.sent;for(_iterator2=_createForOfIteratorHelperLoose(characteristics);!(_step2=_iterator2()).done;){_characteristic=_step2.value;console.log('  characteristic: '+_characteristic.uuid);if(KnownUUIDS.includes(service.uuid)&&KnownUUIDS.includes(_characteristic.uuid)){monitor.push([service.uuid,_characteristic.uuid]);}}case 20:_context5.next=13;break;case 22:_context5.next=24;return(0,_reduxSaga.eventChannel)(function(emit){monitor.forEach(function(service,i){device.monitorCharacteristicForService(service[0],service[1],function(error,characteristic){if(error){emit([error,characteristic]);return;}if(characteristic!=null){emit([error,characteristic]);}});});return function(){};},_reduxSaga.buffers.expanding(1));case 24:readingChannel=_context5.sent;_context5.prev=25;TempData_Reading=_buffer.Buffer.from([]);length=0;PacketId=0;case 29:if(!(readingChannel!=null)){_context5.next=81;break;}_context5.next=32;return(0,_effects.take)(readingChannel);case 32:_yield$take2=_context5.sent;_yield$take3=(0,_slicedToArray2.default)(_yield$take2,2);error=_yield$take3[0];characteristic=_yield$take3[1];if(!(error!=null)){_context5.next=39;break;}_context5.next=39;return(0,_effects.put)(_Actions.default.setDeviceError(error));case 39:if(!(characteristic!=null)){_context5.next=81;break;}if(!(characteristic.uuid=="00002a19-0000-1000-8000-00805f9b34fb")){_context5.next=47;break;}BatteryLevel=_reactNativeBase.default.decode(characteristic.value);BatteryLevel=BatteryLevel.charCodeAt(0);_context5.next=45;return(0,_effects.put)(_Actions.default.updateDeviceData({Battery:BatteryLevel}));case 45:_context5.next=81;break;case 47:if(!(characteristic.uuid=="0000fff1-0000-1000-8000-00805f9b34fb")){_context5.next=80;break;}RawData=_buffer.Buffer.from(characteristic.value,'base64');if(PacketId===0){header=RawData.slice(0,4);if(_buffer.Buffer.compare(header,_buffer.Buffer.from([170,170,170,170]))==0){length=parseInt(RawData.slice(4,8).toString("hex"),16)-8;PacketId=parseInt(RawData.slice(8,12).toString("hex"),16);RawData=RawData.slice(12,RawData.length);}}NewData=_buffer.Buffer.concat([TempData_Reading,RawData]);if(!(NewData.length<4||_buffer.Buffer.compare(NewData.slice(NewData.length-4,NewData.length),_buffer.Buffer.from([85,85,85,85]))!=0)){_context5.next=55;break;}TempData_Reading=NewData;_context5.next=78;break;case 55:while(NewData.length*8>length||_buffer.Buffer.compare(NewData.slice(NewData.length-1,NewData.length),_buffer.Buffer.from([85]))==0){NewData=NewData.slice(0,NewData.length-1);}if(!(PacketId==251658240)){_context5.next=64;break;}TagId=NewData.toString('ascii');TagId=TagId.slice(0,3)+"-"+TagId.slice(3,TagId.length);console.log("Read Tag: ",TagId);_context5.next=62;return(0,_effects.put)(_Actions.default.updateDeviceData({tagid:TagId,FatLayers:0,FatL1:0,FatL2:0,FatL3:0}));case 62:_context5.next=75;break;case 64:if(!(PacketId==2315255808)){_context5.next=75;break;}console.log("Fat done");layers=parseInt(NewData.slice(0,1).toString("hex"),16);layer1=parseInt(NewData.slice(3,4).toString("hex"),16);layer2=parseInt(NewData.slice(5,6).toString("hex"),16);layer3=parseInt(NewData.slice(7,8).toString("hex"),16);console.log("layers: "+layers+" layer1: "+layer1);console.log("layer2: "+layer2+" layer3: "+layer3);console.log("NewData: ",NewData);_context5.next=75;return(0,_effects.put)(_Actions.default.updateDeviceData({FatLayers:layers,FatL1:layer1,FatL2:layer2,FatL3:layer3}));case 75:PacketId=0;length=0;TempData_Reading=_buffer.Buffer.from([]);case 78:_context5.next=81;break;case 80:console.log("unknown char: ",characteristic.uuid);case 81:_context5.next=29;break;case 83:_context5.next=87;break;case 85:_context5.prev=85;_context5.t0=_context5["catch"](25);case 87:_context5.prev=87;_context5.next=90;return(0,_effects.cancelled)();case 90:if(!_context5.sent){_context5.next=92;break;}if(readingChannel!=null)readingChannel.close();case 92:return _context5.finish(87);case 93:case"end":return _context5.stop();}}},_marked5,null,[[25,85,87,93]]);}function handleScanning(manager){var scanTask,bleState,scannerState,connectionMethode,connectionState,channel,action,enableScanning;return _regenerator.default.wrap(function handleScanning$(_context6){while(1){switch(_context6.prev=_context6.next){case 0:console.log("Handle BLE Scanning...");scanTask=null;_context6.next=4;return(0,_effects.select)(function(state){return state.device.bleState;});case 4:bleState=_context6.sent;_context6.next=7;return(0,_effects.select)(function(state){return state.device.scannerState;});case 7:scannerState=_context6.sent;_context6.next=10;return(0,_effects.select)(function(state){return state.device.connectionMethode;});case 10:connectionMethode=_context6.sent;_context6.next=13;return(0,_effects.select)(function(state){return state.device.connectionState;});case 13:connectionState=_context6.sent;_context6.next=16;return(0,_effects.actionChannel)(['BLE_STATE_UPDATED','SCANNER_STATE_UPDATED','CONNECTION_METHODE_UPDATED','CONNECTION_STATE_UPDATED']);case 16:channel=_context6.sent;case 17:_context6.next=19;return(0,_effects.take)(channel);case 19:action=_context6.sent;_context6.t0=action.type;_context6.next=_context6.t0==='BLE_STATE_UPDATED'?23:_context6.t0==='SCANNER_STATE_UPDATED'?25:_context6.t0==='CONNECTION_METHODE_UPDATED'?27:_context6.t0==='CONNECTION_STATE_UPDATED'?29:31;break;case 23:bleState=action.bleState;return _context6.abrupt("break",31);case 25:scannerState=action.scannerState;return _context6.abrupt("break",31);case 27:connectionMethode=action.connectionMethode;return _context6.abrupt("break",31);case 29:connectionState=action.connectionState;return _context6.abrupt("break",31);case 31:enableScanning=bleState===_reactNativeBlePlx.State.PoweredOn&&(scannerState===_Selectors.ScannerState.AVAILABLE||scannerState===_Selectors.ScannerState.SCANNING)&&connectionMethode===_Selectors.ConnectionMethode.BLE&&(connectionState===_Selectors.ConnectionState.DISCONNECTING||connectionState===_Selectors.ConnectionState.DISCONNECTED);if(!enableScanning){_context6.next=42;break;}if(!(scannerState!=_Selectors.ScannerState.SCANNING)){_context6.next=40;break;}if(!(scanTask!=null)){_context6.next=37;break;}_context6.next=37;return(0,_effects.cancel)(scanTask);case 37:_context6.next=39;return(0,_effects.fork)(scanBle,manager);case 39:scanTask=_context6.sent;case 40:_context6.next=46;break;case 42:if(!(scanTask!=null)){_context6.next=46;break;}_context6.next=45;return(0,_effects.cancel)(scanTask);case 45:scanTask=null;case 46:_context6.next=17;break;case 48:case"end":return _context6.stop();}}},_marked6);}function scanBle(manager){var scanningChannel,_yield$take4,_yield$take5,error,scannedDevice;return _regenerator.default.wrap(function scanBle$(_context7){while(1){switch(_context7.prev=_context7.next){case 0:_context7.next=2;return(0,_effects.put)(_Actions.default.scannerStateUpdated(_Selectors.ScannerState.SCANNING));case 2:_context7.next=4;return(0,_effects.put)(_Actions.default.clearDevices());case 4:console.log("Scanning started");_context7.next=7;return(0,_reduxSaga.eventChannel)(function(emit){manager.startDeviceScan(null,{allowDuplicates:true},function(error,scannedDevice){if(error){emit([error,scannedDevice]);return;}if(scannedDevice!=null){if(scannedDevice.localName!=null){emit([error,scannedDevice]);}}});return function(){manager.stopDeviceScan();};},_reduxSaga.buffers.expanding(1));case 7:scanningChannel=_context7.sent;_context7.prev=8;case 9:_context7.next=11;return(0,_effects.take)(scanningChannel);case 11:_yield$take4=_context7.sent;_yield$take5=(0,_slicedToArray2.default)(_yield$take4,2);error=_yield$take5[0];scannedDevice=_yield$take5[1];if(!(error!=null)){_context7.next=19;break;}console.log("Ble Scan Error: ",error);_context7.next=19;return(0,_effects.put)(_Actions.default.setDeviceError(error));case 19:if(!(scannedDevice!=null)){_context7.next=22;break;}_context7.next=22;return(0,_effects.put)(_Actions.default.addDevice(scannedDevice));case 22:_context7.next=9;break;case 24:_context7.next=31;break;case 26:_context7.prev=26;_context7.t0=_context7["catch"](8);console.log("Ble Scan Error: ",_context7.t0);_context7.next=31;return(0,_effects.put)(_Actions.default.setDeviceError(_context7.t0));case 31:_context7.prev=31;_context7.next=34;return(0,_effects.cancelled)();case 34:if(!_context7.sent){_context7.next=39;break;}_context7.next=37;return(0,_effects.put)(_Actions.default.scannerStateUpdated(_Selectors.ScannerState.IDLE));case 37:console.log('Scanning stopped...');scanningChannel.close();case 39:return _context7.finish(31);case 40:case"end":return _context7.stop();}}},_marked7,null,[[8,26,31,40]]);}function startBleScan(){var connectionMethode,scannerState;return _regenerator.default.wrap(function startBleScan$(_context8){while(1){switch(_context8.prev=_context8.next){case 0:_context8.next=2;return(0,_effects.select)(function(state){return state.device.connectionMethode;});case 2:connectionMethode=_context8.sent;_context8.next=5;return(0,_effects.select)(function(state){return state.device.scannerState;});case 5:scannerState=_context8.sent;if(!(connectionMethode!==_Selectors.ConnectionMethode.BLE)){_context8.next=9;break;}_context8.next=9;return(0,_effects.put)(_Actions.default.connectionMethodeUpdated(_Selectors.ConnectionMethode.BLE));case 9:_context8.next=11;return(0,_effects.call)(setBleScannerStart);case 11:case"end":return _context8.stop();}}},_marked8);}function setBleScannerStart(){var connectionMethode,scannerState;return _regenerator.default.wrap(function setBleScannerStart$(_context9){while(1){switch(_context9.prev=_context9.next){case 0:_context9.next=2;return(0,_effects.select)(function(state){return state.device.connectionMethode;});case 2:connectionMethode=_context9.sent;_context9.next=5;return(0,_effects.select)(function(state){return state.device.scannerState;});case 5:scannerState=_context9.sent;if(!(scannerState===_Selectors.ScannerState.IDLE&&connectionMethode===_Selectors.ConnectionMethode.BLE)){_context9.next=9;break;}_context9.next=9;return(0,_effects.put)(_Actions.default.scannerStateUpdated(_Selectors.ScannerState.AVAILABLE));case 9:case"end":return _context9.stop();}}},_marked9);}function stopBleScan(){var connectionMethode;return _regenerator.default.wrap(function stopBleScan$(_context10){while(1){switch(_context10.prev=_context10.next){case 0:_context10.next=2;return(0,_effects.select)(function(state){return state.device.connectionMethode;});case 2:connectionMethode=_context10.sent;if(!(connectionMethode===_Selectors.ConnectionMethode.BLE)){_context10.next=6;break;}_context10.next=6;return(0,_effects.put)(_Actions.default.scannerStateUpdated(_Selectors.ScannerState.IDLE));case 6:case"end":return _context10.stop();}}},_marked10);}

/***/ }),

/***/ 758:
/***/ (function(module, exports, __webpack_require__) {

var _interopRequireDefault=__webpack_require__(2);Object.defineProperty(exports,"__esModule",{value:true});exports.bluetoothStartup=bluetoothStartup;exports.readBlueDeviceData=readBlueDeviceData;exports.startBluetoothScan=startBluetoothScan;exports.stopBluetoothScan=stopBluetoothScan;exports.bluetoothScanAble=bluetoothScanAble;var _regenerator=_interopRequireDefault(__webpack_require__(52));var _PermissionsAndroid=_interopRequireDefault(__webpack_require__(256));var _NativeModules=_interopRequireDefault(__webpack_require__(104));var _NativeEventEmitter=_interopRequireDefault(__webpack_require__(170));var _reduxSaga=__webpack_require__(160);var _effects=__webpack_require__(118);var _Actions=_interopRequireDefault(__webpack_require__(94));var _DeviceService=__webpack_require__(255);var _Actions2=_interopRequireDefault(__webpack_require__(230));var _Selectors=__webpack_require__(70);var _reactNativeBlePlx=__webpack_require__(105);var _marked=_regenerator.default.mark(bluetoothStartup),_marked2=_regenerator.default.mark(handleScanning),_marked3=_regenerator.default.mark(handleConnection),_marked4=_regenerator.default.mark(readBlueDeviceData),_marked5=_regenerator.default.mark(scanBluetooth),_marked6=_regenerator.default.mark(startBluetoothScan),_marked7=_regenerator.default.mark(setBlueScannerStart),_marked8=_regenerator.default.mark(stopBluetoothScan),_marked9=_regenerator.default.mark(bluetoothScanAble);function bluetoothStartup(sagaArgs){var permitError;return _regenerator.default.wrap(function bluetoothStartup$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return(0,_effects.call)(_DeviceService.deviceService.isBlePermitted);case 2:permitError=_context.sent;if(!permitError){_context.next=8;break;}_context.next=6;return(0,_effects.put)(_Actions.default.setDeviceError(permitError));case 6:_context.next=12;break;case 8:_context.next=10;return(0,_effects.fork)(handleScanning,sagaArgs.BlueManager);case 10:_context.next=12;return(0,_effects.fork)(handleConnection,sagaArgs.BlueManager);case 12:console.log('BlueTooth Startup : Done');case 13:case"end":return _context.stop();}}},_marked);}function handleScanning(manager){var scanTask,scannerState,connectionMethode,connectionState,channel,action,enableScanning;return _regenerator.default.wrap(function handleScanning$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:console.log("Handle Bluetooh Scanning...");scanTask=null;_context2.next=4;return(0,_effects.select)(function(state){return state.device.scannerState;});case 4:scannerState=_context2.sent;_context2.next=7;return(0,_effects.select)(function(state){return state.device.connectionMethode;});case 7:connectionMethode=_context2.sent;_context2.next=10;return(0,_effects.select)(function(state){return state.device.connectionState;});case 10:connectionState=_context2.sent;_context2.next=13;return(0,_effects.actionChannel)(['SCANNER_STATE_UPDATED','CONNECTION_METHODE_UPDATED','CONNECTION_STATE_UPDATED']);case 13:channel=_context2.sent;case 14:_context2.next=16;return(0,_effects.take)(channel);case 16:action=_context2.sent;_context2.t0=action.type;_context2.next=_context2.t0==='SCANNER_STATE_UPDATED'?20:_context2.t0==='CONNECTION_METHODE_UPDATED'?22:_context2.t0==='CONNECTION_STATE_UPDATED'?24:26;break;case 20:scannerState=action.scannerState;return _context2.abrupt("break",26);case 22:connectionMethode=action.connectionMethode;return _context2.abrupt("break",26);case 24:connectionState=action.connectionState;return _context2.abrupt("break",26);case 26:enableScanning=(scannerState===_Selectors.ScannerState.AVAILABLE||scannerState===_Selectors.ScannerState.SCANNING)&&connectionMethode===_Selectors.ConnectionMethode.BLUETOOTH&&(connectionState===_Selectors.ConnectionState.DISCONNECTING||connectionState===_Selectors.ConnectionState.DISCONNECTED);if(!enableScanning){_context2.next=37;break;}if(!(scannerState!=_Selectors.ScannerState.SCANNING)){_context2.next=35;break;}if(!(scanTask!=null)){_context2.next=32;break;}_context2.next=32;return(0,_effects.cancel)(scanTask);case 32:_context2.next=34;return(0,_effects.fork)(scanBluetooth,manager);case 34:scanTask=_context2.sent;case 35:_context2.next=41;break;case 37:if(!(scanTask!=null)){_context2.next=41;break;}_context2.next=40;return(0,_effects.cancel)(scanTask);case 40:scanTask=null;case 41:_context2.next=14;break;case 43:case"end":return _context2.stop();}}},_marked2);}function handleConnection(manager){var testTask,_yield$take,device,connectionMethode,res;return _regenerator.default.wrap(function handleConnection$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:console.log("Handle Bluetooth Connection...");testTask=null;case 2:_context3.next=4;return(0,_effects.take)('CONNECT_BLUETOOTH');case 4:_yield$take=_context3.sent;device=_yield$take.device;_context3.next=8;return(0,_effects.select)(function(state){return state.device.connectionMethode;});case 8:connectionMethode=_context3.sent;if(!(connectionMethode!=_Selectors.ConnectionMethode.BLUETOOTH)){_context3.next=11;break;}return _context3.abrupt("continue",52);case 11:if(!(device===null)){_context3.next=17;break;}_context3.next=14;return(0,_effects.put)(_Actions.default.setDeviceError("Could not find device.."));case 14:_context3.next=16;return(0,_effects.put)(_Actions.default.connectionStateUpdated(_Selectors.ConnectionState.DISCONNECTED));case 16:return _context3.abrupt("return");case 17:console.log("Connect device");_context3.prev=18;_context3.prev=19;_context3.next=22;return(0,_effects.put)(_Actions.default.connectionStateUpdated(_Selectors.ConnectionState.CONNECTING));case 22:_context3.next=24;return(0,_effects.call)(manager.PairDevice,device.id);case 24:res=_context3.sent;console.log("",res);_context3.next=28;return(0,_effects.put)(_Actions.default.connectionStateUpdated(_Selectors.ConnectionState.CONNECTED));case 28:_context3.next=30;return(0,_effects.put)(_Actions.default.connectionMethodeUpdated(_Selectors.ConnectionMethode.BLE));case 30:_context3.next=32;return(0,_effects.put)(_Actions.default.connectedDeviceUpdated(device));case 32:_context3.next=37;break;case 34:_context3.prev=34;_context3.t0=_context3["catch"](19);console.log("?: ",_context3.t0);case 37:_context3.prev=37;_context3.next=40;return(0,_effects.put)(_Actions.default.connectedDeviceUpdated(null));case 40:_context3.next=42;return(0,_effects.put)(_Actions.default.connectionStateUpdated(_Selectors.ConnectionState.DISCONNECTED));case 42:return _context3.finish(37);case 43:_context3.next=52;break;case 45:_context3.prev=45;_context3.t1=_context3["catch"](18);console.log('Error on device actions... ',_context3.t1);_context3.next=50;return(0,_effects.put)(_Actions.default.removeDevice(device));case 50:_context3.next=52;return(0,_effects.put)(_Actions.default.connectionStateUpdated(_Selectors.ConnectionState.DISCONNECTING));case 52:_context3.next=2;break;case 54:case"end":return _context3.stop();}}},_marked3,null,[[18,45],[19,34,37,43]]);}function readBlueDeviceData(sagaArgs){var manager,device,Message;return _regenerator.default.wrap(function readBlueDeviceData$(_context4){while(1){switch(_context4.prev=_context4.next){case 0:console.log("Blue Read");manager=sagaArgs.BlueManager;_context4.next=4;return(0,_effects.select)(function(state){return state.device.connectedDevice;});case 4:device=_context4.sent;if(!(device===null)){_context4.next=7;break;}return _context4.abrupt("return");case 7:_context4.next=9;return(0,_effects.call)(manager.receiveData,device.id);case 9:Message=_context4.sent;console.log(Message);if(!(Message!="")){_context4.next=14;break;}_context4.next=14;return(0,_effects.put)(_Actions.default.updateDeviceData({TAGId:Message}));case 14:case"end":return _context4.stop();}}},_marked4);}function scanBluetooth(manager){var bluetoothChannel,scannedDevice;return _regenerator.default.wrap(function scanBluetooth$(_context5){while(1){switch(_context5.prev=_context5.next){case 0:_context5.next=2;return(0,_effects.put)(_Actions.default.scannerStateUpdated(_Selectors.ScannerState.SCANNING));case 2:_context5.next=4;return(0,_effects.put)(_Actions.default.clearDevices());case 4:console.log("Scanning started");_context5.next=7;return(0,_effects.call)(manager.Discover);case 7:_context5.next=9;return(0,_reduxSaga.eventChannel)(function(emit){var blueTootControlEmitter=new _NativeEventEmitter.default(manager);var subscription=blueTootControlEmitter.addListener('blueToothDeviceFound',function(device){if(device!=null){var scannedDevice=new _reactNativeBlePlx.Device();scannedDevice.id=device.address;scannedDevice.localName=device.name!=null?device.name:"NONE";scannedDevice.name=device.alias;if(scannedDevice.localName!=null){if(scannedDevice.localName==='SensorTag'){emit(scannedDevice);}else{emit(scannedDevice);}}else if(device.alias!=null&&device.alias!=""){scannedDevice.name=device.alias;emit(scannedDevice);}}});return function(){subscription.remove();};},_reduxSaga.buffers.expanding(1));case 9:bluetoothChannel=_context5.sent;_context5.prev=10;case 11:_context5.next=13;return(0,_effects.take)(bluetoothChannel);case 13:scannedDevice=_context5.sent;if(!(scannedDevice!=null)){_context5.next=18;break;}console.log("Interest Device Found: "+scannedDevice.localName+" : "+scannedDevice.id);_context5.next=18;return(0,_effects.put)(_Actions.default.addDevice(scannedDevice));case 18:_context5.next=11;break;case 20:_context5.prev=20;_context5.next=23;return(0,_effects.cancelled)();case 23:if(!_context5.sent){_context5.next=30;break;}_context5.next=26;return(0,_effects.call)(manager.StopDiscovery);case 26:_context5.next=28;return(0,_effects.put)(_Actions.default.scannerStateUpdated(_Selectors.ScannerState.IDLE));case 28:console.log('Scanning stopped...');bluetoothChannel.close();case 30:return _context5.finish(20);case 31:case"end":return _context5.stop();}}},_marked5,null,[[10,,20,31]]);}function startBluetoothScan(){var connectionMethode,scannerState;return _regenerator.default.wrap(function startBluetoothScan$(_context6){while(1){switch(_context6.prev=_context6.next){case 0:_context6.next=2;return(0,_effects.select)(function(state){return state.device.connectionMethode;});case 2:connectionMethode=_context6.sent;_context6.next=5;return(0,_effects.select)(function(state){return state.device.scannerState;});case 5:scannerState=_context6.sent;if(!(connectionMethode!==_Selectors.ConnectionMethode.BLUETOOTH)){_context6.next=9;break;}_context6.next=9;return(0,_effects.put)(_Actions.default.connectionMethodeUpdated(_Selectors.ConnectionMethode.BLUETOOTH));case 9:_context6.next=11;return(0,_effects.call)(setBlueScannerStart);case 11:case"end":return _context6.stop();}}},_marked6);}function setBlueScannerStart(){var connectionMethode,scannerState;return _regenerator.default.wrap(function setBlueScannerStart$(_context7){while(1){switch(_context7.prev=_context7.next){case 0:_context7.next=2;return(0,_effects.select)(function(state){return state.device.connectionMethode;});case 2:connectionMethode=_context7.sent;_context7.next=5;return(0,_effects.select)(function(state){return state.device.scannerState;});case 5:scannerState=_context7.sent;if(!(scannerState===_Selectors.ScannerState.IDLE&&connectionMethode===_Selectors.ConnectionMethode.BLUETOOTH)){_context7.next=9;break;}_context7.next=9;return(0,_effects.put)(_Actions.default.scannerStateUpdated(_Selectors.ScannerState.AVAILABLE));case 9:case"end":return _context7.stop();}}},_marked7);}function stopBluetoothScan(){var connectionMethode;return _regenerator.default.wrap(function stopBluetoothScan$(_context8){while(1){switch(_context8.prev=_context8.next){case 0:_context8.next=2;return(0,_effects.select)(function(state){return state.device.connectionMethode;});case 2:connectionMethode=_context8.sent;if(!(connectionMethode===_Selectors.ConnectionMethode.BLUETOOTH)){_context8.next=6;break;}_context8.next=6;return(0,_effects.put)(_Actions.default.scannerStateUpdated(_Selectors.ScannerState.IDLE));case 6:case"end":return _context8.stop();}}},_marked8);}function bluetoothScanAble(sagaArgs){return _regenerator.default.wrap(function bluetoothScanAble$(_context9){while(1){switch(_context9.prev=_context9.next){case 0:_context9.next=2;return(0,_effects.call)(sagaArgs.BlueManager.BluetoothSearchAble);case 2:case"end":return _context9.stop();}}},_marked9);}

/***/ }),

/***/ 759:
/***/ (function(module, exports, __webpack_require__) {

var _interopRequireDefault=__webpack_require__(2);Object.defineProperty(exports,"__esModule",{value:true});exports.firebaseStartup=firebaseStartup;exports.handleAuthState=handleAuthState;exports.handleActions=handleActions;exports.onMessageHandler=onMessageHandler;exports.onBackgroundMessageHandler=onBackgroundMessageHandler;var _regenerator=_interopRequireDefault(__webpack_require__(52));var _Platform=_interopRequireDefault(__webpack_require__(18));var _Alert=_interopRequireDefault(__webpack_require__(257));var _reduxSaga=__webpack_require__(160);var _effects=__webpack_require__(118);var _Actions=_interopRequireDefault(__webpack_require__(38));var _FirebaseService=__webpack_require__(760);var _ConsysService=__webpack_require__(806);var _Selectors=__webpack_require__(40);var _marked=_regenerator.default.mark(firebaseStartup),_marked2=_regenerator.default.mark(handleAuthState),_marked3=_regenerator.default.mark(handleActions),_marked4=_regenerator.default.mark(onMessageHandler),_marked5=_regenerator.default.mark(onBackgroundMessageHandler);var auth,messaging,database,firebase;if(_Platform.default.OS==='ios'||_Platform.default.OS==='android'){auth=__webpack_require__(180).default;messaging=__webpack_require__(261).default;database=__webpack_require__(380).default;}else{var _firebase=__webpack_require__(147).default;__webpack_require__(184).default;__webpack_require__(296).default;__webpack_require__(381).default;firebase=_firebase;if(!firebase.apps.length){console.log("Starting");var Constants=__webpack_require__(382).default;console.log(Constants.manifest.web.config.firebase);_firebase.initializeApp(Constants.manifest.web.config.firebase);}auth=_firebase.auth;if(_firebase.messaging.isSupported()){messaging=_firebase.messaging;}database=_firebase.database;console.log("Started");}function firebaseStartup(){var permitError;return _regenerator.default.wrap(function firebaseStartup$(_context){while(1){switch(_context.prev=_context.next){case 0:console.log("Starting firebase saga");_context.next=3;return(0,_effects.put)(_Actions.default.setFirebaseError(null));case 3:_context.next=5;return(0,_effects.call)(_FirebaseService.firebaseService.requestUserPermission);case 5:permitError=_context.sent;if(!permitError){_context.next=11;break;}_context.next=9;return(0,_effects.put)(_Actions.default.fetchFailure(permitError));case 9:_context.next=29;break;case 11:console.log("Starting handlers");_context.next=14;return(0,_effects.fork)(handleAuthState);case 14:_context.next=16;return(0,_effects.fork)(handleActions);case 16:console.log("auth & actions");if(!(messaging&&messaging.isSupported&&messaging.isSupported())){_context.next=29;break;}if(!(_Platform.default.OS==='ios'||_Platform.default.OS==='android')){_context.next=25;break;}_context.next=21;return(0,_effects.fork)(onMessageHandler);case 21:_context.next=23;return(0,_effects.fork)(onBackgroundMessageHandler);case 23:_context.next=29;break;case 25:_context.next=27;return(0,_effects.fork)(onMessageHandler);case 27:_context.next=29;return(0,_effects.fork)(onBackgroundMessageHandler);case 29:console.log('Firebase Startup : Done');if(_Platform.default.OS==='ios'||_Platform.default.OS==='android'){console.log('Firebase will disable yellow box debug');console.disableYellowBox=true;}case 31:case"end":return _context.stop();}}},_marked);}function handleAuthState(){var authChannel,newAuth,firebaseUser,userData;return _regenerator.default.wrap(function handleAuthState$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:_context2.next=2;return(0,_reduxSaga.eventChannel)(function(emit){var subscription=auth().onAuthStateChanged(function(user){if(user==null){emit("NONE");}else{emit(user);}});return function(){subscription();};},_reduxSaga.buffers.expanding(1));case 2:authChannel=_context2.sent;_context2.prev=3;case 4:_context2.next=6;return(0,_effects.take)(authChannel);case 6:newAuth=_context2.sent;firebaseUser=newAuth==="NONE"?null:newAuth;if(!firebaseUser){_context2.next=19;break;}_context2.next=11;return(0,_effects.call)(_FirebaseService.firebaseService.actionStarting,_Selectors.DataRefs.USERSDATA,_Selectors.Actions.FETCH,{UserId:firebaseUser.uid});case 11:userData=_context2.sent;if(!userData.data){_context2.next=17;break;}firebaseUser.farms=userData.data.data.farms;firebaseUser.state=userData.data.data.state;_context2.next=17;return(0,_effects.put)(_Actions.default.dataFetchSuccess({type:_Selectors.Actions.UPDATE,path:_Selectors.DataRefs.FIREBASEUSER,data:firebaseUser}));case 17:_context2.next=21;break;case 19:_context2.next=21;return(0,_effects.put)(_Actions.default.dataFetchSuccess({type:_Selectors.Actions.UPDATE,path:_Selectors.DataRefs.FIREBASEUSER,data:{}}));case 21:_context2.next=4;break;case 23:_context2.prev=23;_context2.next=26;return(0,_effects.cancelled)();case 26:if(!_context2.sent){_context2.next=28;break;}authChannel.close();case 28:return _context2.finish(23);case 29:case"end":return _context2.stop();}}},_marked2,null,[[3,,23,29]]);}function handleActions(){var channel,action,FirebaseUser,FarmsData,FarmData,Token,Params,ResData,_FirebaseUser,NewData;return _regenerator.default.wrap(function handleActions$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:_context3.next=2;return(0,_effects.actionChannel)(['ACTION_STARTING']);case 2:channel=_context3.sent;case 3:_context3.next=5;return(0,_effects.take)(channel);case 5:action=_context3.sent;if(!(action.ref===_Selectors.DataRefs.CONSYS&&Object.values(_Selectors.ConsysRefs).includes(action.action))){_context3.next=44;break;}_context3.next=9;return(0,_effects.select)(function(state){return state.firebase.firebaseUser;});case 9:FirebaseUser=_context3.sent;if(!(FirebaseUser&&FirebaseUser.farms)){_context3.next=42;break;}_context3.next=13;return(0,_effects.select)(function(state){return state.firebase.localDataStore.farms;});case 13:FarmsData=_context3.sent;if(!(FarmsData&&FarmsData[Object.keys(FirebaseUser.farms)[0]])){_context3.next=42;break;}FarmData=FarmsData[Object.keys(FirebaseUser.farms)[0]];if(!(FarmData.site&&FarmData.refToken)){_context3.next=42;break;}Token=FarmData.token?FarmData.token:null;Params=action.params;ResData={};_context3.t0=action.action;_context3.next=_context3.t0===_Selectors.ConsysRefs.VALVEFEED?23:_context3.t0===_Selectors.ConsysRefs.SCALE?30:37;break;case 23:_context3.next=25;return(0,_effects.call)(_ConsysService.consysService.fetch_ValveConsumption,FarmData.site,FarmData.refToken,Params.limit,Params.sysId,Params.start,Params.stop,Params.offset,Params.lastId,Token);case 25:ResData=_context3.sent;if(!(ResData&&ResData.data)){_context3.next=29;break;}_context3.next=29;return(0,_effects.put)(_Actions.default.dataFetchSuccess({type:_Selectors.Actions.UPDATE,path:_Selectors.DataRefs.CONSYS,data:{feedData:ResData.data}}));case 29:return _context3.abrupt("break",38);case 30:_context3.next=32;return(0,_effects.call)(_ConsysService.consysService.fetch_AutoPig,FarmData.site,FarmData.refToken,Params.limit,Params.sysId,Params.start,Params.stop,Params.offset,Params.lastId,Token);case 32:ResData=_context3.sent;if(!(ResData&&ResData.data)){_context3.next=36;break;}_context3.next=36;return(0,_effects.put)(_Actions.default.dataFetchSuccess({type:_Selectors.Actions.UPDATE,path:_Selectors.DataRefs.CONSYS,data:{scaleData:ResData.data}}));case 36:return _context3.abrupt("break",38);case 37:return _context3.abrupt("break",38);case 38:if(!(ResData&&ResData.token)){_context3.next=42;break;}FarmData.token=ResData.token;_context3.next=42;return(0,_effects.put)(_Actions.default.dataFetchSuccess({type:_Selectors.Actions.UPDATE,path:_Selectors.DataRefs.FARMS,data:{FarmData:FarmData}}));case 42:_context3.next=66;break;case 44:if(!(Object.values(_Selectors.Actions).includes(action.action)&&Object.values(_Selectors.DataRefs).includes(action.ref))){_context3.next=66;break;}_context3.next=47;return(0,_effects.select)(function(state){return state.firebase.firebaseUser;});case 47:_FirebaseUser=_context3.sent;if(action.action!=_Selectors.Actions.SIGN&&_FirebaseUser&&_FirebaseUser.farms){if(!action.params)action.params={};if(!action.params.FarmId)action.params.FarmId=[Object.keys(_FirebaseUser.farms)[0]];}_context3.next=51;return(0,_effects.call)(_FirebaseService.firebaseService.actionStarting,action.ref,action.action,action.params);case 51:NewData=_context3.sent;if(!(NewData&&(NewData.error||NewData.viewError))){_context3.next=59;break;}_context3.next=55;return(0,_effects.put)(_Actions.default.fetchFailure(NewData.error));case 55:_context3.next=57;return(0,_effects.put)(_Actions.default.setViewError(NewData.viewError));case 57:_context3.next=66;break;case 59:if(!(NewData&&NewData.hasOwnProperty("type")&&NewData.hasOwnProperty("path")&&NewData.hasOwnProperty("data"))){_context3.next=64;break;}_context3.next=62;return(0,_effects.put)(_Actions.default.dataFetchSuccess(NewData));case 62:_context3.next=66;break;case 64:_context3.next=66;return(0,_effects.put)(_Actions.default.fetchSuccess({localDataStore:NewData}));case 66:_context3.next=3;break;case 68:case"end":return _context3.stop();}}},_marked3);}function onMessageHandler(){var onMessageChannel,remoteMessage;return _regenerator.default.wrap(function onMessageHandler$(_context4){while(1){switch(_context4.prev=_context4.next){case 0:if(!messaging){_context4.next=23;break;}_context4.next=3;return(0,_reduxSaga.eventChannel)(function(emit){var messageListener=messaging().onMessage(function(remoteMessage){emit(remoteMessage);});return function(){messageListener();};},_reduxSaga.buffers.expanding(1));case 3:onMessageChannel=_context4.sent;_context4.prev=4;case 5:_context4.next=7;return(0,_effects.take)(onMessageChannel);case 7:remoteMessage=_context4.sent;console.log("New Firebase message: ",remoteMessage);if(!(remoteMessage.notification&&remoteMessage.notification.title&&remoteMessage.notification.body)){_context4.next=14;break;}_context4.next=12;return(0,_effects.call)(_FirebaseService.firebaseService.wrappedAlert,remoteMessage.notification.title,remoteMessage.notification.body,"Ok",false);case 12:_context4.next=15;break;case 14:console.log("New Firebase data message: ",remoteMessage);case 15:_context4.next=5;break;case 17:_context4.prev=17;_context4.next=20;return(0,_effects.cancelled)();case 20:if(!_context4.sent){_context4.next=22;break;}onMessageChannel.close();case 22:return _context4.finish(17);case 23:case"end":return _context4.stop();}}},_marked4,null,[[4,,17,23]]);}function onBackgroundMessageHandler(){var onMessageChannel,remoteMessage;return _regenerator.default.wrap(function onBackgroundMessageHandler$(_context5){while(1){switch(_context5.prev=_context5.next){case 0:if(!((_Platform.default.OS==='ios'||_Platform.default.OS==='android')&&messaging)){_context5.next=18;break;}messaging().onNotificationOpenedApp(function(remoteMessage){console.log('Notification caused app to open from background state:',remoteMessage.notification);});_context5.next=4;return(0,_reduxSaga.eventChannel)(function(emit){messaging().setBackgroundMessageHandler(function(remoteMessage){emit(remoteMessage);});return function(){};},_reduxSaga.buffers.expanding(1));case 4:onMessageChannel=_context5.sent;_context5.prev=5;case 6:_context5.next=8;return(0,_effects.take)(onMessageChannel);case 8:remoteMessage=_context5.sent;console.log("New background Firebase message: ",remoteMessage);case 10:_context5.next=6;break;case 12:_context5.prev=12;_context5.next=15;return(0,_effects.cancelled)();case 15:if(!_context5.sent){_context5.next=17;break;}onMessageChannel.close();case 17:return _context5.finish(12);case 18:case"end":return _context5.stop();}}},_marked5,null,[[5,,12,18]]);}

/***/ }),

/***/ 760:
/***/ (function(module, exports, __webpack_require__) {

var _interopRequireDefault=__webpack_require__(2);Object.defineProperty(exports,"__esModule",{value:true});exports.firebaseService=void 0;var _regenerator=_interopRequireDefault(__webpack_require__(52));var _defineProperty2=_interopRequireDefault(__webpack_require__(11));var _asyncToGenerator2=_interopRequireDefault(__webpack_require__(62));var _Platform=_interopRequireDefault(__webpack_require__(18));var _Alert=_interopRequireDefault(__webpack_require__(257));var _Selectors=__webpack_require__(40);function ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);if(enumerableOnly)symbols=symbols.filter(function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable;});keys.push.apply(keys,symbols);}return keys;}function _objectSpread(target){for(var i=1;i<arguments.length;i++){var source=arguments[i]!=null?arguments[i]:{};if(i%2){ownKeys(Object(source),true).forEach(function(key){(0,_defineProperty2.default)(target,key,source[key]);});}else if(Object.getOwnPropertyDescriptors){Object.defineProperties(target,Object.getOwnPropertyDescriptors(source));}else{ownKeys(Object(source)).forEach(function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key));});}}return target;}var auth,messaging,database,firebase;if(_Platform.default.OS==='ios'||_Platform.default.OS==='android'){auth=__webpack_require__(180).default;messaging=__webpack_require__(261).default;database=__webpack_require__(380).default;}else{console.log("firebase load");var _firebase=__webpack_require__(147).default;__webpack_require__(184).default;__webpack_require__(296).default;__webpack_require__(381).default;firebase=_firebase;if(!firebase.apps.length){console.log("Starting");var Constants=__webpack_require__(382).default;console.log(Constants.manifest.web.config.firebase);_firebase.initializeApp(Constants.manifest.web.config.firebase);}auth=_firebase.auth;if(_firebase.messaging.isSupported()){messaging=_firebase.messaging;}database=_firebase.database;console.log("Started");}function isPermit_UserPermission(){return _isPermit_UserPermission.apply(this,arguments);}function _isPermit_UserPermission(){_isPermit_UserPermission=(0,_asyncToGenerator2.default)(_regenerator.default.mark(function _callee(){var authStatus,enabled;return _regenerator.default.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:console.log("permit test");if(!messaging){_context.next=9;break;}_context.next=4;return messaging().requestPermission();case 4:authStatus=_context.sent;enabled=authStatus===messaging.AuthorizationStatus.AUTHORIZED||authStatus===messaging.AuthorizationStatus.PROVISIONAL;if(enabled){_context.next=9;break;}console.log('Authorization status:',authStatus);return _context.abrupt("return",false);case 9:return _context.abrupt("return",true);case 10:case"end":return _context.stop();}}},_callee);}));return _isPermit_UserPermission.apply(this,arguments);}function requestUserPermission(){return new Promise(function(resolve,reject){if((_Platform.default.OS==="ios"||_Platform.default.OS=="android")&&!isPermit_UserPermission()){resolve('This application needs premissions to be using notifications');}resolve(null);});}function is_getToken(){return _is_getToken.apply(this,arguments);}function _is_getToken(){_is_getToken=(0,_asyncToGenerator2.default)(_regenerator.default.mark(function _callee2(){var fcmToken;return _regenerator.default.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:fcmToken="";if(!messaging){_context2.next=12;break;}_context2.prev=2;_context2.next=5;return messaging().getToken();case 5:fcmToken=_context2.sent;console.log('Device_token: ',fcmToken);_context2.next=12;break;case 9:_context2.prev=9;_context2.t0=_context2["catch"](2);console.log(_context2.t0);case 12:return _context2.abrupt("return",fcmToken);case 13:case"end":return _context2.stop();}}},_callee2,null,[[2,9]]);}));return _is_getToken.apply(this,arguments);}function requestFirebaseToken(){return new Promise(function(resolve,reject){var token;if(_Platform.default.OS==='ios'||_Platform.default.OS==='android'){try{token=is_getToken();}catch(_unused){}}else if(messaging&&messaging.isSupported()){try{token=is_getToken();}catch(_unused2){}}if(!token){resolve('Could not find Firebase messaging Token');}resolve(token);});}function wrappedAlert(title,message,okText,_cancelable){return new Promise(function(resolve){_Alert.default.alert(title,message,[{text:okText,onPress:function onPress(){resolve();}}],{cancelable:_cancelable,onDismiss:function onDismiss(){resolve();}});});}function createFirebaseUserWithemailandpassword(_ref){var Email=_ref.Email,Pass=_ref.Pass;return new Promise(function(resolve,reject){auth().createUserWithEmailAndPassword(Email,Pass).then(function(){var User=auth().currentUser;var Name=User.displayName?User.displayName:User.email;actionStarting(_Selectors.DataRefs.USERSDATA,_Selectors.Actions.UPDATE,{UserId:User.uid,Data:{name:Name,state:_Selectors.UserStates.STARTER}}).then(function(_data){User.updateProfile({displayName:Name}).then(function(data){User.sendEmailVerification().then(function(){resolve(null);}).catch(function(error){console.log("error in send EmailVerification",error);resolve({error:error.code,viewError:'Verification could not be send'});});}).catch(function(error){console.log("update profile");resolve({error:error.code,viewError:'Update error, please refresh'});});});}).catch(function(error){console.log("UserCreate Error: ",error);if(error.code==='auth/email-already-in-use'){resolve({error:error.code,viewError:'The email address is already in use.'});}else if(error.code==='auth/invalid-email'){resolve({error:error.code,viewError:'The email addres is invalid.'});}else if(error.code==='auth/weak-password'){resolve({error:error.code,viewError:error.message});}else{resolve({error:error.code,viewError:'Something went wrong'});}});});}function signinWithemailandpassword(_ref2){var Email=_ref2.Email,Pass=_ref2.Pass;if(auth().currentUser){if(auth().currentUser.email!=Email){var res=logoutUser();}else{return new Promise(function(resolve,reject){resolve(true);});}}return new Promise(function(resolve,reject){auth().signInWithEmailAndPassword(Email,Pass).then(function(){resolve(true);}).catch(function(error){console.log("User Signin Error: ",error);if(error.code==='auth/invalid-email'){resolve({error:error.code,viewError:'The email addres is invalid.'});}else{resolve({error:'Could not singin',viewError:'Could not singin'});}});});}function sendResetPassword(_ref3){var Email=_ref3.Email;return new Promise(function(resolve,reject){auth().sendPasswordResetEmail(Email).then(function(){resolve(true);}).catch(function(error){console.log("User resetPass error:",error);if(error.code==='auth/user-not-found'){}resolve(null);});});}function logoutUser(){return new Promise(function(resolve,reject){auth().signOut().then(function(){resolve({type:_Selectors.Actions.UPDATE,path:_Selectors.DataRefs.FIREBASEUSER,data:null});}).catch(function(error){console.log("User logout error:",error);resolve({type:_Selectors.Actions.UPDATE,path:_Selectors.DataRefs.FIREBASEUSER,data:null});});});}function refreshUser(){return new Promise(function(resolve,reject){var user=auth().currentUser;if(user){auth().currentUser.reload().then(function(data){user=auth().currentUser;console.log(data,user);});}resolve(null);});}function actionStarting(ref,action){var params=arguments.length>2&&arguments[2]!==undefined?arguments[2]:null;var CurrentUser=auth().currentUser;switch(ref){case _Selectors.DataRefs.USERSDATA:switch(action){case _Selectors.Actions.FETCH:return fetchUser(params);case _Selectors.Actions.CREATE:if(params.hasOwnProperty("UserData")){return new Promise(function(resolve,reject){var Data=params[0];createFarm({Data:{name:params.Farms.name}}).then(function(farmid){updateFarmData({FarmId:farmid,Data:{sections:params.Sections,pens:params.Pens}}).then(function(){updateUserData({Data:{state:params.UserData.state,farms:(0,_defineProperty2.default)({},farmid,true)}}).then(function(){fetchUser(CurrentUser.uid).then(function(data){var Data=data.data;resolve({type:_Selectors.Actions.UPDATE,path:_Selectors.DataRefs.FIREBASEUSER,data:Data});});});});});});}break;case _Selectors.Actions.UPDATE:return updateUserData(params);case _Selectors.Actions.SIGN:if(!params){return logoutUser();}else{if(params.hasOwnProperty("refresh")){return refreshUser();}else return signinWithemailandpassword(params);}break;case _Selectors.Actions.CLEAR:if(!CurrentUser){return{type:_Selectors.Actions.CLEAR,path:_Selectors.DataRefs.USERS,data:{}};}else{return{type:_Selectors.Actions.CLEAR,path:_Selectors.DataRefs.USERSDATA,data:{}};}break;}break;case _Selectors.DataRefs.USERS:switch(action){case _Selectors.Actions.FETCH:return fetchUser(params,true);case _Selectors.Actions.CREATE:if(params.hasOwnProperty("Email")&&params.hasOwnProperty("Pass"))return createFirebaseUserWithemailandpassword(params);else if(params.hasOwnProperty("Email"))return sendResetPassword(params);break;case _Selectors.Actions.UPDATE:return{type:_Selectors.Actions.UPDATE,path:_Selectors.DataRefs.FIREBASEUSER,data:params};case _Selectors.Actions.CLEAR:return{type:_Selectors.Actions.CLEAR,path:_Selectors.DataRefs.USERS,data:{}};}break;case _Selectors.DataRefs.FARMS:switch(action){case _Selectors.Actions.FETCH:return fetchFarm(params);case _Selectors.Actions.CREATE:break;case _Selectors.Actions.UPDATE:return updateFarm(params);case _Selectors.Actions.CLEAR:return{type:_Selectors.Actions.CLEAR,path:_Selectors.DataRefs.FARMS,data:{}};}break;case _Selectors.DataRefs.FARMDATAS:switch(action){case _Selectors.Actions.UPDATE:return updateFarmData(params);}break;case _Selectors.DataRefs.SECTIONS:switch(action){case _Selectors.Actions.FETCH:return fetchSections(params);case _Selectors.Actions.CREATE:break;case _Selectors.Actions.UPDATE:break;case _Selectors.Actions.CLEAR:return{type:_Selectors.Actions.CLEAR,path:_Selectors.DataRefs.SECTIONS,data:{}};}break;case _Selectors.DataRefs.PENS:switch(action){case _Selectors.Actions.FETCH:return fetchPens(params);case _Selectors.Actions.CREATE:return createNewPen(params);case _Selectors.Actions.DELETE:return deletePen(params);case _Selectors.Actions.UPDATE:return updatePen(params);case _Selectors.Actions.CLEAR:return{type:_Selectors.Actions.CLEAR,path:_Selectors.DataRefs.PENS,data:{}};}break;case _Selectors.DataRefs.PIGS:switch(action){case _Selectors.Actions.FETCH:return fetchPigs(params);case _Selectors.Actions.CREATE:return updatePigdata(params);case _Selectors.Actions.UPDATE:break;case _Selectors.Actions.CLEAR:return{type:_Selectors.Actions.CLEAR,path:_Selectors.DataRefs.PIGS,data:{}};}break;case _Selectors.DataRefs.BATCHS:switch(action){case _Selectors.Actions.FETCH:return fetchBatchs(params);case _Selectors.Actions.CREATE:return createBatchs(params);case _Selectors.Actions.UPDATE:return updateBatchs(params);case _Selectors.Actions.DELETE:break;case _Selectors.Actions.CLEAR:return{type:_Selectors.Actions.CLEAR,path:_Selectors.DataRefs.BATCHS,data:{}};}break;case _Selectors.DataRefs.WEIGHING:switch(action){case _Selectors.Actions.FETCH:return fetchWeights(params);case _Selectors.Actions.CREATE:return createWeight(params);case _Selectors.Actions.UPDATE:break;case _Selectors.Actions.CLEAR:return{type:_Selectors.Actions.CLEAR,path:_Selectors.DataRefs.WEIGHING,data:{}};}break;case _Selectors.DataRefs.COMMENTS:switch(action){case _Selectors.Actions.FETCH:return fetchComments(params);case _Selectors.Actions.CREATE:return createComment(params);}break;case _Selectors.DataRefs.GRAPH:switch(action){case _Selectors.Actions.FETCH:return fetchGraphData(params);case _Selectors.Actions.CREATE:return updateGraphData(params);case _Selectors.Actions.UPDATE:return updateGraphData(params);case _Selectors.Actions.CLEAR:return{type:_Selectors.Actions.CLEAR,path:_Selectors.DataRefs.GRAPH,data:{}};}break;}return new Promise(function(resolve,reject){resolve({error:"Unknown Action"});});}function SetUpdateTime(DataRef){return new Promise(function(resolve,reject){console.log("Setting Update Time");database().ref(DataRef).update({update_time:database.ServerValue.TIMESTAMP}).then(function(){resolve(true);}).catch(function(error){console.log(error);resolve(true);});});}function CheckDataTime(DataRef,DataTime){return new Promise(function(resolve,reject){if(!DataTime)resolve(true);database().ref(DataRef+"/update_time").once('value').then(function(_Time){var UpdateTime=_Time.val();if(!UpdateTime){SetUpdateTime(DataRef).then(function(res){resolve(true);});}else{if(DataTime){if(DataTime==="SET"){SetUpdateTime(DataRef).then(function(res){resolve(res);});}else if(DataTime<UpdateTime){resolve(true);}else resolve(false);}else resolve(true);}});});}function fetchUser(_ref4){var UserId=_ref4.UserId;var List=arguments.length>1&&arguments[1]!==undefined?arguments[1]:false;var user="";if(UserId)user=UserId;else if(!List&&auth().currentUser)user=auth().currentUser.uid;if(user||List){var ref="users/"+user;return new Promise(function(resolve,reject){database().ref(ref).once('value').then(function(userData){var data=userData.val();if(!List){resolve({type:_Selectors.Actions.UPDATE,path:_Selectors.DataRefs.FIREBASEUSER,data:{data:data}});}else{resolve({type:_Selectors.Actions.UPDATE,path:_Selectors.DataRefs.USERS,data:{data:data}});}}).catch(function(error){console.log(error);if(error.code==='database/permission-denied'){console.log("User update was permission denied. ");}else if(error.code){console.log("User update Error: ",error);}resolve({error:"An error occurred"});});});}else return new Promise(function(resolve,reject){console.log("User uid in fecth unknown");resolve(null);});}function updateUserData(_ref5){var UserId=_ref5.UserId,Data=_ref5.Data;var user=UserId?UserId:auth().currentUser.uid;if(user){var ref="users/"+user;return new Promise(function(resolve,reject){database().ref(ref).update(Data).then(function(data){resolve(null);}).catch(function(error){if(error.code==='database/permission-denied'){console.log("User update was permission denied. ");}else if(error.code){console.log("User update Error: ",error);}resolve({error:"An error occurred"});});});}else return new Promise(function(resolve,reject){console.log("User uid in fecth unknown");resolve(null);});}function fetchFarm(_ref6){var FarmId=_ref6.FarmId;var ref="farms/"+FarmId;return database().ref(ref).once('value').then(function(_farmData){var data=_farmData.val();if(FarmId){data=(0,_defineProperty2.default)({},FarmId,data);}return{type:_Selectors.Actions.UPDATE,path:_Selectors.DataRefs.FARMS,data:data};});}function updateFarm(_ref7){var FarmId=_ref7.FarmId,Data=_ref7.Data;return new Promise(function(resolve,reject){if(FarmId){database().ref('farms/'+FarmId).update(_objectSpread({},Data)).then(function(){resolve(null);}).catch(function(error){console.log("Create Farm Error: ",error);resolve(false);});}else{var farm=database().ref('farms/').push();var farmid=farm.key;farm.set({Data:Data}).then(function(){resolve(farmid);}).catch(function(error){console.log("Create Farm Error: ",error);resolve(false);});}});}function createFarm(_ref8){var Data=_ref8.Data;var user=auth().currentUser;var ref="users/"+user.uid;return new Promise(function(resolve,reject){var farm=database().ref('farms/').push();var farmid=farm.key;farm.set({email:user.email,manager:user.displayName?user.displayName:user.email,name:Data.name}).then(function(){resolve(farmid);}).catch(function(error){console.log("Create Farm Error: ",error);resolve(false);});});}function updateFarmData(_ref9){var FarmId=_ref9.FarmId,Data=_ref9.Data;if(FarmId){var ref="farms_data/"+FarmId;return new Promise(function(resolve,reject){database().ref(ref).update(Data).then(function(){resolve(null);}).catch(function(error){if(error.code==='database/permission-denied'){console.log("Farm data update was permission denied.");}else if(error.code){console.log("User update Error: ",error);}resolve(false);});});}else return new Promise(function(resolve,reject){console.log("Farm uid in fecth unknown");resolve(null);});}function fetchSections(_ref10){var FarmId=_ref10.FarmId,SectionId=_ref10.SectionId,DataTime=_ref10.DataTime;if(FarmId){var ref="farms_data/"+FarmId+"/sections";if(SectionId){ref+="/"+SectionId;}return new Promise(function(resolve,reject){CheckDataTime("farms_data/"+FarmId+"/sections",DataTime).then(function(DoFetch){if(DoFetch){console.log("Sections fetch called");return database().ref(ref).once('value').then(function(_sectionidData){resolve({type:_Selectors.Actions.UPDATE,path:_Selectors.DataRefs.SECTIONS,data:_sectionidData.val()});});}else{resolve(null);}});});}return new Promise(function(resolve,reject){console.log("Fecth Sections Error");resolve(null);});}function fetchPens(_ref11){var FarmId=_ref11.FarmId,PenId=_ref11.PenId,DataTime=_ref11.DataTime;if(FarmId){var ref="farms_data/"+FarmId+"/pens";if(PenId){ref+="/"+PenId;}return new Promise(function(resolve,reject){CheckDataTime("farms_data/"+FarmId+"/pens",DataTime).then(function(DoFetch){if(DoFetch){console.log("Pens fetch Called");database().ref(ref).once('value').then(function(_pensData){if(PenId){var penData=_pensData.val();if(!penData)penData={};if(!penData.datas)penData.datas={};var pen=(0,_defineProperty2.default)({},PenId,penData);resolve({type:_Selectors.Actions.UPDATE,path:_Selectors.DataRefs.PENS,data:pen});}else{resolve({type:_Selectors.Actions.UPDATE,path:_Selectors.DataRefs.PENS,data:_pensData.val()});}});}else{resolve(null);}});});}return new Promise(function(resolve,reject){console.log("Fecth Pens Error");resolve(null);});}function createNewPen(_ref12){var FarmId=_ref12.FarmId,PenId=_ref12.PenId,SectionId=_ref12.SectionId;if(FarmId){var ref="farms_data/"+FarmId+"/";return new Promise(function(resolve,reject){if(PenId){var ref2=ref+"pens/"+PenId+"/";database().ref(ref2).set({section:SectionId}).then(function(){database().ref(ref+"sections/"+SectionId+"/pens").update((0,_defineProperty2.default)({},PenId,true)).then(function(){database().ref(ref+"sections/").update({update_time:database.ServerValue.TIMESTAMP}).then(function(){fetchPens({FarmId:FarmId,PenId:PenId,DataTime:"SET"}).then(function(_Pen){resolve({type:_Selectors.Actions.UPDATE,path:_Selectors.DataRefs.PENS,data:_Pen.data});});});});});}});}}function deletePen(_ref13){var FarmId=_ref13.FarmId,PenId=_ref13.PenId,SectionId=_ref13.SectionId;if(FarmId&&PenId){var ref="farms_data/"+FarmId+"/";return new Promise(function(resolve,reject){database().ref(ref+"pens/"+PenId).remove().then(function(){if(SectionId){database().ref(ref+"sections/"+SectionId+"/pens/"+PenId).remove().then(function(){database().ref(ref+"sections/").update({update_time:database.ServerValue.TIMESTAMP}).then(function(){fetchPens({FarmId:FarmId,PenId:PenId,DataTime:"SET"}).then(function(_Pen){resolve({type:_Selectors.Actions.UPDATE,path:_Selectors.DataRefs.PENS,data:_Pen.data});});});});}else{resolve(null);}});});}}function updatePen(_ref14){var FarmId=_ref14.FarmId,PenId=_ref14.PenId,Pen=_ref14.Pen;if(FarmId){var ref="farms_data/"+FarmId+"/";return new Promise(function(resolve,reject){if(PenId){fetchPens({FarmId:FarmId,PenId:PenId}).then(function(_Pen){var ref2=ref+"pens/"+PenId+"/";var data=Pen.datas;var Datas=_objectSpread(_objectSpread({},_Pen.data[PenId].datas),data);database().ref(ref2).update(_objectSpread(_objectSpread({},Pen),{},{datas:Datas})).then(function(){if(Pen.section){database().ref(ref+"sections/"+SectionId+"/pens").update((0,_defineProperty2.default)({},PenId,true)).then(function(){database().ref(ref+"sections/").update({update_time:database.ServerValue.TIMESTAMP}).then(function(){resolve(null);});});}});});}});}}function fetchPigs(_ref15){var FarmId=_ref15.FarmId,TagId=_ref15.TagId;if(FarmId){var ref="farms_data/"+FarmId+"/pigs";if(TagId){ref+="/"+TagId;}return database().ref(ref).once('value').then(function(_pigsData){if(TagId){var pigData=_pigsData.val();if(!pigData)return null;if(!pigData.datas)pigData.datas={};if(!pigData.datas.gcurve)pigData.datas.gcurve="default";var pig=(0,_defineProperty2.default)({},TagId,pigData);return{type:_Selectors.Actions.UPDATE,path:_Selectors.DataRefs.PIGS,data:pig};}else{return{type:_Selectors.Actions.UPDATE,path:_Selectors.DataRefs.PIGS,data:_pigsData.val()};}});}return new Promise(function(resolve,reject){console.log("Fecth Pigs Error");resolve(null);});}function updatePigPen(_ref16){var FarmId=_ref16.FarmId,TagId=_ref16.TagId,PenId=_ref16.PenId,Action=_ref16.Action;if(PenId){var ref2="farms_data/"+FarmId+"/"+"pens/"+PenId+"/datas";return new Promise(function(resolve,reject){database().ref(ref2+"/count").once('value').then(function(counts){var val=counts.val();if(!val)val=0;if(Action&&!isNaN(Action)){val=parseInt(val)+parseInt(Action);}else{val=parseInt(val)+1;}database().ref(ref2).update({count:val}).then(function(){fetchPens({FarmId:FarmId,PenId:PenId}).then(function(pen){resolve({type:_Selectors.Actions.UPDATE,path:_Selectors.DataRefs.PENS,data:pen.data});});});}).catch(function(error){console.log("Update pig pen Error: ",error);resolve(null);});});}else{return new Promise(function(resolve,reject){resolve(null);});}}function updatePigdata(_ref17){var FarmId=_ref17.FarmId,TagId=_ref17.TagId,PenId=_ref17.PenId,Action=_ref17.Action;if(FarmId){var ref="farms_data/"+FarmId+"/";if(TagId){return new Promise(function(resolve,reject){var ref2=ref+"pigs/"+TagId+"/";fetchPigs({FarmId:FarmId,TagId:TagId}).then(function(pig){if(pig&&pig.data){pig=pig.data[TagId]?pig.data[TagId]:null;}if(!pig||!pig.hasOwnProperty('pen')){database().ref(ref2).update({pen:0}).then(function(){fetchPigs({FarmId:FarmId}).then(function(pigs){console.log("?",pigs);resolve(null);});});}else if(PenId&&PenId!=pig.pen){updatePigPen({FarmId:FarmId,TagId:TagId,PenId:pig.pen,Action:-1}).then(function(data){updatePigPen({FarmId:FarmId,TagId:TagId,PenId:PenId,Action:+1}).then(function(data){database().ref(ref2).update({pen:PenId}).then(function(){fetchPigs({FarmId:FarmId}).then(function(pigs){resolve({type:_Selectors.Actions.UPDATE,path:_Selectors.DataRefs.PIGS,data:pigs.data});});});});});}else{resolve(null);}});});}else{return new Promise(function(resolve,reject){updatePigPen({FarmId:FarmId,TagId:TagId,PenId:PenId,Action:Action}).then(function(data){resolve({type:_Selectors.Actions.UPDATE,path:_Selectors.DataRefs.PENS,data:data.data});});});}}}function fetchBatchs(_ref18){var FarmId=_ref18.FarmId,BatchId=_ref18.BatchId,Data=_ref18.Data,DataTime=_ref18.DataTime;if(FarmId){var ref="farms_data/"+FarmId+"/batchs";if(BatchId){ref+="/"+BatchId;}return new Promise(function(resolve,reject){CheckDataTime("farms_data/"+FarmId+"/batchs",DataTime).then(function(DoFetch){if(DoFetch){if(!Data){database().ref(ref).once('value').then(function(_batchdata){if(BatchId){var batchdata=_batchdata.val();if(!batchdata)return null;if(!batchdata.datas)batchdata.datas={};if(!batchdata.pens)batchdata.pens=[];if(!batchdata.datas.gcurve)batchdata.datas.gcurve="default";var batch=(0,_defineProperty2.default)({},BatchId,batchdata);resolve({type:_Selectors.Actions.UPDATE,path:_Selectors.DataRefs.BATCHS,data:batch});}else{resolve({type:_Selectors.Actions.UPDATE,path:_Selectors.DataRefs.BATCHS,data:_batchdata.val()});}});}else if(BatchId){switch(Data){case _Selectors.DataRefs.BATCHS:ref+="/"+"datas";return database().ref(ref).once('value').then(function(_batchdata){var data=(0,_defineProperty2.default)({},BatchId,{datas:_batchdata.val()});resolve({type:_Selectors.Actions.UPDATE,path:_Selectors.DataRefs.BATCHS,data:data});});case _Selectors.DataRefs.PENS:ref+="/"+"pens";return database().ref(ref).once('value').then(function(_batchdata){var pens=(0,_defineProperty2.default)({},BatchId,{pens:_batchdata.val()});resolve({type:_Selectors.Actions.UPDATE,path:_Selectors.DataRefs.BATCHS,data:pens});});case _Selectors.DataRefs.GRAPH:ref+="/"+"gcurve";return database().ref(ref).once('value').then(function(_batchdata){var curve=(0,_defineProperty2.default)({},BatchId,{gcurve:_batchdata.val()});resolve({type:_Selectors.Actions.UPDATE,path:_Selectors.DataRefs.BATCHS,data:curve});});}}}else{resolve(null);}});});}return new Promise(function(resolve,reject){console.log("Fecth Batchs Error");resolve(null);});}function createBatchs(_ref19){var FarmId=_ref19.FarmId,BatchId=_ref19.BatchId,Batch=_ref19.Batch;if(FarmId){var ref="farms_data/"+FarmId+"/batchs";return new Promise(function(resolve,reject){if(Batch&&Batch.name){BatchId=Batch.name;ref+="/"+Batch.name+"/";delete Batch.name;database().ref(ref).set(_objectSpread({},Batch)).then(function(){Object.keys(Batch.pens).forEach(function(pen){updatePen({FarmId:FarmId,PenId:pen,Pen:{datas:{batch:BatchId}}});});resolve(fetchBatchs({FarmId:FarmId,DataTime:"SET"}));}).catch(function(error){if(error.code==='database/permission-denied'){console.log("Batch update was permission denied. ");}else if(error.code){console.log("Batch update Error: ",error);}resolve({error:"An error occurred"});});}else if(BatchId){console.log("???");ref+="/"+BatchId+"/";database().ref(ref).set({time:database.ServerValue.TIMESTAMP,pens:[],datas:{devianceMin:1,devianceMax:2}}).then(function(){resolve(fetchBatchs({FarmId:FarmId,DataTime:"SET"}));});}});}}function updateBatchs(_ref20){var FarmId=_ref20.FarmId,BatchId=_ref20.BatchId,Batch=_ref20.Batch,Data=_ref20.Data;if(FarmId){var ref="farms_data/"+FarmId+"/batchs";return new Promise(function(resolve,reject){if(BatchId&&Batch){ref+="/"+BatchId;fetchBatchs({FarmId:FarmId,BatchId:BatchId,Data:_Selectors.DataRefs.PENS}).then(function(_batch){var Pens=_batch.data[BatchId].pens;if(Batch.name)delete Batch.name;var BatchPens={};if(Batch.pens&&JSON.stringify(Batch.pens)!==JSON.stringify(Pens)){if(!Pens)Pens=[];var RemovedPens=Object.keys(Pens).filter(function(x){return!Object.keys(Batch.pens).includes(x)&&!Pens[x].enddate;});var NewPens=Object.keys(Batch.pens).filter(function(x){return!Object.keys(Pens).includes(x)||Pens[x].enddate;});var SamePens=Object.keys(Pens).filter(function(x){return!Object.keys(RemovedPens).includes(x)&&!Object.keys(NewPens).includes(x);});if(RemovedPens&&RemovedPens.length>0){RemovedPens.forEach(function(pen){if(Pens[pen]){var Pen=Pens[pen];Pen.enddate=Date.now();BatchPens[pen]=Pen;fetchPens({FarmId:FarmId,PenId:pen}).then(function(pendata){var count=0;if(pendata.data[pen]&&pendata.data[pen].datas&&pendata.data[pen].datas.count)count=pendata.data[pen].datas.count;BatchPens[pen].count=count;});updatePen({FarmId:FarmId,PenId:pen,Pen:{datas:{batch:""}}});}});}if(NewPens&&NewPens.length>0){NewPens.forEach(function(pen){var Pen=Pens[pen]?Pens[pen]:{startdate:Date.now()};if(Pen.enddate)delete Pen.enddate;BatchPens[pen]=Pen;updatePen({FarmId:FarmId,PenId:pen,Pen:{datas:{batch:BatchId}}});});}if(SamePens&&SamePens.length>0){SamePens.forEach(function(pen){BatchPens[pen]=Pens[pen];});}}Batch.pens=BatchPens;if(Batch.state&&Batch.state==="Closed"){fetchBatchs({FarmId:FarmId,BatchId:BatchId,Data:_Selectors.DataRefs.GRAPH}).then(function(curve){var CurveId=curve.data[BatchId].gcurve;fetchGraphData({FarmId:FarmId}).then(function(curve){Batch.gcurve=curve.data[CurveId];Batch.closed={comments:[],weighings:[]};var _loop=function _loop(i,_p){_p=_p.then(function(_){return new Promise(function(_resolve){setTimeout(function(){if(i!==Object.keys(Pens).length){var PenId=Object.keys(Pens)[i];Batch.pens[PenId]=Pens[PenId];fetchPens({FarmId:FarmId,PenId:PenId}).then(function(pendata){var count=0;if(pendata.data[PenId]&&pendata.data[PenId].datas&&pendata.data[PenId].datas.count)count=pendata.data[PenId].datas.count;Batch.pens[PenId].count=count;});if(!Batch.pens[PenId].enddate){Batch.pens[PenId].enddate=Date.now();}updatePen({FarmId:FarmId,PenId:PenId,Pen:{datas:{batch:"",count:0}}});fetchComments({FarmId:FarmId,PenId:PenId}).then(function(comments){Batch.closed.comments[PenId]=comments.data[PenId];database().ref("farms_data/"+FarmId+"/datas/comments/"+PenId).remove();fetchWeights({FarmId:FarmId,PenId:PenId}).then(function(weights){Batch.closed.weighings[PenId]=weights.data[PenId];database().ref("farms_data/"+FarmId+"/weighings/"+PenId).remove();_resolve();});});}else{database().ref(ref).update(_objectSpread({},Batch)).then(function(){database().ref(ref+"/closed").set(Batch.closed).then(function(){fetchBatchs({FarmId:FarmId,BatchId:BatchId,DataTime:"SET"}).then(function(data){resolve(data);});}).catch(function(error){if(error.code==='database/permission-denied'){console.log("Batch update was permission denied. ");}else if(error.code){console.log("Batch update Error: ",error);}console.log(error);resolve({error:"An error occurred"});});});}});});});p=_p;};for(var i=0,p=Promise.resolve();i<=Object.keys(Pens).length;i++){_loop(i,p);}});});}else{database().ref(ref).update(_objectSpread({},Batch)).then(function(){fetchBatchs({FarmId:FarmId,BatchId:BatchId,DataTime:"SET"}).then(function(data){resolve(data);});}).catch(function(error){if(error.code==='database/permission-denied'){console.log("Batch update was permission denied. ");}else if(error.code){console.log("Batch update Error: ",error);}console.log(error);resolve({error:"An error occurred"});});}});}else{console.log("Update Batchs Error");resolve(null);}});}}function fetchWeights(_ref21){var FarmId=_ref21.FarmId,PenId=_ref21.PenId,SectionId=_ref21.SectionId,_ref21$limitStart=_ref21.limitStart,limitStart=_ref21$limitStart===void 0?0:_ref21$limitStart,_ref21$limitTo=_ref21.limitTo,limitTo=_ref21$limitTo===void 0?9999:_ref21$limitTo,DataTime=_ref21.DataTime,MemSections=_ref21.MemSections;if(FarmId){var ref="farms_data/"+FarmId+"/weighings";return new Promise(function(resolve,reject){CheckDataTime("farms_data/"+FarmId+"/weighings",DataTime).then(function(DoFetch){if(DoFetch){if(PenId){console.log("Weight fetch called, getting Pen");ref+="/"+PenId;database().ref(ref).orderByChild('time').limitToLast(limitTo).once('value',function(snapshot){var weighing=(0,_defineProperty2.default)({},snapshot.key,{});snapshot.forEach(function(c){weighing[snapshot.key][c.key]=c.val();});resolve({type:_Selectors.Actions.UPDATE,path:_Selectors.DataRefs.WEIGHING,data:weighing});});}else{console.log("Weight fetch called, getting Sections");database().ref(ref+"/update_time").once('value').then(function(_weighingTime){var Weighings_Time=_weighingTime.val();fetchSections({FarmId:FarmId,SectionId:SectionId,DataTime:MemSections?MemSections.update_time:null}).then(function(sections){var itemsProcessed=0;var length=0;var newWeights={};var Sections=sections?sections.data:MemSections;Object.keys(Sections).forEach(function(section){if(Sections[section]&&Sections[section].pens){length+=Object.keys(Sections[section].pens).filter(function(e){return e!=='__jsogObjectId';}).length;Object.keys(Sections[section].pens).filter(function(e){return e!=='__jsogObjectId';}).forEach(function(pen){fetchWeights({FarmId:FarmId,PenId:pen,limitStart:0,limitTo:limitTo}).then(function(weights){itemsProcessed++;newWeights=_objectSpread(_objectSpread({},newWeights),weights.data);if(itemsProcessed===length){newWeights.update_time=Weighings_Time;resolve({type:_Selectors.Actions.UPDATE,path:_Selectors.DataRefs.WEIGHING,data:newWeights});}}).catch(function(error){console.log(error);resolve({type:_Selectors.Actions.UPDATE,path:_Selectors.DataRefs.WEIGHING,data:newWeights});});});}});}).catch(function(error){console.log(error);});});}}else{resolve(null);}});});}return new Promise(function(resolve,reject){console.log("Fecth Weights Error");resolve(null);});}function createWeight(_ref22){var FarmId=_ref22.FarmId,PenId=_ref22.PenId,Weight=_ref22.Weight,Quantity=_ref22.Quantity,Date=_ref22.Date;if(FarmId){var ref="farms_data/"+FarmId+"/weighings";if(PenId){ref+="/"+PenId+"/";return new Promise(function(resolve,reject){var weightRef=database().ref(ref).push();var weightId=weightRef.key;weightRef.set({time:Date,weight:Weight,count:Quantity}).then(function(){fetchWeights({FarmId:FarmId,PenId:PenId,DataTime:"SET"}).then(function(weights){resolve(weights);});}).catch(function(error){console.log("Create Weight Error: ",error);resolve(null);});});}}}function fetchComments(_ref23){var FarmId=_ref23.FarmId,PenId=_ref23.PenId,_ref23$limitStart=_ref23.limitStart,limitStart=_ref23$limitStart===void 0?0:_ref23$limitStart,_ref23$limitTo=_ref23.limitTo,limitTo=_ref23$limitTo===void 0?5:_ref23$limitTo;if(FarmId){var ref="farms_data/"+FarmId+"/datas/comments";return new Promise(function(resolve,reject){if(PenId){ref+="/"+PenId;database().ref(ref).orderByChild('time').limitToLast(limitTo).once('value',function(snapshot){var comment=(0,_defineProperty2.default)({},snapshot.key,{});snapshot.forEach(function(c){comment[snapshot.key][c.key]=c.val();});resolve({type:_Selectors.Actions.UPDATE,path:_Selectors.DataRefs.COMMENTS,data:comment});});}else{}});}return new Promise(function(resolve,reject){console.log("Fecth Weights Error");resolve(null);});}function createComment(_ref24){var FarmId=_ref24.FarmId,PenId=_ref24.PenId,Action=_ref24.Action,Data=_ref24.Data,Quantity=_ref24.Quantity,Weight=_ref24.Weight;if(FarmId){var ref="farms_data/"+FarmId+"/datas/comments";if(PenId){ref+="/"+PenId+"/";return new Promise(function(resolve,reject){var commentRef=database().ref(ref).push();var commentId=commentRef.key;commentRef.set({time:database.ServerValue.TIMESTAMP,user:auth().currentUser.email,action:Action,quantity:Quantity,weight:Weight,data:Data}).then(function(){fetchComments({FarmId:FarmId,PenId:PenId}).then(function(weights){resolve(weights);});}).catch(function(error){console.log("Create Comment Error: ",error);resolve(null);});});}else{}}return new Promise(function(resolve,reject){console.log("Fecth Graph Error");resolve(null);});}function fetchGraphData(_ref25){var FarmId=_ref25.FarmId,GraphId=_ref25.GraphId,DataTime=_ref25.DataTime;if(FarmId){var ref="farms_data/"+FarmId+"/graph";ref=ref+"/"+GraphId;return new Promise(function(resolve,reject){CheckDataTime("farms_data/"+FarmId+"/graph",DataTime).then(function(DoFetch){console.log("Doing Graphs fetch",DoFetch,"Always..");database().ref(ref).once('value').then(function(graph){var Graphs=null;var GraphVal=graph.val();if(GraphVal){if(GraphId){var newGraph=(0,_defineProperty2.default)({},graph.key,GraphVal);Graphs=_objectSpread(_objectSpread({},Graphs),newGraph);}else{Graphs=_objectSpread(_objectSpread({},Graphs),GraphVal);}}if(!GraphId){database().ref("farms_data/Agrisys/graph").once('value').then(function(Agraph){var AgraphVal=Agraph.val();if(AgraphVal){Graphs=_objectSpread(_objectSpread({},AgraphVal),Graphs);}resolve({type:_Selectors.Actions.UPDATE,path:_Selectors.DataRefs.GRAPH,data:Graphs});}).catch(function(error){console.log("Get Agrisys graph Error: ",error);resolve({type:_Selectors.Actions.UPDATE,path:_Selectors.DataRefs.GRAPH,data:Graphs});});}else{resolve({type:_Selectors.Actions.UPDATE,path:_Selectors.DataRefs.GRAPH,data:Graphs});}}).catch(function(error){console.log("Get farm graph Error: ",error);resolve(null);});});});}return new Promise(function(resolve,reject){console.log("Fecth Graph Error");resolve(null);});}function updateGraphData(_ref26){var FarmId=_ref26.FarmId,Graph=_ref26.Graph;if(FarmId){var ref="farms_data/"+FarmId+"/graph";if(Graph.name){ref+="/"+Graph.name+"/";return new Promise(function(resolve,reject){database().ref(ref).update({data:Graph.data,periode:Graph.periode}).then(function(){fetchGraphData({FarmId:FarmId,GraphId:Graph.name}).then(function(_Graph){resolve(_Graph);});}).catch(function(error){console.log("Create Graph Error: ",error);resolve(null);});});}}}var firebaseService={requestUserPermission:requestUserPermission,requestFirebaseToken:requestFirebaseToken,wrappedAlert:wrappedAlert,createFirebaseUserWithemailandpassword:createFirebaseUserWithemailandpassword,signinWithemailandpassword:signinWithemailandpassword,sendResetPassword:sendResetPassword,logoutUser:logoutUser,refreshUser:refreshUser,actionStarting:actionStarting};exports.firebaseService=firebaseService;

/***/ }),

/***/ 80:
/***/ (function(module, exports, __webpack_require__) {

var _interopRequireDefault=__webpack_require__(2);Object.defineProperty(exports,"__esModule",{value:true});exports.default=void 0;var _StyleSheet=_interopRequireDefault(__webpack_require__(12));var _Theme=__webpack_require__(22);var _default=_StyleSheet.default.create({});exports.default=_default;

/***/ }),

/***/ 806:
/***/ (function(module, exports, __webpack_require__) {

var _interopRequireDefault=__webpack_require__(2);Object.defineProperty(exports,"__esModule",{value:true});exports.consysService=void 0;var _axios=_interopRequireDefault(__webpack_require__(368));var _Config=__webpack_require__(254);var _ramda=__webpack_require__(474);var isWithin=(0,_ramda.curryN)(3,function(min,max,value){var isNumber=(0,_ramda.is)(Number);return isNumber(min)&&isNumber(max)&&isNumber(value)&&(0,_ramda.gte)(value,min)&&(0,_ramda.gte)(max,value);});var in200s=isWithin(200,299);function Create_Axios(baseURL){var Acc_Token=arguments.length>1&&arguments[1]!==undefined?arguments[1]:null;var Consys_ApiClient;if(Acc_Token){Consys_ApiClient=_axios.default.create({baseURL:baseURL,headers:{Accept:'application/json','Content-Type':'application/json','Authorization':"Bearer "+Acc_Token},timeout:3000});}else{Consys_ApiClient=_axios.default.create({baseURL:baseURL,headers:{Accept:'application/json','Content-Type':'application/json'},timeout:3000});}return Consys_ApiClient;}function getAccessToken(SiteUrl,Ref_Token){return new Promise(function(resolve,reject){Create_Axios((0,_Config.GetToken_URL)(SiteUrl,Ref_Token)).get().then(function(response){if(response&&response.data&&response.data.access_token){resolve(response.data.access_token);}else{resolve(null);}});});}function checkRenew_AccessToken(SiteUrl,Ref_Token){var Acc_Token=arguments.length>2&&arguments[2]!==undefined?arguments[2]:null;return new Promise(function(resolve,reject){if(Acc_Token){Create_Axios((0,_Config.GetCheckToken_URL)(SiteUrl),Acc_Token).get().then(function(response){if(response.status===200){resolve(Acc_Token);}else{resolve(getAccessToken(SiteUrl,Ref_Token));}});}else{resolve(getAccessToken(SiteUrl,Ref_Token));}});}function fetch_ValveConsumption(SiteUrl,Ref_Token,limit){var SystemId=arguments.length>3&&arguments[3]!==undefined?arguments[3]:1;var starttime=arguments.length>4&&arguments[4]!==undefined?arguments[4]:null;var stoptime=arguments.length>5&&arguments[5]!==undefined?arguments[5]:null;var offset=arguments.length>6&&arguments[6]!==undefined?arguments[6]:null;var lastid=arguments.length>7&&arguments[7]!==undefined?arguments[7]:null;var Acc_Token=arguments.length>8&&arguments[8]!==undefined?arguments[8]:null;return new Promise(function(resolve,reject){if(!SystemId)SystemId=1;checkRenew_AccessToken(SiteUrl,Ref_Token,Acc_Token).then(function(Token){if(Token){var baseURL=(0,_Config.GetConsumtionData_URL)(SiteUrl,100,SystemId,offset,limit,starttime,stoptime,lastid);console.log("fetch",baseURL,Token);Create_Axios(baseURL,Token).get().then(function(response){if(response&&response.data){var Feed_Data={};var ResData=response.data;if(ResData.result==="OK"){if(ResData.consumptiondata){ResData.consumptiondata.forEach(function(element){var weight=element.amount/1000;Feed_Data[element.dataid]={valve:element.valve,unit:element.unit,silono:element.silono,amount:weight,timestamp:element.timestamp};});}}resolve({data:Feed_Data,token:Token});}else{resolve(null);}}).catch(function(error){console.log("fetch consumption Error: ",error);resolve(null);});}else{resolve(null);}});});}function fetch_AutoPig(SiteUrl,Ref_Token,limit){var SystemId=arguments.length>3&&arguments[3]!==undefined?arguments[3]:1;var starttime=arguments.length>4&&arguments[4]!==undefined?arguments[4]:null;var stoptime=arguments.length>5&&arguments[5]!==undefined?arguments[5]:null;var offset=arguments.length>6&&arguments[6]!==undefined?arguments[6]:null;var lastid=arguments.length>7&&arguments[7]!==undefined?arguments[7]:null;var Acc_Token=arguments.length>8&&arguments[8]!==undefined?arguments[8]:null;return new Promise(function(resolve,reject){if(!SystemId)SystemId=1;checkRenew_AccessToken(SiteUrl,Ref_Token,Acc_Token).then(function(Token){if(Token){var baseURL=(0,_Config.GetConsumtionData_URL)(SiteUrl,700,SystemId,offset,limit,starttime,stoptime,lastid);console.log("fetch",baseURL,Token);Create_Axios(baseURL,Token).get().then(function(response){console.log(response);if(response&&response.data){var Scale_Data={};var ResData=response.data;console.log(ResData);if(ResData.result==="OK"){if(ResData.consumptiondata){ResData.consumptiondata.forEach(function(element){var weight=element.amount/1000;Scale_Data[element.dataid]={amount:weight,timestamp:element.timestamp};});}}resolve({data:Scale_Data,token:Token});}else{resolve(null);}}).catch(function(error){console.log("fetch AutoPig Error: ",error);resolve(null);});}else{resolve(null);}});});}var consysService={fetch_ValveConsumption:fetch_ValveConsumption,fetch_AutoPig:fetch_AutoPig};exports.consysService=consysService;

/***/ }),

/***/ 807:
/***/ (function(module, exports, __webpack_require__) {

var _interopRequireDefault=__webpack_require__(2);Object.defineProperty(exports,"__esModule",{value:true});exports.reducer=exports.fetchUserFailure=exports.fetchUserSuccess=exports.fetchUserLoading=void 0;var _defineProperty2=_interopRequireDefault(__webpack_require__(11));var _InitialState=__webpack_require__(808);var _reduxsauce=__webpack_require__(77);var _Actions=__webpack_require__(140);var _createReducer;function ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);if(enumerableOnly)symbols=symbols.filter(function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable;});keys.push.apply(keys,symbols);}return keys;}function _objectSpread(target){for(var i=1;i<arguments.length;i++){var source=arguments[i]!=null?arguments[i]:{};if(i%2){ownKeys(Object(source),true).forEach(function(key){(0,_defineProperty2.default)(target,key,source[key]);});}else if(Object.getOwnPropertyDescriptors){Object.defineProperties(target,Object.getOwnPropertyDescriptors(source));}else{ownKeys(Object(source)).forEach(function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key));});}}return target;}var fetchUserLoading=function fetchUserLoading(state){return _objectSpread(_objectSpread({},state),{},{userIsLoading:true,userErrorMessage:null});};exports.fetchUserLoading=fetchUserLoading;var fetchUserSuccess=function fetchUserSuccess(state,_ref){var user=_ref.user;return _objectSpread(_objectSpread({},state),{},{user:user,userIsLoading:false,userErrorMessage:null});};exports.fetchUserSuccess=fetchUserSuccess;var fetchUserFailure=function fetchUserFailure(state,_ref2){var errorMessage=_ref2.errorMessage;return _objectSpread(_objectSpread({},state),{},{user:{},userIsLoading:false,userErrorMessage:errorMessage});};exports.fetchUserFailure=fetchUserFailure;var reducer=(0,_reduxsauce.createReducer)(_InitialState.INITIAL_STATE,(_createReducer={},(0,_defineProperty2.default)(_createReducer,_Actions.ExampleTypes.FETCH_USER_LOADING,fetchUserLoading),(0,_defineProperty2.default)(_createReducer,_Actions.ExampleTypes.FETCH_USER_SUCCESS,fetchUserSuccess),(0,_defineProperty2.default)(_createReducer,_Actions.ExampleTypes.FETCH_USER_FAILURE,fetchUserFailure),_createReducer));exports.reducer=reducer;

/***/ }),

/***/ 808:
/***/ (function(module, exports) {

Object.defineProperty(exports,"__esModule",{value:true});exports.INITIAL_STATE=void 0;var INITIAL_STATE={user:{},userIsLoading:false,userErrorMessage:null};exports.INITIAL_STATE=INITIAL_STATE;

/***/ }),

/***/ 809:
/***/ (function(module, exports, __webpack_require__) {

var _interopRequireDefault=__webpack_require__(2);var _interopRequireWildcard=__webpack_require__(7);Object.defineProperty(exports,"__esModule",{value:true});exports.reducer=exports.HANDLERS=exports.updateDeviceData=exports.setDeviceData=exports.connectionMethodeUpdated=exports.connectionStateUpdated=exports.connectedDeviceUpdated=exports.clearDevices=exports.removeDevice=exports.addDevice=exports.scannerStateUpdated=exports.setDeviceError=void 0;var _toConsumableArray2=_interopRequireDefault(__webpack_require__(53));var _defineProperty2=_interopRequireDefault(__webpack_require__(11));var _reduxsauce=__webpack_require__(77);var _Selectors=__webpack_require__(70);var _Actions=__webpack_require__(94);var _InitialState=__webpack_require__(810);var BLEReducers=_interopRequireWildcard(__webpack_require__(811));var BluetoothReducers=_interopRequireWildcard(__webpack_require__(812));var _objectSpread2;function ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);if(enumerableOnly)symbols=symbols.filter(function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable;});keys.push.apply(keys,symbols);}return keys;}function _objectSpread(target){for(var i=1;i<arguments.length;i++){var source=arguments[i]!=null?arguments[i]:{};if(i%2){ownKeys(Object(source),true).forEach(function(key){(0,_defineProperty2.default)(target,key,source[key]);});}else if(Object.getOwnPropertyDescriptors){Object.defineProperties(target,Object.getOwnPropertyDescriptors(source));}else{ownKeys(Object(source)).forEach(function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key));});}}return target;}var setDeviceError=function setDeviceError(state,_ref){var errorMessage=_ref.errorMessage;return _objectSpread(_objectSpread({},state),{},{deviceErrorMessage:errorMessage});};exports.setDeviceError=setDeviceError;var scannerStateUpdated=function scannerStateUpdated(state,_ref2){var scannerState=_ref2.scannerState;return _objectSpread(_objectSpread({},state),{},{scannerState:scannerState});};exports.scannerStateUpdated=scannerStateUpdated;var addDevice=function addDevice(state,_ref3){var device=_ref3.device;if(state.DeviceList.some(function(Device){return Device.id===device.id;})){return _objectSpread({},state);}else{var NewList=(0,_toConsumableArray2.default)(state.DeviceList);NewList.push(device);return _objectSpread(_objectSpread({},state),{},{DeviceList:NewList});}};exports.addDevice=addDevice;var removeDevice=function removeDevice(state,_ref4){var device=_ref4.device;var NewList=(0,_toConsumableArray2.default)(state.DeviceList);for(var i=0;i<NewList.length;i++){if(NewList[i]===device){NewList.splice(i,1);}}return _objectSpread(_objectSpread({},state),{},{DeviceList:NewList});};exports.removeDevice=removeDevice;var clearDevices=function clearDevices(state){return _objectSpread(_objectSpread({},state),{},{DeviceList:[],deviceData:{}});};exports.clearDevices=clearDevices;var connectedDeviceUpdated=function connectedDeviceUpdated(state,_ref5){var connectedDevice=_ref5.connectedDevice;if(!connectedDevice){return _objectSpread(_objectSpread({},state),{},{connectedDevice:connectedDevice});}else{return _objectSpread(_objectSpread({},state),{},{connectedDevice:connectedDevice});}};exports.connectedDeviceUpdated=connectedDeviceUpdated;var connectionStateUpdated=function connectionStateUpdated(state,_ref6){var connectionState=_ref6.connectionState;return _objectSpread(_objectSpread({},state),{},{connectionState:connectionState});};exports.connectionStateUpdated=connectionStateUpdated;var connectionMethodeUpdated=function connectionMethodeUpdated(state,_ref7){var connectionMethode=_ref7.connectionMethode;return _objectSpread(_objectSpread({},state),{},{connectionMethode:connectionMethode});};exports.connectionMethodeUpdated=connectionMethodeUpdated;var setDeviceData=function setDeviceData(state,_ref8){var data=_ref8.data;return _objectSpread(_objectSpread({},state),{},{deviceData:data});};exports.setDeviceData=setDeviceData;var updateDeviceData=function updateDeviceData(state,_ref9){var data=_ref9.data;var newData=_objectSpread(_objectSpread({},state.deviceData),data);return _objectSpread(_objectSpread({},state),{},{deviceData:newData});};exports.updateDeviceData=updateDeviceData;var HANDLERS=_objectSpread(_objectSpread((_objectSpread2={},(0,_defineProperty2.default)(_objectSpread2,_Actions.DeviceTypes.SET_DEVICE_ERROR,setDeviceError),(0,_defineProperty2.default)(_objectSpread2,_Actions.DeviceTypes.SCANNER_STATE_UPDATED,scannerStateUpdated),(0,_defineProperty2.default)(_objectSpread2,_Actions.DeviceTypes.ADD_DEVICE,addDevice),(0,_defineProperty2.default)(_objectSpread2,_Actions.DeviceTypes.REMOVE_DEVICE,removeDevice),(0,_defineProperty2.default)(_objectSpread2,_Actions.DeviceTypes.CLEAR_DEVICES,clearDevices),(0,_defineProperty2.default)(_objectSpread2,_Actions.DeviceTypes.CONNECTED_DEVICE_UPDATED,connectedDeviceUpdated),(0,_defineProperty2.default)(_objectSpread2,_Actions.DeviceTypes.CONNECTION_STATE_UPDATED,connectionStateUpdated),(0,_defineProperty2.default)(_objectSpread2,_Actions.DeviceTypes.CONNECTION_METHODE_UPDATED,connectionMethodeUpdated),(0,_defineProperty2.default)(_objectSpread2,_Actions.DeviceTypes.SET_DEVICE_DATA,setDeviceData),(0,_defineProperty2.default)(_objectSpread2,_Actions.DeviceTypes.UPDATE_DEVICE_DATA,updateDeviceData),_objectSpread2),BLEReducers.HANDLERS),BluetoothReducers.HANDLERS);exports.HANDLERS=HANDLERS;var reducer=(0,_reduxsauce.createReducer)(_InitialState.INITIAL_STATE,HANDLERS);exports.reducer=reducer;

/***/ }),

/***/ 810:
/***/ (function(module, exports, __webpack_require__) {

var _interopRequireDefault=__webpack_require__(2);Object.defineProperty(exports,"__esModule",{value:true});exports.INITIAL_STATE=void 0;var _defineProperty2=_interopRequireDefault(__webpack_require__(11));var _Selectors=__webpack_require__(70);var _reactNativeBlePlx=__webpack_require__(105);var _InitialState=__webpack_require__(385);var _InitialState2=__webpack_require__(386);function ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);if(enumerableOnly)symbols=symbols.filter(function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable;});keys.push.apply(keys,symbols);}return keys;}function _objectSpread(target){for(var i=1;i<arguments.length;i++){var source=arguments[i]!=null?arguments[i]:{};if(i%2){ownKeys(Object(source),true).forEach(function(key){(0,_defineProperty2.default)(target,key,source[key]);});}else if(Object.getOwnPropertyDescriptors){Object.defineProperties(target,Object.getOwnPropertyDescriptors(source));}else{ownKeys(Object(source)).forEach(function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key));});}}return target;}var INITIAL_STATE=_objectSpread(_objectSpread({deviceIsLoading:false,deviceErrorMessage:null,scannerState:_Selectors.ScannerState.IDLE,DeviceList:[],connectedDevice:{},connectionState:_Selectors.ConnectionState.DISCONNECTED,connectionMethode:_Selectors.ConnectionMethode.NONE,deviceData:{}},_InitialState.INITIAL_STATE),_InitialState2.INITIAL_STATE);exports.INITIAL_STATE=INITIAL_STATE;

/***/ }),

/***/ 811:
/***/ (function(module, exports, __webpack_require__) {

var _interopRequireDefault=__webpack_require__(2);Object.defineProperty(exports,"__esModule",{value:true});exports.reducer=exports.HANDLERS=exports.bleStateUpdated=void 0;var _defineProperty2=_interopRequireDefault(__webpack_require__(11));var _reduxsauce=__webpack_require__(77);var _Selectors=__webpack_require__(70);var _Actions=__webpack_require__(229);var _InitialState=__webpack_require__(385);function ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);if(enumerableOnly)symbols=symbols.filter(function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable;});keys.push.apply(keys,symbols);}return keys;}function _objectSpread(target){for(var i=1;i<arguments.length;i++){var source=arguments[i]!=null?arguments[i]:{};if(i%2){ownKeys(Object(source),true).forEach(function(key){(0,_defineProperty2.default)(target,key,source[key]);});}else if(Object.getOwnPropertyDescriptors){Object.defineProperties(target,Object.getOwnPropertyDescriptors(source));}else{ownKeys(Object(source)).forEach(function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key));});}}return target;}var bleStateUpdated=function bleStateUpdated(state,_ref){var bleState=_ref.bleState;return _objectSpread(_objectSpread({},state),{},{bleState:bleState});};exports.bleStateUpdated=bleStateUpdated;var HANDLERS=(0,_defineProperty2.default)({},_Actions.BleTypes.BLE_STATE_UPDATED,bleStateUpdated);exports.HANDLERS=HANDLERS;var reducer=(0,_reduxsauce.createReducer)(_InitialState.INITIAL_STATE,HANDLERS);exports.reducer=reducer;

/***/ }),

/***/ 812:
/***/ (function(module, exports, __webpack_require__) {

Object.defineProperty(exports,"__esModule",{value:true});exports.reducer=exports.HANDLERS=void 0;var _reduxsauce=__webpack_require__(77);var _Selectors=__webpack_require__(70);var _Actions=__webpack_require__(230);var _InitialState=__webpack_require__(386);var HANDLERS={};exports.HANDLERS=HANDLERS;var reducer=(0,_reduxsauce.createReducer)(_InitialState.INITIAL_STATE,HANDLERS);exports.reducer=reducer;

/***/ }),

/***/ 813:
/***/ (function(module, exports, __webpack_require__) {

var _interopRequireDefault=__webpack_require__(2);Object.defineProperty(exports,"__esModule",{value:true});exports.reducer=exports.HANDLERS=exports.fetchFailure=exports.fetchSuccess=exports.dataFetchSuccess=exports.fetchStarting=exports.actionStarting=exports.setCurrentData=exports.viewIsLoading=exports.setViewError=exports.setFirebaseError=exports.firebaseIsLoading=void 0;var _objectWithoutProperties2=_interopRequireDefault(__webpack_require__(20));var _extends2=_interopRequireDefault(__webpack_require__(19));var _defineProperty2=_interopRequireDefault(__webpack_require__(11));var _reduxsauce=__webpack_require__(77);var _funcadelic=__webpack_require__(814);var _Selectors=__webpack_require__(40);var _Actions=__webpack_require__(38);var _InitialState=__webpack_require__(815);var _HANDLERS;function ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);if(enumerableOnly)symbols=symbols.filter(function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable;});keys.push.apply(keys,symbols);}return keys;}function _objectSpread(target){for(var i=1;i<arguments.length;i++){var source=arguments[i]!=null?arguments[i]:{};if(i%2){ownKeys(Object(source),true).forEach(function(key){(0,_defineProperty2.default)(target,key,source[key]);});}else if(Object.getOwnPropertyDescriptors){Object.defineProperties(target,Object.getOwnPropertyDescriptors(source));}else{ownKeys(Object(source)).forEach(function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key));});}}return target;}var firebaseIsLoading=function firebaseIsLoading(state,_ref){var loadingstate=_ref.loadingstate;return _objectSpread(_objectSpread({},state),{},{firebaseIsLoading:loadingstate});};exports.firebaseIsLoading=firebaseIsLoading;var setFirebaseError=function setFirebaseError(state,_ref2){var errorMessage=_ref2.errorMessage;return _objectSpread(_objectSpread({},state),{},{firebaseErrorMessage:errorMessage});};exports.setFirebaseError=setFirebaseError;var setViewError=function setViewError(state,_ref3){var errorMessage=_ref3.errorMessage;return _objectSpread(_objectSpread({},state),{},{viewError:errorMessage});};exports.setViewError=setViewError;var viewIsLoading=function viewIsLoading(state,_ref4){var loadingstate=_ref4.loadingstate;return _objectSpread(_objectSpread({},state),{},{viewIsLoading:loadingstate});};exports.viewIsLoading=viewIsLoading;var setCurrentData=function setCurrentData(state,_ref5){var data=_ref5.data;return _objectSpread(_objectSpread({},state),{},{currentData:data});};exports.setCurrentData=setCurrentData;function IDGenerate(){return Math.random().toString(36).substr(2,9);}var actionStarting=function actionStarting(state){return _objectSpread(_objectSpread({},state),{},{firebaseErrorMessage:null});};exports.actionStarting=actionStarting;var fetchStarting=function fetchStarting(state){return _objectSpread(_objectSpread({},state),{},{firebaseErrorMessage:null});};exports.fetchStarting=fetchStarting;function mergeDeep(target,source){var isObject=function isObject(obj){return obj&&typeof obj==='object';};if(!isObject(target)||!isObject(source)){return source;}Object.keys(source).forEach(function(key){var targetValue=target[key];var sourceValue=source[key];if(Array.isArray(targetValue)&&Array.isArray(sourceValue)){}else if(isObject(targetValue)&&isObject(sourceValue)){target[key]=mergeDeep((0,_extends2.default)({},targetValue),sourceValue);}else{target[key]=sourceValue;}});return target;}var dataFetchSuccess=function dataFetchSuccess(state,_ref6){var params=_ref6.params;var type=params.type,path=params.path,data=params.data;var NewDataStore=state.localDataStore;var NewFirebaseUser=_objectSpread({},state.firebaseUser);switch(type){case _Selectors.Actions.UPDATE:case _Selectors.Actions.ADD:var newData=_objectSpread({},data);if(path===_Selectors.DataRefs.FIREBASEUSER){if(data&&data.data)newData=_objectSpread({},data.data);if(data&&data._user){Object.keys(data._user).forEach(function(element){newData[element]=data._user[element];});delete newData._user;delete newData._auth;}if(newData&&Object.keys(newData).length>0){var Values=["displayName","name","lastN","email","emailVerified","address","country","farms","isAnonymous","phoneNumber","photoURL","refreshToken","state","uid"];Object.keys(newData).forEach(function(element){for(var index=0;index<Values.length;index++){if(Values[index]===element){NewFirebaseUser[element]=newData[element];break;}}});}else{NewFirebaseUser=newData;}}if(!data)break;switch(path){case _Selectors.DataRefs.FIREBASEUSER:break;case _Selectors.DataRefs.USERSDATA:Object.keys(newData).forEach(function(element){if(!NewDataStore.userData)NewDataStore.userData={};NewDataStore.userData[element]=newData[element];});break;case _Selectors.DataRefs.USERS:if(!NewDataStore.users)NewDataStore.users={};if(data.data)newData=data.data;if(newData.users)newData=newData.users;Object.keys(newData).forEach(function(element){NewDataStore.users[element]=newData[element];});break;case _Selectors.DataRefs.FARMS:if(!NewDataStore.farms)NewDataStore.farms={};if(data.farms)newData=data.farms;Object.keys(newData).forEach(function(element){NewDataStore.farms[element]=newData[element];});break;case _Selectors.DataRefs.BATCHS:if(!NewDataStore.batchs)NewDataStore.batchs={};if(data.batchs)newData=data.batchs;Object.keys(newData).forEach(function(element){NewDataStore.batchs[element]=newData[element];});break;case _Selectors.DataRefs.SECTIONS:if(!NewDataStore.sections)NewDataStore.sections={};if(data.sections)newData=data.sections;Object.keys(newData).forEach(function(element){NewDataStore.sections[element]=newData[element];});break;case _Selectors.DataRefs.PENS:if(!NewDataStore.pens)NewDataStore.pens={};if(data.pens)newData=data.pens;Object.keys(newData).forEach(function(element){NewDataStore.pens[element]=newData[element];});break;case _Selectors.DataRefs.PIGS:if(!NewDataStore.pigs)NewDataStore.pigs={};if(data.pigs)newData=data.pigs;Object.keys(newData).forEach(function(element){NewDataStore.pigs[element]=newData[element];});break;case _Selectors.DataRefs.COMMENTS:if(!NewDataStore.comments)NewDataStore.comments={};if(data.comments)newData=data.comments;Object.keys(newData).forEach(function(element){NewDataStore.comments[element]=newData[element];});break;case _Selectors.DataRefs.GRAPH:if(!NewDataStore.graphs)NewDataStore.graphs={};if(data.graphs)newData=data.graphs;Object.keys(newData).forEach(function(element){NewDataStore.graphs[element]=newData[element];});break;case _Selectors.DataRefs.WEIGHING:if(!NewDataStore.weighings)NewDataStore.weighings={};if(data.weighings)newData=data.weighings;Object.keys(newData).forEach(function(element){NewDataStore.weighings[element]=newData[element];});break;case _Selectors.DataRefs.CONSYS:if(!NewDataStore.consys)NewDataStore.consys={};if(data.consys)newData=data.consys;Object.keys(newData).forEach(function(element){NewDataStore.consys[element]=newData[element];});break;}break;case _Selectors.Actions.CLEAR:switch(path){case _Selectors.DataRefs.USERS:if(!NewDataStore.userData)NewDataStore.userData={};NewDataStore.userData.action="CLEAR";break;case _Selectors.DataRefs.USERSDATA:console.log("CLEAR");if(NewDataStore.batchs)NewDataStore.batchs={};if(NewDataStore.sections)NewDataStore.sections={};if(NewDataStore.pens)NewDataStore.pens={};if(NewDataStore.pigs)NewDataStore.pigs={};if(NewDataStore.graphs)NewDataStore.graphs={};if(NewDataStore.weighings)NewDataStore.weighings={};if(NewDataStore.consys)NewDataStore.consys={};if(NewDataStore.userData&&NewDataStore.userData.action){NewDataStore.userData.action={};}break;}break;default:console.log("DataFetch Not created / default");break;}return _objectSpread(_objectSpread({},state),{},{firebaseUser:NewFirebaseUser,localDataStore:NewDataStore,firebaseIsLoading:false,firebaseErrorMessage:null,viewIsLoading:false});};exports.dataFetchSuccess=dataFetchSuccess;var fetchSuccess=function fetchSuccess(state,_ref7){var data=_ref7.data;var newlocalDataStore=_objectSpread({},state.localDataStore);var newState=_objectSpread({},state);if(data){var localDataStore=data.localDataStore,_newState=(0,_objectWithoutProperties2.default)(data,["localDataStore"]);if(localDataStore){if(Object.keys(localDataStore).length!==0){newlocalDataStore=mergeDeep(localDataStore,newlocalDataStore);}else{newlocalDataStore=_objectSpread({},localDataStore);}}newState=(0,_funcadelic.append)(state,_newState);}return _objectSpread(_objectSpread({},newState),{},{localDataStore:newlocalDataStore,firebaseIsLoading:false,firebaseErrorMessage:null,viewIsLoading:false});};exports.fetchSuccess=fetchSuccess;var fetchFailure=function fetchFailure(state,_ref8){var errorMessage=_ref8.errorMessage;return _objectSpread(_objectSpread({},state),{},{firebaseIsLoading:false,firebaseErrorMessage:errorMessage,viewIsLoading:false});};exports.fetchFailure=fetchFailure;var HANDLERS=(_HANDLERS={},(0,_defineProperty2.default)(_HANDLERS,_Actions.FirebaseTypes.FIREBASE_IS_LOADING,firebaseIsLoading),(0,_defineProperty2.default)(_HANDLERS,_Actions.FirebaseTypes.SET_FIREBASE_ERROR,setFirebaseError),(0,_defineProperty2.default)(_HANDLERS,_Actions.FirebaseTypes.SET_VIEW_ERROR,setViewError),(0,_defineProperty2.default)(_HANDLERS,_Actions.FirebaseTypes.VIEW_IS_LOADING,viewIsLoading),(0,_defineProperty2.default)(_HANDLERS,_Actions.FirebaseTypes.SET_CURRENT_DATA,setCurrentData),(0,_defineProperty2.default)(_HANDLERS,_Actions.FirebaseTypes.ACTION_STARTING,actionStarting),(0,_defineProperty2.default)(_HANDLERS,_Actions.FirebaseTypes.FETCH_STARTING,fetchStarting),(0,_defineProperty2.default)(_HANDLERS,_Actions.FirebaseTypes.DATA_FETCH_SUCCESS,dataFetchSuccess),(0,_defineProperty2.default)(_HANDLERS,_Actions.FirebaseTypes.FETCH_SUCCESS,fetchSuccess),(0,_defineProperty2.default)(_HANDLERS,_Actions.FirebaseTypes.FETCH_FAILURE,fetchFailure),_HANDLERS);exports.HANDLERS=HANDLERS;var reducer=(0,_reduxsauce.createReducer)(_InitialState.INITIAL_STATE,HANDLERS);exports.reducer=reducer;

/***/ }),

/***/ 815:
/***/ (function(module, exports, __webpack_require__) {

Object.defineProperty(exports,"__esModule",{value:true});exports.INITIAL_STATE=void 0;var _Selectors=__webpack_require__(40);var INITIAL_STATE={firebaseIsLoading:false,firebaseErrorMessage:null,firebaseUser:null,localDataStore:{},currentData:null,viewIsLoading:false,viewError:null};exports.INITIAL_STATE=INITIAL_STATE;

/***/ }),

/***/ 816:
/***/ (function(module, exports, __webpack_require__) {

var _interopRequireDefault=__webpack_require__(2);var _interopRequireWildcard=__webpack_require__(7);Object.defineProperty(exports,"__esModule",{value:true});exports.default=void 0;var _react=_interopRequireWildcard(__webpack_require__(1));var _View=_interopRequireDefault(__webpack_require__(8));var _reactRedux=__webpack_require__(37);var _NavigationService=_interopRequireDefault(__webpack_require__(32));var _AppNavigator=_interopRequireDefault(__webpack_require__(817));var _Actions=_interopRequireDefault(__webpack_require__(335));var _Theme=__webpack_require__(22);var RootScreen=function RootScreen(){var prefix=['https://agrisysdje.github.io/','agrisysapp://'];var dispatch=(0,_reactRedux.useDispatch)();(0,_react.useEffect)(function(){dispatch(_Actions.default.startup());},[]);return _react.default.createElement(_View.default,{style:_Theme.Helpers.fill},_react.default.createElement(_AppNavigator.default,{ref:function ref(navigatorRef){_NavigationService.default.setTopLevelNavigator(navigatorRef);},uriPrefix:prefix}));};var _default=RootScreen;exports.default=_default;

/***/ }),

/***/ 817:
/***/ (function(module, exports, __webpack_require__) {

var _interopRequireDefault=__webpack_require__(2);Object.defineProperty(exports,"__esModule",{value:true});exports.default=void 0;var _react=_interopRequireDefault(__webpack_require__(1));var _reactNavigation=__webpack_require__(83);var _reactNavigationStack=__webpack_require__(148);var _TouchableOpacity=_interopRequireDefault(__webpack_require__(41));var _index=__webpack_require__(114);var _View=_interopRequireDefault(__webpack_require__(8));var _Text=_interopRequireDefault(__webpack_require__(21));var _SplashScreen=_interopRequireDefault(__webpack_require__(873));var _DeepLinkingScreen=_interopRequireDefault(__webpack_require__(896));var _FrontNavigator=_interopRequireDefault(__webpack_require__(897));var _AuthNavigator=_interopRequireDefault(__webpack_require__(1004));var _UserPanelNavigator=_interopRequireDefault(__webpack_require__(428));var _AdminPanelNavigator=_interopRequireDefault(__webpack_require__(1162));var _Theme=__webpack_require__(22);var StackNavigator=(0,_reactNavigationStack.createStackNavigator)({SplashScreen:{screen:_SplashScreen.default,navigationOptions:function navigationOptions(){return{headerShown:false};}},MainStack:{screen:_FrontNavigator.default,path:'Front'},AuthStack:_AuthNavigator.default,UserPanel:_UserPanelNavigator.default,AdminPanel:_AdminPanelNavigator.default,DeepLinkingScreen:{screen:_DeepLinkingScreen.default,path:'deeplink'}},{initialRouteName:'SplashScreen',headerMode:'none',defaultNavigationOptions:{headerTitleAlign:'center',headerRight:function headerRight(){return _react.default.createElement(_View.default,{style:{padding:6}});}}});var _default=(0,_reactNavigation.createAppContainer)(StackNavigator);exports.default=_default;

/***/ }),

/***/ 873:
/***/ (function(module, exports, __webpack_require__) {

var _interopRequireWildcard=__webpack_require__(7);var _interopRequireDefault=__webpack_require__(2);Object.defineProperty(exports,"__esModule",{value:true});exports.default=void 0;var _classCallCheck2=_interopRequireDefault(__webpack_require__(9));var _createClass2=_interopRequireDefault(__webpack_require__(10));var _inherits2=_interopRequireDefault(__webpack_require__(15));var _possibleConstructorReturn2=_interopRequireDefault(__webpack_require__(16));var _getPrototypeOf2=_interopRequireDefault(__webpack_require__(14));var _react=_interopRequireWildcard(__webpack_require__(1));var _Text=_interopRequireDefault(__webpack_require__(21));var _View=_interopRequireDefault(__webpack_require__(8));var _Image=_interopRequireDefault(__webpack_require__(33));var _Platform=_interopRequireDefault(__webpack_require__(18));var _reactRedux=__webpack_require__(37);var _redux=__webpack_require__(29);var _NavigationService=_interopRequireDefault(__webpack_require__(32));var _SplashScreenStyle=_interopRequireDefault(__webpack_require__(874));var _Theme=__webpack_require__(22);function _createSuper(Derived){var hasNativeReflectConstruct=_isNativeReflectConstruct();return function _createSuperInternal(){var Super=(0,_getPrototypeOf2.default)(Derived),result;if(hasNativeReflectConstruct){var NewTarget=(0,_getPrototypeOf2.default)(this).constructor;result=Reflect.construct(Super,arguments,NewTarget);}else{result=Super.apply(this,arguments);}return(0,_possibleConstructorReturn2.default)(this,result);};}function _isNativeReflectConstruct(){if(typeof Reflect==="undefined"||!Reflect.construct)return false;if(Reflect.construct.sham)return false;if(typeof Proxy==="function")return true;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}));return true;}catch(e){return false;}}var messaging;if(_Platform.default.OS==='ios'||_Platform.default.OS==='android'){messaging=__webpack_require__(261).default;}else{var firebase=__webpack_require__(147).default;__webpack_require__(296).default;if(firebase.messaging.isSupported()){messaging=firebase.messaging();}}var SplashScreen=function(_Component){(0,_inherits2.default)(SplashScreen,_Component);var _super=_createSuper(SplashScreen);function SplashScreen(props){(0,_classCallCheck2.default)(this,SplashScreen);return _super.call(this,props);}(0,_createClass2.default)(SplashScreen,[{key:"getData",value:function getData(){if((_Platform.default.OS==="android"||_Platform.default.OS==="ios")&&messaging){messaging().onNotificationOpenedApp(function(remoteMessage){console.log('Notification caused app to open from background state:',remoteMessage.notification);_NavigationService.default.navigate(remoteMessage.data.type);});messaging().getInitialNotification().then(function(remoteMessage){if(remoteMessage){console.log('Notification caused app to open from quit state:',remoteMessage.notification);_NavigationService.default.navigate(remoteMessage.data.type);}});}}},{key:"checkData",value:function checkData(props){}},{key:"componentDidMount",value:function componentDidMount(){this.checkData(this.props);this.getData();}},{key:"componentDidUpdate",value:function componentDidUpdate(prevProps,prevState){if(this.props!==prevProps){this.checkData(this.props);}}},{key:"render",value:function render(){return _react.default.createElement(_View.default,{style:[_Theme.Helpers.fillRowCenter,_SplashScreenStyle.default.container]},_react.default.createElement(_View.default,{style:[_Theme.Helpers.center,_Theme.Helpers.logoContainer]},_react.default.createElement(_Image.default,{style:_Theme.Helpers.fullSize,source:_Theme.Images.Hexa_icon,resizeMode:'contain'})));}}]);return SplashScreen;}(_react.Component);var mapStateToProps=function mapStateToProps(state){var firebase=state.firebase;return{firebase:firebase};};var mapDispatchToProps=function mapDispatchToProps(dispatch){return{};};var _default=(0,_reactRedux.connect)(mapStateToProps,mapDispatchToProps)(SplashScreen);exports.default=_default;

/***/ }),

/***/ 874:
/***/ (function(module, exports, __webpack_require__) {

var _interopRequireDefault=__webpack_require__(2);Object.defineProperty(exports,"__esModule",{value:true});exports.default=void 0;var _StyleSheet=_interopRequireDefault(__webpack_require__(12));var _Theme=__webpack_require__(22);var _default=_StyleSheet.default.create({container:{backgroundColor:_Theme.Colors.primary}});exports.default=_default;

/***/ }),

/***/ 875:
/***/ (function(module, exports) {

Object.defineProperty(exports,"__esModule",{value:true});exports.default=void 0;var _default={transparent:'rgba(0,0,0,0)',white:'#ffffff',gray:'#a6a6a6',text:'#4a4a49',secountText:'#ffffff',primary:'#a3b9cf',success:'#03a489',error:'#dc3545',overest:'#4cafea',pigpink:'#FFAA95',input:'#86939e',AgriGreen:'#03a489',AgriDarkblue:'#4463ab',AgriLightblue:'#a3b9cf',AgriDark:'#4a4a49'};exports.default=_default;

/***/ }),

/***/ 876:
/***/ (function(module, exports, __webpack_require__) {

var _interopRequireDefault=__webpack_require__(2);Object.defineProperty(exports,"__esModule",{value:true});exports.default=void 0;var _StyleSheet=_interopRequireDefault(__webpack_require__(12));var size={h1:38,h2:34,h3:30,input:18,regular:17,medium:14,small:12};var _default={h1:{fontSize:size.h1},h2:{fontSize:size.h2},h3:{fontSize:size.h3},normal:{fontSize:size.regular}};exports.default=_default;

/***/ }),

/***/ 877:
/***/ (function(module, exports) {

Object.defineProperty(exports,"__esModule",{value:true});exports.default=exports.medium=exports.normal=exports.small=exports.tiny=void 0;var tiny=5;exports.tiny=tiny;var small=tiny*2;exports.small=small;var normal=tiny*3;exports.normal=normal;var medium=normal*2;exports.medium=medium;var _default={tiny:tiny,small:small,normal:normal,medium:medium,tinyBottomMargin:{marginBottom:tiny},smallBottomMargin:{marginBottom:small},bottomMargin:{marginBottom:normal},mediumBottomMargin:{marginBottom:medium},tinyVerticalMargin:{marginVertical:tiny},smallVerticalMargin:{marginVertical:small},verticalMargin:{marginVertical:normal},mediumVerticalMargin:{marginVertical:medium},tinyHorizontalMargin:{marginHorizontal:tiny},smallHorizontalMargin:{marginHorizontal:small},horizontalMargin:{marginHorizontal:normal},mediumHorizontalMargin:{marginHorizontal:medium},tinyHorizontalPadding:{paddingHorizontal:tiny},smallHorizontalPadding:{paddingHorizontal:small},horizontalPadding:{paddingHorizontal:normal},mediumHorizontalPadding:{paddingHorizontal:medium},tinyVerticalPadding:{paddingVertical:tiny},smallVerticalPadding:{paddingVertical:small},verticalPadding:{paddingVertical:normal},mediumVerticalPadding:{paddingVertical:medium}};exports.default=_default;

/***/ }),

/***/ 878:
/***/ (function(module, exports, __webpack_require__) {

Object.defineProperty(exports,"__esModule",{value:true});exports.default=void 0;var _default={Home:__webpack_require__(879),DashBoard:__webpack_require__(880),System:__webpack_require__(881),Curves:__webpack_require__(882),GCurves:__webpack_require__(883),User:__webpack_require__(884),Sow:__webpack_require__(885),Section:__webpack_require__(886),Pens:__webpack_require__(887),AutoPig:__webpack_require__(888),Feed:__webpack_require__(889),Haxa_globe:__webpack_require__(890),Hexa_icon:__webpack_require__(891),Logo:__webpack_require__(892),logo:__webpack_require__(893)};exports.default=_default;

/***/ }),

/***/ 879:
/***/ (function(module, exports, __webpack_require__) {

module.exports = __webpack_require__.p + "static/media/Home.1fff8434.png";

/***/ }),

/***/ 880:
/***/ (function(module, exports, __webpack_require__) {

module.exports = __webpack_require__.p + "static/media/Dashboard.26766c7a.png";

/***/ }),

/***/ 881:
/***/ (function(module, exports, __webpack_require__) {

module.exports = __webpack_require__.p + "static/media/System.7e4af00c.png";

/***/ }),

/***/ 882:
/***/ (function(module, exports, __webpack_require__) {

module.exports = __webpack_require__.p + "static/media/Feed-Curves.da739887.png";

/***/ }),

/***/ 883:
/***/ (function(module, exports, __webpack_require__) {

module.exports = __webpack_require__.p + "static/media/Growth-curve.7f9a7fea.png";

/***/ }),

/***/ 884:
/***/ (function(module, exports, __webpack_require__) {

module.exports = __webpack_require__.p + "static/media/User.d73be9fd.png";

/***/ }),

/***/ 885:
/***/ (function(module, exports, __webpack_require__) {

module.exports = __webpack_require__.p + "static/media/Sow.beff0aff.png";

/***/ }),

/***/ 886:
/***/ (function(module, exports) {

module.exports = "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAFMAAABRCAYAAACuepoLAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAq9JREFUeNrsnT1Lw1AUhk9FRFEhDhV0qgouLlrcjYOLi3XpasEfYjo62X/Quorg5iS0P0D8GBzVOAkWP6CVigg1197E0Naa3ER7b/K+cLig3tP4eJJz8g5XIig0JRS8Zr3Pn1+JUgE0JYgjK1JRqEz2y9DE1IJwgrdalRr1BxoZm6Th8aTvfVwvVqxacaE8zLXtQ+EEN+cHdH12QHPpLM0uZX3tbdSrdHmyS7VH0wY6w1caQNvwp5GxJC2v57+q2pJmRc7+HmAKaHBolGbTTkVvAGYIFdoBucfPp7p1rH8efwr280iJiu3ytUUr9iSY5+yZrqIqTAayzB+sIgOqHtJgq7vGD1IRpsaHUY3PTptWmCJjC5+/Ao8/7hlONZgZ/ow0OQylqkIGubv5Cl/3ATI4zFQUX+T7BRMCTMCM5mumqhf+fH8lvLdRqzqraJ7aU++pscznuyBvPk3XjEh/lKcpWZSVr8x+mMNufby/2p6m+rc58xRFZZvD0/O6b3PY/Zg5Pd5BA0I3B0yMRlsU3Ms0ALOlXAh5dwCzpZIVdwEh5uP4x+gGk1lwlYAQjDjCRAMCTMAETAgwARMwoZ5zphJiNpqonri73lrF8thu/U+C0x5Dpz0v2fWYKlcmGhC6OQSYMo1GMjnthkSsfr2WRFsD0lFfnlh5rswSyeO0y5BHyKiO4mgURh7POdCA0M0BEzAhwARMwIQAEzABEzAhwARMwIQ6FRen3fgPmHDaxVh5rswSwWnvlsOX4LQHzIEGhG4OmIAJASZgAiYEmIAJmPGEafJVBxZHi21sPCvH30Fv8W7uqMj3F/1uZCe6PtP3vxvQYg7TcO33dLe6LTh2ACk7Gpe5RxkeFcELKYd0m/UrT4q+zxMtBODgHOLcjHnc8oLyrMQvUDWKr3xX46cAAwCxt3YCfnN46AAAAABJRU5ErkJggg=="

/***/ }),

/***/ 887:
/***/ (function(module, exports, __webpack_require__) {

module.exports = __webpack_require__.p + "static/media/Area_Colour.f4a4e098.png";

/***/ }),

/***/ 888:
/***/ (function(module, exports, __webpack_require__) {

module.exports = __webpack_require__.p + "static/media/AutoPig.ec16c410.png";

/***/ }),

/***/ 889:
/***/ (function(module, exports, __webpack_require__) {

module.exports = __webpack_require__.p + "static/media/Feed-Components.224ca1b3.png";

/***/ }),

/***/ 890:
/***/ (function(module, exports, __webpack_require__) {

module.exports = __webpack_require__.p + "static/media/Hexagon-globe.fce26805.png";

/***/ }),

/***/ 891:
/***/ (function(module, exports, __webpack_require__) {

module.exports = __webpack_require__.p + "static/media/Hexa-icon.5129d536.png";

/***/ }),

/***/ 892:
/***/ (function(module, exports, __webpack_require__) {

module.exports = __webpack_require__.p + "static/media/Logo.9b051259.png";

/***/ }),

/***/ 893:
/***/ (function(module, exports, __webpack_require__) {

module.exports = __webpack_require__.p + "static/media/TOM.c88886f3.png";

/***/ }),

/***/ 894:
/***/ (function(module, exports, __webpack_require__) {

var _interopRequireDefault=__webpack_require__(2);Object.defineProperty(exports,"__esModule",{value:true});exports.default=void 0;var _defineProperty2=_interopRequireDefault(__webpack_require__(11));var _StyleSheet=_interopRequireDefault(__webpack_require__(12));var _Theme=__webpack_require__(22);function ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);if(enumerableOnly)symbols=symbols.filter(function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable;});keys.push.apply(keys,symbols);}return keys;}function _objectSpread(target){for(var i=1;i<arguments.length;i++){var source=arguments[i]!=null?arguments[i]:{};if(i%2){ownKeys(Object(source),true).forEach(function(key){(0,_defineProperty2.default)(target,key,source[key]);});}else if(Object.getOwnPropertyDescriptors){Object.defineProperties(target,Object.getOwnPropertyDescriptors(source));}else{ownKeys(Object(source)).forEach(function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key));});}}return target;}var _default={column:{flexDirection:'column'},colMain:{flexDirection:'column',justifyContent:'center'},colCenter:{flexDirection:'column',alignItems:'center',justifyContent:'center'},colCross:{flexDirection:'column',alignItems:'center'},columnReverse:{flexDirection:'column-reverse'},row:{flexDirection:'row'},rowMain:{flexDirection:'row',justifyContent:'center'},rowCenter:{flexDirection:'row',alignItems:'center',justifyContent:'center'},rowCross:{flexDirection:'row',alignItems:'center'},rowReverse:{flexDirection:'row-reverse'},center:{alignItems:'center',justifyContent:'center'},crossCenter:{alignItems:'center'},crossEnd:{alignItems:'flex-end'},crossStart:{alignItems:'flex-start'},crossStretch:{alignItems:'stretch'},fill:{flex:1},fillCenter:{flex:1,alignItems:'center',justifyContent:'center'},fillCol:{flex:1,flexDirection:'column'},fillColCenter:{flex:1,flexDirection:'column',alignItems:'center',justifyContent:'center'},fillColCross:{flex:1,flexDirection:'column',alignItems:'center'},fillColMain:{flex:1,flexDirection:'column',justifyContent:'center'},fillColReverse:{flex:1,flexDirection:'column-reverse'},fillRow:{flex:1,flexDirection:'row'},fillRowCenter:{flex:1,flexDirection:'row',alignItems:'center',justifyContent:'center'},fillRowCross:{flex:1,flexDirection:'row',alignItems:'center'},fillRowMain:{flex:1,flexDirection:'row',justifyContent:'center'},fillRowReverse:{flex:1,flexDirection:'row-reverse'},fullSize:{height:'100%',width:'100%'},halvWidth:{width:'50%'},midWidth:{width:'75%'},fullWidth:{width:'100%'},mainCenter:{justifyContent:'center'},mainEnd:{justifyContent:'flex-end'},mainSpaceAround:{justifyContent:'space-around'},mainSpaceBetween:{justifyContent:'space-between'},mainStart:{justifyContent:'flex-start'},mainContainer:_objectSpread({flex:1,flexDirection:'column',alignItems:'center'},_Theme.Metrics.mediumHorizontalMargin),contentContainer:_objectSpread(_objectSpread({flex:1,flexDirection:'column',alignItems:'center'},_Theme.Metrics.mediumHorizontalMargin),{},{marginTop:_Theme.Metrics.small},_Theme.Metrics.bottomMargin),borderContainer:_objectSpread(_objectSpread(_objectSpread({borderWidth:1,borderColor:'#000',borderRadius:15},_Theme.Metrics.tinyHorizontalPadding),_Theme.Metrics.tinyVerticalPadding),{},{maxWidth:450,zIndex:1}),textContainer:_objectSpread(_objectSpread({},_Theme.Fonts.normal),{},{marginBottom:_Theme.Metrics.normal,alignItems:'center'}),buttonContainer:{marginBottom:_Theme.Metrics.small,maxWidth:450},loadingContainer:{position:'absolute',left:0,right:0,top:0,bottom:0,alignItems:'center',justifyContent:'center',backgroundColor:'#F5FCFF88'},logoContainer:{width:'100%',height:220},backgroundReset:{backgroundColor:_Theme.Colors.transparent},rotate90:{transform:[{rotate:'90deg'}]},rotate90Inverse:{transform:[{rotate:'-90deg'}]},mirror:{transform:[{scaleX:-1}]},scrollSpaceAround:{flexGrow:1,justifyContent:'space-around'},scrollSpaceBetween:{flexGrow:1,justifyContent:'space-between'},selfStretch:{alignSelf:'stretch'},textCenter:{textAlign:'center'},textJustify:{textAlign:'justify'},textLeft:{textAlign:'left'},textRight:{textAlign:'right'}};exports.default=_default;

/***/ }),

/***/ 895:
/***/ (function(module, exports, __webpack_require__) {

var _interopRequireDefault=__webpack_require__(2);Object.defineProperty(exports,"__esModule",{value:true});exports.default=void 0;var _defineProperty2=_interopRequireDefault(__webpack_require__(11));var _StyleSheet=_interopRequireDefault(__webpack_require__(12));var _Theme=__webpack_require__(22);function ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);if(enumerableOnly)symbols=symbols.filter(function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable;});keys.push.apply(keys,symbols);}return keys;}function _objectSpread(target){for(var i=1;i<arguments.length;i++){var source=arguments[i]!=null?arguments[i]:{};if(i%2){ownKeys(Object(source),true).forEach(function(key){(0,_defineProperty2.default)(target,key,source[key]);});}else if(Object.getOwnPropertyDescriptors){Object.defineProperties(target,Object.getOwnPropertyDescriptors(source));}else{ownKeys(Object(source)).forEach(function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key));});}}return target;}var _default={button:{backgroundColor:_Theme.Colors.primary,color:_Theme.Colors.secountText},buttonText:{color:_Theme.Colors.secountText},error:_objectSpread(_objectSpread({},_Theme.Fonts.normal),{},{color:_Theme.Colors.error,marginBottom:_Theme.Metrics.tiny,textAlign:'center'}),result:_objectSpread(_objectSpread({},_Theme.Fonts.normal),{},{marginBottom:_Theme.Metrics.tiny,textAlign:'center'}),text:_objectSpread(_objectSpread({},_Theme.Fonts.normal),{},{marginBottom:_Theme.Metrics.tiny,textAlign:'center'}),input:_objectSpread(_objectSpread({},_Theme.Fonts.normal),{},{height:24}),navigationHeader:{textAlign:'center',alignSelf:'center',flexGrow:1}};exports.default=_default;

/***/ }),

/***/ 896:
/***/ (function(module, exports, __webpack_require__) {

var _interopRequireDefault=__webpack_require__(2);Object.defineProperty(exports,"__esModule",{value:true});exports.default=void 0;var _react=_interopRequireDefault(__webpack_require__(1));var _Text=_interopRequireDefault(__webpack_require__(21));var _View=_interopRequireDefault(__webpack_require__(8));var _Theme=__webpack_require__(22);var DeepLinkingScreen=function DeepLinkingScreen(){return _react.default.createElement(_View.default,{style:[_Theme.Helpers.fillCenter,_Theme.Helpers.rowMain,_Theme.Metrics.mediumHorizontalMargin]},_react.default.createElement(_Text.default,null,"This is deep linking example screen which can be accessed using agrissysapp://deeplink scheme!"));};var _default=DeepLinkingScreen;exports.default=_default;

/***/ }),

/***/ 897:
/***/ (function(module, exports, __webpack_require__) {

var _interopRequireDefault=__webpack_require__(2);Object.defineProperty(exports,"__esModule",{value:true});exports.default=void 0;var _defineProperty2=_interopRequireDefault(__webpack_require__(11));var _react=_interopRequireDefault(__webpack_require__(1));var _reactNavigation=__webpack_require__(83);var _reactNavigationStack=__webpack_require__(148);var _TouchableOpacity=_interopRequireDefault(__webpack_require__(41));var _index=__webpack_require__(114);var _View=_interopRequireDefault(__webpack_require__(8));var _Text=_interopRequireDefault(__webpack_require__(21));var _FrontScreen=_interopRequireDefault(__webpack_require__(898));var _ExampleScreen=_interopRequireDefault(__webpack_require__(999));var _DeviceScreen=_interopRequireDefault(__webpack_require__(1002));var _Theme=__webpack_require__(22);function ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);if(enumerableOnly)symbols=symbols.filter(function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable;});keys.push.apply(keys,symbols);}return keys;}function _objectSpread(target){for(var i=1;i<arguments.length;i++){var source=arguments[i]!=null?arguments[i]:{};if(i%2){ownKeys(Object(source),true).forEach(function(key){(0,_defineProperty2.default)(target,key,source[key]);});}else if(Object.getOwnPropertyDescriptors){Object.defineProperties(target,Object.getOwnPropertyDescriptors(source));}else{ownKeys(Object(source)).forEach(function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key));});}}return target;}var StackNavigator=(0,_reactNavigationStack.createStackNavigator)({FrontScreen:{screen:_FrontScreen.default,navigationOptions:function navigationOptions(){return{headerMode:'none',headerShown:false};},path:'main'},DeviceScreen:{screen:_DeviceScreen.default,navigationOptions:function navigationOptions(){return{title:'Device',headerTitleStyle:_objectSpread({},_Theme.ApplicationStyles.navigationHeader)};}},ExampleScreen:{screen:_ExampleScreen.default,navigationOptions:function navigationOptions(){return{headerMode:'none'};},path:'example'}},{initialRouteName:'FrontScreen',headerMode:'float',defaultNavigationOptions:{headerTitleAlign:'center',headerRight:function headerRight(){return _react.default.createElement(_View.default,{style:{padding:6}});}}});var _default=StackNavigator;exports.default=_default;

/***/ }),

/***/ 898:
/***/ (function(module, exports, __webpack_require__) {

var _interopRequireWildcard=__webpack_require__(7);var _interopRequireDefault=__webpack_require__(2);Object.defineProperty(exports,"__esModule",{value:true});exports.default=void 0;var _classCallCheck2=_interopRequireDefault(__webpack_require__(9));var _createClass2=_interopRequireDefault(__webpack_require__(10));var _inherits2=_interopRequireDefault(__webpack_require__(15));var _possibleConstructorReturn2=_interopRequireDefault(__webpack_require__(16));var _getPrototypeOf2=_interopRequireDefault(__webpack_require__(14));var _react=_interopRequireWildcard(__webpack_require__(1));var _Platform=_interopRequireDefault(__webpack_require__(18));var _Text=_interopRequireDefault(__webpack_require__(21));var _View=_interopRequireDefault(__webpack_require__(8));var _ActivityIndicator=_interopRequireDefault(__webpack_require__(30));var _Image=_interopRequireDefault(__webpack_require__(33));var _reactRedux=__webpack_require__(37);var _redux=__webpack_require__(29);var _NavigationService=_interopRequireDefault(__webpack_require__(32));var _Actions=_interopRequireDefault(__webpack_require__(38));var _Components=__webpack_require__(44);var _FrontScreenStyle=_interopRequireDefault(__webpack_require__(998));var _Theme=__webpack_require__(22);function _createSuper(Derived){var hasNativeReflectConstruct=_isNativeReflectConstruct();return function _createSuperInternal(){var Super=(0,_getPrototypeOf2.default)(Derived),result;if(hasNativeReflectConstruct){var NewTarget=(0,_getPrototypeOf2.default)(this).constructor;result=Reflect.construct(Super,arguments,NewTarget);}else{result=Super.apply(this,arguments);}return(0,_possibleConstructorReturn2.default)(this,result);};}function _isNativeReflectConstruct(){if(typeof Reflect==="undefined"||!Reflect.construct)return false;if(Reflect.construct.sham)return false;if(typeof Proxy==="function")return true;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}));return true;}catch(e){return false;}}var FrontScreen=function(_Component){(0,_inherits2.default)(FrontScreen,_Component);var _super=_createSuper(FrontScreen);function FrontScreen(props){var _this;(0,_classCallCheck2.default)(this,FrontScreen);_this=_super.call(this,props);_this.state={ShowMainError:false,FocusSubscription:null};return _this;}(0,_createClass2.default)(FrontScreen,[{key:"setData",value:function setData(Props){}},{key:"getData",value:function getData(){}},{key:"checkData",value:function checkData(props){}},{key:"componentDidUpdate",value:function componentDidUpdate(prevProps,prevState){if(this.props!==prevProps){this.checkData(this.props);if(this.props.firebase.viewError!=prevProps.firebase.viewError){this.forceUpdate();}}}},{key:"componentDidMount",value:function componentDidMount(){var _this2=this;this.props.setFirebaseError(null);this.checkData(this.props);this.getData();var FocusSubscription=this.props.navigation.addListener('willFocus',function(payload){_this2.props.setViewLoading(false);_this2.props.setViewError(null);});this.setState({FocusSubscription:FocusSubscription});}},{key:"componentWillUnmount",value:function componentWillUnmount(){if(this.state.FocusSubscription){this.state.FocusSubscription.remove();}}},{key:"render",value:function render(){var ErrorMessage=this.props.firebase.viewError;var firebaseErrorMessage=this.props.firebase.firebaseErrorMessage;return _react.default.createElement(_View.default,{style:[_Theme.Helpers.mainContainer]},_react.default.createElement(_View.default,{style:[_FrontScreenStyle.default.logoContainer]},_react.default.createElement(_Image.default,{style:[_Theme.Helpers.fullSize],source:_Theme.Images.Logo,resizeMode:'contain'})),_react.default.createElement(_View.default,{style:[_Theme.Helpers.contentContainer,_Theme.Helpers.fullSize]},_react.default.createElement(_View.default,{style:[_Theme.Helpers.textContainer,_Theme.Helpers.fullWidth]},this.state.ShowMainError&&firebaseErrorMessage?_react.default.createElement(_Text.default,{style:_Theme.ApplicationStyles.error},firebaseErrorMessage):_react.default.createElement(_react.default.Fragment,null),ErrorMessage?_react.default.createElement(_Text.default,{style:_Theme.ApplicationStyles.error},ErrorMessage):_react.default.createElement(_react.default.Fragment,null),_react.default.createElement(_Text.default,{style:_Theme.ApplicationStyles.text},"Welcome to Agrisys App"),_react.default.createElement(_Text.default,{style:_Theme.ApplicationStyles.text},"Please choose your action")),_react.default.createElement(_Components.Button_Panel,{Texts:["Connect to Agrisys Cloud","Connect to Device"],Images:[_Theme.Images.Haxa_globe,null],onPress:function onPress(ele){switch(ele.index){case 0:_NavigationService.default.navigate('AuthStack');break;case 1:if(_Platform.default.OS==='ios'||_Platform.default.OS==='android'){_NavigationService.default.navigate("DeviceScreen");}break;}}})));}}]);return FrontScreen;}(_react.Component);var mapStateToProps=function mapStateToProps(state){var firebase=state.firebase;return{firebase:firebase};};var mapDispatchToProps=function mapDispatchToProps(dispatch){return{setFirebaseError:function setFirebaseError(error){return dispatch(_Actions.default.setFirebaseError(error));},setViewLoading:function setViewLoading(state){return dispatch(_Actions.default.viewIsLoading(state));},setViewError:function setViewError(error){return dispatch(_Actions.default.setViewError(error));}};};var _default=(0,_reactRedux.connect)(mapStateToProps,mapDispatchToProps)(FrontScreen);exports.default=_default;

/***/ }),

/***/ 899:
/***/ (function(module, exports, __webpack_require__) {

var _interopRequireDefault=__webpack_require__(2);Object.defineProperty(exports,"__esModule",{value:true});exports.default=void 0;var _react=_interopRequireDefault(__webpack_require__(1));var _View=_interopRequireDefault(__webpack_require__(8));var _Text=_interopRequireDefault(__webpack_require__(21));var _Image=_interopRequireDefault(__webpack_require__(33));var _Button=_interopRequireDefault(__webpack_require__(190));var _Theme=__webpack_require__(22);var Button_Panel=function Button_Panel(props){var Texts=props.Texts;var Images=props.Images;var _onPress=props.onPress;var Buttons=[];Texts.forEach(function(element,index){var image=null;if(Images&&Images[index]){image=Images[index];}Buttons.push(_react.default.createElement(_Button.default,{key:index,Text:element,icon:image,iconStyle:props.iconStyle,itemStyle:props.itemStyle,onPress:function onPress(){if(_onPress){_onPress({index:index,text:element});}}}));});return _react.default.createElement(_View.default,{style:[_Theme.Helpers.buttonContainer,_Theme.Helpers.midWidth,{marginBottom:30},props.style]},Buttons);};var _default=Button_Panel;exports.default=_default;

/***/ }),

/***/ 900:
/***/ (function(module, exports, __webpack_require__) {

var _interopRequireDefault=__webpack_require__(2);Object.defineProperty(exports,"__esModule",{value:true});exports.default=void 0;var _react=_interopRequireDefault(__webpack_require__(1));var _StyleSheet=_interopRequireDefault(__webpack_require__(12));var _View=_interopRequireDefault(__webpack_require__(8));var _TouchableOpacity=_interopRequireDefault(__webpack_require__(41));var _Text=_interopRequireDefault(__webpack_require__(21));var _Image=_interopRequireDefault(__webpack_require__(33));var _Button=_interopRequireDefault(__webpack_require__(190));var _Theme=__webpack_require__(22);var TitleElement=function TitleElement(props){return _react.default.createElement(_View.default,{style:[_Theme.Helpers.buttonContainer,_Theme.Helpers.midWidth,_Theme.Metrics.bottomMargin]},_react.default.createElement(_Button.default,{Text:props.Text,icon:props.icon,buttonStyle:{backgroundColor:_Theme.Colors.AgriDarkblue},onPress:function onPress(){if(props.onPress){props.onPress();}}}));};var _default=TitleElement;exports.default=_default;

/***/ }),

/***/ 901:
/***/ (function(module, exports, __webpack_require__) {

var _interopRequireDefault=__webpack_require__(2);Object.defineProperty(exports,"__esModule",{value:true});exports.default=void 0;var _defineProperty2=_interopRequireDefault(__webpack_require__(11));var _react=_interopRequireDefault(__webpack_require__(1));var _StyleSheet=_interopRequireDefault(__webpack_require__(12));var _View=_interopRequireDefault(__webpack_require__(8));var _TouchableOpacity=_interopRequireDefault(__webpack_require__(41));var _Text=_interopRequireDefault(__webpack_require__(21));var _reactNativeElements=__webpack_require__(46);var _Theme=__webpack_require__(22);function ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);if(enumerableOnly)symbols=symbols.filter(function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable;});keys.push.apply(keys,symbols);}return keys;}function _objectSpread(target){for(var i=1;i<arguments.length;i++){var source=arguments[i]!=null?arguments[i]:{};if(i%2){ownKeys(Object(source),true).forEach(function(key){(0,_defineProperty2.default)(target,key,source[key]);});}else if(Object.getOwnPropertyDescriptors){Object.defineProperties(target,Object.getOwnPropertyDescriptors(source));}else{ownKeys(Object(source)).forEach(function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key));});}}return target;}var CustomListItem=function CustomListItem(props){var key=props.key?props.key:0;return _react.default.createElement(_reactNativeElements.ListItem,{key:key,containerStyle:[styles.listitem,{flexDirection:"column",borderRadius:0},props.itemStyle],button:true,onPress:props.onPress},_react.default.createElement(_reactNativeElements.ListItem.Content,null,_react.default.createElement(_reactNativeElements.ListItem.Title,null,props.Title),props.hasOwnProperty("Subtitle")?_react.default.createElement(_reactNativeElements.ListItem.Subtitle,null,props.Subtitle):_react.default.createElement(_react.default.Fragment,null)));};var styles=_StyleSheet.default.create({listitem:_objectSpread(_objectSpread(_objectSpread({flex:1},_Theme.Helpers.borderContainer),_Theme.Helpers.center),{},{backgroundColor:'#fff',paddingVertical:5,paddingHorizontal:5})});var _default=CustomListItem;exports.default=_default;

/***/ }),

/***/ 94:
/***/ (function(module, exports, __webpack_require__) {

var _interopRequireWildcard=__webpack_require__(7);var _interopRequireDefault=__webpack_require__(2);Object.defineProperty(exports,"__esModule",{value:true});exports.default=exports.DeviceTypes=void 0;var _defineProperty2=_interopRequireDefault(__webpack_require__(11));var _reduxsauce=__webpack_require__(77);var _Actions=_interopRequireWildcard(__webpack_require__(229));var _Actions2=_interopRequireWildcard(__webpack_require__(230));function ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);if(enumerableOnly)symbols=symbols.filter(function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable;});keys.push.apply(keys,symbols);}return keys;}function _objectSpread(target){for(var i=1;i<arguments.length;i++){var source=arguments[i]!=null?arguments[i]:{};if(i%2){ownKeys(Object(source),true).forEach(function(key){(0,_defineProperty2.default)(target,key,source[key]);});}else if(Object.getOwnPropertyDescriptors){Object.defineProperties(target,Object.getOwnPropertyDescriptors(source));}else{ownKeys(Object(source)).forEach(function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key));});}}return target;}var _createActions=(0,_reduxsauce.createActions)({deviceStartup:null,setDeviceError:['errorMessage'],scannerStateUpdated:['scannerState'],addDevice:['device'],removeDevice:['device'],clearDevices:null,connectedDeviceUpdated:['connectedDevice'],connectionStateUpdated:['connectionState'],connectionMethodeUpdated:['connectionMethode'],setDeviceData:['data'],updateDeviceData:['data'],connectDevice:['device'],disconnectDevice:['methode'],readDeviceData:null,fetchDevice:null}),Types=_createActions.Types,Creators=_createActions.Creators;var DeviceTypes=_objectSpread(_objectSpread(_objectSpread({},Types),_Actions.BleTypes),_Actions2.BluetoothTypes);exports.DeviceTypes=DeviceTypes;var _default=_objectSpread(_objectSpread(_objectSpread({},Creators),_Actions.default),_Actions2.default);exports.default=_default;

/***/ }),

/***/ 992:
/***/ (function(module, exports, __webpack_require__) {

var _interopRequireDefault=__webpack_require__(2);Object.defineProperty(exports,"__esModule",{value:true});exports.default=void 0;var _defineProperty2=_interopRequireDefault(__webpack_require__(11));var _react=_interopRequireDefault(__webpack_require__(1));var _StyleSheet=_interopRequireDefault(__webpack_require__(12));var _View=_interopRequireDefault(__webpack_require__(8));var _TouchableOpacity=_interopRequireDefault(__webpack_require__(41));var _Text=_interopRequireDefault(__webpack_require__(21));var _FlatList=_interopRequireDefault(__webpack_require__(50));var _Theme=__webpack_require__(22);function ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);if(enumerableOnly)symbols=symbols.filter(function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable;});keys.push.apply(keys,symbols);}return keys;}function _objectSpread(target){for(var i=1;i<arguments.length;i++){var source=arguments[i]!=null?arguments[i]:{};if(i%2){ownKeys(Object(source),true).forEach(function(key){(0,_defineProperty2.default)(target,key,source[key]);});}else if(Object.getOwnPropertyDescriptors){Object.defineProperties(target,Object.getOwnPropertyDescriptors(source));}else{ownKeys(Object(source)).forEach(function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key));});}}return target;}var ContentProp=function ContentProp(props){var texts=[];if(props.texts){props.texts.forEach(function(element,i){texts.push(_react.default.createElement(_View.default,{style:[styles.contentBox,props.textsStyle],key:"text_"+i},_react.default.createElement(_Text.default,null,element)));});}var datas=[];if(props.datas){props.datas.forEach(function(element,i){datas.push(_react.default.createElement(_TouchableOpacity.default,{style:[styles.contentBox,props.datasStyle],onLongPress:function onLongPress(){if(props.onPress){props.onPress({data:element,index:i});}},key:"data_"+i},_react.default.createElement(_Text.default,null,element)));});}var length=texts.length>datas.length?texts.length:datas.length;var view=[];for(var i=0;i<length;i++){var dataRow=[];if(i<texts.length){dataRow.push(texts[i]);}else{dataRow.push(_react.default.createElement(_View.default,{style:[_Theme.Helpers.fill,_Theme.Helpers.colCenter],key:"leftSpace_"+i}));}if(datas.length>0){dataRow.push(_react.default.createElement(_View.default,{style:[_Theme.Helpers.fill,_Theme.Helpers.colCenter,{maxWidth:20}],key:"seperator_"+view.length}));if(i<datas.length){dataRow.push(datas[i]);}else{dataRow.push(_react.default.createElement(_View.default,{style:[_Theme.Helpers.fill,_Theme.Helpers.colCenter],key:"rightSpace_"+i}));}}view.push(_react.default.createElement(_View.default,{style:[props.datas?_Theme.Helpers.rowCenter:_Theme.Helpers.halvWidth,_Theme.Metrics.tinyVerticalMargin],key:"row_"+view.length},dataRow));}return view;};var styles=_StyleSheet.default.create({contentBox:_objectSpread(_objectSpread(_objectSpread(_objectSpread({},_Theme.Helpers.fill),_Theme.Helpers.colCenter),_Theme.Helpers.borderContainer),{},{borderRadius:0,minHeight:30})});var _default=ContentProp;exports.default=_default;

/***/ }),

/***/ 993:
/***/ (function(module, exports, __webpack_require__) {

var _interopRequireDefault=__webpack_require__(2);var _interopRequireWildcard=__webpack_require__(7);Object.defineProperty(exports,"__esModule",{value:true});exports.default=void 0;var _react=_interopRequireWildcard(__webpack_require__(1));var _StyleSheet=_interopRequireDefault(__webpack_require__(12));var _Text=_interopRequireDefault(__webpack_require__(21));var _View=_interopRequireDefault(__webpack_require__(8));var _Image=_interopRequireDefault(__webpack_require__(33));var _ActivityIndicator=_interopRequireDefault(__webpack_require__(30));var _Theme=__webpack_require__(22);var Loading=function Loading(props){if(props.loading){var styles=props.back?styles.container:{};return _react.default.createElement(_View.default,{style:[_Theme.Helpers.fillRowCenter,_Theme.Helpers.center,_Theme.Helpers.logoContainer,styles]},_react.default.createElement(_View.default,{style:[_Theme.Helpers.center,_Theme.Helpers.logoContainer]},_react.default.createElement(_Image.default,{style:_Theme.Helpers.fullSize,source:_Theme.Images.Hexa_icon,resizeMode:'contain'})));}else return null;};var styles=_StyleSheet.default.create({container:{backgroundColor:_Theme.Colors.primary}});var _default=Loading;exports.default=_default;

/***/ }),

/***/ 994:
/***/ (function(module, exports, __webpack_require__) {

var _interopRequireWildcard=__webpack_require__(7);var _interopRequireDefault=__webpack_require__(2);Object.defineProperty(exports,"__esModule",{value:true});exports.default=void 0;var _classCallCheck2=_interopRequireDefault(__webpack_require__(9));var _createClass2=_interopRequireDefault(__webpack_require__(10));var _inherits2=_interopRequireDefault(__webpack_require__(15));var _possibleConstructorReturn2=_interopRequireDefault(__webpack_require__(16));var _getPrototypeOf2=_interopRequireDefault(__webpack_require__(14));var _react=_interopRequireWildcard(__webpack_require__(1));var _Platform=_interopRequireDefault(__webpack_require__(18));var _Text=_interopRequireDefault(__webpack_require__(21));var _View=_interopRequireDefault(__webpack_require__(8));var _ActivityIndicator=_interopRequireDefault(__webpack_require__(30));var _ScrollView=_interopRequireDefault(__webpack_require__(39));var _reactRedux=__webpack_require__(37);var _redux=__webpack_require__(29);var _NavigationService=_interopRequireDefault(__webpack_require__(32));var _Actions=_interopRequireDefault(__webpack_require__(38));var _Selectors=__webpack_require__(40);var _Components=__webpack_require__(44);var _Theme=__webpack_require__(22);function _createSuper(Derived){var hasNativeReflectConstruct=_isNativeReflectConstruct();return function _createSuperInternal(){var Super=(0,_getPrototypeOf2.default)(Derived),result;if(hasNativeReflectConstruct){var NewTarget=(0,_getPrototypeOf2.default)(this).constructor;result=Reflect.construct(Super,arguments,NewTarget);}else{result=Super.apply(this,arguments);}return(0,_possibleConstructorReturn2.default)(this,result);};}function _isNativeReflectConstruct(){if(typeof Reflect==="undefined"||!Reflect.construct)return false;if(Reflect.construct.sham)return false;if(typeof Proxy==="function")return true;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}));return true;}catch(e){return false;}}var OperationsPanel=function(_Component){(0,_inherits2.default)(OperationsPanel,_Component);var _super=_createSuper(OperationsPanel);function OperationsPanel(props){var _this;(0,_classCallCheck2.default)(this,OperationsPanel);_this=_super.call(this,props);_this.state={View:1};return _this;}(0,_createClass2.default)(OperationsPanel,[{key:"getPenAndSection",value:function getPenAndSection(){var Section,Pen=undefined;if(this.props.pig&&this.props.pigTag&&this.props.PigsList){if(this.props.PigsList[this.props.pigTag]&&this.props.PigsList[this.props.pigTag].pen&&this.props.PigsList[this.props.pigTag].pen!=0){Pen=this.props.PigsList[this.props.pigTag].pen;var localDataStore=this.props.firebase.localDataStore;if(localDataStore&&localDataStore.pens&&localDataStore.pens[Pen]){var PenData=localDataStore.pens[Pen];Section=PenData.section;}}}return{Section:Section,Pen:Pen};}},{key:"getData",value:function getData(){}},{key:"componentDidMount",value:function componentDidMount(){this.getData();}},{key:"componentDidUpdate",value:function componentDidUpdate(prevProps,prevState){if(this.props!==prevProps){}}},{key:"render",value:function render(){var _this2=this;var CurrentData=this.props.firebase.currentData;if(this.props.pig){return _react.default.createElement(_View.default,{style:[_Theme.Helpers.buttonContainer]},_react.default.createElement(_Components.Button,{Text:"Add Pig",onPress:function onPress(){if(_this2.props.pigTag!==""){if(Object.keys(_this2.props.PigsList).filter(function(e){return e===_this2.props.pigTag;}).length>0){_this2.props.setFirebaseError("Can not add Tag already exist");}else{_this2.props.setFirebaseError("");_this2.props.newPig(_this2.props.pigTag);}}else _this2.props.setFirebaseError("A Tag is needed");}}),_react.default.createElement(_Components.Button,{Text:"Move Pig",onPress:function onPress(){var _this2$getPenAndSecti=_this2.getPenAndSection(),Section=_this2$getPenAndSecti.Section,Pen=_this2$getPenAndSecti.Pen;_this2.props.setCurrentPig(_this2.props.pigTag,Section,Pen);_NavigationService.default.navigate("DataEditor");}}));}else if(this.props.section){return _react.default.createElement(_View.default,{style:[_Theme.Helpers.buttonContainer]},_react.default.createElement(_Components.Button,{Text:"Weight",onPress:function onPress(){_NavigationService.default.navigate("WeighingOperations");}}),_react.default.createElement(_View.default,{style:[{marginTop:40}]},_react.default.createElement(_Components.Button,{Text:"Add Pen",onPress:function onPress(){_this2.props.editPens(_Selectors.Actions.CREATE);_NavigationService.default.navigate("DataEditor");}}),_react.default.createElement(_Components.Button,{Text:"Remove Pen",onPress:function onPress(){_this2.props.editPens(_Selectors.Actions.DELETE);_NavigationService.default.navigate("DataEditor");}})));}else{var Action=1;switch(this.state.View){case _Selectors.Operations.MOVE:case _Selectors.Operations.LOST:case _Selectors.Operations.SOLD:Action=-1;case _Selectors.Operations.ADD:return _react.default.createElement(_Components.Comment_Module,{Title:"Operations comment:",Quantity:true,Weight:true,onDone:function onDone(res){if(res.res){var action=_this2.state.View;action=action.charAt(0).toUpperCase()+action.slice(1);var quantity=res.quantity;if(isNaN(quantity))quantity=1;Action=Action*quantity;if(res.weight&&res.weight!==""){var weight=res.weight;if(_this2.state.View===_Selectors.Operations.ADD){_this2.props.newWeight(CurrentData.penId,weight,Date.now(),1);}}_this2.props.newComment(CurrentData.penId,action,res.data,quantity,weight);_this2.props.newPigCount(CurrentData.penId,Action);}_this2.setState({View:1});}});case _Selectors.Operations.NOTE:return _react.default.createElement(_Components.Comment_Module,{Title:"Pen Note:",onDone:function onDone(res){if(res.res&&res.data){var action=_this2.state.View;action=action.charAt(0).toUpperCase()+action.slice(1);_this2.props.newComment(CurrentData.penId,action,res.data);}_this2.setState({View:1});}});break;default:return _react.default.createElement(_ScrollView.default,{style:{paddingRight:5}},_react.default.createElement(_View.default,{style:[_Theme.Helpers.buttonContainer]},_react.default.createElement(_Components.Button,{Text:"Weight",onPress:function onPress(){_NavigationService.default.navigate("WeighingOperations");}}),_react.default.createElement(_Components.Button,{Text:"Note",onPress:function onPress(){_this2.setState({View:_Selectors.Operations.NOTE});}}),_react.default.createElement(_View.default,{style:[{marginTop:10}]},_react.default.createElement(_Components.Button,{Text:"Add Pig",onPress:function onPress(){_this2.setState({View:_Selectors.Operations.ADD});}}),_react.default.createElement(_Components.Button,{Text:"Move Pig",onPress:function onPress(){_this2.setState({View:_Selectors.Operations.MOVE});}}),_react.default.createElement(_Components.Button,{Text:"Lost Pig",onPress:function onPress(){_this2.setState({View:_Selectors.Operations.LOST});}}),_react.default.createElement(_Components.Button,{Text:"Sold Pig",onPress:function onPress(){_this2.setState({View:_Selectors.Operations.SOLD});}}))));}}}}]);return OperationsPanel;}(_react.Component);var mapStateToProps=function mapStateToProps(state){var firebase=state.firebase;return{firebase:firebase};};var mapDispatchToProps=function mapDispatchToProps(dispatch){return{setFirebaseError:function setFirebaseError(error){return dispatch(_Actions.default.setFirebaseError(error));},setCurrentData:function setCurrentData(penId){return dispatch(_Actions.default.setCurrentData({type:_Selectors.DataRefs.PENS,penId:penId}));},setCurrentDataElement:function setCurrentDataElement(element){return dispatch(_Actions.default.setCurrentData(element));},editPens:function editPens(action){return dispatch(_Actions.default.setCurrentData({type:_Selectors.DataRefs.PENS,action:action}));},setCurrentPig:function setCurrentPig(pigTag,Section,Pen){return dispatch(_Actions.default.setCurrentData({type:_Selectors.DataRefs.PIGS,action:_Selectors.Actions.CREATE,pigtag:pigTag,data:{section:Section},dataId:Pen}));},newPig:function newPig(pigTag){return dispatch(_Actions.default.actionStarting(_Selectors.Actions.CREATE,_Selectors.DataRefs.PIGS,{TagId:pigTag}));},newPigCount:function newPigCount(penId,countChange){return dispatch(_Actions.default.actionStarting(_Selectors.Actions.CREATE,_Selectors.DataRefs.PIGS,{PenId:penId,Action:countChange}));},newComment:function newComment(penId,action,data){var quantity=arguments.length>3&&arguments[3]!==undefined?arguments[3]:null;var weight=arguments.length>4&&arguments[4]!==undefined?arguments[4]:null;return dispatch(_Actions.default.actionStarting(_Selectors.Actions.CREATE,_Selectors.DataRefs.COMMENTS,{PenId:penId,Action:action,Data:data,Quantity:quantity,Weight:weight}));},newWeight:function newWeight(penId,weight,date,quantity){return dispatch(_Actions.default.actionStarting(_Selectors.Actions.CREATE,_Selectors.DataRefs.WEIGHING,{PenId:penId,Weight:weight,Quantity:quantity,Date:date}));}};};var _default=(0,_reactRedux.connect)(mapStateToProps,mapDispatchToProps)(OperationsPanel);exports.default=_default;

/***/ }),

/***/ 995:
/***/ (function(module, exports, __webpack_require__) {

var _interopRequireDefault=__webpack_require__(2);var _interopRequireWildcard=__webpack_require__(7);Object.defineProperty(exports,"__esModule",{value:true});exports.default=void 0;var _react=_interopRequireWildcard(__webpack_require__(1));var _Text=_interopRequireDefault(__webpack_require__(21));var _View=_interopRequireDefault(__webpack_require__(8));var _StyleSheet=_interopRequireDefault(__webpack_require__(12));var _Animated=_interopRequireDefault(__webpack_require__(45));var _Theme=__webpack_require__(22);var ProgressBar=function ProgressBar(props){var animation=(0,_react.useRef)(new _Animated.default.Value(0));var progress=props.progress;var Color=props.color?props.color:"#8BED4F";(0,_react.useEffect)(function(){_Animated.default.timing(animation.current,{toValue:progress,duration:100}).start();},[progress]);var width=animation.current.interpolate({inputRange:[0,100],outputRange:["0%","100%"],extrapolate:"clamp"});return _react.default.createElement(_View.default,{style:[_Theme.Helpers.borderContainer,_Theme.Helpers.fullWidth,{borderWidth:0,minHeight:45,paddingBottom:10}]},_react.default.createElement(_View.default,{style:[_Theme.Helpers.fill,_Theme.Helpers.fullWidth,_Theme.Helpers.colMain,{alignContent:'center'}]},props.text?_react.default.createElement(_Text.default,{style:{alignSelf:'flex-start',minHeight:20}},props.text):_react.default.createElement(_react.default.Fragment,null),_react.default.createElement(_View.default,{style:styles.progressBar},_react.default.createElement(_Animated.default.View,{style:([_StyleSheet.default.absoluteFill],{backgroundColor:Color,width:width})}))));};var _default=ProgressBar;exports.default=_default;var styles=_StyleSheet.default.create({container:{flex:1,flexDirection:'column',justifyContent:'center',alignItems:'center',paddingTop:5,padding:8},progressBar:{flexDirection:'row',height:20,width:'100%',borderColor:'#000',borderWidth:2,borderRadius:5}});

/***/ }),

/***/ 996:
/***/ (function(module, exports, __webpack_require__) {

var _interopRequireWildcard=__webpack_require__(7);var _interopRequireDefault=__webpack_require__(2);Object.defineProperty(exports,"__esModule",{value:true});exports.default=void 0;var _classCallCheck2=_interopRequireDefault(__webpack_require__(9));var _createClass2=_interopRequireDefault(__webpack_require__(10));var _inherits2=_interopRequireDefault(__webpack_require__(15));var _possibleConstructorReturn2=_interopRequireDefault(__webpack_require__(16));var _getPrototypeOf2=_interopRequireDefault(__webpack_require__(14));var _react=_interopRequireWildcard(__webpack_require__(1));var _StyleSheet=_interopRequireDefault(__webpack_require__(12));var _View=_interopRequireDefault(__webpack_require__(8));var _TouchableOpacity=_interopRequireDefault(__webpack_require__(41));var _Picker=_interopRequireDefault(__webpack_require__(125));var _Text=_interopRequireDefault(__webpack_require__(21));var _Image=_interopRequireDefault(__webpack_require__(33));var _Theme=__webpack_require__(22);function _createSuper(Derived){var hasNativeReflectConstruct=_isNativeReflectConstruct();return function _createSuperInternal(){var Super=(0,_getPrototypeOf2.default)(Derived),result;if(hasNativeReflectConstruct){var NewTarget=(0,_getPrototypeOf2.default)(this).constructor;result=Reflect.construct(Super,arguments,NewTarget);}else{result=Super.apply(this,arguments);}return(0,_possibleConstructorReturn2.default)(this,result);};}function _isNativeReflectConstruct(){if(typeof Reflect==="undefined"||!Reflect.construct)return false;if(Reflect.construct.sham)return false;if(typeof Proxy==="function")return true;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}));return true;}catch(e){return false;}}var monthNames=["January","February","March","April","May","June","July","August","September","October","November","December"];var DateTime_Picker=function(_Component){(0,_inherits2.default)(DateTime_Picker,_Component);var _super=_createSuper(DateTime_Picker);function DateTime_Picker(props){var _this;(0,_classCallCheck2.default)(this,DateTime_Picker);_this=_super.call(this,props);var _this$getStates=_this.getStates(props),year=_this$getStates.year,month=_this$getStates.month,day=_this$getStates.day;_this.state={year:year,month:month,day:day};return _this;}(0,_createClass2.default)(DateTime_Picker,[{key:"getStates",value:function getStates(props){var Today=new Date();var Selected=new Date();if(props.Selected){Selected=new Date(props.Selected);}var year,month,day;year=Selected.getFullYear();month=Selected.getMonth();day=Selected.getDate();if(!props.Selected){if(props.Year){year=this.props.Year;}if(props.Month){month=this.props.Month;}if(props.Day){day=this.props.Day;}}return{year:year,month:month,day:day};}},{key:"componentDidUpdate",value:function componentDidUpdate(prevProps,prevState){if(prevProps.Selected){if(prevProps.Selected!=this.props.Selected){var _this$getStates2=this.getStates(this.props),year=_this$getStates2.year,month=_this$getStates2.month,day=_this$getStates2.day;this.setState({year:year,month:month,day:day},this.forceUpdate());}}else{var changed=false;if(prevProps.Year!=this.props.Year)changed=true;if(prevProps.Month!=this.props.Month)changed=true;if(prevProps.Day!=this.props.Day)changed=true;if(changed){this.forceUpdate();}}}},{key:"render",value:function render(){var _this2=this;var Today=new Date();var year=Today.getFullYear();var YearItems=[];for(var index=year+25;index>year-25;index--){var val=String(index);YearItems.push(_react.default.createElement(_Picker.default.Item,{key:"Year_"+index,value:index,label:val}));}var MonthItems=[];var month=Today.getMonth();for(var _index=0;_index<monthNames.length;_index++){var val=String(_index);MonthItems.push(_react.default.createElement(_Picker.default.Item,{key:"Month_"+_index,value:_index,label:monthNames[_index]}));}var DayItems=[];var days=new Date(year,month+1,0).getDate();for(var _index2=1;_index2<=days;_index2++){var val=String(_index2);DayItems.push(_react.default.createElement(_Picker.default.Item,{key:"Day_"+_index2,value:_index2,label:val}));}return _react.default.createElement(_View.default,{style:[_Theme.Helpers.fullWidth,_Theme.Helpers.row,{marginBottom:-10},this.props.style]},_react.default.createElement(_Picker.default,{selectedValue:this.state.year,style:[{minWidth:101,marginRight:5}],onValueChange:function onValueChange(_year){year=_year;_this2.props.onValueChange(new Date(year,_this2.state.month,_this2.state.day));}},YearItems),_react.default.createElement(_Picker.default,{selectedValue:this.state.month,style:[{minWidth:110,marginRight:5}],onValueChange:function onValueChange(_month){month=_month;_this2.props.onValueChange(new Date(_this2.state.year,month,_this2.state.day));}},MonthItems),_react.default.createElement(_Picker.default,{selectedValue:this.state.day,style:[{minWidth:83}],onValueChange:function onValueChange(_day){days=parseInt(_day);_this2.props.onValueChange(new Date(_this2.state.year,_this2.state.month,days));}},DayItems));}}]);return DateTime_Picker;}(_react.Component);var _default=DateTime_Picker;exports.default=_default;

/***/ }),

/***/ 997:
/***/ (function(module, exports, __webpack_require__) {

var _interopRequireWildcard=__webpack_require__(7);var _interopRequireDefault=__webpack_require__(2);Object.defineProperty(exports,"__esModule",{value:true});exports.default=void 0;var _slicedToArray2=_interopRequireDefault(__webpack_require__(54));var _react=_interopRequireWildcard(__webpack_require__(1));var _Platform=_interopRequireDefault(__webpack_require__(18));var _View=_interopRequireDefault(__webpack_require__(8));var _Text=_interopRequireDefault(__webpack_require__(21));var _TextInput=_interopRequireDefault(__webpack_require__(85));var _Image=_interopRequireDefault(__webpack_require__(33));var _StyleSheet=_interopRequireDefault(__webpack_require__(12));var _index=__webpack_require__(114);var _Button=_interopRequireDefault(__webpack_require__(190));var _reactNativeElements=__webpack_require__(46);var _Selectors=__webpack_require__(40);var _Theme=__webpack_require__(22);var Comment_Module=function Comment_Module(props){var Title=props.Title;var Quantity=props.Quantity?props.Quantity:false;var Weight=props.Weight?props.Weight:false;var onDone=props.onDone;var Button1="Done";var Button2="Cancel";var _useState=(0,_react.useState)(""),_useState2=(0,_slicedToArray2.default)(_useState,2),InputText=_useState2[0],setInputText=_useState2[1];var _useState3=(0,_react.useState)("1"),_useState4=(0,_slicedToArray2.default)(_useState3,2),QuantityText=_useState4[0],setQuantityText=_useState4[1];var _useState5=(0,_react.useState)(""),_useState6=(0,_slicedToArray2.default)(_useState5,2),WeightText=_useState6[0],setWeightText=_useState6[1];var App=_Platform.default.OS==="android"||_Platform.default.OS==="ios"?true:false;return _react.default.createElement(_View.default,{style:[_Theme.Helpers.buttonContainer,props.style]},_react.default.createElement(_View.default,{style:styles.textAreaContainer},_react.default.createElement(_View.default,{style:[App?{}:_Theme.Helpers.row]},Title?_react.default.createElement(_Text.default,{style:[_Theme.Fonts.normal,{height:24,color:_Theme.Colors.input}]},Title):_react.default.createElement(_react.default.Fragment,null),Quantity?_react.default.createElement(_View.default,{style:[_Theme.Helpers.row,App?{}:{marginLeft:50,marginBottom:4}]},_react.default.createElement(_Text.default,{style:[_Theme.Fonts.normal,{height:24,color:_Theme.Colors.input}]},"Quantity:"),_react.default.createElement(_TextInput.default,{style:[styles.textArea,{marginLeft:10,height:22,width:80,paddingBottom:-10}],multiline:false,onChangeText:function onChangeText(text){if(text===""||!isNaN(text))setQuantityText(text);},value:QuantityText})):_react.default.createElement(_react.default.Fragment,null)),Weight?_react.default.createElement(_View.default,{style:[_Theme.Helpers.row,App?{}:{marginBottom:4}]},_react.default.createElement(_Text.default,{style:[_Theme.Fonts.normal,{height:24,color:_Theme.Colors.input}]},"Average Weight:"),_react.default.createElement(_TextInput.default,{style:[styles.textArea,{marginLeft:10,height:22,width:80,paddingBottom:-10}],multiline:false,onChangeText:function onChangeText(text){if(text===""||!isNaN(text))setWeightText(text);},value:WeightText})):_react.default.createElement(_react.default.Fragment,null),_react.default.createElement(_TextInput.default,{style:styles.textArea,underlineColorAndroid:"transparent",placeholder:"Note context..",placeholderTextColor:"grey",numberOfLines:10,multiline:true,onChangeText:function onChangeText(text){return setInputText(text);},value:InputText})),_react.default.createElement(_Button.default,{key:"_Done",Text:Button1,onPress:function onPress(){if(onDone){onDone({res:true,data:InputText,quantity:QuantityText,weight:WeightText});}}}),_react.default.createElement(_Button.default,{key:"_Cancel",Text:Button2,onPress:function onPress(){if(onDone){onDone({res:false,data:InputText});}}}));};var styles=_StyleSheet.default.create({textAreaContainer:{borderColor:_Theme.Colors.gray,borderWidth:1,padding:5},textArea:{height:150,justifyContent:"flex-start",borderColor:"black",borderWidth:0.5,padding:5}});var _default=Comment_Module;exports.default=_default;

/***/ }),

/***/ 998:
/***/ (function(module, exports, __webpack_require__) {

var _interopRequireDefault=__webpack_require__(2);Object.defineProperty(exports,"__esModule",{value:true});exports.default=void 0;var _defineProperty2=_interopRequireDefault(__webpack_require__(11));var _StyleSheet=_interopRequireDefault(__webpack_require__(12));var _Theme=__webpack_require__(22);function ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);if(enumerableOnly)symbols=symbols.filter(function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable;});keys.push.apply(keys,symbols);}return keys;}function _objectSpread(target){for(var i=1;i<arguments.length;i++){var source=arguments[i]!=null?arguments[i]:{};if(i%2){ownKeys(Object(source),true).forEach(function(key){(0,_defineProperty2.default)(target,key,source[key]);});}else if(Object.getOwnPropertyDescriptors){Object.defineProperties(target,Object.getOwnPropertyDescriptors(source));}else{ownKeys(Object(source)).forEach(function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key));});}}return target;}var _default=_StyleSheet.default.create({logoContainer:_objectSpread(_objectSpread({},_Theme.Helpers.fullWidth),{},{height:190,marginTop:_Theme.Metrics.medium*2,marginBottom:_Theme.Metrics.medium})});exports.default=_default;

/***/ }),

/***/ 999:
/***/ (function(module, exports, __webpack_require__) {

var _interopRequireDefault=__webpack_require__(2);var _interopRequireWildcard=__webpack_require__(7);Object.defineProperty(exports,"__esModule",{value:true});exports.default=void 0;var _react=_interopRequireWildcard(__webpack_require__(1));var _Platform=_interopRequireDefault(__webpack_require__(18));var _Text=_interopRequireDefault(__webpack_require__(21));var _View=_interopRequireDefault(__webpack_require__(8));var _Button=_interopRequireDefault(__webpack_require__(407));var _ActivityIndicator=_interopRequireDefault(__webpack_require__(30));var _Image=_interopRequireDefault(__webpack_require__(33));var _reactRedux=__webpack_require__(37);var _NavigationService=_interopRequireDefault(__webpack_require__(32));var _Actions=_interopRequireDefault(__webpack_require__(140));var _Selectors=__webpack_require__(1000);var _ExampleScreenStyle=_interopRequireDefault(__webpack_require__(1001));var _Theme=__webpack_require__(22);var instructions=_Platform.default.select({ios:'Press Cmd+R to reload,\nCmd+D or shake for dev menu.',android:'Double tap R on your keyboard to reload,\nShake or press menu button for dev menu.'});var ExampleScreen=function ExampleScreen(){var dispatch=(0,_reactRedux.useDispatch)();var user=(0,_reactRedux.useSelector)(function(state){return state.example.user;});var userIsLoading=(0,_reactRedux.useSelector)(function(state){return state.example.userIsLoading;});var userErrorMessage=(0,_reactRedux.useSelector)(function(state){return state.example.userErrorMessage;});(0,_react.useEffect)(function(){dispatch(_Actions.default.fetchUser());},[]);return _react.default.createElement(_View.default,{style:[_Theme.Helpers.fillCenter,_Theme.Helpers.rowMain,_Theme.Metrics.mediumHorizontalMargin,_Theme.Metrics.mediumVerticalMargin]},userIsLoading?_react.default.createElement(_ActivityIndicator.default,{size:"large",color:"#0000ff"}):_react.default.createElement(_View.default,null,_react.default.createElement(_View.default,{style:_ExampleScreenStyle.default.logoContainer},_react.default.createElement(_Image.default,{style:_Theme.Helpers.fullSize,source:_Theme.Images.logo,resizeMode:'contain'})),_react.default.createElement(_Text.default,{style:_ExampleScreenStyle.default.text},"To get started, edit App.js"),_react.default.createElement(_Text.default,{style:_ExampleScreenStyle.default.instructions},instructions),userErrorMessage?_react.default.createElement(_Text.default,{style:_ExampleScreenStyle.default.error},userErrorMessage):_react.default.createElement(_View.default,null,_react.default.createElement(_Text.default,{style:_ExampleScreenStyle.default.result},"I'm a fake user, my name is ",user.name),_react.default.createElement(_Text.default,{style:_ExampleScreenStyle.default.result},_Selectors.liveInEurope?'I live in Europe !':"I don't live in Europe.")),_react.default.createElement(_Button.default,{style:_Theme.ApplicationStyles.button,onPress:function onPress(){return dispatch(_Actions.default.fetchUser());},title:"Refresh"}),_react.default.createElement(_Button.default,{style:_Theme.ApplicationStyles.button,onPress:function onPress(){return _NavigationService.default.navigate("TestScreen");},title:"Test"})));};var _default=ExampleScreen;exports.default=_default;

/***/ })

},[[499,1,2]]]);
//# sourceMappingURL=app.df4e038c.chunk.js.map