{"version":3,"sources":["Src/Stores/CreateStore.js","Src/Stores/Startup/Actions.js","Src/Stores/Example/Actions.js","Src/Services/NavigationService.js","Src/Stores/Firebase/Actions.js","Src/Sagas/StartupSaga.js","Src/Services/UserService.js","Src/Config/index.js","Src/Sagas/Example/ExampleSaga.js","Src/Stores/Firebase/Selectors.js","Src/Services/FirebaseService.js","Src/Sagas/Firebase/FirebaseSaga.js","Src/Sagas/index.js","Src/Stores/Example/InitialState.js","Src/Stores/Example/Reducers.js","Src/Stores/Firebase/Reducers.js","Src/Stores/Firebase/InitialState.js","Src/Theme/Colors.js","Src/Theme/Fonts.js","Src/Theme/Metrics.js","Src/Theme/Images.js","Src/Theme/Helpers.js","Src/Theme/ApplicationStyles.js","Src/Containers/SplashScreen/SplashScreenStyle.js","Src/Containers/SplashScreen/SplashScreen.js","Src/Containers/DeepLinking/DeepLinkingScreen.js","Src/Components/Button.js","Src/Components/Button_Panel.js","Src/Components/TitleElement.js","Src/Components/CustomListItem.js","Src/Components/ContentProp.js","Src/Components/Loading.js","Src/Components/OperationsPanel.js","Src/Components/Progressbar.js","Src/Components/DateTime_Picker.js","Src/Components/Comment_Module.js","Src/Containers/Agrisys/FrontScreenStyle.js","Src/Containers/Agrisys/FrontScreen.js","Src/Stores/Example/Selectors.js","Src/Containers/Example/ExampleScreenStyle.js","Src/Containers/Example/ExampleScreen.js","Src/Navigators/FrontNavigator.js","Src/Containers/Cloud/AuthScreens/AuthStyle.js","Src/Containers/Cloud/AuthScreens/UserLoadingScreen.js","Src/Containers/Cloud/AuthScreens/UserLoginScreen.js","Src/Containers/Cloud/AuthScreens/CreateUserDataScreen.js","Src/Navigators/AuthNavigator.js","Src/Containers/Cloud/UserPanel/UserPanelStyle.js","Src/Containers/Cloud/UserPanel/FrontScreen.js","Src/Containers/Cloud/UserPanel/Dashboard.js","Src/Containers/Cloud/CloudScreenStyle.js","Src/Containers/Cloud/UserPanel/Pigs.js","Src/Containers/Cloud/UserPanel/Pens.js","Src/Containers/Cloud/UserPanel/Batchs.js","Src/Containers/Cloud/UserPanel/CurveElement.js","Src/Containers/Cloud/UserPanel/GrowthCurves.js","Src/Containers/Cloud/UserPanel/Operations.js","Src/Containers/Cloud/UserPanel/Weighing.js","Src/Containers/Cloud/UserPanel/DataEditor.js","Src/Containers/Cloud/UserPanel/DataDisplay_Pens.js","Src/Containers/Cloud/UserPanel/DataDisplay_Pigs.js","Src/Containers/Cloud/UserPanel/DataDisplay.js","Src/Containers/Cloud/UserPanel/DataPlotter.js","Src/Navigators/UserPanelNavigator.js","Src/Containers/Cloud/AdminPanel/AdminPanelStyle.js","Src/Containers/Cloud/AdminPanel/FrontScreen.js","Src/Containers/Cloud/AdminPanel/UserBoard.js","Src/Containers/Cloud/AdminPanel/SystemBoard.js","Src/Navigators/AdminPanelNavigator.js","Src/Navigators/AppNavigator.js","Src/Containers/Root/RootScreen.js","Src/Stores/index.js","App.tsx","Src/Assets/Images/Home.png","Src/Assets/Images/Dashboard.png","Src/Assets/Images/System.png","Src/Assets/Images/Feed-Curves.png","Src/Assets/Images/User.png","Src/Assets/Images/Sow.png","Src/Assets/Images/Section.png","Src/Assets/Images/Area_Colour.png","Src/Assets/Images/AutoPig.png","Src/Assets/Images/Feed-Components.png","Src/Assets/Images/Hexagon-globe.png","Src/Assets/Images/Hexa-icon.png","Src/Assets/Images/Logo.png","Src/Assets/Images/TOM.png"],"names":["JSOGTransform","createTransform","inboundState","key","JSOG","encode","outboundState","decode","persistConfig","storage","transforms","blacklist","createActions","startup","Types","Creators","StartupTypes","fetchUser","fetchUserLoading","fetchUserSuccess","fetchUserFailure","ExampleTypes","navigator","LastPage","firebaseStartup","firebaseIsLoading","setFirebaseError","setCurrentData","actionStarting","fetchStarting","dataFetchSuccess","fetchSuccess","fetchFailure","FirebaseTypes","navigate","routeName","params","dispatch","NavigationActions","replace","StackActions","navigateAndReset","reset","index","actions","setTopLevelNavigator","navigatorRef","nacigationPop","back","put","FirebaseActions","NavigationService","in200s","curryN","min","max","value","isNumber","is","Number","gte","isWithin","userApiClient","axios","create","baseURL","headers","Accept","timeout","userService","console","log","Math","random","Promise","resolve","reject","number","floor","get","toString","then","response","status","data","ExampleActions","call","user","UserStates","DataStates","DataRefs","USERSDATA","USERS","FARMS","SECTIONS","PENS","PIGS","BATCHS","WEIGHING","GRAPH","COMMENTS","FARMDATAS","SHARES","Actions","SIGN","FETCH","CREATE","UPDATE","MOVE","DELETE","CLEAR","ADD","Operations","format_num","num","format_Time","time","s","Date","parseInt","getDate","getMonth","getFullYear","getHours","getMinutes","getSeconds","reA","reN","sortAlphaNum","a","b","aA","bA","aN","bN","sortObject","o","sorted","hasOwnProperty","push","sort","length","GetCurve_FromBatch","Batch","GraphsStore","CurrentData","gcurve","state","curveId","Id","GetBatchEnd","TempCurve","currentTime","i","AccumulateTime","periode","getTime","Time","PeriodeLength","NewTime","setDate","setMonth","get_DataSpot_FromData","localDataStore","PenId","Closed","weighings","Weighing","_weighing","weighing","weight","count","isNaN","_batch","batchs","batch","pens","datas","graphs","Curve","WeighingTime","StartTime","EndTime","Keys","Object","keys","DataSpot","get_DataSpot","MinMax_Time","MinMax_Data","FindTime","Data","DataTime","ExValue","VirData","ExTime","slope","minX","maxX","minY","GetSlope_Between","CurvePredict","filter","e","GetBatch_FromPen","BatchEndDate","WeighingsStore","AfterTime","BeforeTime","GetWeight_FromPen","PredictStart","StartIndex","PredictCurve","Addition","now","CurrentTime","CurrentIndex","Now","days","lastWeighing","createFirebaseUserWithemailandpassword","Email","Pass","firebase","auth","createUserWithEmailAndPassword","User","currentUser","Name","displayName","email","UserId","uid","name","catch","error","code","signinWithemailandpassword","logoutUser","signInWithEmailAndPassword","signOut","ref","action","CurrentUser","createFarm","Farms","farmid","updateFarmData","FarmId","sections","Sections","Pens","updateUserData","UserData","farms","userData","type","path","fetchFarm","fetchSections","fetchPens","createNewPen","deletePen","updatePen","fetchPigs","updatePigdata","fetchBatchs","createBatchs","updateBatchs","fetchWeights","createWeight","fetchComments","createComment","fetchGraphData","updateGraphData","SetUpdateTime","DataRef","database","update","update_time","ServerValue","TIMESTAMP","CheckDataTime","once","_Time","UpdateTime","val","res","List","_farmData","farm","set","manager","SectionId","DoFetch","_sectionidData","_pensData","penData","pen","ref2","section","_Pen","remove","Pen","Datas","TagId","_pigsData","pigData","pig","updatePigPen","Action","counts","pigs","BatchId","_batchdata","curve","batchdata","forEach","devianceMin","devianceMax","BatchPens","JSON","stringify","RemovedPens","x","includes","enddate","NewPens","SamePens","pendata","startdate","CurveId","closed","comments","p","_","_resolve","setTimeout","limitTo","weights","limitStart","orderByChild","limitToLast","snapshot","c","itemsProcessed","newWeights","Weight","weightRef","comment","commentRef","GraphId","graph","Graphs","GraphVal","newGraph","Agraph","AgraphVal","Graph","_Graph","firebaseService","Platform","OS","async","messaging","requestPermission","authStatus","AuthorizationStatus","AUTHORIZED","PROVISIONAL","isPermit_UserPermission","title","message","okText","_cancelable","Alert","alert","text","onPress","cancelable","onDismiss","token","to","messageId","messageType","notification","body","sendMessage","msg","handleAuthState","handleActions","onMessageHandler","onBackgroundMessageHandler","Constants","manifest","web","config","initializeApp","permitError","fork","isSupported","eventChannel","emit","subscription","onAuthStateChanged","buffers","expanding","authChannel","take","newAuth","firebaseUser","cancelled","close","actionChannel","channel","values","select","NewData","messageListener","onMessage","remoteMessage","onMessageChannel","root","sagaArgs","all","takeLatest","STARTUP","StartupSaga","FETCH_USER","ExampleSaga","FIREBASE_STARTUP","FirebaseSaga","reducer","createReducer","userIsLoading","userErrorMessage","FETCH_USER_LOADING","FETCH_USER_SUCCESS","FETCH_USER_FAILURE","errorMessage","HANDLERS","FIREBASE_IS_LOADING","loadingstate","SET_FIREBASE_ERROR","firebaseErrorMessage","SET_CURRENT_DATA","currentData","ACTION_STARTING","FETCH_STARTING","DATA_FETCH_SUCCESS","NewDataStore","NewFirebaseUser","newData","element","users","FETCH_SUCCESS","newlocalDataStore","newState","_newState","mergeDeep","target","source","isObject","obj","targetValue","sourceValue","Array","isArray","append","FETCH_FAILURE","h1","fontSize","h2","h3","normal","tiny","small","medium","tinyBottomMargin","marginBottom","smallBottomMargin","bottomMargin","mediumBottomMargin","tinyVerticalMargin","marginVertical","smallVerticalMargin","verticalMargin","mediumVerticalMargin","tinyHorizontalMargin","marginHorizontal","smallHorizontalMargin","horizontalMargin","mediumHorizontalMargin","tinyHorizontalPadding","paddingHorizontal","smallHorizontalPadding","horizontalPadding","mediumHorizontalPadding","tinyVerticalPadding","paddingVertical","smallVerticalPadding","verticalPadding","mediumVerticalPadding","Home","require","DashBoard","System","Curves","Sow","Section","AutoPig","Feed","Haxa_globe","Hexa_icon","Logo","logo","column","flexDirection","colMain","justifyContent","colCenter","alignItems","colCross","columnReverse","row","rowMain","rowCenter","rowCross","rowReverse","center","crossCenter","crossEnd","crossStart","crossStretch","fill","flex","fillCenter","fillCol","fillColCenter","fillColCross","fillColMain","fillColReverse","fillRow","fillRowCenter","fillRowCross","fillRowMain","fillRowReverse","fullSize","height","width","halvWidth","midWidth","fullWidth","mainCenter","mainEnd","mainSpaceAround","mainSpaceBetween","mainStart","mainContainer","Metrics","contentContainer","marginTop","borderContainer","borderWidth","borderColor","borderRadius","maxWidth","zIndex","textContainer","Fonts","buttonContainer","loadingContainer","position","left","right","top","bottom","backgroundColor","logoContainer","backgroundReset","Colors","rotate90","transform","rotate","rotate90Inverse","mirror","scaleX","scrollSpaceAround","flexGrow","scrollSpaceBetween","selfStretch","alignSelf","textCenter","textAlign","textJustify","textLeft","textRight","button","color","buttonText","result","input","navigationHeader","StyleSheet","container","SplashScreen","props","onNotificationOpenedApp","getInitialNotification","this","checkData","getData","prevProps","prevState","View","style","Helpers","Style","Image","Images","resizeMode","Component","connect","DeepLinkingScreen","Text","styles","boxContainer","ApplicationStyles","icon","Button","TextView","textStyle","ImageView","_Image","iconStyle","TouchableOpacity","boxStyle","buttonStyle","Button_Panel","Texts","Buttons","image","itemStyle","TitleElement","listitem","CustomListItem","containerStyle","Content","Title","Subtitle","contentBox","minHeight","ContentProp","texts","textsStyle","datasStyle","onLongPress","view","dataRow","OperationsPanel","undefined","pigTag","PigsList","newPig","getPenAndSection","setCurrentPig","editPens","Quantity","onDone","charAt","toUpperCase","slice","quantity","newComment","penId","newPigCount","setState","ScrollView","paddingRight","setCurrentDataElement","pigtag","dataId","farmId","countChange","ProgressBar","animation","useRef","Animated","Value","progress","useEffect","timing","current","toValue","duration","start","interpolate","inputRange","outputRange","extrapolate","alignContent","progressBar","absoluteFill","paddingTop","padding","monthNames","DateTime_Picker","getStates","year","month","day","Today","FullYear","Year","Month","Day","forceUpdate","changed","YearItems","Picker","Item","label","MonthItems","DayItems","d","selectedValue","minWidth","marginRight","onValueChange","_year","_month","_day","textAreaContainer","textArea","Comment_Module","useState","InputText","setInputText","QuantityText","setQuantityText","fontWeight","marginLeft","TextInput","numberOfLines","multiline","onChangeText","underlineColorAndroid","placeholder","placeholderTextColor","FrontScreen","useDispatch","ele","liveInEurope","entries","example","address","city","instructions","fontStyle","ios","android","ExampleScreen","useSelector","ActivityIndicator","size","StackNavigator","createStackNavigator","screen","Front","navigationOptions","headerMode","headerShown","Example","initialRouteName","defaultNavigationOptions","headerTitleAlign","headerRight","UserLoadingScreen","ISLOADPAGE","Page","getUser","page","userType","PanelsSorter","clearDataMem","IsLoading","UserLoginScreen","NewUser","createUser","signIN","CreateNewUserData","Farm","_UserData","_sections","_pens","i2","sectionPens","createUserData","Userdata","LoadingUserScreen","LoginUser","LoginUserScreen","headerLeft","paddingLeft","CreateUserData","CreateUserDataScreen","headerTitleStyle","logOut","Dashboard","setData","Manager","Mail","PensList","MaxCap","CurCap","SectionsList","BatchList","farmName","farmManager","farmMail","Props","getFarm","getSections","getPens","getBatch","map","FlatList","renderItem","item","EndDate","TempGraph","Predict","date","StartDate","keyExtractor","loading","inputContainer","Pigs","PigTag","getPigs","connectedState","DeviceData","SafeAreaView","PenData","tagId","pigId","Device_Display","ConnectionState","CONNECTED","circle","Scanner_Display","tagid","FatLayers","FatL1","FatL2","FatL3","known","Weighings","Mid","property","getWeights","getCurve","itemDimension","spacing","renderSectionHeader","displayWeight","round","Batchs","onChange","window","dimensions","onMultiChange","items","xorBy","selectedPens","freePens","Display","BatchName","ShowPicker","StartD","DevianceMin","DevianceMax","avaiblePens","add","id","batchName","_pen","concat","mode","itemValue","itemIndex","endsWith","labelStyle","optionsLabelStyle","options","selectedValues","onMultiSelect","onTapClose","isMulti","newBatch","updateBatch","Dev","setBatch","batchId","getRandomNumber","low","high","getRandomColor","red_range","green_range","blue_range","a_range","red","green","blue","alpha","r","g","rgbaValue","Dimensions","CurveElement","Legends","DataSets","Labels","ActiveIndex","ActiveLength","ActiveDataSets","ActiveStartDate","ActiveEndDate","ViewPoint","D","reverse","DataX","dataX","opacity","TempData","TempEndDate","NextEnd","_EndDate","Prediction","DoPredict","BatchPen","DataSet","DataSetX","PenWeighings","WeightsToGraphData","some","unshift","TemplatePeriode","CurrentDate","getNewDate","End","first","batchData","getPen","setGraphPeriode","addEventListener","removeEventListener","BatchIsOpen","wide","Height","Width","DataPoints","point","horizontal","showsHorizontalScrollIndicator","labels","xMinMax","legend","datasets","onDataPointClick","withShadow","withVerticalLines","fromZero","segments","verticalLabelRotation","xLabelsOffset","chartConfig","backgroundGradientFrom","backgroundGradientTo","decimalPlaces","labelColor","propsForDots","strokeWidth","stroke","control","CurveEditor","TimeText","dataset","maxHeight","React","Point","setPoint","step","evt","split","curveid","setCurve","GrowthCurve","CurveList","CurveName","Periode","AverageGrowth","parseFloat","toFixed","CurveData","numColumns","newCurve","updateCurve","actionType","newWeight","DataEditor","NewSection","DataView","PenEditor_View_Creator","PigEditor_View_Creator","Control","CurrentAction","exists","penAction","PenEditor_Titles","pigAction","Section_Picker","senctionId","DataDisplay_Pens","WeighingsList","CommentsList","Comments","App","object","getComments","localDataStoree","pigcount","penWeight","batch_name","age","onPageSwipe","sender","onDataPress","String","Comment","dir","indexOf","DataDisplay_Pigs","DataDisplay","PigData_View","ingrid","TargetWeight","isVirtual","Animals","ExpectedWeight","AverageWeight","isClosed","dataSpot","PenWeight","lastDate","AvagPenGrowth","Growth_Days","PenGrowth","Days","Virtual","UserFront","UserFrontScreen","UserDashBoard","UserDashBoardScreen","UserPigs","UserPigsScreen","UserPens","UserPensScreen","UserBatchs","UserBatchsScreen","UserCurves","UserCurvesScreen","UserOperations","UserOperationsScreen","WeighingOperations","UserDataEditor","UserDataDisplay","DataPlotter","UserDataPlotter","UserListBoard","UserList","getUsers","SystemListBoard","FarmList","getFarms","editable","setUserFarm","AdminFront","AdminFrontScreen","UserBoard","AdminUserBoard","SystemBoard","AdminSystemBoard","UserPanel","UserPanelNavigation","MainStack","FrontNavigation","AuthStack","AuthNavigation","AdminPanel","AdminPanelNavigator","createAppContainer","RootScreen","StartupActions","AppNavigator","uriPrefix","rootReducer","rootSaga","middleware","enhancers","sagaMiddleware","createSagaMiddleware","applyMiddleware","persistedReducer","persistReducer","store","createStore","compose","persistor","persistStore","run","configureStore","combineReducers","ExampleReducer","FirebaseReducer","module","exports"],"mappings":"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","file":"static/js/app.90f788b1.chunk.js","sourcesContent":["import { applyMiddleware, compose, createStore } from 'redux'\nimport createSagaMiddleware from 'redux-saga'\nimport { persistReducer, persistStore, createTransform } from 'redux-persist'\n\n//** fix: error serializing state TypeError: Converting circular structure to JSON  */\n// https://www.npmjs.com/package/jsog\n// https://www.npmjs.com/package/flatted\nimport JSOG from 'jsog';\nexport const JSOGTransform = createTransform(\n  (inboundState, key) => JSOG.encode(inboundState),\n  (outboundState, key) => JSOG.decode(outboundState),\n)\n\n/**\n * This import defaults to localStorage for web and AsyncStorage for react-native.\n *\n * Keep in mind this storage *is not secure*. Do not use it to store sensitive information\n * (like API tokens, private and sensitive data, etc.).\n *\n * If you need to store sensitive information, use redux-persist-sensitive-storage.\n * @see https://github.com/CodingZeal/redux-persist-sensitive-storage\n */\nimport storage from 'redux-persist/lib/storage'\n\nconst persistConfig = {\n  key: 'root',\n  storage: storage,\n  transforms: [JSOGTransform],\n  /**\n   * Blacklist state that we do not need/want to persist\n   */\n  blacklist: [\n    // 'auth',\n  ],\n}\n\nexport default (rootReducer, rootSaga) => {\n  const middleware = []\n  const enhancers = []\n\n  // Connect the sagas to the redux store\n  const sagaMiddleware = createSagaMiddleware()\n  middleware.push(sagaMiddleware)\n\n  enhancers.push(applyMiddleware(...middleware))\n\n  // Redux persist\n  const persistedReducer = persistReducer(persistConfig, rootReducer)\n\n  const store = createStore(persistedReducer, compose(...enhancers))\n  const persistor = persistStore(store)\n\n\n  // First step is to create BleManager which should be used as an entry point\n  // to all BLE related functionalities\n  /*const blemanager = new BleManager();\n  blemanager.setLogLevel(LogLevel.Verbose);\n\n  const bluemanager = NativeModules.BlueToothControl;*/\n\n  // SagaArgs Construcktor\n  //const sagaArgs = {BLEManager: blemanager, BlueManager: bluemanager}\n\n  // Kick off the root saga\n  //sagaMiddleware.run(rootSaga, sagaArgs)\n  sagaMiddleware.run(rootSaga)\n  \n  return { store, persistor }\n}\n","import { createActions } from 'reduxsauce'\n\nconst { Types, Creators } = createActions({\n  // This action is triggered when the application starts\n  startup: null,\n})\n\nexport const StartupTypes = Types\nexport default Creators\n","import { createActions } from 'reduxsauce'\n\n/**\n * We use reduxsauce's `createActions()` helper to easily create redux actions.\n *\n * Keys are action names and values are the list of parameters for the given action.\n *\n * Action names are turned to SNAKE_CASE into the `Types` variable. This can be used\n * to listen to actions:\n *\n * - to trigger reducers to update the state, for example in App/Stores/Example/Reducers.js\n * - to trigger sagas, for example in App/Sagas/index.js\n *\n * Actions can be dispatched:\n *\n * - in React components using `dispatch(...)`, for example in App/App.js\n * - in sagas using `yield put(...)`, for example in App/Sagas/ExampleSaga.js\n *\n * @see https://github.com/infinitered/reduxsauce#createactions\n */\nconst { Types, Creators } = createActions({\n  // Fetch user informations\n  fetchUser: null,\n  // The operation has started and is loading\n  fetchUserLoading: null,\n  // User informations were successfully fetched\n  fetchUserSuccess: ['user'],\n  // An error occurred\n  fetchUserFailure: ['errorMessage'],\n})\n\nexport const ExampleTypes = Types\nexport default Creators\n","import React from 'react'\nimport { BackHandler } from 'react-native'\nimport { NavigationActions, StackActions } from 'react-navigation'\n\n/**\n * The navigation is implemented as a service so that it can be used outside of components, for example in sagas.\n *\n * @see https://reactnavigation.org/docs/en/navigating-without-navigation-prop.html\n */\n\nlet navigator\nvar LastPage\n/**\n * This function is called when the RootScreen is created to set the navigator instance to use.\n */\nfunction setTopLevelNavigator(navigatorRef) {\n  navigator = navigatorRef\n\n  /*BackHandler.addEventListener('hardwareBackPress', () => {\n    console.log(navigator._navigation)\n    if (navigator && navigator._navigation && navigator._navigation.state) {\n      var Stackindex = navigator._navigation.state.index\n      var Stack = navigator._navigation.state.routes[Stackindex]\n      if (Stack.routes){\n        var index = Stack.index;\n        var routeName = Stack.routes[index].routeName;\n        if (routeName === 'UserFront' || routeName === 'LoginUser'){\n          navigator.dispatch(\n            NavigationActions.back()\n          )\n          //navigate('FrontScreen');\n          //return true;\n        }\n      }\n    }\n  });*/\n}\n\nfunction replace(routeName, params){\n  if (LastPage === routeName) return null\n  else {\n    LastPage = routeName;\n    navigator.dispatch(\n      StackActions.replace({\n        routeName,\n        params,\n      })\n    )\n  }\n}\n\n/**\n * Call this function when you want to navigate to a specific route.\n *\n * @param routeName The name of the route to navigate to. Routes are defined in RootScreen using createStackNavigator()\n * @param params Route parameters.\n */\nfunction navigate(routeName, params) {\n  if (LastPage === routeName) return null\n  else {\n    LastPage = routeName;\n    navigator.dispatch(\n      NavigationActions.navigate({\n        routeName,\n        params,\n      })\n    )\n  }\n}\n\n/**\n * Call this function when you want to navigate to a specific route AND reset the navigation history.\n *\n * That means the user cannot go back. This is useful for example to redirect from a splashscreen to\n * the main screen: the user should not be able to go back to the splashscreen.\n *\n * @param routeName The name of the route to navigate to. Routes are defined in RootScreen using createStackNavigator()\n * @param params Route parameters.\n */\nfunction navigateAndReset(routeName, params) {\n  if (LastPage === routeName) return null\n  else {\n    LastPage = routeName;\n    navigator.dispatch(\n      StackActions.reset({\n        index: 0,\n        key: null,\n        actions: [\n          NavigationActions.navigate({\n            routeName,\n            params,\n          }),\n        ],\n      })\n    )\n  }\n}\n\nfunction nacigationPop() {\n  navigator.dispatch(NavigationActions.back())\n}\n\nexport default {\n  navigate,\n  replace,\n  navigateAndReset,\n  setTopLevelNavigator,\n  nacigationPop,\n}\n","import { createActions } from 'reduxsauce'\n\n/**\n * We use reduxsauce's `createActions()` helper to easily create redux actions.\n *\n * Keys are action names and values are the list of parameters for the given action.\n *\n * Action names are turned to SNAKE_CASE into the `Types` variable. This can be used\n * to listen to actions:\n *\n * - to trigger reducers to update the state, for example in App/Stores/Example/Reducers.js\n * - to trigger sagas, for example in App/Sagas/index.js\n *\n * Actions can be dispatched:\n *\n * - in React components using `dispatch(...)`, for example in App/App.js\n * - in sagas using `yield put(...)`, for example in App/Sagas/ExampleSaga.js\n *\n * @see https://github.com/infinitered/reduxsauce#createactions\n */\nconst { Types, Creators } = createActions({\n  //Firebase Saga events\n  firebaseStartup: null,\n  \n  //Firebase Saga and service\n  firebaseIsLoading: ['loadingstate'],\n  setFirebaseError: ['errorMessage'], // Firebase-saga error occurred\n  \n  setCurrentData: ['data'],\n\n  //Firebase Data fetches\n  actionStarting: ['action', 'ref', 'params'], // Data action (create, singin, share)\n  fetchStarting: ['action', 'ref', 'params'], // Fetch data informations\n  dataFetchSuccess: ['params'],\n  fetchSuccess: ['data'], // Informations were successfully fetched\n  fetchFailure: ['errorMessage'], // An error occurred\n})\n\nexport const FirebaseTypes = {...Types }\nexport default {...Creators }","import { put, call } from 'redux-saga/effects'\n\nimport NavigationService from '../Services/NavigationService'\n\nimport ExampleActions from '../Stores/Example/Actions'\n//import DeviceActions from '../Stores/Device/Actions'\nimport FirebaseActions from '../Stores/Firebase/Actions'\n\n/**\n * The startup saga is the place to define behavior to execute when the application starts.\n */\nexport function* startup() {\n  // Dispatch a redux action using `put()`\n  // @see https://redux-saga.js.org/docs/basics/DispatchingActions.html\n  \n  // Add more operations you need to do at startup here\n  //yield put(ExampleActions.fetchUser())\n  //yield put(DeviceActions.deviceStartup())\n  yield put(FirebaseActions.firebaseStartup())\n\n  // When those operations are finished we redirect to the main screen\n  NavigationService.navigateAndReset('MainStack')\n}\n","import axios from 'axios'\nimport { Config } from '../Config'\nimport { is, curryN, gte } from 'ramda'\n\nconst isWithin = curryN(3, (min, max, value) => {\n  const isNumber = is(Number)\n  return isNumber(min) && isNumber(max) && isNumber(value) && gte(value, min) && gte(max, value)\n})\nconst in200s = isWithin(200, 299)\n\n/**\n * This is an example of a service that connects to a 3rd party API.\n *\n * Feel free to remove this example from your application.\n */\nconst userApiClient = axios.create({\n  /**\n   * Import the config from the App/Config/index.js file\n   */\n  baseURL: Config.API_URL,\n  headers: {\n    Accept: 'application/json',\n    'Content-Type': 'application/json',\n  },\n  timeout: 3000,\n})\n\nfunction fetchUser() {\n  // Simulate an error 50% of the time just for testing purposes\n  console.log(\"user fetch test\");\n  if (Math.random() > 0.5) {\n    return new Promise((resolve, reject) => {\n      console.log(\"error\");\n      resolve(null)\n    })\n  }\n\n  const number = Math.floor(Math.random() / 0.1) + 1\n\n  return userApiClient.get(number.toString()).then((response) => {\n    if (in200s(response.status)) {\n      return response.data\n    }\n\n    return null\n  })\n}\n\nexport const userService = {\n  fetchUser,\n}\n","export const Config = {\n  API_URL: 'https://jsonplaceholder.typicode.com/users/',\n}\n","import { put, call } from 'redux-saga/effects'\n\nimport ExampleActions from '../../Stores/Example/Actions'\nimport { userService } from '../../Services/UserService'\n\n/**\n * A saga can contain multiple functions.\n *\n * This example saga contains only one to fetch fake user informations.\n * Feel free to remove it.\n */\nexport function* fetchUser() {\n  // Dispatch a redux action using `put()`\n  // @see https://redux-saga.js.org/docs/basics/DispatchingActions.html\n  yield put(ExampleActions.fetchUserLoading())\n\n  // Fetch user informations from an API\n  const user = yield call(userService.fetchUser)\n  if (user) {\n    yield put(ExampleActions.fetchUserSuccess(user))\n  } else {\n    yield put(\n      ExampleActions.fetchUserFailure('There was an error while fetching user informations.')\n    )\n  }\n}\n","//#region Defines\r\nexport const UserStates = {\r\n  STARTER: 'starter',\r\n  FREE: 'free',\r\n  WORKER: 'worker',\r\n  OWNER: 'owner',\r\n  ADMIN: 'admin',\r\n}\r\n\r\nexport const DataStates = {\r\n  CLOSED: 'Closed'\r\n}\r\n\r\nexport const DataRefs = {\r\n  USERSDATA: 'usersdata',\r\n  USERS: 'users',\r\n  FARMS: 'farms',\r\n  SECTIONS: 'farms_data/$farmid/sections',\r\n  PENS: 'farms_data/$farmid/pens',\r\n  PIGS: 'farms_data/$farmid/pigs',\r\n  BATCHS: 'farms_data/$farmid/batchs',\r\n\r\n  WEIGHING: 'farms_data/$farmid/pens/$penid/weighings/',\r\n  GRAPH: 'farms_data/$farmid/Graph/$graphid/',\r\n\r\n  COMMENTS: 'farms_data/$farmid/datas/comments/',\r\n  FARMDATAS: 'farms_data/$farmid/datas/',\r\n  SHARES: 'shareData'\r\n}\r\n\r\nexport const Actions = {\r\n  SIGN: 'sign',\r\n\r\n  FETCH: 'fetch',\r\n  CREATE: 'create',\r\n  UPDATE: 'update',\r\n  MOVE: 'move',\r\n  DELETE: 'delete',\r\n  CLEAR: 'clear',\r\n  ADD: 'add',\r\n}\r\n\r\nexport const Operations = {\r\n  ADD: 'Add pig',\r\n  MOVE: 'Move pig',\r\n  LOST: 'Lost pig',\r\n  SOLD: 'Sold pig',\r\n  NOTE: 'Pen Note',\r\n}\r\n//#endregion\r\n\r\n//#region Formaters\r\nfunction format_num(num) {\r\n  if (num < 10){\r\n    num = \"0\"+num\r\n  }\r\n  return num;\r\n}\r\nexport function format_Time(time) {\r\n  var s = new Date(parseInt(time));\r\n  var datetime = format_num(s.getDate()) + \"/\" + format_num(s.getMonth() +1) + \"/\" + s.getFullYear() + \" \" \r\n                  + format_num(s.getHours()) + \":\" + format_num(s.getMinutes()) + \":\" + format_num(s.getSeconds());\r\n  return datetime\r\n}\r\n\r\nvar reA = /[^a-zA-Z]/g;\r\nvar reN = /[^0-9]/g;\r\nfunction sortAlphaNum(a, b) {\r\n  var aA = a.replace(reA, \"\");\r\n  var bA = b.replace(reA, \"\");\r\n  if (aA === bA) {\r\n    var aN = parseInt(a.replace(reN, \"\"), 10);\r\n    var bN = parseInt(b.replace(reN, \"\"), 10);\r\n    return aN === bN ? 0 : aN > bN ? 1 : -1;\r\n  } else {\r\n    return aA > bA ? 1 : -1;\r\n  }\r\n}\r\n\r\nexport function sortObject(o) {\r\n  var sorted = {},\r\n  key, a = [];\r\n\r\n  for (key in o) {\r\n    if (o.hasOwnProperty(key) && key !== \"__jsogObjectId\" && key !== \"update_time\") {\r\n      a.push(key);\r\n    }\r\n  }\r\n  a.sort(sortAlphaNum);\r\n\r\n  for (key = 0; key < a.length; key++) {\r\n    sorted[a[key]] = o[a[key]];\r\n  }\r\n  return sorted;\r\n}\r\n//#endregion\r\n\r\n//#region Data gets\r\nexport function GetWeight_FromPen(PenId, WeighingsStore = null, AfterTime = null, BeforeTime = null) {\r\n  //PenId: Parrent Get ellement (ID),\r\n  //WeighingsStore: LocalDataStore.weighings,\r\n  //AfterTime: Only data after specefied Time,\r\n  //BeforeTime: Only data before specefied Time\r\n  var Weighing = null;\r\n\r\n  if (PenId, WeighingsStore){\r\n    for (const _weighing in WeighingsStore[PenId]) {\r\n      var weighing = WeighingsStore[PenId][_weighing]\r\n      if (weighing && (!Weighing || Weighing.time < weighing.time)) {\r\n        if ((!AfterTime || weighing.time > AfterTime) &&\r\n          (!BeforeTime || weighing.time < BeforeTime)) {\r\n          Weighing = weighing\r\n        }\r\n      }\r\n    }\r\n  }\r\n  return Weighing;\r\n}\r\n\r\nexport function GetBatch_FromPen(localDataStore, PenId) {\r\n  if (localDataStore.batchs) {\r\n    //Get batch form pen\r\n    for (const _batch in localDataStore.batchs) {\r\n      var batch = localDataStore.batchs[_batch]\r\n      if (batch.hasOwnProperty(\"pens\") && batch.pens[PenId] != null) {\r\n        return localDataStore.batchs[_batch]\r\n      }\r\n    }\r\n  }\r\n  return null;\r\n}\r\n\r\nexport function GetCurve_FromBatch(Batch, GraphsStore = null, CurrentData = null) {\r\n  //Batch: Parrent Get ellement,\r\n  //GraphsStore: LocalDataStore.graphs,\r\n  //CurrentData: Data state get,\r\n  if (Batch) {\r\n    if (Batch.gcurve && Batch.state && Batch.state === DataStates.CLOSED) {\r\n      return Batch.gcurve;\r\n    }\r\n    if (GraphsStore) {\r\n      if (CurrentData && (typeof CurrentData === 'string' || CurrentData.curveId)) {\r\n        var Id = (typeof CurrentData === 'string')? CurrentData: CurrentData.curveId\r\n        return GraphsStore[Id];\r\n      }\r\n      if (Batch.gcurve){\r\n        return GraphsStore[Batch.gcurve];\r\n      }\r\n    }\r\n  }\r\n  return null;\r\n}\r\n\r\nexport function GetBatchEnd(Batch, TempCurve){\r\n  if (Batch && Batch.time){\r\n    var currentTime = new Date(Batch.time) //Does not allow weight's after Batch end\r\n    for (var i = 0; i < TempCurve.data.length; i++) {\r\n      if (i < TempCurve.data.length -1) {\r\n        currentTime = new Date(AccumulateTime(currentTime, TempCurve.periode))\r\n      }\r\n    }\r\n    return currentTime.getTime();\r\n  }\r\n  return null\r\n}\r\n//#endregion\r\n\r\n//#region Curve Functions\r\nexport function AccumulateTime(Time, PeriodeLength) {\r\n  var NewTime = new Date(Time.getTime())\r\n  switch(PeriodeLength) {\r\n    case \"Days\":\r\n    //86.400.000 ms\r\n    NewTime.setDate(NewTime.getDate() + 1)\r\n    break;\r\n    case \"Month\":\r\n    NewTime.setMonth(NewTime.getMonth() + 1)\r\n    break;\r\n    case \"Weeks\":\r\n    default:\r\n    NewTime.setDate(NewTime.getDate() + 7)\r\n    break;\r\n  }\r\n  return NewTime;\r\n}\r\n\r\n//Get Today-point expected data and virtual simulation For PenId with Batch / or given\r\nexport function get_DataSpot_FromData(localDataStore, PenId, Batch, Closed = false) {\r\n  if (localDataStore.weighings && localDataStore.weighings[PenId]) {\r\n    var Weighing = null;\r\n\r\n    //get newest weighing\r\n    for (const _weighing in localDataStore.weighings[PenId]) {\r\n      var weighing = localDataStore.weighings[PenId][_weighing]\r\n      if (weighing && (!Weighing || Weighing.time < weighing.time)) { \r\n        Weighing = weighing\r\n      }\r\n    }\r\n\r\n    if (Weighing) {\r\n      var weight = Weighing.weight\r\n      weight = weight / Weighing.count\r\n      if (weight && !isNaN(weight)) {\r\n        if (!Batch) {\r\n          //Get batch form pen\r\n          for (const _batch in localDataStore.batchs) {\r\n            var batch = localDataStore.batchs[_batch]\r\n            if (batch.hasOwnProperty(\"pens\") && batch.pens[PenId] != null) {\r\n              Batch = localDataStore.batchs[_batch]\r\n              //break; //diffrenc from web ??? (needed in mobile..)\r\n            }\r\n          }\r\n        }\r\n\r\n        if (Batch && Batch.time && Batch.datas \r\n          && localDataStore.graphs && localDataStore.graphs[Batch.gcurve]) {\r\n          var Curve = localDataStore.graphs[Batch.gcurve]\r\n          var WeighingTime = Weighing.time\r\n\r\n          if (Closed || (WeighingTime > Batch.time && (!Batch.state || Batch.state !== \"Closed\"))) {\r\n            var StartTime = Batch.time\r\n            var EndTime = Batch.time\r\n            var index = 0;\r\n            var currentTime = new Date(StartTime)\r\n            for (index = 0; index < Curve.data.length-1; index++) {\r\n              currentTime = new Date(AccumulateTime(currentTime, Curve.periode))\r\n              EndTime = currentTime.getTime()\r\n              if (EndTime >= WeighingTime) {\r\n                break;\r\n              } else {\r\n                StartTime = EndTime\r\n              }\r\n            }\r\n            //var EndDate = EndDate = currentTime.getTime();\r\n            \r\n            var Keys = Object.keys(Curve.data);\r\n            var DataSpot = get_DataSpot([StartTime, EndTime], [Curve.data[Keys[index]], Curve.data[index +1]], new Date().getTime(), weight, WeighingTime)\r\n            DataSpot.Batch = Batch\r\n            return DataSpot\r\n          }\r\n        }\r\n      }\r\n    }\r\n  }\r\n  return null\r\n}\r\n\r\n//Get point expected data and virtual simulation from data.\r\n//ExValue = Expected value if slope continues, for spots given (or inbetween).\r\n//VirData = Virtual calculation for Data progress to DataTime, if slope continues.\r\nexport function get_DataSpot(MinMax_Time, MinMax_Data, FindTime, Data, DataTime) {\r\n  var ExValue = null\r\n  var VirData = null\r\n  var ExTime = null\r\n  if (FindTime) {\r\n    var slope = GetSlope_Between(MinMax_Time, MinMax_Data)\r\n    // ExValue = (FindX * Slope) + MinY\r\n    var FindX = FindTime - MinMax_Time[0]                  // Setting FindTime, due b then = Min data.. (b is y = 0)\r\n    ExValue = (FindX * slope) + MinMax_Data[0]             // ( X * a ) + b = Expeted data for spot on CalcTime\r\n    \r\n    if (Data && DataTime) {\r\n      var Findx2 = DataTime- MinMax_Time[0]\r\n      var ExData = (Findx2 * slope) + MinMax_Data[0]\r\n\r\n      var DataDiff = Data - ExData;\r\n      VirData = ExValue + DataDiff; //should not be useable.. as slope is not future\r\n\r\n      ExTime = (Data - MinMax_Data[0]) / slope\r\n      ExTime = ExTime + MinMax_Time[0]\r\n    }\r\n  }\r\n  return {ExValue, VirData, ExTime}\r\n}\r\n\r\n//Get Slope Between two points\r\nfunction GetSlope_Between(MinMax_Time, MinMax_Data){\r\n  var minX = MinMax_Time[0]\r\n  var maxX = MinMax_Time[1]\r\n  var minY = MinMax_Data[0]\r\n  var maxY = MinMax_Data[1]\r\n\r\n  //Slope = DeltaY / DeltaX\r\n  var slope = (maxY - minY) / (maxX - minX)\r\n  return slope\r\n}\r\n\r\nexport function CurvePredict(localDataStore, PenId, Batch, TempCurve) {\r\n  if (localDataStore) {\r\n    if (!PenId && Batch && Batch.pens){\r\n      PenId = Object.keys(Batch.pens).filter(e => (e !== '__jsogObjectId'))[0]\r\n    }\r\n    if (!Batch) {\r\n      Batch = GetBatch_FromPen(localDataStore, PenId)\r\n    }\r\n    if (Batch && Batch.time) {\r\n      if (!TempCurve) {\r\n          TempCurve = GetCurve_FromBatch(Batch, localDataStore.graphs)\r\n      }\r\n      if (TempCurve && TempCurve.data) {\r\n        var BatchEndDate = GetBatchEnd(Batch, TempCurve)\r\n\r\n        var Weighing = GetWeight_FromPen(PenId, localDataStore.weighings, Batch.time, BatchEndDate);\r\n        if (Weighing && Weighing.weight) {\r\n          var weight = Weighing.weight\r\n          if (Weighing.count) weight = weight / Weighing.count\r\n          \r\n          var PredictStart = new Date(Batch.time) \r\n          var StartIndex = null;\r\n          var PredictCurve = { periode: TempCurve.periode, data: [] }\r\n          for (var index = 0; index < TempCurve.data.length; index++) {\r\n            if (weight <= TempCurve.data[index]) {\r\n              if (!StartIndex) StartIndex = index\r\n              PredictCurve.data.push(TempCurve.data[index])\r\n            }else if (index != 0) {\r\n              PredictStart = new Date(AccumulateTime(PredictStart, TempCurve.periode))\r\n            }\r\n          }\r\n\r\n          if (StartIndex) {\r\n            var DataSpot = get_DataSpot([PredictStart.getTime(), new Date(AccumulateTime(PredictStart, TempCurve.periode)).getTime()], \r\n                                        [TempCurve.data[StartIndex -1], TempCurve.data[StartIndex]], Weighing.time, weight, Weighing.time)\r\n            if (DataSpot.ExTime && DataSpot.ExTime > 0) {\r\n              PredictCurve.Addition = DataSpot.ExTime - PredictStart.getTime()\r\n            }\r\n\r\n            if (BatchEndDate && BatchEndDate >= Date.now()) {\r\n              var now = new Date(Date.now())\r\n              now = new Date(now.getFullYear(), now.getMonth(), now.getDate()).getTime()\r\n              var CurrentTime = new Date(Weighing.time)\r\n              var CurrentIndex = 0;\r\n              for (var index = 0; index < PredictCurve.data.length; index++) {\r\n                if (CurrentTime.getTime() < now) {\r\n                  CurrentTime = new Date(AccumulateTime(CurrentTime, TempCurve.periode))\r\n                  CurrentIndex ++;\r\n                }\r\n              }\r\n              PredictCurve.Now = PredictCurve.data[CurrentIndex]\r\n            }\r\n          }\r\n\r\n          var days = 0;\r\n          if (TempCurve.periode === \"Days\") days = PredictCurve.data.length\r\n          else if (TempCurve.periode === \"Weeks\") days = (PredictCurve.data.length) * 7\r\n          PredictCurve.days = days\r\n          PredictCurve.lastWeighing = Weighing\r\n\r\n          PredictCurve.Batch = Batch;\r\n          return PredictCurve;\r\n        }\r\n      }\r\n    }\r\n  }\r\n  return null;\r\n}\r\n//#endregion","import { Platform, Alert } from 'react-native'\n\nimport { UserStates } from '../Stores/Firebase/Selectors'\nimport { Actions, DataRefs, format_Time } from '../Stores/Firebase/Selectors';\n\n//#region App version imports\n/*import messaging from '@react-native-firebase/messaging';\nimport auth from '@react-native-firebase/auth';\nimport database from '@react-native-firebase/database';*/\n//#endregion\n\n//#region Web Version imports\nimport firebase from 'firebase/app'\nimport \"firebase/auth\"\nimport \"firebase/messaging\"\nimport \"firebase/database\"\n//#endregion\n\n//#region Firebase specefic services\nasync function isPermit_UserPermission() {\n  const authStatus = await firebase.messaging().requestPermission();\n  const enabled =\n    authStatus === firebase.messaging.AuthorizationStatus.AUTHORIZED ||\n    authStatus === firebase.messaging.AuthorizationStatus.PROVISIONAL;\n\n  if (!enabled) {\n    console.log('Authorization status:', authStatus);\n    return false;\n  }\n  return true;\n}\n\nfunction requestUserPermission() {\n  return new Promise((resolve, reject) => {\n    if ((Platform.OS === \"ios\" || Platform.OS == \"android\") && !isPermit_UserPermission()) {\n      resolve('This application needs premissions to be using notifications')\n    }\n    resolve(null)\n  })\n}\n\nasync function is_getToken() {\n  var fcmToken = \"\"\n  try{\n    fcmToken = await firebase.messaging().getToken();\n    console.log('Device_token: ', fcmToken)\n  }catch(error){\n    console.log(error)\n  }\n  return fcmToken;\n}\n\nfunction requestFirebaseToken() {\n  return new Promise((resolve, reject) => {\n    var token;\n    if (firebase.messaging.isSupported()) {\n      try {\n        token = is_getToken();\n      } catch{}\n    }\n    if (!token) {\n      resolve('Could not find Firebase messaging Token')\n    }\n    resolve(token)\n  })\n}\n\nfunction wrappedAlert(title, message, okText, _cancelable) {\n  return new Promise(resolve => {\n    Alert.alert(\n      title,\n      message,\n      [{text: okText, onPress: function() { resolve(); }}],\n      {cancelable: _cancelable, onDismiss: function() {resolve(); }},\n    );\n  });\n}\n//#endregion\n\n//#region Firebase Auth services\nfunction createFirebaseUserWithemailandpassword({Email, Pass}) {\n  return new Promise((resolve, reject) => {\n    firebase.auth().createUserWithEmailAndPassword(Email,Pass).then(() => {\n\n      const User = firebase.auth().currentUser;\n      var Name = User.displayName ? User.displayName : User.email\n      actionStarting(DataRefs.USERSDATA, Actions.UPDATE, {UserId: User.uid, Data: {\n        name: Name,\n        state: UserStates.STARTER,\n      }}).then((data) => {\n        resolve(data)\n      })\n\n    }).catch(error => {\n      console.log(\"UserCreate Error: \", error);\n\n      if (error.code === 'auth/email-already-in-use') {\n        resolve({error:'The email address is already in use.'})\n      }\n      if (error.code === 'aith/invalid-email') {\n        resolve({error:'The email addres is invalid.'})\n      }\n    })\n  })\n}\n\nfunction signinWithemailandpassword({Email, Pass}){\n  if (firebase.auth().currentUser){\n    if (firebase.auth().currentUser.email != Email){\n      const res = logoutUser()\n    }\n    else {\n      return new Promise((resolve, reject) => {\n        resolve(true)\n      })\n    }\n  }\n  return new Promise((resolve, reject) => {\n    firebase.auth().signInWithEmailAndPassword(Email,Pass).then(() => {\n      resolve(true)\n    }). catch(error => {\n      console.log(\"User Signin Error: \", error);\n\n      if (error.code === 'auth/email-already-in-use') {\n        resolve('The email address is already in use.')\n      }\n      if (error.code === 'aith/invalid-email') {\n        resolve('The email addres is invalid.')\n      }\n      else {\n        resolve('Could not singin')\n      }\n    })\n  })\n}\n\nfunction logoutUser(){\n  return new Promise((resolve, reject) => {\n    firebase.auth().signOut().then(() => {\n      resolve(true)\n    })\n  })\n}\n//#endregion\n\n//#region Master Control\nfunction actionStarting(ref, action, params = null){\n  const CurrentUser = firebase.auth().currentUser;\n  switch(ref){\n    case DataRefs.USERSDATA:\n      switch(action){\n        case Actions.FETCH:\n          return fetchUser(params)\n        case Actions.CREATE:\n          if (params.hasOwnProperty(\"UserData\")){\n            return new Promise((resolve, reject) => {\n              var Data = params[0]\n              createFarm({Data:{name: params.Farms.name}}).then((farmid) => {\n                updateFarmData({FarmId:farmid, Data:{sections:params.Sections, pens: params.Pens}}).then(() => {\n                  updateUserData({Data:{state: params.UserData.state, farms: {[farmid]: true}}}).then(() => {\n                    fetchUser(CurrentUser.uid).then((data) => {\n                      resolve({userData: data})\n                    });\n                  })\n                })\n              })\n            })\n          }else \n          return createFirebaseUserWithemailandpassword(params)\n        case Actions.UPDATE:\n          return updateUserData(params)\n        case Actions.SIGN:\n          if (!params){\n            return logoutUser()\n          }else {\n            return signinWithemailandpassword(params)\n          }\n        case Actions.CLEAR:\n          if (!CurrentUser){\n            return {type:Actions.CLEAR, path:DataRefs.USERS, data:{}}\n          } else {\n            return {type:Actions.CLEAR, path:DataRefs.USERSDATA, data:{}}\n          }\n      }\n      break;\n\n    case DataRefs.USERS:\n      switch(action){\n        case Actions.FETCH:\n          return fetchUser(params, true)\n        case Actions.CREATE:\n          break;\n        case Actions.UPDATE:\n          var FarmId = params.FarmId\n          return {type:Actions.UPDATE, path:DataRefs.USERSDATA, data:{farms:{[FarmId]: true}}}\n        case Actions.CLEAR:\n          return {type:Actions.CLEAR, path:DataRefs.USERS, data:{}}\n      }\n      break;\n\n    case DataRefs.FARMS:\n      switch(action){\n        case Actions.FETCH:\n          return fetchFarm(params);\n        case Actions.CREATE:\n          break;\n        case Actions.UPDATE:\n          console.log(\"??\")\n          break;\n        case Actions.CLEAR:\n          return {type:Actions.CLEAR, path:DataRefs.FARMS, data:{}}\n      }\n      break;\n\n    case DataRefs.FARMDATAS:\n      console.log(\"FarmsDatas ???\") //TODO: propperly no use.. (clean up)\n      break;\n\n    case DataRefs.SECTIONS:\n      switch(action){\n        case Actions.FETCH:\n          return fetchSections(params);\n        case Actions.CREATE:\n          break;\n        case Actions.UPDATE:\n          break;\n        case Actions.CLEAR:\n          return {type:Actions.CLEAR, path:DataRefs.SECTIONS, data:{}}\n      }\n      break;\n\n    case DataRefs.PENS:\n      switch(action){\n        case Actions.FETCH:\n          return fetchPens(params);\n        case Actions.CREATE:\n          return createNewPen(params);\n        case Actions.DELETE:\n          return deletePen(params)\n        case Actions.UPDATE:\n          return updatePen(params);\n        case Actions.CLEAR:\n          return {type:Actions.CLEAR, path:DataRefs.PENS, data:{}}\n      }\n      break;\n\n    case DataRefs.PIGS:\n      switch(action){\n        case Actions.FETCH:\n          return fetchPigs(params);\n        case Actions.CREATE:\n          return updatePigdata(params);\n        case Actions.UPDATE:\n          break;\n        case Actions.CLEAR:\n          return {type:Actions.CLEAR, path:DataRefs.PIGS, data:{}}\n      }\n      break;\n\n    case DataRefs.BATCHS:\n      switch(action){\n        case Actions.FETCH:\n          return fetchBatchs(params)\n        case Actions.CREATE:\n          return createBatchs(params)\n        case Actions.UPDATE:\n          return updateBatchs(params)\n        case Actions.DELETE:\n          //return deleteBatch(params)\n          break;\n        case Actions.CLEAR:\n          return {type:Actions.CLEAR, path:DataRefs.BATCHS, data:{}}\n      }\n      break;\n\n    case DataRefs.WEIGHING:\n      switch(action){\n        case Actions.FETCH:\n          return fetchWeights(params);\n        case Actions.CREATE:\n          return createWeight(params);\n        case Actions.UPDATE:\n          break;\n        case Actions.CLEAR:\n          return {type:Actions.CLEAR, path:DataRefs.WEIGHING, data:{}}\n      }\n      break;\n\n    case DataRefs.COMMENTS:\n      switch(action) {\n        case Actions.FETCH:\n          return fetchComments(params);\n        case Actions.CREATE:\n          return createComment(params);\n      }\n      break;\n\n    case DataRefs.GRAPH:\n      switch(action){\n        case Actions.FETCH:\n          return fetchGraphData(params);\n        case Actions.CREATE:\n          return updateGraphData(params);\n        case Actions.UPDATE:\n          return updateGraphData(params);\n        case Actions.CLEAR:\n          return {type:Actions.CLEAR, path:DataRefs.GRAPH, data:{}}\n      }\n      break;\n  }\n  return new Promise((resolve, reject) => {\n    resolve({error: \"Unknown Action\"})\n  })\n}\n//#endregion\n\nfunction SetUpdateTime(DataRef) {\n  return new Promise((resolve, reject) => {\n    console.log(\"Setting Update Time\")\n    firebase.database().ref(DataRef).update({\n      update_time: firebase.database.ServerValue.TIMESTAMP,\n    }).then(() => {\n      resolve(false)\n    }).catch(error => {\n      console.log(error)\n      /*if (error.code === 'database/permission-denied') {\n        console.log(\"Batch update was permission denied. \");\n      }else if (error.code) {\n        console.log(\"Batch update Error: \", error);\n      }*/\n      resolve(true)\n    });\n  })\n}\nfunction CheckDataTime(DataRef, DataTime) {\n  return new Promise((resolve, reject) => {\n    firebase.database().ref(DataRef + \"/update_time\").once('value').then((_Time) => {\n      var UpdateTime = _Time.val()\n      if (!UpdateTime) {\n        SetUpdateTime(DataRef).then((res) => {\n          resolve(true)\n        })\n      } else {\n        if (DataTime) {\n          if (DataTime === \"SET\"){\n            SetUpdateTime(DataRef).then((res) => {\n              resolve(res)\n            })\n          } else if (DataTime < UpdateTime){\n            resolve(true)\n          }\n          else resolve(false)\n        }else resolve(true)\n      }\n    })\n  })\n}\n\n//#region User data Controls\nfunction fetchUser({UserId}, List = false) {\n  var user = \"\";\n  if (UserId) user = UserId\n  else if (!List && firebase.auth().currentUser) user = firebase.auth().currentUser.uid;\n  if (user || List) {\n    const ref = \"users/\" + user;\n    return firebase.database().ref(ref).once('value').then((userData) => {\n      var data = userData.val()\n      if (!List) {\n        return {type:Actions.UPDATE, path:DataRefs.USERSDATA, data:{data}}\n      } else {\n        return {type:Actions.UPDATE, path:DataRefs.USERS, data:{data}}\n      }\n    })\n  }\n  else return new Promise((resolve, reject) => {\n    console.log(\"User uid in fecth unknown\");\n    resolve(null)\n  })\n}\n\nfunction updateUserData({UserId, Data}) {\n  const user = UserId? UserId: firebase.auth().currentUser.uid;\n  if (user) {\n    const ref = \"users/\" + user;\n    return new Promise((resolve, reject) => {\n      firebase.database().ref(ref).update(\n        Data\n      ).then((data) => {\n        resolve(null)\n      }).catch(error => {\n        if (error.code === 'database/permission-denied') {\n          console.log(\"User update was permission denied. \");\n        }else if (error.code) {\n          console.log(\"User update Error: \", error);\n        }\n        resolve({error:\"An error occurred\"})\n      })\n    }) \n  } else return new Promise((resolve, reject) => {\n    console.log(\"User uid in fecth unknown\");\n    resolve(null)\n  })\n}\n//#endregion\n\n//#region Farm info data Controls\nfunction fetchFarm({FarmId}) {\n  var ref = \"farms/\" + FarmId\n  return firebase.database().ref(ref).once('value').then((_farmData) => {\n    //TODO:Multiple farms\n    var data = _farmData.val()\n    if (FarmId) {\n      data = {[FarmId]:data}\n    }\n    return {type:Actions.UPDATE, path:DataRefs.FARMS, data: data}\n  })\n  /*} else return new Promise((resolve, reject) => {\n    console.log(\"Farm uid in fecth unknown\");\n    resolve(null)\n  })*/\n}\n\nfunction updateFarm({FarmId, Data}) {\n  return new Promise((resolve, reject) => {\n    if (FarmId){\n      firebase.database().ref('farms/').update({\n        Data\n      }).then(()=> {\n        resolve(null)\n      })\n    } else {\n      const farm = firebase.database().ref('farms/').push()\n      const farmid = farm.key\n      farm.set({\n        Data\n      }).then(() => {\n        resolve(farmid)\n      }).catch(error => {\n        console.log(\"Create Farm Error: \", error);\n        resolve(false)\n      })\n    }\n  })\n}\n\nfunction createFarm({Data}){\n  const user = firebase.auth().currentUser;\n  const ref = \"users/\" + user.uid;\n\n  return new Promise((resolve, reject) => {\n    const farm = firebase.database().ref('farms/').push()\n    const farmid = farm.key\n    \n    farm.set({\n      email: user.email,\n      manager: user.displayName ? user.displayName : user.email,\n      name: Data.name\n    }).then(() => {\n      resolve(farmid)\n    }).catch(error => {\n      console.log(\"Create Farm Error: \", error);\n      resolve(false)\n    })\n  })\n}\n\nfunction updateFarmData({FarmId, Data}) {\n  if (FarmId) {\n    const ref = \"farms_data/\" + FarmId;\n    \n    return new Promise((resolve, reject) => {\n      firebase.database().ref(ref).update(\n        Data\n      ).then(() => {\n        resolve(null)\n      }).catch(error => {\n        if (error.code === 'database/permission-denied') {\n          console.log(\"Farm data update was permission denied. \");\n        }else if (error.code) {\n          console.log(\"User update Error: \", error);\n        }\n\n        resolve(false)\n      })\n    })\n  } else return new Promise((resolve, reject) => {\n    console.log(\"Farm uid in fecth unknown\");\n    resolve(null)\n  })\n}\n//#endregion\n\n//#region Farm data Controls\n\n//#region Sections\nfunction fetchSections({FarmId, SectionId, DataTime}){\n  if (FarmId) {\n    var ref = \"farms_data/\" + FarmId + \"/sections\";\n    if (SectionId){\n      ref += \"/\" + SectionId\n    }\n    return new Promise((resolve, reject) => {\n      CheckDataTime(\"farms_data/\" + FarmId + \"/sections\", DataTime).then((DoFetch) => {\n        console.log(\"Doing Sections fetch\", DoFetch)\n        if (DoFetch){\n          return firebase.database().ref(ref).once('value').then((_sectionidData) => {\n            resolve({type:Actions.UPDATE, path:DataRefs.SECTIONS, data:_sectionidData.val()})\n          })\n        }\n        else {\n          resolve({type:Actions.UPDATE, path:DataRefs.SECTIONS, data:{}})\n        }\n      })\n    })\n  }\n  return new Promise((resolve, reject) => {\n    console.log(\"Fecth Pigs Error\");\n    resolve(null)\n  })\n}\n//#endregion\n\n//#region Pens\nfunction fetchPens({FarmId, PenId, DataTime}){\n  if (FarmId) {\n    var ref = \"farms_data/\" + FarmId + \"/pens\";\n    if (PenId){\n      ref += \"/\" + PenId\n    }\n    return new Promise((resolve, reject) => {\n      CheckDataTime(\"farms_data/\" + FarmId + \"/pens\", DataTime).then((DoFetch) => {\n        console.log(\"Doing Pens fetch\", DoFetch)\n        if (DoFetch){\n\n          firebase.database().ref(ref).once('value').then((_pensData) => {\n            if (PenId) {\n              var penData = _pensData.val()\n              if (!penData) penData = {}\n              if (!penData.datas) penData.datas = {}\n              //if (!penData.datas.gcurve) penData.datas.gcurve = \"default\";\n      \n              var pen = {[PenId]: penData};\n              resolve({type:Actions.UPDATE, path:DataRefs.PENS, data:pen})\n            } else {\n              resolve({type:Actions.UPDATE, path:DataRefs.PENS, data:_pensData.val()})\n            }\n          })\n        }\n        else {\n          resolve({type:Actions.UPDATE, path:DataRefs.PENS, data:{}})\n        }\n      })\n    })\n  } \n  return new Promise((resolve, reject) => {\n    console.log(\"Fecth Pens Error\");\n    resolve(null)\n  })\n}\n\nfunction createNewPen({FarmId, PenId, SectionId}){\n  if (FarmId) {\n    var ref = \"farms_data/\" + FarmId + \"/\";\n    return new Promise((resolve, reject) => {\n      if (PenId){\n        var ref2 = ref + \"pens/\" + PenId + \"/\"\n        firebase.database().ref(ref2).set({\n          section: SectionId,\n        }).then(() => {\n          firebase.database().ref(ref + \"sections/\" + SectionId + \"/pens\").update({\n            [PenId]: true,\n          }).then(() => {\n            firebase.database().ref(ref + \"sections/\").update({\n              update_time: firebase.database.ServerValue.TIMESTAMP,\n            }).then(() => {\n              fetchPens({FarmId: FarmId, PenId: PenId, DataTime: \"SET\"}).then((_Pen) => {\n                resolve({type:Actions.UPDATE, path:DataRefs.PENS, data:_Pen.data})\n              });\n            });\n          });\n        });\n      }\n    })\n  }\n}\n\nfunction deletePen({FarmId, PenId, SectionId}){\n  if (FarmId && PenId){\n    var ref = \"farms_data/\" + FarmId + \"/\";\n    return new Promise((resolve, reject) => {\n      firebase.database().ref(ref + \"pens/\" + PenId).remove().then(() => {\n        if (SectionId){\n          firebase.database().ref(ref + \"sections/\" + SectionId + \"/pens/\" + PenId).remove().then(() => {\n            firebase.database().ref(ref + \"sections/\").update({\n              update_time: firebase.database.ServerValue.TIMESTAMP,\n            }).then(() => {\n              fetchPens({FarmId: FarmId, PenId: PenId, DataTime: \"SET\"}).then((_Pen) => {\n                resolve({type:Actions.UPDATE, path:DataRefs.PENS, data:_Pen.data})\n              })\n            });\n          })\n        }else {\n          resolve(null)\n        }\n      })\n    })\n  }\n}\n\nfunction updatePen({FarmId, PenId, Pen}){\n  if (FarmId) {\n    var ref = \"farms_data/\" + FarmId + \"/\";\n    return new Promise((resolve, reject) => {\n      if (PenId){\n        fetchPens({FarmId: FarmId, PenId: PenId}).then((_Pen) => {\n          var ref2 = ref + \"pens/\" + PenId + \"/\"\n          var data = Pen.datas\n          var Datas = {..._Pen.data[PenId].datas, ...data}\n          firebase.database().ref(ref2).update({\n            ...Pen,\n            datas: Datas\n          }).then(() => {\n            if (Pen.section) {\n              firebase.database().ref(ref + \"sections/\" + SectionId + \"/pens\").update({\n                [PenId]: true,\n              }).then(() => {\n                firebase.database().ref(ref + \"sections/\").update({\n                  update_time: firebase.database.ServerValue.TIMESTAMP,\n                }).then(() => {\n                  resolve(null)\n                });\n              });\n            }\n          });\n        })\n      }\n    })\n  }\n}\n//#endregion\n\n//#region Pigs\nfunction fetchPigs({FarmId, TagId}){\n  if (FarmId) {\n    var ref = \"farms_data/\" + FarmId + \"/pigs\";\n    if (TagId){\n      ref += \"/\" + TagId\n    }\n\n    return firebase.database().ref(ref).once('value').then((_pigsData) => {\n      if (TagId) {\n        var pigData = _pigsData.val()\n        if (!pigData) return null;\n        if (!pigData.datas) pigData.datas = {}\n        if (!pigData.datas.gcurve) pigData.datas.gcurve = \"default\";\n\n        var pig = {[TagId]: pigData};\n        return {type:Actions.UPDATE, path:DataRefs.PIGS, data:pig}\n      } else {\n        return {type:Actions.UPDATE, path:DataRefs.PIGS, data:_pigsData.val()}\n      }\n    })\n  }\n  return new Promise((resolve, reject) => {\n    console.log(\"Fecth Pigs Error\");\n    resolve(null)\n  })\n}\n\nfunction updatePigPen({FarmId, TagId, PenId, Action}) {\n  if (PenId) {\n    var ref2 = \"farms_data/\" + FarmId + \"/\" + \"pens/\" + PenId + \"/datas\"\n    return new Promise((resolve, reject) => {\n      firebase.database().ref(ref2 + \"/count\").once('value').then((counts) => {\n        var val = counts.val()\n        if (!val) val = 0\n        if (Action && !isNaN(Action)) {\n          val = parseInt(val) + parseInt(Action)\n        } else {\n          val = parseInt(val) +1\n        }\n        firebase.database().ref(ref2).update({\n          count: val,\n        }).then(() => {\n          fetchPens({FarmId: FarmId, PenId: PenId}).then((pen) => {\n            resolve({type:Actions.UPDATE, path:DataRefs.PENS, data:pen.data})\n          })\n        });\n      }).catch(error => {\n        console.log(\"Update pig pen Error: \", error);\n        resolve(null)\n      })\n    })\n  }else {\n    return new Promise((resolve, reject) => {\n      resolve(null)\n    })\n  }\n}\n\nfunction updatePigdata({FarmId, TagId, PenId, Action}) {\n  if (FarmId) {\n    var ref = \"farms_data/\" + FarmId + \"/\";\n    if (TagId) {\n      return new Promise((resolve, reject) => {\n        var ref2 = ref + \"pigs/\" + TagId + \"/\"\n        fetchPigs({FarmId: FarmId, TagId: TagId}).then((pig) => {\n          if (pig && pig.data) {\n            pig = pig.data[TagId]?pig.data[TagId]:null\n          }\n          if (!pig || !pig.hasOwnProperty('pen')){\n            firebase.database().ref(ref2).update({\n              pen: 0,\n            }).then(() => {\n              fetchPigs({FarmId: FarmId}).then((pigs) => {\n                console.log(\"?\", pigs)\n                resolve(null)\n                //resolve({type:Actions.UPDATE, path:DataRefs.PIGS, data:pigs})\n              })\n            })\n          }\n          else if (PenId && PenId != pig.pen){\n            updatePigPen({FarmId: FarmId, TagId: TagId, PenId: pig.pen, Action:-1}).then((data)=>{\n              updatePigPen({FarmId: FarmId, TagId: TagId, PenId: PenId, Action:+1}).then((data)=>{\n                firebase.database().ref(ref2).update({\n                  pen: PenId\n                }).then(() => {\n                  fetchPigs({FarmId: FarmId}).then((pigs)=> {\n                    resolve({type:Actions.UPDATE, path:DataRefs.PIGS, data:pigs.data})\n                  })\n                })\n              })\n            })\n          } else {\n            resolve(null)\n          }\n        })\n      })\n    } else {\n      return new Promise((resolve, reject) => {\n        updatePigPen({FarmId: FarmId, TagId: TagId, PenId: PenId, Action:Action}).then((data) => {\n          console.log(\"?4\", data)\n          resolve({type:Actions.UPDATE, path:DataRefs.PENS, data:data.data})\n        })\n      })\n    }\n  }\n}\n//#endregion\n\n//#region Batchs\nfunction fetchBatchs({FarmId, BatchId, Data, DataTime}) {\n  if (FarmId) {\n    var ref = \"farms_data/\" + FarmId + \"/batchs\";\n    if (BatchId){\n      ref += \"/\" + BatchId\n    }\n\n    return new Promise((resolve, reject) => {\n      CheckDataTime(\"farms_data/\" + FarmId + \"/batchs\", DataTime).then((DoFetch) => {\n        console.log(\"Doing Batch fetch\", DoFetch)\n        //if (DoFetch){\n          if (!Data) {\n            firebase.database().ref(ref).once('value').then((_batchdata) => {\n              if (BatchId) {\n                var batchdata = _batchdata.val()\n                if (!batchdata) return null;\n                if (!batchdata.datas) batchdata.datas = {}\n                if (!batchdata.pens) batchdata.pens = []\n                if (!batchdata.datas.gcurve) batchdata.datas.gcurve = \"default\";\n\n                var batch = {[BatchId]: batchdata};\n                resolve({type:Actions.UPDATE, path:DataRefs.BATCHS, data:batch})\n              } else {\n                resolve({type:Actions.UPDATE, path:DataRefs.BATCHS, data:_batchdata.val()})\n              }\n            })\n          }\n          else if (BatchId) {\n            switch(Data){\n              case DataRefs.BATCHS:\n                ref += \"/\" + \"datas\"\n                return firebase.database().ref(ref).once('value').then((_batchdata) => {\n                  var data = {[BatchId]: {datas: _batchdata.val()}}\n                  resolve({type:Actions.UPDATE, path:DataRefs.BATCHS, data:data})\n                })\n              case DataRefs.PENS:\n                ref += \"/\" + \"pens\"\n                return firebase.database().ref(ref).once('value').then((_batchdata) => {\n                  var pens = {[BatchId]: {pens: _batchdata.val()}}\n                  resolve({type:Actions.UPDATE, path:DataRefs.BATCHS, data:pens})\n                })\n              case DataRefs.GRAPH:\n                ref += \"/\" + \"gcurve\"\n                return firebase.database().ref(ref).once('value').then((_batchdata) => {\n                  var curve = {[BatchId]: {gcurve: _batchdata.val()}}\n                  resolve({type:Actions.UPDATE, path:DataRefs.BATCHS, data:curve})\n                })\n            }\n          }\n\n        /*} else {\n          resolve({type:Actions.UPDATE, path:DataRefs.BATCHS, data:{}})\n        }*/\n      })\n    })\n  }\n  return new Promise((resolve, reject) => {\n    console.log(\"Fecth Batchs Error\");\n    resolve(null)\n  })\n}\n\nfunction createBatchs({FarmId, BatchId, Batch}) {\n  if (FarmId) {\n    var ref = \"farms_data/\" + FarmId + \"/batchs\";\n    return new Promise((resolve, reject) => {\n      if (Batch && Batch.name) {\n        BatchId = Batch.name;\n        ref += \"/\" + Batch.name + \"/\"\n        delete Batch.name;\n        firebase.database().ref(ref).set({\n          ...Batch,\n        }).then(() => {\n          Object.keys(Batch.pens).forEach(pen => {\n            updatePen({FarmId:FarmId, PenId:pen, Pen:{datas:{batch:BatchId}}})\n          })\n          resolve(fetchBatchs({FarmId: FarmId}))\n        }).catch(error => {\n          if (error.code === 'database/permission-denied') {\n            console.log(\"Batch update was permission denied. \");\n          }else if (error.code) {\n            console.log(\"Batch update Error: \", error);\n          }\n          resolve({error:\"An error occurred\"})\n        })\n      }\n      if (BatchId) {\n        console.log(\"???\") //TODO: why id.. mabye cleanup\n        ref += \"/\" + BatchId + \"/\"\n        firebase.database().ref(ref).set({\n          time: firebase.database.ServerValue.TIMESTAMP,\n          pens:[],\n          datas:{\n            devianceMin:1,\n            devianceMax:2,\n          }\n        }).then(() => {\n          resolve(fetchBatchs({FarmId: FarmId}))\n        });\n      }\n    })\n  }\n}\n\nfunction updateBatchs({FarmId, BatchId, Batch, Data}) {\n  if (FarmId) {\n    var ref = \"farms_data/\" + FarmId + \"/batchs\";\n    return new Promise((resolve, reject) => {\n      if (BatchId && Batch) {\n        ref += \"/\" + BatchId\n        fetchBatchs({FarmId: FarmId, BatchId: BatchId, Data:DataRefs.PENS}).then((_batch) => {\n          var Pens = _batch.data[BatchId].pens\n          if (Batch.name) delete Batch.name\n\n          var BatchPens = {}\n          if (Batch.pens && JSON.stringify(Batch.pens)!==JSON.stringify(Pens)) {\n            if (!Pens) Pens = []\n            var RemovedPens = Object.keys(Pens).filter(x => !Object.keys(Batch.pens).includes(x) && !Pens[x].enddate);\n            var NewPens = Object.keys(Batch.pens).filter(x => !Object.keys(Pens).includes(x) || Pens[x].enddate);\n            var SamePens = Object.keys(Pens).filter(x => !Object.keys(RemovedPens).includes(x) && !Object.keys(NewPens).includes(x));\n\n            if (RemovedPens && RemovedPens.length > 0) {\n              RemovedPens.forEach(pen => {\n                if (Pens[pen]) {\n                  var Pen = Pens[pen]\n                  Pen.enddate = Date.now()\n                  BatchPens[pen] = Pen\n                  fetchPens({FarmId: FarmId, PenId:pen}).then((pendata) => {\n                    var count = 0\n                    if (pendata.data[pen] && pendata.data[pen].datas && pendata.data[pen].datas.count)count=pendata.data[pen].datas.count\n                    BatchPens[pen].count = count\n                  })\n                  updatePen({FarmId:FarmId, PenId:pen, Pen:{datas:{batch:\"\"}}})\n                }\n              })\n            }\n            if (NewPens && NewPens.length > 0) {\n              NewPens.forEach(pen => {\n                var Pen = Pens[pen]?Pens[pen]:{startdate:Date.now()}\n                if (Pen.enddate) delete Pen.enddate\n                BatchPens[pen] = Pen\n                updatePen({FarmId:FarmId, PenId:pen, Pen:{datas:{batch:BatchId}}})\n              })\n            }\n\n            if (SamePens && SamePens.length > 0) {\n              SamePens.forEach(pen => {\n                BatchPens[pen] = Pens[pen]\n              })\n            }\n          }\n          Batch.pens = BatchPens\n\n          if (Batch.state && Batch.state === \"Closed\") {\n            fetchBatchs({FarmId: FarmId, BatchId: BatchId, Data:DataRefs.GRAPH}).then((curve) => {\n              var CurveId = curve.data[BatchId].gcurve\n              fetchGraphData({FarmId: FarmId}).then((curve) => {\n                Batch.gcurve = curve.data[CurveId]\n                Batch.closed = {comments: [], weighings: []}\n                \n                for (let i = 0, p = Promise.resolve(); i <= Object.keys(Pens).length; i++) {\n                  p = p.then(_ => new Promise(_resolve => {\n                    setTimeout(function () {\n                      if (i !== Object.keys(Pens).length) {\n                        var PenId = Object.keys(Pens)[i]\n                        Batch.pens[PenId] = Pens[PenId]\n                        fetchPens({FarmId: FarmId, PenId:PenId}).then((pendata) => {\n                          var count = 0\n                          if (pendata.data[PenId] && pendata.data[PenId].datas && pendata.data[PenId].datas.count)count=pendata.data[PenId].datas.count\n                          Batch.pens[PenId].count = count\n                        })\n                        if (!Batch.pens[PenId].enddate) {\n                          Batch.pens[PenId].enddate = Date.now()\n                        }\n                        updatePen({FarmId:FarmId, PenId:PenId, Pen:{datas:{batch:\"\", count:0}}})\n\n                        fetchComments({FarmId: FarmId, PenId: PenId, limitTo:9999}).then((comments) => {\n                          Batch.closed.comments[PenId] = comments.data[PenId]\n                          firebase.database().ref(\"farms_data/\" + FarmId + \"/datas/comments/\" + PenId).remove()\n                          \n                          fetchWeights({FarmId: FarmId, PenId: PenId, limitTo:9999}).then((weights) => {\n                            Batch.closed.weighings[PenId] = weights.data[PenId]\n                            firebase.database().ref(\"farms_data/\" + FarmId + \"/weighings/\" + PenId).remove()\n                            _resolve();\n                          })\n                        })\n                      } \n                      else {\n                        firebase.database().ref(ref).update({\n                          ...Batch\n                        }).then(()=>{\n                          firebase.database().ref(ref + \"/closed\").set(\n                            Batch.closed\n                          ).then(() => {\n                            fetchBatchs({FarmId: FarmId, BatchId: BatchId}).then((data)=>{\n                              resolve(data)\n                            })\n                          }).catch(error => {\n                            if (error.code === 'database/permission-denied') {\n                              console.log(\"Batch update was permission denied. \");\n                            }else if (error.code) {\n                              console.log(\"Batch update Error: \", error);\n                            }\n                            console.log(error)\n                            resolve({error:\"An error occurred\"})\n                          })\n                        })\n                      }\n                    })\n                  }));\n                }\n              })\n            })\n          } else {\n            firebase.database().ref(ref).update({\n              ...Batch,\n            }).then(() => {\n              fetchBatchs({FarmId: FarmId, BatchId: BatchId}).then((data)=>{\n                resolve(data)\n              })\n            }).catch(error => {\n              if (error.code === 'database/permission-denied') {\n                console.log(\"Batch update was permission denied. \");\n              }else if (error.code) {\n                console.log(\"Batch update Error: \", error);\n              }\n              console.log(error)\n              resolve({error:\"An error occurred\"})\n            })\n          }\n        })\n      }else {\n        console.log(\"Update Batchs Error\");\n        resolve(null)\n      }\n    })\n  }\n}\n//#endregion\n\n//#region Weights\nfunction fetchWeights({FarmId, PenId, SectionId, limitStart = 0, limitTo = 5, DataTime}) {\n  if (FarmId) {\n    var ref = \"farms_data/\" + FarmId + \"/weighings\";\n    return new Promise((resolve, reject) => {\n      CheckDataTime(\"farms_data/\" + FarmId + \"/weighings\", DataTime).then((DoFetch) => {\n        console.log(\"Doing Weight fetch\", DoFetch)\n        //if (DoFetch){\n          //TODO:Weight fetch is still done due mem save state...\n          if (PenId) {\n            ref += \"/\" + PenId\n            firebase.database().ref(ref).orderByChild('time').limitToLast(limitTo).once('value', snapshot => {\n              var weighing = {[snapshot.key]:{}}\n              snapshot.forEach(c => {\n                weighing[snapshot.key][c.key] = c.val()\n              }) \n              resolve({type:Actions.UPDATE, path:DataRefs.WEIGHING, data:weighing})\n            })\n          } else {\n            //TODO: Section fetch cast :: in mem check ??\n            fetchSections({FarmId, SectionId}).then((sections) => {\n              var itemsProcessed = 0;\n              var length = 0;\n              var newWeights = {}\n              Object.keys(sections.data).forEach(section => {\n                if (sections.data[section] && sections.data[section].pens) {\n                  length += Object.keys(sections.data[section].pens).length\n                  Object.keys(sections.data[section].pens).filter(e => e !== '__jsogObjectId').forEach(pen => {\n                    fetchWeights({FarmId:FarmId, PenId:pen, limitStart:0, limitTo:limitTo}).then((weights) => {\n                      itemsProcessed++\n                      newWeights = {...newWeights, ...weights.data}\n                      if (itemsProcessed === length) {\n                        resolve({type:Actions.UPDATE, path:DataRefs.WEIGHING, data:newWeights})\n                      }\n                    }).catch(error => {\n                      console.log(error)\n                      resolve({type:Actions.UPDATE, path:DataRefs.WEIGHING, data:newWeights})\n                    })\n                  })\n                }\n              })\n            }).catch(error => {\n              console.log(error)\n            })\n          }\n\n        /*}\n        else {\n          resolve({type:Actions.UPDATE, path:DataRefs.WEIGHING, data:{}})\n        }*/\n      })\n    })\n  }\n  return new Promise((resolve, reject) => {\n    console.log(\"Fecth Weights Error\");\n    resolve(null)\n  })\n}\n\nfunction createWeight({FarmId, PenId, Weight, Date}) {\n  if (FarmId) {\n    var ref = \"farms_data/\" + FarmId + \"/weighings\";\n    if (PenId){\n      ref += \"/\" + PenId + \"/\"\n\n      return new Promise((resolve, reject) => {\n        fetchPens({FarmId: FarmId, PenId: PenId}).then((pen) => {\n          const weightRef = firebase.database().ref(ref).push()\n          const weightId = weightRef.key\n          var count = 1\n          if (pen && pen.data) {\n            var Pen = pen.data[PenId]\n            console.log(Pen, PenId)\n            if (Pen && Pen.datas && Pen.datas.count) {\n              count = Pen.datas.count\n            }\n          }\n          weightRef.set({\n            time: Date,\n            weight: Weight,\n            count: count,\n          }).then(() => {\n            fetchWeights({FarmId:FarmId, PenId:PenId}).then((weights)=>{\n              resolve(weights)\n            })\n          }).catch(error => {\n            console.log(\"Create Weight Error: \", error);\n            resolve(null)\n          })\n        })\n      })\n    }\n  }\n}\n//#endregion\n\n//#region Comments\nfunction fetchComments({FarmId, PenId, limitStart = 0, limitTo = 5}) {\n  if (FarmId) {\n    var ref = \"farms_data/\" + FarmId + \"/datas/comments\";\n    return new Promise((resolve, reject) => {\n      if (PenId) {\n        ref += \"/\" + PenId\n        firebase.database().ref(ref).orderByChild('time').limitToLast(limitTo).once('value', snapshot => {\n          var comment = {[snapshot.key]:{}}\n          snapshot.forEach(c => {\n            comment[snapshot.key][c.key] = c.val()\n          }) \n          resolve({type:Actions.UPDATE, path:DataRefs.COMMENTS, data:comment})\n        })\n      } else {\n        //TODO: ...Comment other than PenId\n      }\n    })\n  }\n  return new Promise((resolve, reject) => {\n    console.log(\"Fecth Weights Error\");\n    resolve(null)\n  })\n}\n\nfunction createComment({FarmId, PenId, Action, Data}) {\n  if (FarmId) {\n    var ref = \"farms_data/\" + FarmId + \"/datas/comments\";\n    if (PenId){\n      ref += \"/\" + PenId + \"/\"\n\n      return new Promise((resolve, reject) => {\n        const commentRef = firebase.database().ref(ref).push()\n        const commentId = commentRef.key\n\n        commentRef.set({\n          time: firebase.database.ServerValue.TIMESTAMP,\n          user: firebase.auth().currentUser.email,\n          action: Action,\n          data: Data,\n        }).then(() => {\n          fetchComments({FarmId:FarmId, PenId:PenId}).then((weights)=>{\n            resolve(weights)\n          })\n        }).catch(error => {\n          console.log(\"Create Comment Error: \", error);\n          resolve(null)\n        })\n      })\n    } else {\n      //TODO: ...Comment other than PenId\n    }\n  }\n  return new Promise((resolve, reject) => {\n    console.log(\"Fecth Graph Error\");\n    resolve(null)\n  })\n}\n//#endregion\n\n//#region Graphs\nfunction fetchGraphData({FarmId, GraphId, DataTime}) {\n  if (FarmId) {\n    var ref = \"farms_data/\" + FarmId + \"/graph\";\n    ref = ref + \"/\" + GraphId;\n    return new Promise((resolve, reject) => {\n      CheckDataTime(\"farms_data/\" + FarmId + \"/graph\", DataTime).then((DoFetch) => {\n        console.log(\"Doing Graphs fetch\", DoFetch)\n        //if (DoFetch){\n\n          firebase.database().ref(ref).once('value').then((graph) => {\n            var Graphs = null\n            var GraphVal = graph.val()\n            if (GraphVal) {\n              if (GraphId) {\n                var newGraph = {[graph.key]: GraphVal}\n                Graphs = {...Graphs, ...newGraph}\n              }else {\n                Graphs = {...Graphs, ...GraphVal}\n              }\n            }\n            if (!GraphId) {\n              firebase.database().ref(\"farms_data/Agrisys/graph\").once('value').then((Agraph) => {\n                var AgraphVal = Agraph.val();\n                if (AgraphVal) {\n                  Graphs = {...AgraphVal, ...Graphs}\n                }\n                resolve({type:Actions.UPDATE, path:DataRefs.GRAPH, data:Graphs})\n              }).catch(error => {\n                console.log(\"Get Agrisys graph Error: \", error);\n                resolve({type:Actions.UPDATE, path:DataRefs.GRAPH, data:Graphs})\n              })\n            }else {\n              resolve({type:Actions.UPDATE, path:DataRefs.GRAPH, data:Graphs})\n            }\n          }).catch(error => {\n            console.log(\"Get farm graph Error: \", error);\n            resolve(null)\n          })\n\n        /*}\n        else {\n          resolve({type:Actions.UPDATE, path:DataRefs.GRAPH, data:{}})\n        }*/\n      })\n    })\n  }\n  return new Promise((resolve, reject) => {\n    console.log(\"Fecth Graph Error\");\n    resolve(null)\n  })\n}\n\nfunction updateGraphData({FarmId, Graph}) {\n  if (FarmId) {\n    var ref = \"farms_data/\" + FarmId + \"/graph\";\n    if (Graph.name) {\n      ref += \"/\" + Graph.name + \"/\"\n      return new Promise((resolve, reject) => {\n        firebase.database().ref(ref).update({\n          data: Graph.data,\n          periode: Graph.periode\n        }).then(() => {\n          fetchGraphData({FarmId: FarmId, GraphId: Graph.name}).then((_Graph)=>{\n            resolve(_Graph)\n          })\n        }).catch(error => {\n          console.log(\"Create Graph Error: \", error);\n          resolve(null)\n        })\n      })\n    }\n  }\n}\n//#endregion\n//#endregion\n\nexport const firebaseService = {\n  //Firebase\n  requestUserPermission,\n  requestFirebaseToken,\n  wrappedAlert,\n\n  //Firebase Auth (could be moved to fetch / action)\n  createFirebaseUserWithemailandpassword,\n  signinWithemailandpassword,\n  logoutUser,\n\n  //Commnads\n  actionStarting,\n}\n","import { Alert } from 'react-native'\nimport {buffers, eventChannel} from 'redux-saga'\nimport { put, call, fork, take, cancelled, cancel, actionChannel, race, select } from 'redux-saga/effects'\n\nimport FirebaseActions from '../../Stores/Firebase/Actions'\nimport { firebaseService } from '../../Services/FirebaseService'\n\nimport Constants from 'expo-constants';\nimport firebase from 'firebase/app'\nimport \"firebase/auth\"\nimport \"firebase/messaging\"\nimport \"firebase/database\"\n\nimport { UserStates, DataRefs, Actions } from '../../Stores/Firebase/Selectors'\n\nexport function* firebaseStartup() {\n  //Check and setup Firebase and permissions\n  yield put(FirebaseActions.setFirebaseError(null))\n\n  console.log(Constants.manifest.web.config.firebase)\n  firebase.initializeApp(Constants.manifest.web.config.firebase);\n\n  const permitError = yield call(firebaseService.requestUserPermission)\n  if (permitError) {\n    yield put(FirebaseActions.fetchFailure(permitError))\n  }else {\n    //yield put(FirebaseActions.firebaseIsLoading(true))\n    yield fork(handleAuthState)\n    yield fork(handleActions)\n\n    if (firebase.messaging.isSupported()) {\n      yield fork(onMessageHandler)\n      yield fork(onBackgroundMessageHandler)\n    }\n\n    //var FirebaseToken = yield call(firebaseService.requestFirebaseToken);\n    //console.log('Firebase Token: ', FirebaseToken);\n    \n    //yield fork(testmessage,FirebaseToken)\n  }\n\n  console.log('Firebase Startup : Done');\n}\n\n//Somehow works ??? but should only work at server hosting XMPP, try firebase functions insted if nessasary\n//TODO: check this more... SendNotification to device\n//it seams to work ... but slow ???\nfunction* testmessage(token){\n  /*messaging().sendMessage({\n      to: '11111111111111@fcm.googleapis.com',\n      messageId: 'test1',\n      messageType: 'test2',\n      notification: {\n          title: 'Foo',\n          body: 'Bar',\n      }\n    });*/\n    //to: 'worker@agrisys.dk',\n  var message = {\n    to: token,\n    messageId: 'test1',\n    messageType: 'test2',\n    notification: {\n        title: 'Foo',\n        body: 'Bar',\n    }\n  }\n  firebase.messaging().sendMessage(message).then(msg => {\n    console.log(msg)\n  })\n}\n\nexport function* handleAuthState() {\n  const authChannel = yield eventChannel((emit) => {\n    const subscription = firebase.auth().onAuthStateChanged((user) => {\n      if (user == null){\n        emit(\"NONE\")\n      }else {\n        emit(user)\n      }\n    })\n    return () => {\n      subscription()\n    };\n  }, buffers.expanding(1))\n\n  try {\n    for (;;) {\n      const newAuth = yield take(authChannel)\n      var firebaseUser = {firebaseUser: newAuth === \"NONE\"?null:newAuth};\n      \n      yield put(FirebaseActions.dataFetchSuccess({type:Actions.UPDATE, path:DataRefs.USERSDATA, data: firebaseUser}))\n      if (firebaseUser.firebaseUser) {\n        const userData = yield call(firebaseService.actionStarting, DataRefs.USERSDATA, Actions.FETCH, {UserId: newAuth.uid})\n        if (userData.data){\n          yield put(FirebaseActions.dataFetchSuccess({type:Actions.UPDATE, path:DataRefs.USERSDATA, data: userData.data}))\n        }\n      }\n    }\n  } finally {\n    if (yield cancelled()) {\n      authChannel.close()\n    }\n  }\n}\n\nexport function* handleActions() {\n  const channel = yield actionChannel([\n    'ACTION_STARTING',\n  ])\n\n  for (;;) {\n    const action: ACTION_STARTING = yield take(channel)\n    //TODO: mabye clean up Farmid prop.. by current firebase user.. localdata framid.. append here..\n    //console.log(action.ref, action.action)\n    if (Object.values(Actions).includes(action.action)) {\n      if (Object.values(DataRefs).includes(action.ref)) {\n        const UserData = yield select((state) => state.firebase.localDataStore.userData);\n        var params = action.params\n        if (!params && action.action != Actions.SIGN && UserData && UserData.farms) {\n          params = [Object.keys(UserData.farms)[0]]\n        }\n        const NewData = yield call(firebaseService.actionStarting, action.ref, action.action, params)\n        if (NewData && NewData.error) {\n          yield put(FirebaseActions.fetchFailure(NewData.error))\n        } else {\n          //console.log(\"resCall: \", NewData)\n          if (NewData.type && NewData.path && NewData.data) {\n            yield put(FirebaseActions.dataFetchSuccess(NewData))\n          }\n          else {\n            //console.log(\"Old Path: \", action.ref, action.action, params, NewData)\n            yield put(FirebaseActions.fetchSuccess({localDataStore:NewData}))\n          }\n        }\n      }\n    }\n  }\n}\n\n// Notification Handler for then App is in Foreground State\nexport function* onMessageHandler() {\n  const onMessageChannel = yield eventChannel((emit) => {\n    const messageListener = firebase.messaging().onMessage((remoteMessage) => {\n      //console.log(\"message ? \", remoteMessage);\n      emit(remoteMessage);\n    });\n    return () => {\n      messageListener();\n    };\n  }, buffers.expanding(1));\n\n  try {\n    for (;;) {\n      const remoteMessage = yield take(onMessageChannel)\n      console.log(\"New Firebase message: \", remoteMessage)\n      if (remoteMessage.notification && remoteMessage.notification.title && remoteMessage.notification.body){\n        yield call(firebaseService.wrappedAlert, remoteMessage.notification.title, remoteMessage.notification.body, \"Ok\", false)\n      }else {\n        console.log(\"New Firebase data message: \", remoteMessage)\n      }\n    }\n  } finally {\n    if (yield cancelled()) {\n      onMessageChannel.close()\n    }\n  }\n}\n\n// Notification Handler for then App is in Background & Quit state\nexport function* onBackgroundMessageHandler() {\n  // Assume a message-notification contains a \"type\" property in the data payload of the screen to open\n  /*firebase.messaging().onNotificationOpenedApp(remoteMessage => {\n    console.log(\n      'Notification caused app to open from background state:',\n      remoteMessage.notification,\n    );\n    //NavigationService.navigate(remoteMessage.data.type); // this is not view..\n  });\n\n  const onMessageChannel = yield eventChannel((emit) => {\n    firebase.messaging().setBackgroundMessageHandler((remoteMessage) => {\n      emit(remoteMessage);\n    });\n    return () => {\n      //\n    };\n  }, buffers.expanding(1));\n\n  try {\n    for (;;) {\n      const remoteMessage = yield take(onMessageChannel)\n      console.log(\"New background Firebase message: \", remoteMessage)\n    }\n  } finally {\n    if (yield cancelled()) {\n      onMessageChannel.close()\n    }\n  }*/\n}","import { takeLatest, all, take } from 'redux-saga/effects'\n\nimport { StartupTypes } from '../Stores/Startup/Actions'\nimport { ExampleTypes } from '../Stores/Example/Actions'\n//import { DeviceTypes } from '../Stores/Device/Actions'\nimport { FirebaseTypes } from '../Stores/Firebase/Actions'\n\nimport * as StartupSaga from './StartupSaga'\nimport * as ExampleSaga from './Example/ExampleSaga'\n//import * as DeviceSaga from './Device/DeviceSaga'\nimport * as FirebaseSaga from './Firebase/FirebaseSaga'\n\nexport default function* root(sagaArgs) {\n  yield all([\n    /**\n     * @see https://redux-saga.js.org/docs/basics/UsingSagaHelpers.html\n     */\n    // Run the startup saga when the application starts\n    takeLatest(StartupTypes.STARTUP, StartupSaga.startup), //Initer\n    \n\n    //Example\n    takeLatest(ExampleTypes.FETCH_USER, ExampleSaga.fetchUser), // Call `fetchUser()` when a `FETCH_USER` action is triggered\n    \n    /*//Device Main Saga\n    takeLatest(DeviceTypes.DEVICE_STARTUP, DeviceSaga.deviceStartup), //Initer\n\n    takeLatest(DeviceTypes.CONNECT_DEVICE, DeviceSaga.connectDevice),\n    takeLatest(DeviceTypes.DISCONNECT_DEVICE, DeviceSaga.disconnectDevice),\n    takeLatest(DeviceTypes.READ_DEVICE_DATA, DeviceSaga.readDeviceData),\n\n    takeLatest(DeviceTypes.FETCH_DEVICE, DeviceSaga.fetchDevice, sagaArgs),\n\n    //BLE Saga\n    takeLatest(DeviceTypes.BLE_STARTUP, DeviceSaga.BLE.bleStartup, sagaArgs), //Initer\n    takeLatest(DeviceTypes.START_BLE_SCAN, DeviceSaga.BLE.startBleScan),\n    takeLatest(DeviceTypes.STOP_BLE_SCAN, DeviceSaga.BLE.stopBleScan),\n    takeLatest(DeviceTypes.READ_BLE_DEVICE_DATA, DeviceSaga.BLE.readBleDeviceData, sagaArgs),\n    \n    //Android BlueThooth Saga\n    takeLatest(DeviceTypes.BLUETOOTH_STARTUP, DeviceSaga.BlueTooth.bluetoothStartup, sagaArgs), //Initer\n    takeLatest(DeviceTypes.START_BLUETOOTH_SCAN, DeviceSaga.BlueTooth.startBluetoothScan),\n    takeLatest(DeviceTypes.STOP_BLUETOOTH_SCAN, DeviceSaga.BlueTooth.stopBluetoothScan),\n    takeLatest(DeviceTypes.BLUETOOTH_SCAN_ABLE, DeviceSaga.BlueTooth.bluetoothScanAble, sagaArgs),\n    takeLatest(DeviceTypes.READ_BLUE_DEVICE_DATA, DeviceSaga.BlueTooth.readBlueDeviceData, sagaArgs),*/\n\n    //Firebase Saga\n    takeLatest(FirebaseTypes.FIREBASE_STARTUP, FirebaseSaga.firebaseStartup), //Initer\n  ])\n}\n","/**\n * The initial values for the redux state.\n */\nexport const INITIAL_STATE = {\n  user: {},\n  userIsLoading: false,\n  userErrorMessage: null,\n}\n","/**\n * Reducers specify how the application's state changes in response to actions sent to the store.\n *\n * @see https://redux.js.org/basics/reducers\n */\n\nimport { INITIAL_STATE } from './InitialState'\nimport { createReducer } from 'reduxsauce'\nimport { ExampleTypes } from './Actions'\n\nexport const fetchUserLoading = (state) => ({\n  ...state,\n  userIsLoading: true,\n  userErrorMessage: null,\n})\n\nexport const fetchUserSuccess = (state, { user }) => ({\n  ...state,\n  user: user,\n  userIsLoading: false,\n  userErrorMessage: null,\n})\n\nexport const fetchUserFailure = (state, { errorMessage }) => ({\n  ...state,\n  user: {},\n  userIsLoading: false,\n  userErrorMessage: errorMessage,\n})\n\n/**\n * @see https://github.com/infinitered/reduxsauce#createreducer\n */\nexport const reducer = createReducer(INITIAL_STATE, {\n  [ExampleTypes.FETCH_USER_LOADING]: fetchUserLoading,\n  [ExampleTypes.FETCH_USER_SUCCESS]: fetchUserSuccess,\n  [ExampleTypes.FETCH_USER_FAILURE]: fetchUserFailure,\n})\n","/**\n * Reducers specify how the application's state changes in response to actions sent to the store.\n *\n * @see https://redux.js.org/basics/reducers\n */\n\nimport { createReducer } from 'reduxsauce'\nimport { append } from 'funcadelic';\n\nimport { Actions, DataRefs } from './Selectors'\nimport { FirebaseTypes } from './Actions'\n\nimport { INITIAL_STATE } from './InitialState'\n\nexport const firebaseIsLoading = (state, { loadingstate }) => ({\n  ...state,\n  firebaseIsLoading: loadingstate,\n})\n\nexport const setFirebaseError = (state, { errorMessage }) => ({\n  ...state,\n  firebaseErrorMessage: errorMessage,\n})\n\nexport const setCurrentData = (state, {data}) => {\n  return({\n    ...state,\n    currentData: data\n  })\n}\n\nfunction IDGenerate(){\n  return Math.random().toString(36).substr(2, 9);\n}\n\nexport const actionStarting = (state) => ({\n  ...state,\n  //firebaseIsLoading: true,\n  firebaseErrorMessage: null,\n})\n\nexport const fetchStarting = (state) => ({\n  ...state,\n  //firebaseIsLoading: true,\n  firebaseErrorMessage: null,\n})\n\nfunction mergeDeep(target, source) {\n  const isObject = (obj) => obj && typeof obj === 'object';\n\n  if (!isObject(target) || !isObject(source)) {\n    return source;\n  }\n\n  Object.keys(source).forEach(key => {\n    const targetValue = target[key];\n    const sourceValue = source[key];\n\n    if (Array.isArray(targetValue) && Array.isArray(sourceValue)) {\n      //target[key] = targetValue.concat(sourceValue);  //Mercing value of arrays would creates doubles.. like curve data..\n    } else if (isObject(targetValue) && isObject(sourceValue)) {\n      target[key] = mergeDeep(Object.assign({}, targetValue), sourceValue);\n    } else {\n      target[key] = sourceValue;\n    }\n  });\n\n  return target;\n}\n\nexport const dataFetchSuccess = (state, { params }) => {\n  const {type, path, data} = params\n  var NewDataStore = state.localDataStore;\n  var NewFirebaseUser = state.firebaseUser;\n  switch(type) {\n    case Actions.UPDATE:\n    case Actions.ADD:\n      if (!data) break;\n      var newData = data\n      //console.log(\"Testing: \", path, params)\n      switch(path){\n        case DataRefs.USERSDATA:\n          if (data.data) newData = data.data\n          Object.keys(newData).forEach(element => {\n            if (element === \"firebaseUser\"){\n              NewFirebaseUser = newData.firebaseUser;\n            } else {\n              if (!NewDataStore.userData) NewDataStore.userData = {};\n              NewDataStore.userData[element] = newData[element]\n            }\n          });\n          break;\n        case DataRefs.USERS:\n          if (!NewDataStore.users) NewDataStore.users = {};\n          if (data.data) newData = data.data\n          if (newData.users) newData = newData.users\n          Object.keys(newData).forEach(element => {\n            NewDataStore.users[element] = newData[element]\n          });\n          console.log(NewDataStore)\n          break;\n        case DataRefs.FARMS:\n          if (!NewDataStore.farms) NewDataStore.farms = {};\n          if (data.farms) newData = data.farms\n          Object.keys(newData).forEach(element => {\n            NewDataStore.farms[element] = newData[element]\n          });\n          break;\n        case DataRefs.BATCHS:\n          if (!NewDataStore.batchs) NewDataStore.batchs = {};\n          if (data.batchs) newData = data.batchs\n          Object.keys(newData).forEach(element => {\n            NewDataStore.batchs[element] = newData[element]\n          });\n          break;\n        case DataRefs.SECTIONS:\n          if (!NewDataStore.sections) NewDataStore.sections = {};\n          if (data.sections) newData = data.sections\n          Object.keys(newData).forEach(element => {\n            NewDataStore.sections[element] = newData[element]\n          });\n          break;\n        case DataRefs.PENS:\n          if (!NewDataStore.pens) NewDataStore.pens = {};\n          if (data.pens) newData = data.pens\n          Object.keys(newData).forEach(element => {\n            NewDataStore.pens[element] = newData[element]\n          });\n          break;\n        case DataRefs.PIGS:\n          if (!NewDataStore.pigs) NewDataStore.pigs = {};\n          if (data.pigs) newData = data.pigs\n          Object.keys(newData).forEach(element => {\n            NewDataStore.pigs[element] = newData[element]\n          });\n          break;\n        case DataRefs.COMMENTS:\n          if (!NewDataStore.comments) NewDataStore.comments = {};\n          if (data.comments) newData = data.comments\n          Object.keys(newData).forEach(element => {\n            NewDataStore.comments[element] = newData[element]\n          });\n          break;\n        case DataRefs.GRAPH:\n          if (!NewDataStore.graphs) NewDataStore.graphs = {};\n          if (data.graphs) newData = data.graphs\n          Object.keys(newData).forEach(element => {\n            NewDataStore.graphs[element] = newData[element]\n          });\n          break;\n        case DataRefs.WEIGHING:\n          if (!NewDataStore.weighings) NewDataStore.weighings = {};\n          if (data.weighings) newData = data.weighings\n          Object.keys(newData).forEach(element => {\n            NewDataStore.weighings[element] = newData[element]\n          });\n          break;\n      }\n      //console.log(path, data)\n      break;\n    case Actions.CLEAR:\n      switch(path){\n        case DataRefs.USERS:\n          if (!NewDataStore.userData) NewDataStore.userData = {};\n          NewDataStore.userData.action = \"CLEAR\";\n          break;\n        case DataRefs.USERSDATA:\n          console.log(\"CLEAR\")\n          if (NewDataStore.batchs) NewDataStore.batchs = {}\n          if (NewDataStore.sections) NewDataStore.sections = {}\n          if (NewDataStore.pens) NewDataStore.pens = {}\n          if (NewDataStore.pigs) NewDataStore.pigs = {}\n          if (NewDataStore.graphs) NewDataStore.graphs = {}\n          if (NewDataStore.weighings) NewDataStore.weighings = {}\n          if (NewDataStore.userData && NewDataStore.userData.action) {\n            NewDataStore.userData.action = {}\n            //NewDataStore.userData = {}\n          }\n          break;\n      }\n      break;\n    default:\n      console.log(\"DataFetch Not created / default\")\n      break;\n  }\n  return({\n    ...state,\n    firebaseUser: NewFirebaseUser,\n    localDataStore: NewDataStore,\n    firebaseIsLoading: false,\n    firebaseErrorMessage: null,\n  })\n}\n\nexport const fetchSuccess = (state, { data }) => {\n  var newlocalDataStore = {...state.localDataStore}\n  var newState = {...state}\n\n  if (data) {\n    let {localDataStore, ..._newState} = data;\n\n    if (localDataStore) {\n      if (Object.keys(localDataStore).length !== 0) {\n        newlocalDataStore = mergeDeep(localDataStore, newlocalDataStore)\n      }\n      else {\n        newlocalDataStore = {...localDataStore}\n      }\n    }\n    newState = append(state,_newState)\n  }\n  return({\n    ...newState,\n    localDataStore: newlocalDataStore,\n    firebaseIsLoading: false,\n    firebaseErrorMessage: null,\n  })\n}\n\nexport const fetchFailure = (state, { errorMessage }) => ({\n  ...state,\n  firebaseIsLoading: false,\n  firebaseErrorMessage: errorMessage,\n})\n\n/**\n * @see https://github.com/infinitered/reduxsauce#createreducer\n */\nexport const HANDLERS = {\n  //Response...\n  [FirebaseTypes.FIREBASE_IS_LOADING]: firebaseIsLoading,\n  [FirebaseTypes.SET_FIREBASE_ERROR]: setFirebaseError,\n\n  [FirebaseTypes.SET_CURRENT_DATA]: setCurrentData,\n\n  //[FirebaseTypes.SET_FREE_DATA]: setFreeUserData,\n  //[FirebaseTypes.GET_FREE_DATA]: getFreeUserData,\n  //[FirebaseTypes.UPDATE_FREE_DATA]: updateFreeUserData,\n\n  [FirebaseTypes.ACTION_STARTING]: actionStarting,\n  [FirebaseTypes.FETCH_STARTING]: fetchStarting,\n  [FirebaseTypes.DATA_FETCH_SUCCESS]: dataFetchSuccess,\n  [FirebaseTypes.FETCH_SUCCESS]: fetchSuccess,\n  [FirebaseTypes.FETCH_FAILURE]: fetchFailure,\n}\n\nexport const reducer = createReducer(INITIAL_STATE, HANDLERS)","import { UserStates } from './Selectors'\n\n/**\n * The initial values for the redux state.\n */\nexport const INITIAL_STATE = {\n  firebaseIsLoading: false,\n  firebaseErrorMessage: null,\n\n  firebaseUser: null,\n\n  localDataStore: {},\n  currentData: null,\n}","/**\n * This file contains the application's colors.\n *\n * Define color here instead of duplicating them throughout the components.\n * That allows to change them more easily later on.\n */\n\nexport default {\n  transparent: 'rgba(0,0,0,0)',\n  white: '#ffffff',\n  gray: '#a6a6a6',\n\n  text: '#4a4a49',\n  secountText: '#ffffff',\n\n  primary: '#a3b9cf',\n\n  success: '#03a489',\n  error: '#dc3545',\n  overest: '#4cafea',\n\n  input: '#86939e',\n\n  AgriGreen: '#03a489',\n  AgriDarkblue: '#4463ab',\n  AgriLightblue: '#a3b9cf',\n  AgriDark: '#4a4a49',\n}\n","import { StyleSheet } from 'react-native'\n\nconst size = {\n  h1: 38,\n  h2: 34,\n  h3: 30,\n  input: 18,\n  regular: 17,\n  medium: 14,\n  small: 12,\n}\n\nexport default {\n  h1: {\n    fontSize: size.h1,\n  },\n  h2: {\n    fontSize: size.h2,\n  },\n  h3: {\n    fontSize: size.h3,\n  },\n  normal: {\n    fontSize: size.regular,\n  },\n}","/**\n * This file contains metric values that are global to the application.\n */\n\n// Examples of metrics you can define:\nexport const tiny = 5\nexport const small = tiny * 2 // 10\nexport const normal = tiny * 3 // 15\nexport const medium = normal * 2 // 30\n\nexport default {\n  tiny,\n  small,\n  normal,\n  medium,\n  \n  tinyBottomMargin: {\n    marginBottom: tiny,\n  },\n  smallBottomMargin: {\n    marginBottom: small,\n  },\n  bottomMargin: {\n    marginBottom: normal,\n  },\n  mediumBottomMargin: {\n    marginBottom: medium,\n  },\n\n  tinyVerticalMargin: {\n    marginVertical: tiny,\n  },\n  smallVerticalMargin: {\n    marginVertical: small,\n  },\n  verticalMargin: {\n    marginVertical: normal,\n  },\n  mediumVerticalMargin: {\n    marginVertical: medium,\n  },\n\n  tinyHorizontalMargin: {\n    marginHorizontal: tiny,\n  },\n  smallHorizontalMargin: {\n    marginHorizontal: small,\n  },\n  horizontalMargin: {\n    marginHorizontal: normal,\n  },\n  mediumHorizontalMargin: {\n    marginHorizontal: medium,\n  },\n\n  tinyHorizontalPadding: {\n    paddingHorizontal: tiny,\n  },\n  smallHorizontalPadding: {\n    paddingHorizontal: small,\n  },\n  horizontalPadding: {\n    paddingHorizontal: normal,\n  },\n  mediumHorizontalPadding: {\n    paddingHorizontal: medium,\n  },\n\n  tinyVerticalPadding: {\n    paddingVertical: tiny,\n  },\n  smallVerticalPadding: {\n    paddingVertical: small,\n  },\n  verticalPadding: {\n    paddingVertical: normal,\n  },\n  mediumVerticalPadding: {\n    paddingVertical: medium,\n  },\n}\n","/**\n * Images should be stored in the `App/Images` directory and referenced using variables defined here.\n */\n\nexport default {\n  Home: require('../Assets/Images/Home.png'),\n\n  DashBoard: require('../Assets/Images/Dashboard.png'),\n  System: require('../Assets/Images/System.png'),\n  Curves: require('../Assets/Images/Feed-Curves.png'),\n\n  User: require('../Assets/Images/User.png'),\n  Sow: require('../Assets/Images/Sow.png'),\n  Section: require('../Assets/Images/Section.png'),\n  Pens: require('../Assets/Images/Area_Colour.png'),\n  AutoPig: require('../Assets/Images/AutoPig.png'),\n  Feed: require('../Assets/Images/Feed-Components.png'),\n\n  Haxa_globe: require('../Assets/Images/Hexagon-globe.png'),\n  Hexa_icon: require('../Assets/Images/Hexa-icon.png'),\n  Logo: require('../Assets/Images/Logo.png'),\n\n  logo: require('../Assets/Images/TOM.png'),\n}\n","import { StyleSheet } from 'react-native'\nimport { Colors, Fonts, Metrics, } from '../Theme'\n\nexport default {\n  //********************** col sets */\n  column: {\n    flexDirection: 'column',\n  },\n  colMain: {\n    flexDirection: 'column',\n    justifyContent: 'center',\n  },\n  colCenter: {\n    flexDirection: 'column',\n    alignItems: 'center',\n    justifyContent: 'center',\n  },\n  colCross: {\n    flexDirection: 'column',\n    alignItems: 'center',\n  },\n  columnReverse: {\n    flexDirection: 'column-reverse',\n  },\n\n  //********************** Row sets */\n  row: {\n    flexDirection: 'row',\n  },\n  rowMain: {\n    flexDirection: 'row',\n    justifyContent: 'center',\n  },\n  rowCenter: {\n    flexDirection: 'row',\n    alignItems: 'center',\n    justifyContent: 'center',\n  },\n  rowCross: {\n    flexDirection: 'row',\n    alignItems: 'center',\n  },\n  rowReverse: {\n    flexDirection: 'row-reverse',\n  },\n\n  //********************** Cross sets */\n  center: {\n    alignItems: 'center',\n    justifyContent: 'center',\n  },\n  crossCenter: {\n    alignItems: 'center',\n  },\n  crossEnd: {\n    alignItems: 'flex-end',\n  },\n  crossStart: {\n    alignItems: 'flex-start',\n  },\n  crossStretch: {\n    alignItems: 'stretch',\n  },\n\n  //********************** Fill sets */\n  fill: {\n    flex: 1,\n  },\n  fillCenter: {\n    flex: 1,\n    alignItems: 'center',\n    justifyContent: 'center',\n  },\n  fillCol: {\n    flex: 1,\n    flexDirection: 'column',\n  },\n  fillColCenter: {\n    flex: 1,\n    flexDirection: 'column',\n    alignItems: 'center',\n    justifyContent: 'center',\n  },\n  fillColCross: {\n    flex: 1,\n    flexDirection: 'column',\n    alignItems: 'center',\n  },\n  fillColMain: {\n    flex: 1,\n    flexDirection: 'column',\n    justifyContent: 'center',\n  },\n  fillColReverse: {\n    flex: 1,\n    flexDirection: 'column-reverse',\n  },\n  fillRow: {\n    flex: 1,\n    flexDirection: 'row',\n  },\n  fillRowCenter: {\n    flex: 1,\n    flexDirection: 'row',\n    alignItems: 'center',\n    justifyContent: 'center',\n  },\n  fillRowCross: {\n    flex: 1,\n    flexDirection: 'row',\n    alignItems: 'center',\n  },\n  fillRowMain: {\n    flex: 1,\n    flexDirection: 'row',\n    justifyContent: 'center',\n  },\n  fillRowReverse: {\n    flex: 1,\n    flexDirection: 'row-reverse',\n  },\n\n  //********************** Size sets */\n  fullSize: {\n    height: '100%',\n    width: '100%',\n  },\n  halvWidth: {\n    width: '50%',\n  },\n  midWidth: {\n    width: '75%',\n  },\n  fullWidth: {\n    width: '100%',\n  },\n\n  //********************** Main sets */\n  mainCenter: {\n    justifyContent: 'center',\n  },\n  mainEnd: {\n    justifyContent: 'flex-end',\n  },\n  mainSpaceAround: {\n    justifyContent: 'space-around',\n  },\n  mainSpaceBetween: {\n    justifyContent: 'space-between',\n  },\n  mainStart: {\n    justifyContent: 'flex-start',\n  },\n\n  //********************** Container sets */\n  mainContainer:{\n    flex: 1,\n    flexDirection: 'column',\n    alignItems: 'center',\n    ...Metrics.mediumHorizontalMargin,\n  },\n  contentContainer:{\n    flex:1,\n    flexDirection: 'column',\n    alignItems: 'center',\n    ...Metrics.mediumHorizontalMargin,\n    marginTop: Metrics.small,\n    ...Metrics.bottomMargin,\n  },\n  borderContainer: {\n    borderWidth: 1,\n    borderColor: '#000',\n    borderRadius: 15,\n    ...Metrics.tinyHorizontalPadding,\n    ...Metrics.tinyVerticalPadding,\n    maxWidth:450,\n    zIndex: 1,\n  },\n  textContainer:{\n    ...Fonts.normal,\n    marginBottom: Metrics.normal,\n    alignItems: 'center',\n  },\n  buttonContainer: {\n    marginBottom: Metrics.small,\n    maxWidth:450,\n  },\n  loadingContainer: {\n    position: 'absolute',\n    left: 0,\n    right: 0,\n    top: 0,\n    bottom: 0,\n    alignItems: 'center',\n    justifyContent: 'center',\n    backgroundColor: '#F5FCFF88',\n  },\n  logoContainer: {\n    width: '100%',\n    height: 220,\n  },\n\n  //**********************  */\n  backgroundReset: {\n    backgroundColor: Colors.transparent,\n  },\n\n  rotate90: {\n    transform: [{ rotate: '90deg' }],\n  },\n  rotate90Inverse: {\n    transform: [{ rotate: '-90deg' }],\n  },\n  mirror: {\n    transform: [{ scaleX: -1 }],\n  },\n\n  scrollSpaceAround: {\n    flexGrow: 1,\n    justifyContent: 'space-around',\n  },\n  scrollSpaceBetween: {\n    flexGrow: 1,\n    justifyContent: 'space-between',\n  },\n\n  selfStretch: {\n    alignSelf: 'stretch',\n  },\n\n  textCenter: {\n    textAlign: 'center',\n  },\n  textJustify: {\n    textAlign: 'justify',\n  },\n  textLeft: {\n    textAlign: 'left',\n  },\n  textRight: {\n    textAlign: 'right',\n  },\n};\n","/**\n * This file defines the base application styles.\n *\n * Use it to define generic component styles (e.g. the default text styles, default button styles...).\n */\nimport { StyleSheet } from 'react-native'\nimport { Colors, Fonts, Metrics, } from '../Theme'\n\nexport default {\n  button: {\n    backgroundColor: Colors.primary,\n    color: Colors.secountText,\n  },\n  buttonText: {\n    color: Colors.secountText,\n  },\n\n  error: {\n    ...Fonts.normal,\n    color: Colors.error,\n    marginBottom: Metrics.tiny,\n    textAlign: 'center',\n  },\n  result: {\n    ...Fonts.normal,\n    marginBottom: Metrics.tiny,\n    textAlign: 'center',\n  },\n  text: {\n    ...Fonts.normal,\n    marginBottom: Metrics.tiny,\n    textAlign: 'center',\n  },\n  input: {\n    ...Fonts.normal,\n    height: 24, \n  },\n\n  navigationHeader:{\n    textAlign: 'center',\n    alignSelf:'center',\n    flexGrow:1,\n  }\n};\n","import { StyleSheet } from 'react-native'\nimport { Helpers, Metrics, Fonts, Colors } from '../../Theme'\n\nexport default StyleSheet.create({\n  container: {\n    backgroundColor: Colors.primary,\n  },\n})\n","import React, { useEffect, Component } from 'react'\nimport { Text, View, Image, Platform } from 'react-native'\nimport { useDispatch, useSelector, connect } from 'react-redux'\nimport { bindActionCreators } from 'redux';\n\nimport NavigationService from '../../Services/NavigationService'\n\nimport firebase from 'firebase/app'\nimport \"firebase/messaging\"\n\nimport Style from './SplashScreenStyle'\nimport { Helpers, Images } from '../../Theme'\n\nclass SplashScreen extends Component {\n  constructor(props){\n    super(props);\n    /*this.state = {\n    }*/\n  }\n\n  getData(){\n    //this.props.setFirebaseError(null)\n    if (Platform.OS === \"android\" || Platform.OS === \"ios\"){\n      firebase.messaging().onNotificationOpenedApp(remoteMessage => {\n        console.log(\n          'Notification caused app to open from background state:',\n          remoteMessage.notification,\n        );\n        NavigationService.navigate(remoteMessage.data.type);\n      });\n\n      // Check whether an initial notification is available\n      firebase.messaging().getInitialNotification().then(remoteMessage => {\n        if (remoteMessage) {\n          console.log(\n            'Notification caused app to open from quit state:',\n            remoteMessage.notification,\n          );\n          NavigationService.navigate(remoteMessage.data.type); // e.g. \"Settings\"\n        }\n      });\n    }\n  }\n\n  checkData(props){\n  }\n\n  componentDidMount(){\n    this.checkData(this.props);\n    \n    this.getData();\n  }\n\n  componentDidUpdate(prevProps, prevState) {\n    if (this.props !== prevProps){\n      this.checkData(this.props);\n    }\n  }\n\n  render() {\n    return(\n      <View style={[Helpers.fillRowCenter, Style.container]}>\n        <View style={[Helpers.center, Helpers.logoContainer]}>\n          <Image style={Helpers.fullSize} source={Images.Hexa_icon} resizeMode={'contain'} />\n        </View>\n      </View>\n    )\n  }\n}\n\nconst mapStateToProps = (state) => {\n  const { firebase } = state\n  return { firebase }\n};\n\nconst mapDispatchToProps  = (dispatch) => {\n  return {\n    //setFirebaseError: error => dispatch(FirebaseActions.setFirebaseError(error)),\n  }\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(SplashScreen);\n//export default SplashScreen;\n\n","import React from 'react'\nimport { Text, View } from 'react-native'\nimport { Helpers, Metrics } from '../../Theme'\n\n/**\n * This is an example of a container component with a deep link.\n */\nconst DeepLinkingScreen = () => (\n  <View style={[Helpers.fillCenter, Helpers.rowMain, Metrics.mediumHorizontalMargin]}>\n    <Text>\n      This is deep linking example screen which can be accessed using agrissysapp://deeplink scheme!\n    </Text>\n  </View>\n)\n\nexport default DeepLinkingScreen\n","import React from 'react';\r\nimport { StyleSheet, View, TouchableOpacity, Text, Image} from 'react-native';\r\n\r\nimport { ApplicationStyles, Helpers, Metrics, Fonts, Colors, Images } from '../Theme'\r\n\r\nconst Button = props => {\r\n  var TextView = [<Text style={[styles.text, props.textStyle]} key={0}>{props.Text}</Text>]\r\n\r\n  var ImageView = []\r\n  if (props.icon) {\r\n    var _Image = <Image style={Helpers.fullSize} source={props.icon} resizeMode={'contain'} />\r\n    ImageView = (\r\n      <View style={[styles.icon, props.iconStyle]}>\r\n        {_Image}\r\n      </View>\r\n    )\r\n  }\r\n  return (\r\n    <TouchableOpacity style={[styles.boxContainer, props.boxStyle]} onPress={props.onPress}>\r\n      {props.icon?(\r\n        <View style={[styles.button, props.buttonStyle, Helpers.rowCenter]}>\r\n          <View style={[Helpers.colCenter, Helpers.fill]}>\r\n            {TextView}\r\n          </View>\r\n            {ImageView}\r\n        </View>\r\n      ):(\r\n        <View style={[styles.button, props.buttonStyle]}>\r\n          {TextView}\r\n        </View>\r\n      )}\r\n    </TouchableOpacity>\r\n  );\r\n};\r\n\r\nconst styles = StyleSheet.create({\r\n  boxContainer:{\r\n    ...Helpers.center,\r\n    ...Metrics.tinyVerticalMargin,\r\n  },\r\n  button: {\r\n    borderRadius: 15,\r\n    ...Helpers.center,\r\n    ...Helpers.fullWidth,\r\n    ...Metrics.horizontalPadding,\r\n    ...ApplicationStyles.button,\r\n  },\r\n  text: {\r\n    ...ApplicationStyles.buttonText,\r\n    ...Metrics.verticalPadding,\r\n    ...Helpers.center,\r\n    textAlign:\"center\",\r\n  },\r\n  icon: {\r\n    ...Helpers.colCenter,\r\n    ...Metrics.smallVerticalMargin,\r\n    width: '25%', \r\n    height: 50,\r\n  },\r\n});\r\n\r\nexport default Button;","import React from 'react';\r\nimport { View, Text, Image} from 'react-native';\r\nimport Button from './Button'\r\n\r\nimport { ApplicationStyles, Helpers, Metrics } from '../Theme'\r\n\r\nconst Button_Panel = props => {\r\n  const Texts = props.Texts;\r\n  const Images = props.Images;\r\n\r\n  const onPress = props.onPress;\r\n\r\n  var Buttons = []\r\n\r\n  Texts.forEach((element, index) => {\r\n    var image = null\r\n    if (Images && Images[index]){\r\n      image = Images[index]\r\n    }\r\n    Buttons.push(\r\n      <Button key={index} Text={element} icon={image}\r\n        iconStyle={props.iconStyle} itemStyle={props.itemStyle}\r\n        onPress={() => {\r\n          if (onPress) {\r\n            onPress({index: index, text: element})\r\n          }\r\n        }}/>\r\n    )\r\n  });\r\n\r\n  return(\r\n    <View style={[Helpers.buttonContainer, Helpers.midWidth, {marginBottom:30}, props.style] }>\r\n      {Buttons}\r\n    </View>\r\n  )\r\n};\r\n\r\nexport default Button_Panel;","import React from 'react';\r\nimport { StyleSheet, View, TouchableOpacity, Text, Image} from 'react-native';\r\n\r\nimport Button from './Button';\r\n\r\nimport { ApplicationStyles, Helpers, Metrics, Fonts, Colors, Images } from '../Theme'\r\n\r\nconst TitleElement = props => {\r\n  return(\r\n    <View style={[Helpers.buttonContainer, Helpers.midWidth, Metrics.bottomMargin,] }>\r\n      <Button Text={props.Text} icon={props.icon} buttonStyle={{backgroundColor: Colors.AgriDarkblue}}\r\n        onPress={() => {\r\n          if (props.onPress){\r\n            props.onPress()\r\n          }\r\n        } }/>\r\n    </View>\r\n  )\r\n};\r\n\r\nexport default TitleElement;","import React from 'react';\r\nimport { StyleSheet, View, TouchableOpacity, Text} from 'react-native';\r\nimport { ListItem } from 'react-native-elements'\r\n\r\nimport { ApplicationStyles, Helpers, Metrics, Fonts, Colors } from '../Theme'\r\n\r\nconst CustomListItem = props => {\r\n  const key = props.key? props.key : 0 //TODO: always set prop.. (else it throws warn)\r\n  return (\r\n    <ListItem key={key} containerStyle={[styles.listitem, {flexDirection:\"column\", borderRadius:0}, props.itemStyle]} button onPress={props.onPress}>\r\n      <ListItem.Content>\r\n        <ListItem.Title>{props.Title}</ListItem.Title>\r\n        {props.hasOwnProperty(\"Subtitle\") ? <ListItem.Subtitle>{props.Subtitle}</ListItem.Subtitle>\r\n        :(<></>)}\r\n      </ListItem.Content>\r\n    </ListItem>\r\n  )\r\n};\r\n\r\nconst styles = StyleSheet.create({\r\n  listitem: {\r\n    flex: 1,\r\n    ...Helpers.borderContainer,\r\n    ...Helpers.center,\r\n    backgroundColor: '#fff',\r\n    paddingVertical: 5,\r\n    paddingHorizontal: 5,\r\n  },\r\n});\r\n\r\nexport default CustomListItem;","import React from 'react';\r\nimport { StyleSheet, View, TouchableOpacity, Text, FlatList} from 'react-native';\r\n\r\nimport { ApplicationStyles, Helpers, Metrics, Fonts, Colors } from '../Theme'\r\n\r\nconst ContentProp = props => {\r\n  var texts = [];\r\n  if (props.texts){\r\n    props.texts.forEach((element,i) => {\r\n      texts.push(\r\n        (<View style={[styles.contentBox, props.textsStyle]} key={\"text_\" + i}>\r\n          <Text>{element}</Text>\r\n        </View>)\r\n      )\r\n    });\r\n  }\r\n\r\n  var datas = [];\r\n  if (props.datas) {\r\n    props.datas.forEach((element,i) => {\r\n      datas.push(\r\n        (<TouchableOpacity style={[styles.contentBox, props.datasStyle]} onLongPress={() => {\r\n          if (props.onPress){\r\n            props.onPress({data: element, index: i})\r\n          }\r\n        }} key={\"data_\" + i}>\r\n          <Text>{element}</Text>\r\n        </TouchableOpacity>)\r\n      )\r\n    });\r\n  }\r\n\r\n  var length = texts.length > datas.length? texts.length : datas.length\r\n  \r\n  var view = [];\r\n  for(var i = 0; i < length; i++) {\r\n    var dataRow = [];\r\n    if (i < texts.length) {\r\n      dataRow.push(texts[i])\r\n    } else {\r\n      dataRow.push((<View style={[Helpers.fill, Helpers.colCenter]} key={\"leftSpace_\" + i}/>))\r\n    }\r\n\r\n    if (datas.length > 0) {\r\n      dataRow.push((<View style={[Helpers.fill, Helpers.colCenter, {maxWidth:20}]} key={\"seperator_\" + view.length}/>))\r\n\r\n      if (i < datas.length) {\r\n        dataRow.push(datas[i])\r\n      } else {\r\n        dataRow.push((<View style={[Helpers.fill, Helpers.colCenter]} key={\"rightSpace_\" + i}/>))\r\n      }\r\n    }\r\n\r\n    view.push(\r\n      (<View style={[props.datas?Helpers.rowCenter:Helpers.halvWidth, Metrics.tinyVerticalMargin]} key={\"row_\" + view.length}>\r\n        {dataRow}\r\n      </View>)\r\n    )\r\n  }\r\n  \r\n  return (view);\r\n};\r\n\r\nconst styles = StyleSheet.create({\r\n  contentBox: {\r\n    ...Helpers.fill,\r\n    ...Helpers.colCenter,\r\n    ...Helpers.borderContainer,\r\n    borderRadius: 0,\r\n    minHeight:30,\r\n  }\r\n});\r\n\r\n\r\nexport default ContentProp;","import React, { useEffect } from 'react'\nimport { StyleSheet, Text, View, Image, ActivityIndicator } from 'react-native'\n\nimport { Helpers, Images, Colors } from '../Theme'\n\nconst Loading = props => {\n  if (props.loading){\n    var styles = props.back ? styles.container: {}\n    return (\n      <View style={[Helpers.fillRowCenter, Helpers.center, Helpers.logoContainer, styles]}>\n        <View style={[Helpers.center, Helpers.logoContainer]}>\n          <Image style={Helpers.fullSize} source={Images.Hexa_icon} resizeMode={'contain'} />\n        </View>\n      </View>\n    )\n  } else return null;\n}\n\nconst styles = StyleSheet.create({\n  container: {\n    backgroundColor: Colors.primary,\n  },\n});\n\nexport default Loading\n","import React, { Component } from 'react'\nimport { Platform, Text, View, ActivityIndicator, ScrollView } from 'react-native'\nimport { useDispatch, useSelector, connect } from 'react-redux'\nimport { bindActionCreators } from 'redux';\nimport NavigationService from '../Services/NavigationService'\n\nimport FirebaseActions from '../Stores/Firebase/Actions'\nimport { Actions, DataRefs, sortObject, Operations } from '../Stores/Firebase/Selectors'\n\nimport { Button, Comment_Module } from '../Components'\nimport { ApplicationStyles, Helpers, Metrics } from '../Theme'\n\nclass OperationsPanel extends Component {\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      View:1,\n    }\n  }\n\n  getPenAndSection() {\n    var Section, Pen = undefined\n    if (this.props.pig && this.props.pigTag && this.props.PigsList) {\n      if (this.props.PigsList[this.props.pigTag] && this.props.PigsList[this.props.pigTag].pen && this.props.PigsList[this.props.pigTag].pen != 0) {\n        Pen = this.props.PigsList[this.props.pigTag].pen\n\n        const localDataStore = this.props.firebase.localDataStore\n        if (localDataStore && localDataStore.pens && localDataStore.pens[Pen]) {\n          var PenData = localDataStore.pens[Pen];\n          Section = PenData.section;\n        }\n      }\n    }\n    return {Section, Pen}\n  }\n\n  getData() {\n    \n  }\n\n  componentDidMount() {\n    this.getData();\n  }\n\n  componentDidUpdate(prevProps, prevState) {\n    if (this.props !== prevProps) {\n      \n    }\n  }\n\n  render() {\n    const localDataStore = this.props.firebase.localDataStore //Farmid\n    const CurrentData = this.props.firebase.currentData\n\n    if (this.props.pig) {\n      return(\n        <View style={[Helpers.buttonContainer]}>\n          <Button Text=\"Add Pig\"\n            onPress={() => {\n              if (this.props.pigTag !== \"\" ) {\n                if (Object.keys(this.props.PigsList).filter(e => e === this.props.pigTag).length > 0){\n                  this.props.setFirebaseError(\"Can not add Tag already exist\")\n                } else {\n                  this.props.setFirebaseError(\"\")\n                  this.props.newPig(Object.keys(localDataStore.userData.farms)[0], this.props.pigTag)\n                }\n              }\n              else this.props.setFirebaseError(\"A Tag is needed\")\n            } }/>\n          <Button Text=\"Move Pig\"\n            onPress={() => {\n              var {Section, Pen} = this.getPenAndSection()\n              this.props.setCurrentPig(this.props.pigTag, Section, Pen)\n              NavigationService.navigate(\"DataEditor\")\n            } }/>\n        </View>\n      )\n    } else if (this.props.section) {\n      return(\n        <View style={[Helpers.buttonContainer]}>\n          <Button Text=\"Weight\"\n              onPress={() => NavigationService.navigate(\"WeighingOperations\") \n            }/>\n          <View style={[{marginTop:40}]}>\n            <Button Text=\"Add Pen\"\n              onPress={() => {\n                this.props.editPens(Action.CREATE)\n                NavigationService.navigate(\"DataEditor\")\n              } }/>\n            <Button Text=\"Remove Pen\"\n              onPress={() => {\n                this.props.editPens(Action.DELETE)\n                NavigationService.navigate(\"DataEditor\")\n              } }/>\n          </View>\n        </View>\n      )\n    } else {\n      var Action = 1;\n      switch(this.state.View) {\n        case Operations.MOVE:\n        case Operations.LOST:\n        case Operations.SOLD:\n          Action = -1\n        case Operations.ADD:\n          return(\n            <Comment_Module Title={\"Operations comment:\"} Quantity={true} onDone={(res) => {\n              if (res.res) {\n                var action = this.state.View\n                action = action.charAt(0).toUpperCase() + action.slice(1)\n                var quantity = res.quantity\n                if (isNaN(quantity)) quantity = 1\n                Action = Action * quantity\n\n                this.props.newComment(Object.keys(localDataStore.userData.farms)[0], CurrentData.penId, action, res.data)\n                this.props.newPigCount(Object.keys(localDataStore.userData.farms)[0], CurrentData.penId, Action)\n              }\n\n              this.setState({\n                View: 1\n              })\n            }}/>\n          )\n          //this.props.newPigCount(Object.keys(localDataStore.userData.farms)[0], CurrentData.penId, Action * \"count_input\", comment)\n        case Operations.NOTE:\n          return(\n            <Comment_Module Title={\"Pen Note:\"} onDone={(res) => {\n              if (res.res && res.data) {\n                var action = this.state.View\n                action = action.charAt(0).toUpperCase() + action.slice(1)\n                this.props.newComment(Object.keys(localDataStore.userData.farms)[0], CurrentData.penId, action, res.data)\n              }\n\n              this.setState({\n                View: 1\n              })\n            }}/>\n          )\n          break;\n        default:\n          return(\n            <ScrollView style={{paddingRight: 5}}>\n              <View style={[Helpers.buttonContainer]}>\n                <Button Text=\"Weight\"\n                    onPress={() => NavigationService.navigate(\"WeighingOperations\") \n                  }/>\n                <Button Text=\"Note\"\n                    onPress={() => {\n                      this.setState({\n                        View: Operations.NOTE,\n                      })\n                    }\n                  }/>\n                <View style={[{marginTop:10}]}>\n                  <Button Text=\"Add Pig\"\n                    onPress={() => {\n                      this.setState({\n                        View: Operations.ADD,\n                      })\n                    } }/>\n                  <Button Text=\"Move Pig\"\n                    onPress={() => {\n                      this.setState({\n                        View: Operations.MOVE,\n                      })\n                    } }/>\n                  <Button Text=\"Lost Pig\"\n                    onPress={() => {\n                      this.setState({\n                        View: Operations.LOST,\n                      })\n                      //TODO: Add lost pig data save\n                      //dispatch(FirebaseActions.actionStarting(Actions.CREATE, DataRefs.PIGS, {FarmId: Object.keys(localDataStore.userData.farms)[0], PenId: props.penid, Action:-1}))\n                    } }/>\n                  <Button Text=\"Sold Pig\"\n                    onPress={() => {\n                      this.setState({\n                        View: Operations.SOLD,\n                      })\n                      //TODO: Add sold pig data save\n                      //dispatch(FirebaseActions.actionStarting(Actions.CREATE, DataRefs.PIGS, {FarmId: Object.keys(localDataStore.userData.farms)[0], PenId: props.penid, Action:-1}))\n                    } }/>\n                </View>\n              </View>\n            </ScrollView>\n          )\n      }\n    }\n  }\n}\n\nconst mapStateToProps = (state) => {\n  const { firebase } = state\n  return { firebase }\n};\n\nconst mapDispatchToProps  = (dispatch) => {\n  return {\n    setFirebaseError: error => dispatch(FirebaseActions.setFirebaseError(error)),\n\n    setCurrentData: penId => dispatch(FirebaseActions.setCurrentData({type:DataRefs.PENS, penId: penId})),\n    setCurrentDataElement: element => dispatch(FirebaseActions.setCurrentData(element)),\n\n    editPens: (action) => dispatch(FirebaseActions.setCurrentData({type:DataRefs.PENS, action:action})),\n\n    setCurrentPig: (pigTag, Section, Pen) => dispatch(FirebaseActions.setCurrentData({type:DataRefs.PIGS, action:Actions.CREATE, pigtag:pigTag, data:{section:Section}, dataId:Pen})),\n    newPig: (farmId, pigTag) => dispatch(FirebaseActions.actionStarting(Actions.CREATE, DataRefs.PIGS, {FarmId: farmId, TagId: pigTag})),\n    newPigCount: (farmId, penId, countChange) => dispatch(FirebaseActions.actionStarting(Actions.CREATE, DataRefs.PIGS, {FarmId: farmId, PenId: penId, Action:countChange})),\n\n    newComment: (farmId, penId, action, data) => dispatch(FirebaseActions.actionStarting(Actions.CREATE, DataRefs.COMMENTS, {FarmId: farmId, PenId: penId, Action: action, Data: data})),\n  }\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(OperationsPanel);","import React, {useRef, useState, useEffect} from 'react';\r\nimport { Text, View, StyleSheet, Animated } from 'react-native';\r\n\r\nimport { ApplicationStyles, Helpers, Metrics } from '../Theme'\r\n\r\nconst ProgressBar = props => {\r\n  let animation = useRef(new Animated.Value(0));\r\n  const progress = props.progress\r\n  \r\n  useEffect(() => {\r\n    Animated.timing(animation.current, {\r\n      toValue: progress,\r\n      duration: 100\r\n    }).start();\r\n  },[progress])\r\n\r\n  const width = animation.current.interpolate({\r\n    inputRange: [0, 100],\r\n    outputRange: [\"0%\", \"100%\"],\r\n    extrapolate: \"clamp\"\r\n  })\r\n  return (\r\n    <View style={[Helpers.borderContainer, Helpers.fullWidth, {borderWidth:0, height:45}]}>\r\n      <View style={[Helpers.fill, Helpers.fullWidth, Helpers.colMain, {alignContent:'center'}]}>\r\n        <Text style={{alignSelf:'flex-start'}}>\r\n          {props.text}\r\n        </Text>\r\n        <View style={styles.progressBar}>\r\n          <Animated.View style={[StyleSheet.absoluteFill], {backgroundColor: \"#8BED4F\", width }}/>\r\n        </View>\r\n      </View>\r\n    </View>\r\n  )\r\n}\r\n\r\nexport default ProgressBar;\r\n\r\nconst styles = StyleSheet.create({\r\ncontainer: {\r\n  flex: 1,\r\n  flexDirection: 'column',\r\n  justifyContent: 'center',\r\n  alignItems: 'center',\r\n  paddingTop: 5,\r\n  padding: 8,\r\n},\r\nprogressBar: {\r\n  flexDirection: 'row',\r\n  height: 20,\r\n  width: '100%',\r\n  borderColor: '#000',\r\n  borderWidth: 2,\r\n  borderRadius: 5\r\n}\r\n});\r\n","import React, { Component } from 'react'\r\nimport { StyleSheet, View, TouchableOpacity, Picker, Text, Image} from 'react-native';\r\n\r\nimport { ApplicationStyles, Helpers, Metrics, Fonts, Colors, Images } from '../Theme'\r\n\r\nconst monthNames = [\"January\", \"February\", \"March\", \"April\", \"May\", \"June\",\r\n  \"July\", \"August\", \"September\", \"October\", \"November\", \"December\"\r\n];\r\n\r\nclass DateTime_Picker extends Component {\r\n    constructor(props){\r\n        super(props);\r\n        \r\n        const {year, month, day} = this.getStates(props)\r\n        this.state = {\r\n            year: year,\r\n            month: month,\r\n            day: day,\r\n        }\r\n    }\r\n\r\n    getStates(props){\r\n        var Today = new Date();\r\n        var year, month, day;\r\n        if (props.FullYear) {\r\n            Today = new Date(props.FullYear)\r\n        }\r\n\r\n        year = Today.getFullYear()\r\n        month = Today.getMonth()\r\n        day = Today.getDate()\r\n\r\n        if (!props.FullYear) {\r\n            if (props.Year){\r\n                year = this.props.Year\r\n            }\r\n            if (props.Month){\r\n                month = this.props.Month\r\n            }\r\n            if (props.Day){\r\n                day = this.props.Day\r\n            }\r\n        }\r\n        return {year, month, day}\r\n    }\r\n\r\n    componentDidUpdate(prevProps, prevState){\r\n        if (prevProps.FullYear){\r\n            if (prevProps.FullYear != this.props.FullYear){\r\n                this.forceUpdate()\r\n            }\r\n        }else {\r\n            var changed = false;\r\n            if (prevProps.Year != this.props.Year) changed = true\r\n            if (prevProps.Month != this.props.Month) changed = true\r\n            if (prevProps.Day != this.props.Day) changed = true\r\n            if (changed) {\r\n                this.forceUpdate()\r\n            }\r\n        }\r\n    }\r\n\r\n    render() {\r\n        var {year, month, day} = this.getStates(this.props)\r\n\r\n        var YearItems = []\r\n        for (let index = year - 25; index < year + 25; index++) {\r\n            YearItems.push(<Picker.Item key={\"Year_\" + index} value={index} label={index} />)\r\n        }\r\n        var MonthItems = []\r\n        for (let index = 0; index < monthNames.length; index++) {\r\n            MonthItems.push(<Picker.Item key={\"Month_\" + index} value={index} label={monthNames[index]} />)\r\n        }\r\n\r\n        var DayItems = []\r\n        var d = new Date(year, month + 1, 0).getDate()\r\n        for (let index = 1; index <= d; index++) {\r\n            DayItems.push(<Picker.Item key={\"Day_\" + index} value={index} label={index} />)\r\n        }\r\n\r\n        return(\r\n            <View style={[Helpers.fullWidth, Helpers.row, this.props.style]}>\r\n                <Picker selectedValue={year} style={[{minWidth: 100, marginRight:10}]}\r\n                    onValueChange={(_year) => {\r\n                        year = _year\r\n                        this.props.onValueChange(new Date(year, month, day))\r\n                    }}>\r\n                    {YearItems}\r\n                </Picker>\r\n\r\n                <Picker selectedValue={month} style={[{minWidth: 100, marginRight:10}]}\r\n                    onValueChange={(_month) => {\r\n                        month = _month\r\n                        this.props.onValueChange(new Date(year, month, day))\r\n                    }}>\r\n                    {MonthItems}\r\n                </Picker>\r\n\r\n                <Picker selectedValue={day} style={[{minWidth: 100}]}\r\n                    onValueChange={(_day) => {\r\n                        day = parseInt(_day)\r\n                        this.props.onValueChange(new Date(year, month, day))\r\n                    }}>\r\n                    {DayItems}\r\n                </Picker>\r\n            </View>\r\n        )\r\n    }\r\n}\r\nexport default DateTime_Picker;","import React, { useState } from 'react';\r\nimport { View, Text, TextInput, Image, StyleSheet, RecyclerViewBackedScrollViewComponent} from 'react-native';\r\nimport Button from './Button'\r\nimport { Icon, Input } from 'react-native-elements'\r\nimport { Operations } from '../Stores/Firebase/Selectors'\r\n\r\nimport { ApplicationStyles, Helpers, Metrics, Fonts, Colors } from '../Theme'\r\n\r\nconst Comment_Module = props => {\r\n  const Title = props.Title;\r\n  const Quantity = props.Quantity?props.Quantity:false\r\n  \r\n  const onDone = props.onDone;\r\n  var Button1 = \"Done\";\r\n  var Button2 = \"Cancel\";\r\n  const [InputText, setInputText] = useState(\"\");\r\n  const [QuantityText, setQuantityText] = useState(\"1\");\r\n\r\n  return(\r\n    <View style={[Helpers.buttonContainer, props.style] }>\r\n      <View style={styles.textAreaContainer} >\r\n        <View style={[Helpers.row]}>\r\n          {Title?(<Text style={[Fonts.normal, {height: 24, color:Colors.input, fontWeight:700}]}>{Title}</Text>):(<></>)}\r\n          {Quantity?(\r\n            <View style={[Helpers.row, {marginLeft:50, marginBottom:4}]}>\r\n              <Text style={[Fonts.normal, {height: 24, color:Colors.input, fontWeight:700}]}>Quantity:</Text>\r\n              <TextInput style={[styles.textArea, {marginLeft: 10, height:22, width:80}]} \r\n                numberOfLines={1}\r\n                multiline={false}\r\n                onChangeText={(text) => {\r\n                  if (text === \"\" || !isNaN(text)) setQuantityText(text)\r\n                }}\r\n                value={QuantityText}\r\n              />\r\n            </View>\r\n          ):(<></>)}\r\n        </View>\r\n        <TextInput\r\n          style={styles.textArea}\r\n          underlineColorAndroid=\"transparent\"\r\n          placeholder=\"Type something\"\r\n          placeholderTextColor=\"grey\"\r\n          numberOfLines={10}\r\n          multiline={true}\r\n          onChangeText={(text) => setInputText(text)}\r\n          value={InputText}\r\n        />\r\n      </View>\r\n      <Button key={\"_Done\"} Text={Button1}\r\n        onPress={() => {\r\n          if (onDone) {\r\n            onDone({res: true, data: InputText, quantity: QuantityText})\r\n          }\r\n        }}/>\r\n      <Button key={\"_Cancel\"} Text={Button2}\r\n        onPress={() => {\r\n          if (onDone) {\r\n            onDone({res: false, data: InputText})\r\n          }\r\n        }}/>\r\n    </View>\r\n  )\r\n};\r\n\r\nconst styles = StyleSheet.create({\r\n  textAreaContainer: {\r\n    borderColor: Colors.gray,\r\n    borderWidth: 1,\r\n    padding: 5\r\n  },\r\n  textArea: {\r\n    height: 150,\r\n    justifyContent: \"flex-start\",\r\n    borderColor: \"black\",\r\n    borderWidth: 0.5,\r\n    padding: 5,\r\n  }\r\n})\r\n\r\nexport default Comment_Module;","import { StyleSheet } from 'react-native'\nimport { Helpers, Metrics, Fonts, Colors } from '../../Theme'\n\nexport default StyleSheet.create({\n  logoContainer: {\n    ...Helpers.fullWidth,\n    height: 190,\n    marginTop: Metrics.medium * 2, \n    marginBottom: Metrics.medium,\n  },\n})\n","import React, { useEffect } from 'react'\nimport { Text, View, ActivityIndicator, Image } from 'react-native'\nimport { useDispatch, useSelector } from 'react-redux'\n\nimport NavigationService from '../../Services/NavigationService'\n\n//import DeviceActions from '../../Stores/Device/Actions'\nimport FirebaseActions from '../../Stores/Firebase/Actions'\n\nimport { Button_Panel } from '../../Components'\nimport Style from './FrontScreenStyle'\nimport { ApplicationStyles, Helpers, Images } from '../../Theme'\n\nconst FrontScreen = () => {\n  //const firebaseUser = useSelector((state) => state.firebase.firebaseUser)\n\n  const dispatch = useDispatch()\n  useEffect(() => {\n    dispatch(FirebaseActions.setFirebaseError(null))\n    //dispatch(DeviceActions.stopBleScan())\n    //dispatch(DeviceActions.stopBluetoothScan())\n  }, [])\n  return (\n    <View\n      style={[\n        Helpers.mainContainer,\n      ]}\n    >\n      <View style={[Style.logoContainer]}>\n        <Image style={[Helpers.fullSize]} source={Images.Logo} resizeMode={'contain'} />\n      </View>\n\n      <View style={[Helpers.contentContainer, Helpers.fullSize]}>\n        <View style={[Helpers.textContainer, Helpers.fullWidth]}>\n          <Text style={ApplicationStyles.text}>Welcome to Agrisys App</Text>\n          <Text style={ApplicationStyles.text}>Please choose your action</Text>\n        </View>\n\n        <Button_Panel \n          Texts={[\"Connect to Agrisys Cloud\", \"Connect to Device\"]}\n          Images={[Images.Haxa_globe, null]}\n          onPress={(ele) => {\n            switch(ele.index){\n              case 0:\n                NavigationService.navigate('AuthStack')\n                break;\n              case 1:\n                NavigationService.navigate(\"DeviceScreen\")\n                break;\n            }\n            /*<Button Text=\"Example\"\n            onPress={() => NavigationService.navigate(\"ExampleScreen\")}/>*/\n          }}\n        />\n      </View>\n      \n    </View>\n  );\n}\n\nexport default FrontScreen;\n","/**\n * Selectors let us factorize logic that queries the state.\n *\n * Selectors can be used in sagas or components to avoid duplicating that logic.\n *\n * Writing selectors is optional as it is not always necessary, we provide a simple example below.\n */\n\nexport const liveInEurope = (state) => {\n  if (Object.entries(state.example.user).length <= 0) return null\n\n  // For this example, we imagine this cities are european cities\n  const europeanCities = [\n    'Gwenborough',\n    'Wisokyburgh',\n    'McKenziehaven',\n    'South Elvis',\n    'Roscoeview',\n  ]\n\n  return europeanCities.includes(state.example.user.address.city)\n}\n","import { StyleSheet } from 'react-native'\nimport { Helpers, Metrics, Fonts, Colors } from '../../Theme'\n\nexport default StyleSheet.create({\n  error: {\n    ...Fonts.normal,\n    color: Colors.error,\n    marginBottom: Metrics.tiny,\n    textAlign: 'center',\n  },\n  instructions: {\n    ...Fonts.normal,\n    fontStyle: 'italic',\n    marginBottom: Metrics.tiny,\n    textAlign: 'center',\n  },\n  logoContainer: {\n    ...Helpers.fullWidth,\n    height: 300,\n    marginBottom: 25,\n  },\n  result: {\n    ...Fonts.normal,\n    marginBottom: Metrics.tiny,\n    textAlign: 'center',\n  },\n  text: {\n    ...Fonts.normal,\n    marginBottom: Metrics.tiny,\n    textAlign: 'center',\n  },\n})\n","import React, { useEffect } from 'react'\nimport { Platform, Text, View, Button, ActivityIndicator, Image } from 'react-native'\nimport { useDispatch, useSelector } from 'react-redux'\n\nimport NavigationService from '../../Services/NavigationService'\n\nimport ExampleActions from '../../Stores/Example/Actions'\nimport { liveInEurope } from '../../Stores/Example/Selectors'\n\nimport Style from './ExampleScreenStyle'\nimport { ApplicationStyles, Helpers, Images, Metrics } from '../../Theme'\n\n/**\n * This is an example of a container component.\n *\n * This screen displays a little help message and informations about a fake user.\n * Feel free to remove it.\n */\nconst instructions = Platform.select({\n  ios: 'Press Cmd+R to reload,\\nCmd+D or shake for dev menu.',\n  android: 'Double tap R on your keyboard to reload,\\nShake or press menu button for dev menu.',\n})\n\nconst ExampleScreen = () => {\n  const dispatch = useDispatch()\n\n  const user = useSelector((state) => state.example.user)\n  const userIsLoading = useSelector((state) => state.example.userIsLoading)\n  const userErrorMessage = useSelector((state) => state.example.userErrorMessage)\n\n  useEffect(() => {\n    dispatch(ExampleActions.fetchUser())\n  }, [])\n\n  return (\n    <View\n      style={[\n        Helpers.fillCenter,\n        Helpers.rowMain,\n        Metrics.mediumHorizontalMargin,\n        Metrics.mediumVerticalMargin,\n      ]}\n    >\n      {userIsLoading ? (\n        <ActivityIndicator size=\"large\" color=\"#0000ff\" />\n      ) : (\n        <View>\n          <View style={Style.logoContainer}>\n            <Image style={Helpers.fullSize} source={Images.logo} resizeMode={'contain'} />\n          </View>\n          <Text style={Style.text}>To get started, edit App.js</Text>\n          <Text style={Style.instructions}>{instructions}</Text>\n          {userErrorMessage ? (\n            <Text style={Style.error}>{userErrorMessage}</Text>\n          ) : (\n            <View>\n              <Text style={Style.result}>\n                {\"I'm a fake user, my name is \"}\n                {user.name}\n              </Text>\n              <Text style={Style.result}>\n                {liveInEurope ? 'I live in Europe !' : \"I don't live in Europe.\"}\n              </Text>\n            </View>\n          )}\n          <Button\n            style={ApplicationStyles.button}\n            onPress={() => dispatch(ExampleActions.fetchUser())}\n            title=\"Refresh\"\n          />\n        </View>\n      )}\n    </View>\n  )\n}\n\nexport default ExampleScreen\n","import React from 'react'\nimport { createAppContainer } from 'react-navigation'\nimport { createStackNavigator } from 'react-navigation-stack'\nimport { TouchableOpacity, Icon, View, Text } from 'react-native'\n\nimport Front from '../Containers/Agrisys/FrontScreen'\nimport Example from '../Containers/Example/ExampleScreen'\n//import Device from '../Containers/Device/DeviceScreen'\n\nimport { ApplicationStyles } from '../Theme'\n/**\n * The root screen contains the application's navigation.\n *\n * @see https://reactnavigation.org/docs/en/hello-react-navigation.html#creating-a-stack-navigator\n */\nconst StackNavigator = createStackNavigator(\n  {\n    // The main application screen is our \"ExampleScreen\". Feel free to replace it with your\n    // own screen and remove the example.\n    FrontScreen: {\n      screen: Front,\n      navigationOptions: () => ({\n        headerMode: 'none',\n        headerShown: false,\n      }),\n      path: 'main',\n    },\n    \n    /*DeviceScreen: {\n      screen: Device,\n      navigationOptions: () => ({\n        title: 'Device',\n        headerTitleStyle:{\n          ...ApplicationStyles.navigationHeader\n        },\n      }),\n    },*/\n\n    ExampleScreen: {\n      screen: Example,\n      navigationOptions: () => ({\n        headerMode: 'none',\n      }),\n      path: 'example',\n    }\n  },\n  {\n    initialRouteName: 'FrontScreen',\n    // See https://reactnavigation.org/docs/en/stack-navigator.html#stacknavigatorconfig\n    headerMode: 'float',\n    defaultNavigationOptions:{\n      headerTitleAlign: 'center',\n      headerRight: () => (<View style={{padding:6}}></View>),\n    },\n  }\n)\n\nexport default StackNavigator\n","import { StyleSheet } from 'react-native'\nimport { Helpers, Metrics, Fonts, Colors } from '../../../Theme'\n\nexport default StyleSheet.create({\n  \n})\n","import React, { Component } from 'react'\nimport { Platform, Text, Image, View, ActivityIndicator } from 'react-native'\nimport { Input } from 'react-native-elements'\nimport { connect } from 'react-redux'\nimport { bindActionCreators } from 'redux';\n\nimport NavigationService from '../../../Services/NavigationService'\n\nimport FirebaseActions from '../../../Stores/Firebase/Actions'\nimport {Actions, DataRefs, UserStates} from '../../../Stores/Firebase/Selectors'\n\nimport { Loading } from '../../../Components'\nimport Style from './AuthStyle'\nimport { ApplicationStyles, Helpers, Metrics, Images } from '../../../Theme'\n\nconst PanelsSorter = (userType) => {\n  switch(userType) {\n    case UserStates.ADMIN:\n      return \"AdminPanel\"\n    case UserStates.OWNER:\n      return \"ConsysPanel\"\n    case UserStates.FREE:\n      return \"UserPanel\"\n    case UserStates.STARTER:\n      return \"CreateUserData\"\n    default:\n      return \"LoginUser\"\n  }\n};\n\nclass UserLoadingScreen extends Component {\n  constructor(props){\n    super(props);\n    this.state = {\n      ISLOADPAGE: true,\n      Page:null,\n    }\n  }\n\n  getData() {\n    this.props.setFirebaseError(null)\n    if (this.props.firebase.firebaseUser !== null) {\n      this.props.getUser(this.props.firebase.firebaseUser.uid)\n    }\n  }\n\n  checkData(props) {\n    const firebaseUser = this.props.firebase.firebaseUser\n    const localDataStore = this.props.firebase.localDataStore\n\n    const state = localDataStore.userData?localDataStore.userData.state:null;\n    const page = PanelsSorter(state)\n    \n    if (page !== \"LoginUser\" && localDataStore.userData && localDataStore.userData.action){\n      if (localDataStore.userData.action === \"CLEAR\") {\n        this.props.clearDataMem()\n      }\n    }\n    NavigationService.navigate(page)\n  }\n\n  componentDidMount(){\n    this.checkData(this.props);\n\n    this.getData();\n  }\n  \n  componentDidUpdate(prevProps, prevState) {\n    if (this.props !== prevProps){\n      this.checkData(this.props);\n    }\n  }\n\n  render() {\n    const IsLoading = this.props.firebase.firebaseIsLoading\n    const ISLOADPAGE = this.state.ISLOADPAGE;\n    \n    return(\n      <View\n        style={[\n          Helpers.mainContainer,\n        ]}\n      >\n        {!ISLOADPAGE ?(\n          <View style={[Helpers.contentContainer, Helpers.fullSize, Helpers.fillColMain]}>\n            <Text style={ApplicationStyles.text}>This page contains an error.</Text>\n            <Text style={ApplicationStyles.text}>If you are going back, please press back again.</Text>\n          </View>\n        ):(\n          <View style={[Helpers.fillRowCenter, Helpers.center, Helpers.logoContainer]}>\n            <Image style={Helpers.fullSize} source={Images.Hexa_icon} resizeMode={'contain'} />\n          </View>\n        )}\n        {(IsLoading || ISLOADPAGE) &&\n          <ActivityIndicator style={Helpers.loadingContainer} size='large' />\n        }\n      </View>\n    )\n  }\n}\n\nconst mapStateToProps = (state) => {\n  const { firebase } = state\n  return { firebase }\n};\n\nconst mapDispatchToProps  = (dispatch) => {\n  return {\n    setFirebaseError: error => dispatch(FirebaseActions.setFirebaseError(error)),\n\n    clearDataMem: () => dispatch(FirebaseActions.actionStarting(Actions.CLEAR, DataRefs.USERSDATA)),\n  \n    getUser: (UserId) => dispatch(FirebaseActions.actionStarting(Actions.FETCH, DataRefs.USERSDATA, {UserId: UserId})),\n  }\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(UserLoadingScreen);\n//export default UserLoadingScreen;\n","import React, { Component } from 'react'\nimport { Platform, Text, View, ActivityIndicator, Image } from 'react-native'\nimport { Input } from 'react-native-elements'\nimport { connect } from 'react-redux'\nimport { bindActionCreators } from 'redux';\n\nimport NavigationService from '../../../Services/NavigationService'\n\nimport FirebaseActions from '../../../Stores/Firebase/Actions'\nimport { Actions, DataRefs } from '../../../Stores/Firebase/Selectors'\n\nimport { Button } from '../../../Components'\nimport Style from './AuthStyle'\nimport { ApplicationStyles, Helpers, Metrics, Images } from '../../../Theme'\n\nclass UserLoginScreen extends Component {\n  constructor(props){\n    super(props);\n    this.state = {\n      Email: \"\",\n      Pass: \"\",\n      NewUser: false,\n    }\n  }\n\n  getData(){\n    this.props.setFirebaseError(null)\n  }\n\n  checkData(props) {\n    if (props.firebase && props.firebase.firebaseUser &&\n      props.firebase.localDataStore && props.firebase.localDataStore.userData) {\n      //NavigationService.navigate(\"UserLoadingScreen\")\n    }\n  }\n\n  componentDidMount(){\n    this.checkData(this.props);\n    \n    this.getData();\n  }\n\n  componentDidUpdate(prevProps, prevState) {\n    if (this.props !== prevProps){\n      this.checkData(this.props);\n    }\n  }\n\n  render() {\n    const IsLoading = this.props.firebase.firebaseIsLoading\n    const firebaseUser = this.props.firebase.firebaseUser\n    const firebaseErrorMessage = this.props.firebase.firebaseErrorMessage\n    \n    return(\n      <View\n        style={[\n          Helpers.mainContainer,\n        ]}\n      >\n        <View style={[Helpers.contentContainer, Helpers.fullSize, Helpers.fillColMain]}>\n          {firebaseErrorMessage ? (\n            <Text style={ApplicationStyles.error}>{firebaseErrorMessage}</Text>\n          ):(<></>)}\n\n          {!this.state.NewUser?(\n            <View style={[Helpers.contentContainer, Helpers.fullSize, Helpers.fillColMain]}>\n              <View style={[Helpers.borderContainer, Helpers.midWidth, {marginBottom:20}] }>\n                <Input\n                  label=\"Username\"\n                  style={ApplicationStyles.input}\n                  onChangeText={text => {\n                    this.setState({Email: text})\n                  }}\n                  value={this.state.Email}\n                />\n                <Input\n                  label=\"Password\"\n                  style={ApplicationStyles.input}\n                  onChangeText={text => {\n                    this.setState({Pass:text})\n                  }}\n                  value={this.state.Pass}\n                />\n                <Button Text=\"Login\" icon={Images.User}\n                  onPress={() => {\n                    if (!this.state.Email || this.state.Email === \"\") this.props.setFirebaseError(\"Email is needed\")\n                    else if (this.state.Email === \"CLEAR\") this.props.clearDataMem()\n                    else if (!this.state.Pass || this.state.Pass === \"\") this.props.setFirebaseError(\"Password is needed\")\n                    else {\n                      this.props.signIN(this.state.Email, this.state.Pass)\n                    }\n                  }}/>\n              </View>\n\n              <View style={[Helpers.buttonContainer, Helpers.midWidth] }>\n                <Button Text=\"Create New User\"\n                  onPress={() => {\n                    this.props.setFirebaseError(null)\n                    this.setState({\n                      Email: \"\",\n                      Pass: \"\",\n                      NewUser: true,\n                    })\n                  }}/>\n              </View>\n            </View>\n          ):(\n            <View style={[Helpers.contentContainer, Helpers.fullSize, Helpers.fillColMain]}>\n              <View style={ [Helpers.borderContainer, Helpers.midWidth, {marginBottom:20}] }>\n                <Input\n                  label=\"Email\"\n                  style={ApplicationStyles.input}\n                  onChangeText={text => {this.setState({Email:text})}}\n                  value={this.state.Email}\n                />\n                <Input\n                  label=\"Password\"\n                  style={ApplicationStyles.input}\n                  onChangeText={text => {this.setState({Pass:text})}}\n                  value={this.state.Pass}\n                />\n              </View>\n              <View style={[Helpers.buttonContainer, Helpers.midWidth] }>\n                <Button Text=\"Create User\" \n                  onPress={() => { \n                    if (!this.state.Email || this.state.Email === \"\") this.props.setFirebaseError(\"Email is needed\")\n                    else if (!this.state.Pass || this.state.Pass === \"\") this.props.setFirebaseError(\"Password is needed\")\n                    else {\n                      this.props.createUser(this.state.Email,this.state.Pass)\n                    }\n                  }}\n                />\n              </View>\n            </View>\n          )}\n\n          {IsLoading &&\n            <ActivityIndicator style={Helpers.loadingContainer} size='large' />\n          }\n        </View>\n      </View>\n    )\n  }\n}\n\nconst mapStateToProps = (state) => {\n  const { firebase } = state\n  return { firebase }\n};\n\nconst mapDispatchToProps  = (dispatch) => {\n  return {\n    setFirebaseError: error => dispatch(FirebaseActions.setFirebaseError(error)),\n\n    clearDataMem: () => dispatch(FirebaseActions.actionStarting(Actions.CLEAR, DataRefs.USERSDATA)),\n\n    getUser: (UserId) => dispatch(FirebaseActions.actionStarting(Actions.FETCH, DataRefs.USERSDATA, {UserId: UserId})),\n    signIN: (Email, Pass) => dispatch(FirebaseActions.actionStarting(Actions.SIGN, DataRefs.USERSDATA, {Email: Email, Pass: Pass})),\n    createUser: (Email, Pass) => dispatch(FirebaseActions.actionStarting(Actions.CREATE, DataRefs.USERSDATA, {Email:Email, Pass:Pass})),\n  }\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(UserLoginScreen);\n//export default UserLoginScreen;","import React, { Component } from 'react'\nimport { Platform, Text, View, ActivityIndicator } from 'react-native'\nimport { Input } from 'react-native-elements'\nimport { connect } from 'react-redux'\nimport { bindActionCreators } from 'redux';\nimport NavigationService from '../../../Services/NavigationService'\n\nimport FirebaseActions from '../../../Stores/Firebase/Actions'\nimport { Actions, DataRefs } from '../../../Stores/Firebase/Selectors'\n\nimport { Button } from '../../../Components'\nimport Style from './AuthStyle'\nimport { ApplicationStyles, Helpers, Metrics } from '../../../Theme'\n\nimport { UserStates } from '../../../Stores/Firebase/Selectors'\n\nclass CreateNewUserData extends Component{\n  constructor(props){\n    super(props);\n    this.state = {\n      Farm: \"Test\",\n      Sections: 1,\n      Pens: 1\n    }\n  }\n\n  getData(){\n    this.props.setFirebaseError(null)\n  }\n\n  checkData(props){\n    const localDataStore = props.firebase.localDataStore\n    if (!props.firebase || props.firebase.firebaseUser === null || \n      !localDataStore.userData || localDataStore.userData.state != UserStates.STARTER){\n      //NavigationService.navigate(\"UserLoadingScreen\")\n    }\n  }\n\n  componentDidMount(){\n    this.checkData(this.props);\n    \n    this.getData();\n  }\n\n  componentDidUpdate(prevProps, prevState) {\n    if (this.props !== prevProps) {\n      this.checkData(this.props);\n    }\n  }\n\n  render() {\n    const IsLoading = this.props.firebase.firebaseIsLoading\n    const firebaseUser = this.props.firebase.firebaseUser\n    const localDataStore = this.props.firebase.localDataStore\n    const firebaseErrorMessage = this.props.firebase.firebaseErrorMessage\n\n    return(\n      <View\n        style={[\n          Helpers.mainContainer,\n        ]}\n      >\n        <View style={[Helpers.contentContainer, Helpers.fullSize, Helpers.fillColMain]}>\n          {firebaseErrorMessage ? (\n            <Text style={ApplicationStyles.error}>{firebaseErrorMessage}</Text>\n          ):(<></>)}\n\n          <View style={ [Helpers.borderContainer, Helpers.midWidth, {marginBottom:20}] }>\n            <Input\n              label=\"Farm Name\"\n              style={ApplicationStyles.input}\n              onChangeText={text => {this.setState({Farm:text})}}\n              value={this.state.Farm}\n            />\n            <Input\n              label=\"Number of Sections\"\n              style={ApplicationStyles.input}\n              onChangeText={text => {\n                if (!isNaN){\n                  this.setState({\n                    Sections:text\n                  })\n                }\n              }}\n              value={this.state.Sections}\n            />\n            <Input\n              label=\"Number of Pens in Sections\"\n              style={ApplicationStyles.input}\n              onChangeText={text => {\n                if (!isNaN){\n                  this.setState({\n                    Pens:text\n                  })\n                }\n              }}\n              value={this.state.Pens}\n            />\n          </View>\n          <View style={[Helpers.buttonContainer, Helpers.midWidth] }>\n            <Button Text=\"Create User\" \n              onPress={() => {\n                var _UserData = {}\n                var _sections = {};\n                var _pens = {};\n\n                if (!this.state.Farm || this.state.Farm === \"\"){\n                  this.props.setFirebaseError(\"Farm name is needed\")\n                }\n                else if (this.state.Sections && isNaN(this.state.Sections)){\n                  this.props.setFirebaseError(\"Number of Sections have to be a number\")\n                } else if (this.state.Pens && isNaN(this.state.Pens)){\n                  this.props.setFirebaseError(\"Number of Pens in Sections have to be a number\")\n                }\n                else {\n                  _UserData = {state: UserStates.FREE, farms: {}}\n                  \n                  var Pen = 1;\n                  var i, i2;\n                  for (i = 1; i <= this.state.Sections; i++) {\n                    var sectionPens = {};\n                    for (i2 = 1; i2 <= this.state.Pens; i2++) {\n                      _pens['Pen_' + Pen] = {section: 'Section_' + i}\n                      sectionPens['Pen_' + Pen] = true\n                      Pen++;\n                    }\n                    \n                    _sections['Section_' + i] = {pens: sectionPens}\n                  }\n                  this.props.createUserData(_UserData, this.state.Farm, _sections, _pens)\n                }\n              }}/>\n            </View>\n        </View>\n        {IsLoading &&\n          <ActivityIndicator style={Helpers.loadingContainer} size='large' />\n        }\n      </View>\n    )\n  }\n}\n\nconst mapStateToProps = (state) => {\n  const { firebase } = state\n  return { firebase }\n};\n\nconst mapDispatchToProps  = (dispatch) => {\n  return {\n    setFirebaseError: error => dispatch(FirebaseActions.setFirebaseError(error)),\n    \n    createUserData: (Userdata, Farm, Sections, Pens) => dispatch(FirebaseActions.actionStarting(Actions.CREATE, DataRefs.USERSDATA, {UserData: Userdata, Farms:{name:Farm}, Sections:Sections, Pens:Pens})),\n  }\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(CreateNewUserData);\n//export default CreateNewUserData;","import React from 'react'\nimport { createStackNavigator } from 'react-navigation-stack'\nimport { TouchableOpacity, View, Text } from 'react-native'\nimport { Icon } from 'react-native-elements'\n\nimport NavigationService from '../Services/NavigationService'\n\nimport LoadingUserScreen from '../Containers/Cloud/AuthScreens/UserLoadingScreen'\nimport LoginUserScreen from '../Containers/Cloud/AuthScreens/UserLoginScreen'\nimport CreateUserDataScreen from '../Containers/Cloud/AuthScreens/CreateUserDataScreen'\n\nimport { ApplicationStyles } from '../Theme'\n\n/**\n * The root screen contains the application's navigation.\n *\n * @see https://reactnavigation.org/docs/en/hello-react-navigation.html#creating-a-stack-navigator\n */\nconst StackNavigator = createStackNavigator(\n  {\n    UserLoadingScreen: {\n      screen: LoadingUserScreen,\n      navigationOptions: () => ({\n        title: 'User loading',\n      }),\n    },\n    LoginUser: {\n      screen: LoginUserScreen,\n      navigationOptions: () => ({\n        title: 'User Login',\n        headerLeft: () => (\n          <View style={{padding:6, paddingLeft: 15}}>\n            <Icon name=\"md-arrow-back\" type='ionicon' size={25} color=\"black\" onPress={() => NavigationService.navigate('MainStack')}/>\n          </View>\n        ),\n      }),\n    },\n    CreateUserData: {\n      screen: CreateUserDataScreen,\n      navigationOptions: () => ({\n        title: 'Create Data',\n      }),\n    },\n  },\n  {\n    initialRouteName: 'UserLoadingScreen',\n    // See https://reactnavigation.org/docs/en/stack-navigator.html#stacknavigatorconfig\n    headerMode: 'float',\n    defaultNavigationOptions:{\n      headerTitleAlign: 'center',\n      headerTitleStyle:{...ApplicationStyles.navigationHeader},\n      headerLeft: () => (\n        <View style={{padding:6, paddingLeft: 15}}>\n          <Icon type='ionicon' name=\"md-arrow-back\" size={25} color=\"black\" onPress={() => NavigationService.navigate('MainStack')}/>\n        </View>\n      ),\n      headerRight: () => (<View style={{padding:6}}></View>),\n    },\n  }\n)\n\nexport default StackNavigator\n","import { StyleSheet } from 'react-native'\nimport { Helpers, Metrics, Fonts, Colors } from '../../../Theme'\n\nexport default StyleSheet.create({\n\n})\n","import React, { useEffect, Component } from 'react'\nimport { Platform, Text, View, ActivityIndicator } from 'react-native'\nimport { useDispatch, useSelector, connect } from 'react-redux'\nimport { bindActionCreators } from 'redux';\n\nimport NavigationService from '../../../Services/NavigationService'\n\nimport FirebaseActions from '../../../Stores/Firebase/Actions'\nimport { Actions, DataRefs } from '../../../Stores/Firebase/Selectors'\n\nimport { Button, Button_Panel } from '../../../Components'\nimport Style from './UserPanelStyle'\nimport { ApplicationStyles, Helpers, Metrics, Images } from '../../../Theme'\n\nclass FrontScreen extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      ISLOADPAGE: true,\n    }\n  }\n\n  getData(){\n    this.props.setFirebaseError(null)\n  }\n\n  checkData(props) {\n    if (!props.firebase || props.firebase.firebaseUser === null){\n      NavigationService.navigate(\"AuthStack\")\n    }\n  }\n\n  componentDidMount(){\n    this.checkData(this.props);\n    \n    this.getData();\n  }\n\n  componentDidUpdate(prevProps, prevState) {\n    if (this.props !== prevProps){\n      this.checkData(this.props);\n    }\n  }\n\n  render() {\n    const IsLoading = this.props.firebase.firebaseIsLoading\n    const firebaseUser = this.props.firebase.firebaseUser\n\n    const localDataStore = this.props.firebase.localDataStore\n    return(\n      <View\n      style={[\n        Helpers.mainContainer,\n      ]}\n      >\n        <View style={[Helpers.contentContainer, Helpers.fullSize, Helpers.fillColMain]}>\n          {firebaseUser?(\n          <View style={ Helpers.textContainer }>\n            <Text style={ApplicationStyles.text}>Welcome to: {firebaseUser.displayName ? firebaseUser.displayName : firebaseUser.email}</Text>\n          </View>):(<></>)}\n\n          <Button_Panel \n            Texts={[\"Dashboard\", \"Pens\", \"Batchs\", \"Growth curves\", \"Operations\", \"AutoPigs\", \"Feeding\", \"Pigs\"]}\n            Images={[Images.DashBoard, Images.Pens, Images.Section, Images.Curves, Images.System, Images.AutoPig, Images.Feed, Images.Sow ]}\n            onPress={(ele) => {\n              switch(ele.text){\n                case \"Dashboard\":\n                  NavigationService.navigate(\"UserDashBoard\")\n                  break;\n                case \"Pens\":\n                  NavigationService.navigate(\"UserPens\")\n                  break;\n                case \"Batchs\":\n                  NavigationService.navigate(\"UserBatchs\")\n                  break;\n                  case \"Growth curves\":\n                  NavigationService.navigate(\"UserCurves\")\n                  break;\n                case \"Operations\":\n                  NavigationService.navigate(\"UserOperations\")\n                  break;\n                case \"AutoPigs\":\n                  break;\n                case \"Feeding\":\n                  break;\n                case \"Pigs\":\n                  NavigationService.navigate(\"UserPigs\")\n                  break;\n              }\n            }}\n          />\n          \n          {localDataStore && localDataStore.userData && localDataStore.userData.state === \"admin\"?(<></>):(\n          <View style={[Helpers.buttonContainer, Helpers.midWidth] }>\n            <Button Text=\"LogOut\"\n              onPress={() => {\n                this.props.logOut()\n              }}/>\n          </View>\n          )}\n        </View>\n        {IsLoading &&\n          <ActivityIndicator style={Helpers.loadingContainer} size='large' />\n        }\n      </View>\n    )\n  }\n}\n\nconst mapStateToProps = (state) => {\n  const { firebase } = state\n  return { firebase }\n};\n\nconst mapDispatchToProps  = (dispatch) => {\n  return {\n    setFirebaseError: error => dispatch(FirebaseActions.setFirebaseError(error)),\n    logOut: () => dispatch(FirebaseActions.actionStarting(Actions.SIGN, DataRefs.USERSDATA)),\n  }\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(FrontScreen);\n//export default FrontScreen;\n","import React, { useEffect, Component } from 'react'\nimport { Platform, Text, View, ActivityIndicator, ScrollView, FlatList } from 'react-native'\nimport { Input, Icon } from 'react-native-elements'\nimport { useDispatch, useSelector, connect } from 'react-redux'\nimport { bindActionCreators } from 'redux';\n\nimport NavigationService from '../../../Services/NavigationService'\n\nimport FirebaseActions from '../../../Stores/Firebase/Actions'\nimport { DataRefs, Actions, GetBatchEnd, CurvePredict } from '../../../Stores/Firebase/Selectors'\n\nimport { Button, TitleElement, ContentProp, ProgressBar } from '../../../Components'\nimport Style from './UserPanelStyle'\nimport { ApplicationStyles, Helpers, Metrics, Colors } from '../../../Theme'\n\nclass Dashboard extends Component {\n  constructor(props){\n    super(props);\n\n    const {Name, Manager, Mail, MaxCap, CurCap, PensList, SectionsList, BatchList} = this.setData(props)\n    this.state = {\n      farmName: Name,\n      farmManager: Manager,\n      farmMail: Mail, \n\n      PensList: PensList,\n      SectionsList: SectionsList,\n      BatchList: BatchList,\n    }\n  }\n\n  setData(Props) {\n    const localDataStore = Props.firebase.localDataStore;\n\n    var Name = \"Not set\"\n    var Manager = \"Not set\"\n    var Mail = \"Not set\"\n\n    if (localDataStore && localDataStore.farms && localDataStore.farms[Object.keys(localDataStore.userData.farms)[0]]) {\n      var Farm = localDataStore.farms[Object.keys(localDataStore.userData.farms)[0]]\n      Name = Farm.name?Farm.name: Name\n      Manager = Farm.name?Farm.manager: Manager\n      Mail = Farm.name?Farm.email: Mail\n    }\n\n    var PensList = localDataStore.pens\n    var SectionsList = localDataStore.sections\n    var BatchList = localDataStore.batchs\n\n    return { Name, Manager, Mail, PensList, SectionsList, BatchList }\n  }\n\n  getData() {\n    this.props.setFirebaseError(null)\n\n    const localDataStore = this.props.firebase.localDataStore;\n    if (!localDataStore.sections) localDataStore.sections = {}\n    if (!localDataStore.pens) localDataStore.pens = {}\n\n    this.props.getFarm(Object.keys(localDataStore.userData.farms)[0])\n    this.props.getSections(Object.keys(localDataStore.userData.farms)[0], localDataStore.sections.update_time)\n    this.props.getPens(Object.keys(localDataStore.userData.farms)[0], localDataStore.pens.update_time)\n    this.props.getBatch(Object.keys(localDataStore.userData.farms)[0])\n  }\n\n  checkData(props) {\n    if (!props.firebase || props.firebase.firebaseUser === null) {\n      NavigationService.navigate(\"AuthStack\")\n    }\n    //Mabye call check for localdataStore get farms..\n  }\n\n  componentDidUpdate(prevProps, prevState) {\n    if (this.props !== prevProps) {\n      this.checkData(this.props);\n\n      if (this.props.firebase.localDataStore) {\n        const localDataStore = this.props.firebase.localDataStore;\n        if (localDataStore.farms && localDataStore.farms[Object.keys(localDataStore.userData.farms)[0]]) {\n          var Farm = localDataStore.farms[Object.keys(localDataStore.userData.farms)[0]]\n          if ((this.state.farmName!==Farm.name || this.state.farmManager!==Farm.manager || this.state.farmMail!==Farm.email) ||\n              localDataStore.batchs && JSON.stringify(this.state.BatchList)!==JSON.stringify(localDataStore.batchs) ||\n              localDataStore.sections && JSON.stringify(this.state.SectionsList)!==JSON.stringify(localDataStore.sections) ||\n              localDataStore.pens && JSON.stringify(this.state.PensList)!==JSON.stringify(localDataStore.pens) ) {\n            const {Name, Manager, Mail, PensList, SectionsList, BatchList} = this.setData(this.props)\n            this.setState({\n              farmName: Name,\n              farmManager: Manager,\n              farmMail: Mail,\n        \n              PensList: PensList,\n              SectionsList: SectionsList,\n              BatchList: BatchList,\n            })\n          }\n        }\n      }\n    }\n  }\n\n  componentDidMount() {\n    this.checkData(this.props);\n    this.getData();\n  }\n\n  render() {\n    const IsLoading = this.props.firebase.firebaseIsLoading\n    const firebaseUser = this.props.firebase.firebaseUser\n    const firebaseErrorMessage = this.props.firebase.firebaseErrorMessage\n\n    const localDataStore = this.props.firebase.localDataStore //Farmid\n\n    var MaxCap = 0;\n    var CurCap = 0;\n    if (this.state.SectionsList && this.state.PensList && this.state.BatchList) {\n      Object.keys(this.state.SectionsList).map((Section) => {\n        var Pens = this.state.SectionsList[Section].pens\n        if (Pens) {\n          Object.keys(Pens).filter(e => e !== '__jsogObjectId').map((Pen) => {\n            MaxCap++;\n            var _Pen = this.state.PensList[Pen]\n            if (_Pen && _Pen.datas && _Pen.datas.count) {\n              CurCap = CurCap + _Pen.datas.count\n              if (_Pen.datas.batch && this.state.BatchList && this.state.BatchList[_Pen.datas.batch]) {\n                if (!this.state.BatchList[_Pen.datas.batch].count) {\n                  this.state.BatchList[_Pen.datas.batch].count = 0\n                }\n                this.state.BatchList[_Pen.datas.batch].count += _Pen.datas.count\n              }\n            }\n          })\n        }\n      })\n    }\n    if (MaxCap === 0) MaxCap++;\n\n    //TODO: Farm performance calculation (Batch)\n    return(\n      <View\n        style={[\n          Helpers.mainContainer,\n        ]}\n      >\n        <View style={[Helpers.contentContainer, Helpers.fullWidth, Helpers.fill]}>\n          {firebaseErrorMessage ? (\n            <Text style={ApplicationStyles.error}>{firebaseErrorMessage}</Text>\n          ):(<></>)}\n          \n          <TitleElement Text=\"Farm description\"/>\n\n          <View style={[Helpers.buttonContainer, Helpers.fullWidth, {height:110,}]}>\n            <ContentProp texts={[\"Farm name\", \"Manager\", \"E-mail\"]} datas={[this.state.farmName, this.state.farmManager, this.state.farmMail ]} />\n          </View>\n          <View style={{height:20}}/>\n          <ProgressBar text={\"Farm capacity: \" + CurCap + \" of \" + MaxCap} progress={(CurCap/MaxCap) * 100 }/>\n          <ProgressBar text={\"Farm performance:\"} progress={50}/>\n\n          {this.state.BatchList?(\n            <View style={[Helpers.borderContainer, Helpers.fullWidth, {borderWidth:0, marginTop:10}]}>\n              <Text>Batches:</Text>\n              <FlatList\n                data={Object.keys(this.state.BatchList).filter(e => e !== '__jsogObjectId' && e !== 'update_time' && \n                                                              (!this.state.BatchList[e].state || this.state.BatchList[e].state !== \"Closed\"))}\n                renderItem={({item, i}) => {\n                  var Batch = this.state.BatchList[item]\n                  var EndDate = Batch.time;\n                  var count = Batch.count\n                  if (!count) count = 0\n                  var TempGraph = localDataStore.graphs[Batch.gcurve]\n                  if (TempGraph) {\n                    var BatchEndDate = GetBatchEnd(Batch, TempGraph)\n                    EndDate = BatchEndDate;\n\n                    var Predict = CurvePredict(localDataStore, null, Batch, TempGraph) //TODO: End forcast multiple pens ???\n                    if (Predict && Predict.lastWeighing && Predict.days) {\n                      if (EndDate == BatchEndDate || EndDate < Predict.lastWeighing.time) { \n                        var date = new Date(Predict.lastWeighing.time)\n                        date.setDate(date.getDate() + Predict.days)\n                        EndDate = date.getTime()\n                        if (Predict.Addition) {\n                          EndDate += Predict.Addition\n                        }\n                      }\n                    }\n                  }\n                  EndDate = new Date(EndDate).getDate() + \"/\" + (new Date(EndDate).getMonth() +1) + \"/\" + new Date(EndDate).getFullYear()\n                  var StartDate = new Date(Batch.time).getDate() + \"/\" + (new Date(Batch.time).getMonth() +1) + \"/\" + new Date(Batch.time).getFullYear()\n                  return(\n                    <ProgressBar text={item + \" Startdate: \" + StartDate + \" EndForcast: \" + EndDate + \", \" + count + \" pigs\"} progress={40}/>\n                  )\n                }}\n                keyExtractor={(item, index) => index.toString()}\n              />\n            </View>\n          ):(<></>)}\n        </View>\n        {IsLoading &&\n          <ActivityIndicator style={Helpers.loadingContainer} size='large' />\n        }\n      </View>\n    )\n  }\n}\n\nconst mapStateToProps = (state) => {\n  const { firebase } = state\n  return { firebase }\n};\n\nconst mapDispatchToProps  = (dispatch) => {\n  return {\n    setFirebaseError: error => dispatch(FirebaseActions.setFirebaseError(error)),\n\n    getFarm: (farmId) => dispatch(FirebaseActions.actionStarting(Actions.FETCH, DataRefs.FARMS, {FarmId: farmId})),\n    getSections: (farmId, DataTime) => dispatch(FirebaseActions.actionStarting(Actions.FETCH, DataRefs.SECTIONS, {FarmId: farmId, DataTime: undefined})),\n    getPens: (farmId, DataTime) => dispatch(FirebaseActions.actionStarting(Actions.FETCH, DataRefs.PENS, {FarmId: farmId, DataTime: undefined})),\n    getBatch: (farmId) => dispatch(FirebaseActions.actionStarting(Actions.FETCH, DataRefs.BATCHS, {FarmId: farmId})),\n  }\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(Dashboard);\n//export default Dashboard;\n","import { StyleSheet } from 'react-native'\nimport { Helpers, Metrics, Fonts, Colors } from '../../Theme'\n\nexport default StyleSheet.create({\n  loading: {\n    position: 'absolute',\n    left: 0,\n    right: 0,\n    top: 0,\n    bottom: 0,\n    alignItems: 'center',\n    justifyContent: 'center',\n    backgroundColor: '#F5FCFF88',\n  },\n\n  textContainer: {\n    ...Fonts.normal,\n    marginBottom: Metrics.normal,\n  },\n  inputContainer: {\n    marginBottom: Metrics.small,\n  },\n\n  input: {\n    ...Fonts.normal,\n    height: 24, \n  },\n  \n})\n","import React, { useEffect, useState, Component } from 'react'\nimport { Platform, Text, View, ActivityIndicator, Image, StyleSheet, ScrollView, SafeAreaView, FlatList } from 'react-native'\nimport { ListItem, Input } from 'react-native-elements'\nimport { useDispatch, useSelector, connect } from 'react-redux'\nimport { bindActionCreators } from 'redux';\n\nimport NavigationService from '../../../Services/NavigationService'\n\n//import { ConnectionState } from '../../../Stores/Device/Selectors'\n\nimport FirebaseActions from '../../../Stores/Firebase/Actions'\nimport { Actions, DataRefs, sortObject } from '../../../Stores/Firebase/Selectors'\n\nimport { Button, OperationsPanel, CustomListItem, ContentProp } from '../../../Components'\nimport Style from '../../../Containers/Cloud/CloudScreenStyle'\nimport { ApplicationStyles, Helpers, Metrics } from '../../../Theme'\n\nimport { FlatGrid, SectionGrid } from 'react-native-super-grid';\n\nclass Pigs extends Component {\n  constructor(props){\n    super(props);\n\n    const {PigsList} = this.setData(props)\n    this.state = {\n      PigsList: PigsList,\n      PigTag: \"\"\n    }\n  }\n\n  getData() {\n    this.props.setFirebaseError(null)\n\n    const localDataStore = this.props.firebase.localDataStore\n    if (!localDataStore.pens) localDataStore.pens = {}\n    this.props.getPigs(Object.keys(localDataStore.userData.farms)[0])\n    this.props.getPens(Object.keys(localDataStore.userData.farms)[0], localDataStore.pens.update_time)\n  }\n\n  setData(Props) {\n    const localDataStore = Props.firebase.localDataStore\n\n    var PigsList = null\n    if (localDataStore && localDataStore.pigs) {\n      PigsList = sortObject(localDataStore.pigs)\n    }\n    \n    return {PigsList}\n  }\n\n  checkData(props) {\n    if (!props.firebase || props.firebase.firebaseUser === null){\n      NavigationService.navigate(\"AuthStack\")\n    }\n    //Mabye call check for localdataStore get farms..\n  }\n\n  componentDidMount() {\n    this.checkData(this.props);\n\n    this.getData();\n  }\n\n  componentDidUpdate(prevProps, prevState) {\n    if (this.props !== prevProps){\n      this.checkData(this.props);\n\n      if (this.props.firebase) {\n        if (this.props.firebase.localDataStore) {\n          if (this.props.firebase.localDataStore.pigs && JSON.stringify(this.state.PigsList)!==JSON.stringify(sortObject(this.props.firebase.localDataStore.pigs))) {\n            const {PigsList} = this.setData(this.props)\n            this.setState({\n              PigsList: PigsList,\n            })\n          }\n        }\n      }\n    }\n  }\n\n  render() {\n    const IsLoading = this.props.firebase.firebaseIsLoading\n    const firebaseUser = this.props.firebase.firebaseUser\n    const firebaseErrorMessage = this.props.firebase.firebaseErrorMessage\n\n    const localDataStore = this.props.firebase.localDataStore //Farmid\n\n    const connectedDevice = null\n    const connectedState = null\n    const DeviceData = null\n\n    return(\n      <View\n        style={[\n          Helpers.mainContainer,\n        ]}\n      >\n        <View style={[Helpers.contentContainer, Helpers.fullWidth, Helpers.fill]}>\n          {firebaseErrorMessage ? (\n            <Text style={ApplicationStyles.error}>{firebaseErrorMessage}</Text>\n          ):(<></>)}\n          {firebaseUser?(\n            <View style={[Helpers.fill, Helpers.buttonContainer, Helpers.fullWidth, Metrics.bottomMargin, Helpers.column]}>\n              <Device_Display connectedState={connectedState}/>\n              <Scanner_Display DeviceData={DeviceData}/>\n              {this.state.PigsList ? (\n                <View style={[Helpers.fill, Helpers.borderContainer, Metrics.smallHorizontalPadding, Metrics.smallVerticalPadding, {maxWidth:800, marginTop:10}]}>\n                  <SafeAreaView style={styles.container}>\n                    <FlatList\n                      data={Object.keys(this.state.PigsList)}\n                      renderItem={({item})=>{\n                        var Pen = \"-\"\n                        var Section = \"-\"\n                        if (this.state.PigsList[item].pen && this.state.PigsList[item].pen != 0) {\n                          Pen = this.state.PigsList[item].pen\n                          if (localDataStore.pens && localDataStore.pens[Pen]){\n                            var PenData = localDataStore.pens[Pen];\n                            Section = PenData.section;\n                          }\n                        }\n                        return(\n                          <View style={[Helpers.fill, Helpers.rowCenter, Helpers.fullWidth, {height:35}]}>\n                            <CustomListItem Title={item} itemStyle={[{height:35,}]} onPress={() => {\n                                this.props.setData(item, Section, Pen)\n                                NavigationService.navigate(\"DataDisplay\")\n                              }}/>\n\n                            <CustomListItem itemStyle={[{width:70, height:35, justifyContent:\"center\"}]} Title={Pen} onPress={() => {\n                                this.setState({\n                                  PigTag: item\n                                })\n                              }}/>\n\n                            <CustomListItem itemStyle={[{width:90, height:35}]} Title={Section} onPress={() => {\n                                this.setState({\n                                  PigTag: item\n                                })\n                              }}/>\n                          </View>\n                        )\n                      }}\n                      keyExtractor={item => \"PigTag_\" + item}\n                    />\n                  </SafeAreaView>\n                </View>\n              ):(<></>)} \n              <Input\n                label={\"Pig-tag:\"}\n                containerStyle={[{borderWidth:1, marginTop:10}]}\n                style={[ApplicationStyles.input, ]}\n                onChangeText={text => {\n                  this.setState({\n                    PigTag: text\n                  })\n                }}\n                value={\n                  this.state.PigTag\n                }\n              />\n              <OperationsPanel pig={true} pigTag={this.state.PigTag} PigsList={this.state.PigsList} />\n            </View>\n          ):(<></>)}\n        </View>\n        {IsLoading &&\n          <ActivityIndicator style={Helpers.loadingContainer} size='large' />\n        }\n      </View>\n    )\n  }\n}\n\nconst mapStateToProps = (state) => {\n  const { firebase } = state\n  return { firebase }\n};\n\nconst mapDispatchToProps  = (dispatch) => {\n  return {\n    getPens: (farmId, DataTime) => dispatch(FirebaseActions.actionStarting(Actions.FETCH, DataRefs.PENS, {FarmId: farmId, DataTime: DataTime})),\n    getPigs: (farmId, tagId = null) => dispatch(FirebaseActions.actionStarting(Actions.FETCH, DataRefs.PIGS, {FarmId: farmId, TagId: tagId})),\n    setData: (pigId, Section, Pen) => dispatch(FirebaseActions.setCurrentData({pigId:pigId, type:DataRefs.PIGS, section:Section, dataId:Pen})),\n    \n    setFirebaseError: error => dispatch(FirebaseActions.setFirebaseError(error)),\n  }\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(Pigs);\n//export default Pigs;\n\n//TODO extract to own component also used in DataDisplay\nconst Device_Display = (props) => {\n  if (Platform.OS === 'ios' || Platform.OS === 'android') {\n    return(\n      <View style={[Helpers.buttonContainer, Helpers.fullWidth, Metrics.bottomMargin, Helpers.rowCenter, ]}>\n        <View style={[Helpers.fill, Helpers.fullWidth, Helpers.rowMain]}>\n          <View style={[Helpers.fill, Helpers.column, {backgroundColor:\"red\"}]}>\n            <View style={[Helpers.fill, Helpers.row, Helpers.fullWidth, {backgroundColor: \"blue\"}]}>\n              <View style={{justifyContent:'center', alignItems: 'center'}}/>\n            </View>\n            <View style={[ Helpers.fill, Helpers.row, Helpers.fullWidth,]}>\n              <Text>Messages</Text>\n              <Text>Errors</Text>\n            </View>\n          </View>\n          <View style={[Helpers.fill, Helpers.fullWidth, Helpers.rowCenter, {maxWidth:150}]}>\n            {props.connectedState === ConnectionState.CONNECTED ? (\n              <View style={{...styles.circle, backgroundColor:\"green\", justifyContent:'center', alignItems: 'center'}}>\n                <Text>Device is</Text>\n                <Text>connected</Text>\n              </View>\n            ):(\n              <View style={{...styles.circle, backgroundColor:\"red\", justifyContent:'center', alignItems: 'center'}}>\n                <Text>No Device</Text>\n                <Text>connected</Text>\n              </View>\n            )}\n          </View>\n        </View>\n      </View>\n    )\n  }else {\n    return(<></>)\n  }\n}\n\nconst Scanner_Display = (props) => {\n  if (Platform.OS === 'ios' || Platform.OS === 'android') {\n    const dispatch = useDispatch()\n    const DeviceData = props.DeviceData\n    return(\n      <View style={{flexDirection: 'row',justifyContent: 'space-between', borderWidth:1, borderColor:'#000', borderRadius: 25, paddingHorizontal:15, paddingVertical:10, marginBottom:10}}>\n        <View style={Style.textContainer, {paddingTop: 10}}>\n          {\n            // App scanners data\n          }\n          {DeviceData.tagid ? (\n          <View style={{marginBottom:5}}>\n            <Text>TAG Id:</Text>\n            <Text>{DeviceData.tagid}</Text>\n          </View>\n          ):(<></>)}\n          {DeviceData.FatLayers && DeviceData.FatLayers > 0 ? (\n            <View style={{marginBottom:5}}>\n              <Text>Layers received: {DeviceData.FatLayers}</Text>\n              <Text>Layer 1: {DeviceData.FatL1}</Text>\n              <Text>Layer 2: {DeviceData.FatL2}</Text>\n              <Text>Layer 3: {DeviceData.FatL3}</Text>\n            </View>\n          ):(<></>)}\n        </View>\n        {DeviceData.tagid ? (\n          <View style={{flexDirection: 'row',justifyContent: 'space-between'}}>\n            {known ?(\n            <Button buttonStyle={ApplicationStyles.button, {minWidth: 0}} Text=\"Open data\" onPress={() => {\n              dispatch(FirebaseActions.setCurrentData({pigId:known, type:DataRefs.PIGS}))\n              NavigationService.navigate(\"DataDisplay\")\n            }}/>\n            ):(<></>)}\n            <Button buttonStyle={ApplicationStyles.button, {minWidth: 0}} Text=\"Save Tag\" onPress={() => {\n              //dispatch(FirebaseActions.actionStarting(Actions.CREATE, DataRefs.PIGS, {FarmId: Object.keys(localDataStore.userData.farms)[0]}))\n            }}/>\n          </View>\n        ):(<></>)}\n      </View>\n    )\n  }else {\n    return(<></>)\n  }\n}\n\nconst styles = StyleSheet.create({\n  circle: {\n    width: 125,\n    height: 125,\n    borderRadius: 125/2,\n    marginTop: Metrics.tiny,\n    marginLeft: Metrics.tiny,\n  },\n});","import React, { useEffect, Component } from 'react'\nimport { Platform, Text, View, ActivityIndicator, ScrollView, FlatList, TouchableOpacity, Image } from 'react-native'\nimport { useDispatch, useSelector, connect } from 'react-redux'\nimport { bindActionCreators } from 'redux';\n\nimport NavigationService from '../../../Services/NavigationService'\n\nimport FirebaseActions from '../../../Stores/Firebase/Actions'\nimport { Actions, DataRefs, sortObject, get_DataSpot_FromData, CurvePredict } from '../../../Stores/Firebase/Selectors'\n\nimport { Button } from '../../../Components'\nimport Style from '../../../Containers/Cloud/CloudScreenStyle'\nimport { ApplicationStyles, Helpers, Metrics, Images, Colors } from '../../../Theme'\n\nimport { SectionGrid } from 'react-native-super-grid';\n\nclass Pens extends Component {\n  constructor(props){\n    super(props);\n\n    const {Sections, Weighings, Mid} = this.setData(props)\n    this.state = {\n      Mid: Mid,\n      Sections: Sections,\n      Weighings: Weighings\n    }\n  }\n\n  setData(Props) {\n    const localDataStore = Props.firebase.localDataStore;\n\n    var Sections = {}\n    if (localDataStore && localDataStore.sections) {\n      Sections = sortObject(Props.firebase.localDataStore.sections)\n    }\n\n    var Mid = 0;\n    var Weighings = {}\n    if (localDataStore && localDataStore.weighings) {\n      Weighings = localDataStore.weighings\n      for (const property in localDataStore.weighings) {\n        if (localDataStore.weighings[property] && Object.keys(localDataStore.weighings[property]).length > 0){\n          var weight = localDataStore.weighings[property][Object.keys(localDataStore.weighings[property])[0]].weight\n          if (weight){\n            if (Mid > 0){\n              Mid = ((Mid + weight)/2)\n            } else {\n              Mid = (Mid + weight)\n            }\n          }\n        }\n      }\n    }\n\n    return {Sections, Weighings, Mid}\n  }\n\n  getData() {\n    this.props.setFirebaseError(null)\n\n    const localDataStore = this.props.firebase.localDataStore;\n    if (!localDataStore.sections) localDataStore.sections = {}\n    if (!localDataStore.pens) localDataStore.pens = {}\n    if (!localDataStore.weights) localDataStore.weights = {}\n    if (!localDataStore.batchs) localDataStore.batchs = {}\n    if (!localDataStore.graphs) localDataStore.graphs = {}\n\n    this.props.getSections(Object.keys(localDataStore.userData.farms)[0], localDataStore.sections.update_time)\n    this.props.getPens(Object.keys(localDataStore.userData.farms)[0], localDataStore.pens.update_time)\n    this.props.getWeights(Object.keys(localDataStore.userData.farms)[0], localDataStore.weights.update_time)\n\n    this.props.getBatch(Object.keys(localDataStore.userData.farms)[0], localDataStore.batchs.update_time)\n    this.props.getCurve(Object.keys(localDataStore.userData.farms)[0], localDataStore.graphs.update_time)\n  }\n\n  checkData(props) {\n    if (!props.firebase || props.firebase.firebaseUser === null) {\n      NavigationService.navigate(\"AuthStack\")\n    }\n    //Mabye call check for localdataStore get farms..\n  }\n\n  componentDidMount() {\n    this.checkData(this.props);\n    this.getData();\n  }\n\n  componentDidUpdate(prevProps, prevState) {\n    if (this.props !== prevProps){\n      this.checkData(this.props);\n\n      if (this.props.firebase.localDataStore) {\n        if ((this.props.firebase.localDataStore.sections && JSON.stringify(this.state.Sections)!==JSON.stringify(sortObject(this.props.firebase.localDataStore.sections))) ||\n            (this.props.firebase.localDataStore.weighings && JSON.stringify(this.state.Weighings)!==JSON.stringify(sortObject(this.props.firebase.localDataStore.weighings)))\n        ) {\n          const {Sections, Mid} = this.setData(this.props)\n          this.setState({\n            Mid: Mid,\n            Sections: Sections\n          })\n        }\n      }\n    }\n  }\n\n  render() {\n    const IsLoading = this.props.firebase.firebaseIsLoading\n    const firebaseUser = this.props.firebase.firebaseUser\n    const firebaseErrorMessage = this.props.firebase.firebaseErrorMessage\n\n    const localDataStore = this.props.firebase.localDataStore //Farmid\n\n    return(\n      <View\n      style={[\n        Helpers.mainContainer,\n      ]}\n      >\n        <View style={[Helpers.fullSize, Helpers.fill]}>\n          {firebaseErrorMessage ? (\n            <Text style={ApplicationStyles.error}>{firebaseErrorMessage}</Text>\n          ):(<></>)}\n          {firebaseUser && this.state.Sections? (\n            <ScrollView style={[Metrics.verticalMargin, {paddingRight: 5}]}>\n              <SectionGrid\n                itemDimension={70}\n                spacing={10}\n                sections={\n                  Object.keys(this.state.Sections).filter(e => e !== 'update_time').map((Section) => {\n                    var Pens = sortObject(this.state.Sections[Section].pens)\n                    return(\n                      {\n                        title: Section,\n                        data: Object.keys(Pens)\n                      }\n                    )\n                  })\n                }\n\n                renderSectionHeader={({ section }) => (\n                  <View style={[Helpers.buttonContainer, Helpers.midWidth, {marginBottom:0}]}>\n                    <Button Text={section.title} buttonStyle={{backgroundColor: Colors.AgriDarkblue}}\n                      onPress={() => {} }/>\n                  </View>\n                )}\n\n                renderItem={({ item }) => {\n                  var color = Colors.gray\n                  var displayWeight = null\n\n                  var Predict = CurvePredict(localDataStore, item)\n                  if (Predict && Predict.Now) {\n                    var Batch = Predict.Batch  //Mabye optain batch self ??\n\n                    var devianceMin = 2\n                    var devianceMax = 5\n                    if (Batch.datas.devianceMin) {\n                      devianceMin = Batch.datas.devianceMin\n                    }\n                    if (Batch.datas.devianceMax) {\n                      devianceMax = Batch.datas.devianceMax\n                    }\n\n                    var DataSpot = get_DataSpot_FromData(localDataStore, item);\n                    if (DataSpot) {\n                      var ExValue = DataSpot.ExValue;\n                      var Weight = Predict.Now;\n                      var devianceValMin = (ExValue/100)* devianceMin\n                      var devianceValMax = (ExValue/100)* devianceMax\n                      if (ExValue && Weight < ExValue && Weight < ExValue - devianceValMin) {\n                        color = Colors.error\n                      } else if (ExValue && Weight > ExValue && Weight > ExValue + devianceValMax) {\n                        color = Colors.overest\n                      } else {\n                        color = Colors.success\n                      }\n                      displayWeight = Math.round(Weight * 100) / 100\n                    }\n                  }\n\n                  return(\n                    <TouchableOpacity style={[Helpers.borderContainer, {width:70, height:70, alignItems:\"center\", justifyContent:\"center\", backgroundColor:color}]}\n                      onPress={() => {\n                        this.props.setCurrentData(item)\n                        NavigationService.navigate(\"DataDisplay\")\n                      }}>\n                      <Text>{item}</Text>\n                      {displayWeight?(<Text>{displayWeight + \" kg\"}</Text>):(<></>)}\n                    </TouchableOpacity>\n                  )\n                }}\n              />\n            </ScrollView>\n          ):(\n            <View style={[Helpers.fillRowCenter, Helpers.center, Helpers.logoContainer]}>\n              <Image style={Helpers.fullSize} source={Images.Hexa_icon} resizeMode={'contain'} />\n            </View>\n          )}\n        </View>\n        {IsLoading &&\n          <ActivityIndicator style={Helpers.loadingContainer} size='large' />\n        }\n      </View>\n    )\n  }\n}\n\nconst mapStateToProps = (state) => {\n  const { firebase } = state\n  return { firebase }\n};\n\nconst mapDispatchToProps  = (dispatch) => {\n  return {\n    setFirebaseError: error => dispatch(FirebaseActions.setFirebaseError(error)),\n\n    getSections: (farmId, DataTime) => dispatch(FirebaseActions.actionStarting(Actions.FETCH, DataRefs.SECTIONS, {FarmId: farmId, DataTime: DataTime})),\n    getPens: (farmId, DataTime) => dispatch(FirebaseActions.actionStarting(Actions.FETCH, DataRefs.PENS, {FarmId: farmId, DataTime: DataTime})),\n    getWeights: (farmId, DataTime) => dispatch(FirebaseActions.actionStarting(Actions.FETCH, DataRefs.WEIGHING, {FarmId: farmId, limitTo:1, DataTime: DataTime})),\n    \n    getBatch: (farmId, DataTime) => dispatch(FirebaseActions.actionStarting(Actions.FETCH, DataRefs.BATCHS, {FarmId: farmId, DataTime: DataTime})),\n    getCurve: (farmid, DataTime) => dispatch(FirebaseActions.actionStarting(Actions.FETCH, DataRefs.GRAPH, {FarmId: farmid, GraphId: \"\", DataTime: DataTime})),\n\n    setCurrentData: penId => dispatch(FirebaseActions.setCurrentData({type:DataRefs.PENS, penId: penId})),\n  }\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(Pens);\n//export default Pens;\n","import React, { useEffect, useState, Component } from 'react'\nimport { Platform, Text, View, ActivityIndicator, Image, StyleSheet, ScrollView, Dimensions, SafeAreaView, FlatList, Picker } from 'react-native'\nimport { Input } from 'react-native-elements'\nimport { useDispatch, useSelector, connect } from 'react-redux'\nimport { bindActionCreators } from 'redux';\n\nimport NavigationService from '../../../Services/NavigationService'\n\nimport FirebaseActions from '../../../Stores/Firebase/Actions'\nimport { Actions, DataRefs, sortObject } from '../../../Stores/Firebase/Selectors'\n\nimport { Button, TitleElement, CustomListItem, Datetime_Picker } from '../../../Components'\nimport Style from './UserPanelStyle'\nimport { ApplicationStyles, Helpers, Metrics, Colors } from '../../../Theme'\n\nimport Icon from 'react-native-vector-icons/MaterialIcons'\nimport SectionedMultiSelect from 'react-native-sectioned-multi-select'\n\n//import moment from 'moment';\n//import SimplerDatePicker from '@cawfree/react-native-simpler-date-picker';\n//import DatePicker from 'react-native-simple-date-picker';\n\n//import DateTimePicker from '@react-native-community/datetimepicker';\n\nimport SelectBox from 'react-native-multi-selectbox'\nimport { xorBy } from 'lodash'\n\nclass Batchs extends Component {\n  constructor(props){\n    super(props);\n\n    const {BatchList, freePens} = this.setData(props)\n    this.state = {\n      BatchList: BatchList,\n\n      Display: 0,\n\n      BatchName: \"\",\n      ShowPicker: false,\n      StartD: new Date().getTime(),\n      Curve: \"\",\n      DevianceMin: \"\",\n      DevianceMax: \"\",\n\n      freePens: freePens,\n      avaiblePens: freePens,\n      selectedPens: [],\n    }\n  }\n\n  setData(Props) {\n    const localDataStore = Props.firebase.localDataStore;\n\n    var BatchList = localDataStore.batchs\n    \n    var freePens = []\n    if (BatchList && localDataStore.sections) {\n      Object.keys(localDataStore.sections).forEach(section => {\n        if (localDataStore.sections[section].pens) {\n          var pens = []\n          Object.keys(localDataStore.sections[section].pens).filter(e => e !== '__jsogObjectId'  && e !== 'update_time').forEach(pen => {\n            var add = true\n            Object.keys(BatchList).forEach(batch => {\n              if (!BatchList[batch].state || BatchList[batch].state !== \"Closed\") {\n                if (BatchList[batch].pens && BatchList[batch].pens[pen] && !BatchList[batch].pens[pen].enddate) {\n                  add = false;\n                }\n              }\n            });\n            if (add) {\n              var item = {\n                item: pen,\n                id: section + \"_\" + pen\n              }\n              freePens.push(item)\n            }\n          })\n        }\n      });\n    }\n\n    return { BatchList, freePens }\n  }\n\n  getData() {\n    this.props.setFirebaseError(null)\n\n    const localDataStore = this.props.firebase.localDataStore;\n    if (!localDataStore.sections) localDataStore.sections = {}\n    if (!localDataStore.pens) localDataStore.pens = {}\n\n    this.props.getBatch(Object.keys(localDataStore.userData.farms)[0])\n    this.props.getCurve(Object.keys(localDataStore.userData.farms)[0])\n    \n    this.props.getSections(Object.keys(localDataStore.userData.farms)[0], localDataStore.sections.update_time)\n    this.props.getPens(Object.keys(localDataStore.userData.farms)[0], localDataStore.pens.update_time)\n  }\n\n  checkData(props) {\n    if (!props.firebase || props.firebase.firebaseUser === null) {\n      NavigationService.navigate(\"AuthStack\")\n    }\n    //Mabye call check for localdataStore get farms..\n  }\n\n  componentDidUpdate(prevProps, prevState) {\n    if (this.props !== prevProps) {\n      this.checkData(this.props);\n\n      if (this.props.firebase.localDataStore) {\n        if ((this.props.firebase.localDataStore.batchs && JSON.stringify(this.state.BatchList)!==JSON.stringify(this.props.firebase.localDataStore.batchs)) ||\n            (this.props.firebase.localDataStore.pens && JSON.stringify(this.state.pens)!==JSON.stringify(this.props.firebase.localDataStore.pens))) {\n          const {BatchList, freePens} = this.setData(this.props)\n          this.setState({\n            freePens: freePens,\n            BatchList: BatchList,\n          })\n        }\n      }\n    }\n  }\n\n  componentDidMount() {\n    this.checkData(this.props);\n    this.getData();\n  }\n\n  onChange = ({ window, screen }) => {\n    this.setState({\n      dimensions: {window, screen},\n    })\n  };\n\n  onMultiChange = (item) => {\n    var items = xorBy(this.state.selectedPens, [item], 'id')\n    this.setState({\n      selectedPens: items\n    })\n  }\n\n  render() {\n    const IsLoading = this.props.firebase.firebaseIsLoading\n    const firebaseUser = this.props.firebase.firebaseUser\n    const firebaseErrorMessage = this.props.firebase.firebaseErrorMessage\n\n    const localDataStore = this.props.firebase.localDataStore //Farmid\n\n    return(\n      <ScrollView style={[Helpers.fullSize, Helpers.fill]}>\n      <View\n        style={[\n          Helpers.mainContainer,\n        ]}\n      >\n        <View style={[Helpers.contentContainer, Helpers.fullSize, Helpers.fill]}>\n          {firebaseErrorMessage ? (\n            <Text style={ApplicationStyles.error}>{firebaseErrorMessage}</Text>\n          ):(<></>)}\n          {this.state.Display === 0?(\n            //#region Normal Front View to display all batches.\n            <View style={[Helpers.contentContainer, Helpers.fullSize, {marginHorizontal:0, paddingHorizontal:-20}]}>\n              {this.state.BatchList ? (\n                <View style={[Helpers.fill, Helpers.fullWidth, Metrics.smallHorizontalPadding, Metrics.smallVerticalPadding, {maxWidth:800, marginTop:10}]}>\n                <FlatList\n                    data={Object.keys(this.state.BatchList).filter(e => e !== '__jsogObjectId' && e !== 'update_time')}\n                    renderItem={({item, i})=>{\n                      var name = item;\n                      if (this.state.BatchList[item] && this.state.BatchList[item].state && this.state.BatchList[item].state === \"Closed\") {\n                        name += \"  Closed\"\n                      }\n                      return(\n                        <Button Text={name} onPress={() => {\n                          var curveId = \"default\"\n                          if (this.state.BatchList[item] && this.state.BatchList[item].gcurve) {\n                            curveId = this.state.BatchList[item].gcurve\n                            if (typeof curveId !== 'string') curveId = null\n                          }\n                          this.props.setCurrentData(item, curveId)\n                          \n                          NavigationService.navigate('DataPlotter')\n                        }}/>\n                      )\n                    }}\n                    keyExtractor={(item, index) => index.toString()}\n                  />\n                </View>\n              ):(<></>)}\n              <View style={[Helpers.buttonContainer, Helpers.borderContainer, Helpers.midWidth]}>\n                <Button Text={\"New Batch\"} onPress={() => {\n                  this.setState({\n                    Display: 1,\n                    freePens: this.state.freePens,\n                    avaiblePens: this.state.freePens,\n                    selectedPens: [],\n                  })\n                }}/>\n                {this.state.BatchList?(\n                <Button Text={\"Edit or Close Batch\"} onPress={() => {\n                  var batchName = Object.keys(this.state.BatchList)\n                                    .filter(e => e !== '__jsogObjectId'  && e !== 'update_time' && \n                                            (!this.state.BatchList[e].state || this.state.BatchList[e].state !== \"Closed\")\n                                    )[0]\n                  var batch = this.state.BatchList[batchName]\n                  if (batch) {\n                    var Pens = []\n                    var pens = sortObject(batch.pens)\n                    Object.keys(pens).forEach(element => {\n                      if (!batch.pens[element].enddate) {\n                        if (localDataStore.pens && localDataStore.pens[element]){\n                          var _pen = localDataStore.pens[element]\n                          var item = {}\n                          item.item = element;\n                          item.id = _pen.section + \"_\" + element;\n                          Pens.push(item)\n                        }\n                      }\n                    });\n\n                    this.setState({\n                      Display: 2,\n                      BatchName: batchName,\n                      StartD: batch.time,\n                      Curve: batch.gcurve,\n                      DevianceMin: batch.datas.devianceMin,\n                      DevianceMax: batch.datas.devianceMax,\n                      avaiblePens: this.state.freePens.concat(Pens),\n                      selectedPens: Pens\n                    })\n                  }\n                }}/>):(<></>)}\n              </View>\n            </View>\n            //#endregion\n          ):(\n            //#region Edit or create\n            <View style={[Helpers.contentContainer, Helpers.fullSize, {marginHorizontal:0, paddingHorizontal:-20}]}>\n              {this.state.Display === 1?( // Create\n                <Input label={\"BatchName\"}\n                  containerStyle={[{borderWidth:1, marginTop:10}]}\n                  style={[ApplicationStyles.input, ]}\n                  onChangeText={text => {\n                    this.setState({\n                      BatchName: text\n                    })\n                  }}\n                  value={\n                    this.state.BatchName\n                  }\n                />\n              ):( // Edit\n                <View style={[Helpers.borderContainer, Helpers.fullWidth, {height:60, borderRadius:0, alignItems:\"center\"}]}>\n                  <Picker\n                    mode=\"dropdown\"\n                    selectedValue={this.state.BatchName}\n                    style={[Helpers.fullWidth, { height: 50, justifyContent:\"flex-end\"}]}\n                    onValueChange={(itemValue, itemIndex) => {\n                      if (this.state.BatchList && this.state.BatchList[itemValue]) {\n                        var batch = this.state.BatchList[itemValue]\n\n                        var Pens = []\n                        var pens = sortObject(batch.pens)\n                        Object.keys(pens).forEach(element => {\n                          if (!batch.pens[element].enddate) {\n                            if (localDataStore.pens && localDataStore.pens[element]){\n                              var _pen = localDataStore.pens[element]\n                              var item = {}\n                              item.item = element;\n                              item.id = _pen.section + \"_\" + element;\n                              Pens.push(item)\n                            }\n                          }\n                        });\n\n                        this.setState({\n                          BatchName: itemValue,\n                          StartD: batch.time,\n                          Curve: batch.gcurve,\n                          DevianceMin: batch.datas.devianceMin,\n                          DevianceMax: batch.datas.devianceMax,\n                          avaiblePens: this.state.freePens.concat(Pens),\n                          selectedPens: Pens,\n                        })\n                      }\n                    }}\n                  >\n                    {Object.keys(this.state.BatchList)\n                                    .filter(e => e !== '__jsogObjectId'  && e !== 'update_time' && \n                                            (!this.state.BatchList[e].state || this.state.BatchList[e].state !== \"Closed\")\n                                    ).map((graph, i) => {\n                      return (<Picker.Item label={graph} value={graph} key={i}/>)\n                    })}\n                  </Picker>\n                </View>\n              )}\n              <View style={[Helpers.fullWidth, Helpers.row, {zIndex:999}]}>\n                <View style={[Helpers.halvWidth, {borderWidth:1 ,height: 75, marginTop:10, paddingHorizontal:5, paddingTop:0, borderRadius:0, alignItems:\"center\"}]}>\n                  <View style={[Helpers.fullWidth, {alignItems:\"flex-start\"}]}>\n                    <Text style={[ApplicationStyles.text, {marginHorizontal:5, marginTop:2, color:Colors.input, fontSize: 15, fontWeight: \"bold\"}]}>Start date:</Text>\n                  </View>\n                  <View style={[Helpers.fullWidth, {alignItems:'flex-start'}]}>\n                    <Datetime_Picker FullYear={this.state.StartD}\n                     onValueChange={(date)=>{\n                      console.log(date.getTime())\n                      this.setState({\n                        StartD: date.getTime()\n                      })\n                    }}/>\n                  </View>\n                </View>\n                \n                <View style={[Helpers.halvWidth, {borderWidth:1 ,height: 75, marginTop:10, paddingHorizontal:5, paddingTop:0, borderRadius:0, alignItems:\"center\", zIndex:1}]}>\n                  <View style={[Helpers.fullWidth, {alignItems:\"flex-start\"}]}>\n                    <Text style={[ApplicationStyles.text, {marginHorizontal:5, marginTop:2, color:Colors.input, fontSize: 15, fontWeight: \"bold\"}]}>Growth curve:</Text>\n                  </View>\n                  <View style={[Helpers.fullWidth, {alignItems:\"center\"}]}>\n                    <Picker\n                      mode=\"dropdown\"\n                      selectedValue={this.state.Curve}\n                      style={[Helpers.fullWidth, {height: 30}]}\n                      onValueChange={(itemValue, itemIndex) => {\n                        this.setState({\n                          Curve: itemValue\n                        })\n                      }}\n                    >\n                      {Object.keys(localDataStore.graphs).filter(e => e !== '__jsogObjectId'  && e !== 'update_time').map((graph, i) => {\n                        return (<Picker.Item label={graph} value={graph} key={i}/>)\n                      })}\n                    </Picker>\n                  </View>\n                </View>\n              </View>\n              <View style={[Helpers.fullWidth, Helpers.row]}>\n                <Input label={\"Deviance Min alert procentage\"}\n                  containerStyle={[Helpers.halvWidth,{borderWidth:1, marginTop:10}]}\n                  style={[ApplicationStyles.input, ]}\n                  onChangeText={text => {\n                    if (isNaN(text)) {\n                      if (!text.endsWith(\".\")) return;\n                    }\n                    this.setState({\n                      DevianceMin: text\n                    })\n                  }}\n                  value={\n                    this.state.DevianceMin\n                  }\n                />\n                 <Input label={\"Deviance Max alert procentage\"}\n                  containerStyle={[Helpers.halvWidth,{borderWidth:1, marginTop:10}]}\n                  style={[ApplicationStyles.input, ]}\n                  onChangeText={text => {\n                    if (isNaN(text)) {\n                      if (!text.endsWith(\".\")) return;\n                    }\n                    this.setState({\n                      DevianceMax: text\n                    })\n                  }}\n                  value={\n                    this.state.DevianceMax\n                  }\n                />\n              </View>\n              <View style={[Helpers.fullWidth, {borderWidth:1, marginTop:10, paddingHorizontal:10, paddingTop:5}]}>\n                <SelectBox\n                  label=\"Pens in Batch..\"\n                  labelStyle={{color:Colors.input, fontSize: 15, fontWeight: \"bold\"}}\n                  optionsLabelStyle={{color:\"black\", fontSize: 12, fontWeight: \"bold\"}}\n                  options={this.state.avaiblePens}\n                  selectedValues={this.state.selectedPens}\n                  onMultiSelect={this.onMultiChange}\n                  onTapClose={this.onMultiChange}\n                  isMulti\n                />\n              </View>\n              <View style={[Helpers.buttonContainer, Helpers.borderContainer, Helpers.midWidth, {marginTop:10}]}>\n                {this.state.Display === 2?(\n                  <Button Text={\"Close Batch\"} onPress={() => {\n                    var newBatch = {name:this.state.BatchName, state:\"Closed\"}\n                    this.props.updateBatch(Object.keys(localDataStore.userData.farms)[0], newBatch)\n                    this.setState({\n                      Display: 0\n                    })\n                    this.props.getPens(Object.keys(localDataStore.userData.farms)[0], localDataStore.pens.update_time)\n                  }}/>\n                ):(\n                  <></>\n                )}\n                <Button Text={\"Save\"} onPress={() => {\n                  var update = true;\n\n                  if (this.state.BatchName !== \"\") {\n                    var Name = this.state.BatchName;\n                    if (!Object.keys(this.state.BatchList).includes(Name)){\n                      if (this.state.Display === 2) { // update on non existing\n                        update = false \n                        this.props.setFirebaseError(\"BatchName error, batch does not exists\")\n                      }\n                    } \n                    else {\n                      if (this.state.Display === 1) { // create on allready existing\n                        update = false \n                        this.props.setFirebaseError(\"BatchName error, batch allready exists\")\n                      }\n                    }\n                  } else {\n                    update = false \n                    this.props.setFirebaseError(\"BatchName error\")\n                  }\n\n                  if (this.state.StartD !== \"\") {\n                    /*var StartD = this.state.StartD.split(\".\")\n                    if (StartD.length !== 3 || StartD[0].length !== 4 || isNaN(StartD[0]) || \n                                              (StartD[1].length <= 0 && StartD[1].length >= 3) || isNaN(StartD[1]) ||\n                                              (StartD[2].length <= 0 && StartD[2].length >= 3)|| isNaN(StartD[2])) {\n                      update = false \n                      this.props.setFirebaseError(\"Startdate error\")\n                    }*/\n                  }else {\n                    update = false \n                    this.props.setFirebaseError(\"Startdate error\")\n                  }\n\n                  if (this.state.DevianceMin !== \"\") {\n                    var Dev = this.state.DevianceMin\n                    if (Dev.length > 3 || isNaN(Dev) || Dev > 100){\n                      update = false \n                    }\n                  }else {\n                    update = false \n                    this.props.setFirebaseError(\"DevianceMin setting error\")\n                  }\n\n                  if (this.state.DevianceMax !== \"\") {\n                    var Dev = this.state.DevianceMax\n                    if (Dev.length > 3 || isNaN(Dev) || Dev > 100){\n                      update = false \n                    }\n                  }else {\n                    update = false \n                    this.props.setFirebaseError(\"DevianceMax setting error\")\n                  }\n\n                  var Pens = {}\n                  if (this.state.selectedPens && this.state.selectedPens.length > 0) {\n                    this.state.selectedPens.forEach(element => {\n                      Pens[element.item] = true\n                    });\n                  }\n                  if (Object.keys(Pens).length !== this.state.selectedPens.length) {\n                    update = false\n                    this.props.setFirebaseError(\"An error occurred during Pen assigning (please update the page)\")\n                  }\n\n                  if (update) {\n                    var newBatch = {name:this.state.BatchName, gcurve:this.state.Curve, pens:Pens, time: this.state.StartD, datas:{devianceMin: this.state.DevianceMin, devianceMax: this.state.DevianceMax}}\n                    if (this.state.Display === 1) {\n                      this.props.setBatch(Object.keys(localDataStore.userData.farms)[0], newBatch)\n                    }\n                    else if (this.state.Display === 2) {\n                      this.props.updateBatch(Object.keys(localDataStore.userData.farms)[0], newBatch)\n                    }\n                    this.setState({\n                      Display: 0\n                    })\n                    this.props.getPens(Object.keys(localDataStore.userData.farms)[0], localDataStore.pens.update_time)\n                  }\n                }}/>\n              </View>\n            </View>\n            //#endregion\n          )}\n        </View>\n        {IsLoading &&\n          <ActivityIndicator style={Helpers.loadingContainer} size='large' />\n        }\n      </View>\n      </ScrollView>\n    )\n  }\n}\n\nconst mapStateToProps = (state) => {\n  const { firebase } = state\n  return { firebase }\n};\n\nconst mapDispatchToProps  = (dispatch) => {\n  return {\n    setFirebaseError: error => dispatch(FirebaseActions.setFirebaseError(error)),\n\n    getCurve: (farmid) => dispatch(FirebaseActions.actionStarting(Actions.FETCH, DataRefs.GRAPH, {FarmId: farmid, GraphId: \"\"})),\n\n    getSections: (farmId, DataTime) => dispatch(FirebaseActions.actionStarting(Actions.FETCH, DataRefs.SECTIONS, {FarmId: farmId, DataTime: DataTime})),\n    getPens: (farmId, DataTime) => dispatch(FirebaseActions.actionStarting(Actions.FETCH, DataRefs.PENS, {FarmId: farmId, DataTime: DataTime})),\n    getBatch: (farmId) => dispatch(FirebaseActions.actionStarting(Actions.FETCH, DataRefs.BATCHS, {FarmId: farmId})),\n\n    setBatch: (farmId, batch) => dispatch(FirebaseActions.actionStarting(Actions.CREATE, DataRefs.BATCHS, {FarmId: farmId, Batch: batch})),\n    updateBatch: (farmId, batch) => dispatch(FirebaseActions.actionStarting(Actions.UPDATE, DataRefs.BATCHS, {FarmId: farmId, BatchId: batch.name, Batch: batch})),\n    \n    setCurrentData: (batchId, curveId) => dispatch(FirebaseActions.setCurrentData({type:DataRefs.PENS, batchId:batchId, curveId: curveId})),\n  }\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(Batchs);\n//export default Batchs;\n","import React, { useEffect, Component } from 'react'\nimport { Platform, Text, View, ActivityIndicator, Image, StyleSheet, ScrollView, Dimensions } from 'react-native'\nimport { Input, Icon } from 'react-native-elements'\nimport { useDispatch, useSelector, connect } from 'react-redux'\nimport { bindActionCreators } from 'redux';\n\nimport NavigationService from '../../../Services/NavigationService'\n\nimport FirebaseActions from '../../../Stores/Firebase/Actions'\nimport { Actions, DataRefs, GetCurve_FromBatch, AccumulateTime, get_DataSpot, CurvePredict } from '../../../Stores/Firebase/Selectors'\n\nimport { LineChart } from 'react-native-chart-kit'\nimport { Button, TitleElement, CustomListItem, ContentProp } from '../../../Components'\nimport Style from './UserPanelStyle'\nimport { ApplicationStyles, Helpers, Metrics, Colors } from '../../../Theme'\n\nimport { FlatGrid } from 'react-native-super-grid';\n\nfunction getRandomNumber(low, high) {\n  var r = Math.floor(Math.random() * (high - low + 1)) + low;\n  return r;\n}\n\nfunction getRandomColor() {\n  var red_range = [10, 250];\n  var green_range = [10, 250];\n  var blue_range = [10, 250];\n  var a_range = [0.2, 1];\n\n  var red = getRandomNumber(red_range[0], red_range[1]);\n  var green = getRandomNumber(green_range[0], green_range[1]);\n  var blue = getRandomNumber(blue_range[0], blue_range[1]);\n\n  var alpha = getRandomNumber(a_range[0] * 100, a_range[1] * 100) / 100;\n\n  return {\n    r: red,\n    g: green,\n    b: blue,\n    a: alpha,\n    rgbaValue: 'rgba(' + red + ',' + green + ',' + blue + ',' + alpha + ')'\n  }\n}\n\nconst window = Dimensions.get(\"window\");\nconst screen = Dimensions.get(\"screen\");\n\nfunction WeightsToGraphData(localDataStore, Batch, TempGraph = null, StartDate = undefined, _EndDate = undefined, Prediction = false) {\n  var DataSets = []\n  var EndDate = 0;\n\n  var DoPredict = (Batch && (!Batch.state || Batch.state !== \"Closed\"))?true:false\n  var Legends = Legends = Object.keys(Batch.pens).filter(e => (e !== '__jsogObjectId')).reverse()\n  Legends.forEach(Pen => {\n    var BatchPen = Batch.pens[Pen]\n    var color = getRandomColor();\n\n    var DataSet = []\n    var DataSetX = []\n\n    if (localDataStore.weighings[Pen] || (Batch.state && Batch.state === \"Closed\")) {\n      var PenWeighings = localDataStore.weighings[Pen];\n      if (Batch.state && Batch.state === \"Closed\") {\n        PenWeighings = Batch.closed.weighings[Pen]\n      }\n\n      if (PenWeighings && Object.keys(PenWeighings).length >= 1) {\n        Object.keys(PenWeighings).sort(function(a, b) {\n          return PenWeighings[a].time - PenWeighings[b].time;\n        }).forEach(key => {\n          var data = PenWeighings[key]\n          if (data.weight) {\n            if ((!StartDate || data.time >= StartDate) && (!_EndDate || data.time <= _EndDate)) {\n              if ((!BatchPen.startdate || data.time >= BatchPen.startdate) && (!BatchPen.enddate || data.time <= BatchPen.enddate)) {\n                var weight = data.weight\n                if (data.count) {\n                  weight = weight / data.count\n                }\n                DataSet.push(weight)\n                var Time = new Date(data.time)\n                Time = new Date(Time.getFullYear(),Time.getMonth(),Time.getDate())\n                DataSetX.push(Time)\n                if (!_EndDate && data.time > EndDate) {\n                  EndDate = data.time\n                }\n              }\n            }\n          }\n        });\n\n        if (DoPredict && Prediction) {\n          var Predict = CurvePredict(localDataStore, Pen)\n          if (Predict && Predict.lastWeighing) {\n            var Time = new Date(Predict.lastWeighing.time)\n            //var DatePredict = []\n            //var DataPredicttX = []\n            Predict.data.forEach(element => {\n              DataSet.push(element)\n              Time = AccumulateTime(Time,TempGraph.periode)\n              DataSetX.push(new Date(Time.getFullYear(),Time.getMonth(),Time.getDate()))\n            });\n            //if (Predict.length > 0){\n            //  DataSets.push({Pen: Pen + \"_Predict\", data: DatePredict, dataX: DataPredictX, color:(opacity = 0) => color.rgbaValue})\n            //}\n          }\n        }\n      }\n    }\n    \n    while(DataSet.length < TempGraph.data.length) {\n      DataSet.push(null)\n      DataSetX.push(null)\n    }\n    DataSets.push({Pen: Pen, data: DataSet, dataX: DataSetX, color:(opacity = 1) => color.rgbaValue})\n  });\n  return {DataSets, EndDate};\n}\n\nclass CurveElement extends Component {\n  constructor(props) {\n    super(props);\n\n    if (!this.props.Display) {\n      const {TempGraph, Legends, DataSets, StartDate, EndDate } = this.setData(props)\n      this.state = {\n        dimensions: {window, screen},\n\n        TempGraph: TempGraph,\n        Legends: Legends,\n        DataSets: DataSets,\n        StartDate: StartDate,\n        EndDate: EndDate,\n\n        Labels: [],\n        ActiveIndex: 0,\n        ActiveLength: \"Batch\",\n        ActiveDataSets: DataSets,\n        ActiveStartDate: StartDate,\n        ActiveEndDate: EndDate,\n\n        ViewPoint: null,\n      }\n    } else {\n      this.state = {\n        dimensions: {window, screen},\n      }\n    }\n  }\n\n  setData(Props) {\n    const localDataStore = Props.firebase.localDataStore;\n    const CurrentData = Props.firebase.currentData;\n\n    var TempGraph = null //Template Graph\n    var Legends = []     //Name lables\n    var DataSets = []    //Data Points\n\n    var D = new Date()\n    var StartDate = D.getTime()\n    var EndDate = new Date(D.setDate(D.getDate()+(7*8))) //Default timespand is 2 months or 8 weeks (will be changed acording to batch)\n\n    if (localDataStore && localDataStore.batchs && CurrentData.batchId) {\n      var Batch = localDataStore.batchs[CurrentData.batchId];\n      TempGraph = GetCurve_FromBatch(Batch, localDataStore.graphs, CurrentData.curveId)\n\n      if (TempGraph) {\n        if (CurrentData.curveId) TempGraph.name = CurrentData.curveId\n        else TempGraph.name = \"Template\"\n        //Find Startdate\n        StartDate = Batch.time\n        //Find Batch Pens (Legends)\n        Legends = Legends.concat(Object.keys(Batch.pens).reverse().filter(e => (e !== '__jsogObjectId')))\n\n        var DataX = []\n        //#region Find Template X values and EndDate\n        if (!TempGraph.periode){\n          TempGraph.periode = \"Weeks\"\n        }\n        var currentTime = new Date(StartDate)\n        for (var i = 0; i < TempGraph.data.length; i++) {\n          DataX.push(currentTime.getTime())\n          if (i < TempGraph.data.length -1) {\n            currentTime = new Date(AccumulateTime(currentTime, TempGraph.periode))\n          }\n        }\n        EndDate = currentTime.getTime();\n        DataX.push(EndDate)\n        //#endregion\n        \n        //Set TempGraph data\n        DataSets.push({\n          data: TempGraph.data,\n          dataX: DataX,\n          color: (opacity = 0.1) => `rgba(0, 0, 0, ${opacity})`, // optional\n        })\n\n        //Find DataSets from Legends\n        if (localDataStore.weighings) {\n          var TempData = DataSets\n          var TempEndDate = EndDate\n          var NextEnd = new Date(AccumulateTime(new Date(TempEndDate), TempGraph.periode)).getTime()\n          var {DataSets, EndDate} = WeightsToGraphData(localDataStore, Batch, TempGraph, StartDate, NextEnd, this.props.Predict)\n          DataSets = TempData.concat(DataSets)\n\n          if (TempEndDate > EndDate) {\n            EndDate = TempEndDate\n          }\n\n          Legends = Legends.filter(e => (e !== '__jsogObjectId' && (e === TempGraph.name || DataSets.some(i => i.Pen === e))));\n          Legends.unshift(TempGraph.name)\n        }\n      }\n    }\n    return {TempGraph, Legends, DataSets, StartDate, EndDate }\n  }\n\n  setGraphPeriode(ActiveLength = this.state.ActiveLength) {\n    var Labels = []\n\n    var StartDate = this.state.StartDate\n    var EndDate = this.state.EndDate\n    var ActiveIndex = this.state.ActiveIndex\n\n    var TemplatePeriode = this.state.TempGraph.periode\n    var CurrentDate = new Date(StartDate)\n    var TempActiveDataSet = this.state.ActiveDataSets;\n\n    var Today = new Date().getTime()\n    switch(this.state.ActiveLength) {\n      case \"Days\":\n        for (var i = 0; (i < ActiveIndex || ActiveIndex === -1); i++){\n          var getNewDate = new Date(AccumulateTime(CurrentDate, this.state.ActiveLength))\n          if (ActiveIndex === -1 && getNewDate > Today) {\n            ActiveIndex = i-1;\n            break;\n          }\n          CurrentDate = getNewDate;\n        }\n        StartDate = CurrentDate.getTime();\n        Labels.push(CurrentDate.getDate() + \"/\" + (CurrentDate.getMonth() + 1))\n        \n        CurrentDate = new Date(AccumulateTime(CurrentDate, this.state.ActiveLength))\n        Labels.push(CurrentDate.getDate() + \"/\" + (CurrentDate.getMonth() + 1))\n\n        EndDate = CurrentDate.getTime();\n        CurrentDate = new Date(AccumulateTime(CurrentDate, this.state.ActiveLength))\n        break;\n      case \"Weeks\":\n        for (var i = 0; (i < ActiveIndex || ActiveIndex === -1); i++){\n          var getNewDate = new Date(AccumulateTime(CurrentDate, this.state.ActiveLength))\n          if (ActiveIndex === -1 && getNewDate > Today) {\n            ActiveIndex = i;\n            break;\n          }\n          CurrentDate = getNewDate;\n        }\n        StartDate = CurrentDate.getTime();\n\n        for (var i = 0; i <= 7; i++) {\n          Labels.push(CurrentDate.getDate() + \"/\" + (CurrentDate.getMonth() + 1))\n          EndDate = CurrentDate.getTime();\n          CurrentDate = new Date(AccumulateTime(CurrentDate, \"Days\"))\n        }\n        break;\n      case \"Batch\":\n      default:\n        while (CurrentDate.getTime() <= EndDate) {\n          switch (TemplatePeriode){\n            case \"Days\":\n              Labels.push(CurrentDate.getDate() + \"/\" + (CurrentDate.getMonth() + 1))\n              break;\n            case \"Month\":\n              Labels.push(CurrentDate.getDate() + \"/\" + (CurrentDate.getMonth() + 1))\n              break;\n            case \"Weeks\":\n            default:\n              Labels.push(CurrentDate.getDate() + \"/\" + (CurrentDate.getMonth() + 1))\n              break;\n          }\n          CurrentDate = new Date(AccumulateTime(CurrentDate, TemplatePeriode))\n        }\n        break;\n    }\n\n    var ActiveDataSets = []\n    if (this.ActiveLength === \"Batch\") ActiveDataSets = this.state.DataSets;\n    else {\n      var End = AccumulateTime(new Date(EndDate), this.state.ActiveLength).getTime()\n      this.state.DataSets.forEach(element => {\n        var NewData = {...element, data:[], dataX: []}\n\n        var first = null\n        var last = null\n        if (new Date(element.dataX[0]).getTime() <= EndDate) {\n          for(var i = 0; i < element.data.length; i++) {\n            if (new Date(element.dataX[i]).getTime() >= StartDate) {\n              NewData.data.push(element.data[i])\n              NewData.dataX.push(element.dataX[i])\n\n              var time = AccumulateTime(new Date(element.dataX[i]), this.state.ActiveLength)\n              if (time.getTime() > End){\n                if (element.dataX.length -1 >= i) last = i\n                break;\n              }\n            } else if (element.dataX[i] !== null) {\n              first = i\n            }\n          }\n          if (first !== null && NewData.dataX[0] > StartDate && element.data.length >= first+1) {\n            var {ExValue, VirData} = get_DataSpot([element.dataX[first], element.dataX[first+1]], [element.data[first], element.data[first +1]], StartDate, element.data[first], element.dataX[first])\n            NewData.data.unshift(ExValue)\n            NewData.dataX.unshift(StartDate)\n          }\n          if (last != null) {\n            //NewData.data.push(ExValue)\n            //NewData.dataX.push(StartDate)\n          }\n        }\n\n        ActiveDataSets.push(NewData)\n      });\n    }\n\n    //var lastDataPoint = this.state.DataSets[0].dataX[this.state.DataSets[0].dataX.length-1]\n    if (this.state.ActiveIndex > 0 && ActiveDataSets[0].data.length === 0){\n      var i = this.state.ActiveIndex\n      i = i-1;\n      this.setState({\n        ActiveIndex: i\n      })\n    } else {\n      this.setState({\n        ActiveLength: ActiveLength,\n        \n        Labels: Labels,\n        ActiveDataSets: ActiveDataSets,\n        ActiveStartDate: StartDate,\n        ActiveEndDate: EndDate,\n        ActiveIndex: ActiveIndex,\n      }, () => {\n        //this.forceUpdate()\n      })\n    }\n  }\n\n  getData() {\n    const localDataStore = this.props.firebase.localDataStore;\n    const CurrentData = this.props.firebase.currentData;\n\n    if (CurrentData && CurrentData.batchId && localDataStore.batchs[CurrentData.batchId]){\n      const batchData = localDataStore.batchs[CurrentData.batchId]\n      \n      Object.keys(batchData.pens).forEach(Pen => {\n        if (Pen === \"__jsogObjectId\") return null\n        this.props.getPen(Object.keys(localDataStore.userData.farms)[0], Pen)\n        this.props.getWeights(Object.keys(localDataStore.userData.farms)[0], Pen)\n      })\n\n      var TempGraph = \"\"\n      if (CurrentData.curveId) {\n        TempGraph = CurrentData.curveId;\n        this.props.getCurve(Object.keys(localDataStore.userData.farms)[0], TempGraph)\n      }\n    }\n  }\n\n  onChange = ({ window, screen }) => {\n    this.setState({\n      dimensions: {window, screen},\n    })\n  };\n\n  componentDidUpdate(prevProps, prevState) {\n    if (!this.props.Display && this.props !== prevProps) {\n      if (this.props.firebase.localDataStore) {\n        if (JSON.stringify(prevProps.firebase.localDataStore.weighings) !== JSON.stringify(this.props.firebase.localDataStore.weighings) ||\n            JSON.stringify(prevProps.firebase.localDataStore.pens) !== JSON.stringify(this.props.firebase.localDataStore.pens) ||\n            JSON.stringify(prevProps.firebase.localDataStore.graphs) !== JSON.stringify(this.props.firebase.localDataStore.graphs)\n            || prevProps.Predict !== this.props.Predict) {\n          const {TempGraph, Legends, DataSets, StartDate, EndDate } = this.setData(this.props)\n          if (JSON.stringify(this.state.TempGraph)!==JSON.stringify(TempGraph) ||\n              JSON.stringify(this.state.Legends)!==JSON.stringify(Legends) ||\n              JSON.stringify(this.state.DataSets)!==JSON.stringify(DataSets) ||\n\n              JSON.stringify(this.state.StartDate)!==JSON.stringify(StartDate) ||\n              JSON.stringify(this.state.EndDate)!==JSON.stringify(EndDate)\n          ) {\n            this.setState({\n              TempGraph: TempGraph,\n              Legends: Legends,\n              DataSets: DataSets,\n        \n              StartDate: StartDate,\n              EndDate: EndDate,\n            }, () => {\n              this.setGraphPeriode(this.state.ActiveLength)\n            });\n          }\n        }\n      }\n    }\n    if (!this.props.Display && this.state !== prevState) {\n      if (this.state.ActiveLength != prevState.ActiveLength || this.state.ActiveIndex != prevState.ActiveIndex) {\n        this.setGraphPeriode(this.state.ActiveLength)\n      }\n    }\n  }\n\n  componentDidMount() {\n    this.getData();\n    if (!this.props.height) Dimensions.addEventListener(\"change\", this.onChange);\n    if (!this.props.Display) this.setGraphPeriode(this.state.ActiveLength)\n  }\n\n  componentWillUnmount(){\n    if (!this.props.height) Dimensions.removeEventListener(\"change\", this.onChange);\n  }\n\n  render() {\n    const localDataStore = this.props.firebase.localDataStore //Farmid\n    var BatchIsOpen = ((localDataStore.batchs && localDataStore.batchs[this.props.firebase.currentData.batchId]) && (!localDataStore.batchs[this.props.firebase.currentData.batchId].state || localDataStore.batchs[this.props.firebase.currentData.batchId].state !== \"Closed\"))?true:false\n    var wide = this.state.dimensions.window.width>1000?true:false\n    if (this.props.Display) wide = false\n\n    var height = this.state.dimensions.window.height //Full Screen\n    if (this.props.Height) {\n      height = this.props.Height;\n      height = height - 100 // ?? beautify'er\n    } else {\n      if (Platform.OS !== 'ios' && Platform.OS !== 'android') height = height - 64 //Navigation title\n      height = height - 49 //TitleElement\n      height = height - 145 //Data Props\n      height = height - 71 //View Selector\n      if (BatchIsOpen) height = height - 74 //Editor\n\n      height = height - 100 // ?? beautify'er\n    }\n    height = height - parseInt(10 + 15) //Margins \n    \n    var width = this.state.dimensions.window.width * 2; //Full Screen\n    if (this.props.Width) {\n      width = this.props.Width;\n    } else {\n      width = width - (Metrics.normal * 4) // Margins\n      width = width / (wide?2.05:1) //If not WideScreen - Split diagram in 2\n    }\n    \n    var DataSets = this.props.Display?[{color: (opacity = 0.1) => `rgba(0, 0, 0, ${opacity})`,data:[],dataX:[]}]:this.state.ActiveDataSets\n    var Legends = this.props.Display?[]:this.state.Legends.slice(0, DataSets.length)\n    var StartDate = this.props.Display?1:this.state.ActiveStartDate\n    var EndDate = this.props.Display?this.props.DataPoints.length:this.state.ActiveEndDate\n    var Labels = [];\n    if (this.props.Display) {\n      this.props.DataPoints.forEach((point,index)=>{\n        DataSets[0].data.push(point.value)\n        DataSets[0].dataX.push(index +1)\n        Labels.push(index +1)\n      })\n    }else Labels = this.state.Labels\n    return(\n      <View style={[Helpers.contentContainer, Helpers.fullSize, Helpers.fill]}>\n        <View style={[Helpers.contentContainer, Helpers.fullSize, Helpers.fill, {marginHorizontal: 0, paddingHorizontal:-20}]}>\n          <ScrollView horizontal={true} showsHorizontalScrollIndicator={wide||this.props.Display?false:true} style={[Helpers.fullSize]}>\n            {this.state.TempGraph||this.props.Display && (Labels && Labels.length > 0) && (DataSets && DataSets.length > 0)?(\n            <LineChart\n              //bezier\n              style={[{marginLeft: -15, marginRight:Metrics.normal, minHeight: height, minWidth: width}]}\n              width={width}\n              height={height}\n\n              data={{\n                labels: Labels,\n                xMinMax: [StartDate, EndDate, Labels.length -1],\n                legend: Legends,\n                datasets: DataSets,\n              }}\n\n              onDataPointClick={(data) => {\n                this.setState({\n                  ViewPoint: data\n                })\n              }}\n\n              withShadow={false}\n              withVerticalLines={true}\n              fromZero={false}\n              segments={15} //Horizontal-Lines\n              \n              verticalLabelRotation={0} //Not Working in browser\n              xLabelsOffset={0}\n\n              chartConfig={{\n                backgroundColor: Colors.white,\n                backgroundGradientFrom: Colors.white,  //#FFFFFF\n                backgroundGradientTo: Colors.white,     \n                decimalPlaces: 1, // optional, defaults to 2dp\n                color: (opacity = 1) => `rgba(0, 0, 0, ${opacity})`,  //Lines / Grid\n                labelColor: (opacity = 1) => `rgba(0, 0, 0, ${opacity})`, //Lables\n                style: {\n                  borderRadius: 16,\n                  height: height,\n                },\n                propsForDots: {\n                  r: \"5\",\n                  strokeWidth: \"0.5\",\n                  stroke: Colors.white\n                }\n              }}\n            />):(<></>)}\n          </ScrollView>\n        </View>\n        {!this.props.Display?(\n          <View style={[Helpers.fullWidth, Helpers.center]}>\n            <View style={[Helpers.borderContainer, Helpers.fullWidth, Helpers.rowCenter]}>\n              <View style={{paddingRight: 2.5}}>\n                <Icon name=\"md-arrow-back\" type='ionicon' size={25} color=\"black\" onPress={() => {\n                  if (this.state.ActiveIndex != 0){\n                    var i = this.state.ActiveIndex;\n                    i = i-1;\n                    this.setState({\n                      ActiveIndex: i\n                    })\n                  }\n                }}/>\n              </View>\n              <Button Text=\"Day view\" buttonStyle={{width:wide?100:80}}\n                onPress={() => {\n                  this.setState({\n                    ActiveIndex: -1,\n                    ActiveLength: \"Days\"\n                  })\n                } }/>\n              <Button Text=\"Week view\" buttonStyle={{width:wide?100:80, marginLeft:2.5}}\n                onPress={() => {\n                  this.setState({\n                    ActiveIndex: -1,\n                    ActiveLength: \"Weeks\"\n                  })\n                } }/>\n              <Button Text=\"Full Batch\" buttonStyle={{width:wide?100:80, marginLeft:2.5}}\n                onPress={() => {\n                  this.setState({\n                    ActiveIndex: 0,\n                    ActiveLength: \"Batch\"\n                  })\n                } }/>\n              <View style={{paddingLeft: 2.5}}>\n                <Icon name=\"md-arrow-forward\" type='ionicon' size={25} color=\"black\" onPress={() => {\n                  var i = this.state.ActiveIndex;\n                  i = i+1;\n                  this.setState({\n                    ActiveIndex: i\n                  })\n                }}/>\n              </View>\n            </View>\n            <View style={[Helpers.fullWidth, Helpers.rowCenter]}>\n              {BatchIsOpen?(\n                <CurveEditor control={this} props={this.props} state={this.state} />\n              ):(<></>)}\n            </View>\n          </View>\n        ):(<></>)}\n      </View>\n    )\n  }\n}\n\nconst CurveEditor = (props) => {\n  if (Platform.OS === 'ios' || Platform.OS === 'android') {\n    if (props.state.ViewPoint){\n      var TimeText = props.state.Labels[props.state.ViewPoint.index]\n      if (props.state.ViewPoint.dataset.dataX) {\n        var Time = new Date(props.state.ViewPoint.dataset.dataX[props.state.ViewPoint.index])\n        TimeText = Time.getFullYear() + \".\" + (Time.getMonth() +1) + \".\" + Time.getDate()\n      }\n\n      var Data = props.state.ViewPoint.value\n      return (\n        <View style={[Helpers.buttonContainer, Helpers.fullWidth, Helpers.rowCenter, {maxHeight:100}] }>\n          <View style={[Helpers.colCenter, Helpers.borderContainer, {borderRadius:0}]}>\n            <Text>{TimeText}</Text>\n          </View>\n          <View style={[Helpers.colCenter, Helpers.borderContainer, {borderRadius:0}]}>\n            <Text>{Data} Kg.</Text>\n          </View>\n        </View>\n      )\n    }\n    else return(<></>)\n  } else {\n    const [Point, setPoint] = React.useState(0)\n    if (!props.state.TempGraph) {\n      return(<></>)\n    }\n    else {\n      return (\n        <View style={[Helpers.buttonContainer, Helpers.fullWidth, Helpers.rowCenter, {maxHeight:100,marginTop:10}] }>\n          <View style={{padding:6, paddingRight: 15}}>\n            <Icon name=\"md-arrow-back\" type='ionicon' size={25} color=\"black\" onPress={() => {\n              var index = Point;\n              index = index -1\n              if (index < 0) {\n                index = props.state.TempGraph.data.length -1\n              }\n              setPoint(index)\n            }}/>\n          </View>\n          <Input\n              type='number'\n              step=\"0.1\"\n\n              label={props.state.Labels[Point]}\n              containerStyle={[{width:\"auto\", borderWidth:1}]}\n              style={[ApplicationStyles.input, Helpers.borderContainer, {borderRadius:0}]}\n\n              onChange= {(evt) => {\n                var text = evt.target.value\n                if (!isNaN(text) || text.endsWith('.') && text.split('.').length <= 2) {\n                  var NewData = props.state.TempGraph.data;\n                  NewData[Point] = text\n                  \n                  props.control.setState({\n                    state: props.state,\n                    TempGraph: {...props.state.TempGraph, data: NewData}\n                  })\n                  props.control.setGraphPeriode(props.state.ActiveLength)\n                }\n              }}\n              /*onChangeText={text => {\n                if (!isNaN(text) || text.endsWith('.') && text.split('.').length <= 2) {\n                  var NewData = props.state.TempGraph.data;\n                  if (text === \"\" || text === null) text = 0\n                  if (text.endsWith('.')) text = text + \"0\"\n                  NewData[Point] = parseFloat(text)\n                  console.log(NewData[Point], text)\n                  props.control.setState({\n                    TempGraph: {...props.state.TempGraph, data: NewData}\n                  })\n\n                  props.control.forceUpdate()\n                }\n              }}*/\n              value={\n                props.state.TempGraph.data[Point]\n              }\n            />\n          <View style={{padding:6, paddingRight: 15}}>\n            <Icon name=\"md-arrow-forward\" type='ionicon' size={25} color=\"black\" onPress={() => {\n              var index = Point;\n              index = index +1\n              if (index > props.state.TempGraph.data.length -1){\n                index = 0\n              }\n              setPoint(index)\n            }}/>\n          </View>\n          <Input\n              label=\"Curve Name\"\n              containerStyle={[{width:\"auto\", borderWidth:1}]}\n              style={[ApplicationStyles.input, Helpers.borderContainer, {borderRadius:0}]}\n              \n              onChangeText={text => {\n                /*var name = text;\n                name = name.replace(' ', '_')\n                if (isNaN(name[0])){\n                  var NewLegends = props.state.Legends;\n                  NewLegends[0] = name\n                  props.control.setState({\n                    TempGraph: {...props.state.TempGraph, name: name},\n                    Legends: NewLegends\n                  })\n                }*/\n              }}\n              value={\n                props.state.TempGraph.name\n              }\n            />\n        </View>\n      )\n    }\n  }\n} \n\n/*\n<Button Text=\"Save\" buttonStyle={{width:100, marginLeft:20}}\n            onPress={() => {\n              var farmid = Object.keys(props.props.firebase.localDataStore.userData.farms)[0]\n              props.props.setCurve(farmid, props.state.TempGraph)\n            } }/>\n*/\n\nconst mapStateToProps = (state) => {\n  const { firebase } = state\n  return { firebase }\n};\n\nconst mapDispatchToProps  = (dispatch) => {\n  return {\n    setFirebaseError: error => dispatch(FirebaseActions.setFirebaseError(error)),\n    \n    getPen: (farmId, penId) => dispatch(FirebaseActions.actionStarting(Actions.FETCH, DataRefs.PENS, {FarmId: farmId, PenId: penId})),\n    getWeights: (farmid, penId) => dispatch(FirebaseActions.actionStarting(Actions.FETCH, DataRefs.WEIGHING, {FarmId: farmid, PenId: penId, limitTo: 9999})),\n\n    getBatch: (farmId, batchId) => dispatch(FirebaseActions.actionStarting(Actions.FETCH, DataRefs.BATCHS, {FarmId: farmId})),\n    getCurve: (farmid, curveid) => dispatch(FirebaseActions.actionStarting(Actions.FETCH, DataRefs.GRAPH, {FarmId: farmid, GraphId: curveid})),\n    setCurve: (farmid, curve) => dispatch(FirebaseActions.actionStarting(Actions.CREATE, DataRefs.GRAPH, {FarmId: farmid, Graph: curve}))\n  }\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(CurveElement);\nexport {\n  WeightsToGraphData,\n}","import React, { useEffect, useState, Component } from 'react'\nimport { Platform, Text, View, ActivityIndicator, Image, StyleSheet, ScrollView, Dimensions, SafeAreaView, FlatList, Picker } from 'react-native'\nimport { Input, Icon } from 'react-native-elements'\nimport { useDispatch, useSelector, connect } from 'react-redux'\nimport { bindActionCreators } from 'redux';\n\nimport NavigationService from '../../../Services/NavigationService'\n\nimport FirebaseActions from '../../../Stores/Firebase/Actions'\nimport { Actions, DataRefs } from '../../../Stores/Firebase/Selectors'\n\nimport { Button, TitleElement, CustomListItem, ContentProp } from '../../../Components'\nimport Style from './UserPanelStyle'\nimport { ApplicationStyles, Helpers, Metrics, Images } from '../../../Theme'\nimport CurveElement from './CurveElement'\n\nclass GrowthCurve extends Component {\n  constructor(props){\n    super(props);\n\n    const {CurveList} = this.setData(props)\n    var D = new Date()\n    this.state = {\n      CurveList: CurveList,\n\n      Display: 0,\n\n      CurveName: \"\",\n      DataPoints: [],\n      Periode: \"Weeks\",\n    }\n  }\n\n  setData(Props) {\n    const localDataStore = Props.firebase.localDataStore;\n\n    var CurveList = localDataStore.graphs\n    return { CurveList }\n  }\n\n  getData(){\n    this.props.setFirebaseError(null)\n\n    const localDataStore = this.props.firebase.localDataStore;\n    this.props.getCurve(Object.keys(localDataStore.userData.farms)[0])\n  }\n\n  checkData(props){\n    if (!props.firebase || props.firebase.firebaseUser === null) {\n      NavigationService.navigate(\"AuthStack\")\n    }\n  }\n\n  componentDidMount(){\n    this.checkData(this.props);\n    \n    this.getData();\n  }\n\n  componentDidUpdate(prevProps, prevState) {\n    if (this.props !== prevProps) {\n      this.checkData(this.props);\n\n      if (this.props.firebase.localDataStore) {\n        if (this.props.firebase.localDataStore.graphs && JSON.stringify(this.state.CurveList)!==JSON.stringify(this.props.firebase.localDataStore.graphs)) {\n          const {CurveList} = this.setData(this.props)\n          this.setState({\n            CurveList: CurveList,\n          })\n        }\n      }\n    }\n  }\n\n  render() {\n    const IsLoading = this.props.firebase.firebaseIsLoading\n    const firebaseUser = this.props.firebase.firebaseUser\n    const firebaseErrorMessage = this.props.firebase.firebaseErrorMessage\n\n    const localDataStore = this.props.firebase.localDataStore //Farmid\n\n    var AverageGrowth = 0\n    for(var i = 0; i < this.state.DataPoints.length; i++){\n      var value = this.state.DataPoints[i].value\n      if (value === \"\" || value === null) value = 0\n      value = parseFloat(value)\n\n      if (i === 0) continue;\n      var Growth = value - this.state.DataPoints[i-1].value\n      AverageGrowth = (AverageGrowth + Growth) / 2\n    }\n    AverageGrowth = AverageGrowth.toFixed(3)\n    \n    return(\n      <View\n        style={[\n          Helpers.mainContainer,\n        ]}\n      >\n        <View style={[Helpers.contentContainer, Helpers.fullSize, Helpers.fillColMain]}>\n          {firebaseErrorMessage ? (\n            <Text style={ApplicationStyles.error}>{firebaseErrorMessage}</Text>\n          ):(<></>)}\n          {this.state.Display === 0?(\n            <View style={[Helpers.contentContainer, Helpers.fullSize, {marginHorizontal:0, paddingHorizontal:-20}]}>\n            {this.state.CurveList ? (\n              <View style={[Helpers.fill, Helpers.fullWidth, Metrics.smallHorizontalPadding, Metrics.smallVerticalPadding, {maxWidth:800, marginTop:10}]}>\n                <FlatList\n                  data={Object.keys(this.state.CurveList).filter(e => e !== '__jsogObjectId' && e !== 'update_time')}\n                  renderItem={({item})=>{\n                    return(\n                      <Button Text={item} onPress={() => {\n                        var CurveData = this.state.CurveList[item]\n\n                        var DataPoints = []\n                        CurveData.data.forEach(element => {\n                          DataPoints.push({value: element})\n                        });\n                        this.setState({\n                          Display: 2,\n                          CurveName: item,\n                          DataPoints: DataPoints,\n                          Periode: CurveData.periode\n                        })\n                      }}/>\n                    )\n                  }}\n                  keyExtractor={(item, index) => index.toString()}\n                />\n              </View>\n            ):(<></>)}\n            <View style={[Helpers.buttonContainer, Helpers.borderContainer, Helpers.midWidth]}>\n              <Button Text={\"New Curve\"} onPress={() => {\n                this.setState({\n                  Display: 1,\n                  DataPoints: [{value:\"0\"}]\n                })\n              }}/>\n            </View>\n          </View>\n          ):(\n            //#region Edit or create\n            <View style={[Helpers.contentContainer, Helpers.fullSize, {marginHorizontal:0, paddingHorizontal:-20}]}>\n              {this.state.Display === 1?( // Create\n                <Input label={\"CurveName\"}\n                  containerStyle={[{borderWidth:1, marginTop:10}]}\n                  style={[ApplicationStyles.input, ]}\n                  onChangeText={text => {\n                    var DataPoints = [{value: \"0\"}]\n                    this.setState({\n                      CurveName: text,\n                    })\n                  }}\n                  value={\n                    this.state.CurveName\n                  }\n                />\n              ):( //Edit\n                <TitleElement Text={this.state.CurveName}/>\n              )}\n              <View style={[Helpers.borderContainer, Helpers.fill, Helpers.fullWidth]}>\n                <ContentProp texts={[\"Data Points\"]} datas={[\"Periode: \" + this.state.Periode]} />\n                <ContentProp texts={[\"Average Growth: \" + AverageGrowth]} datas={[]} />\n                <View style={[Helpers.fullWidth, {minHeight:150, maxHeight: 400, marginLeft: -30, marginTop: -15, marginBottom: -15 }]}>\n                  <CurveElement Display={true} DataPoints={this.state.DataPoints} Height={400} Width={455}/>\n                </View>\n                <FlatList\n                  data={this.state.DataPoints}\n                  renderItem={({item, index}) => {\n                    return(\n                      <Input \n                        type='number'\n                        step=\"0.1\"\n\n                        label={\"Point index: \" + (index +1)}\n                        containerStyle={[Helpers.fullWidth,{borderWidth:1, marginTop:10}]}\n                        style={[ApplicationStyles.input, ]}\n                        \n                        onChange= {(evt) => {\n                          var text = evt.target.value\n                          if (!isNaN(text) || text.endsWith('.') && text.split('.').length <= 2) {\n                            var DataPoints = [ ...this.state.DataPoints ];\n                            DataPoints[index].value = text;\n                            this.setState({DataPoints});\n                          }\n                        }}\n                        value={\n                          \"\" + item.value\n                        }\n                      />\n                    )}\n                  }\n                    //Setting the number of column\n                    numColumns={1}\n                />\n                <View style={{height:20}} />\n                <Button Text={\"New Point\"} onPress={() => {\n                  var DataPoints = [ ...this.state.DataPoints ];\n                  var value = this.state.DataPoints&&this.state.DataPoints.length >= 1?this.state.DataPoints[this.state.DataPoints.length-1].value:\"0\"\n                  DataPoints.push({value:value})\n                  this.setState({\n                    DataPoints\n                  })\n                }}/>\n              </View>\n\n              <View style={[Helpers.buttonContainer, Helpers.borderContainer, Helpers.midWidth, {marginTop:10}]}>\n                <Button Text={\"Save\"} onPress={() => {\n                  var update = true;\n\n                  if (this.state.CurveName !== \"\"){\n                    var Name = this.state.CurveName;\n                    if (!Object.keys(this.state.CurveList).includes(Name)){\n                      if (this.state.Display === 2) { // update on non existing\n                        update = false \n                      }\n                    } \n                    else {\n                      if (this.state.Display === 1) { // create on allready existing\n                        update = false \n                      }\n                    }\n                  }else {\n                    update = false \n                  }\n\n                  if (update) {\n                    var newCurve = {name:this.state.CurveName, periode:this.state.Periode}\n                    var Data = []\n                    var index = 0;\n                    this.state.DataPoints.forEach(element => {\n                      Data[index] = parseFloat(element.value)\n                      index++;\n                    });\n                    newCurve.data = Data;\n                    var farmid = Object.keys(localDataStore.userData.farms)[0]\n                    this.props.updateCurve(farmid,newCurve)\n                    \n                    this.setState({\n                      Display: 0\n                    })\n                  }\n                }}/>\n              </View>\n            </View>\n            //#endregion\n          )}\n        </View>\n        {IsLoading &&\n          <ActivityIndicator style={Helpers.loadingContainer} size='large' />\n        }\n      </View>\n    )\n  }\n}\n\nconst mapStateToProps = (state) => {\n  const { firebase } = state\n  return { firebase }\n};\n\nconst mapDispatchToProps  = (dispatch) => {\n  return {\n    setFirebaseError: error => dispatch(FirebaseActions.setFirebaseError(error)),\n\n    getCurve: (farmid) => dispatch(FirebaseActions.actionStarting(Actions.FETCH, DataRefs.GRAPH, {FarmId: farmid, GraphId: \"\"})),\n    updateCurve: (farmid, curve) => dispatch(FirebaseActions.actionStarting(Actions.UPDATE, DataRefs.GRAPH, {FarmId: farmid, Graph: curve})),\n  }\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(GrowthCurve);\n//export default GrowthCurve;\n","import React, { useEffect, Component } from 'react'\nimport { Platform, Text, View, ActivityIndicator, ScrollView } from 'react-native'\nimport { useDispatch, useSelector, connect } from 'react-redux'\nimport { bindActionCreators } from 'redux';\n\nimport NavigationService from '../../../Services/NavigationService'\n\nimport FirebaseActions from '../../../Stores/Firebase/Actions'\nimport { Actions, DataRefs, sortObject } from '../../../Stores/Firebase/Selectors'\n\nimport { Button, OperationsPanel } from '../../../Components'\nimport Style from './UserPanelStyle'\nimport { ApplicationStyles, Helpers, Metrics } from '../../../Theme'\n\nclass Operations extends Component {\n  constructor(props){\n    super(props);\n\n    this.state = {\n    }\n  }\n\n  getData() {\n    this.props.setFirebaseError(null)\n    this.props.setCurrentData({})\n  }\n\n  checkData(props) {\n    if (!props.firebase || props.firebase.firebaseUser === null){\n      NavigationService.navigate(\"AuthStack\")\n    }\n    //Mabye call check for localdataStore get farms..\n  }\n\n  componentDidMount() {\n    this.checkData(this.props);\n    this.getData();\n  }\n\n  componentDidUpdate(prevProps, prevState) {\n    \n  }\n\n  render() {\n    const IsLoading = this.props.firebase.firebaseIsLoading\n    const firebaseUser = this.props.firebase.firebaseUser\n    const firebaseErrorMessage = this.props.firebase.firebaseErrorMessage\n\n    const localDataStore = this.props.firebase.localDataStore //Farmid\n\n    return(\n      <View\n      style={[\n        Helpers.mainContainer,\n      ]}\n    >\n      <View style={[Helpers.contentContainer, Helpers.fullSize, Helpers.fill]}>\n        {firebaseErrorMessage ? (\n          <Text style={ApplicationStyles.error}>{firebaseErrorMessage}</Text>\n        ):(<></>)}\n        <View style={[Helpers.buttonContainer, Helpers.midWidth, Metrics.bottomMargin, {marginBottom:60}] }>\n        </View>\n\n        <View style={[Helpers.buttonContainer, Helpers.halvWidth, Helpers.fillColMain]}>\n          <OperationsPanel section={true}/>\n        </View>\n      </View>\n      {IsLoading &&\n        <ActivityIndicator style={Helpers.loadingContainer} size='large' />\n      }\n    </View>\n    )\n  }\n}\n\nconst mapStateToProps = (state) => {\n  const { firebase } = state\n  return { firebase }\n};\n\nconst mapDispatchToProps  = (dispatch) => {\n  return {\n    setFirebaseError: error => dispatch(FirebaseActions.setFirebaseError(error)),\n    setCurrentData: actionType => dispatch(FirebaseActions.setCurrentData({type:DataRefs.PENS, action: actionType})),\n  }\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(Operations);\n//export default Operations;\n","import React, { useEffect, Component } from 'react'\nimport { Platform, Text, View, ActivityIndicator, Picker } from 'react-native'\nimport { Input } from 'react-native-elements'\nimport { useDispatch, useSelector, connect } from 'react-redux'\nimport { bindActionCreators } from 'redux';\n\nimport NavigationService from '../../../Services/NavigationService'\n\nimport FirebaseActions from '../../../Stores/Firebase/Actions'\nimport { Actions, DataRefs, sortObject } from '../../../Stores/Firebase/Selectors'\n\nimport { Button, Datetime_Picker } from '../../../Components'\nimport Style from '../CloudScreenStyle'\nimport { ApplicationStyles, Helpers, Metrics, Colors } from '../../../Theme'\n\nclass Weighing extends Component {\n  constructor(props){\n    super(props);\n\n    const {Sections, Section, Pens, Pen} = this.setData(this.props)\n    this.state = {\n      Sections: Sections,\n      Section: Section,\n\n      Pens: Pens,\n      Pen: Pen,\n      weight: \"\",\n      date: new Date().getTime()\n    }\n  }\n\n  getData() {\n    this.props.setFirebaseError(null)\n\n    const localDataStore = this.props.firebase.localDataStore;\n    if (!localDataStore.sections) localDataStore.sections = {}\n    this.props.getSections(Object.keys(localDataStore.userData.farms)[0], localDataStore.sections.update_time)\n  }\n\n  setData(Props) {\n    //Set Sections\n    const localDataStore = Props.firebase.localDataStore;\n    var Sections = false;\n    if (localDataStore && localDataStore.sections && localDataStore.sections !== Sections) {\n      Sections = sortObject(localDataStore.sections)\n    }\n\n    //Set Section\n    const CurrentData = Props.firebase.currentData;\n    var Section = Sections? Object.keys(Sections)[0] : \"\"\n    if (CurrentData && CurrentData.data && CurrentData.data.section && Sections[CurrentData.data.section]) {\n      if (CurrentData.data.section != Section) {\n        Section = CurrentData.data.section\n      }\n    }\n\n    //Pens & Pen\n    var Pens = Sections? sortObject(Sections[Section].pens): {}\n    var Pen = Sections? Object.keys(Pens)[0]: \"\"\n    if (CurrentData && CurrentData.penId && Pens[CurrentData.penId] && CurrentData.penId != Pen){\n      Pen = CurrentData.penId\n    }\n\n    if (!Sections) Sections = {}\n    return {Sections, Section, Pens, Pen}\n  }\n\n  checkData(props) {\n    if (!props.firebase || props.firebase.firebaseUser === null){\n      NavigationService.navigate(\"AuthStack\")\n    }\n    //Mabye call check for localdataStore get farms..\n  }\n\n  componentDidMount() {\n    this.checkData(this.props);\n\n    this.getData();\n  }\n\n  componentDidUpdate(prevProps, prevState) {\n    if (this.props !== prevProps){\n      this.checkData(this.props);\n\n      if (this.props.firebase.localDataStore) {\n        if (this.props.firebase.localDataStore.sections && JSON.stringify(this.state.Sections)!==JSON.stringify(sortObject(this.props.firebase.localDataStore.sections))) {\n\n          const {Sections, Section, Pens, Pen} = this.setData(this.props)\n\n          this.setState({\n            Sections: Sections,\n            Section: Section,\n            Pens: Pens,\n            Pen: Pen,\n\n            weight: \"\",\n          })\n        }\n      }\n    }\n  }\n\n  render() {\n    const IsLoading = this.props.firebase.firebaseIsLoading\n    const firebaseUser = this.props.firebase.firebaseUser\n    const firebaseErrorMessage = this.props.firebase.firebaseErrorMessage\n\n    const localDataStore = this.props.firebase.localDataStore //Farmid\n\n    return(\n      <View\n      style={[\n        Helpers.mainContainer,\n      ]}\n      >\n        <View style={[Helpers.contentContainer, Helpers.fullSize, Helpers.fill]}>\n          {firebaseErrorMessage ? (\n            <Text style={ApplicationStyles.error}>{firebaseErrorMessage}</Text>\n          ):(<></>)}\n          {firebaseUser?(\n            <View style={[Helpers.contentContainer, Helpers.fullSize, Helpers.fill]}>\n              <View style={[Helpers.buttonContainer, Helpers.midWidth, Metrics.bottomMargin] }>\n                <Button Text=\"Weighing\" buttonStyle={{backgroundColor: Colors.AgriDarkblue}}\n                  onPress={() => {} }/>\n              </View>\n              \n              <View style={[Helpers.borderContainer, Helpers.midWidth, {marginBottom:20}] }>\n                <Picker\n                  mode=\"dropdown\"\n                  selectedValue={this.state.Section}\n                  style={{ height: 50, width: 150 }}\n                  onValueChange={(itemValue, itemIndex) => {\n                    if (this.state.Sections[itemValue]){\n                      const Pens = sortObject(this.state.Sections[itemValue].pens)\n                      this.setState({\n                        Section: itemValue,\n                        Pens: Pens,\n                        Pen: Object.keys(Pens)[0],\n                      })\n                    }\n                  }}\n                >\n                  {Object.keys(this.state.Sections).map((Section, i) => {\n                      return (<Picker.Item label={Section} value={Section} key={i}/>)\n                  })}\n                </Picker>\n\n                <Picker\n                  mode=\"dropdown\"\n                  selectedValue={this.state.Pen}\n                  style={{ height: 50, width: 150 }}\n                  onValueChange={(itemValue, itemIndex) => {\n                    this.setState({\n                      Pen: itemValue\n                    })\n                  }}\n                >\n                  {Object.keys(this.state.Pens).map((Pen, i) => {\n                      return (<Picker.Item label={Pen} value={Pen} key={i}/>)\n                  })}\n                </Picker>\n\n                <View style={[Helpers.fullWidth, {borderWidth:0 ,height: 65, marginTop:10, paddingHorizontal:5, paddingTop:0, borderRadius:0, alignItems:\"center\"}]}>\n                  <View style={[Helpers.fullWidth, {alignItems:\"flex-start\"}]}>\n                    <Text style={[ApplicationStyles.text, {marginHorizontal:5, marginTop:2, color:Colors.input, fontSize: 15, fontWeight: \"bold\"}]}>Weight date:</Text>\n                  </View>\n                  <View style={[Helpers.fullWidth, {alignItems:'flex-start'}]}>\n                    <Datetime_Picker FullYear={this.state.date}\n                      onValueChange={(date)=>{\n                        console.log(date.getTime())\n                        this.setState({\n                          date: date.getTime()\n                        })\n                      }}\n                    />\n                  </View>\n                </View>\n                 \n                <Input\n                  label=\"Weight\"\n                  style={{ ...Style.input}}\n                  onChangeText={text => {\n                    this.setState({\n                      weight: text\n                    })\n                  }}\n                  value={this.state.weight}\n                />\n              </View>\n\n              <View style={[Helpers.buttonContainer, Helpers.midWidth] }>\n                <Button Text=\"Submit\"\n                  onPress={() => {\n                    if (!this.state.Section){\n                      this.props.setFirebaseError(\"A section is needed\")\n                    } else if (!this.state.Pen){\n                      this.props.setFirebaseError(\"A pen is needed\")\n                    } else if (isNaN(this.state.weight) || this.state.weight === \"\") {\n                      this.props.setFirebaseError(\"Weight have to be a number\")\n                    }\n                    else {\n                      this.props.setFirebaseError(null)\n                      console.log(this.state.date)\n                      this.props.newWeight(Object.keys(localDataStore.userData.farms)[0], this.state.Pen, parseFloat(this.state.weight), this.state.date)\n                      this.setState({\n                        weight: \"\",\n                        date: new Date().getTime()\n                      })\n                    }\n                  } }/>\n              </View>\n            </View>\n          ):(<></>)}\n        </View>\n        {IsLoading &&\n          <ActivityIndicator style={Helpers.loadingContainer} size='large' />\n        }\n      </View>\n    )\n  }\n}\n\nconst mapStateToProps = (state) => {\n  const { firebase } = state\n  return { firebase }\n};\n\nconst mapDispatchToProps  = (dispatch) => {\n  return {\n    getSections: (farmId, DataTime) => dispatch(FirebaseActions.actionStarting(Actions.FETCH, DataRefs.SECTIONS, {FarmId: farmId, DataTime: DataTime})),\n    setFirebaseError: error => dispatch(FirebaseActions.setFirebaseError(error)),\n    \n    newWeight: (farmId, penId, weight, date) => dispatch(FirebaseActions.actionStarting(Actions.CREATE, DataRefs.WEIGHING, {FarmId: farmId, PenId: penId, Weight:weight, Date:date})),\n  }\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(Weighing);\n//export default Weighing;","import React, { useEffect, Component } from 'react'\nimport { Platform, Text, View, ActivityIndicator, Image, StyleSheet, ScrollView, Picker } from 'react-native'\nimport { Input } from 'react-native-elements'\nimport { useDispatch, useSelector, connect } from 'react-redux'\nimport { bindActionCreators } from 'redux';\n\nimport NavigationService from '../../../Services/NavigationService'\n\nimport FirebaseActions from '../../../Stores/Firebase/Actions'\nimport { Actions, DataRefs, sortObject } from '../../../Stores/Firebase/Selectors'\n\nimport { Button, TitleElement } from '../../../Components'\nimport Style from '../../../Containers/Cloud/CloudScreenStyle'\nimport { ApplicationStyles, Helpers, Metrics, Colors } from '../../../Theme'\n\nclass DataEditor extends Component {\n  constructor(props){\n    super(props);\n\n    if (!props.firebase){\n      console.log(\"??\")\n    }\n\n    const {Sections, Section, Pens, Pen} = this.setData(props)\n    this.state = {\n      Sections: Sections,\n      Section: Section,\n\n      Pens: Pens,\n      Pen: Pen,\n      NewSection: false,\n    }\n  }\n\n  getData() {\n    this.props.setFirebaseError(null)\n\n    const localDataStore = this.props.firebase.localDataStore;\n    if (!localDataStore.sections) localDataStore.sections = {}\n    this.props.getSections(Object.keys(localDataStore.userData.farms)[0], localDataStore.sections.update_time)\n  }\n\n  setData(Props) {\n    //Set Sections\n    const localDataStore = Props.firebase.localDataStore;\n    var Sections = false;\n    \n    if (localDataStore && localDataStore.sections && localDataStore.sections !== Sections) {\n      Sections = sortObject(localDataStore.sections)\n    }\n\n    //Set Section\n    const CurrentData = Props.firebase.currentData;\n    var Section = Sections? Object.keys(Sections)[0] : \"\"\n    if (CurrentData && CurrentData.data && CurrentData.data.section && Sections[CurrentData.data.section]) {\n      if (CurrentData.data.section != Section) {\n        Section = CurrentData.data.section\n      }\n    }\n\n    //Pens & Pen\n    var Pens = Sections? sortObject(Sections[Section].pens): {}\n    var Pen = Sections? Object.keys(Pens)[0]: \"\"\n    if (CurrentData && CurrentData.dataId && Pens[CurrentData.dataId] && CurrentData.dataId != Pen){\n      Pen = CurrentData.dataId\n    }\n\n    if (!Sections) Sections = {}\n    return {Sections, Section, Pens, Pen}\n  }\n\n  checkData(props) {\n    if (!props.firebase || props.firebase.firebaseUser === null){\n      NavigationService.navigate(\"AuthStack\")\n    }\n  }\n\n  componentDidMount() {\n    this.checkData(this.props);\n    this.getData();\n  }\n\n  componentDidUpdate(prevProps, prevState) {\n    if (this.props !== prevProps){\n      this.checkData(this.props);\n\n      if (this.props.firebase)  {\n        if (this.props.firebase.localDataStore) {\n          if (this.props.firebase.localDataStore.sections && JSON.stringify(this.state.Sections)!==JSON.stringify(sortObject(this.props.firebase.localDataStore.sections))) {\n            \n            const {Sections, Section, Pens, Pen} = this.setData(this.props)\n\n            this.setState({\n              Sections: Sections,\n              Section: Section,\n              Pens: Pens,\n              Pen: Pen,\n            })\n          }\n        }\n        if (this.props.firebase.currentData) {\n          if (this.props.firebase.currentData != prevProps.firebase.currentData){\n            this.forceUpdate()\n          }\n        }\n      }\n    }\n  }\n\n  render() {\n    const IsLoading = this.props.firebase.firebaseIsLoading\n    const firebaseUser = this.props.firebase.firebaseUser\n    const firebaseErrorMessage = this.props.firebase.firebaseErrorMessage\n\n    const localDataStore = this.props.firebase.localDataStore //Farmid\n    const CurrentData = this.props.firebase.currentData\n\n    var DataView = (<View></View>);\n\n    switch(CurrentData.type){\n      case DataRefs.PENS:\n        DataView = PenEditor_View_Creator(this, CurrentData, localDataStore)\n        break;\n      case DataRefs.PIGS:\n        DataView = PigEditor_View_Creator(this, CurrentData, localDataStore)\n        break;\n    }\n\n    return(\n      <View\n      style={[\n        Helpers.mainContainer,\n      ]}\n      >\n        <View style={[Helpers.contentContainer, Helpers.fullSize, Helpers.fill]}>\n          {firebaseErrorMessage ? (\n            <Text style={ApplicationStyles.error}>{firebaseErrorMessage}</Text>\n          ):(<></>)}\n          {DataView}\n        </View>\n        {IsLoading &&\n          <ActivityIndicator style={Helpers.loadingContainer} size='large' />\n        }\n      </View>\n    )\n  }\n}\n\nconst PenEditor_View_Creator = (Control, CurrentData, localDataStore) => {\n  var Sections = Control.state.Sections;\n  if (CurrentData.action === Actions.CREATE) {\n    Sections[\"New Section\"] = {}\n  }\n\n  return(\n    <View style={[Helpers.contentContainer, Helpers.fullSize, Helpers.fill]}>\n      <PenEditor_Titles CurrentAction={CurrentData.action}/>\n      \n      <View style={ [Helpers.borderContainer, Helpers.midWidth, {marginBottom:20}] }>\n        <Section_Picker Control={Control} CurrentData={CurrentData} localDataStore={localDataStore}/>\n        {CurrentData.action === Actions.CREATE ?(\n          <Input\n            label=\"Pen name\"\n            style={{ ...Style.input}}\n            onChangeText={text => {\n              Control.setState({\n                Pen: text\n              })\n            }}\n            value={Control.state.Pen}\n          />\n        ):(<></>)}\n        {CurrentData.action === Actions.DELETE ?(\n          <Picker\n            mode=\"dropdown\"\n            selectedValue={Control.state.Pen}\n            style={{ height: 50, width: 150 }}\n            onValueChange={(itemValue, itemIndex) => {\n              Control.setState({\n                Pen: itemValue\n              })\n            }}\n          >\n            {Object.keys(Control.state.Pens).map((Pen, i) => {\n                return (<Picker.Item label={Pen} value={Pen} key={i}/>)\n            })}\n          </Picker>\n        ):(<></>)}\n      </View>\n\n      {CurrentData.action === Actions.CREATE || CurrentData.action === Actions.DELETE ?(\n        <View style={[Helpers.buttonContainer, Helpers.midWidth] }>\n          <Button Text=\"Submit\"\n            onPress={() => {\n              if (!Control.state.Section || Control.state.Section === \"\"){\n                Control.props.setFirebaseError(\"A section is needed\")\n              } else if (!Control.state.Pen || Control.state.Pen === \"\"){\n                Control.props.setFirebaseError(\"A pen name is needed\")\n              } else if (!isNaN(Control.state.Section) || !isNaN(Control.state.Section[0])){\n                Control.props.setFirebaseError(\"Section name cannot be or start with a number\")\n              } else if (!isNaN(Control.state.Pen) || !isNaN(Control.state.Pen[0])){\n                Control.props.setFirebaseError(\"Pen name cannot be or start with a number\")\n              }\n              else {\n                var exists = false;\n\n                Object.keys(Control.state.Sections).map((section, i) => {\n                  if (Control.state.Sections[section].pens){\n                    var test = Object.keys(Control.state.Sections[section].pens).filter(e => e === Control.state.Pen).length\n                    if (test) exists = true\n                  }\n                })\n\n                if (exists && CurrentData.action === Actions.CREATE) {\n                  Control.props.setFirebaseError(\"Given pen name already exists\")\n                } else if (!exists && CurrentData.action === Actions.DELETE){\n                  Control.props.setFirebaseError(\"Cannot remove non-existing pen\")\n                }\n                else {\n                  Control.props.setFirebaseError(null)\n                  Control.props.penAction(CurrentData.action, Object.keys(localDataStore.userData.farms)[0], Control.state.Section, Control.state.Pen)\n                  NavigationService.navigate(\"UserOperations\")\n                }\n              }\n            } }/>\n        </View>\n      ):(<></>)}\n    </View>\n  )\n}\n\nconst PenEditor_Titles = (props) => {\n  switch(props.CurrentAction) {\n    case Actions.CREATE:\n      return(\n        <TitleElement Text={\"Add Pen\"}/>\n      )\n    case Actions.DELETE:\n      return(\n        <TitleElement Text={\"Remove Pen\"}/>\n      )\n    default:\n      return(<></>)\n  }\n}\n\nconst PigEditor_View_Creator = (Control, CurrentData, localDataStore) => {\n  var Sections = Control.state.Sections;\n  if (CurrentData.action === Actions.CREATE) {\n    //Sections[\"New Section\"] = {}\n  }\n\n  return(\n    <View style={[Helpers.contentContainer, Helpers.fullSize, Helpers.fill]}>\n      <TitleElement Text={\"Add Pig: \" + CurrentData.pigtag}/>\n      \n      <View style={ [Helpers.borderContainer, Helpers.midWidth, {marginBottom:20}] }>\n        <Section_Picker Control={Control} CurrentData={CurrentData} localDataStore={localDataStore}/>\n        {Control.state.NewSection?(\n        <Input\n          label=\"Pen name\"\n          style={{ ...Style.input}}\n          onChangeText={text => {\n            Control.setState({\n              Pen: text\n            })\n          }}\n          value={Control.state.Pen}\n        />\n        ):(\n          <Picker\n            mode=\"dropdown\"\n            selectedValue={Control.state.Pen}\n            style={{ height: 50, width: 150 }}\n            onValueChange={(itemValue, itemIndex) => {\n              Control.setState({\n                Pen: itemValue\n              })\n            }}\n          >\n            {Object.keys(Control.state.Pens).map((Pen, i) => {\n                return (<Picker.Item label={Pen} value={Pen} key={i}/>)\n            })}\n          </Picker>\n        )}\n        {CurrentData.action === Actions.CREATE?(\n        <View style={[Helpers.buttonContainer, Helpers.midWidth] }>\n          <Button Text=\"Submit\"\n            onPress={() => {\n              if (!Control.state.Section || Control.state.Section === \"\"){\n                Control.props.setFirebaseError(\"A section is needed\")\n              } else if (!Control.state.Pen || Control.state.Pen === \"\"){\n                Control.props.setFirebaseError(\"A pen name is needed\")\n              } else if (!isNaN(Control.state.Section) || !isNaN(Control.state.Section[0])){\n                Control.props.setFirebaseError(\"Section name cannot be or start with a number\")\n              } else if (!isNaN(Control.state.Pen) || !isNaN(Control.state.Pen[0])){\n                Control.props.setFirebaseError(\"Pen name cannot be or start with a number\")\n              }\n              else {\n                var exists = false;\n\n                Object.keys(Control.state.Sections).map((section, i) => {\n                  if (Control.state.Sections[section].pens){\n                    var test = Object.keys(Control.state.Sections[section].pens).filter(e => e === Control.state.Pen).length\n                    if (test) exists = true\n                  }\n                })\n\n                if (exists && CurrentData.action === Actions.CREATE && Control.state.NewSection) {\n                  Control.props.setFirebaseError(\"Given pen name already exists\")\n                } else {\n                  Control.props.setFirebaseError(null)\n                  Control.props.pigAction(CurrentData.action, Object.keys(localDataStore.userData.farms)[0], CurrentData.pigtag, Control.state.Pen)\n                  NavigationService.navigate(\"UserPigs\")\n                }\n              }\n            } }/>\n        </View>\n      ):(<></>)}\n      </View>\n    </View>\n  )\n}\n\nconst Section_Picker = ({Control, CurrentData, localDataStore}) => {\n  if (Control.state.NewSection && CurrentData.action === Actions.CREATE){\n    return(\n      <Input\n        label=\"Section Name\"\n        style={{ ...Style.input}}\n        onChangeText={text => {\n          Control.setState({\n            Section: text,\n          })\n        }}\n        value={Control.state.Section}\n      />\n    )\n  } else {\n    return(\n      <Picker\n        mode=\"dropdown\"\n        selectedValue={Control.state.Section}\n        style={{ height: 50, width: 150 }}\n        onValueChange={(itemValue, itemIndex) => {\n          var Section = itemValue\n          var NewSection = Control.state.NewSection\n          var Pens = Control.state.Pens\n          var Pen = Control.state.Pen\n\n          if (itemValue === \"New Section\"){\n            NewSection = true;\n            Section = \"Section_\" + Object.keys(Control.state.Sections).length\n          } else {\n            Pens = sortObject(Control.state.Sections[itemValue].pens)\n            \n            if (CurrentData.action === Actions.DELETE){\n              Pen = Object.keys(Pens)[Object.keys(Pens).length-1]\n            }\n            else {\n              if (CurrentData.type == DataRefs.PIGS){\n                Pen = Object.keys(Pens)[0]\n              }else {\n                Pen = \"Pen_\" + (Object.keys(Pens).length +1)\n              }\n            }\n          }\n          \n          Control.setState({\n            Section: Section,\n            NewSection: NewSection,\n            Pens: Pens,\n            Pen: Pen,\n          })\n        }}>\n        {Object.keys(Control.state.Sections).map((Section, i) => {\n            return (<Picker.Item label={Section} value={Section} key={i}/>)\n        })}\n      </Picker>\n    )\n  }\n}\n\nconst mapStateToProps = (state) => {\n  const { firebase } = state\n  return { firebase }\n};\n\nconst mapDispatchToProps  = (dispatch) => {\n  return {\n    getSections: (farmId, DataTime) => dispatch(FirebaseActions.actionStarting(Actions.FETCH, DataRefs.SECTIONS, {FarmId: farmId, DataTime: DataTime})),\n    setFirebaseError: error => dispatch(FirebaseActions.setFirebaseError(error)),\n    penAction: (action, farmId, senctionId, penId) => dispatch(FirebaseActions.actionStarting(action, DataRefs.PENS, {FarmId:farmId, SectionId:senctionId, PenId:penId})),\n    pigAction: (action, farmId, tagId, penId,) => dispatch(FirebaseActions.actionStarting(action, DataRefs.PIGS, {FarmId:farmId, TagId:tagId, PenId:penId})),\n  }\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(DataEditor);\n//export default DataEditor;\n","import React, { Component } from 'react'\nimport { Platform, Text, View, ActivityIndicator, Image, StyleSheet, ScrollView, FlatList } from 'react-native'\nimport { useDispatch, useSelector, connect } from 'react-redux'\nimport { bindActionCreators } from 'redux';\nimport { Icon, Input } from 'react-native-elements'\n\nimport NavigationService from '../../../Services/NavigationService'\n\n//import DeviceActions from '../../../Stores/Device/Actions'\n//import { ConnectionState } from '../../../Stores/Device/Selectors'\n\nimport FirebaseActions from '../../../Stores/Firebase/Actions'\nimport { Actions, DataRefs, sortObject, format_Time, CurvePredict } from '../../../Stores/Firebase/Selectors'\n\nimport { Button, Button_Panel, ContentProp, OperationsPanel } from '../../../Components'\n\nimport { ApplicationStyles, Helpers, Metrics, Images, Colors } from '../../../Theme'\n\nclass DataDisplay_Pens extends Component {\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      currentData: props.currentData,\n    }\n\n    const {CurrentData, WeighingsList, Weighings, CommentsList, Comments} = this.setData(props)\n    this.state = {\n      currentData: CurrentData,\n\n      WeighingsList: WeighingsList,\n      Weighings: Weighings,\n\n      CommentsList: CommentsList,\n      Comments: Comments,\n\n      action: \"\"\n    }\n  }\n\n  setData(Props) {\n    const localDataStore = Props.firebase.localDataStore;\n\n    var CurrentData = this.state.currentData;\n    var Pens = sortObject(localDataStore.pens)\n    if (Pens[CurrentData.penId]){\n      CurrentData.data = Pens[CurrentData.penId]\n    }\n\n    var WeighingsList = [];\n    var Weighings = [];\n    var App = Platform.OS === \"android\" || Platform.OS === \"ios\" ? true: false\n    if (localDataStore && localDataStore.weighings) {\n      if (localDataStore.weighings[CurrentData.penId]) {\n        WeighingsList = localDataStore.weighings[CurrentData.penId];\n        for(var i = 0; i < Object.keys(WeighingsList).length; i++) {\n          var name = Object.keys(WeighingsList)[i]\n          if (!name) continue;\n          var object = WeighingsList[name];\n          if (!object || !object.time) continue;\n          Weighings.push({[name]:object})\n        }\n        Weighings = Weighings.sort((a, b) => (a.time > b.time) ? 1 : -1)\n        if (App) {\n          Weighings = Weighings.slice(0,5)\n        }\n      }\n    }\n\n    var CommentsList = [];\n    var Comments = [];\n    if (localDataStore && localDataStore.comments) {\n      if (localDataStore.comments[CurrentData.penId]) {\n        CommentsList = localDataStore.comments[CurrentData.penId];\n        for(var i = 0; i < Object.keys(CommentsList).length; i++) {\n          var name = Object.keys(CommentsList)[i]\n          if (!name) continue;\n          var object = CommentsList[name];\n          if (!object || !object.time) continue;\n          Comments.push({[name]:object})\n        }\n        Comments = Comments.sort((a, b) => (a.time > b.time) ? 1 : -1)\n        if (App) {\n          Comments = Comments.slice(0,5)\n        }\n      }\n    }\n\n    if (CurrentData.data && !CurrentData.data.datas) CurrentData.data.datas = {}\n\n    return {CurrentData, WeighingsList, Weighings, CommentsList, Comments}\n  }\n\n  getData() {\n    if (this.props.firebase && this.props.firebase.localDataStore){\n      const localDataStore = this.props.firebase.localDataStore\n      if (!localDataStore.pens) localDataStore.pens = {}\n      this.props.getPens(Object.keys(localDataStore.userData.farms)[0], localDataStore.pens.update_time)\n      this.props.getWeights(Object.keys(localDataStore.userData.farms)[0], this.state.currentData.penId)\n      this.props.getComments(Object.keys(localDataStore.userData.farms)[0], this.state.currentData.penId)\n      this.props.getBatch(Object.keys(localDataStore.userData.farms)[0], null)\n    }\n  }\n\n  checkData(props) {\n    if (!props.firebase || props.firebase.firebaseUser === null){\n      NavigationService.navigate(\"AuthStack\")\n    }\n    //Mabye call check for localdataStore get farms..\n  }\n\n  componentDidMount() {\n    this.checkData(this.props);\n\n    this.getData();\n  }\n\n  componentDidUpdate(prevProps, prevState) {\n    if (this.props !== prevProps){\n      this.checkData(this.props);\n\n      if (this.props.firebase.localDataStore) {\n        const localDataStore = this.props.firebase.localDataStore\n        if ((JSON.stringify(prevProps.currentData)!==JSON.stringify(this.state.currentData)) ||\n            (localDataStore.sections && JSON.stringify(this.state.Sections)!==JSON.stringify(sortObject(localDataStore.sections))) ||\n            (localDataStore.weighings && JSON.stringify(this.state.Weighings)!==JSON.stringify(sortObject(localDataStoree.weighings))) ||\n            (localDataStore.comments && JSON.stringify(this.state.Comments)!==JSON.stringify(sortObject(localDataStoree.comments)))\n        ) {\n          const {CurrentData, WeighingsList, Weighings, CommentsList, Comments} = this.setData(this.props)\n          this.setState({\n            currentData: CurrentData,\n\n            WeighingsList: WeighingsList,\n            Weighings: Weighings,\n\n            CommentsList: CommentsList, \n            Comments: Comments,\n          })\n        }\n      }\n    }\n  }\n\n  render() {\n    const IsLoading = this.props.firebase.firebaseIsLoading\n    const firebaseUser = this.props.firebase.firebaseUser\n    const firebaseErrorMessage = this.props.firebase.firebaseErrorMessage\n\n    const localDataStore = this.props.firebase.localDataStore //Farmid\n    const CurrentData = this.state.currentData\n\n    if (!CurrentData.data) {\n      return(\n        <View style={[Helpers.fillRowCenter, Helpers.center, Helpers.logoContainer]}>\n          <Image style={Helpers.fullSize} source={Images.Hexa_icon} resizeMode={'contain'} />\n        </View>\n      )\n    } else {\n      var pigcount = CurrentData.data.datas.count?CurrentData.data.datas.count:0\n      var penWeight = []\n      if (this.state.Weighings.length > 0) {\n        penWeight = this.state.Weighings[0][Object.keys(this.state.Weighings[0])].weight / this.state.Weighings[0][Object.keys(this.state.Weighings[0])].count\n      }\n\n      var batch_name = CurrentData.data.datas.batch?CurrentData.data.datas.batch:\"No Batch\"\n      var batch = {}\n\n      //TODO: Cleanup load mem throws..\n      var age = \"\";\n      var displayWeight = penWeight;\n      \n      if (CurrentData.data.datas.batch && localDataStore.batchs && localDataStore.batchs[CurrentData.data.datas.batch]) {\n        batch = localDataStore.batchs[CurrentData.data.datas.batch];\n        var StartTime = batch.time;\n        age = Math.floor(((Date.now()-StartTime)/(1000*60*60*24)));\n        CurrentData.data.datas.gcurve = batch.gcurve;\n\n        var Predict = CurvePredict(localDataStore, CurrentData.penId)\n        if (Predict && Predict.Now) displayWeight = Predict.Now\n      }\n\n      if (!batch.datas) batch.datas = {};\n      if (!batch.datas.devianceMin) batch.datas.devianceMin = 0;\n      if (!batch.datas.devianceMax) batch.datas.devianceMax = 0;\n\n      return(\n        <View style={[Helpers.contentContainer, Helpers.fullSize, Helpers.fill]}>\n          <View style={[Helpers.buttonContainer, Helpers.midWidth, Metrics.bottomMargin, Helpers.rowCenter] }>\n            <View style={{padding:6, paddingRight: 15}}>\n              <Icon name=\"md-arrow-back\" type='ionicon' size={25} color=\"black\" onPress={() => onPageSwipe(this, localDataStore, CurrentData, false)}/>\n            </View>\n            <View style={[Helpers.buttonContainer, Helpers.midWidth] }>\n              <Button Text={CurrentData.penId} buttonStyle={{backgroundColor: Colors.AgriDarkblue}}\n                onPress={() => {} }/>\n            </View>\n            <View style={{padding:6, paddingLeft: 15}}>\n              <Icon name=\"md-arrow-forward\" type='ionicon' size={25} color=\"black\" onPress={() => onPageSwipe(this, localDataStore, CurrentData, true)}/>\n            </View>\n          </View>\n          \n          <View style={[Helpers.fullWidth]}>\n            <ContentProp texts={[\"Pig count\", \"Batch\", \"Age Days\", \"Weight\", \"Growth Cruve\", \"Alarm Max\", \"Alarm Min\", \"Mixtur\", \"Correction\", \"Portion in kg\"]} onPress={(element) => onDataPress(1, element)} \n              datas={[pigcount, batch_name, age, /*penWeight*/ displayWeight, CurrentData.data.datas.gcurve?CurrentData.data.datas.gcurve:\"default\", batch.datas.devianceMin + \" %\", batch.datas.devianceMax + \" %\", \"-\", \"-\", \"-\"]} />\n          </View>\n\n          <View style={{height:20}} />\n          <View style={[Helpers.fill, Helpers.midWidth, {height:215}]}>\n            {/* diff for app / web here ^ */}\n            <ContentProp texts={[\"Last weighings\"]} datas={[]} />\n            <View style={{height:10}} />\n            <FlatList\n              data={this.state.Weighings}\n              renderItem={({item, index}) => {\n                if (item === \"__jsogObjectId\") return (<></>);\n                var Weight = this.state.WeighingsList[Object.keys(item)[0]]\n                return(\n                  <ContentProp texts={[format_Time(Weight.time)]}\n                              datas={[Weight.weight + \"   : \" + Weight.count + \" pigs\"]}\n                  />\n                )}\n              }\n                //Setting the number of column\n                numColumns={1}\n                keyExtractor={(item, index) => String(index)}\n              />\n          </View>\n\n          <View style={{height:20}} />\n          <View style={[Helpers.fill, Helpers.midWidth, {height:215}]}>\n            {/* diff for app / web here ^ */}\n            <ContentProp texts={[\"Action log\"]} datas={[]} />\n            <View style={{height:10}} />\n            <FlatList\n              data={this.state.Comments}\n              renderItem={({item, index}) => {\n                if (item === \"__jsogObjectId\") return (<></>);\n                var Comment = this.state.CommentsList[Object.keys(item)[0]]\n                return(\n                  <ContentProp texts={[format_Time(Comment.time) + \":\\n\" + Comment.user]}\n                              datas={[Comment.action + \":\\n\" + Comment.data]}\n                  />\n                )}\n              }\n                //Setting the number of column\n                numColumns={1}\n                keyExtractor={(item, index) => String(index)}\n              />\n          </View>\n\n          <View style={{height:30}} />\n\n          <View style={[Helpers.borderContainer, Helpers.midWidth]}>\n            <OperationsPanel />\n          </View>\n        </View>\n      )\n    }\n  }\n}\n\nfunction onPageSwipe(Control, localDataStore, CurrentData, dir) {\n  const section = localDataStore.pens[CurrentData.penId].section\n  const Pens = sortObject(localDataStore.sections[section].pens)\n\n  if (CurrentData.type === DataRefs.PENS && CurrentData.data && Pens[CurrentData.penId]) {\n    var index = Object.keys(Pens).indexOf(CurrentData.penId)\n\n    switch (dir) {\n      case true: //forward\n        index = index +1\n        break;\n      case false: //backward\n        index = index -1\n        break;\n    }\n\n    if (index < 0) index = Object.keys(Pens).length - 1\n    else if (index >= Object.keys(Pens).length) index = 0\n\n    Control.props.setCurrentData(Object.keys(Pens)[index])\n    NavigationService.replace(\"DataDisplay\")\n  }\n}\n\nfunction onDataPress(sender, element){\n  switch(sender){\n    case 1:\n      switch(element.index){\n        case 0:\n          console.log(\"test\")\n          break;\n      }\n      break;\n  }\n}\n\nconst mapStateToProps = (state) => {\n  const { firebase } = state\n  return { firebase }\n};\n\nconst mapDispatchToProps  = (dispatch) => {\n  return {\n    getPens: (farmId, DataTime) => dispatch(FirebaseActions.actionStarting(Actions.FETCH, DataRefs.PENS, {FarmId: farmId, DataTime: DataTime})),\n    getWeights: (farmId, penId) => dispatch(FirebaseActions.actionStarting(Actions.FETCH, DataRefs.WEIGHING, {FarmId: farmId, PenId: penId})),\n    getComments: (farmId, penId) => dispatch(FirebaseActions.actionStarting(Actions.FETCH, DataRefs.COMMENTS, {FarmId: farmId, PenId: penId})),\n    getBatch: (farmId, batchId) => dispatch(FirebaseActions.actionStarting(Actions.FETCH, DataRefs.BATCHS, {FarmId: farmId, BatchId: batchId})),\n\n    setCurrentData: penId => dispatch(FirebaseActions.setCurrentData({type:DataRefs.PENS, penId: penId})),\n    setCurrentDataElement: element => dispatch(FirebaseActions.setCurrentData(element)),\n  }\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(DataDisplay_Pens);\n//export default DataDisplay_Pens;","import React, { useEffect, Component } from 'react'\nimport { Platform, Text, View, ActivityIndicator, Image, StyleSheet, ScrollView, FlatList } from 'react-native'\nimport { useDispatch, useSelector, connect } from 'react-redux'\nimport { bindActionCreators } from 'redux';\nimport { Icon, Input } from 'react-native-elements'\n\nimport NavigationService from '../../../Services/NavigationService'\n\n//import DeviceActions from '../../../Stores/Device/Actions'\n//import { ConnectionState } from '../../../Stores/Device/Selectors'\n\nimport FirebaseActions from '../../../Stores/Firebase/Actions'\nimport { Actions, DataRefs, sortObject, format_Time, get_DataSpot } from '../../../Stores/Firebase/Selectors'\n\nimport { Button, Button_Panel, ContentProp, OperationsPanel } from '../../../Components'\n\nimport { ApplicationStyles, Helpers, Metrics, Images, Colors } from '../../../Theme'\n\nclass DataDisplay_Pigs extends Component {\n  constructor(props){\n    super(props);\n\n    this.state = {\n      currentData: props.currentData,\n    }\n\n    const {CurrentData, WeighingsList, Weighings} = this.setData(props)\n    this.state = {\n      currentData: CurrentData,\n\n      WeighingsList: WeighingsList,\n      Weighings: Weighings,\n    }\n  }\n\n  setData(Props) {\n    const localDataStore = Props.firebase.localDataStore;\n\n    var CurrentData = this.state.currentData;\n    var Pigs = sortObject(localDataStore.pigs)\n    if (Pigs[CurrentData.TagId]){\n      CurrentData.data = Pigs[CurrentData.TagId]\n    }\n\n    var WeighingsList = [];\n    var Weighings = [];\n    var App = Platform.OS === \"android\" || Platform.OS === \"ios\" ? true: false\n    if (localDataStore && localDataStore.weighings) {\n      if (localDataStore.weighings[CurrentData.penId]) {\n        WeighingsList = localDataStore.weighings[CurrentData.penId];\n        for(var i = 0; i < Object.keys(WeighingsList).length; i++) {\n          var name = Object.keys(WeighingsList)[i]\n          if (!name) continue;\n          var object = WeighingsList[name];\n          if (!object || !object.time) continue;\n          Weighings.push({[name]:object})\n        }\n        Weighings = Weighings.sort((a, b) => (a.time > b.time) ? 1 : -1)\n        if (App) {\n          Weighings = Weighings.slice(0,5)\n        }\n      }\n    }\n    if (CurrentData.data && !CurrentData.data.datas) CurrentData.data.datas = {}\n\n    return {CurrentData, WeighingsList, Weighings}\n  }\n\n  getData() {\n    if (this.props.firebase && this.props.firebase.localDataStore){\n      const localDataStore = this.props.firebase.localDataStore\n      if (!localDataStore.pens) localDataStore.pens = {}\n      this.props.getPens(Object.keys(localDataStore.userData.farms)[0], localDataStore.pens.update_time)\n      this.props.getWeights(Object.keys(localDataStore.userData.farms)[0], this.state.currentData.penId)\n      this.props.getBatch(Object.keys(localDataStore.userData.farms)[0], null)\n    }\n  }\n\n  checkData(props) {\n    if (!props.firebase || props.firebase.firebaseUser === null){\n      NavigationService.navigate(\"AuthStack\")\n    }\n    //Mabye call check for localdataStore get farms..\n  }\n\n  componentDidMount() {\n    this.checkData(this.props);\n\n    this.getData();\n  }\n\n  componentDidUpdate(prevProps, prevState) {\n    if (this.props !== prevProps){\n      this.checkData(this.props);\n\n      if (this.props.firebase.localDataStore) {\n        const localDataStore = this.props.firebase.localDataStore\n        if ((JSON.stringify(prevProps.currentData)!==JSON.stringify(this.state.currentData)) ||\n            (localDataStore.sections && JSON.stringify(this.state.Sections)!==JSON.stringify(sortObject(localDataStore.sections))) ||\n            (localDataStore.weighings && JSON.stringify(this.state.Weighings)!==JSON.stringify(sortObject(localDataStoree.weighings)))\n        ) {\n          const {CurrentData, WeighingsList, Weighings} = this.setData(this.props)\n          this.setState({\n            currentData: CurrentData,\n\n            WeighingsList: WeighingsList,\n            Weighings: Weighings,\n          })\n        }\n      }\n    }\n  }\n\n  render() {\n    const IsLoading = this.props.firebase.firebaseIsLoading\n    const firebaseUser = this.props.firebase.firebaseUser\n    const firebaseErrorMessage = this.props.firebase.firebaseErrorMessage\n\n    const localDataStore = this.props.firebase.localDataStore //Farmid\n    const CurrentData = this.state.currentData\n\n    if (!CurrentData.data) {\n      return(\n        <View style={[Helpers.fillRowCenter, Helpers.center, Helpers.logoContainer]}>\n          <Image style={Helpers.fullSize} source={Images.Hexa_icon} resizeMode={'contain'} />\n        </View>\n      )\n    } else {\n      var pigcount = CurrentData.data.datas.count?CurrentData.data.datas.count:0\n      var penWeight = []\n      if (this.state.Weighings.length > 0) {\n        var count = pigcount?pigcount:1\n        penWeight = this.state.Weighings[0][Object.keys(this.state.Weighings[0])].weight / count\n      }\n\n      var batch_name = CurrentData.data.datas.batch?CurrentData.data.datas.batch:\"No Batch\"\n      var batch = {}\n\n      //TODO: Cleanup load mem throws..\n      var age = \"\";\n      var displayWeight = penWeight;\n      if (CurrentData.data.datas.batch && localDataStore.batchs && localDataStore.batchs[CurrentData.data.datas.batch]) {\n        batch = localDataStore.batchs[CurrentData.data.datas.batch];\n        var StartTime = batch.time;\n        age = Math.floor(((Date.now()-StartTime)/(1000*60*60*24)));\n        CurrentData.data.datas.gcurve = batch.gcurve;\n\n        var Predict = CurvePredict(localDataStore, CurrentData.penId)\n        displayWeight = Predict.Now\n      }\n\n      if (!batch.datas) batch.datas = {};\n      if (!batch.datas.devianceMin) batch.datas.devianceMin = 0;\n      if (!batch.datas.devianceMax) batch.datas.devianceMax = 0;\n\n      return(\n        <View style={[Helpers.contentContainer, Helpers.fullSize, Helpers.fill]}>\n          <View style={[Helpers.buttonContainer, Helpers.midWidth, Metrics.bottomMargin, Helpers.rowCenter] }>\n            <View style={{padding:6, paddingRight: 15}}>\n              <Icon name=\"md-arrow-back\" type='ionicon' size={25} color=\"black\" onPress={() => onPageSwipe(this, localDataStore, CurrentData, false)}/>\n            </View>\n            <View style={[Helpers.buttonContainer, Helpers.midWidth] }>\n              <Button Text={CurrentData.penId} buttonStyle={{backgroundColor: Colors.AgriDarkblue}}\n                onPress={() => {} }/>\n            </View>\n            <View style={{padding:6, paddingLeft: 15}}>\n              <Icon name=\"md-arrow-forward\" type='ionicon' size={25} color=\"black\" onPress={() => onPageSwipe(this, localDataStore, CurrentData, true)}/>\n            </View>\n          </View>\n          \n          <View style={[Helpers.fullWidth]}>\n            <ContentProp texts={[\"Pig count\", \"Batch\", \"Age Days\", \"Weight\", \"Growth Cruve\", \"Alarm Max\", \"Alarm Min\", \"Mixtur\", \"Correction\", \"Portion in kg\"]} onPress={(element) => onDataPress(1, element)} \n              datas={[pigcount, batch_name, age, /*penWeight*/ displayWeight, CurrentData.data.datas.gcurve?CurrentData.data.datas.gcurve:\"default\", batch.datas.devianceMin + \" %\", batch.datas.devianceMax + \" %\", \"-\", \"-\", \"-\"]} />\n          </View>\n\n          <View style={{height:20}} />\n          <View style={[Helpers.fill, Helpers.midWidth, {height:250}]}>\n            {/* diff for app / web here ^ */}\n            <ContentProp texts={[\"Last weighings\"]} datas={[]} />\n            <View style={{height:10}} />\n            <FlatList\n              data={this.state.Weighings}\n              renderItem={({item, index}) => {\n                if (item === \"__jsogObjectId\") return (<></>);\n                var Weight = this.state.WeighingsList[Object.keys(item)[0]]\n                return(\n                  <ContentProp texts={[format_Time(Weight.time)]}\n                              datas={[Weight.weight]} \n                  />\n                )}\n              }\n                //Setting the number of column\n                numColumns={1}\n                keyExtractor={(item, index) => String(index)}\n              />\n          </View>\n\n          <View style={{height:30}} />\n\n          <View style={[Helpers.borderContainer, Helpers.midWidth]}>\n            <OperationsPanel />\n          </View>\n        </View>\n      )\n    }\n  }\n}\n\nfunction onPageSwipe(Control, localDataStore, CurrentData, dir) {\n  const section = localDataStore.pens[CurrentData.penId].section\n  const Pens = sortObject(localDataStore.sections[section].pens)\n\n  if (CurrentData.type === DataRefs.PENS && CurrentData.data && Pens[CurrentData.penId]) {\n    var index = Object.keys(Pens).indexOf(CurrentData.penId)\n\n    switch (dir) {\n      case true: //forward\n        index = index +1\n        break;\n      case false: //backward\n        index = index -1\n        break;\n    }\n\n    if (index < 0) index = Object.keys(Pens).length - 1\n    else if (index >= Object.keys(Pens).length) index = 0\n\n    Control.props.setCurrentData(Object.keys(Pens)[index])\n    NavigationService.replace(\"DataDisplay\")\n  }\n}\n\nfunction onDataPress(sender, element){\n  switch(sender){\n    case 1:\n      switch(element.index){\n        case 0:\n          console.log(\"test\")\n          break;\n      }\n      break;\n  }\n}\n\nconst mapStateToProps = (state) => {\n  const { firebase } = state\n  return { firebase }\n};\n\nconst mapDispatchToProps  = (dispatch) => {\n  return {\n    getPens: (farmId, DataTime) => dispatch(FirebaseActions.actionStarting(Actions.FETCH, DataRefs.PENS, {FarmId: farmId, DataTime: DataTime})),\n    getWeights: (farmId, penId) => dispatch(FirebaseActions.actionStarting(Actions.FETCH, DataRefs.WEIGHING, {FarmId: farmId, PenId: penId})),\n    getBatch: (farmId, batchId) => dispatch(FirebaseActions.actionStarting(Actions.FETCH, DataRefs.BATCHS, {FarmId: farmId, BatchId: batchId})),\n\n    setCurrentData: penId => dispatch(FirebaseActions.setCurrentData({type:DataRefs.PENS, penId: penId})),\n    setCurrentDataElement: element => dispatch(FirebaseActions.setCurrentData(element)),\n  }\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(DataDisplay_Pigs);\n//export default DataDisplay_Pigs;","import React, { useEffect, Component } from 'react'\nimport { Platform, Text, View, ActivityIndicator, Image, StyleSheet, ScrollView, FlatList } from 'react-native'\nimport { useDispatch, useSelector, connect } from 'react-redux'\nimport { bindActionCreators } from 'redux';\nimport { Icon, Input } from 'react-native-elements'\n\nimport NavigationService from '../../../Services/NavigationService'\n\n//import DeviceActions from '../../../Stores/Device/Actions'\n//import { ConnectionState } from '../../../Stores/Device/Selectors'\n\nimport FirebaseActions from '../../../Stores/Firebase/Actions'\nimport { Actions, DataRefs, sortObject, format_Time, get_DataSpot } from '../../../Stores/Firebase/Selectors'\n\nimport { Button, Button_Panel, ContentProp, OperationsPanel } from '../../../Components'\nimport DataDisplay_Pens from './DataDisplay_Pens'\nimport DataDisplay_Pigs from './DataDisplay_Pigs'\n\nimport { ApplicationStyles, Helpers, Metrics, Images, Colors } from '../../../Theme'\n\nclass DataDisplay extends Component {\n  constructor(props){\n    super(props);\n\n    this.state = {\n      currentData:{}\n    }\n  }\n\n  getData() {\n    this.props.setFirebaseError(null)\n\n    if (this.props.firebase && this.props.firebase.localDataStore){\n      const localDataStore = this.props.firebase.localDataStore\n      if (this.props.firebase.currentData && this.props.firebase.currentData.type){\n        const CurrentData = this.props.firebase.currentData;\n        switch(CurrentData.type){\n          case DataRefs.PIGS:\n            //this.props.getWeights(Object.keys(localDataStore.userData.farms)[0])\n            break;\n        }\n      }\n    }\n  }\n\n  checkData(props) {\n    if (!props.firebase || props.firebase.firebaseUser === null){\n      NavigationService.navigate(\"AuthStack\")\n    }\n    //Mabye call check for localdataStore get farms..\n  }\n\n  componentDidMount() {\n    this.checkData(this.props);\n\n    this.getData();\n  }\n\n  componentDidUpdate(prevProps, prevState) {\n    if (this.props !== prevProps){\n      this.checkData(this.props);\n\n      if (this.props.firebase.localDataStore) {\n        const localDataStore = this.props.firebase.localDataStore\n        if (this.props.firebase.currentData && this.props.firebase.currentData.type &&\n            JSON.stringify(this.state.currentData)!==JSON.stringify(this.props.firebase.currentData)) {\n          \n          const CurrentData = this.props.firebase.currentData;\n\n          switch(CurrentData.type){\n            case DataRefs.PENS:\n              if (localDataStore.pens) {\n                var Pens = sortObject(localDataStore.pens)\n                if (Pens[CurrentData.penId]){\n                  if (JSON.stringify(CurrentData.data)!==JSON.stringify(Pens[CurrentData.penId])){\n                    CurrentData.data = Pens[CurrentData.penId]\n                  }\n                  \n                  this.props.setCurrentDataElement(CurrentData)\n                }\n              }\n              this.setState({\n                currentData:CurrentData\n              })\n              break;\n            case DataRefs.PIGS:\n              this.setState({\n                currentData:CurrentData\n              })\n              break;\n            default:\n              this.setState({\n                currentData:CurrentData\n              })\n              break;\n          }\n        }\n      }\n    }\n  }\n\n  render() {\n    const IsLoading = this.props.firebase.firebaseIsLoading\n    const firebaseUser = this.props.firebase.firebaseUser\n    const firebaseErrorMessage = this.props.firebase.firebaseErrorMessage\n\n    const localDataStore = this.props.firebase.localDataStore //Farmid\n    const CurrentData = this.state.currentData\n\n    var DataView = (<View></View>);\n    switch(CurrentData.type){\n      case DataRefs.PENS:\n        DataView = (<DataDisplay_Pens currentData={this.state.currentData}/>)\n        break;\n      case DataRefs.PIGS:\n        DataView = PigData_View(this, CurrentData, localDataStore) //(<DataDisplay_Pigs currentData={this.state.currentData}/>)\n        break;\n    }\n\n    return(\n      <ScrollView style={[Helpers.fullSize, Helpers.fill]}>\n        <View\n          style={[\n            Helpers.mainContainer,\n          ]}\n        >\n          <View style={[Helpers.contentContainer, Helpers.fullSize, Helpers.fill]}>\n              {firebaseErrorMessage ? (\n                <Text style={ApplicationStyles.error}>{firebaseErrorMessage}</Text>\n              ):(<></>)}\n              {DataView}\n            </View>\n          \n          {IsLoading &&\n            <ActivityIndicator style={Helpers.loadingContainer} size='large' />\n          }\n        </View>\n      </ScrollView>\n    )\n  }\n}\n\nfunction onPageSwipe(Control, localDataStore, CurrentData, dir) {\n  const section = localDataStore.pens[CurrentData.penId].section\n  const Pens = sortObject(localDataStore.sections[section].pens)\n\n  if (CurrentData.type === DataRefs.PENS && CurrentData.data && Pens[CurrentData.penId]) {\n    var index = Object.keys(Pens).indexOf(CurrentData.penId)\n\n    switch (dir) {\n      case true: //forward\n        index = index +1\n        break;\n      case false: //backward\n        index = index -1\n        break;\n    }\n\n    if (index < 0) index = Object.keys(Pens).length - 1\n    else if (index >= Object.keys(Pens).length) index = 0\n\n    Control.props.setCurrentData(Object.keys(Pens)[index])\n    NavigationService.replace(\"DataDisplay\")\n  }\n}\n\nfunction onDataPress(sender, element){\n  switch(sender){\n    case 1:\n      switch(element.index){\n        case 0:\n          console.log(\"test\")\n          break;\n      }\n      break;\n  }\n}\n\nconst PigData_View = (Control, CurrentData, localDataStore) => {\n  /*const connectedDevice = useSelector((state) => state.device.connectedDevice)\n  const DeviceData = useSelector((state) => state.device.deviceData)\n  const connectedState = useSelector((state) => state.device.connectionState)*/\n\n  var Pigs;\n  if (localDataStore && localDataStore.pigs) {\n    Pigs = sortObject(localDataStore.pigs)\n    if (Pigs[CurrentData.TagId]){\n      CurrentData.data = Pigs[CurrentData.TagId]\n    }\n  }\n  \n  if (CurrentData.data && !CurrentData.data.datas) CurrentData.data.datas = {}\n\n  if (!CurrentData.data) {\n    return(\n      <View style={[Helpers.fillRowCenter, Helpers.center, Helpers.logoContainer]}>\n        <Image style={Helpers.fullSize} source={Images.Hexa_icon} resizeMode={'contain'} />\n      </View>\n    )\n  }\n  \n  /*\n    <Row size={1.3}>\n          <Col size={1.5} style={{backgroundColor:\"red\"}}>\n            <Row size={2.25} style={{backgroundColor:\"blue\"}}>\n              <View style={{justifyContent:'center', alignItems: 'center'}}/>\n            </Row>\n            <Row size={1.50}>\n              <Col><Text>Messages</Text></Col>\n              <Col><Text>Errors</Text></Col>\n            </Row>\n          </Col>\n          <Col>\n            {connectedState === ConnectionState.CONNECTED ? (\n              <View style={{...styles.circle, backgroundColor:\"green\", justifyContent:'center', alignItems: 'center'}}>\n                <Text>Device is</Text>\n                <Text>connected</Text>\n              </View>\n            ):(\n              <View style={{...styles.circle, backgroundColor:\"red\", justifyContent:'center', alignItems: 'center'}}>\n                <Text>No Device</Text>\n                <Text>connected</Text>\n              </View>\n            )}\n          </Col>\n        </Row>\n  */\n  var App = Platform.OS === \"android\" || Platform.OS === \"ios\" ? true: false\n  return(\n    <View style={[Helpers.contentContainer, Helpers.fullSize, Helpers.fill]}>\n      {App ? (\n        <View style={[ Helpers.fill, Helpers.row, Helpers.fullWidth]}>\n          <View style={[ Helpers.fill, Helpers.column, {backgroundColor:\"red\"}]}>\n            <View style={[ Helpers.fill, Helpers.row, Helpers.fullWidth, {backgroundColor: \"blue\"}]}>\n              <View style={{justifyContent:'center', alignItems: 'center'}}/>\n            </View>\n            <View style={[ Helpers.fill, Helpers.row, Helpers.fullWidth,]}>\n              <Text>Messages</Text>\n              <Text>Errors</Text>\n            </View>\n          </View>\n          <View style={[ Helpers.fill, Helpers.column]}>\n            {connectedState === ConnectionState.CONNECTED ? (\n              <View style={{...styles.circle, backgroundColor:\"green\", justifyContent:'center', alignItems: 'center'}}>\n                <Text>Device is</Text>\n                <Text>connected</Text>\n              </View>\n            ):(\n              <View style={{...styles.circle, backgroundColor:\"red\", justifyContent:'center', alignItems: 'center'}}>\n                <Text>No Device</Text>\n                <Text>connected</Text>\n              </View>\n            )}\n          </View>\n        </View>\n      ):(<></>)}\n      <View style={[Helpers.buttonContainer, Helpers.midWidth] }>\n        <Button Text={CurrentData.TagId} buttonStyle={{backgroundColor: Colors.AgriDarkblue}}\n          onPress={() => {} }/>\n      </View>\n      <View style={[Helpers.fullWidth]}>\n        <ContentProp ingrid={true} texts={[\"Section\", \"Pen\"]} datas={[CurrentData.data.section, CurrentData.data.pen]} />\n        <View style={{height:20}}/>\n        <View style={Helpers.midWidth, Helpers.colCenter}>\n          <Input\n            label={\"Comment:\"}\n            multiline={true}\n            containerStyle={[{borderWidth:1}]}\n            style={[ApplicationStyles.input]}\n            onChangeText={text => {\n              \n            }}\n            value={\n              \"NONE\"\n            }\n          />\n        </View>\n      </View>\n    </View>\n  )\n}\n\nconst styles = StyleSheet.create({\n  circle: {\n    width: 125,\n    height: 125,\n    borderRadius: 125/2,\n    marginTop: Metrics.tiny,\n    marginLeft: Metrics.tiny,\n  },\n});\n\nconst mapStateToProps = (state) => {\n  const { firebase } = state\n  return { firebase }\n};\n\nconst mapDispatchToProps  = (dispatch) => {\n  return {\n    getPens: (farmId) => dispatch(FirebaseActions.actionStarting(Actions.FETCH, DataRefs.PENS, {FarmId: farmId})),\n    getWeights: (farmId, penId) => dispatch(FirebaseActions.actionStarting(Actions.FETCH, DataRefs.WEIGHING, {FarmId: farmId, PenId: penId})),\n    getComments: (farmId, penId) => dispatch(FirebaseActions.actionStarting(Actions.FETCH, DataRefs.COMMENTS, {FarmId: farmId, PenId: penId})),\n    getBatch: (farmId, batchId) => dispatch(FirebaseActions.actionStarting(Actions.FETCH, DataRefs.BATCHS, {FarmId: farmId, BatchId: batchId})),\n\n    setFirebaseError: error => dispatch(FirebaseActions.setFirebaseError(error)),\n    setCurrentData: penId => dispatch(FirebaseActions.setCurrentData({type:DataRefs.PENS, penId: penId})),\n    setCurrentDataElement: element => dispatch(FirebaseActions.setCurrentData(element)),\n  }\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(DataDisplay);\n//export default DataDisplay;","import React, { useEffect, Component } from 'react'\nimport { Platform, Text, View, ActivityIndicator, Image, StyleSheet, ScrollView } from 'react-native'\nimport { Input, Icon } from 'react-native-elements'\nimport { useDispatch, useSelector, connect } from 'react-redux'\nimport { bindActionCreators } from 'redux';\n\nimport NavigationService from '../../../Services/NavigationService'\n\nimport FirebaseActions from '../../../Stores/Firebase/Actions'\nimport { Actions, DataRefs, GetCurve_FromBatch, get_DataSpot, get_DataSpot_FromData, CurvePredict, GetBatchEnd, AccumulateTime } from '../../../Stores/Firebase/Selectors'\n\nimport { LineChart } from 'react-native-chart-kit'\nimport { Button, TitleElement, CustomListItem, ContentProp } from '../../../Components'\nimport Style from './UserPanelStyle'\nimport { ApplicationStyles, Helpers, Metrics, Colors } from '../../../Theme'\nimport CurveElement, { WeightsToGraphData } from './CurveElement'\n\nimport { FlatGrid } from 'react-native-super-grid';\n\nclass DataDisplay extends Component {\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      Prediction: false,\n    }\n    /*const {DataSets, StartDate, EndDate } = this.setData(props)\n    this.state = {\n      DataSets: DataSets,\n      StartDate: StartDate,\n      EndDate: EndDate,\n    }*/\n  }\n\n  /*setData(Props) {\n    const localDataStore = Props.firebase.localDataStore;\n    const CurrentData = Props.firebase.currentData;\n\n    var TempGraph = null //Template Graph\n    var Legends = []     //Name lables\n    var DataSets = []    //Data Points\n\n    var D = new Date()\n    var StartDate = D.getTime()\n    var EndDate = new Date(D.setDate(D.getDate()+(7*8))) //Default timespand is 2 months or 8 weeks (will be changed acording to batch)\n\n    if (localDataStore) {\n      if (localDataStore.batchs && CurrentData.batchId && \n          localDataStore.graphs && CurrentData.curveId) {\n        var TempGraph = localDataStore.graphs[CurrentData.curveId];\n        if (TempGraph) {\n          TempGraph.name = CurrentData.curveId\n        } else {\n          return {TempGraph, Legends, DataSets, StartDate, EndDate }\n        }\n        var Batch = localDataStore.batchs[CurrentData.batchId];\n\n        //Find Startdate\n        StartDate = Batch.time\n        //Find Batch Pens (Legends)\n        Legends = Legends.concat(Object.keys(Batch.pens).reverse().filter(e => (e !== '__jsogObjectId')))\n\n        var DataX = []\n        //#region Find Template X values and EndDate\n        if (!TempGraph.periode){\n          TempGraph.periode = \"Weeks\"\n        }\n        var currentTime = new Date(StartDate)\n        for (var i = 0; i < TempGraph.data.length; i++) {\n          DataX.push(currentTime.getTime())\n          if (i < TempGraph.data.length -1) {\n            currentTime = new Date(AccumulateTime(currentTime, TempGraph.periode))\n          }\n        }\n        EndDate = currentTime.getTime();\n        DataX.push(EndDate)\n        //#endregion\n\n        //Set TempGraph data\n        DataSets.push({\n          data: TempGraph.data,\n          dataX: DataX,\n          color: (opacity = 0.1) => `rgba(0, 0, 0, ${opacity})`, // optional\n        })\n      }\n\n      //Find DataSets from Legends\n      if (localDataStore.weighings) {\n        var TempData = DataSets\n        var TempEndDate = EndDate\n        var NextEnd = new Date(AccumulateTime(new Date(TempEndDate),TempGraph.periode)).getTime()\n        var {DataSets, EndDate} = WeightsToGraphData(Legends, TempGraph.data.length, localDataStore.weighings, StartDate, NextEnd)\n        DataSets = TempData.concat(DataSets)\n        if (TempEndDate > EndDate) {\n          EndDate = TempEndDate\n        }\n\n        Legends = Legends.filter(e => (e !== '__jsogObjectId' && (e === TempGraph.name || DataSets.some(i => i.Pen === e))));\n        Legends.unshift(TempGraph.name)\n      }\n    }\n    return {DataSets, StartDate, EndDate }\n  }*/\n\n  getData() {\n    this.props.setFirebaseError(null)\n\n    const localDataStore = this.props.firebase.localDataStore;\n    const CurrentData = this.props.firebase.currentData;\n\n    if (CurrentData && CurrentData.batchId && localDataStore.batchs[CurrentData.batchId]){\n      const batchData = localDataStore.batchs[CurrentData.batchId]\n      \n      Object.keys(batchData.pens).forEach(Pen => {\n        if (Pen === \"__jsogObjectId\") return null\n        this.props.getPen(Object.keys(localDataStore.userData.farms)[0], Pen)\n        this.props.getWeights(Object.keys(localDataStore.userData.farms)[0], Pen)\n      })\n\n      var TempGraph = \"\"\n      if (CurrentData.curveId) {\n        TempGraph = CurrentData.curveId;\n      }\n      this.props.getCurve(Object.keys(localDataStore.userData.farms)[0], TempGraph)\n    }\n  }\n\n  checkData(props) {\n    if (!props.firebase || props.firebase.firebaseUser === null) {\n      NavigationService.navigate(\"AuthStack\")\n    }\n    if (!props.firebase.currentData || !props.firebase.currentData.batchId){\n      NavigationService.navigate(\"UserBatchs\")\n    }\n    //Mabye call check for localdataStore get farms..\n  }\n\n  componentDidUpdate(prevProps, prevState) {\n    if (this.props !== prevProps) {\n      this.checkData(this.props);\n      /*if (this.props.firebase.localDataStore) {\n        if (JSON.stringify(prevProps.firebase.localDataStore.weighings) !== JSON.stringify(this.props.firebase.localDataStore.weighings) ||\n            JSON.stringify(prevProps.firebase.localDataStore.pens) !== JSON.stringify(this.props.firebase.localDataStore.pens) ||\n            JSON.stringify(prevProps.firebase.localDataStore.graphs) !== JSON.stringify(this.props.firebase.localDataStore.graphs)) {\n          const {TempGraph, Legends, DataSets, StartDate, EndDate } = this.setData(this.props)\n\n          if (JSON.stringify(this.state.DataSets)!==JSON.stringify(DataSets) ||\n\n              JSON.stringify(this.state.StartDate)!==JSON.stringify(StartDate) ||\n              JSON.stringify(this.state.EndDate)!==JSON.stringify(EndDate)\n          ) {\n            this.setState({\n              TempGraph: TempGraph,\n              Legends: Legends,\n              DataSets: DataSets,\n        \n              StartDate: StartDate,\n              EndDate: EndDate,\n            })\n          }\n        }\n      }*/\n    }\n  }\n\n  componentDidMount() {\n    this.checkData(this.props);\n    this.getData();\n  }\n\n  render() {\n    const IsLoading = this.props.firebase.firebaseIsLoading\n    const firebaseUser = this.props.firebase.firebaseUser\n    const firebaseErrorMessage = this.props.firebase.firebaseErrorMessage\n\n    const localDataStore = this.props.firebase.localDataStore //Farmid\n    const CurrentData = this.props.firebase.currentData;\n\n    var Batch = localDataStore.batchs[this.props.firebase.currentData.batchId];\n    var TempGraph = GetCurve_FromBatch(Batch, localDataStore.graphs, CurrentData.curveId)\n    var TargetWeight = TempGraph.data[TempGraph.data.length -1]\n    \n    var BatchEndDate = GetBatchEnd(Batch, TempGraph)\n    var EndDate = BatchEndDate;\n\n    var isVirtual = false;\n    var Animals = 0\n    var ExpectedWeight = 0;\n    var AverageWeight = 0;\n    var AverageGrowth = 0;\n    var isClosed = (Batch.state && Batch.state === \"Closed\")?true:false\n    Object.keys(Batch.pens).reverse().filter(e => (e !== '__jsogObjectId')).forEach(element => {\n      if (localDataStore && localDataStore.pens && localDataStore.pens[element] || isClosed) {\n        var Pen = isClosed?Batch.pens[element]:localDataStore.pens[element]\n        if (Pen.datas && Pen.datas.count || Pen.count) {\n          Animals += isClosed?Pen.count:Pen.datas.count;\n        }\n        \n        if (localDataStore.weighings && localDataStore.weighings[element]) {\n          var dataSpot = get_DataSpot_FromData(localDataStore, element)\n          if (dataSpot != null && ExpectedWeight === 0 ) {\n            ExpectedWeight = parseFloat(dataSpot.ExValue).toFixed(2)\n          }\n\n          var PenWeight = 0\n          var lastDate = 0\n          var AvagPenGrowth = 0\n\n          var PenWeighings = isClosed?Batch.closed.weighings[element]:localDataStore.weighings[element]\n          if (PenWeighings) {\n            Object.keys(PenWeighings).forEach((weight) => {\n              var Weight = PenWeighings[weight]\n              if (Weight.time >= Batch.time && Weight.time <= EndDate) {\n                if (PenWeight !== 0) {\n                  var Growth_Days = (Weight.time - lastDate) / (1000 * 3600 * 24);\n                  var PenGrowth = (Weight.weight - PenWeight) / Growth_Days\n                  if (AvagPenGrowth === 0) AvagPenGrowth = PenGrowth\n                  else AvagPenGrowth = ((AvagPenGrowth + PenGrowth) / 2) \n                }\n                PenWeight = Weight.weight / Weight.count;\n                lastDate = Weight.time\n              }\n            })\n          }\n\n          if (!isClosed) {\n            var now = new Date().getTime()\n            var Predict = CurvePredict(localDataStore, element, Batch, TempGraph)\n            if (Predict != null && Predict.Now && now <= EndDate && new Date(now).getDate() > new Date(lastDate).getDate()){\n              if (lastDate !== 0){\n                var VirData = Predict.Now\n                var Growth_Days = (now - lastDate) / (1000 * 3600 * 24);\n                var PenGrowth = (VirData - PenWeight) / Growth_Days\n                if (AvagPenGrowth === 0) AvagPenGrowth = PenGrowth\n                else AvagPenGrowth = ((AvagPenGrowth + PenGrowth) / 2)\n              }\n              PenWeight = Predict.Now\n              isVirtual = true\n            }\n            if (Predict && Predict.lastWeighing && Predict.days) {\n              if (EndDate == BatchEndDate || EndDate < Predict.lastWeighing.time) { //TODO: End forcast multiple pens ???\n                var date = new Date(Predict.lastWeighing.time)\n                date.setDate(date.getDate() + Predict.days)\n                EndDate = date.getTime()\n                if (Predict.Addition) {\n                  EndDate += Predict.Addition\n                }\n              }\n            }\n          }\n          if (AverageWeight === 0) AverageWeight = PenWeight;\n          else AverageWeight = ((AverageWeight + PenWeight) / 2)\n          if (AverageGrowth === 0) AverageGrowth = AvagPenGrowth;\n          else AverageGrowth = ((AverageGrowth + AvagPenGrowth) / 2)\n        }\n      }\n    });\n    AverageWeight = parseFloat(AverageWeight).toFixed(2)\n    AverageGrowth = parseFloat(AverageGrowth).toFixed(2)\n\n    var Dif_Time = new Date().getTime() - Batch.time\n    var Days = Dif_Time / (1000 * 3600 * 24);\n    Days = Days.toFixed(0)\n    \n    var StartDate = new Date(Batch.time).getDate() + \"/\" + (new Date(Batch.time).getMonth() +1) + \"/\" + new Date(Batch.time).getFullYear()\n    var EndDate = new Date(EndDate).getDate() + \"/\" + (new Date(EndDate).getMonth() +1) + \"/\" + new Date(EndDate).getFullYear()\n\n    var Virtual = String(isVirtual) \n    Virtual = Virtual.charAt(0).toUpperCase() + Virtual.slice(1)\n    return(\n      <ScrollView style={[Helpers.fullSize, Helpers.fill]}>\n      <View\n        style={[\n          Helpers.mainContainer,\n        ]}\n      >\n        <View style={[Helpers.contentContainer, Helpers.fullSize, Helpers.fill]}>\n          {firebaseErrorMessage ? (\n            <Text style={ApplicationStyles.error}>{firebaseErrorMessage}</Text>\n          ):(<></>)}\n          <TitleElement Text={this.props.firebase.currentData.batchId?this.props.firebase.currentData.batchId:\"-NON-\"}/>\n          <View>\n            <View style={[Helpers.fullWidth, {justifyContent:'center'}]}>\n              <FlatGrid\n                itemDimension={120}\n                spacing={10}\n\n                data={[\n                  {title: 'Start', data: StartDate},\n                  {title: 'End Forecast', data: EndDate},\n                  {title: 'Target Weight', data: TargetWeight},\n                  //{title: 'Virtual cal', data: Virtual}\n                ]}\n                renderItem={({ item }) => (\n                  <View style={[Helpers.borderContainer, {textAlign:'center'}]}>\n                    <Text>{item.title}</Text>\n                    <Text>{item.data}</Text>\n                  </View>\n                )}\n                />\n            </View>\n            <View style={[Helpers.fullWidth, {justifyContent:'center'}]}>\n              <FlatGrid\n                itemDimension={120}\n                spacing={10}\n\n                data={[\n                  {title: 'Animals', data: Animals},\n                  {title: 'Day', data: Days},\n                  {title: 'Avarage weight', data: AverageWeight},\n                  {title: 'Average growth', data: AverageGrowth}\n                ]}\n                renderItem={({ item }) => (\n                  <View style={[Helpers.borderContainer, {textAlign:'center'}]}>\n                    <Text>{item.title}</Text>\n                    <Text>{item.data}</Text>\n                  </View>\n                )}\n                />\n            </View>\n            <Button Text=\"Show Predict\"\n                onPress={() => {\n                  this.setState({\n                    Prediction: !this.state.Prediction\n                  })\n                } }/>\n          </View>\n          <CurveElement Predict={this.state.Prediction}/>\n        </View>\n        {IsLoading &&\n          <ActivityIndicator style={Helpers.loadingContainer} size='large' />\n        }\n      </View>\n      </ScrollView>\n    )\n  }\n}\n\nconst mapStateToProps = (state) => {\n  const { firebase } = state\n  return { firebase }\n};\n\nconst mapDispatchToProps  = (dispatch) => {\n  return {\n    setFirebaseError: error => dispatch(FirebaseActions.setFirebaseError(error)),\n    \n    getPen: (farmId, penId) => dispatch(FirebaseActions.actionStarting(Actions.FETCH, DataRefs.PENS, {FarmId: farmId, PenId: penId})),\n    getWeights: (farmid, penId) => dispatch(FirebaseActions.actionStarting(Actions.FETCH, DataRefs.WEIGHING, {FarmId: farmid, PenId: penId, limitTo: 99})),\n\n    getBatch: (farmId, batchId) => dispatch(FirebaseActions.actionStarting(Actions.FETCH, DataRefs.BATCHS, {FarmId: farmId})),\n    getCurve: (farmid, curveid) => dispatch(FirebaseActions.actionStarting(Actions.FETCH, DataRefs.GRAPH, {FarmId: farmid, GraphId: curveid})),\n    setCurve: (farmid, curve) => dispatch(FirebaseActions.actionStarting(Actions.CREATE, DataRefs.GRAPH, {FarmId: farmid, Graph: curve}))\n  }\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(DataDisplay);\n//export default DataDisplay;","import React from 'react'\nimport { createAppContainer } from 'react-navigation'\nimport { createStackNavigator } from 'react-navigation-stack'\nimport { TouchableOpacity, View, Text } from 'react-native'\nimport { Icon } from 'react-native-elements'\n\nimport NavigationService from '../Services/NavigationService'\n\nimport UserFrontScreen from '../Containers/Cloud/UserPanel/FrontScreen'\nimport UserDashBoardScreen from '../Containers/Cloud/UserPanel/Dashboard'\nimport UserPigsScreen from '../Containers/Cloud/UserPanel/Pigs'\nimport UserPensScreen from '../Containers/Cloud/UserPanel/Pens'\nimport UserBatchsScreen from '../Containers/Cloud/UserPanel/Batchs'\nimport UserCurvesScreen from '../Containers/Cloud/UserPanel/GrowthCurves'\n\nimport UserOperationsScreen from '../Containers/Cloud/UserPanel/Operations'\nimport Weighing from '../Containers/Cloud/UserPanel/Weighing'\n\nimport UserDataEditor from '../Containers/Cloud/UserPanel/DataEditor'\nimport UserDataDisplay from '../Containers/Cloud/UserPanel/DataDisplay'\nimport UserDataPlotter from '../Containers/Cloud/UserPanel/DataPlotter'\n\nimport { ApplicationStyles } from '../Theme'\n\n/**\n * The root screen contains the application's navigation.\n *\n * @see https://reactnavigation.org/docs/en/hello-react-navigation.html#creating-a-stack-navigator\n */\nconst StackNavigator = createStackNavigator(\n  {\n    // Create the application routes here (the key is the route name, the value is the target screen)\n    // See https://reactnavigation.org/docs/en/stack-navigator.html#routeconfigs\n    \n    UserFront: {\n      screen: UserFrontScreen,\n      navigationOptions: () => ({\n        title: 'User Data',\n        headerLeft: (props) => (\n          <View style={{padding:6, paddingLeft: 15}}>\n            <Icon type='ionicon' name=\"md-arrow-back\" size={25} color=\"black\" onPress={() => {\n              console.log(props, \"navigation\")\n              if (props.label === \"System Board\") {\n                NavigationService.nacigationPop()\n              }\n              else NavigationService.navigate('MainStack')\n            }}/>\n          </View>\n        ),\n      }),\n      path: 'user_front',\n    },\n\n    UserDashBoard: {\n      screen: UserDashBoardScreen,\n      navigationOptions: () => ({\n        title: 'Dash Board',\n      }),\n      path: 'user_dashboard',\n    },\n\n    UserPigs: {\n      screen: UserPigsScreen,\n      navigationOptions: () => ({\n        title: 'Pigs',\n      }),\n      path: 'user_pigs',\n    },\n\n    UserPens: {\n      screen: UserPensScreen,\n      navigationOptions: () => ({\n        title: 'Pens',\n      }),\n      path: 'user_pens',\n    },\n\n    UserBatchs: {\n      screen: UserBatchsScreen,\n      navigationOptions: () => ({\n        title: 'Batchs',\n      }),\n      path: 'user_batchs',\n    },\n\n    UserCurves: {\n      screen: UserCurvesScreen,\n      navigationOptions: () => ({\n        title: 'Curves',\n      }),\n      path: 'user_curves',\n    },\n\n    /**************** Operations */\n    UserOperations: {\n      screen: UserOperationsScreen,\n      navigationOptions: () => ({\n        title: 'Operations',\n      }),\n      path: 'user_operations',\n    },\n\n    WeighingOperations: {\n      screen: Weighing,\n      navigationOptions: () => ({\n        title: 'Operations',\n      }),\n      path: 'user_operations',\n    },\n\n    /**************** Data Displays */\n    DataEditor: {\n      screen: UserDataEditor,\n      navigationOptions: () => ({\n        title: 'User Data',\n      }),\n      path: 'user_dataedtior',\n    },\n\n    DataDisplay: {\n      screen: UserDataDisplay,\n      navigationOptions: () => ({\n        title: 'User Data',\n      }),\n      path: 'user_datadisplay',\n    },\n\n    DataPlotter: {\n      screen: UserDataPlotter,\n      navigationOptions: () => ({\n        title: 'User Data',\n      }),\n      path: 'user_dataplotter',\n    },\n  },\n  {\n    initialRouteName: 'UserFront', \n\n    // See https://reactnavigation.org/docs/en/stack-navigator.html#stacknavigatorconfig\n    headerMode: 'float',\n    defaultNavigationOptions:{\n      headerTitleAlign: 'center',\n      headerTitleStyle:{...ApplicationStyles.navigationHeader},\n      headerRight: () => (<View style={{padding:6}}></View>),\n    },\n  }\n)\n\nexport default StackNavigator\n","import { StyleSheet } from 'react-native'\nimport { Helpers, Metrics, Fonts, Colors } from '../../../Theme'\n\nexport default StyleSheet.create({\n\n})\n","import React, { useEffect, Component } from 'react'\nimport { Platform, Text, View, ActivityIndicator } from 'react-native'\nimport { useDispatch, useSelector, connect } from 'react-redux'\nimport { bindActionCreators } from 'redux';\n\nimport NavigationService from '../../../Services/NavigationService'\n\nimport FirebaseActions from '../../../Stores/Firebase/Actions'\nimport { Actions, DataRefs } from '../../../Stores/Firebase/Selectors'\n\nimport { Button, Button_Panel } from '../../../Components'\nimport Style from './AdminPanelStyle'\nimport { ApplicationStyles, Helpers, Metrics, Images } from '../../../Theme'\n\nclass FrontScreen extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      ISLOADPAGE: true,\n    }\n  }\n\n  getData(){\n    this.props.setFirebaseError(null)\n  }\n\n  checkData(props) {\n    if (!props.firebase || props.firebase.firebaseUser === null){\n      NavigationService.navigate(\"AuthStack\")\n    }\n  }\n\n  componentDidMount(){\n    this.checkData(this.props);\n    \n    this.props.clearDataMem()\n    this.getData();\n  }\n\n  componentDidUpdate(prevProps, prevState) {\n    if (this.props !== prevProps){\n      this.checkData(this.props);\n    }\n  }\n\n  render() {\n    const IsLoading = this.props.firebase.firebaseIsLoading\n    const firebaseUser = this.props.firebase.firebaseUser\n    \n    return(\n      <View\n      style={[\n        Helpers.mainContainer,\n      ]}\n      >\n        <View style={[Helpers.contentContainer, Helpers.fullSize, Helpers.fillColMain]}>\n          {firebaseUser?(\n          <View style={ Helpers.textContainer }>\n            <Text style={ApplicationStyles.text}>Welcome: {firebaseUser.displayName ? firebaseUser.displayName : firebaseUser.email}</Text>\n          </View>):(<></>)}\n\n          <Button_Panel \n            Texts={[\"User Board\", \"Systems\"]}\n            Images={[Images.DashBoard, Images.System,]}\n            onPress={(ele) => {\n              switch(ele.text){\n                case \"User Board\":\n                  NavigationService.navigate(\"UserBoard\")\n                  break;\n                case \"Systems\":\n                  NavigationService.navigate(\"SystemBoard\")\n                  break;\n              }\n              ele.text\n            }}\n          />\n          \n          <View style={[Helpers.buttonContainer, Helpers.midWidth] }>\n            <Button Text=\"LogOut\"\n              onPress={() => {\n                this.props.logOut()\n              }}/>\n          </View>\n        </View>\n        {IsLoading &&\n          <ActivityIndicator style={Helpers.loadingContainer} size='large' />\n        }\n      </View>\n    )\n  }\n}\n\nconst mapStateToProps = (state) => {\n  const { firebase } = state\n  return { firebase }\n};\n\nconst mapDispatchToProps  = (dispatch) => {\n  return {\n\n    clearDataMem: () => dispatch(FirebaseActions.actionStarting(Actions.CLEAR, DataRefs.USERSDATA)),\n\n    setFirebaseError: error => dispatch(FirebaseActions.setFirebaseError(error)),\n    logOut: () => dispatch(FirebaseActions.actionStarting(Actions.SIGN, DataRefs.USERSDATA)),\n  }\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(FrontScreen);\n//export default FrontScreen;\n","import React, { useEffect, useState, Component } from 'react'\nimport { Platform, Text, View, ActivityIndicator, Image, StyleSheet, ScrollView, SafeAreaView, FlatList } from 'react-native'\nimport { ListItem, Input } from 'react-native-elements'\nimport { useDispatch, useSelector, connect } from 'react-redux'\nimport { bindActionCreators } from 'redux';\n\nimport NavigationService from '../../../Services/NavigationService'\n\nimport FirebaseActions from '../../../Stores/Firebase/Actions'\nimport { Actions, DataRefs, sortObject } from '../../../Stores/Firebase/Selectors'\n\nimport { Button, OperationsPanel, CustomListItem, ContentProp } from '../../../Components'\nimport Style from '../../../Containers/Cloud/CloudScreenStyle'\nimport { ApplicationStyles, Helpers, Metrics } from '../../../Theme'\n\nimport { FlatGrid, SectionGrid } from 'react-native-super-grid';\n\nclass UserListBoard extends Component {\n  constructor(props){\n    super(props);\n\n    const {UserList} = this.setData(props)\n    this.state = {\n      UserList: UserList,\n      User: \"\"\n    }\n  }\n\n  getData() {\n    this.props.setFirebaseError(null)\n\n    const localDataStore = this.props.firebase.localDataStore\n\n    this.props.getUsers()\n  }\n\n  setData(Props) {\n    const localDataStore = Props.firebase.localDataStore\n\n    var UserList = null\n    if (localDataStore && localDataStore.users) {\n      UserList = sortObject(localDataStore.users)\n    }\n    \n    return {UserList}\n  }\n\n  checkData(props) {\n    if (!props.firebase || props.firebase.firebaseUser === null){\n      NavigationService.navigate(\"AuthStack\")\n    }\n    //Mabye call check for localdataStore get farms..\n  }\n\n  componentDidMount() {\n    this.checkData(this.props);\n\n    this.getData();\n  }\n\n  componentDidUpdate(prevProps, prevState) {\n    if (this.props !== prevProps){\n      this.checkData(this.props);\n\n      if (this.props.firebase) {\n        if (this.props.firebase.localDataStore) {\n          if (this.props.firebase.localDataStore.users && JSON.stringify(this.state.UserList)!==JSON.stringify(sortObject(this.props.firebase.localDataStore.users))) {\n            const {UserList} = this.setData(this.props)\n            this.setState({\n              UserList: UserList,\n            })\n          }\n        }\n      }\n    }\n  }\n\n  render() {\n    const IsLoading = this.props.firebase.firebaseIsLoading\n    const firebaseUser = this.props.firebase.firebaseUser\n    const firebaseErrorMessage = this.props.firebase.firebaseErrorMessage\n\n    const localDataStore = this.props.firebase.localDataStore //Farmid\n    return(\n      <View\n        style={[\n          Helpers.mainContainer,\n        ]}\n      >\n        <View style={[Helpers.contentContainer, Helpers.fullWidth, Helpers.fill]}>\n          {firebaseErrorMessage ? (\n            <Text style={ApplicationStyles.error}>{firebaseErrorMessage}</Text>\n          ):(<></>)}\n          {firebaseUser?(\n            <View style={[Helpers.fill, Helpers.buttonContainer, Helpers.fullWidth, Metrics.bottomMargin, Helpers.column]}>\n              {this.state.UserList ? (\n                <View style={[Helpers.fill, Helpers.borderContainer, Metrics.smallHorizontalPadding, Metrics.smallVerticalPadding, {maxWidth:800, marginTop:10}]}>\n                  <SafeAreaView style={styles.container}>\n                    <FlatList\n                      data={Object.keys(this.state.UserList).filter(e => e !== '__jsogObjectId')}\n                      renderItem={({item, index})=>{\n                        var User = this.state.UserList[item];\n                        return(\n                          <View style={[Helpers.fill, Helpers.rowCenter, Helpers.fullWidth, {height:35}]}>\n                            <CustomListItem Title={User.name} itemStyle={[{minWidth: 190, height:35,}]} onPress={() => {\n                                //this.props.setData(item, Section, Pen)\n                                //NavigationService.navigate(\"DataDisplay\")\n                              }}/>\n\n                            <CustomListItem itemStyle={[{width:70, height:35, justifyContent:\"center\"}]} Title={\"\"} onPress={() => {\n                                this.setState({\n                                  User: User.name\n                                })\n                              }}/>\n\n                            <CustomListItem itemStyle={[{width:90, height:35}]} Title={User.state} onPress={() => {\n                                this.setState({\n                                  User: User.name\n                                })\n                              }}/>\n                          </View>\n                        )\n                      }}\n                      keyExtractor={(item, index) => index.toString()}\n                    />\n                  </SafeAreaView>\n                </View>\n              ):(<></>)} \n              <Input\n                label={\"User-tag:\"}\n                containerStyle={[{borderWidth:1, marginTop:10}]}\n                style={[ApplicationStyles.input, ]}\n                onChangeText={text => {\n                  this.setState({\n                    User: text\n                  })\n                }}\n                value={\n                  this.state.User\n                }\n              />\n            </View>\n          ):(<></>)}\n        </View>\n        {IsLoading &&\n          <ActivityIndicator style={Helpers.loadingContainer} size='large' />\n        }\n      </View>\n    )\n  }\n}\n\nconst styles = StyleSheet.create({\n  circle: {\n    width: 125,\n    height: 125,\n    borderRadius: 125/2,\n    marginTop: Metrics.tiny,\n    marginLeft: Metrics.tiny,\n  },\n});\n\nconst mapStateToProps = (state) => {\n  const { firebase } = state\n  return { firebase }\n};\n\nconst mapDispatchToProps  = (dispatch) => {\n  return {\n    getUsers: () => dispatch(FirebaseActions.actionStarting(Actions.FETCH, DataRefs.USERS, {UserId:\"\"})),\n    \n    setFirebaseError: error => dispatch(FirebaseActions.setFirebaseError(error)),\n  }\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(UserListBoard);","import React, { useEffect, useState, Component } from 'react'\nimport { Platform, Text, View, ActivityIndicator, Image, StyleSheet, ScrollView, SafeAreaView, FlatList } from 'react-native'\nimport { ListItem, Input } from 'react-native-elements'\nimport { useDispatch, useSelector, connect } from 'react-redux'\nimport { bindActionCreators } from 'redux';\n\nimport NavigationService from '../../../Services/NavigationService'\n\nimport FirebaseActions from '../../../Stores/Firebase/Actions'\nimport { Actions, DataRefs, sortObject } from '../../../Stores/Firebase/Selectors'\n\nimport { Button, OperationsPanel, CustomListItem, ContentProp } from '../../../Components'\nimport Style from '../../../Containers/Cloud/CloudScreenStyle'\nimport { ApplicationStyles, Helpers, Metrics } from '../../../Theme'\n\nimport { FlatGrid, SectionGrid } from 'react-native-super-grid';\n\nclass SystemListBoard extends Component {\n  constructor(props){\n    super(props);\n\n    const {FarmList} = this.setData(props)\n    this.state = {\n      FarmList: FarmList,\n      Farm: {name: \"\"}\n    }\n  }\n\n  getData() {\n    this.props.setFirebaseError(null)\n\n    const localDataStore = this.props.firebase.localDataStore\n\n    this.props.getFarms()\n  }\n\n  setData(Props) {\n    const localDataStore = Props.firebase.localDataStore\n\n    var FarmList = null\n    if (localDataStore && localDataStore.farms) {\n      FarmList = sortObject(localDataStore.farms)\n    }\n    return {FarmList}\n  }\n\n  checkData(props) {\n    if (!props.firebase || props.firebase.firebaseUser === null){\n      NavigationService.navigate(\"AuthStack\")\n    }\n    //Mabye call check for localdataStore get farms..\n  }\n\n  componentDidMount() {\n    this.checkData(this.props);\n\n    this.getData();\n  }\n\n  componentDidUpdate(prevProps, prevState) {\n    if (this.props !== prevProps){\n      this.checkData(this.props);\n\n      if (this.props.firebase) {\n        if (this.props.firebase.localDataStore) {\n          if (this.props.firebase.localDataStore.farms && JSON.stringify(this.state.FarmList)!==JSON.stringify(sortObject(this.props.firebase.localDataStore.farms))) {\n            const {FarmList} = this.setData(this.props)\n            this.setState({\n              FarmList: FarmList,\n            })\n          }\n        }\n      }\n    }\n  }\n\n  render() {\n    const IsLoading = this.props.firebase.firebaseIsLoading\n    const firebaseUser = this.props.firebase.firebaseUser\n    const firebaseErrorMessage = this.props.firebase.firebaseErrorMessage\n\n    const localDataStore = this.props.firebase.localDataStore //Farmid\n    return(\n      <View\n        style={[\n          Helpers.mainContainer,\n        ]}\n      >\n        <View style={[Helpers.contentContainer, Helpers.fullWidth, Helpers.fill]}>\n          {firebaseErrorMessage ? (\n            <Text style={ApplicationStyles.error}>{firebaseErrorMessage}</Text>\n          ):(<></>)}\n          {firebaseUser?(\n            <View style={[Helpers.fill, Helpers.buttonContainer, Helpers.fullWidth, Metrics.bottomMargin, Helpers.column]}>\n              {this.state.FarmList ? (\n                <View style={[Helpers.fill, Helpers.borderContainer, Metrics.smallHorizontalPadding, Metrics.smallVerticalPadding, {maxWidth:800, marginTop:10}]}>\n                  <SafeAreaView style={styles.container}>\n                    <FlatList\n                      data={Object.keys(this.state.FarmList).filter(e => e !== '__jsogObjectId')}\n                      renderItem={({item, index})=>{\n                        var Farm = this.state.FarmList[item];\n                        Farm.id = item\n                        return(\n                          <View style={[Helpers.fill, Helpers.rowCenter, Helpers.fullWidth, {height:35}]}>\n                            <CustomListItem Title={Farm.name} itemStyle={[{minWidth: 100, height:35,}]} onPress={() => {\n                                //this.props.setData(item, Section, Pen)\n                                //NavigationService.navigate(\"DataDisplay\")\n                              }}/>\n\n                            <CustomListItem itemStyle={[{minWidth:150, height:35, justifyContent:\"center\"}]} Title={Farm.manager} onPress={() => {\n                                this.setState({\n                                  Farm: Farm\n                                })\n                              }}/>\n\n                            <CustomListItem itemStyle={[{minWidth:150, height:35}]} Title={Farm.email} onPress={() => {\n                                this.setState({\n                                  Farm: Farm\n                                })\n                              }}/>\n                          </View>\n                        )\n                      }}\n                      keyExtractor={(item, index) => index.toString()}\n                    />\n                  </SafeAreaView>\n                </View>\n              ):(<></>)} \n              <View style={[Helpers.rowCenter, Helpers.fullWidth, {height:120}]}>\n                <Input\n                  label={\"Farm-tag:\"}\n                  containerStyle={[Helpers.halvWidth,{borderWidth:1, marginTop:10}]}\n                  style={[ApplicationStyles.input, ]}\n                  editable={false}\n                  onChangeText={text => {\n                    var Farm = this.state.Farm;\n                    Farm.name = text;\n                    this.setState({\n                      Farm: Farm\n                    })\n                  }}\n                  value={\n                    this.state.Farm.name\n                  }\n                />\n                <Button Text=\"Consys\"\n                  boxStyle={[{marginLeft:10}]}\n                  onPress={() => {\n                    //this.props.logOut()\n                  }}/>\n                <Button Text=\"Farm Panel\"\n                  boxStyle={[{marginLeft:10}]}\n                  onPress={() => {\n                    if (this.state.Farm.id !== \"\") {\n                      this.props.setUserFarm(this.state.Farm.id)\n                      NavigationService.navigate(\"UserPanel\")\n                    }\n                  }}/>\n              </View>\n            </View>\n          ):(<></>)}\n        </View>\n        {IsLoading &&\n          <ActivityIndicator style={Helpers.loadingContainer} size='large' />\n        }\n      </View>\n    )\n  }\n}\n\nconst styles = StyleSheet.create({\n  circle: {\n    width: 125,\n    height: 125,\n    borderRadius: 125/2,\n    marginTop: Metrics.tiny,\n    marginLeft: Metrics.tiny,\n  },\n});\n\nconst mapStateToProps = (state) => {\n  const { firebase } = state\n  return { firebase }\n};\n\nconst mapDispatchToProps  = (dispatch) => {\n  return {\n    getFarms: () => dispatch(FirebaseActions.actionStarting(Actions.FETCH, DataRefs.FARMS, {FarmId:\"\"})),\n\n    setUserFarm: (FarmId) => dispatch(FirebaseActions.actionStarting(Actions.UPDATE, DataRefs.USERS, {FarmId: FarmId})),\n    \n    setFirebaseError: error => dispatch(FirebaseActions.setFirebaseError(error)),\n  }\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(SystemListBoard);","import React from 'react'\nimport { createAppContainer } from 'react-navigation'\nimport { createStackNavigator } from 'react-navigation-stack'\nimport { TouchableOpacity, View, Text } from 'react-native'\nimport { Icon } from 'react-native-elements'\n\nimport NavigationService from '../Services/NavigationService'\n\nimport AdminFrontScreen from '../Containers/Cloud/AdminPanel/FrontScreen'\n\nimport AdminUserBoard from '../Containers/Cloud/AdminPanel/UserBoard'\nimport AdminSystemBoard from '../Containers/Cloud/AdminPanel/SystemBoard'\n\nimport UserPanelNavigation from '../Navigators/UserPanelNavigator'\n\nimport { ApplicationStyles } from '../Theme'\n\n/**\n * The root screen contains the application's navigation.\n *\n * @see https://reactnavigation.org/docs/en/hello-react-navigation.html#creating-a-stack-navigator\n */\nconst StackNavigator = createStackNavigator(\n  {\n    // Create the application routes here (the key is the route name, the value is the target screen)\n    // See https://reactnavigation.org/docs/en/stack-navigator.html#routeconfigs\n    \n    AdminFront: {\n      screen: AdminFrontScreen,\n      navigationOptions: () => ({\n        title: 'Admin Panel',\n        headerLeft: () => (\n          <View style={{padding:6, paddingLeft: 15}}>\n            <Icon type='ionicon' name=\"md-arrow-back\" size={25} color=\"black\" onPress={() => NavigationService.navigate('MainStack')}/>\n          </View>\n        ),\n      }),\n      path: 'admin_front',\n    },\n\n    UserBoard: {\n      screen: AdminUserBoard,\n      navigationOptions: () => ({\n        title: 'User Board',\n      }),\n      path: 'admin_user_board',\n    },\n    SystemBoard: {\n      screen: AdminSystemBoard,\n      navigationOptions: () => ({\n        title: 'System Board',\n      }),\n      path: 'admin_system_board',\n    },\n\n    UserPanel: {\n      screen: UserPanelNavigation,\n      navigationOptions: () => ({\n        title: 'Admin Panel',\n        headerLeft: () => (\n          <View style={{padding:6, paddingLeft: 15}}>\n            <Icon type='ionicon' name=\"md-arrow-back\" size={25} color=\"black\" onPress={() => NavigationService.navigate('SystemBoard')}/>\n          </View>\n        ),\n      }),\n      path: 'admin_front',\n    },\n  },\n  {\n    initialRouteName: 'AdminFront', \n\n    // See https://reactnavigation.org/docs/en/stack-navigator.html#stacknavigatorconfig\n    headerMode: 'float',\n    defaultNavigationOptions:{\n      headerTitleAlign: 'center',\n      headerTitleStyle:{...ApplicationStyles.navigationHeader},\n      headerRight: () => (<View style={{padding:6}}></View>),\n    },\n  }\n)\n\nexport default StackNavigator\n","import React from 'react'\nimport { createAppContainer } from 'react-navigation'\nimport { createStackNavigator } from 'react-navigation-stack'\nimport { TouchableOpacity, Icon, View, Text } from 'react-native'\n\nimport SplashScreen from '../Containers/SplashScreen/SplashScreen'\nimport DeepLinkingScreen from '../Containers/DeepLinking/DeepLinkingScreen'\n\nimport FrontNavigation from '../Navigators/FrontNavigator'\nimport AuthNavigation from '../Navigators/AuthNavigator'\n\nimport UserPanelNavigation from '../Navigators/UserPanelNavigator'\nimport AdminPanelNavigator from '../Navigators/AdminPanelNavigator'\nimport { ApplicationStyles } from '../Theme'\n\n/**\n * The root screen contains the application's navigation.\n *\n * @see https://reactnavigation.org/docs/en/hello-react-navigation.html#creating-a-stack-navigator\n */\nconst StackNavigator = createStackNavigator(\n  {\n    // Create the application routes here (the key is the route name, the value is the target screen)\n    // See https://reactnavigation.org/docs/en/stack-navigator.html#routeconfigs\n    SplashScreen: {\n      screen: SplashScreen,\n      navigationOptions: () => ({\n        headerShown: false,\n      }),\n    },\n\n    MainStack: FrontNavigation, // Called By StartupSaga.js\n    \n    AuthStack: AuthNavigation, // All user pages\n\n    UserPanel: UserPanelNavigation, // 'Free' Users Pages... \n\n    AdminPanel: AdminPanelNavigator, // Admin Pages\n\n    DeepLinkingScreen: {\n      screen: DeepLinkingScreen,\n      path: 'deeplink',\n    },\n  },\n  {\n    // By default the application will show the splash screen\n    initialRouteName: 'SplashScreen',\n    // See https://reactnavigation.org/docs/en/stack-navigator.html#stacknavigatorconfig\n    headerMode: 'none',\n    defaultNavigationOptions:{\n      headerTitleAlign: 'center',\n      headerRight: () => (<View style={{padding:6}}></View>),\n    },\n  }\n)\n\nexport default createAppContainer(StackNavigator)\n","import React, { useEffect } from 'react'\nimport { View } from 'react-native'\nimport { useDispatch } from 'react-redux'\n\nimport NavigationService from '../../Services/NavigationService'\nimport AppNavigator from '../../Navigators/AppNavigator'\n\nimport StartupActions from '../../Stores/Startup/Actions'\nimport { Helpers } from '../../Theme'\n\nconst RootScreen = () => {\n  // Deep linking prefix\n  const prefix = 'agrisysapp://';\n  \n  const dispatch = useDispatch()\n\n  useEffect(() => {\n    dispatch(StartupActions.startup())\n  }, [])\n\n  return (\n    <View style={Helpers.fill}>\n      <AppNavigator\n        // Initialize the NavigationService (see https://reactnavigation.org/docs/en/navigating-without-navigation-prop.html)\n        ref={(navigatorRef) => {\n          NavigationService.setTopLevelNavigator(navigatorRef)\n        }}\n        uriPrefix={prefix}\n      />\n    </View>\n  )\n}\n\nexport default RootScreen\n","import { combineReducers } from 'redux'\nimport configureStore from './CreateStore'\nimport rootSaga from '../Sagas'\n\nimport { reducer as ExampleReducer } from './Example/Reducers'\nimport { reducer as FirebaseReducer } from './Firebase/Reducers'\n\nexport default () => {\n  const rootReducer = combineReducers({\n    /**\n     * Register your reducers here.\n     * @see https://redux.js.org/api-reference/combinereducers\n     */\n    example: ExampleReducer,\n    firebase: FirebaseReducer,\n  })\n\n  return configureStore(rootReducer, rootSaga)\n}\n","import React from 'react'\nimport { Provider } from 'react-redux'\nimport { PersistGate } from 'redux-persist/lib/integration/react'\n\nimport createStore from './Src/Stores'\nimport RootScreen from './Src/Containers/Root/RootScreen'\n\nconst { store, persistor } = createStore()\n\nconst App = () => (\n  <Provider store={store}>\n    {/**\n     * PersistGate delays the rendering of the app's UI until the persisted state has been retrieved\n     * and saved to redux.\n     * The `loading` prop can be `null` or any react instance to show during loading (e.g. a splash screen),\n     * for example `loading={<SplashScreen />}`.\n     * @see https://github.com/rt2zz/redux-persist/blob/master/docs/PersistGate.md\n     */}\n    <PersistGate loading={null} persistor={persistor}>\n      <RootScreen />\n    </PersistGate>\n  </Provider>\n);\n\nexport default App\n","module.exports = __webpack_public_path__ + \"static/media/Home.1fff8434.png\";","module.exports = __webpack_public_path__ + \"static/media/Dashboard.26766c7a.png\";","module.exports = __webpack_public_path__ + \"static/media/System.7e4af00c.png\";","module.exports = __webpack_public_path__ + \"static/media/Feed-Curves.da739887.png\";","module.exports = __webpack_public_path__ + \"static/media/User.d73be9fd.png\";","module.exports = __webpack_public_path__ + \"static/media/Sow.beff0aff.png\";","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAFMAAABRCAYAAACuepoLAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAq9JREFUeNrsnT1Lw1AUhk9FRFEhDhV0qgouLlrcjYOLi3XpasEfYjo62X/Quorg5iS0P0D8GBzVOAkWP6CVigg1197E0Naa3ER7b/K+cLig3tP4eJJz8g5XIig0JRS8Zr3Pn1+JUgE0JYgjK1JRqEz2y9DE1IJwgrdalRr1BxoZm6Th8aTvfVwvVqxacaE8zLXtQ+EEN+cHdH12QHPpLM0uZX3tbdSrdHmyS7VH0wY6w1caQNvwp5GxJC2v57+q2pJmRc7+HmAKaHBolGbTTkVvAGYIFdoBucfPp7p1rH8efwr280iJiu3ytUUr9iSY5+yZrqIqTAayzB+sIgOqHtJgq7vGD1IRpsaHUY3PTptWmCJjC5+/Ao8/7hlONZgZ/ow0OQylqkIGubv5Cl/3ATI4zFQUX+T7BRMCTMCM5mumqhf+fH8lvLdRqzqraJ7aU++pscznuyBvPk3XjEh/lKcpWZSVr8x+mMNufby/2p6m+rc58xRFZZvD0/O6b3PY/Zg5Pd5BA0I3B0yMRlsU3Ms0ALOlXAh5dwCzpZIVdwEh5uP4x+gGk1lwlYAQjDjCRAMCTMAETAgwARMwoZ5zphJiNpqonri73lrF8thu/U+C0x5Dpz0v2fWYKlcmGhC6OQSYMo1GMjnthkSsfr2WRFsD0lFfnlh5rswSyeO0y5BHyKiO4mgURh7POdCA0M0BEzAhwARMwIQAEzABEzAhwARMwIQ6FRen3fgPmHDaxVh5rswSwWnvlsOX4LQHzIEGhG4OmIAJASZgAiYEmIAJmPGEafJVBxZHi21sPCvH30Fv8W7uqMj3F/1uZCe6PtP3vxvQYg7TcO33dLe6LTh2ACk7Gpe5RxkeFcELKYd0m/UrT4q+zxMtBODgHOLcjHnc8oLyrMQvUDWKr3xX46cAAwCxt3YCfnN46AAAAABJRU5ErkJggg==\"","module.exports = __webpack_public_path__ + \"static/media/Area_Colour.f4a4e098.png\";","module.exports = __webpack_public_path__ + \"static/media/AutoPig.ec16c410.png\";","module.exports = __webpack_public_path__ + \"static/media/Feed-Components.224ca1b3.png\";","module.exports = __webpack_public_path__ + \"static/media/Hexagon-globe.fce26805.png\";","module.exports = __webpack_public_path__ + \"static/media/Hexa-icon.5129d536.png\";","module.exports = __webpack_public_path__ + \"static/media/Logo.9b051259.png\";","module.exports = __webpack_public_path__ + \"static/media/TOM.c88886f3.png\";"],"sourceRoot":""}