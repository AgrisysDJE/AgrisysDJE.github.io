(this["webpackJsonp"] = this["webpackJsonp"] || []).push([[0],{

/***/ 472:
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";

// NAMESPACE OBJECT: C:/Users/daniel/Documents/GitHub/AgrisysApp-Web/App/Src/Sagas/Device/BLE/BLESaga.js
var BLESaga_namespaceObject = {};
__webpack_require__.r(BLESaga_namespaceObject);
__webpack_require__.d(BLESaga_namespaceObject, "bleStartup", function() { return bleStartup; });
__webpack_require__.d(BLESaga_namespaceObject, "connectBle", function() { return connectBle; });
__webpack_require__.d(BLESaga_namespaceObject, "readBleDeviceData", function() { return readBleDeviceData; });
__webpack_require__.d(BLESaga_namespaceObject, "startBleScan", function() { return startBleScan; });
__webpack_require__.d(BLESaga_namespaceObject, "stopBleScan", function() { return stopBleScan; });

// NAMESPACE OBJECT: C:/Users/daniel/Documents/GitHub/AgrisysApp-Web/App/Src/Sagas/Device/BlueTooth/BlueToothSaga.js
var BlueToothSaga_namespaceObject = {};
__webpack_require__.r(BlueToothSaga_namespaceObject);
__webpack_require__.d(BlueToothSaga_namespaceObject, "bluetoothStartup", function() { return bluetoothStartup; });
__webpack_require__.d(BlueToothSaga_namespaceObject, "readBlueDeviceData", function() { return readBlueDeviceData; });
__webpack_require__.d(BlueToothSaga_namespaceObject, "startBluetoothScan", function() { return startBluetoothScan; });
__webpack_require__.d(BlueToothSaga_namespaceObject, "stopBluetoothScan", function() { return stopBluetoothScan; });
__webpack_require__.d(BlueToothSaga_namespaceObject, "bluetoothScanAble", function() { return bluetoothScanAble; });

// EXTERNAL MODULE: C:/Users/daniel/Documents/GitHub/AgrisysApp-Web/App/node_modules/react/index.js
var react = __webpack_require__(0);
var react_default = /*#__PURE__*/__webpack_require__.n(react);

// EXTERNAL MODULE: C:/Users/daniel/Documents/GitHub/AgrisysApp-Web/App/node_modules/react-redux/es/index.js + 24 modules
var es = __webpack_require__(27);

// EXTERNAL MODULE: C:/Users/daniel/Documents/GitHub/AgrisysApp-Web/App/node_modules/redux-persist/lib/integration/react.js
var integration_react = __webpack_require__(419);

// EXTERNAL MODULE: C:/Users/daniel/Documents/GitHub/AgrisysApp-Web/App/node_modules/redux/es/redux.js
var redux = __webpack_require__(43);

// EXTERNAL MODULE: C:/Users/daniel/Documents/GitHub/AgrisysApp-Web/App/node_modules/react-native-web/dist/cjs/exports/Platform/index.js
var Platform = __webpack_require__(12);
var Platform_default = /*#__PURE__*/__webpack_require__.n(Platform);

// EXTERNAL MODULE: C:/Users/daniel/Documents/GitHub/AgrisysApp-Web/App/node_modules/redux-saga/dist/redux-saga-core-npm-proxy.esm.js + 3 modules
var redux_saga_core_npm_proxy_esm = __webpack_require__(66);

// EXTERNAL MODULE: C:/Users/daniel/Documents/GitHub/AgrisysApp-Web/App/node_modules/redux-persist/es/index.js + 11 modules
var redux_persist_es = __webpack_require__(248);

// EXTERNAL MODULE: C:/Users/daniel/Documents/GitHub/AgrisysApp-Web/App/node_modules/react-native-web/dist/cjs/exports/NativeModules/index.js
var NativeModules = __webpack_require__(67);
var NativeModules_default = /*#__PURE__*/__webpack_require__.n(NativeModules);

// EXTERNAL MODULE: C:/Users/daniel/Documents/GitHub/AgrisysApp-Web/App/node_modules/react-native-ble-plx/index.js + 9 modules
var react_native_ble_plx = __webpack_require__(91);

// EXTERNAL MODULE: C:/Users/daniel/Documents/GitHub/AgrisysApp-Web/App/node_modules/jsog/lib/JSOG.js
var JSOG = __webpack_require__(308);
var JSOG_default = /*#__PURE__*/__webpack_require__.n(JSOG);

// EXTERNAL MODULE: C:/Users/daniel/Documents/GitHub/AgrisysApp-Web/App/node_modules/redux-persist/lib/storage/index.js
var storage = __webpack_require__(420);
var storage_default = /*#__PURE__*/__webpack_require__.n(storage);

// CONCATENATED MODULE: C:/Users/daniel/Documents/GitHub/AgrisysApp-Web/App/Src/Stores/CreateStore.js
var JSOGTransform=Object(redux_persist_es["a" /* createTransform */])(function(inboundState,key){return JSOG_default.a.encode(inboundState);},function(outboundState,key){return JSOG_default.a.decode(outboundState);});var persistConfig={key:'root',storage:storage_default.a,transforms:[JSOGTransform],blacklist:[]};/* harmony default export */ var CreateStore = (function(rootReducer,rootSaga){var middleware=[];var enhancers=[];var sagaMiddleware=Object(redux_saga_core_npm_proxy_esm["b" /* default */])();middleware.push(sagaMiddleware);enhancers.push(redux["a" /* applyMiddleware */].apply(void 0,middleware));var persistedReducer=Object(redux_persist_es["b" /* persistReducer */])(persistConfig,rootReducer);var store=Object(redux["e" /* createStore */])(persistedReducer,redux["d" /* compose */].apply(void 0,enhancers));var persistor=Object(redux_persist_es["c" /* persistStore */])(store);if(Platform_default.a.OS==='ios'||Platform_default.a.OS==='android'){var blemanager=new react_native_ble_plx["a" /* BleManager */]();blemanager.setLogLevel(react_native_ble_plx["c" /* LogLevel */].Verbose);var bluemanager=NativeModules_default.a.BlueToothControl;var sagaArgs={BLEManager:blemanager,BlueManager:bluemanager};sagaMiddleware.run(rootSaga,sagaArgs);}else{sagaMiddleware.run(rootSaga);}return{store:store,persistor:persistor};});
// EXTERNAL MODULE: C:/Users/daniel/Documents/GitHub/AgrisysApp-Web/App/node_modules/@babel/runtime/regenerator/index.js
var regenerator = __webpack_require__(16);
var regenerator_default = /*#__PURE__*/__webpack_require__.n(regenerator);

// EXTERNAL MODULE: C:/Users/daniel/Documents/GitHub/AgrisysApp-Web/App/node_modules/redux-saga/dist/redux-saga-effects-npm-proxy.esm.js + 1 modules
var redux_saga_effects_npm_proxy_esm = __webpack_require__(18);

// EXTERNAL MODULE: C:/Users/daniel/Documents/GitHub/AgrisysApp-Web/App/node_modules/reduxsauce/dist/reduxsauce.js
var reduxsauce = __webpack_require__(65);

// CONCATENATED MODULE: C:/Users/daniel/Documents/GitHub/AgrisysApp-Web/App/Src/Stores/Startup/Actions.js
var _createActions=Object(reduxsauce["createActions"])({startup:null}),Types=_createActions.Types,Creators=_createActions.Creators;var StartupTypes=Types;/* harmony default export */ var Actions = (Creators);
// CONCATENATED MODULE: C:/Users/daniel/Documents/GitHub/AgrisysApp-Web/App/Src/Stores/Example/Actions.js
var Actions_createActions=Object(reduxsauce["createActions"])({fetchUser:null,fetchUserLoading:null,fetchUserSuccess:['user'],fetchUserFailure:['errorMessage']}),Actions_Types=Actions_createActions.Types,Actions_Creators=Actions_createActions.Creators;var ExampleTypes=Actions_Types;/* harmony default export */ var Example_Actions = (Actions_Creators);
// EXTERNAL MODULE: C:/Users/daniel/Documents/GitHub/AgrisysApp-Web/App/node_modules/@babel/runtime/helpers/defineProperty.js
var defineProperty = __webpack_require__(3);
var defineProperty_default = /*#__PURE__*/__webpack_require__.n(defineProperty);

// CONCATENATED MODULE: C:/Users/daniel/Documents/GitHub/AgrisysApp-Web/App/Src/Stores/Device/BLE/Actions.js
var BLE_Actions_createActions=Object(reduxsauce["createActions"])({bleStartup:null,bleStateUpdated:['bleState'],startBleScan:null,stopBleScan:null,readBleDeviceData:null}),BLE_Actions_Types=BLE_Actions_createActions.Types,BLE_Actions_Creators=BLE_Actions_createActions.Creators;var BleTypes=BLE_Actions_Types;/* harmony default export */ var BLE_Actions = (BLE_Actions_Creators);
// CONCATENATED MODULE: C:/Users/daniel/Documents/GitHub/AgrisysApp-Web/App/Src/Stores/Device/BlueTooth/Actions.js
var BlueTooth_Actions_createActions=Object(reduxsauce["createActions"])({bluetoothStartup:null,startBluetoothScan:null,stopBluetoothScan:null,bluetoothScanAble:null,readBlueDeviceData:null}),BlueTooth_Actions_Types=BlueTooth_Actions_createActions.Types,BlueTooth_Actions_Creators=BlueTooth_Actions_createActions.Creators;var BluetoothTypes=BlueTooth_Actions_Types;/* harmony default export */ var BlueTooth_Actions = (BlueTooth_Actions_Creators);
// CONCATENATED MODULE: C:/Users/daniel/Documents/GitHub/AgrisysApp-Web/App/Src/Stores/Device/Actions.js
function ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);if(enumerableOnly)symbols=symbols.filter(function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable;});keys.push.apply(keys,symbols);}return keys;}function _objectSpread(target){for(var i=1;i<arguments.length;i++){var source=arguments[i]!=null?arguments[i]:{};if(i%2){ownKeys(Object(source),true).forEach(function(key){defineProperty_default()(target,key,source[key]);});}else if(Object.getOwnPropertyDescriptors){Object.defineProperties(target,Object.getOwnPropertyDescriptors(source));}else{ownKeys(Object(source)).forEach(function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key));});}}return target;}var Device_Actions_createActions=Object(reduxsauce["createActions"])({deviceStartup:null,setDeviceError:['errorMessage'],scannerStateUpdated:['scannerState'],addDevice:['device'],removeDevice:['device'],clearDevices:null,connectedDeviceUpdated:['connectedDevice'],connectionStateUpdated:['connectionState'],connectionMethodeUpdated:['connectionMethode'],setDeviceData:['data'],updateDeviceData:['data'],connectDevice:['device'],disconnectDevice:['methode'],readDeviceData:null,fetchDevice:null}),Device_Actions_Types=Device_Actions_createActions.Types,Device_Actions_Creators=Device_Actions_createActions.Creators;var DeviceTypes=_objectSpread(_objectSpread(_objectSpread({},Device_Actions_Types),BleTypes),BluetoothTypes);/* harmony default export */ var Device_Actions = (_objectSpread(_objectSpread(_objectSpread({},Device_Actions_Creators),BLE_Actions),BlueTooth_Actions));
// CONCATENATED MODULE: C:/Users/daniel/Documents/GitHub/AgrisysApp-Web/App/Src/Stores/Firebase/Actions.js
function Actions_ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);if(enumerableOnly)symbols=symbols.filter(function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable;});keys.push.apply(keys,symbols);}return keys;}function Actions_objectSpread(target){for(var i=1;i<arguments.length;i++){var source=arguments[i]!=null?arguments[i]:{};if(i%2){Actions_ownKeys(Object(source),true).forEach(function(key){defineProperty_default()(target,key,source[key]);});}else if(Object.getOwnPropertyDescriptors){Object.defineProperties(target,Object.getOwnPropertyDescriptors(source));}else{Actions_ownKeys(Object(source)).forEach(function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key));});}}return target;}var Firebase_Actions_createActions=Object(reduxsauce["createActions"])({firebaseStartup:null,firebaseIsLoading:['loadingstate'],setFirebaseError:['errorMessage'],setViewError:['errorMessage'],viewIsLoading:['loadingstate'],setCurrentData:['data'],actionStarting:['action','ref','params'],fetchStarting:['action','ref','params'],dataFetchSuccess:['params'],fetchSuccess:['data'],fetchFailure:['errorMessage']}),Firebase_Actions_Types=Firebase_Actions_createActions.Types,Firebase_Actions_Creators=Firebase_Actions_createActions.Creators;var FirebaseTypes=Actions_objectSpread({},Firebase_Actions_Types);/* harmony default export */ var Firebase_Actions = (Actions_objectSpread({},Firebase_Actions_Creators));
// EXTERNAL MODULE: C:/Users/daniel/Documents/GitHub/AgrisysApp-Web/App/node_modules/react-navigation/src/index.js
var src = __webpack_require__(57);

// CONCATENATED MODULE: C:/Users/daniel/Documents/GitHub/AgrisysApp-Web/App/Src/Services/NavigationService.js
var NavigationService_navigator;var LastPage;function setTopLevelNavigator(navigatorRef){NavigationService_navigator=navigatorRef;}function replace(routeName,params){LastPage=routeName;NavigationService_navigator.dispatch(src["StackActions"].replace({routeName:routeName,params:params}));}function NavigationService_navigate(routeName,params){LastPage=routeName;NavigationService_navigator.dispatch(src["NavigationActions"].navigate({routeName:routeName,params:params}));}function navigateAndReset(routeName,params){LastPage=routeName;NavigationService_navigator.dispatch(src["StackActions"].reset({index:0,key:null,actions:[src["NavigationActions"].navigate({routeName:routeName,params:params})]}));}function nacigationPop(){LastPage="";NavigationService_navigator.dispatch(src["NavigationActions"].back());}/* harmony default export */ var NavigationService = ({navigate:NavigationService_navigate,replace:replace,navigateAndReset:navigateAndReset,setTopLevelNavigator:setTopLevelNavigator,nacigationPop:nacigationPop});
// CONCATENATED MODULE: C:/Users/daniel/Documents/GitHub/AgrisysApp-Web/App/Src/Sagas/StartupSaga.js
var _marked=regenerator_default.a.mark(startup);function startup(){return regenerator_default.a.wrap(function startup$(_context){while(1){switch(_context.prev=_context.next){case 0:console.log("Starting sagas");if(!(Platform_default.a.OS==='ios'||Platform_default.a.OS==='android')){_context.next=4;break;}_context.next=4;return Object(redux_saga_effects_npm_proxy_esm["g" /* put */])(Device_Actions.deviceStartup());case 4:_context.next=6;return Object(redux_saga_effects_npm_proxy_esm["g" /* put */])(Firebase_Actions.firebaseStartup());case 6:NavigationService.navigateAndReset('MainStack');case 7:case"end":return _context.stop();}}},_marked);}
// EXTERNAL MODULE: C:/Users/daniel/Documents/GitHub/AgrisysApp-Web/App/node_modules/axios/index.js
var axios = __webpack_require__(203);
var axios_default = /*#__PURE__*/__webpack_require__.n(axios);

// CONCATENATED MODULE: C:/Users/daniel/Documents/GitHub/AgrisysApp-Web/App/Src/Config/index.js
var HTTPS_START='https://';var Config={API_URL:HTTPS_START+'jsonplaceholder.typicode.com/users/',CONSYS_CLIENT_ID:'consysapp',CONSYS_CLIENT_SECRET:'Kjsd832n8DIO32kmsdds3',CONSYS_AUTH:'.agrisys.cloud/oauthserver/getaccesstoken/?redirect_uri=urn:ietf:wg:oauth:2.0:oob',CONSYS_API:'.agrisys.cloud/consys-api-v1/'};function GetToken_URL(Site_URL,Refresh_Token){var res=HTTPS_START+Site_URL+Config.CONSYS_AUTH;res=res+'&client_id='+Config.CONSYS_CLIENT_ID+'&client_secret='+Config.CONSYS_CLIENT_SECRET+'&refresh_token='+Refresh_Token;return res;}function GetCheckToken_URL(Site_URL){var res=HTTPS_START+Site_URL+Config.CONSYS_API+'checkaccesstoken';return res;}function GetConsumtion_URL(Site_URL){var res=HTTPS_START+Site_URL+Config.CONSYS_API+'getconsumptiondata?';return res;}function GetConsumtionData_URL(Site_URL,Consumptiontype,SystemId){var Offset=arguments.length>3&&arguments[3]!==undefined?arguments[3]:null;var Limit=arguments.length>4&&arguments[4]!==undefined?arguments[4]:null;var Starttime=arguments.length>5&&arguments[5]!==undefined?arguments[5]:null;var Stoptime=arguments.length>6&&arguments[6]!==undefined?arguments[6]:null;var Lastid=arguments.length>7&&arguments[7]!==undefined?arguments[7]:null;var res=GetConsumtion_URL(Site_URL);res=res+GetConsumtionData_Var(Consumptiontype,SystemId,Offset,Limit,Starttime,Stoptime,Lastid);return res;}function GetConsumtionData_Var(Consumptiontype,SystemId){var Offset=arguments.length>2&&arguments[2]!==undefined?arguments[2]:null;var Limit=arguments.length>3&&arguments[3]!==undefined?arguments[3]:null;var Starttime=arguments.length>4&&arguments[4]!==undefined?arguments[4]:null;var Stoptime=arguments.length>5&&arguments[5]!==undefined?arguments[5]:null;var Lastid=arguments.length>6&&arguments[6]!==undefined?arguments[6]:null;var res='consumptiontype='+Consumptiontype+'&systemid='+SystemId;if(Offset)res=res+'&offset='+Offset;if(Limit)res=res+'&limit='+Limit;if(Starttime)res=res+'&starttime='+Starttime;if(Stoptime)res=res+'&stoptime='+Stoptime;if(Lastid)res=res+'&lastid='+Lastid;return res;}
// EXTERNAL MODULE: C:/Users/daniel/Documents/GitHub/AgrisysApp-Web/App/node_modules/ramda/es/curryN.js + 2 modules
var curryN = __webpack_require__(916);

// EXTERNAL MODULE: C:/Users/daniel/Documents/GitHub/AgrisysApp-Web/App/node_modules/ramda/es/is.js
var is = __webpack_require__(906);

// EXTERNAL MODULE: C:/Users/daniel/Documents/GitHub/AgrisysApp-Web/App/node_modules/ramda/es/gte.js
var gte = __webpack_require__(907);

// CONCATENATED MODULE: C:/Users/daniel/Documents/GitHub/AgrisysApp-Web/App/Src/Services/UserService.js
var isWithin=Object(curryN["a" /* default */])(3,function(min,max,value){var isNumber=Object(is["a" /* default */])(Number);return isNumber(min)&&isNumber(max)&&isNumber(value)&&Object(gte["a" /* default */])(value,min)&&Object(gte["a" /* default */])(max,value);});var in200s=isWithin(200,299);var userApiClient=axios_default.a.create({baseURL:Config.API_URL,headers:{Accept:'application/json','Content-Type':'application/json'},timeout:3000});function fetchUser(){console.log("user fetch test");if(Math.random()>0.5){return new Promise(function(resolve,reject){console.log("error");resolve(null);});}var number=Math.floor(Math.random()/0.1)+1;return userApiClient.get(number.toString()).then(function(response){if(in200s(response.status)){return response.data;}return null;});}var userService={fetchUser:fetchUser};
// CONCATENATED MODULE: C:/Users/daniel/Documents/GitHub/AgrisysApp-Web/App/Src/Sagas/Example/ExampleSaga.js
var ExampleSaga_marked=regenerator_default.a.mark(ExampleSaga_fetchUser);function ExampleSaga_fetchUser(){var user;return regenerator_default.a.wrap(function fetchUser$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return Object(redux_saga_effects_npm_proxy_esm["g" /* put */])(Example_Actions.fetchUserLoading());case 2:_context.next=4;return Object(redux_saga_effects_npm_proxy_esm["c" /* call */])(userService.fetchUser);case 4:user=_context.sent;if(!user){_context.next=10;break;}_context.next=8;return Object(redux_saga_effects_npm_proxy_esm["g" /* put */])(Example_Actions.fetchUserSuccess(user));case 8:_context.next=12;break;case 10:_context.next=12;return Object(redux_saga_effects_npm_proxy_esm["g" /* put */])(Example_Actions.fetchUserFailure('There was an error while fetching user informations.'));case 12:case"end":return _context.stop();}}},ExampleSaga_marked);}
// EXTERNAL MODULE: C:/Users/daniel/Documents/GitHub/AgrisysApp-Web/App/node_modules/@babel/runtime/helpers/asyncToGenerator.js
var asyncToGenerator = __webpack_require__(30);
var asyncToGenerator_default = /*#__PURE__*/__webpack_require__.n(asyncToGenerator);

// EXTERNAL MODULE: C:/Users/daniel/Documents/GitHub/AgrisysApp-Web/App/node_modules/react-native-web/dist/cjs/exports/PermissionsAndroid/index.js
var PermissionsAndroid = __webpack_require__(133);
var PermissionsAndroid_default = /*#__PURE__*/__webpack_require__.n(PermissionsAndroid);

// CONCATENATED MODULE: C:/Users/daniel/Documents/GitHub/AgrisysApp-Web/App/Src/Services/DeviceService.js
function isPermit_Android(){return _isPermit_Android.apply(this,arguments);}function _isPermit_Android(){_isPermit_Android=asyncToGenerator_default()(regenerator_default.a.mark(function _callee(){var Have_Coarse_Location,Got_Access;return regenerator_default.a.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:if(!(Platform_default.a.OS==='android'&&Platform_default.a.Version>=23)){_context.next=11;break;}_context.next=3;return PermissionsAndroid_default.a.check(PermissionsAndroid_default.a.PERMISSIONS.ACCESS_COARSE_LOCATION);case 3:Have_Coarse_Location=_context.sent;if(Have_Coarse_Location){_context.next=11;break;}_context.next=7;return PermissionsAndroid_default.a.request(PermissionsAndroid_default.a.PERMISSIONS.ACCESS_COARSE_LOCATION);case 7:Got_Access=_context.sent;if(!(Got_Access!==PermissionsAndroid_default.a.RESULTS.GRANTED)){_context.next=11;break;}console.log("No Ble Permission granted : Android");return _context.abrupt("return",false);case 11:return _context.abrupt("return",true);case 12:case"end":return _context.stop();}}},_callee);}));return _isPermit_Android.apply(this,arguments);}function isBlePermitted(){return new Promise(function(resolve,reject){if(Platform_default.a.OS==='android'&&Platform_default.a.Version>=23){if(!isPermit_Android()){resolve('This application needs premissions to be using BLE');}}resolve(null);});}var deviceService={isBlePermitted:isBlePermitted};
// CONCATENATED MODULE: C:/Users/daniel/Documents/GitHub/AgrisysApp-Web/App/Src/Stores/Device/Selectors.js
var ScannerState={IDLE:'IDLE',AVAILABLE:'AVAILABLE',SCANNING:'SCANNING'};var ConnectionState={DISCONNECTED:'DISCONNECTED',CONNECTING:'CONNECTING',DISCOVERING:'DISCOVERING',CONNECTED:'CONNECTED',DISCONNECTING:'DISCONNECTING'};var ConnectionMethode={NONE:'NONE',BLE:'BLE',SERIAL:'SERIAL',BLUETOOTH:'BLUETOOTH',WIFI:'WIFI'};
// EXTERNAL MODULE: C:/Users/daniel/Documents/GitHub/AgrisysApp-Web/App/node_modules/@babel/runtime/helpers/slicedToArray.js
var slicedToArray = __webpack_require__(41);
var slicedToArray_default = /*#__PURE__*/__webpack_require__.n(slicedToArray);

// EXTERNAL MODULE: C:/Users/daniel/Documents/GitHub/AgrisysApp-Web/App/node_modules/react-native-base64/base64.js
var base64 = __webpack_require__(422);

// EXTERNAL MODULE: C:/Users/daniel/AppData/Roaming/npm/node_modules/expo-cli/node_modules/node-libs-browser/node_modules/buffer/index.js
var buffer = __webpack_require__(103);

// CONCATENATED MODULE: C:/Users/daniel/Documents/GitHub/AgrisysApp-Web/App/Src/Sagas/Device/BLE/BLESaga.js
function _createForOfIteratorHelperLoose(o,allowArrayLike){var it;if(typeof Symbol==="undefined"||o[Symbol.iterator]==null){if(Array.isArray(o)||(it=_unsupportedIterableToArray(o))||allowArrayLike&&o&&typeof o.length==="number"){if(it)o=it;var i=0;return function(){if(i>=o.length)return{done:true};return{done:false,value:o[i++]};};}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.");}it=o[Symbol.iterator]();return it.next.bind(it);}function _unsupportedIterableToArray(o,minLen){if(!o)return;if(typeof o==="string")return _arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);if(n==="Object"&&o.constructor)n=o.constructor.name;if(n==="Map"||n==="Set")return Array.from(o);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _arrayLikeToArray(o,minLen);}function _arrayLikeToArray(arr,len){if(len==null||len>arr.length)len=arr.length;for(var i=0,arr2=new Array(len);i<len;i++){arr2[i]=arr[i];}return arr2;}var BLESaga_marked=regenerator_default.a.mark(bleStartup),_marked2=regenerator_default.a.mark(handleBleState),_marked3=regenerator_default.a.mark(connectBle),_marked4=regenerator_default.a.mark(handleConnection),_marked5=regenerator_default.a.mark(readBleDeviceData),_marked6=regenerator_default.a.mark(handleScanning),_marked7=regenerator_default.a.mark(scanBle),_marked8=regenerator_default.a.mark(startBleScan),_marked9=regenerator_default.a.mark(setBleScannerStart),_marked10=regenerator_default.a.mark(stopBleScan);function bleStartup(sagaArgs){var permitError;return regenerator_default.a.wrap(function bleStartup$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return Object(redux_saga_effects_npm_proxy_esm["c" /* call */])(deviceService.isBlePermitted);case 2:permitError=_context.sent;if(!permitError){_context.next=8;break;}_context.next=6;return Object(redux_saga_effects_npm_proxy_esm["g" /* put */])(Device_Actions.setDeviceError(permitError));case 6:_context.next=14;break;case 8:_context.next=10;return Object(redux_saga_effects_npm_proxy_esm["f" /* fork */])(handleScanning,sagaArgs.BLEManager);case 10:_context.next=12;return Object(redux_saga_effects_npm_proxy_esm["f" /* fork */])(handleBleState,sagaArgs.BLEManager);case 12:_context.next=14;return Object(redux_saga_effects_npm_proxy_esm["f" /* fork */])(handleConnection,sagaArgs.BLEManager);case 14:console.log('BLE Startup : Done');case 15:case"end":return _context.stop();}}},BLESaga_marked);}function handleBleState(manager){var stateChannel,newState;return regenerator_default.a.wrap(function handleBleState$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:console.log("Handle BLE State...");_context2.next=3;return Object(redux_saga_core_npm_proxy_esm["c" /* eventChannel */])(function(emit){var subscription=manager.onStateChange(function(state){emit(state);},true);return function(){subscription.remove();};},redux_saga_core_npm_proxy_esm["a" /* buffers */].expanding(1));case 3:stateChannel=_context2.sent;_context2.prev=4;case 5:_context2.next=7;return Object(redux_saga_effects_npm_proxy_esm["j" /* take */])(stateChannel);case 7:newState=_context2.sent;console.log("New BLE state: "+newState);_context2.next=11;return Object(redux_saga_effects_npm_proxy_esm["g" /* put */])(BLE_Actions.bleStateUpdated(newState));case 11:_context2.next=5;break;case 13:_context2.prev=13;_context2.next=16;return Object(redux_saga_effects_npm_proxy_esm["e" /* cancelled */])();case 16:if(!_context2.sent){_context2.next=18;break;}stateChannel.close();case 18:return _context2.finish(13);case 19:case"end":return _context2.stop();}}},_marked2,null,[[4,,13,19]]);}function connectBle(device){return regenerator_default.a.wrap(function connectBle$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:case"end":return _context3.stop();}}},_marked3);}function handleConnection(manager){var _yield$take,device,connectionMethode,connectedDevice,disconnectedChannel,deviceActionChannel,_device,_yield$race,deviceAction,disconnected;return regenerator_default.a.wrap(function handleConnection$(_context4){while(1){switch(_context4.prev=_context4.next){case 0:console.log("Handle BLE Connection...");case 1:_context4.next=3;return Object(redux_saga_effects_npm_proxy_esm["j" /* take */])('CONNECT_DEVICE');case 3:_yield$take=_context4.sent;device=_yield$take.device;_context4.next=7;return Object(redux_saga_effects_npm_proxy_esm["i" /* select */])(function(state){return state.device.connectionMethode;});case 7:connectionMethode=_context4.sent;if(!(connectionMethode!=ConnectionMethode.BLE)){_context4.next=10;break;}return _context4.abrupt("continue",87);case 10:_context4.next=12;return Object(redux_saga_effects_npm_proxy_esm["i" /* select */])(function(state){return state.device.connectedDevice;});case 12:connectedDevice=_context4.sent;if(!(device===null||device._manager===null)){_context4.next=19;break;}_context4.next=16;return Object(redux_saga_effects_npm_proxy_esm["g" /* put */])(Device_Actions.setDeviceError("Could not find device.."));case 16:_context4.next=18;return Object(redux_saga_effects_npm_proxy_esm["g" /* put */])(Device_Actions.connectionStateUpdated(ConnectionState.DISCONNECTED));case 18:return _context4.abrupt("return");case 19:if(device.isConnected()){console.log("is connected ??");}console.log("Connect device");_context4.prev=21;_context4.next=24;return Object(redux_saga_core_npm_proxy_esm["c" /* eventChannel */])(function(emit){var subscription=device.onDisconnected(function(error){emit({type:'DISCONNECT_DEVICE',error:error});});return function(){subscription.remove();};},redux_saga_core_npm_proxy_esm["a" /* buffers */].expanding(1));case 24:disconnectedChannel=_context4.sent;_context4.next=27;return Object(redux_saga_effects_npm_proxy_esm["a" /* actionChannel */])(['DISCONNECT_DEVICE']);case 27:deviceActionChannel=_context4.sent;_context4.prev=28;_context4.next=31;return Object(redux_saga_effects_npm_proxy_esm["g" /* put */])(Device_Actions.connectionStateUpdated(ConnectionState.CONNECTING));case 31:_context4.next=33;return Object(redux_saga_effects_npm_proxy_esm["c" /* call */])([device,device.connect]);case 33:_context4.next=35;return Object(redux_saga_effects_npm_proxy_esm["g" /* put */])(Device_Actions.connectionStateUpdated(ConnectionState.DISCOVERING));case 35:_context4.next=37;return Object(redux_saga_effects_npm_proxy_esm["c" /* call */])([device,device.discoverAllServicesAndCharacteristics]);case 37:_context4.next=39;return Object(redux_saga_effects_npm_proxy_esm["g" /* put */])(Device_Actions.connectionStateUpdated(ConnectionState.CONNECTED));case 39:_context4.next=41;return Object(redux_saga_effects_npm_proxy_esm["g" /* put */])(Device_Actions.connectionMethodeUpdated(ConnectionMethode.BLE));case 41:_context4.next=43;return Object(redux_saga_effects_npm_proxy_esm["g" /* put */])(Device_Actions.connectedDeviceUpdated(device));case 43:_device=device;_context4.next=46;return Object(redux_saga_effects_npm_proxy_esm["f" /* fork */])(readBleDeviceData,manager);case 46:_context4.next=48;return Object(redux_saga_effects_npm_proxy_esm["h" /* race */])({deviceAction:Object(redux_saga_effects_npm_proxy_esm["j" /* take */])(deviceActionChannel),disconnected:Object(redux_saga_effects_npm_proxy_esm["j" /* take */])(disconnectedChannel)});case 48:_yield$race=_context4.sent;deviceAction=_yield$race.deviceAction;disconnected=_yield$race.disconnected;if(!deviceAction){_context4.next=61;break;}if(!(deviceAction.type==='DISCONNECT_DEVICE')){_context4.next=59;break;}console.log('Disconnected by user...');_context4.next=56;return Object(redux_saga_effects_npm_proxy_esm["c" /* call */])([_device,_device.cancelConnection]);case 56:_context4.next=58;return Object(redux_saga_effects_npm_proxy_esm["g" /* put */])(Device_Actions.connectionStateUpdated(ConnectionState.DISCONNECTING));case 58:return _context4.abrupt("break",67);case 59:_context4.next=65;break;case 61:if(!disconnected){_context4.next=65;break;}console.log('Disconnected by device...');if(disconnected.error!=null){console.log("Error ",disconnected.error);}return _context4.abrupt("break",67);case 65:_context4.next=46;break;case 67:_context4.next=71;break;case 69:_context4.prev=69;_context4.t0=_context4["catch"](28);case 71:_context4.prev=71;disconnectedChannel.close();_context4.next=75;return Object(redux_saga_effects_npm_proxy_esm["g" /* put */])(Device_Actions.connectedDeviceUpdated(null));case 75:_context4.next=77;return Object(redux_saga_effects_npm_proxy_esm["g" /* put */])(Device_Actions.connectionStateUpdated(ConnectionState.DISCONNECTED));case 77:return _context4.finish(71);case 78:_context4.next=87;break;case 80:_context4.prev=80;_context4.t1=_context4["catch"](21);console.log('Error on device actions...');_context4.next=85;return Object(redux_saga_effects_npm_proxy_esm["g" /* put */])(Device_Actions.removeDevice(device));case 85:_context4.next=87;return Object(redux_saga_effects_npm_proxy_esm["g" /* put */])(Device_Actions.connectionStateUpdated(ConnectionState.DISCONNECTING));case 87:_context4.next=1;break;case 89:case"end":return _context4.stop();}}},_marked4,null,[[21,80],[28,69,71,78]]);}function readBleDeviceData(manager){var KnownUUIDS,device,_services,serviceUUIDs,services,monitor,_iterator,_step,service,characteristics,_iterator2,_step2,_characteristic,readingChannel,TempData_Reading,length,PacketId,_yield$take2,_yield$take3,error,characteristic,BatteryLevel,RawData,header,NewData,TagId,layers,layer1,layer2,layer3;return regenerator_default.a.wrap(function readBleDeviceData$(_context5){while(1){switch(_context5.prev=_context5.next){case 0:KnownUUIDS=['0000fff0-0000-1000-8000-00805f9b34fb','0000fff1-0000-1000-8000-00805f9b34fb','0000180f-0000-1000-8000-00805f9b34fb','00002a19-0000-1000-8000-00805f9b34fb'];_context5.next=3;return Object(redux_saga_effects_npm_proxy_esm["i" /* select */])(function(state){return state.device.connectedDevice;});case 3:device=_context5.sent;if(!(device===null)){_context5.next=6;break;}return _context5.abrupt("return");case 6:_context5.next=8;return Object(redux_saga_effects_npm_proxy_esm["c" /* call */])([device,device.services]);case 8:_services=_context5.sent;serviceUUIDs=device.serviceUUIDs;services=_services.filter(function(service){return serviceUUIDs.includes(service.uuid);});monitor=[];_iterator=_createForOfIteratorHelperLoose(services);case 13:if((_step=_iterator()).done){_context5.next=22;break;}service=_step.value;console.log('Device had service: '+service.uuid);_context5.next=18;return Object(redux_saga_effects_npm_proxy_esm["c" /* call */])([service,service.characteristics]);case 18:characteristics=_context5.sent;for(_iterator2=_createForOfIteratorHelperLoose(characteristics);!(_step2=_iterator2()).done;){_characteristic=_step2.value;console.log('  characteristic: '+_characteristic.uuid);if(KnownUUIDS.includes(service.uuid)&&KnownUUIDS.includes(_characteristic.uuid)){monitor.push([service.uuid,_characteristic.uuid]);}}case 20:_context5.next=13;break;case 22:_context5.next=24;return Object(redux_saga_core_npm_proxy_esm["c" /* eventChannel */])(function(emit){monitor.forEach(function(service,i){device.monitorCharacteristicForService(service[0],service[1],function(error,characteristic){if(error){emit([error,characteristic]);return;}if(characteristic!=null){emit([error,characteristic]);}});});return function(){};},redux_saga_core_npm_proxy_esm["a" /* buffers */].expanding(1));case 24:readingChannel=_context5.sent;_context5.prev=25;TempData_Reading=buffer["Buffer"].from([]);length=0;PacketId=0;case 29:if(!(readingChannel!=null)){_context5.next=81;break;}_context5.next=32;return Object(redux_saga_effects_npm_proxy_esm["j" /* take */])(readingChannel);case 32:_yield$take2=_context5.sent;_yield$take3=slicedToArray_default()(_yield$take2,2);error=_yield$take3[0];characteristic=_yield$take3[1];if(!(error!=null)){_context5.next=39;break;}_context5.next=39;return Object(redux_saga_effects_npm_proxy_esm["g" /* put */])(Device_Actions.setDeviceError(error));case 39:if(!(characteristic!=null)){_context5.next=81;break;}if(!(characteristic.uuid=="00002a19-0000-1000-8000-00805f9b34fb")){_context5.next=47;break;}BatteryLevel=base64["a" /* default */].decode(characteristic.value);BatteryLevel=BatteryLevel.charCodeAt(0);_context5.next=45;return Object(redux_saga_effects_npm_proxy_esm["g" /* put */])(Device_Actions.updateDeviceData({Battery:BatteryLevel}));case 45:_context5.next=81;break;case 47:if(!(characteristic.uuid=="0000fff1-0000-1000-8000-00805f9b34fb")){_context5.next=80;break;}RawData=buffer["Buffer"].from(characteristic.value,'base64');if(PacketId===0){header=RawData.slice(0,4);if(buffer["Buffer"].compare(header,buffer["Buffer"].from([170,170,170,170]))==0){length=parseInt(RawData.slice(4,8).toString("hex"),16)-8;PacketId=parseInt(RawData.slice(8,12).toString("hex"),16);RawData=RawData.slice(12,RawData.length);}}NewData=buffer["Buffer"].concat([TempData_Reading,RawData]);if(!(NewData.length<4||buffer["Buffer"].compare(NewData.slice(NewData.length-4,NewData.length),buffer["Buffer"].from([85,85,85,85]))!=0)){_context5.next=55;break;}TempData_Reading=NewData;_context5.next=78;break;case 55:while(NewData.length*8>length||buffer["Buffer"].compare(NewData.slice(NewData.length-1,NewData.length),buffer["Buffer"].from([85]))==0){NewData=NewData.slice(0,NewData.length-1);}if(!(PacketId==251658240)){_context5.next=64;break;}TagId=NewData.toString('ascii');TagId=TagId.slice(0,3)+"-"+TagId.slice(3,TagId.length);console.log("Read Tag: ",TagId);_context5.next=62;return Object(redux_saga_effects_npm_proxy_esm["g" /* put */])(Device_Actions.updateDeviceData({tagid:TagId,FatLayers:0,FatL1:0,FatL2:0,FatL3:0}));case 62:_context5.next=75;break;case 64:if(!(PacketId==2315255808)){_context5.next=75;break;}console.log("Fat done");layers=parseInt(NewData.slice(0,1).toString("hex"),16);layer1=parseInt(NewData.slice(3,4).toString("hex"),16);layer2=parseInt(NewData.slice(5,6).toString("hex"),16);layer3=parseInt(NewData.slice(7,8).toString("hex"),16);console.log("layers: "+layers+" layer1: "+layer1);console.log("layer2: "+layer2+" layer3: "+layer3);console.log("NewData: ",NewData);_context5.next=75;return Object(redux_saga_effects_npm_proxy_esm["g" /* put */])(Device_Actions.updateDeviceData({FatLayers:layers,FatL1:layer1,FatL2:layer2,FatL3:layer3}));case 75:PacketId=0;length=0;TempData_Reading=buffer["Buffer"].from([]);case 78:_context5.next=81;break;case 80:console.log("unknown char: ",characteristic.uuid);case 81:_context5.next=29;break;case 83:_context5.next=87;break;case 85:_context5.prev=85;_context5.t0=_context5["catch"](25);case 87:_context5.prev=87;_context5.next=90;return Object(redux_saga_effects_npm_proxy_esm["e" /* cancelled */])();case 90:if(!_context5.sent){_context5.next=92;break;}if(readingChannel!=null)readingChannel.close();case 92:return _context5.finish(87);case 93:case"end":return _context5.stop();}}},_marked5,null,[[25,85,87,93]]);}function handleScanning(manager){var scanTask,bleState,scannerState,connectionMethode,connectionState,channel,action,enableScanning;return regenerator_default.a.wrap(function handleScanning$(_context6){while(1){switch(_context6.prev=_context6.next){case 0:console.log("Handle BLE Scanning...");scanTask=null;_context6.next=4;return Object(redux_saga_effects_npm_proxy_esm["i" /* select */])(function(state){return state.device.bleState;});case 4:bleState=_context6.sent;_context6.next=7;return Object(redux_saga_effects_npm_proxy_esm["i" /* select */])(function(state){return state.device.scannerState;});case 7:scannerState=_context6.sent;_context6.next=10;return Object(redux_saga_effects_npm_proxy_esm["i" /* select */])(function(state){return state.device.connectionMethode;});case 10:connectionMethode=_context6.sent;_context6.next=13;return Object(redux_saga_effects_npm_proxy_esm["i" /* select */])(function(state){return state.device.connectionState;});case 13:connectionState=_context6.sent;_context6.next=16;return Object(redux_saga_effects_npm_proxy_esm["a" /* actionChannel */])(['BLE_STATE_UPDATED','SCANNER_STATE_UPDATED','CONNECTION_METHODE_UPDATED','CONNECTION_STATE_UPDATED']);case 16:channel=_context6.sent;case 17:_context6.next=19;return Object(redux_saga_effects_npm_proxy_esm["j" /* take */])(channel);case 19:action=_context6.sent;_context6.t0=action.type;_context6.next=_context6.t0==='BLE_STATE_UPDATED'?23:_context6.t0==='SCANNER_STATE_UPDATED'?25:_context6.t0==='CONNECTION_METHODE_UPDATED'?27:_context6.t0==='CONNECTION_STATE_UPDATED'?29:31;break;case 23:bleState=action.bleState;return _context6.abrupt("break",31);case 25:scannerState=action.scannerState;return _context6.abrupt("break",31);case 27:connectionMethode=action.connectionMethode;return _context6.abrupt("break",31);case 29:connectionState=action.connectionState;return _context6.abrupt("break",31);case 31:enableScanning=bleState===react_native_ble_plx["d" /* State */].PoweredOn&&(scannerState===ScannerState.AVAILABLE||scannerState===ScannerState.SCANNING)&&connectionMethode===ConnectionMethode.BLE&&(connectionState===ConnectionState.DISCONNECTING||connectionState===ConnectionState.DISCONNECTED);if(!enableScanning){_context6.next=42;break;}if(!(scannerState!=ScannerState.SCANNING)){_context6.next=40;break;}if(!(scanTask!=null)){_context6.next=37;break;}_context6.next=37;return Object(redux_saga_effects_npm_proxy_esm["d" /* cancel */])(scanTask);case 37:_context6.next=39;return Object(redux_saga_effects_npm_proxy_esm["f" /* fork */])(scanBle,manager);case 39:scanTask=_context6.sent;case 40:_context6.next=46;break;case 42:if(!(scanTask!=null)){_context6.next=46;break;}_context6.next=45;return Object(redux_saga_effects_npm_proxy_esm["d" /* cancel */])(scanTask);case 45:scanTask=null;case 46:_context6.next=17;break;case 48:case"end":return _context6.stop();}}},_marked6);}function scanBle(manager){var scanningChannel,_yield$take4,_yield$take5,error,scannedDevice;return regenerator_default.a.wrap(function scanBle$(_context7){while(1){switch(_context7.prev=_context7.next){case 0:_context7.next=2;return Object(redux_saga_effects_npm_proxy_esm["g" /* put */])(Device_Actions.scannerStateUpdated(ScannerState.SCANNING));case 2:_context7.next=4;return Object(redux_saga_effects_npm_proxy_esm["g" /* put */])(Device_Actions.clearDevices());case 4:console.log("Scanning started");_context7.next=7;return Object(redux_saga_core_npm_proxy_esm["c" /* eventChannel */])(function(emit){manager.startDeviceScan(null,{allowDuplicates:true},function(error,scannedDevice){if(error){emit([error,scannedDevice]);return;}if(scannedDevice!=null){if(scannedDevice.localName!=null){emit([error,scannedDevice]);}}});return function(){manager.stopDeviceScan();};},redux_saga_core_npm_proxy_esm["a" /* buffers */].expanding(1));case 7:scanningChannel=_context7.sent;_context7.prev=8;case 9:_context7.next=11;return Object(redux_saga_effects_npm_proxy_esm["j" /* take */])(scanningChannel);case 11:_yield$take4=_context7.sent;_yield$take5=slicedToArray_default()(_yield$take4,2);error=_yield$take5[0];scannedDevice=_yield$take5[1];if(!(error!=null)){_context7.next=19;break;}console.log("Ble Scan Error: ",error);_context7.next=19;return Object(redux_saga_effects_npm_proxy_esm["g" /* put */])(Device_Actions.setDeviceError(error));case 19:if(!(scannedDevice!=null)){_context7.next=22;break;}_context7.next=22;return Object(redux_saga_effects_npm_proxy_esm["g" /* put */])(Device_Actions.addDevice(scannedDevice));case 22:_context7.next=9;break;case 24:_context7.next=31;break;case 26:_context7.prev=26;_context7.t0=_context7["catch"](8);console.log("Ble Scan Error: ",_context7.t0);_context7.next=31;return Object(redux_saga_effects_npm_proxy_esm["g" /* put */])(Device_Actions.setDeviceError(_context7.t0));case 31:_context7.prev=31;_context7.next=34;return Object(redux_saga_effects_npm_proxy_esm["e" /* cancelled */])();case 34:if(!_context7.sent){_context7.next=39;break;}_context7.next=37;return Object(redux_saga_effects_npm_proxy_esm["g" /* put */])(Device_Actions.scannerStateUpdated(ScannerState.IDLE));case 37:console.log('Scanning stopped...');scanningChannel.close();case 39:return _context7.finish(31);case 40:case"end":return _context7.stop();}}},_marked7,null,[[8,26,31,40]]);}function startBleScan(){var connectionMethode,scannerState;return regenerator_default.a.wrap(function startBleScan$(_context8){while(1){switch(_context8.prev=_context8.next){case 0:_context8.next=2;return Object(redux_saga_effects_npm_proxy_esm["i" /* select */])(function(state){return state.device.connectionMethode;});case 2:connectionMethode=_context8.sent;_context8.next=5;return Object(redux_saga_effects_npm_proxy_esm["i" /* select */])(function(state){return state.device.scannerState;});case 5:scannerState=_context8.sent;if(!(connectionMethode!==ConnectionMethode.BLE)){_context8.next=9;break;}_context8.next=9;return Object(redux_saga_effects_npm_proxy_esm["g" /* put */])(Device_Actions.connectionMethodeUpdated(ConnectionMethode.BLE));case 9:_context8.next=11;return Object(redux_saga_effects_npm_proxy_esm["c" /* call */])(setBleScannerStart);case 11:case"end":return _context8.stop();}}},_marked8);}function setBleScannerStart(){var connectionMethode,scannerState;return regenerator_default.a.wrap(function setBleScannerStart$(_context9){while(1){switch(_context9.prev=_context9.next){case 0:_context9.next=2;return Object(redux_saga_effects_npm_proxy_esm["i" /* select */])(function(state){return state.device.connectionMethode;});case 2:connectionMethode=_context9.sent;_context9.next=5;return Object(redux_saga_effects_npm_proxy_esm["i" /* select */])(function(state){return state.device.scannerState;});case 5:scannerState=_context9.sent;if(!(scannerState===ScannerState.IDLE&&connectionMethode===ConnectionMethode.BLE)){_context9.next=9;break;}_context9.next=9;return Object(redux_saga_effects_npm_proxy_esm["g" /* put */])(Device_Actions.scannerStateUpdated(ScannerState.AVAILABLE));case 9:case"end":return _context9.stop();}}},_marked9);}function stopBleScan(){var connectionMethode;return regenerator_default.a.wrap(function stopBleScan$(_context10){while(1){switch(_context10.prev=_context10.next){case 0:_context10.next=2;return Object(redux_saga_effects_npm_proxy_esm["i" /* select */])(function(state){return state.device.connectionMethode;});case 2:connectionMethode=_context10.sent;if(!(connectionMethode===ConnectionMethode.BLE)){_context10.next=6;break;}_context10.next=6;return Object(redux_saga_effects_npm_proxy_esm["g" /* put */])(Device_Actions.scannerStateUpdated(ScannerState.IDLE));case 6:case"end":return _context10.stop();}}},_marked10);}
// EXTERNAL MODULE: C:/Users/daniel/Documents/GitHub/AgrisysApp-Web/App/node_modules/react-native-web/dist/cjs/exports/NativeEventEmitter/index.js
var NativeEventEmitter = __webpack_require__(149);
var NativeEventEmitter_default = /*#__PURE__*/__webpack_require__.n(NativeEventEmitter);

// CONCATENATED MODULE: C:/Users/daniel/Documents/GitHub/AgrisysApp-Web/App/Src/Sagas/Device/BlueTooth/BlueToothSaga.js
var BlueToothSaga_marked=regenerator_default.a.mark(bluetoothStartup),BlueToothSaga_marked2=regenerator_default.a.mark(BlueToothSaga_handleScanning),BlueToothSaga_marked3=regenerator_default.a.mark(BlueToothSaga_handleConnection),BlueToothSaga_marked4=regenerator_default.a.mark(readBlueDeviceData),BlueToothSaga_marked5=regenerator_default.a.mark(scanBluetooth),BlueToothSaga_marked6=regenerator_default.a.mark(startBluetoothScan),BlueToothSaga_marked7=regenerator_default.a.mark(setBlueScannerStart),BlueToothSaga_marked8=regenerator_default.a.mark(stopBluetoothScan),BlueToothSaga_marked9=regenerator_default.a.mark(bluetoothScanAble);function bluetoothStartup(sagaArgs){var permitError;return regenerator_default.a.wrap(function bluetoothStartup$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return Object(redux_saga_effects_npm_proxy_esm["c" /* call */])(deviceService.isBlePermitted);case 2:permitError=_context.sent;if(!permitError){_context.next=8;break;}_context.next=6;return Object(redux_saga_effects_npm_proxy_esm["g" /* put */])(Device_Actions.setDeviceError(permitError));case 6:_context.next=12;break;case 8:_context.next=10;return Object(redux_saga_effects_npm_proxy_esm["f" /* fork */])(BlueToothSaga_handleScanning,sagaArgs.BlueManager);case 10:_context.next=12;return Object(redux_saga_effects_npm_proxy_esm["f" /* fork */])(BlueToothSaga_handleConnection,sagaArgs.BlueManager);case 12:console.log('BlueTooth Startup : Done');case 13:case"end":return _context.stop();}}},BlueToothSaga_marked);}function BlueToothSaga_handleScanning(manager){var scanTask,scannerState,connectionMethode,connectionState,channel,action,enableScanning;return regenerator_default.a.wrap(function handleScanning$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:console.log("Handle Bluetooh Scanning...");scanTask=null;_context2.next=4;return Object(redux_saga_effects_npm_proxy_esm["i" /* select */])(function(state){return state.device.scannerState;});case 4:scannerState=_context2.sent;_context2.next=7;return Object(redux_saga_effects_npm_proxy_esm["i" /* select */])(function(state){return state.device.connectionMethode;});case 7:connectionMethode=_context2.sent;_context2.next=10;return Object(redux_saga_effects_npm_proxy_esm["i" /* select */])(function(state){return state.device.connectionState;});case 10:connectionState=_context2.sent;_context2.next=13;return Object(redux_saga_effects_npm_proxy_esm["a" /* actionChannel */])(['SCANNER_STATE_UPDATED','CONNECTION_METHODE_UPDATED','CONNECTION_STATE_UPDATED']);case 13:channel=_context2.sent;case 14:_context2.next=16;return Object(redux_saga_effects_npm_proxy_esm["j" /* take */])(channel);case 16:action=_context2.sent;_context2.t0=action.type;_context2.next=_context2.t0==='SCANNER_STATE_UPDATED'?20:_context2.t0==='CONNECTION_METHODE_UPDATED'?22:_context2.t0==='CONNECTION_STATE_UPDATED'?24:26;break;case 20:scannerState=action.scannerState;return _context2.abrupt("break",26);case 22:connectionMethode=action.connectionMethode;return _context2.abrupt("break",26);case 24:connectionState=action.connectionState;return _context2.abrupt("break",26);case 26:enableScanning=(scannerState===ScannerState.AVAILABLE||scannerState===ScannerState.SCANNING)&&connectionMethode===ConnectionMethode.BLUETOOTH&&(connectionState===ConnectionState.DISCONNECTING||connectionState===ConnectionState.DISCONNECTED);if(!enableScanning){_context2.next=37;break;}if(!(scannerState!=ScannerState.SCANNING)){_context2.next=35;break;}if(!(scanTask!=null)){_context2.next=32;break;}_context2.next=32;return Object(redux_saga_effects_npm_proxy_esm["d" /* cancel */])(scanTask);case 32:_context2.next=34;return Object(redux_saga_effects_npm_proxy_esm["f" /* fork */])(scanBluetooth,manager);case 34:scanTask=_context2.sent;case 35:_context2.next=41;break;case 37:if(!(scanTask!=null)){_context2.next=41;break;}_context2.next=40;return Object(redux_saga_effects_npm_proxy_esm["d" /* cancel */])(scanTask);case 40:scanTask=null;case 41:_context2.next=14;break;case 43:case"end":return _context2.stop();}}},BlueToothSaga_marked2);}function BlueToothSaga_handleConnection(manager){var testTask,_yield$take,device,connectionMethode,res;return regenerator_default.a.wrap(function handleConnection$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:console.log("Handle Bluetooth Connection...");testTask=null;case 2:_context3.next=4;return Object(redux_saga_effects_npm_proxy_esm["j" /* take */])('CONNECT_BLUETOOTH');case 4:_yield$take=_context3.sent;device=_yield$take.device;_context3.next=8;return Object(redux_saga_effects_npm_proxy_esm["i" /* select */])(function(state){return state.device.connectionMethode;});case 8:connectionMethode=_context3.sent;if(!(connectionMethode!=ConnectionMethode.BLUETOOTH)){_context3.next=11;break;}return _context3.abrupt("continue",52);case 11:if(!(device===null)){_context3.next=17;break;}_context3.next=14;return Object(redux_saga_effects_npm_proxy_esm["g" /* put */])(Device_Actions.setDeviceError("Could not find device.."));case 14:_context3.next=16;return Object(redux_saga_effects_npm_proxy_esm["g" /* put */])(Device_Actions.connectionStateUpdated(ConnectionState.DISCONNECTED));case 16:return _context3.abrupt("return");case 17:console.log("Connect device");_context3.prev=18;_context3.prev=19;_context3.next=22;return Object(redux_saga_effects_npm_proxy_esm["g" /* put */])(Device_Actions.connectionStateUpdated(ConnectionState.CONNECTING));case 22:_context3.next=24;return Object(redux_saga_effects_npm_proxy_esm["c" /* call */])(manager.PairDevice,device.id);case 24:res=_context3.sent;console.log("",res);_context3.next=28;return Object(redux_saga_effects_npm_proxy_esm["g" /* put */])(Device_Actions.connectionStateUpdated(ConnectionState.CONNECTED));case 28:_context3.next=30;return Object(redux_saga_effects_npm_proxy_esm["g" /* put */])(Device_Actions.connectionMethodeUpdated(ConnectionMethode.BLE));case 30:_context3.next=32;return Object(redux_saga_effects_npm_proxy_esm["g" /* put */])(Device_Actions.connectedDeviceUpdated(device));case 32:_context3.next=37;break;case 34:_context3.prev=34;_context3.t0=_context3["catch"](19);console.log("?: ",_context3.t0);case 37:_context3.prev=37;_context3.next=40;return Object(redux_saga_effects_npm_proxy_esm["g" /* put */])(Device_Actions.connectedDeviceUpdated(null));case 40:_context3.next=42;return Object(redux_saga_effects_npm_proxy_esm["g" /* put */])(Device_Actions.connectionStateUpdated(ConnectionState.DISCONNECTED));case 42:return _context3.finish(37);case 43:_context3.next=52;break;case 45:_context3.prev=45;_context3.t1=_context3["catch"](18);console.log('Error on device actions... ',_context3.t1);_context3.next=50;return Object(redux_saga_effects_npm_proxy_esm["g" /* put */])(Device_Actions.removeDevice(device));case 50:_context3.next=52;return Object(redux_saga_effects_npm_proxy_esm["g" /* put */])(Device_Actions.connectionStateUpdated(ConnectionState.DISCONNECTING));case 52:_context3.next=2;break;case 54:case"end":return _context3.stop();}}},BlueToothSaga_marked3,null,[[18,45],[19,34,37,43]]);}function readBlueDeviceData(sagaArgs){var manager,device,Message;return regenerator_default.a.wrap(function readBlueDeviceData$(_context4){while(1){switch(_context4.prev=_context4.next){case 0:console.log("Blue Read");manager=sagaArgs.BlueManager;_context4.next=4;return Object(redux_saga_effects_npm_proxy_esm["i" /* select */])(function(state){return state.device.connectedDevice;});case 4:device=_context4.sent;if(!(device===null)){_context4.next=7;break;}return _context4.abrupt("return");case 7:_context4.next=9;return Object(redux_saga_effects_npm_proxy_esm["c" /* call */])(manager.receiveData,device.id);case 9:Message=_context4.sent;console.log(Message);if(!(Message!="")){_context4.next=14;break;}_context4.next=14;return Object(redux_saga_effects_npm_proxy_esm["g" /* put */])(Device_Actions.updateDeviceData({TAGId:Message}));case 14:case"end":return _context4.stop();}}},BlueToothSaga_marked4);}function scanBluetooth(manager){var bluetoothChannel,scannedDevice;return regenerator_default.a.wrap(function scanBluetooth$(_context5){while(1){switch(_context5.prev=_context5.next){case 0:_context5.next=2;return Object(redux_saga_effects_npm_proxy_esm["g" /* put */])(Device_Actions.scannerStateUpdated(ScannerState.SCANNING));case 2:_context5.next=4;return Object(redux_saga_effects_npm_proxy_esm["g" /* put */])(Device_Actions.clearDevices());case 4:console.log("Scanning started");_context5.next=7;return Object(redux_saga_effects_npm_proxy_esm["c" /* call */])(manager.Discover);case 7:_context5.next=9;return Object(redux_saga_core_npm_proxy_esm["c" /* eventChannel */])(function(emit){var blueTootControlEmitter=new NativeEventEmitter_default.a(manager);var subscription=blueTootControlEmitter.addListener('blueToothDeviceFound',function(device){if(device!=null){var scannedDevice=new react_native_ble_plx["b" /* Device */]();scannedDevice.id=device.address;scannedDevice.localName=device.name!=null?device.name:"NONE";scannedDevice.name=device.alias;if(scannedDevice.localName!=null){if(scannedDevice.localName==='SensorTag'){emit(scannedDevice);}else{emit(scannedDevice);}}else if(device.alias!=null&&device.alias!=""){scannedDevice.name=device.alias;emit(scannedDevice);}}});return function(){subscription.remove();};},redux_saga_core_npm_proxy_esm["a" /* buffers */].expanding(1));case 9:bluetoothChannel=_context5.sent;_context5.prev=10;case 11:_context5.next=13;return Object(redux_saga_effects_npm_proxy_esm["j" /* take */])(bluetoothChannel);case 13:scannedDevice=_context5.sent;if(!(scannedDevice!=null)){_context5.next=18;break;}console.log("Interest Device Found: "+scannedDevice.localName+" : "+scannedDevice.id);_context5.next=18;return Object(redux_saga_effects_npm_proxy_esm["g" /* put */])(Device_Actions.addDevice(scannedDevice));case 18:_context5.next=11;break;case 20:_context5.prev=20;_context5.next=23;return Object(redux_saga_effects_npm_proxy_esm["e" /* cancelled */])();case 23:if(!_context5.sent){_context5.next=30;break;}_context5.next=26;return Object(redux_saga_effects_npm_proxy_esm["c" /* call */])(manager.StopDiscovery);case 26:_context5.next=28;return Object(redux_saga_effects_npm_proxy_esm["g" /* put */])(Device_Actions.scannerStateUpdated(ScannerState.IDLE));case 28:console.log('Scanning stopped...');bluetoothChannel.close();case 30:return _context5.finish(20);case 31:case"end":return _context5.stop();}}},BlueToothSaga_marked5,null,[[10,,20,31]]);}function startBluetoothScan(){var connectionMethode,scannerState;return regenerator_default.a.wrap(function startBluetoothScan$(_context6){while(1){switch(_context6.prev=_context6.next){case 0:_context6.next=2;return Object(redux_saga_effects_npm_proxy_esm["i" /* select */])(function(state){return state.device.connectionMethode;});case 2:connectionMethode=_context6.sent;_context6.next=5;return Object(redux_saga_effects_npm_proxy_esm["i" /* select */])(function(state){return state.device.scannerState;});case 5:scannerState=_context6.sent;if(!(connectionMethode!==ConnectionMethode.BLUETOOTH)){_context6.next=9;break;}_context6.next=9;return Object(redux_saga_effects_npm_proxy_esm["g" /* put */])(Device_Actions.connectionMethodeUpdated(ConnectionMethode.BLUETOOTH));case 9:_context6.next=11;return Object(redux_saga_effects_npm_proxy_esm["c" /* call */])(setBlueScannerStart);case 11:case"end":return _context6.stop();}}},BlueToothSaga_marked6);}function setBlueScannerStart(){var connectionMethode,scannerState;return regenerator_default.a.wrap(function setBlueScannerStart$(_context7){while(1){switch(_context7.prev=_context7.next){case 0:_context7.next=2;return Object(redux_saga_effects_npm_proxy_esm["i" /* select */])(function(state){return state.device.connectionMethode;});case 2:connectionMethode=_context7.sent;_context7.next=5;return Object(redux_saga_effects_npm_proxy_esm["i" /* select */])(function(state){return state.device.scannerState;});case 5:scannerState=_context7.sent;if(!(scannerState===ScannerState.IDLE&&connectionMethode===ConnectionMethode.BLUETOOTH)){_context7.next=9;break;}_context7.next=9;return Object(redux_saga_effects_npm_proxy_esm["g" /* put */])(Device_Actions.scannerStateUpdated(ScannerState.AVAILABLE));case 9:case"end":return _context7.stop();}}},BlueToothSaga_marked7);}function stopBluetoothScan(){var connectionMethode;return regenerator_default.a.wrap(function stopBluetoothScan$(_context8){while(1){switch(_context8.prev=_context8.next){case 0:_context8.next=2;return Object(redux_saga_effects_npm_proxy_esm["i" /* select */])(function(state){return state.device.connectionMethode;});case 2:connectionMethode=_context8.sent;if(!(connectionMethode===ConnectionMethode.BLUETOOTH)){_context8.next=6;break;}_context8.next=6;return Object(redux_saga_effects_npm_proxy_esm["g" /* put */])(Device_Actions.scannerStateUpdated(ScannerState.IDLE));case 6:case"end":return _context8.stop();}}},BlueToothSaga_marked8);}function bluetoothScanAble(sagaArgs){return regenerator_default.a.wrap(function bluetoothScanAble$(_context9){while(1){switch(_context9.prev=_context9.next){case 0:_context9.next=2;return Object(redux_saga_effects_npm_proxy_esm["c" /* call */])(sagaArgs.BlueManager.BluetoothSearchAble);case 2:case"end":return _context9.stop();}}},BlueToothSaga_marked9);}
// CONCATENATED MODULE: C:/Users/daniel/Documents/GitHub/AgrisysApp-Web/App/Src/Sagas/Device/DeviceSaga.js
var DeviceSaga_marked=regenerator_default.a.mark(deviceStartup),DeviceSaga_marked2=regenerator_default.a.mark(connectDevice),DeviceSaga_marked3=regenerator_default.a.mark(disconnectDevice),DeviceSaga_marked4=regenerator_default.a.mark(readDeviceData),DeviceSaga_marked5=regenerator_default.a.mark(fetchDevice);function deviceStartup(){return regenerator_default.a.wrap(function deviceStartup$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return Object(redux_saga_effects_npm_proxy_esm["g" /* put */])(Device_Actions.setDeviceError(""));case 2:_context.next=4;return Object(redux_saga_effects_npm_proxy_esm["g" /* put */])(Device_Actions.clearDevices());case 4:_context.next=6;return Object(redux_saga_effects_npm_proxy_esm["g" /* put */])(Device_Actions.connectedDeviceUpdated(null));case 6:_context.next=8;return Object(redux_saga_effects_npm_proxy_esm["g" /* put */])(Device_Actions.connectionStateUpdated(ConnectionState.DISCONNECTED));case 8:_context.next=10;return Object(redux_saga_effects_npm_proxy_esm["g" /* put */])(Device_Actions.bleStartup());case 10:_context.next=12;return Object(redux_saga_effects_npm_proxy_esm["g" /* put */])(Device_Actions.bluetoothStartup());case 12:console.log('Device Startup : Done');case 13:case"end":return _context.stop();}}},DeviceSaga_marked);}function connectDevice(device){return regenerator_default.a.wrap(function connectDevice$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:_context2.next=2;return Object(redux_saga_effects_npm_proxy_esm["g" /* put */])(Device_Actions.scannerStateUpdated(ScannerState.IDLE));case 2:case"end":return _context2.stop();}}},DeviceSaga_marked2);}function disconnectDevice(methode){return regenerator_default.a.wrap(function disconnectDevice$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:case"end":return _context3.stop();}}},DeviceSaga_marked3);}function readDeviceData(){var connectedDevice,connectionMethode;return regenerator_default.a.wrap(function readDeviceData$(_context4){while(1){switch(_context4.prev=_context4.next){case 0:_context4.next=2;return Object(redux_saga_effects_npm_proxy_esm["i" /* select */])(function(state){return state.device.connectedDevice;});case 2:connectedDevice=_context4.sent;if(!(connectedDevice!=null)){_context4.next=15;break;}_context4.next=6;return Object(redux_saga_effects_npm_proxy_esm["i" /* select */])(function(state){return state.device.connectionMethode;});case 6:connectionMethode=_context4.sent;if(!(connectionMethode==ConnectionMethode.BLE)){_context4.next=12;break;}_context4.next=10;return Object(redux_saga_effects_npm_proxy_esm["g" /* put */])(Device_Actions.readBleDeviceData());case 10:_context4.next=15;break;case 12:if(!(connectionMethode==ConnectionMethode.BLUETOOTH)){_context4.next=15;break;}_context4.next=15;return Object(redux_saga_effects_npm_proxy_esm["g" /* put */])(Device_Actions.readBlueDeviceData());case 15:case"end":return _context4.stop();}}},DeviceSaga_marked4);}function fetchDevice(sagaArgs){return regenerator_default.a.wrap(function fetchDevice$(_context5){while(1){switch(_context5.prev=_context5.next){case 0:console.log("??");case 1:case"end":return _context5.stop();}}},DeviceSaga_marked5);}
// EXTERNAL MODULE: C:/Users/daniel/Documents/GitHub/AgrisysApp-Web/App/node_modules/react-native-web/dist/cjs/exports/Alert/index.js
var Alert = __webpack_require__(235);
var Alert_default = /*#__PURE__*/__webpack_require__.n(Alert);

// CONCATENATED MODULE: C:/Users/daniel/Documents/GitHub/AgrisysApp-Web/App/Src/Stores/Firebase/Selectors.js
var UserStates={STARTER:'starter',FREE:'free',WORKER:'worker',OWNER:'owner',ADMIN:'admin'};var DataStates={CLOSED:'Closed'};var DataRefs={FIREBASEUSER:'firebaseuser',USERSDATA:'usersdata',USERS:'users',FARMS:'farms',SECTIONS:'farms_data/$farmid/sections',PENS:'farms_data/$farmid/pens',PIGS:'farms_data/$farmid/pigs',BATCHS:'farms_data/$farmid/batchs',WEIGHING:'farms_data/$farmid/pens/$penid/weighings/',GRAPH:'farms_data/$farmid/Graph/$graphid/',COMMENTS:'farms_data/$farmid/datas/comments/',FARMDATAS:'farms_data/$farmid/datas/',SHARES:'shareData',CONSYS:'consys'};var ConsysRefs={VALVEFEED:100,SCALE:700};var Selectors_Actions={SIGN:'sign',FETCH:'fetch',CREATE:'create',UPDATE:'update',MOVE:'move',DELETE:'delete',CLEAR:'clear',ADD:'add'};var Selectors_Operations={ADD:'Add pig',MOVE:'Move pig',LOST:'Lost pig',SOLD:'Sold pig',NOTE:'Pen Note'};var ErrorTypes={SYSTEM:'System',EMAIL:'Email',PASSWORD:'Password',FORMAT:'Format'};function format_num(num){if(num<10){num="0"+num;}return num;}function format_Time(time){var s=new Date(parseInt(time));var datetime=format_num(s.getDate())+"/"+format_num(s.getMonth()+1)+"/"+s.getFullYear()+" "+format_num(s.getHours())+":"+format_num(s.getMinutes())+":"+format_num(s.getSeconds());return datetime;}var reA=/[^a-zA-Z]/g;var reN=/[^0-9]/g;function sortAlphaNum(a,b){var aA=a.replace(reA,"");var bA=b.replace(reA,"");if(aA===bA){var aN=parseInt(a.replace(reN,""),10);var bN=parseInt(b.replace(reN,""),10);return aN===bN?0:aN>bN?1:-1;}else{return aA>bA?1:-1;}}function sortObject(o){var sorted={},key,a=[];for(key in o){if(o.hasOwnProperty(key)&&key!=="__jsogObjectId"&&key!=="update_time"){a.push(key);}}a.sort(sortAlphaNum);for(key=0;key<a.length;key++){sorted[a[key]]=o[a[key]];}return sorted;}function DataStringCheck(data){var Check_num=arguments.length>1&&arguments[1]!==undefined?arguments[1]:true;if(!data||data===""){return false;}if(!typeof data==='string'){return false;}else{if(Check_num){var first=data[0];var numbers='0123456789';for(var i=0;i<numbers.length;i++){if(first===numbers[i]){return false;}}}var specialChars='/[`!@#$%^&*()+\-=\[\]{};\':"\\|,.<>\/?~]/¨´';for(var i=0;i<specialChars.length;i++){if(data.indexOf(specialChars[i])>-1){return false;}}}return true;}function GetWeight_FromPen(PenId){var WeighingsStore=arguments.length>1&&arguments[1]!==undefined?arguments[1]:null;var AfterTime=arguments.length>2&&arguments[2]!==undefined?arguments[2]:null;var BeforeTime=arguments.length>3&&arguments[3]!==undefined?arguments[3]:null;var Weighing=null;if(PenId,WeighingsStore){for(var _weighing in WeighingsStore[PenId]){var weighing=WeighingsStore[PenId][_weighing];if(weighing&&(!Weighing||Weighing.time<weighing.time)){if((!AfterTime||weighing.time>=AfterTime)&&(!BeforeTime||weighing.time<=BeforeTime)){Weighing=weighing;}}}}return Weighing;}function GetBatch_FromPen(localDataStore,PenId){if(localDataStore.batchs){for(var _batch in localDataStore.batchs){var batch=localDataStore.batchs[_batch];if(batch.hasOwnProperty("pens")&&batch.pens[PenId]!=null){return localDataStore.batchs[_batch];}}}return null;}function GetStats_FromPen(PenId,PenData,localDataStore,StartDate,EndDate){var PenWeighings=arguments.length>5&&arguments[5]!==undefined?arguments[5]:null;var Animals=0;var PenWeight=0;var PenGrowth=0;var AveragePenGrowth=0;if(PenData.datas&&PenData.datas.count||PenData.count){if(PenData.count)Animals+=PenData.count;else Animals+=PenData.datas.count;}if(localDataStore.weighings&&localDataStore.weighings[PenId]){var GrowthCount=0;var lastDate=0;var LastWeight=undefined;var LastWeightDay=undefined;var FirstWeight=undefined;if(!PenWeighings)PenWeighings=localDataStore.weighings[PenId];if(PenWeighings){Object.keys(PenWeighings).forEach(function(weight){var Weight=PenWeighings[weight];if(Weight.time>=StartDate&&Weight.time<=EndDate&&Weight.time>lastDate){PenWeight=Weight.weight;if(Weight.count)PenWeight=Weight.weight/Weight.count;if(LastWeight!==undefined){PenGrowth=PenWeight-LastWeight;GrowthCount++;}lastDate=Weight.time;LastWeight=PenWeight;LastWeightDay=Weight.time;if(!FirstWeight)FirstWeight=Weight.time;}});}var now=new Date().getTime();var isVirtual=false;if(StartDate&&EndDate){var Batch=GetBatch_FromPen(localDataStore,PenId);var TempGraph=GetCurve_FromBatch(Batch,localDataStore.graphs);var BatchEndDate=EndDate;var Predict=Selectors_CurvePredict(localDataStore,PenId,Batch,TempGraph);if(Predict!=null&&Predict.Now&&now>new Date(lastDate).getDate()){PenWeight=Predict.Now;if(LastWeight!==undefined){PenGrowth+=PenWeight-LastWeight;GrowthCount++;}var _date=new Date(Predict.lastWeighing.time+Predict.Addition);_date.setDate(_date.getDate()+Predict.days);LastWeightDay=_date.getTime();isVirtual=true;}if(Predict&&Predict.lastWeighing&&Predict.days){var tempEnd=new Date(EndDate).getTime();var date=new Date(Predict.lastWeighing.time);date.setDate(date.getDate()+Predict.days);tempEnd=date.getTime();if(Predict.Addition){tempEnd+=Predict.Addition;}if(EndDate===BatchEndDate||EndDate<tempEnd){EndDate=tempEnd;}}}if(GrowthCount>0){var Growth=PenGrowth/GrowthCount;var days=(LastWeightDay-FirstWeight)/86400000;Growth=Growth/days;AveragePenGrowth+=Growth;}}return{Animals:Animals,PenWeight:PenWeight,AveragePenGrowth:AveragePenGrowth,EndDate:EndDate,isVirtual:isVirtual};}function GetStats_FromBatch(Batch,localDataStore){var Closed=arguments.length>2&&arguments[2]!==undefined?arguments[2]:true;if(!Batch)return null;var isVirtual=false;var PenCount=0;var Animals=0;var CollectedWeight=0;var CollectedGrowth=0;var isClosed=Batch.state&&Batch.state==="Closed"?true:false;var TempGraph=GetCurve_FromBatch(Batch,localDataStore.graphs);if(!TempGraph)return null;var TargetWeight=Batch&&Batch.datas&&Batch.datas.target?Batch.datas.target:TempGraph.data[TempGraph.data.length-1];var EndDate=GetBatchEnd(Batch,TempGraph);var StartDate=Batch.time;var PenEnds=0;if(Batch&&Batch.pens&&localDataStore.pens){Object.keys(Batch.pens).reverse().filter(function(e){return e!=='__jsogObjectId';}).forEach(function(Batch_Pen){if(localDataStore&&localDataStore.pens&&localDataStore.pens[Batch_Pen]&&localDataStore.weighings&&localDataStore.weighings[Batch_Pen]||isClosed){var Pen=isClosed?Batch.pens[Batch_Pen]:localDataStore.pens[Batch_Pen];PenCount++;var PenWeighings=isClosed?Batch.closed.weighings[Batch_Pen]:localDataStore.weighings[Batch_Pen];if(PenWeighings){var PenStats=GetStats_FromPen(Batch_Pen,Pen,localDataStore,StartDate,EndDate,PenWeighings);Animals+=PenStats.Animals;var PenWeight=PenStats.PenWeight;if(PenWeight===0){PenCount--;}else{CollectedWeight+=PenWeight;CollectedGrowth+=PenStats.AveragePenGrowth;if(PenEnds<PenStats.EndDate)PenEnds=PenStats.EndDate;if(!isVirtual)isVirtual=PenStats.isVirtual;}}}});}if(PenEnds>0)EndDate=PenEnds;var AverageWeight=CollectedWeight/PenCount;AverageWeight=parseFloat(AverageWeight).toFixed(2);var AverageGrowth=CollectedGrowth/PenCount;AverageGrowth=parseFloat(AverageGrowth).toFixed(2);return{StartDate:StartDate,EndDate:EndDate,TargetWeight:TargetWeight,PenCount:PenCount,Animals:Animals,AverageWeight:AverageWeight,AverageGrowth:AverageGrowth,isClosed:isClosed,isVirtual:isVirtual};}function GetCurve_FromBatch(Batch){var GraphsStore=arguments.length>1&&arguments[1]!==undefined?arguments[1]:null;var CurrentData=arguments.length>2&&arguments[2]!==undefined?arguments[2]:null;if(Batch){var Garph=null;if(Batch.gcurve&&Batch.state&&Batch.state===DataStates.CLOSED){Garph=Batch.gcurve;}else if(GraphsStore){if(CurrentData&&(typeof CurrentData==='string'||CurrentData.curveId)){var Id=typeof CurrentData==='string'?CurrentData:CurrentData.curveId;Garph=GraphsStore[Id];}if(Batch.gcurve){Garph=GraphsStore[Batch.gcurve];}}if(Garph){var DataPoints=[];var _index=0;Object.keys(Garph.data).filter(function(e){return e!=='__jsogObjectId';}).map(function(index){DataPoints[index]=Garph.data[index];for(var i=index-1;i>_index;i--){DataPoints[i]=null;}_index=index;});Garph.data=DataPoints;return Garph;}}return null;}function GetBatchEnd(Batch,TempCurve){if(Batch&&Batch.time&&TempCurve){var currentTime=new Date(Batch.time);for(var i=0;i<TempCurve.data.length;i++){if(i<TempCurve.data.length-1){currentTime=new Date(AccumulateTime(currentTime,TempCurve.periode));}}return currentTime.getTime();}return null;}function AccumulateTime(Time,PeriodeLength){var NewTime=new Date(Time.getTime());switch(PeriodeLength){case"Days":NewTime.setDate(NewTime.getDate()+1);break;case"Month":NewTime.setMonth(NewTime.getMonth()+1);break;case"Weeks":default:NewTime.setDate(NewTime.getDate()+7);break;}return NewTime;}function get_DataSpot_FromData(localDataStore,PenId,Batch){var Closed=arguments.length>3&&arguments[3]!==undefined?arguments[3]:false;if(localDataStore.weighings&&localDataStore.weighings[PenId]){var Weighing=null;for(var _weighing in localDataStore.weighings[PenId]){var weighing=localDataStore.weighings[PenId][_weighing];if(weighing&&(!Weighing||Weighing.time<weighing.time)){Weighing=weighing;}}if(Weighing){var weight=Weighing.weight;weight=weight/Weighing.count;if(weight&&!isNaN(weight)){if(!Batch){for(var _batch in localDataStore.batchs){var batch=localDataStore.batchs[_batch];if(batch.hasOwnProperty("pens")&&batch.pens[PenId]!=null){Batch=localDataStore.batchs[_batch];}}}if(Batch&&Batch.time&&Batch.datas&&localDataStore.graphs&&localDataStore.graphs[Batch.gcurve]){var Curve=localDataStore.graphs[Batch.gcurve];var WeighingTime=Weighing.time;if(Closed||WeighingTime>Batch.time&&(!Batch.state||Batch.state!=="Closed")){var StartTime=Batch.time;var EndTime=Batch.time;var index=0;var currentTime=new Date(StartTime);for(index=0;index<Curve.data.length-1;index++){currentTime=new Date(AccumulateTime(currentTime,Curve.periode));EndTime=currentTime.getTime();if(EndTime>=WeighingTime){break;}else{StartTime=EndTime;}}var Keys=Object.keys(Curve.data);var DataSpot=get_DataSpot([StartTime,EndTime],[Curve.data[Keys[index]],Curve.data[index+1]],new Date().getTime(),weight,WeighingTime);DataSpot.Batch=Batch;return DataSpot;}}}}}return null;}function get_DataSpot(MinMax_Time,MinMax_Data,FindTime,Data,DataTime){var ExValue=null;var VirData=null;var ExTime=null;if(FindTime){var slope=GetSlope_Between(MinMax_Time,MinMax_Data);var FindX=FindTime-MinMax_Time[0];ExValue=FindX*slope+MinMax_Data[0];if(Data&&DataTime){var Findx2=DataTime-MinMax_Time[0];var ExData=Findx2*slope+MinMax_Data[0];var DataDiff=ExData-Data;VirData=ExValue+DataDiff;ExTime=(Data-MinMax_Data[0])/slope;ExTime=MinMax_Time[0]+ExTime;ExTime=Math.floor(ExTime);}}return{ExValue:ExValue,VirData:VirData,ExTime:ExTime};}function GetSlope_Between(MinMax_Time,MinMax_Data){var minX=MinMax_Time[0];var maxX=MinMax_Time[1];var minY=MinMax_Data[0];var maxY=MinMax_Data[1];var slope=(maxY-minY)/(maxX-minX);if(minY>minX)slope=-slope;return slope;}function Selectors_CurvePredict(localDataStore,PenId,Batch,TempCurve){if(localDataStore){if(!PenId&&Batch&&Batch.pens){PenId=Object.keys(Batch.pens).filter(function(e){return e!=='__jsogObjectId';})[0];}if(!Batch){Batch=GetBatch_FromPen(localDataStore,PenId);}if(Batch&&Batch.time){if(!TempCurve){TempCurve=GetCurve_FromBatch(Batch,localDataStore.graphs);}if(TempCurve&&TempCurve.data){var BatchEndDate=GetBatchEnd(Batch,TempCurve);var Weighing=GetWeight_FromPen(PenId,localDataStore.weighings,Batch.time,BatchEndDate);if(Weighing&&Weighing.weight){var weight=Weighing.weight;if(Weighing.count)weight=weight/Weighing.count;var Weighing2=GetWeight_FromPen(PenId,localDataStore.weighings,Batch.time,Weighing.time-1);var weight2=Weighing2?Weighing2.weight:0;if(Weighing2&&Weighing2.count)weight2=weight2/Weighing2.count;var StartIndex="none";var PredictCurve={periode:TempCurve.periode,data:[]};var now=new Date(Date.now());now=new Date(now.getFullYear(),now.getMonth(),now.getDate()).getTime();var CurrentTime=new Date(Batch.time);var Temp_CurrentIndex=0;for(var index=0;index<TempCurve.data.length;index++){if(CurrentTime.getTime()<=now){CurrentTime=new Date(AccumulateTime(CurrentTime,TempCurve.periode));Temp_CurrentIndex++;}if(weight<=TempCurve.data[index]){if(StartIndex==="none"){StartIndex=index;if(index===0){var slope=GetSlope_Between([Weighing.time,AccumulateTime(new Date(Weighing.time),TempCurve.periode)],[TempCurve.data[0],TempCurve.data[1]]);var time=(TempCurve.data[0]-weight)/slope;Weighing2=Weighing;weight2=weight;Weighing={weight:TempCurve.data[0],time:Math.floor(Weighing.time+time)};weight=TempCurve.data[0];}}PredictCurve.data.push(TempCurve.data[index]);}}if(weight<weight2){StartIndex=StartIndex-1;PredictCurve.data.unshift(TempCurve.data[StartIndex]);}var PredictStart=new Date(Batch.time);for(var _index2=0;_index2<StartIndex;_index2++){PredictStart=new Date(AccumulateTime(PredictStart,TempCurve.periode));}PredictCurve.Now=weight;PredictCurve.TempEx=TempCurve.data[Temp_CurrentIndex];if(StartIndex!=="none"){var DataSpot=null;if(Weighing2){DataSpot=get_DataSpot([Weighing2.time,Weighing.time],[weight2,weight],Weighing.time,TempCurve.data[StartIndex],PredictStart.getTime());}if(DataSpot&&DataSpot.ExTime){PredictCurve.FirstSpot=DataSpot.ExTime;PredictCurve.Addition=DataSpot.ExTime-Weighing.time;}else{PredictCurve.FirstSpot=new Date(Weighing.time+86400000);PredictCurve.Addition=86400000;}if(BatchEndDate){var now=new Date(Date.now());now=new Date(now.getFullYear(),now.getMonth(),now.getDate()).getTime();var Temp_CurrentTime;CurrentTime=new Date(Weighing.time);var CurrentIndex=0;for(var index=0;index<PredictCurve.data.length;index++){if(CurrentTime.getTime()<now){Temp_CurrentTime=CurrentTime;CurrentTime=new Date(AccumulateTime(CurrentTime,TempCurve.periode));CurrentIndex++;}}var WeightNow;if(CurrentIndex>=PredictCurve.data.length){DataSpot=get_DataSpot([Temp_CurrentTime,CurrentTime],[PredictCurve.data[PredictCurve.data.length-2],PredictCurve.data[PredictCurve.data.length-1]],Date.now());WeightNow=DataSpot.ExValue;}else{CurrentIndex--;WeightNow=PredictCurve.data[CurrentIndex];}if(WeightNow)PredictCurve.Now=WeightNow;else PredictCurve.Now=weight;}}var days=0;if(TempCurve.periode==="Days")days=PredictCurve.data.length;else if(TempCurve.periode==="Weeks")days=PredictCurve.data.length*7;PredictCurve.days=days;PredictCurve.lastWeighing=Weighing;Batch.datas.target=Batch.datas.target?Batch.datas.target:TempCurve.data[TempCurve.data.length-1];PredictCurve.Batch=Batch;return PredictCurve;}}}}return null;}
// CONCATENATED MODULE: C:/Users/daniel/Documents/GitHub/AgrisysApp-Web/App/Src/Services/FirebaseService.js
function FirebaseService_ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);if(enumerableOnly)symbols=symbols.filter(function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable;});keys.push.apply(keys,symbols);}return keys;}function FirebaseService_objectSpread(target){for(var i=1;i<arguments.length;i++){var source=arguments[i]!=null?arguments[i]:{};if(i%2){FirebaseService_ownKeys(Object(source),true).forEach(function(key){defineProperty_default()(target,key,source[key]);});}else if(Object.getOwnPropertyDescriptors){Object.defineProperties(target,Object.getOwnPropertyDescriptors(source));}else{FirebaseService_ownKeys(Object(source)).forEach(function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key));});}}return target;}var auth,messaging,database,FirebaseService_firebase;if(Platform_default.a.OS==='ios'||Platform_default.a.OS==='android'){auth=__webpack_require__(232).default;messaging=__webpack_require__(298).default;database=__webpack_require__(416).default;}else{console.log("firebase load");var _firebase=__webpack_require__(187).default;__webpack_require__(218).default;__webpack_require__(297).default;__webpack_require__(366).default;FirebaseService_firebase=_firebase;if(!FirebaseService_firebase.apps.length){console.log("Starting");var Constants=__webpack_require__(417).default;console.log(Constants.manifest.web.config.firebase);_firebase.initializeApp(Constants.manifest.web.config.firebase);}auth=_firebase.auth;if(_firebase.messaging.isSupported()){messaging=_firebase.messaging;}database=_firebase.database;console.log("Started");}function isPermit_UserPermission(){return _isPermit_UserPermission.apply(this,arguments);}function _isPermit_UserPermission(){_isPermit_UserPermission=asyncToGenerator_default()(regenerator_default.a.mark(function _callee(){var authStatus,enabled;return regenerator_default.a.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:console.log("permit test");if(!messaging){_context.next=9;break;}_context.next=4;return messaging().requestPermission();case 4:authStatus=_context.sent;enabled=authStatus===messaging.AuthorizationStatus.AUTHORIZED||authStatus===messaging.AuthorizationStatus.PROVISIONAL;if(enabled){_context.next=9;break;}console.log('Authorization status:',authStatus);return _context.abrupt("return",false);case 9:return _context.abrupt("return",true);case 10:case"end":return _context.stop();}}},_callee);}));return _isPermit_UserPermission.apply(this,arguments);}function requestUserPermission(){return new Promise(function(resolve,reject){if((Platform_default.a.OS==="ios"||Platform_default.a.OS=="android")&&!isPermit_UserPermission()){resolve('This application needs premissions to be using notifications');}resolve(null);});}function is_getToken(){return _is_getToken.apply(this,arguments);}function _is_getToken(){_is_getToken=asyncToGenerator_default()(regenerator_default.a.mark(function _callee2(){var fcmToken;return regenerator_default.a.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:fcmToken="";if(!messaging){_context2.next=12;break;}_context2.prev=2;_context2.next=5;return messaging().getToken();case 5:fcmToken=_context2.sent;console.log('Device_token: ',fcmToken);_context2.next=12;break;case 9:_context2.prev=9;_context2.t0=_context2["catch"](2);console.log(_context2.t0);case 12:return _context2.abrupt("return",fcmToken);case 13:case"end":return _context2.stop();}}},_callee2,null,[[2,9]]);}));return _is_getToken.apply(this,arguments);}function requestFirebaseToken(){return new Promise(function(resolve,reject){var token;if(Platform_default.a.OS==='ios'||Platform_default.a.OS==='android'){try{token=is_getToken();}catch(_unused){}}else if(messaging&&messaging.isSupported()){try{token=is_getToken();}catch(_unused2){}}if(!token){resolve('Could not find Firebase messaging Token');}resolve(token);});}function wrappedAlert(title,message,okText,_cancelable){return new Promise(function(resolve){Alert_default.a.alert(title,message,[{text:okText,onPress:function onPress(){resolve();}}],{cancelable:_cancelable,onDismiss:function onDismiss(){resolve();}});});}function createFirebaseUserWithemailandpassword(_ref){var Email=_ref.Email,Pass=_ref.Pass;return new Promise(function(resolve,reject){auth().createUserWithEmailAndPassword(Email,Pass).then(function(){var User=auth().currentUser;var Name=User.displayName?User.displayName:User.email;actionStarting(DataRefs.USERSDATA,Selectors_Actions.UPDATE,{UserId:User.uid,Data:{name:Name,state:UserStates.STARTER}}).then(function(_data){User.updateProfile({displayName:Name}).then(function(data){User.sendEmailVerification().then(function(){resolve(null);}).catch(function(error){console.log("error in send EmailVerification",error);resolve({error:error.code,viewError:'Verification could not be send'});});}).catch(function(error){console.log("update profile");resolve({error:error.code,viewError:'Update error, please refresh'});});});}).catch(function(error){console.log("UserCreate Error: ",error);if(error.code==='auth/email-already-in-use'){resolve({error:error.code,viewError:'The email address is already in use.'});}else if(error.code==='auth/invalid-email'){resolve({error:error.code,viewError:'The email addres is invalid.'});}else if(error.code==='auth/weak-password'){resolve({error:error.code,viewError:error.message});}else{resolve({error:error.code,viewError:'Something went wrong'});}});});}function signinWithemailandpassword(_ref2){var Email=_ref2.Email,Pass=_ref2.Pass;if(auth().currentUser){if(auth().currentUser.email!=Email){var res=logoutUser();}else{return new Promise(function(resolve,reject){resolve(true);});}}return new Promise(function(resolve,reject){auth().signInWithEmailAndPassword(Email,Pass).then(function(){resolve(true);}).catch(function(error){console.log("User Signin Error: ",error);if(error.code==='auth/invalid-email'){resolve({error:error.code,viewError:'The email addres is invalid.'});}else{resolve({error:'Could not singin',viewError:'Could not singin'});}});});}function sendResetPassword(_ref3){var Email=_ref3.Email;return new Promise(function(resolve,reject){auth().sendPasswordResetEmail(Email).then(function(){resolve(true);}).catch(function(error){console.log("User resetPass error:",error);if(error.code==='auth/user-not-found'){}resolve(null);});});}function logoutUser(){return new Promise(function(resolve,reject){auth().signOut().then(function(){resolve({type:Selectors_Actions.UPDATE,path:DataRefs.FIREBASEUSER,data:null});}).catch(function(error){console.log("User logout error:",error);resolve({type:Selectors_Actions.UPDATE,path:DataRefs.FIREBASEUSER,data:null});});});}function refreshUser(){return new Promise(function(resolve,reject){var user=auth().currentUser;if(user){auth().currentUser.reload().then(function(data){user=auth().currentUser;console.log(data,user);});}resolve(null);});}function actionStarting(ref,action){var params=arguments.length>2&&arguments[2]!==undefined?arguments[2]:null;var CurrentUser=auth().currentUser;switch(ref){case DataRefs.USERSDATA:switch(action){case Selectors_Actions.FETCH:return FirebaseService_fetchUser(params);case Selectors_Actions.CREATE:if(params.hasOwnProperty("UserData")){return new Promise(function(resolve,reject){var Data=params[0];createFarm({Data:{name:params.Farms.name}}).then(function(farmid){FirebaseService_updateFarmData({FarmId:farmid,Data:{sections:params.Sections,pens:params.Pens}}).then(function(){updateUserData({Data:{state:params.UserData.state,farms:defineProperty_default()({},farmid,true)}}).then(function(){FirebaseService_fetchUser(CurrentUser.uid).then(function(data){var Data=data.data;resolve({type:Selectors_Actions.UPDATE,path:DataRefs.FIREBASEUSER,data:Data});});});});});});}break;case Selectors_Actions.UPDATE:return updateUserData(params);case Selectors_Actions.SIGN:if(!params){return logoutUser();}else{if(params.hasOwnProperty("refresh")){return refreshUser();}else return signinWithemailandpassword(params);}break;case Selectors_Actions.CLEAR:if(!CurrentUser){return{type:Selectors_Actions.CLEAR,path:DataRefs.USERS,data:{}};}else{return{type:Selectors_Actions.CLEAR,path:DataRefs.USERSDATA,data:{}};}break;}break;case DataRefs.USERS:switch(action){case Selectors_Actions.FETCH:return FirebaseService_fetchUser(params,true);case Selectors_Actions.CREATE:if(params.hasOwnProperty("Email")&&params.hasOwnProperty("Pass"))return createFirebaseUserWithemailandpassword(params);else if(params.hasOwnProperty("Email"))return sendResetPassword(params);break;case Selectors_Actions.UPDATE:return{type:Selectors_Actions.UPDATE,path:DataRefs.FIREBASEUSER,data:params};case Selectors_Actions.CLEAR:return{type:Selectors_Actions.CLEAR,path:DataRefs.USERS,data:{}};}break;case DataRefs.FARMS:switch(action){case Selectors_Actions.FETCH:return fetchFarm(params);case Selectors_Actions.CREATE:break;case Selectors_Actions.UPDATE:return FirebaseService_updateFarm(params);case Selectors_Actions.CLEAR:return{type:Selectors_Actions.CLEAR,path:DataRefs.FARMS,data:{}};}break;case DataRefs.FARMDATAS:switch(action){case Selectors_Actions.UPDATE:return FirebaseService_updateFarmData(params);}break;case DataRefs.SECTIONS:switch(action){case Selectors_Actions.FETCH:return fetchSections(params);case Selectors_Actions.CREATE:break;case Selectors_Actions.UPDATE:break;case Selectors_Actions.CLEAR:return{type:Selectors_Actions.CLEAR,path:DataRefs.SECTIONS,data:{}};}break;case DataRefs.PENS:switch(action){case Selectors_Actions.FETCH:return fetchPens(params);case Selectors_Actions.CREATE:return createNewPen(params);case Selectors_Actions.DELETE:return deletePen(params);case Selectors_Actions.UPDATE:return updatePen(params);case Selectors_Actions.CLEAR:return{type:Selectors_Actions.CLEAR,path:DataRefs.PENS,data:{}};}break;case DataRefs.PIGS:switch(action){case Selectors_Actions.FETCH:return fetchPigs(params);case Selectors_Actions.CREATE:return updatePigdata(params);case Selectors_Actions.UPDATE:break;case Selectors_Actions.CLEAR:return{type:Selectors_Actions.CLEAR,path:DataRefs.PIGS,data:{}};}break;case DataRefs.BATCHS:switch(action){case Selectors_Actions.FETCH:return fetchBatchs(params);case Selectors_Actions.CREATE:return createBatchs(params);case Selectors_Actions.UPDATE:return updateBatchs(params);case Selectors_Actions.DELETE:break;case Selectors_Actions.CLEAR:return{type:Selectors_Actions.CLEAR,path:DataRefs.BATCHS,data:{}};}break;case DataRefs.WEIGHING:switch(action){case Selectors_Actions.FETCH:return fetchWeights(params);case Selectors_Actions.CREATE:return createWeight(params);case Selectors_Actions.UPDATE:break;case Selectors_Actions.CLEAR:return{type:Selectors_Actions.CLEAR,path:DataRefs.WEIGHING,data:{}};}break;case DataRefs.COMMENTS:switch(action){case Selectors_Actions.FETCH:return fetchComments(params);case Selectors_Actions.CREATE:return createComment(params);}break;case DataRefs.GRAPH:switch(action){case Selectors_Actions.FETCH:return fetchGraphData(params);case Selectors_Actions.CREATE:return updateGraphData(params);case Selectors_Actions.UPDATE:return updateGraphData(params);case Selectors_Actions.CLEAR:return{type:Selectors_Actions.CLEAR,path:DataRefs.GRAPH,data:{}};}break;}return new Promise(function(resolve,reject){resolve({error:"Unknown Action"});});}function SetUpdateTime(DataRef){return new Promise(function(resolve,reject){console.log("Setting Update Time");database().ref(DataRef).update({update_time:database.ServerValue.TIMESTAMP}).then(function(){resolve(true);}).catch(function(error){console.log(error);resolve(true);});});}function CheckDataTime(DataRef,DataTime){return new Promise(function(resolve,reject){if(!DataTime)resolve(true);database().ref(DataRef+"/update_time").once('value').then(function(_Time){var UpdateTime=_Time.val();if(!UpdateTime){SetUpdateTime(DataRef).then(function(res){resolve(true);});}else{if(DataTime){if(DataTime==="SET"){SetUpdateTime(DataRef).then(function(res){resolve(res);});}else if(DataTime<UpdateTime){resolve(true);}else resolve(false);}else resolve(true);}});});}function FirebaseService_fetchUser(_ref4){var UserId=_ref4.UserId;var List=arguments.length>1&&arguments[1]!==undefined?arguments[1]:false;var user="";if(UserId)user=UserId;else if(!List&&auth().currentUser)user=auth().currentUser.uid;if(user||List){var ref="users/"+user;return new Promise(function(resolve,reject){database().ref(ref).once('value').then(function(userData){var data=userData.val();if(!List){resolve({type:Selectors_Actions.UPDATE,path:DataRefs.FIREBASEUSER,data:{data:data}});}else{resolve({type:Selectors_Actions.UPDATE,path:DataRefs.USERS,data:{data:data}});}}).catch(function(error){console.log(error);if(error.code==='database/permission-denied'){console.log("User update was permission denied. ");}else if(error.code){console.log("User update Error: ",error);}resolve({error:"An error occurred"});});});}else return new Promise(function(resolve,reject){console.log("User uid in fecth unknown");resolve(null);});}function updateUserData(_ref5){var UserId=_ref5.UserId,Data=_ref5.Data;var user=UserId?UserId:auth().currentUser.uid;if(user){var ref="users/"+user;return new Promise(function(resolve,reject){database().ref(ref).update(Data).then(function(data){resolve(null);}).catch(function(error){if(error.code==='database/permission-denied'){console.log("User update was permission denied. ");}else if(error.code){console.log("User update Error: ",error);}resolve({error:"An error occurred"});});});}else return new Promise(function(resolve,reject){console.log("User uid in fecth unknown");resolve(null);});}function fetchFarm(_ref6){var FarmId=_ref6.FarmId;var ref="farms/"+FarmId;return database().ref(ref).once('value').then(function(_farmData){var data=_farmData.val();if(FarmId){data=defineProperty_default()({},FarmId,data);}return{type:Selectors_Actions.UPDATE,path:DataRefs.FARMS,data:data};});}function FirebaseService_updateFarm(_ref7){var FarmId=_ref7.FarmId,Data=_ref7.Data;return new Promise(function(resolve,reject){if(FarmId){database().ref('farms/'+FarmId).update(FirebaseService_objectSpread({},Data)).then(function(){resolve(null);}).catch(function(error){console.log("Create Farm Error: ",error);resolve(false);});}else{var farm=database().ref('farms/').push();var farmid=farm.key;farm.set({Data:Data}).then(function(){resolve(farmid);}).catch(function(error){console.log("Create Farm Error: ",error);resolve(false);});}});}function createFarm(_ref8){var Data=_ref8.Data;var user=auth().currentUser;var ref="users/"+user.uid;return new Promise(function(resolve,reject){var farm=database().ref('farms/').push();var farmid=farm.key;farm.set({email:user.email,manager:user.displayName?user.displayName:user.email,name:Data.name}).then(function(){resolve(farmid);}).catch(function(error){console.log("Create Farm Error: ",error);resolve(false);});});}function FirebaseService_updateFarmData(_ref9){var FarmId=_ref9.FarmId,Data=_ref9.Data;if(FarmId){var ref="farms_data/"+FarmId;return new Promise(function(resolve,reject){database().ref(ref).update(Data).then(function(){resolve(null);}).catch(function(error){if(error.code==='database/permission-denied'){console.log("Farm data update was permission denied.");}else if(error.code){console.log("User update Error: ",error);}resolve(false);});});}else return new Promise(function(resolve,reject){console.log("Farm uid in fecth unknown");resolve(null);});}function fetchSections(_ref10){var FarmId=_ref10.FarmId,SectionId=_ref10.SectionId,DataTime=_ref10.DataTime;if(FarmId){var ref="farms_data/"+FarmId+"/sections";if(SectionId){ref+="/"+SectionId;}return new Promise(function(resolve,reject){CheckDataTime("farms_data/"+FarmId+"/sections",DataTime).then(function(DoFetch){if(DoFetch){console.log("Sections fetch called");return database().ref(ref).once('value').then(function(_sectionidData){resolve({type:Selectors_Actions.UPDATE,path:DataRefs.SECTIONS,data:_sectionidData.val()});});}else{resolve(null);}});});}return new Promise(function(resolve,reject){console.log("Fecth Sections Error");resolve(null);});}function fetchPens(_ref11){var FarmId=_ref11.FarmId,PenId=_ref11.PenId,DataTime=_ref11.DataTime;if(FarmId){var ref="farms_data/"+FarmId+"/pens";if(PenId){ref+="/"+PenId;}return new Promise(function(resolve,reject){CheckDataTime("farms_data/"+FarmId+"/pens",DataTime).then(function(DoFetch){if(DoFetch){console.log("Pens fetch Called");database().ref(ref).once('value').then(function(_pensData){if(PenId){var penData=_pensData.val();if(!penData)penData={};if(!penData.datas)penData.datas={};var pen=defineProperty_default()({},PenId,penData);resolve({type:Selectors_Actions.UPDATE,path:DataRefs.PENS,data:pen});}else{resolve({type:Selectors_Actions.UPDATE,path:DataRefs.PENS,data:_pensData.val()});}});}else{resolve(null);}});});}return new Promise(function(resolve,reject){console.log("Fecth Pens Error");resolve(null);});}function createNewPen(_ref12){var FarmId=_ref12.FarmId,PenId=_ref12.PenId,SectionId=_ref12.SectionId;if(FarmId){var ref="farms_data/"+FarmId+"/";return new Promise(function(resolve,reject){if(PenId){var ref2=ref+"pens/"+PenId+"/";database().ref(ref2).set({section:SectionId}).then(function(){database().ref(ref+"sections/"+SectionId+"/pens").update(defineProperty_default()({},PenId,true)).then(function(){database().ref(ref+"sections/").update({update_time:database.ServerValue.TIMESTAMP}).then(function(){fetchPens({FarmId:FarmId,PenId:PenId,DataTime:"SET"}).then(function(_Pen){resolve({type:Selectors_Actions.UPDATE,path:DataRefs.PENS,data:_Pen.data});});});});});}});}}function deletePen(_ref13){var FarmId=_ref13.FarmId,PenId=_ref13.PenId,SectionId=_ref13.SectionId;if(FarmId&&PenId){var ref="farms_data/"+FarmId+"/";return new Promise(function(resolve,reject){database().ref(ref+"pens/"+PenId).remove().then(function(){if(SectionId){database().ref(ref+"sections/"+SectionId+"/pens/"+PenId).remove().then(function(){database().ref(ref+"sections/").update({update_time:database.ServerValue.TIMESTAMP}).then(function(){fetchPens({FarmId:FarmId,PenId:PenId,DataTime:"SET"}).then(function(_Pen){resolve({type:Selectors_Actions.UPDATE,path:DataRefs.PENS,data:_Pen.data});});});});}else{resolve(null);}});});}}function updatePen(_ref14){var FarmId=_ref14.FarmId,PenId=_ref14.PenId,Pen=_ref14.Pen;if(FarmId){var ref="farms_data/"+FarmId+"/";return new Promise(function(resolve,reject){if(PenId){fetchPens({FarmId:FarmId,PenId:PenId}).then(function(_Pen){var ref2=ref+"pens/"+PenId+"/";var data=Pen.datas;var Datas=FirebaseService_objectSpread(FirebaseService_objectSpread({},_Pen.data[PenId].datas),data);database().ref(ref2).update(FirebaseService_objectSpread(FirebaseService_objectSpread({},Pen),{},{datas:Datas})).then(function(){if(Pen.section){database().ref(ref+"sections/"+SectionId+"/pens").update(defineProperty_default()({},PenId,true)).then(function(){database().ref(ref+"sections/").update({update_time:database.ServerValue.TIMESTAMP}).then(function(){resolve(null);});});}});});}});}}function fetchPigs(_ref15){var FarmId=_ref15.FarmId,TagId=_ref15.TagId;if(FarmId){var ref="farms_data/"+FarmId+"/pigs";if(TagId){ref+="/"+TagId;}return database().ref(ref).once('value').then(function(_pigsData){if(TagId){var pigData=_pigsData.val();if(!pigData)return null;if(!pigData.datas)pigData.datas={};if(!pigData.datas.gcurve)pigData.datas.gcurve="default";var pig=defineProperty_default()({},TagId,pigData);return{type:Selectors_Actions.UPDATE,path:DataRefs.PIGS,data:pig};}else{return{type:Selectors_Actions.UPDATE,path:DataRefs.PIGS,data:_pigsData.val()};}});}return new Promise(function(resolve,reject){console.log("Fecth Pigs Error");resolve(null);});}function updatePigPen(_ref16){var FarmId=_ref16.FarmId,TagId=_ref16.TagId,PenId=_ref16.PenId,Action=_ref16.Action;if(PenId){var ref2="farms_data/"+FarmId+"/"+"pens/"+PenId+"/datas";return new Promise(function(resolve,reject){database().ref(ref2+"/count").once('value').then(function(counts){var val=counts.val();if(!val)val=0;if(Action&&!isNaN(Action)){val=parseInt(val)+parseInt(Action);}else{val=parseInt(val)+1;}database().ref(ref2).update({count:val}).then(function(){fetchPens({FarmId:FarmId,PenId:PenId}).then(function(pen){resolve({type:Selectors_Actions.UPDATE,path:DataRefs.PENS,data:pen.data});});});}).catch(function(error){console.log("Update pig pen Error: ",error);resolve(null);});});}else{return new Promise(function(resolve,reject){resolve(null);});}}function updatePigdata(_ref17){var FarmId=_ref17.FarmId,TagId=_ref17.TagId,PenId=_ref17.PenId,Action=_ref17.Action;if(FarmId){var ref="farms_data/"+FarmId+"/";if(TagId){return new Promise(function(resolve,reject){var ref2=ref+"pigs/"+TagId+"/";fetchPigs({FarmId:FarmId,TagId:TagId}).then(function(pig){if(pig&&pig.data){pig=pig.data[TagId]?pig.data[TagId]:null;}if(!pig||!pig.hasOwnProperty('pen')){database().ref(ref2).update({pen:0}).then(function(){fetchPigs({FarmId:FarmId}).then(function(pigs){console.log("?",pigs);resolve(null);});});}else if(PenId&&PenId!=pig.pen){updatePigPen({FarmId:FarmId,TagId:TagId,PenId:pig.pen,Action:-1}).then(function(data){updatePigPen({FarmId:FarmId,TagId:TagId,PenId:PenId,Action:+1}).then(function(data){database().ref(ref2).update({pen:PenId}).then(function(){fetchPigs({FarmId:FarmId}).then(function(pigs){resolve({type:Selectors_Actions.UPDATE,path:DataRefs.PIGS,data:pigs.data});});});});});}else{resolve(null);}});});}else{return new Promise(function(resolve,reject){updatePigPen({FarmId:FarmId,TagId:TagId,PenId:PenId,Action:Action}).then(function(data){resolve({type:Selectors_Actions.UPDATE,path:DataRefs.PENS,data:data.data});});});}}}function fetchBatchs(_ref18){var FarmId=_ref18.FarmId,BatchId=_ref18.BatchId,Data=_ref18.Data,DataTime=_ref18.DataTime;if(FarmId){var ref="farms_data/"+FarmId+"/batchs";if(BatchId){ref+="/"+BatchId;}return new Promise(function(resolve,reject){CheckDataTime("farms_data/"+FarmId+"/batchs",DataTime).then(function(DoFetch){if(DoFetch){if(!Data){database().ref(ref).once('value').then(function(_batchdata){if(BatchId){var batchdata=_batchdata.val();if(!batchdata)return null;if(!batchdata.datas)batchdata.datas={};if(!batchdata.pens)batchdata.pens=[];if(!batchdata.datas.gcurve)batchdata.datas.gcurve="default";var batch=defineProperty_default()({},BatchId,batchdata);resolve({type:Selectors_Actions.UPDATE,path:DataRefs.BATCHS,data:batch});}else{resolve({type:Selectors_Actions.UPDATE,path:DataRefs.BATCHS,data:_batchdata.val()});}});}else if(BatchId){switch(Data){case DataRefs.BATCHS:ref+="/"+"datas";return database().ref(ref).once('value').then(function(_batchdata){var data=defineProperty_default()({},BatchId,{datas:_batchdata.val()});resolve({type:Selectors_Actions.UPDATE,path:DataRefs.BATCHS,data:data});});case DataRefs.PENS:ref+="/"+"pens";return database().ref(ref).once('value').then(function(_batchdata){var pens=defineProperty_default()({},BatchId,{pens:_batchdata.val()});resolve({type:Selectors_Actions.UPDATE,path:DataRefs.BATCHS,data:pens});});case DataRefs.GRAPH:ref+="/"+"gcurve";return database().ref(ref).once('value').then(function(_batchdata){var curve=defineProperty_default()({},BatchId,{gcurve:_batchdata.val()});resolve({type:Selectors_Actions.UPDATE,path:DataRefs.BATCHS,data:curve});});}}}else{resolve(null);}});});}return new Promise(function(resolve,reject){console.log("Fecth Batchs Error");resolve(null);});}function createBatchs(_ref19){var FarmId=_ref19.FarmId,BatchId=_ref19.BatchId,Batch=_ref19.Batch;if(FarmId){var ref="farms_data/"+FarmId+"/batchs";return new Promise(function(resolve,reject){if(Batch&&Batch.name){BatchId=Batch.name;ref+="/"+Batch.name+"/";delete Batch.name;database().ref(ref).set(FirebaseService_objectSpread({},Batch)).then(function(){Object.keys(Batch.pens).forEach(function(pen){updatePen({FarmId:FarmId,PenId:pen,Pen:{datas:{batch:BatchId}}});});resolve(fetchBatchs({FarmId:FarmId,DataTime:"SET"}));}).catch(function(error){if(error.code==='database/permission-denied'){console.log("Batch update was permission denied. ");}else if(error.code){console.log("Batch update Error: ",error);}resolve({error:"An error occurred"});});}else if(BatchId){console.log("???");ref+="/"+BatchId+"/";database().ref(ref).set({time:database.ServerValue.TIMESTAMP,pens:[],datas:{devianceMin:1,devianceMax:2}}).then(function(){resolve(fetchBatchs({FarmId:FarmId,DataTime:"SET"}));});}});}}function updateBatchs(_ref20){var FarmId=_ref20.FarmId,BatchId=_ref20.BatchId,Batch=_ref20.Batch,Data=_ref20.Data;if(FarmId){var ref="farms_data/"+FarmId+"/batchs";return new Promise(function(resolve,reject){if(BatchId&&Batch){ref+="/"+BatchId;fetchBatchs({FarmId:FarmId,BatchId:BatchId,Data:DataRefs.PENS}).then(function(_batch){var Pens=_batch.data[BatchId].pens;if(Batch.name)delete Batch.name;var BatchPens={};if(Batch.pens&&JSON.stringify(Batch.pens)!==JSON.stringify(Pens)){if(!Pens)Pens=[];var RemovedPens=Object.keys(Pens).filter(function(x){return!Object.keys(Batch.pens).includes(x)&&!Pens[x].enddate;});var NewPens=Object.keys(Batch.pens).filter(function(x){return!Object.keys(Pens).includes(x)||Pens[x].enddate;});var SamePens=Object.keys(Pens).filter(function(x){return!Object.keys(RemovedPens).includes(x)&&!Object.keys(NewPens).includes(x);});if(RemovedPens&&RemovedPens.length>0){RemovedPens.forEach(function(pen){if(Pens[pen]){var Pen=Pens[pen];Pen.enddate=Date.now();BatchPens[pen]=Pen;fetchPens({FarmId:FarmId,PenId:pen}).then(function(pendata){var count=0;if(pendata.data[pen]&&pendata.data[pen].datas&&pendata.data[pen].datas.count)count=pendata.data[pen].datas.count;BatchPens[pen].count=count;});updatePen({FarmId:FarmId,PenId:pen,Pen:{datas:{batch:""}}});}});}if(NewPens&&NewPens.length>0){NewPens.forEach(function(pen){var Pen=Pens[pen]?Pens[pen]:{startdate:Date.now()};if(Pen.enddate)delete Pen.enddate;BatchPens[pen]=Pen;updatePen({FarmId:FarmId,PenId:pen,Pen:{datas:{batch:BatchId}}});});}if(SamePens&&SamePens.length>0){SamePens.forEach(function(pen){BatchPens[pen]=Pens[pen];});}}Batch.pens=BatchPens;if(Batch.state&&Batch.state==="Closed"){fetchBatchs({FarmId:FarmId,BatchId:BatchId,Data:DataRefs.GRAPH}).then(function(curve){var CurveId=curve.data[BatchId].gcurve;fetchGraphData({FarmId:FarmId}).then(function(curve){Batch.gcurve=curve.data[CurveId];Batch.closed={comments:[],weighings:[]};var _loop=function _loop(i,_p){_p=_p.then(function(_){return new Promise(function(_resolve){setTimeout(function(){if(i!==Object.keys(Pens).length){var PenId=Object.keys(Pens)[i];Batch.pens[PenId]=Pens[PenId];fetchPens({FarmId:FarmId,PenId:PenId}).then(function(pendata){var count=0;if(pendata.data[PenId]&&pendata.data[PenId].datas&&pendata.data[PenId].datas.count)count=pendata.data[PenId].datas.count;Batch.pens[PenId].count=count;});if(!Batch.pens[PenId].enddate){Batch.pens[PenId].enddate=Date.now();}updatePen({FarmId:FarmId,PenId:PenId,Pen:{datas:{batch:"",count:0}}});fetchComments({FarmId:FarmId,PenId:PenId}).then(function(comments){Batch.closed.comments[PenId]=comments.data[PenId];database().ref("farms_data/"+FarmId+"/datas/comments/"+PenId).remove();fetchWeights({FarmId:FarmId,PenId:PenId}).then(function(weights){Batch.closed.weighings[PenId]=weights.data[PenId];database().ref("farms_data/"+FarmId+"/weighings/"+PenId).remove();_resolve();});});}else{database().ref(ref).update(FirebaseService_objectSpread({},Batch)).then(function(){database().ref(ref+"/closed").set(Batch.closed).then(function(){fetchBatchs({FarmId:FarmId,BatchId:BatchId,DataTime:"SET"}).then(function(data){resolve(data);});}).catch(function(error){if(error.code==='database/permission-denied'){console.log("Batch update was permission denied. ");}else if(error.code){console.log("Batch update Error: ",error);}console.log(error);resolve({error:"An error occurred"});});});}});});});p=_p;};for(var i=0,p=Promise.resolve();i<=Object.keys(Pens).length;i++){_loop(i,p);}});});}else{database().ref(ref).update(FirebaseService_objectSpread({},Batch)).then(function(){fetchBatchs({FarmId:FarmId,BatchId:BatchId,DataTime:"SET"}).then(function(data){resolve(data);});}).catch(function(error){if(error.code==='database/permission-denied'){console.log("Batch update was permission denied. ");}else if(error.code){console.log("Batch update Error: ",error);}console.log(error);resolve({error:"An error occurred"});});}});}else{console.log("Update Batchs Error");resolve(null);}});}}function fetchWeights(_ref21){var FarmId=_ref21.FarmId,PenId=_ref21.PenId,SectionId=_ref21.SectionId,_ref21$limitStart=_ref21.limitStart,limitStart=_ref21$limitStart===void 0?0:_ref21$limitStart,_ref21$limitTo=_ref21.limitTo,limitTo=_ref21$limitTo===void 0?9999:_ref21$limitTo,DataTime=_ref21.DataTime,MemSections=_ref21.MemSections;if(FarmId){var ref="farms_data/"+FarmId+"/weighings";return new Promise(function(resolve,reject){CheckDataTime("farms_data/"+FarmId+"/weighings",DataTime).then(function(DoFetch){if(DoFetch){if(PenId){console.log("Weight fetch called, getting Pen");ref+="/"+PenId;database().ref(ref).orderByChild('time').limitToLast(limitTo).once('value',function(snapshot){var weighing=defineProperty_default()({},snapshot.key,{});snapshot.forEach(function(c){weighing[snapshot.key][c.key]=c.val();});resolve({type:Selectors_Actions.UPDATE,path:DataRefs.WEIGHING,data:weighing});});}else{console.log("Weight fetch called, getting Sections");database().ref(ref+"/update_time").once('value').then(function(_weighingTime){var Weighings_Time=_weighingTime.val();fetchSections({FarmId:FarmId,SectionId:SectionId,DataTime:MemSections?MemSections.update_time:null}).then(function(sections){var itemsProcessed=0;var length=0;var newWeights={};var Sections=sections?sections.data:MemSections;Object.keys(Sections).forEach(function(section){if(Sections[section]&&Sections[section].pens){length+=Object.keys(Sections[section].pens).filter(function(e){return e!=='__jsogObjectId';}).length;Object.keys(Sections[section].pens).filter(function(e){return e!=='__jsogObjectId';}).forEach(function(pen){fetchWeights({FarmId:FarmId,PenId:pen,limitStart:0,limitTo:limitTo}).then(function(weights){itemsProcessed++;newWeights=FirebaseService_objectSpread(FirebaseService_objectSpread({},newWeights),weights.data);if(itemsProcessed===length){newWeights.update_time=Weighings_Time;resolve({type:Selectors_Actions.UPDATE,path:DataRefs.WEIGHING,data:newWeights});}}).catch(function(error){console.log(error);resolve({type:Selectors_Actions.UPDATE,path:DataRefs.WEIGHING,data:newWeights});});});}});}).catch(function(error){console.log(error);});});}}else{resolve(null);}});});}return new Promise(function(resolve,reject){console.log("Fecth Weights Error");resolve(null);});}function createWeight(_ref22){var FarmId=_ref22.FarmId,PenId=_ref22.PenId,Weight=_ref22.Weight,Quantity=_ref22.Quantity,Date=_ref22.Date;if(FarmId){var ref="farms_data/"+FarmId+"/weighings";if(PenId){ref+="/"+PenId+"/";return new Promise(function(resolve,reject){var weightRef=database().ref(ref).push();var weightId=weightRef.key;weightRef.set({time:Date,weight:Weight,count:Quantity}).then(function(){fetchWeights({FarmId:FarmId,PenId:PenId,DataTime:"SET"}).then(function(weights){resolve(weights);});}).catch(function(error){console.log("Create Weight Error: ",error);resolve(null);});});}}}function fetchComments(_ref23){var FarmId=_ref23.FarmId,PenId=_ref23.PenId,_ref23$limitStart=_ref23.limitStart,limitStart=_ref23$limitStart===void 0?0:_ref23$limitStart,_ref23$limitTo=_ref23.limitTo,limitTo=_ref23$limitTo===void 0?5:_ref23$limitTo;if(FarmId){var ref="farms_data/"+FarmId+"/datas/comments";return new Promise(function(resolve,reject){if(PenId){ref+="/"+PenId;database().ref(ref).orderByChild('time').limitToLast(limitTo).once('value',function(snapshot){var comment=defineProperty_default()({},snapshot.key,{});snapshot.forEach(function(c){comment[snapshot.key][c.key]=c.val();});resolve({type:Selectors_Actions.UPDATE,path:DataRefs.COMMENTS,data:comment});});}else{}});}return new Promise(function(resolve,reject){console.log("Fecth Weights Error");resolve(null);});}function createComment(_ref24){var FarmId=_ref24.FarmId,PenId=_ref24.PenId,Action=_ref24.Action,Data=_ref24.Data,Quantity=_ref24.Quantity,Weight=_ref24.Weight;if(FarmId){var ref="farms_data/"+FarmId+"/datas/comments";if(PenId){ref+="/"+PenId+"/";return new Promise(function(resolve,reject){var commentRef=database().ref(ref).push();var commentId=commentRef.key;commentRef.set({time:database.ServerValue.TIMESTAMP,user:auth().currentUser.email,action:Action,quantity:Quantity,weight:Weight,data:Data}).then(function(){fetchComments({FarmId:FarmId,PenId:PenId}).then(function(weights){resolve(weights);});}).catch(function(error){console.log("Create Comment Error: ",error);resolve(null);});});}else{}}return new Promise(function(resolve,reject){console.log("Fecth Graph Error");resolve(null);});}function fetchGraphData(_ref25){var FarmId=_ref25.FarmId,GraphId=_ref25.GraphId,DataTime=_ref25.DataTime;if(FarmId){var ref="farms_data/"+FarmId+"/graph";ref=ref+"/"+GraphId;return new Promise(function(resolve,reject){CheckDataTime("farms_data/"+FarmId+"/graph",DataTime).then(function(DoFetch){console.log("Doing Graphs fetch",DoFetch,"Always..");database().ref(ref).once('value').then(function(graph){var Graphs=null;var GraphVal=graph.val();if(GraphVal){if(GraphId){var newGraph=defineProperty_default()({},graph.key,GraphVal);Graphs=FirebaseService_objectSpread(FirebaseService_objectSpread({},Graphs),newGraph);}else{Graphs=FirebaseService_objectSpread(FirebaseService_objectSpread({},Graphs),GraphVal);}}if(!GraphId){database().ref("farms_data/Agrisys/graph").once('value').then(function(Agraph){var AgraphVal=Agraph.val();if(AgraphVal){Graphs=FirebaseService_objectSpread(FirebaseService_objectSpread({},AgraphVal),Graphs);}resolve({type:Selectors_Actions.UPDATE,path:DataRefs.GRAPH,data:Graphs});}).catch(function(error){console.log("Get Agrisys graph Error: ",error);resolve({type:Selectors_Actions.UPDATE,path:DataRefs.GRAPH,data:Graphs});});}else{resolve({type:Selectors_Actions.UPDATE,path:DataRefs.GRAPH,data:Graphs});}}).catch(function(error){console.log("Get farm graph Error: ",error);resolve(null);});});});}return new Promise(function(resolve,reject){console.log("Fecth Graph Error");resolve(null);});}function updateGraphData(_ref26){var FarmId=_ref26.FarmId,Graph=_ref26.Graph;if(FarmId){var ref="farms_data/"+FarmId+"/graph";if(Graph.name){ref+="/"+Graph.name+"/";return new Promise(function(resolve,reject){database().ref(ref).update({data:Graph.data,periode:Graph.periode}).then(function(){fetchGraphData({FarmId:FarmId,GraphId:Graph.name}).then(function(_Graph){resolve(_Graph);});}).catch(function(error){console.log("Create Graph Error: ",error);resolve(null);});});}}}var firebaseService={requestUserPermission:requestUserPermission,requestFirebaseToken:requestFirebaseToken,wrappedAlert:wrappedAlert,createFirebaseUserWithemailandpassword:createFirebaseUserWithemailandpassword,signinWithemailandpassword:signinWithemailandpassword,sendResetPassword:sendResetPassword,logoutUser:logoutUser,refreshUser:refreshUser,actionStarting:actionStarting};
// CONCATENATED MODULE: C:/Users/daniel/Documents/GitHub/AgrisysApp-Web/App/Src/Services/ConsysService.js
var ConsysService_isWithin=Object(curryN["a" /* default */])(3,function(min,max,value){var isNumber=Object(is["a" /* default */])(Number);return isNumber(min)&&isNumber(max)&&isNumber(value)&&Object(gte["a" /* default */])(value,min)&&Object(gte["a" /* default */])(max,value);});var ConsysService_in200s=ConsysService_isWithin(200,299);function Create_Axios(baseURL){var Acc_Token=arguments.length>1&&arguments[1]!==undefined?arguments[1]:null;var Consys_ApiClient;if(Acc_Token){Consys_ApiClient=axios_default.a.create({baseURL:baseURL,headers:{Accept:'application/json','Content-Type':'application/json','Authorization':"Bearer "+Acc_Token},timeout:3000});}else{Consys_ApiClient=axios_default.a.create({baseURL:baseURL,headers:{Accept:'application/json','Content-Type':'application/json'},timeout:3000});}return Consys_ApiClient;}function getAccessToken(SiteUrl,Ref_Token){return new Promise(function(resolve,reject){Create_Axios(GetToken_URL(SiteUrl,Ref_Token)).get().then(function(response){if(response&&response.data&&response.data.access_token){resolve(response.data.access_token);}else{resolve(null);}});});}function checkRenew_AccessToken(SiteUrl,Ref_Token){var Acc_Token=arguments.length>2&&arguments[2]!==undefined?arguments[2]:null;return new Promise(function(resolve,reject){if(Acc_Token){Create_Axios(GetCheckToken_URL(SiteUrl),Acc_Token).get().then(function(response){if(response.status===200){resolve(Acc_Token);}else{resolve(getAccessToken(SiteUrl,Ref_Token));}});}else{resolve(getAccessToken(SiteUrl,Ref_Token));}});}function fetch_ValveConsumption(SiteUrl,Ref_Token,limit){var SystemId=arguments.length>3&&arguments[3]!==undefined?arguments[3]:1;var starttime=arguments.length>4&&arguments[4]!==undefined?arguments[4]:null;var stoptime=arguments.length>5&&arguments[5]!==undefined?arguments[5]:null;var offset=arguments.length>6&&arguments[6]!==undefined?arguments[6]:null;var lastid=arguments.length>7&&arguments[7]!==undefined?arguments[7]:null;var Acc_Token=arguments.length>8&&arguments[8]!==undefined?arguments[8]:null;return new Promise(function(resolve,reject){if(!SystemId)SystemId=1;checkRenew_AccessToken(SiteUrl,Ref_Token,Acc_Token).then(function(Token){if(Token){var baseURL=GetConsumtionData_URL(SiteUrl,100,SystemId,offset,limit,starttime,stoptime,lastid);console.log("fetch",baseURL,Token);Create_Axios(baseURL,Token).get().then(function(response){if(response&&response.data){var Feed_Data={};var ResData=response.data;if(ResData.result==="OK"){if(ResData.consumptiondata){ResData.consumptiondata.forEach(function(element){var weight=element.amount/1000;Feed_Data[element.dataid]={valve:element.valve,unit:element.unit,silono:element.silono,amount:weight,timestamp:element.timestamp*1000};});}}resolve({data:Feed_Data,token:Token});}else{resolve(null);}}).catch(function(error){console.log("fetch consumption Error: ",error);resolve(null);});}else{resolve(null);}});});}function fetch_AutoPig(SiteUrl,Ref_Token,limit){var SystemId=arguments.length>3&&arguments[3]!==undefined?arguments[3]:1;var starttime=arguments.length>4&&arguments[4]!==undefined?arguments[4]:null;var stoptime=arguments.length>5&&arguments[5]!==undefined?arguments[5]:null;var offset=arguments.length>6&&arguments[6]!==undefined?arguments[6]:null;var lastid=arguments.length>7&&arguments[7]!==undefined?arguments[7]:null;var Acc_Token=arguments.length>8&&arguments[8]!==undefined?arguments[8]:null;return new Promise(function(resolve,reject){if(!SystemId)SystemId=1;checkRenew_AccessToken(SiteUrl,Ref_Token,Acc_Token).then(function(Token){if(Token){var baseURL=GetConsumtionData_URL(SiteUrl,700,SystemId,offset,limit,starttime,stoptime,lastid);console.log("fetch",baseURL,Token);Create_Axios(baseURL,Token).get().then(function(response){console.log(response);if(response&&response.data){var Scale_Data={};var ResData=response.data;console.log(ResData);if(ResData.result==="OK"){if(ResData.consumptiondata){ResData.consumptiondata.forEach(function(element){var weight=element.amount/1000;Scale_Data[element.dataid]={amount:weight,timestamp:element.timestamp*1000};});}}resolve({data:Scale_Data,token:Token});}else{resolve(null);}}).catch(function(error){console.log("fetch AutoPig Error: ",error);resolve(null);});}else{resolve(null);}});});}var consysService={fetch_ValveConsumption:fetch_ValveConsumption,fetch_AutoPig:fetch_AutoPig};
// CONCATENATED MODULE: C:/Users/daniel/Documents/GitHub/AgrisysApp-Web/App/Src/Sagas/Firebase/FirebaseSaga.js
var FirebaseSaga_marked=regenerator_default.a.mark(firebaseStartup),FirebaseSaga_marked2=regenerator_default.a.mark(handleAuthState),FirebaseSaga_marked3=regenerator_default.a.mark(handleActions),FirebaseSaga_marked4=regenerator_default.a.mark(onMessageHandler),FirebaseSaga_marked5=regenerator_default.a.mark(onBackgroundMessageHandler);var FirebaseSaga_auth,FirebaseSaga_messaging,FirebaseSaga_database,FirebaseSaga_firebase;if(Platform_default.a.OS==='ios'||Platform_default.a.OS==='android'){FirebaseSaga_auth=__webpack_require__(232).default;FirebaseSaga_messaging=__webpack_require__(298).default;FirebaseSaga_database=__webpack_require__(416).default;}else{var Firebase_FirebaseSaga_firebase=__webpack_require__(187).default;__webpack_require__(218).default;__webpack_require__(297).default;__webpack_require__(366).default;FirebaseSaga_firebase=Firebase_FirebaseSaga_firebase;if(!FirebaseSaga_firebase.apps.length){console.log("Starting");var FirebaseSaga_Constants=__webpack_require__(417).default;console.log(FirebaseSaga_Constants.manifest.web.config.firebase);Firebase_FirebaseSaga_firebase.initializeApp(FirebaseSaga_Constants.manifest.web.config.firebase);}FirebaseSaga_auth=Firebase_FirebaseSaga_firebase.auth;if(Firebase_FirebaseSaga_firebase.messaging.isSupported()){FirebaseSaga_messaging=Firebase_FirebaseSaga_firebase.messaging;}FirebaseSaga_database=Firebase_FirebaseSaga_firebase.database;console.log("Started");}function firebaseStartup(){var permitError;return regenerator_default.a.wrap(function firebaseStartup$(_context){while(1){switch(_context.prev=_context.next){case 0:console.log("Starting firebase saga");_context.next=3;return Object(redux_saga_effects_npm_proxy_esm["g" /* put */])(Firebase_Actions.setFirebaseError(null));case 3:_context.next=5;return Object(redux_saga_effects_npm_proxy_esm["c" /* call */])(firebaseService.requestUserPermission);case 5:permitError=_context.sent;if(!permitError){_context.next=11;break;}_context.next=9;return Object(redux_saga_effects_npm_proxy_esm["g" /* put */])(Firebase_Actions.fetchFailure(permitError));case 9:_context.next=29;break;case 11:console.log("Starting handlers");_context.next=14;return Object(redux_saga_effects_npm_proxy_esm["f" /* fork */])(handleAuthState);case 14:_context.next=16;return Object(redux_saga_effects_npm_proxy_esm["f" /* fork */])(handleActions);case 16:console.log("auth & actions");if(!(FirebaseSaga_messaging&&FirebaseSaga_messaging.isSupported&&FirebaseSaga_messaging.isSupported())){_context.next=29;break;}if(!(Platform_default.a.OS==='ios'||Platform_default.a.OS==='android')){_context.next=25;break;}_context.next=21;return Object(redux_saga_effects_npm_proxy_esm["f" /* fork */])(onMessageHandler);case 21:_context.next=23;return Object(redux_saga_effects_npm_proxy_esm["f" /* fork */])(onBackgroundMessageHandler);case 23:_context.next=29;break;case 25:_context.next=27;return Object(redux_saga_effects_npm_proxy_esm["f" /* fork */])(onMessageHandler);case 27:_context.next=29;return Object(redux_saga_effects_npm_proxy_esm["f" /* fork */])(onBackgroundMessageHandler);case 29:console.log('Firebase Startup : Done');if(Platform_default.a.OS==='ios'||Platform_default.a.OS==='android'){console.log('Firebase will disable yellow box debug');console.disableYellowBox=true;}case 31:case"end":return _context.stop();}}},FirebaseSaga_marked);}function handleAuthState(){var authChannel,newAuth,firebaseUser,userData;return regenerator_default.a.wrap(function handleAuthState$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:_context2.next=2;return Object(redux_saga_core_npm_proxy_esm["c" /* eventChannel */])(function(emit){var subscription=FirebaseSaga_auth().onAuthStateChanged(function(user){if(user==null){emit("NONE");}else{emit(user);}});return function(){subscription();};},redux_saga_core_npm_proxy_esm["a" /* buffers */].expanding(1));case 2:authChannel=_context2.sent;_context2.prev=3;case 4:_context2.next=6;return Object(redux_saga_effects_npm_proxy_esm["j" /* take */])(authChannel);case 6:newAuth=_context2.sent;firebaseUser=newAuth==="NONE"?null:newAuth;if(!firebaseUser){_context2.next=19;break;}_context2.next=11;return Object(redux_saga_effects_npm_proxy_esm["c" /* call */])(firebaseService.actionStarting,DataRefs.USERSDATA,Selectors_Actions.FETCH,{UserId:firebaseUser.uid});case 11:userData=_context2.sent;if(!userData.data){_context2.next=17;break;}firebaseUser.farms=userData.data.data.farms;firebaseUser.state=userData.data.data.state;_context2.next=17;return Object(redux_saga_effects_npm_proxy_esm["g" /* put */])(Firebase_Actions.dataFetchSuccess({type:Selectors_Actions.UPDATE,path:DataRefs.FIREBASEUSER,data:firebaseUser}));case 17:_context2.next=21;break;case 19:_context2.next=21;return Object(redux_saga_effects_npm_proxy_esm["g" /* put */])(Firebase_Actions.dataFetchSuccess({type:Selectors_Actions.UPDATE,path:DataRefs.FIREBASEUSER,data:{}}));case 21:_context2.next=4;break;case 23:_context2.prev=23;_context2.next=26;return Object(redux_saga_effects_npm_proxy_esm["e" /* cancelled */])();case 26:if(!_context2.sent){_context2.next=28;break;}authChannel.close();case 28:return _context2.finish(23);case 29:case"end":return _context2.stop();}}},FirebaseSaga_marked2,null,[[3,,23,29]]);}function handleActions(){var channel,action,FirebaseUser,FarmsData,FarmData,Token,Params,ResData,_FirebaseUser,NewData;return regenerator_default.a.wrap(function handleActions$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:_context3.next=2;return Object(redux_saga_effects_npm_proxy_esm["a" /* actionChannel */])(['ACTION_STARTING']);case 2:channel=_context3.sent;case 3:_context3.next=5;return Object(redux_saga_effects_npm_proxy_esm["j" /* take */])(channel);case 5:action=_context3.sent;if(!(action.ref===DataRefs.CONSYS&&Object.values(ConsysRefs).includes(action.action))){_context3.next=44;break;}_context3.next=9;return Object(redux_saga_effects_npm_proxy_esm["i" /* select */])(function(state){return state.firebase.firebaseUser;});case 9:FirebaseUser=_context3.sent;if(!(FirebaseUser&&FirebaseUser.farms)){_context3.next=42;break;}_context3.next=13;return Object(redux_saga_effects_npm_proxy_esm["i" /* select */])(function(state){return state.firebase.localDataStore.farms;});case 13:FarmsData=_context3.sent;if(!(FarmsData&&FarmsData[Object.keys(FirebaseUser.farms)[0]])){_context3.next=42;break;}FarmData=FarmsData[Object.keys(FirebaseUser.farms)[0]];if(!(FarmData.site&&FarmData.refToken)){_context3.next=42;break;}Token=FarmData.token?FarmData.token:null;Params=action.params;ResData={};_context3.t0=action.action;_context3.next=_context3.t0===ConsysRefs.VALVEFEED?23:_context3.t0===ConsysRefs.SCALE?30:37;break;case 23:_context3.next=25;return Object(redux_saga_effects_npm_proxy_esm["c" /* call */])(consysService.fetch_ValveConsumption,FarmData.site,FarmData.refToken,Params.limit,Params.sysId,Params.start,Params.stop,Params.offset,Params.lastId,Token);case 25:ResData=_context3.sent;if(!(ResData&&ResData.data)){_context3.next=29;break;}_context3.next=29;return Object(redux_saga_effects_npm_proxy_esm["g" /* put */])(Firebase_Actions.dataFetchSuccess({type:Selectors_Actions.UPDATE,path:DataRefs.CONSYS,data:{feedData:ResData.data}}));case 29:return _context3.abrupt("break",38);case 30:_context3.next=32;return Object(redux_saga_effects_npm_proxy_esm["c" /* call */])(consysService.fetch_AutoPig,FarmData.site,FarmData.refToken,Params.limit,Params.sysId,Params.start,Params.stop,Params.offset,Params.lastId,Token);case 32:ResData=_context3.sent;if(!(ResData&&ResData.data)){_context3.next=36;break;}_context3.next=36;return Object(redux_saga_effects_npm_proxy_esm["g" /* put */])(Firebase_Actions.dataFetchSuccess({type:Selectors_Actions.UPDATE,path:DataRefs.CONSYS,data:{scaleData:ResData.data}}));case 36:return _context3.abrupt("break",38);case 37:return _context3.abrupt("break",38);case 38:if(!(ResData&&ResData.token)){_context3.next=42;break;}FarmData.token=ResData.token;_context3.next=42;return Object(redux_saga_effects_npm_proxy_esm["g" /* put */])(Firebase_Actions.dataFetchSuccess({type:Selectors_Actions.UPDATE,path:DataRefs.FARMS,data:{FarmData:FarmData}}));case 42:_context3.next=66;break;case 44:if(!(Object.values(Selectors_Actions).includes(action.action)&&Object.values(DataRefs).includes(action.ref))){_context3.next=66;break;}_context3.next=47;return Object(redux_saga_effects_npm_proxy_esm["i" /* select */])(function(state){return state.firebase.firebaseUser;});case 47:_FirebaseUser=_context3.sent;if(action.action!=Selectors_Actions.SIGN&&_FirebaseUser&&_FirebaseUser.farms){if(!action.params)action.params={};if(!action.params.FarmId)action.params.FarmId=[Object.keys(_FirebaseUser.farms)[0]];}_context3.next=51;return Object(redux_saga_effects_npm_proxy_esm["c" /* call */])(firebaseService.actionStarting,action.ref,action.action,action.params);case 51:NewData=_context3.sent;if(!(NewData&&(NewData.error||NewData.viewError))){_context3.next=59;break;}_context3.next=55;return Object(redux_saga_effects_npm_proxy_esm["g" /* put */])(Firebase_Actions.fetchFailure(NewData.error));case 55:_context3.next=57;return Object(redux_saga_effects_npm_proxy_esm["g" /* put */])(Firebase_Actions.setViewError(NewData.viewError));case 57:_context3.next=66;break;case 59:if(!(NewData&&NewData.hasOwnProperty("type")&&NewData.hasOwnProperty("path")&&NewData.hasOwnProperty("data"))){_context3.next=64;break;}_context3.next=62;return Object(redux_saga_effects_npm_proxy_esm["g" /* put */])(Firebase_Actions.dataFetchSuccess(NewData));case 62:_context3.next=66;break;case 64:_context3.next=66;return Object(redux_saga_effects_npm_proxy_esm["g" /* put */])(Firebase_Actions.fetchSuccess({localDataStore:NewData}));case 66:_context3.next=3;break;case 68:case"end":return _context3.stop();}}},FirebaseSaga_marked3);}function onMessageHandler(){var onMessageChannel,remoteMessage;return regenerator_default.a.wrap(function onMessageHandler$(_context4){while(1){switch(_context4.prev=_context4.next){case 0:if(!FirebaseSaga_messaging){_context4.next=23;break;}_context4.next=3;return Object(redux_saga_core_npm_proxy_esm["c" /* eventChannel */])(function(emit){var messageListener=FirebaseSaga_messaging().onMessage(function(remoteMessage){emit(remoteMessage);});return function(){messageListener();};},redux_saga_core_npm_proxy_esm["a" /* buffers */].expanding(1));case 3:onMessageChannel=_context4.sent;_context4.prev=4;case 5:_context4.next=7;return Object(redux_saga_effects_npm_proxy_esm["j" /* take */])(onMessageChannel);case 7:remoteMessage=_context4.sent;console.log("New Firebase message: ",remoteMessage);if(!(remoteMessage.notification&&remoteMessage.notification.title&&remoteMessage.notification.body)){_context4.next=14;break;}_context4.next=12;return Object(redux_saga_effects_npm_proxy_esm["c" /* call */])(firebaseService.wrappedAlert,remoteMessage.notification.title,remoteMessage.notification.body,"Ok",false);case 12:_context4.next=15;break;case 14:console.log("New Firebase data message: ",remoteMessage);case 15:_context4.next=5;break;case 17:_context4.prev=17;_context4.next=20;return Object(redux_saga_effects_npm_proxy_esm["e" /* cancelled */])();case 20:if(!_context4.sent){_context4.next=22;break;}onMessageChannel.close();case 22:return _context4.finish(17);case 23:case"end":return _context4.stop();}}},FirebaseSaga_marked4,null,[[4,,17,23]]);}function onBackgroundMessageHandler(){var onMessageChannel,remoteMessage;return regenerator_default.a.wrap(function onBackgroundMessageHandler$(_context5){while(1){switch(_context5.prev=_context5.next){case 0:if(!((Platform_default.a.OS==='ios'||Platform_default.a.OS==='android')&&FirebaseSaga_messaging)){_context5.next=18;break;}FirebaseSaga_messaging().onNotificationOpenedApp(function(remoteMessage){console.log('Notification caused app to open from background state:',remoteMessage.notification);});_context5.next=4;return Object(redux_saga_core_npm_proxy_esm["c" /* eventChannel */])(function(emit){FirebaseSaga_messaging().setBackgroundMessageHandler(function(remoteMessage){emit(remoteMessage);});return function(){};},redux_saga_core_npm_proxy_esm["a" /* buffers */].expanding(1));case 4:onMessageChannel=_context5.sent;_context5.prev=5;case 6:_context5.next=8;return Object(redux_saga_effects_npm_proxy_esm["j" /* take */])(onMessageChannel);case 8:remoteMessage=_context5.sent;console.log("New background Firebase message: ",remoteMessage);case 10:_context5.next=6;break;case 12:_context5.prev=12;_context5.next=15;return Object(redux_saga_effects_npm_proxy_esm["e" /* cancelled */])();case 15:if(!_context5.sent){_context5.next=17;break;}onMessageChannel.close();case 17:return _context5.finish(12);case 18:case"end":return _context5.stop();}}},FirebaseSaga_marked5,null,[[5,,12,18]]);}
// CONCATENATED MODULE: C:/Users/daniel/Documents/GitHub/AgrisysApp-Web/App/Src/Sagas/index.js
var Sagas_marked=regenerator_default.a.mark(root);function root(sagaArgs){return regenerator_default.a.wrap(function root$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return Object(redux_saga_effects_npm_proxy_esm["b" /* all */])([Object(redux_saga_effects_npm_proxy_esm["k" /* takeLatest */])(StartupTypes.STARTUP,startup),Object(redux_saga_effects_npm_proxy_esm["k" /* takeLatest */])(ExampleTypes.FETCH_USER,ExampleSaga_fetchUser),Object(redux_saga_effects_npm_proxy_esm["k" /* takeLatest */])(DeviceTypes.DEVICE_STARTUP,deviceStartup),Object(redux_saga_effects_npm_proxy_esm["k" /* takeLatest */])(DeviceTypes.CONNECT_DEVICE,connectDevice),Object(redux_saga_effects_npm_proxy_esm["k" /* takeLatest */])(DeviceTypes.DISCONNECT_DEVICE,disconnectDevice),Object(redux_saga_effects_npm_proxy_esm["k" /* takeLatest */])(DeviceTypes.READ_DEVICE_DATA,readDeviceData),Object(redux_saga_effects_npm_proxy_esm["k" /* takeLatest */])(DeviceTypes.FETCH_DEVICE,fetchDevice,sagaArgs),Object(redux_saga_effects_npm_proxy_esm["k" /* takeLatest */])(DeviceTypes.BLE_STARTUP,BLESaga_namespaceObject.bleStartup,sagaArgs),Object(redux_saga_effects_npm_proxy_esm["k" /* takeLatest */])(DeviceTypes.START_BLE_SCAN,BLESaga_namespaceObject.startBleScan),Object(redux_saga_effects_npm_proxy_esm["k" /* takeLatest */])(DeviceTypes.STOP_BLE_SCAN,BLESaga_namespaceObject.stopBleScan),Object(redux_saga_effects_npm_proxy_esm["k" /* takeLatest */])(DeviceTypes.READ_BLE_DEVICE_DATA,BLESaga_namespaceObject.readBleDeviceData,sagaArgs),Object(redux_saga_effects_npm_proxy_esm["k" /* takeLatest */])(DeviceTypes.BLUETOOTH_STARTUP,BlueToothSaga_namespaceObject.bluetoothStartup,sagaArgs),Object(redux_saga_effects_npm_proxy_esm["k" /* takeLatest */])(DeviceTypes.START_BLUETOOTH_SCAN,BlueToothSaga_namespaceObject.startBluetoothScan),Object(redux_saga_effects_npm_proxy_esm["k" /* takeLatest */])(DeviceTypes.STOP_BLUETOOTH_SCAN,BlueToothSaga_namespaceObject.stopBluetoothScan),Object(redux_saga_effects_npm_proxy_esm["k" /* takeLatest */])(DeviceTypes.BLUETOOTH_SCAN_ABLE,BlueToothSaga_namespaceObject.bluetoothScanAble,sagaArgs),Object(redux_saga_effects_npm_proxy_esm["k" /* takeLatest */])(DeviceTypes.READ_BLUE_DEVICE_DATA,BlueToothSaga_namespaceObject.readBlueDeviceData,sagaArgs),Object(redux_saga_effects_npm_proxy_esm["k" /* takeLatest */])(FirebaseTypes.FIREBASE_STARTUP,firebaseStartup)]);case 2:case"end":return _context.stop();}}},Sagas_marked);}
// CONCATENATED MODULE: C:/Users/daniel/Documents/GitHub/AgrisysApp-Web/App/Src/Stores/Example/InitialState.js
var INITIAL_STATE={user:{},userIsLoading:false,userErrorMessage:null};
// CONCATENATED MODULE: C:/Users/daniel/Documents/GitHub/AgrisysApp-Web/App/Src/Stores/Example/Reducers.js
var _createReducer;function Reducers_ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);if(enumerableOnly)symbols=symbols.filter(function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable;});keys.push.apply(keys,symbols);}return keys;}function Reducers_objectSpread(target){for(var i=1;i<arguments.length;i++){var source=arguments[i]!=null?arguments[i]:{};if(i%2){Reducers_ownKeys(Object(source),true).forEach(function(key){defineProperty_default()(target,key,source[key]);});}else if(Object.getOwnPropertyDescriptors){Object.defineProperties(target,Object.getOwnPropertyDescriptors(source));}else{Reducers_ownKeys(Object(source)).forEach(function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key));});}}return target;}var fetchUserLoading=function fetchUserLoading(state){return Reducers_objectSpread(Reducers_objectSpread({},state),{},{userIsLoading:true,userErrorMessage:null});};var fetchUserSuccess=function fetchUserSuccess(state,_ref){var user=_ref.user;return Reducers_objectSpread(Reducers_objectSpread({},state),{},{user:user,userIsLoading:false,userErrorMessage:null});};var fetchUserFailure=function fetchUserFailure(state,_ref2){var errorMessage=_ref2.errorMessage;return Reducers_objectSpread(Reducers_objectSpread({},state),{},{user:{},userIsLoading:false,userErrorMessage:errorMessage});};var reducer=Object(reduxsauce["createReducer"])(INITIAL_STATE,(_createReducer={},defineProperty_default()(_createReducer,ExampleTypes.FETCH_USER_LOADING,fetchUserLoading),defineProperty_default()(_createReducer,ExampleTypes.FETCH_USER_SUCCESS,fetchUserSuccess),defineProperty_default()(_createReducer,ExampleTypes.FETCH_USER_FAILURE,fetchUserFailure),_createReducer));
// EXTERNAL MODULE: C:/Users/daniel/Documents/GitHub/AgrisysApp-Web/App/node_modules/@babel/runtime/helpers/toConsumableArray.js
var toConsumableArray = __webpack_require__(29);
var toConsumableArray_default = /*#__PURE__*/__webpack_require__.n(toConsumableArray);

// CONCATENATED MODULE: C:/Users/daniel/Documents/GitHub/AgrisysApp-Web/App/Src/Stores/Device/BLE/InitialState.js
var InitialState_INITIAL_STATE={bleState:react_native_ble_plx["d" /* State */].PoweredOff};
// CONCATENATED MODULE: C:/Users/daniel/Documents/GitHub/AgrisysApp-Web/App/Src/Stores/Device/BlueTooth/InitialState.js
var BlueTooth_InitialState_INITIAL_STATE={};
// CONCATENATED MODULE: C:/Users/daniel/Documents/GitHub/AgrisysApp-Web/App/Src/Stores/Device/InitialState.js
function InitialState_ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);if(enumerableOnly)symbols=symbols.filter(function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable;});keys.push.apply(keys,symbols);}return keys;}function InitialState_objectSpread(target){for(var i=1;i<arguments.length;i++){var source=arguments[i]!=null?arguments[i]:{};if(i%2){InitialState_ownKeys(Object(source),true).forEach(function(key){defineProperty_default()(target,key,source[key]);});}else if(Object.getOwnPropertyDescriptors){Object.defineProperties(target,Object.getOwnPropertyDescriptors(source));}else{InitialState_ownKeys(Object(source)).forEach(function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key));});}}return target;}var Device_InitialState_INITIAL_STATE=InitialState_objectSpread(InitialState_objectSpread({deviceIsLoading:false,deviceErrorMessage:null,scannerState:ScannerState.IDLE,DeviceList:[],connectedDevice:{},connectionState:ConnectionState.DISCONNECTED,connectionMethode:ConnectionMethode.NONE,deviceData:{}},InitialState_INITIAL_STATE),BlueTooth_InitialState_INITIAL_STATE);
// CONCATENATED MODULE: C:/Users/daniel/Documents/GitHub/AgrisysApp-Web/App/Src/Stores/Device/BLE/Reducers.js
function BLE_Reducers_ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);if(enumerableOnly)symbols=symbols.filter(function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable;});keys.push.apply(keys,symbols);}return keys;}function BLE_Reducers_objectSpread(target){for(var i=1;i<arguments.length;i++){var source=arguments[i]!=null?arguments[i]:{};if(i%2){BLE_Reducers_ownKeys(Object(source),true).forEach(function(key){defineProperty_default()(target,key,source[key]);});}else if(Object.getOwnPropertyDescriptors){Object.defineProperties(target,Object.getOwnPropertyDescriptors(source));}else{BLE_Reducers_ownKeys(Object(source)).forEach(function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key));});}}return target;}var bleStateUpdated=function bleStateUpdated(state,_ref){var bleState=_ref.bleState;return BLE_Reducers_objectSpread(BLE_Reducers_objectSpread({},state),{},{bleState:bleState});};var HANDLERS=defineProperty_default()({},BleTypes.BLE_STATE_UPDATED,bleStateUpdated);var Reducers_reducer=Object(reduxsauce["createReducer"])(InitialState_INITIAL_STATE,HANDLERS);
// CONCATENATED MODULE: C:/Users/daniel/Documents/GitHub/AgrisysApp-Web/App/Src/Stores/Device/BlueTooth/Reducers.js
var Reducers_HANDLERS={};var BlueTooth_Reducers_reducer=Object(reduxsauce["createReducer"])(BlueTooth_InitialState_INITIAL_STATE,Reducers_HANDLERS);
// CONCATENATED MODULE: C:/Users/daniel/Documents/GitHub/AgrisysApp-Web/App/Src/Stores/Device/Reducers.js
var _objectSpread2;function Device_Reducers_ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);if(enumerableOnly)symbols=symbols.filter(function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable;});keys.push.apply(keys,symbols);}return keys;}function Device_Reducers_objectSpread(target){for(var i=1;i<arguments.length;i++){var source=arguments[i]!=null?arguments[i]:{};if(i%2){Device_Reducers_ownKeys(Object(source),true).forEach(function(key){defineProperty_default()(target,key,source[key]);});}else if(Object.getOwnPropertyDescriptors){Object.defineProperties(target,Object.getOwnPropertyDescriptors(source));}else{Device_Reducers_ownKeys(Object(source)).forEach(function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key));});}}return target;}var setDeviceError=function setDeviceError(state,_ref){var errorMessage=_ref.errorMessage;return Device_Reducers_objectSpread(Device_Reducers_objectSpread({},state),{},{deviceErrorMessage:errorMessage});};var scannerStateUpdated=function scannerStateUpdated(state,_ref2){var scannerState=_ref2.scannerState;return Device_Reducers_objectSpread(Device_Reducers_objectSpread({},state),{},{scannerState:scannerState});};var Reducers_addDevice=function addDevice(state,_ref3){var device=_ref3.device;if(state.DeviceList.some(function(Device){return Device.id===device.id;})){return Device_Reducers_objectSpread({},state);}else{var NewList=toConsumableArray_default()(state.DeviceList);NewList.push(device);return Device_Reducers_objectSpread(Device_Reducers_objectSpread({},state),{},{DeviceList:NewList});}};var Reducers_removeDevice=function removeDevice(state,_ref4){var device=_ref4.device;var NewList=toConsumableArray_default()(state.DeviceList);for(var i=0;i<NewList.length;i++){if(NewList[i]===device){NewList.splice(i,1);}}return Device_Reducers_objectSpread(Device_Reducers_objectSpread({},state),{},{DeviceList:NewList});};var clearDevices=function clearDevices(state){return Device_Reducers_objectSpread(Device_Reducers_objectSpread({},state),{},{DeviceList:[],deviceData:{}});};var connectedDeviceUpdated=function connectedDeviceUpdated(state,_ref5){var connectedDevice=_ref5.connectedDevice;if(!connectedDevice){return Device_Reducers_objectSpread(Device_Reducers_objectSpread({},state),{},{connectedDevice:connectedDevice});}else{return Device_Reducers_objectSpread(Device_Reducers_objectSpread({},state),{},{connectedDevice:connectedDevice});}};var connectionStateUpdated=function connectionStateUpdated(state,_ref6){var connectionState=_ref6.connectionState;return Device_Reducers_objectSpread(Device_Reducers_objectSpread({},state),{},{connectionState:connectionState});};var connectionMethodeUpdated=function connectionMethodeUpdated(state,_ref7){var connectionMethode=_ref7.connectionMethode;return Device_Reducers_objectSpread(Device_Reducers_objectSpread({},state),{},{connectionMethode:connectionMethode});};var setDeviceData=function setDeviceData(state,_ref8){var data=_ref8.data;return Device_Reducers_objectSpread(Device_Reducers_objectSpread({},state),{},{deviceData:data});};var updateDeviceData=function updateDeviceData(state,_ref9){var data=_ref9.data;var newData=Device_Reducers_objectSpread(Device_Reducers_objectSpread({},state.deviceData),data);return Device_Reducers_objectSpread(Device_Reducers_objectSpread({},state),{},{deviceData:newData});};var Device_Reducers_HANDLERS=Device_Reducers_objectSpread(Device_Reducers_objectSpread((_objectSpread2={},defineProperty_default()(_objectSpread2,DeviceTypes.SET_DEVICE_ERROR,setDeviceError),defineProperty_default()(_objectSpread2,DeviceTypes.SCANNER_STATE_UPDATED,scannerStateUpdated),defineProperty_default()(_objectSpread2,DeviceTypes.ADD_DEVICE,Reducers_addDevice),defineProperty_default()(_objectSpread2,DeviceTypes.REMOVE_DEVICE,Reducers_removeDevice),defineProperty_default()(_objectSpread2,DeviceTypes.CLEAR_DEVICES,clearDevices),defineProperty_default()(_objectSpread2,DeviceTypes.CONNECTED_DEVICE_UPDATED,connectedDeviceUpdated),defineProperty_default()(_objectSpread2,DeviceTypes.CONNECTION_STATE_UPDATED,connectionStateUpdated),defineProperty_default()(_objectSpread2,DeviceTypes.CONNECTION_METHODE_UPDATED,connectionMethodeUpdated),defineProperty_default()(_objectSpread2,DeviceTypes.SET_DEVICE_DATA,setDeviceData),defineProperty_default()(_objectSpread2,DeviceTypes.UPDATE_DEVICE_DATA,updateDeviceData),_objectSpread2),HANDLERS),Reducers_HANDLERS);var Device_Reducers_reducer=Object(reduxsauce["createReducer"])(Device_InitialState_INITIAL_STATE,Device_Reducers_HANDLERS);
// EXTERNAL MODULE: C:/Users/daniel/Documents/GitHub/AgrisysApp-Web/App/node_modules/@babel/runtime/helpers/objectWithoutProperties.js
var objectWithoutProperties = __webpack_require__(31);
var objectWithoutProperties_default = /*#__PURE__*/__webpack_require__.n(objectWithoutProperties);

// EXTERNAL MODULE: C:/Users/daniel/Documents/GitHub/AgrisysApp-Web/App/node_modules/@babel/runtime/helpers/extends.js
var helpers_extends = __webpack_require__(9);
var extends_default = /*#__PURE__*/__webpack_require__.n(helpers_extends);

// EXTERNAL MODULE: C:/Users/daniel/Documents/GitHub/AgrisysApp-Web/App/node_modules/funcadelic/dist/funcadelic.es.js
var funcadelic_es = __webpack_require__(426);

// CONCATENATED MODULE: C:/Users/daniel/Documents/GitHub/AgrisysApp-Web/App/Src/Stores/Firebase/InitialState.js
var Firebase_InitialState_INITIAL_STATE={firebaseIsLoading:false,firebaseErrorMessage:null,firebaseUser:null,localDataStore:{},currentData:null,viewIsLoading:false,viewError:null};
// CONCATENATED MODULE: C:/Users/daniel/Documents/GitHub/AgrisysApp-Web/App/Src/Stores/Firebase/Reducers.js
var _HANDLERS;function Firebase_Reducers_ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);if(enumerableOnly)symbols=symbols.filter(function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable;});keys.push.apply(keys,symbols);}return keys;}function Firebase_Reducers_objectSpread(target){for(var i=1;i<arguments.length;i++){var source=arguments[i]!=null?arguments[i]:{};if(i%2){Firebase_Reducers_ownKeys(Object(source),true).forEach(function(key){defineProperty_default()(target,key,source[key]);});}else if(Object.getOwnPropertyDescriptors){Object.defineProperties(target,Object.getOwnPropertyDescriptors(source));}else{Firebase_Reducers_ownKeys(Object(source)).forEach(function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key));});}}return target;}var firebaseIsLoading=function firebaseIsLoading(state,_ref){var loadingstate=_ref.loadingstate;return Firebase_Reducers_objectSpread(Firebase_Reducers_objectSpread({},state),{},{firebaseIsLoading:loadingstate});};var Reducers_setFirebaseError=function setFirebaseError(state,_ref2){var errorMessage=_ref2.errorMessage;return Firebase_Reducers_objectSpread(Firebase_Reducers_objectSpread({},state),{},{firebaseErrorMessage:errorMessage});};var Reducers_setViewError=function setViewError(state,_ref3){var errorMessage=_ref3.errorMessage;return Firebase_Reducers_objectSpread(Firebase_Reducers_objectSpread({},state),{},{viewError:errorMessage});};var viewIsLoading=function viewIsLoading(state,_ref4){var loadingstate=_ref4.loadingstate;return Firebase_Reducers_objectSpread(Firebase_Reducers_objectSpread({},state),{},{viewIsLoading:loadingstate});};var Reducers_setCurrentData=function setCurrentData(state,_ref5){var data=_ref5.data;return Firebase_Reducers_objectSpread(Firebase_Reducers_objectSpread({},state),{},{currentData:data});};function IDGenerate(){return Math.random().toString(36).substr(2,9);}var Reducers_actionStarting=function actionStarting(state){return Firebase_Reducers_objectSpread(Firebase_Reducers_objectSpread({},state),{},{firebaseErrorMessage:null});};var fetchStarting=function fetchStarting(state){return Firebase_Reducers_objectSpread(Firebase_Reducers_objectSpread({},state),{},{firebaseErrorMessage:null});};function mergeDeep(target,source){var isObject=function isObject(obj){return obj&&typeof obj==='object';};if(!isObject(target)||!isObject(source)){return source;}Object.keys(source).forEach(function(key){var targetValue=target[key];var sourceValue=source[key];if(Array.isArray(targetValue)&&Array.isArray(sourceValue)){}else if(isObject(targetValue)&&isObject(sourceValue)){target[key]=mergeDeep(extends_default()({},targetValue),sourceValue);}else{target[key]=sourceValue;}});return target;}var Reducers_dataFetchSuccess=function dataFetchSuccess(state,_ref6){var params=_ref6.params;var type=params.type,path=params.path,data=params.data;var NewDataStore=state.localDataStore;var NewFirebaseUser=Firebase_Reducers_objectSpread({},state.firebaseUser);switch(type){case Selectors_Actions.UPDATE:case Selectors_Actions.ADD:var newData=Firebase_Reducers_objectSpread({},data);if(path===DataRefs.FIREBASEUSER){if(data&&data.data)newData=Firebase_Reducers_objectSpread({},data.data);if(data&&data._user){Object.keys(data._user).forEach(function(element){newData[element]=data._user[element];});delete newData._user;delete newData._auth;}if(newData&&Object.keys(newData).length>0){var Values=["displayName","name","lastN","email","emailVerified","address","country","farms","isAnonymous","phoneNumber","photoURL","refreshToken","state","uid"];Object.keys(newData).forEach(function(element){for(var index=0;index<Values.length;index++){if(Values[index]===element){NewFirebaseUser[element]=newData[element];break;}}});}else{NewFirebaseUser=newData;}}if(!data)break;switch(path){case DataRefs.FIREBASEUSER:break;case DataRefs.USERSDATA:Object.keys(newData).forEach(function(element){if(!NewDataStore.userData)NewDataStore.userData={};NewDataStore.userData[element]=newData[element];});break;case DataRefs.USERS:if(!NewDataStore.users)NewDataStore.users={};if(data.data)newData=data.data;if(newData.users)newData=newData.users;Object.keys(newData).forEach(function(element){NewDataStore.users[element]=newData[element];});break;case DataRefs.FARMS:if(!NewDataStore.farms)NewDataStore.farms={};if(data.farms)newData=data.farms;Object.keys(newData).forEach(function(element){NewDataStore.farms[element]=newData[element];});break;case DataRefs.BATCHS:if(!NewDataStore.batchs)NewDataStore.batchs={};if(data.batchs)newData=data.batchs;Object.keys(newData).forEach(function(element){NewDataStore.batchs[element]=newData[element];});break;case DataRefs.SECTIONS:if(!NewDataStore.sections)NewDataStore.sections={};if(data.sections)newData=data.sections;Object.keys(newData).forEach(function(element){NewDataStore.sections[element]=newData[element];});break;case DataRefs.PENS:if(!NewDataStore.pens)NewDataStore.pens={};if(data.pens)newData=data.pens;Object.keys(newData).forEach(function(element){NewDataStore.pens[element]=newData[element];});break;case DataRefs.PIGS:if(!NewDataStore.pigs)NewDataStore.pigs={};if(data.pigs)newData=data.pigs;Object.keys(newData).forEach(function(element){NewDataStore.pigs[element]=newData[element];});break;case DataRefs.COMMENTS:if(!NewDataStore.comments)NewDataStore.comments={};if(data.comments)newData=data.comments;Object.keys(newData).forEach(function(element){NewDataStore.comments[element]=newData[element];});break;case DataRefs.GRAPH:if(!NewDataStore.graphs)NewDataStore.graphs={};if(data.graphs)newData=data.graphs;Object.keys(newData).forEach(function(element){NewDataStore.graphs[element]=newData[element];});break;case DataRefs.WEIGHING:if(!NewDataStore.weighings)NewDataStore.weighings={};if(data.weighings)newData=data.weighings;Object.keys(newData).forEach(function(element){NewDataStore.weighings[element]=newData[element];});break;case DataRefs.CONSYS:if(!NewDataStore.consys)NewDataStore.consys={};if(data.consys)newData=data.consys;Object.keys(newData).forEach(function(element){NewDataStore.consys[element]=newData[element];});break;}break;case Selectors_Actions.CLEAR:switch(path){case DataRefs.USERS:if(!NewDataStore.userData)NewDataStore.userData={};NewDataStore.userData.action="CLEAR";break;case DataRefs.USERSDATA:console.log("CLEAR");if(NewDataStore.batchs)NewDataStore.batchs={};if(NewDataStore.sections)NewDataStore.sections={};if(NewDataStore.pens)NewDataStore.pens={};if(NewDataStore.pigs)NewDataStore.pigs={};if(NewDataStore.graphs)NewDataStore.graphs={};if(NewDataStore.weighings)NewDataStore.weighings={};if(NewDataStore.consys)NewDataStore.consys={};if(NewDataStore.userData&&NewDataStore.userData.action){NewDataStore.userData.action={};}break;}break;default:console.log("DataFetch Not created / default");break;}return Firebase_Reducers_objectSpread(Firebase_Reducers_objectSpread({},state),{},{firebaseUser:NewFirebaseUser,localDataStore:NewDataStore,firebaseIsLoading:false,firebaseErrorMessage:null,viewIsLoading:false});};var Reducers_fetchSuccess=function fetchSuccess(state,_ref7){var data=_ref7.data;var newlocalDataStore=Firebase_Reducers_objectSpread({},state.localDataStore);var newState=Firebase_Reducers_objectSpread({},state);if(data){var localDataStore=data.localDataStore,_newState=objectWithoutProperties_default()(data,["localDataStore"]);if(localDataStore){if(Object.keys(localDataStore).length!==0){newlocalDataStore=mergeDeep(localDataStore,newlocalDataStore);}else{newlocalDataStore=Firebase_Reducers_objectSpread({},localDataStore);}}newState=Object(funcadelic_es["a" /* append */])(state,_newState);}return Firebase_Reducers_objectSpread(Firebase_Reducers_objectSpread({},newState),{},{localDataStore:newlocalDataStore,firebaseIsLoading:false,firebaseErrorMessage:null,viewIsLoading:false});};var fetchFailure=function fetchFailure(state,_ref8){var errorMessage=_ref8.errorMessage;return Firebase_Reducers_objectSpread(Firebase_Reducers_objectSpread({},state),{},{firebaseIsLoading:false,firebaseErrorMessage:errorMessage,viewIsLoading:false});};var Firebase_Reducers_HANDLERS=(_HANDLERS={},defineProperty_default()(_HANDLERS,FirebaseTypes.FIREBASE_IS_LOADING,firebaseIsLoading),defineProperty_default()(_HANDLERS,FirebaseTypes.SET_FIREBASE_ERROR,Reducers_setFirebaseError),defineProperty_default()(_HANDLERS,FirebaseTypes.SET_VIEW_ERROR,Reducers_setViewError),defineProperty_default()(_HANDLERS,FirebaseTypes.VIEW_IS_LOADING,viewIsLoading),defineProperty_default()(_HANDLERS,FirebaseTypes.SET_CURRENT_DATA,Reducers_setCurrentData),defineProperty_default()(_HANDLERS,FirebaseTypes.ACTION_STARTING,Reducers_actionStarting),defineProperty_default()(_HANDLERS,FirebaseTypes.FETCH_STARTING,fetchStarting),defineProperty_default()(_HANDLERS,FirebaseTypes.DATA_FETCH_SUCCESS,Reducers_dataFetchSuccess),defineProperty_default()(_HANDLERS,FirebaseTypes.FETCH_SUCCESS,Reducers_fetchSuccess),defineProperty_default()(_HANDLERS,FirebaseTypes.FETCH_FAILURE,fetchFailure),_HANDLERS);var Firebase_Reducers_reducer=Object(reduxsauce["createReducer"])(Firebase_InitialState_INITIAL_STATE,Firebase_Reducers_HANDLERS);
// CONCATENATED MODULE: C:/Users/daniel/Documents/GitHub/AgrisysApp-Web/App/Src/Stores/index.js
/* harmony default export */ var Stores = (function(){var rootReducer=Object(redux["c" /* combineReducers */])({example:reducer,device:Device_Reducers_reducer,firebase:Firebase_Reducers_reducer});return CreateStore(rootReducer,root);});
// EXTERNAL MODULE: C:/Users/daniel/Documents/GitHub/AgrisysApp-Web/App/node_modules/react-native-web/dist/cjs/exports/View/index.js
var View = __webpack_require__(2);
var View_default = /*#__PURE__*/__webpack_require__.n(View);

// EXTERNAL MODULE: C:/Users/daniel/Documents/GitHub/AgrisysApp-Web/App/node_modules/react-navigation-stack/lib/module/navigators/createStackNavigator.js + 36 modules
var createStackNavigator = __webpack_require__(910);

// EXTERNAL MODULE: C:/Users/daniel/Documents/GitHub/AgrisysApp-Web/App/node_modules/@babel/runtime/helpers/classCallCheck.js
var classCallCheck = __webpack_require__(8);
var classCallCheck_default = /*#__PURE__*/__webpack_require__.n(classCallCheck);

// EXTERNAL MODULE: C:/Users/daniel/Documents/GitHub/AgrisysApp-Web/App/node_modules/@babel/runtime/helpers/createClass.js
var createClass = __webpack_require__(10);
var createClass_default = /*#__PURE__*/__webpack_require__.n(createClass);

// EXTERNAL MODULE: C:/Users/daniel/Documents/GitHub/AgrisysApp-Web/App/node_modules/@babel/runtime/helpers/inherits.js
var inherits = __webpack_require__(14);
var inherits_default = /*#__PURE__*/__webpack_require__.n(inherits);

// EXTERNAL MODULE: C:/Users/daniel/Documents/GitHub/AgrisysApp-Web/App/node_modules/@babel/runtime/helpers/possibleConstructorReturn.js
var possibleConstructorReturn = __webpack_require__(15);
var possibleConstructorReturn_default = /*#__PURE__*/__webpack_require__.n(possibleConstructorReturn);

// EXTERNAL MODULE: C:/Users/daniel/Documents/GitHub/AgrisysApp-Web/App/node_modules/@babel/runtime/helpers/getPrototypeOf.js
var getPrototypeOf = __webpack_require__(5);
var getPrototypeOf_default = /*#__PURE__*/__webpack_require__.n(getPrototypeOf);

// EXTERNAL MODULE: C:/Users/daniel/Documents/GitHub/AgrisysApp-Web/App/node_modules/react-native-web/dist/cjs/exports/Image/index.js
var Image = __webpack_require__(34);
var Image_default = /*#__PURE__*/__webpack_require__.n(Image);

// EXTERNAL MODULE: C:/Users/daniel/Documents/GitHub/AgrisysApp-Web/App/node_modules/react-native-web/dist/cjs/exports/StyleSheet/index.js
var StyleSheet = __webpack_require__(4);
var StyleSheet_default = /*#__PURE__*/__webpack_require__.n(StyleSheet);

// CONCATENATED MODULE: C:/Users/daniel/Documents/GitHub/AgrisysApp-Web/App/Src/Theme/Colors.js
/* harmony default export */ var Colors = ({transparent:'rgba(0,0,0,0)',white:'#ffffff',gray:'#a6a6a6',text:'#4a4a49',secountText:'#ffffff',primary:'#a3b9cf',success:'#03a489',error:'#dc3545',overest:'#4cafea',pigpink:'#FFAA95',input:'#86939e',AgriGreen:'#03a489',AgriDarkblue:'#4463ab',AgriLightblue:'#a3b9cf',AgriDark:'#4a4a49'});
// CONCATENATED MODULE: C:/Users/daniel/Documents/GitHub/AgrisysApp-Web/App/Src/Theme/Fonts.js
var size={h1:38,h2:34,h3:30,input:18,regular:17,medium:14,small:12};/* harmony default export */ var Fonts = ({h1:{fontSize:size.h1},h2:{fontSize:size.h2},h3:{fontSize:size.h3},normal:{fontSize:size.regular}});
// CONCATENATED MODULE: C:/Users/daniel/Documents/GitHub/AgrisysApp-Web/App/Src/Theme/Metrics.js
var tiny=5;var small=tiny*2;var normal=tiny*3;var medium=normal*2;/* harmony default export */ var Metrics = ({tiny:tiny,small:small,normal:normal,medium:medium,tinyBottomMargin:{marginBottom:tiny},smallBottomMargin:{marginBottom:small},bottomMargin:{marginBottom:normal},mediumBottomMargin:{marginBottom:medium},tinyVerticalMargin:{marginVertical:tiny},smallVerticalMargin:{marginVertical:small},verticalMargin:{marginVertical:normal},mediumVerticalMargin:{marginVertical:medium},tinyHorizontalMargin:{marginHorizontal:tiny},smallHorizontalMargin:{marginHorizontal:small},horizontalMargin:{marginHorizontal:normal},mediumHorizontalMargin:{marginHorizontal:medium},tinyHorizontalPadding:{paddingHorizontal:tiny},smallHorizontalPadding:{paddingHorizontal:small},horizontalPadding:{paddingHorizontal:normal},mediumHorizontalPadding:{paddingHorizontal:medium},tinyVerticalPadding:{paddingVertical:tiny},smallVerticalPadding:{paddingVertical:small},verticalPadding:{paddingVertical:normal},mediumVerticalPadding:{paddingVertical:medium}});
// CONCATENATED MODULE: C:/Users/daniel/Documents/GitHub/AgrisysApp-Web/App/Src/Theme/Images.js
/* harmony default export */ var Theme_Images = ({Home:__webpack_require__(685),DashBoard:__webpack_require__(686),System:__webpack_require__(687),Curves:__webpack_require__(688),GCurves:__webpack_require__(689),User:__webpack_require__(690),Sow:__webpack_require__(691),Section:__webpack_require__(692),Pens:__webpack_require__(693),AutoPig:__webpack_require__(694),Feed:__webpack_require__(695),Haxa_globe:__webpack_require__(696),Hexa_icon:__webpack_require__(697),Logo:__webpack_require__(698),logo:__webpack_require__(699)});
// CONCATENATED MODULE: C:/Users/daniel/Documents/GitHub/AgrisysApp-Web/App/Src/Theme/Helpers.js
function Helpers_ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);if(enumerableOnly)symbols=symbols.filter(function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable;});keys.push.apply(keys,symbols);}return keys;}function Helpers_objectSpread(target){for(var i=1;i<arguments.length;i++){var source=arguments[i]!=null?arguments[i]:{};if(i%2){Helpers_ownKeys(Object(source),true).forEach(function(key){defineProperty_default()(target,key,source[key]);});}else if(Object.getOwnPropertyDescriptors){Object.defineProperties(target,Object.getOwnPropertyDescriptors(source));}else{Helpers_ownKeys(Object(source)).forEach(function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key));});}}return target;}/* harmony default export */ var Helpers = ({column:{flexDirection:'column'},colMain:{flexDirection:'column',justifyContent:'center'},colCenter:{flexDirection:'column',alignItems:'center',justifyContent:'center'},colCross:{flexDirection:'column',alignItems:'center'},columnReverse:{flexDirection:'column-reverse'},row:{flexDirection:'row'},rowMain:{flexDirection:'row',justifyContent:'center'},rowCenter:{flexDirection:'row',alignItems:'center',justifyContent:'center'},rowCross:{flexDirection:'row',alignItems:'center'},rowReverse:{flexDirection:'row-reverse'},center:{alignItems:'center',justifyContent:'center'},crossCenter:{alignItems:'center'},crossEnd:{alignItems:'flex-end'},crossStart:{alignItems:'flex-start'},crossStretch:{alignItems:'stretch'},fill:{flex:1},fillCenter:{flex:1,alignItems:'center',justifyContent:'center'},fillCol:{flex:1,flexDirection:'column'},fillColCenter:{flex:1,flexDirection:'column',alignItems:'center',justifyContent:'center'},fillColCross:{flex:1,flexDirection:'column',alignItems:'center'},fillColMain:{flex:1,flexDirection:'column',justifyContent:'center'},fillColReverse:{flex:1,flexDirection:'column-reverse'},fillRow:{flex:1,flexDirection:'row'},fillRowCenter:{flex:1,flexDirection:'row',alignItems:'center',justifyContent:'center'},fillRowCross:{flex:1,flexDirection:'row',alignItems:'center'},fillRowMain:{flex:1,flexDirection:'row',justifyContent:'center'},fillRowReverse:{flex:1,flexDirection:'row-reverse'},fullSize:{height:'100%',width:'100%'},halvWidth:{width:'50%'},midWidth:{width:'75%'},fullWidth:{width:'100%'},mainCenter:{justifyContent:'center'},mainEnd:{justifyContent:'flex-end'},mainSpaceAround:{justifyContent:'space-around'},mainSpaceBetween:{justifyContent:'space-between'},mainStart:{justifyContent:'flex-start'},mainContainer:Helpers_objectSpread({flex:1,flexDirection:'column',alignItems:'center'},Metrics.mediumHorizontalMargin),contentContainer:Helpers_objectSpread(Helpers_objectSpread({flex:1,flexDirection:'column',alignItems:'center'},Metrics.mediumHorizontalMargin),{},{marginTop:Metrics.small},Metrics.bottomMargin),borderContainer:Helpers_objectSpread(Helpers_objectSpread(Helpers_objectSpread({borderWidth:1,borderColor:'#000',borderRadius:15},Metrics.tinyHorizontalPadding),Metrics.tinyVerticalPadding),{},{maxWidth:450,zIndex:1}),textContainer:Helpers_objectSpread(Helpers_objectSpread({},Fonts.normal),{},{marginBottom:Metrics.normal,alignItems:'center'}),buttonContainer:{marginBottom:Metrics.small,maxWidth:450},loadingContainer:{position:'absolute',left:0,right:0,top:0,bottom:0,alignItems:'center',justifyContent:'center',backgroundColor:'#F5FCFF88'},logoContainer:{width:'100%',height:220},backgroundReset:{backgroundColor:Colors.transparent},rotate90:{transform:[{rotate:'90deg'}]},rotate90Inverse:{transform:[{rotate:'-90deg'}]},mirror:{transform:[{scaleX:-1}]},scrollSpaceAround:{flexGrow:1,justifyContent:'space-around'},scrollSpaceBetween:{flexGrow:1,justifyContent:'space-between'},selfStretch:{alignSelf:'stretch'},textCenter:{textAlign:'center'},textJustify:{textAlign:'justify'},textLeft:{textAlign:'left'},textRight:{textAlign:'right'}});
// CONCATENATED MODULE: C:/Users/daniel/Documents/GitHub/AgrisysApp-Web/App/Src/Theme/ApplicationStyles.js
function ApplicationStyles_ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);if(enumerableOnly)symbols=symbols.filter(function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable;});keys.push.apply(keys,symbols);}return keys;}function ApplicationStyles_objectSpread(target){for(var i=1;i<arguments.length;i++){var source=arguments[i]!=null?arguments[i]:{};if(i%2){ApplicationStyles_ownKeys(Object(source),true).forEach(function(key){defineProperty_default()(target,key,source[key]);});}else if(Object.getOwnPropertyDescriptors){Object.defineProperties(target,Object.getOwnPropertyDescriptors(source));}else{ApplicationStyles_ownKeys(Object(source)).forEach(function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key));});}}return target;}/* harmony default export */ var ApplicationStyles = ({button:{backgroundColor:Colors.primary,color:Colors.secountText},buttonText:{color:Colors.secountText},error:ApplicationStyles_objectSpread(ApplicationStyles_objectSpread({},Fonts.normal),{},{color:Colors.error,marginBottom:Metrics.tiny,textAlign:'center'}),result:ApplicationStyles_objectSpread(ApplicationStyles_objectSpread({},Fonts.normal),{},{marginBottom:Metrics.tiny,textAlign:'center'}),text:ApplicationStyles_objectSpread(ApplicationStyles_objectSpread({},Fonts.normal),{},{marginBottom:Metrics.tiny,textAlign:'center'}),input:ApplicationStyles_objectSpread(ApplicationStyles_objectSpread({},Fonts.normal),{},{height:24}),navigationHeader:{textAlign:'center',alignSelf:'center',flexGrow:1}});
// CONCATENATED MODULE: C:/Users/daniel/Documents/GitHub/AgrisysApp-Web/App/Src/Theme/index.js

// CONCATENATED MODULE: C:/Users/daniel/Documents/GitHub/AgrisysApp-Web/App/Src/Containers/SplashScreen/SplashScreenStyle.js
/* harmony default export */ var SplashScreenStyle = (StyleSheet_default.a.create({container:{backgroundColor:Colors.primary}}));
// CONCATENATED MODULE: C:/Users/daniel/Documents/GitHub/AgrisysApp-Web/App/Src/Containers/SplashScreen/SplashScreen.js
function _createSuper(Derived){var hasNativeReflectConstruct=_isNativeReflectConstruct();return function _createSuperInternal(){var Super=getPrototypeOf_default()(Derived),result;if(hasNativeReflectConstruct){var NewTarget=getPrototypeOf_default()(this).constructor;result=Reflect.construct(Super,arguments,NewTarget);}else{result=Super.apply(this,arguments);}return possibleConstructorReturn_default()(this,result);};}function _isNativeReflectConstruct(){if(typeof Reflect==="undefined"||!Reflect.construct)return false;if(Reflect.construct.sham)return false;if(typeof Proxy==="function")return true;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}));return true;}catch(e){return false;}}var SplashScreen_messaging;if(Platform_default.a.OS==='ios'||Platform_default.a.OS==='android'){SplashScreen_messaging=__webpack_require__(298).default;}else{var SplashScreen_firebase=__webpack_require__(187).default;__webpack_require__(297).default;if(SplashScreen_firebase.messaging.isSupported()){SplashScreen_messaging=SplashScreen_firebase.messaging();}}var SplashScreen_SplashScreen=function(_Component){inherits_default()(SplashScreen,_Component);var _super=_createSuper(SplashScreen);function SplashScreen(props){classCallCheck_default()(this,SplashScreen);return _super.call(this,props);}createClass_default()(SplashScreen,[{key:"getData",value:function getData(){if((Platform_default.a.OS==="android"||Platform_default.a.OS==="ios")&&SplashScreen_messaging){SplashScreen_messaging().onNotificationOpenedApp(function(remoteMessage){console.log('Notification caused app to open from background state:',remoteMessage.notification);NavigationService.navigate(remoteMessage.data.type);});SplashScreen_messaging().getInitialNotification().then(function(remoteMessage){if(remoteMessage){console.log('Notification caused app to open from quit state:',remoteMessage.notification);NavigationService.navigate(remoteMessage.data.type);}});}}},{key:"checkData",value:function checkData(props){}},{key:"componentDidMount",value:function componentDidMount(){this.checkData(this.props);this.getData();}},{key:"componentDidUpdate",value:function componentDidUpdate(prevProps,prevState){if(this.props!==prevProps){this.checkData(this.props);}}},{key:"render",value:function render(){return react_default.a.createElement(View_default.a,{style:[Helpers.fillRowCenter,SplashScreenStyle.container]},react_default.a.createElement(View_default.a,{style:[Helpers.center,Helpers.logoContainer]},react_default.a.createElement(Image_default.a,{style:Helpers.fullSize,source:Theme_Images.Hexa_icon,resizeMode:'contain'})));}}]);return SplashScreen;}(react["Component"]);var mapStateToProps=function mapStateToProps(state){var firebase=state.firebase;return{firebase:firebase};};var SplashScreen_mapDispatchToProps=function mapDispatchToProps(dispatch){return{};};/* harmony default export */ var Containers_SplashScreen_SplashScreen = (Object(es["b" /* connect */])(mapStateToProps,SplashScreen_mapDispatchToProps)(SplashScreen_SplashScreen));
// EXTERNAL MODULE: C:/Users/daniel/Documents/GitHub/AgrisysApp-Web/App/node_modules/react-native-web/dist/cjs/exports/Text/index.js
var Text = __webpack_require__(17);
var Text_default = /*#__PURE__*/__webpack_require__.n(Text);

// CONCATENATED MODULE: C:/Users/daniel/Documents/GitHub/AgrisysApp-Web/App/Src/Containers/DeepLinking/DeepLinkingScreen.js
var DeepLinkingScreen_DeepLinkingScreen=function DeepLinkingScreen(){return react_default.a.createElement(View_default.a,{style:[Helpers.fillCenter,Helpers.rowMain,Metrics.mediumHorizontalMargin]},react_default.a.createElement(Text_default.a,null,"This is deep linking example screen which can be accessed using agrissysapp://deeplink scheme!"));};/* harmony default export */ var DeepLinking_DeepLinkingScreen = (DeepLinkingScreen_DeepLinkingScreen);
// EXTERNAL MODULE: C:/Users/daniel/Documents/GitHub/AgrisysApp-Web/App/node_modules/react-native-web/dist/cjs/exports/TouchableOpacity/index.js
var TouchableOpacity = __webpack_require__(33);
var TouchableOpacity_default = /*#__PURE__*/__webpack_require__.n(TouchableOpacity);

// CONCATENATED MODULE: C:/Users/daniel/Documents/GitHub/AgrisysApp-Web/App/Src/Components/Button.js
function Button_ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);if(enumerableOnly)symbols=symbols.filter(function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable;});keys.push.apply(keys,symbols);}return keys;}function Button_objectSpread(target){for(var i=1;i<arguments.length;i++){var source=arguments[i]!=null?arguments[i]:{};if(i%2){Button_ownKeys(Object(source),true).forEach(function(key){defineProperty_default()(target,key,source[key]);});}else if(Object.getOwnPropertyDescriptors){Object.defineProperties(target,Object.getOwnPropertyDescriptors(source));}else{Button_ownKeys(Object(source)).forEach(function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key));});}}return target;}var Button_Button=function Button(props){var TextView=[react_default.a.createElement(Text_default.a,{style:[Button_styles.text,props.textStyle],key:0},props.Text)];var ImageView=[];if(props.icon){var _Image=react_default.a.createElement(Image_default.a,{style:Helpers.fullSize,source:props.icon,resizeMode:'contain'});ImageView=react_default.a.createElement(View_default.a,{style:[Button_styles.icon,props.iconStyle]},_Image);}return react_default.a.createElement(TouchableOpacity_default.a,{style:[Button_styles.boxContainer,props.boxStyle],onPress:props.onPress},props.icon?react_default.a.createElement(View_default.a,{style:[Button_styles.button,props.buttonStyle,Helpers.rowCenter]},react_default.a.createElement(View_default.a,{style:[Helpers.colCenter,Helpers.fill]},TextView),ImageView):react_default.a.createElement(View_default.a,{style:[Button_styles.button,props.buttonStyle]},TextView));};var Button_styles=StyleSheet_default.a.create({boxContainer:Button_objectSpread(Button_objectSpread({},Helpers.center),Metrics.tinyVerticalMargin),button:Button_objectSpread(Button_objectSpread(Button_objectSpread(Button_objectSpread({borderRadius:15},Helpers.center),Helpers.fullWidth),Metrics.horizontalPadding),ApplicationStyles.button),text:Button_objectSpread(Button_objectSpread(Button_objectSpread(Button_objectSpread({},ApplicationStyles.buttonText),Metrics.verticalPadding),Helpers.center),{},{textAlign:"center"}),icon:Button_objectSpread(Button_objectSpread(Button_objectSpread({},Helpers.colCenter),Metrics.smallVerticalMargin),{},{width:'25%',height:50})});/* harmony default export */ var Components_Button = (Button_Button);
// CONCATENATED MODULE: C:/Users/daniel/Documents/GitHub/AgrisysApp-Web/App/Src/Components/Button_Panel.js
var Button_Panel_Button_Panel=function Button_Panel(props){var Texts=props.Texts;var Images=props.Images;var _onPress=props.onPress;var Buttons=[];Texts.forEach(function(element,index){var image=null;if(Images&&Images[index]){image=Images[index];}Buttons.push(react_default.a.createElement(Components_Button,{key:index,Text:element,icon:image,iconStyle:props.iconStyle,itemStyle:props.itemStyle,onPress:function onPress(){if(_onPress){_onPress({index:index,text:element});}}}));});return react_default.a.createElement(View_default.a,{style:[Helpers.buttonContainer,Helpers.midWidth,{marginBottom:30},props.style]},Buttons);};/* harmony default export */ var Components_Button_Panel = (Button_Panel_Button_Panel);
// CONCATENATED MODULE: C:/Users/daniel/Documents/GitHub/AgrisysApp-Web/App/Src/Components/TitleElement.js
var TitleElement_TitleElement=function TitleElement(props){return react_default.a.createElement(View_default.a,{style:[Helpers.buttonContainer,Helpers.midWidth,Metrics.bottomMargin]},react_default.a.createElement(Components_Button,{Text:props.Text,icon:props.icon,buttonStyle:{backgroundColor:Colors.AgriDarkblue},onPress:function onPress(){if(props.onPress){props.onPress();}}}));};/* harmony default export */ var Components_TitleElement = (TitleElement_TitleElement);
// EXTERNAL MODULE: C:/Users/daniel/Documents/GitHub/AgrisysApp-Web/App/node_modules/react-native-elements/dist/index.js + 65 modules
var dist = __webpack_require__(26);

// CONCATENATED MODULE: C:/Users/daniel/Documents/GitHub/AgrisysApp-Web/App/Src/Components/CustomListItem.js
function CustomListItem_ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);if(enumerableOnly)symbols=symbols.filter(function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable;});keys.push.apply(keys,symbols);}return keys;}function CustomListItem_objectSpread(target){for(var i=1;i<arguments.length;i++){var source=arguments[i]!=null?arguments[i]:{};if(i%2){CustomListItem_ownKeys(Object(source),true).forEach(function(key){defineProperty_default()(target,key,source[key]);});}else if(Object.getOwnPropertyDescriptors){Object.defineProperties(target,Object.getOwnPropertyDescriptors(source));}else{CustomListItem_ownKeys(Object(source)).forEach(function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key));});}}return target;}var CustomListItem_CustomListItem=function CustomListItem(props){var key=props.key?props.key:0;return react_default.a.createElement(dist["c" /* ListItem */],{key:key,containerStyle:[CustomListItem_styles.listitem,{flexDirection:"column",borderRadius:0},props.itemStyle],button:true,onPress:props.onPress},react_default.a.createElement(dist["c" /* ListItem */].Content,null,react_default.a.createElement(dist["c" /* ListItem */].Title,null,props.Title),props.hasOwnProperty("Subtitle")?react_default.a.createElement(dist["c" /* ListItem */].Subtitle,null,props.Subtitle):react_default.a.createElement(react_default.a.Fragment,null)));};var CustomListItem_styles=StyleSheet_default.a.create({listitem:CustomListItem_objectSpread(CustomListItem_objectSpread(CustomListItem_objectSpread({flex:1},Helpers.borderContainer),Helpers.center),{},{backgroundColor:'#fff',paddingVertical:5,paddingHorizontal:5})});/* harmony default export */ var Components_CustomListItem = (CustomListItem_CustomListItem);
// CONCATENATED MODULE: C:/Users/daniel/Documents/GitHub/AgrisysApp-Web/App/Src/Components/ContentProp.js
function ContentProp_ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);if(enumerableOnly)symbols=symbols.filter(function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable;});keys.push.apply(keys,symbols);}return keys;}function ContentProp_objectSpread(target){for(var i=1;i<arguments.length;i++){var source=arguments[i]!=null?arguments[i]:{};if(i%2){ContentProp_ownKeys(Object(source),true).forEach(function(key){defineProperty_default()(target,key,source[key]);});}else if(Object.getOwnPropertyDescriptors){Object.defineProperties(target,Object.getOwnPropertyDescriptors(source));}else{ContentProp_ownKeys(Object(source)).forEach(function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key));});}}return target;}var ContentProp_ContentProp=function ContentProp(props){var texts=[];if(props.texts){props.texts.forEach(function(element,i){texts.push(react_default.a.createElement(View_default.a,{style:[ContentProp_styles.contentBox,props.textsStyle],key:"text_"+i},react_default.a.createElement(Text_default.a,null,element)));});}var datas=[];if(props.datas){props.datas.forEach(function(element,i){datas.push(react_default.a.createElement(TouchableOpacity_default.a,{style:[ContentProp_styles.contentBox,props.datasStyle],onLongPress:function onLongPress(){if(props.onPress){props.onPress({data:element,index:i});}},key:"data_"+i},react_default.a.createElement(Text_default.a,null,element)));});}var length=texts.length>datas.length?texts.length:datas.length;var view=[];for(var i=0;i<length;i++){var dataRow=[];if(i<texts.length){dataRow.push(texts[i]);}else{dataRow.push(react_default.a.createElement(View_default.a,{style:[Helpers.fill,Helpers.colCenter],key:"leftSpace_"+i}));}if(datas.length>0){dataRow.push(react_default.a.createElement(View_default.a,{style:[Helpers.fill,Helpers.colCenter,{maxWidth:20}],key:"seperator_"+view.length}));if(i<datas.length){dataRow.push(datas[i]);}else{dataRow.push(react_default.a.createElement(View_default.a,{style:[Helpers.fill,Helpers.colCenter],key:"rightSpace_"+i}));}}view.push(react_default.a.createElement(View_default.a,{style:[props.datas?Helpers.rowCenter:Helpers.halvWidth,Metrics.tinyVerticalMargin],key:"row_"+view.length},dataRow));}return view;};var ContentProp_styles=StyleSheet_default.a.create({contentBox:ContentProp_objectSpread(ContentProp_objectSpread(ContentProp_objectSpread(ContentProp_objectSpread({},Helpers.fill),Helpers.colCenter),Helpers.borderContainer),{},{borderRadius:0,minHeight:30})});/* harmony default export */ var Components_ContentProp = (ContentProp_ContentProp);
// CONCATENATED MODULE: C:/Users/daniel/Documents/GitHub/AgrisysApp-Web/App/Src/Components/Loading.js
var Loading_Loading=function Loading(props){if(props.loading){var styles=props.back?styles.container:{};return react_default.a.createElement(View_default.a,{style:[Helpers.fillRowCenter,Helpers.center,Helpers.logoContainer,styles]},react_default.a.createElement(View_default.a,{style:[Helpers.center,Helpers.logoContainer]},react_default.a.createElement(Image_default.a,{style:Helpers.fullSize,source:Theme_Images.Hexa_icon,resizeMode:'contain'})));}else return null;};var Loading_styles=StyleSheet_default.a.create({container:{backgroundColor:Colors.primary}});/* harmony default export */ var Components_Loading = (Loading_Loading);
// EXTERNAL MODULE: C:/Users/daniel/Documents/GitHub/AgrisysApp-Web/App/node_modules/react-native-web/dist/cjs/exports/ScrollView/index.js
var ScrollView = __webpack_require__(39);
var ScrollView_default = /*#__PURE__*/__webpack_require__.n(ScrollView);

// CONCATENATED MODULE: C:/Users/daniel/Documents/GitHub/AgrisysApp-Web/App/Src/Components/OperationsPanel.js
function OperationsPanel_createSuper(Derived){var hasNativeReflectConstruct=OperationsPanel_isNativeReflectConstruct();return function _createSuperInternal(){var Super=getPrototypeOf_default()(Derived),result;if(hasNativeReflectConstruct){var NewTarget=getPrototypeOf_default()(this).constructor;result=Reflect.construct(Super,arguments,NewTarget);}else{result=Super.apply(this,arguments);}return possibleConstructorReturn_default()(this,result);};}function OperationsPanel_isNativeReflectConstruct(){if(typeof Reflect==="undefined"||!Reflect.construct)return false;if(Reflect.construct.sham)return false;if(typeof Proxy==="function")return true;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}));return true;}catch(e){return false;}}var OperationsPanel_OperationsPanel=function(_Component){inherits_default()(OperationsPanel,_Component);var _super=OperationsPanel_createSuper(OperationsPanel);function OperationsPanel(props){var _this;classCallCheck_default()(this,OperationsPanel);_this=_super.call(this,props);_this.state={View:1};return _this;}createClass_default()(OperationsPanel,[{key:"getPenAndSection",value:function getPenAndSection(){var Section,Pen=undefined;if(this.props.pig&&this.props.pigTag&&this.props.PigsList){if(this.props.PigsList[this.props.pigTag]&&this.props.PigsList[this.props.pigTag].pen&&this.props.PigsList[this.props.pigTag].pen!=0){Pen=this.props.PigsList[this.props.pigTag].pen;var localDataStore=this.props.firebase.localDataStore;if(localDataStore&&localDataStore.pens&&localDataStore.pens[Pen]){var PenData=localDataStore.pens[Pen];Section=PenData.section;}}}return{Section:Section,Pen:Pen};}},{key:"getData",value:function getData(){}},{key:"componentDidMount",value:function componentDidMount(){this.getData();}},{key:"componentDidUpdate",value:function componentDidUpdate(prevProps,prevState){if(this.props!==prevProps){}}},{key:"render",value:function render(){var _this2=this;var CurrentData=this.props.firebase.currentData;if(this.props.pig){return react_default.a.createElement(View_default.a,{style:[Helpers.buttonContainer]},react_default.a.createElement(Components_Button,{Text:"Add Pig",onPress:function onPress(){if(_this2.props.pigTag!==""){if(Object.keys(_this2.props.PigsList).filter(function(e){return e===_this2.props.pigTag;}).length>0){_this2.props.setFirebaseError("Can not add Tag already exist");}else{_this2.props.setFirebaseError("");_this2.props.newPig(_this2.props.pigTag);}}else _this2.props.setFirebaseError("A Tag is needed");}}),react_default.a.createElement(Components_Button,{Text:"Move Pig",onPress:function onPress(){var _this2$getPenAndSecti=_this2.getPenAndSection(),Section=_this2$getPenAndSecti.Section,Pen=_this2$getPenAndSecti.Pen;_this2.props.setCurrentPig(_this2.props.pigTag,Section,Pen);NavigationService.navigate("DataEditor");}}));}else if(this.props.section){return react_default.a.createElement(View_default.a,{style:[Helpers.buttonContainer]},react_default.a.createElement(Components_Button,{Text:"Weight",onPress:function onPress(){NavigationService.navigate("WeighingOperations");}}),react_default.a.createElement(View_default.a,{style:[{marginTop:40}]},react_default.a.createElement(Components_Button,{Text:"Add Pen",onPress:function onPress(){_this2.props.editPens(Selectors_Actions.CREATE);NavigationService.navigate("DataEditor");}}),react_default.a.createElement(Components_Button,{Text:"Remove Pen",onPress:function onPress(){_this2.props.editPens(Selectors_Actions.DELETE);NavigationService.navigate("DataEditor");}})));}else{var Action=1;switch(this.state.View){case Selectors_Operations.MOVE:case Selectors_Operations.LOST:case Selectors_Operations.SOLD:Action=-1;case Selectors_Operations.ADD:return react_default.a.createElement(Components_Comment_Module,{Title:"Operations comment:",Quantity:true,Weight:true,onDone:function onDone(res){if(res.res){var action=_this2.state.View;action=action.charAt(0).toUpperCase()+action.slice(1);var quantity=res.quantity;if(isNaN(quantity))quantity=1;Action=Action*quantity;if(res.weight&&res.weight!==""){var weight=res.weight;if(_this2.state.View===Selectors_Operations.ADD){_this2.props.newWeight(CurrentData.penId,weight,Date.now(),1);}}_this2.props.newComment(CurrentData.penId,action,res.data,quantity,weight);_this2.props.newPigCount(CurrentData.penId,Action);}_this2.setState({View:1});}});case Selectors_Operations.NOTE:return react_default.a.createElement(Components_Comment_Module,{Title:"Pen Note:",onDone:function onDone(res){if(res.res&&res.data){var action=_this2.state.View;action=action.charAt(0).toUpperCase()+action.slice(1);_this2.props.newComment(CurrentData.penId,action,res.data);}_this2.setState({View:1});}});break;default:return react_default.a.createElement(ScrollView_default.a,{style:{paddingRight:5}},react_default.a.createElement(View_default.a,{style:[Helpers.buttonContainer]},react_default.a.createElement(Components_Button,{Text:"Weight",onPress:function onPress(){NavigationService.navigate("WeighingOperations");}}),react_default.a.createElement(Components_Button,{Text:"Note",onPress:function onPress(){_this2.setState({View:Selectors_Operations.NOTE});}}),react_default.a.createElement(View_default.a,{style:[{marginTop:10}]},react_default.a.createElement(Components_Button,{Text:"Add Pig",onPress:function onPress(){_this2.setState({View:Selectors_Operations.ADD});}}),react_default.a.createElement(Components_Button,{Text:"Move Pig",onPress:function onPress(){_this2.setState({View:Selectors_Operations.MOVE});}}),react_default.a.createElement(Components_Button,{Text:"Lost Pig",onPress:function onPress(){_this2.setState({View:Selectors_Operations.LOST});}}),react_default.a.createElement(Components_Button,{Text:"Sold Pig",onPress:function onPress(){_this2.setState({View:Selectors_Operations.SOLD});}}))));}}}}]);return OperationsPanel;}(react["Component"]);var OperationsPanel_mapStateToProps=function mapStateToProps(state){var firebase=state.firebase;return{firebase:firebase};};var OperationsPanel_mapDispatchToProps=function mapDispatchToProps(dispatch){return{setFirebaseError:function setFirebaseError(error){return dispatch(Firebase_Actions.setFirebaseError(error));},setCurrentData:function setCurrentData(penId){return dispatch(Firebase_Actions.setCurrentData({type:DataRefs.PENS,penId:penId}));},setCurrentDataElement:function setCurrentDataElement(element){return dispatch(Firebase_Actions.setCurrentData(element));},editPens:function editPens(action){return dispatch(Firebase_Actions.setCurrentData({type:DataRefs.PENS,action:action}));},setCurrentPig:function setCurrentPig(pigTag,Section,Pen){return dispatch(Firebase_Actions.setCurrentData({type:DataRefs.PIGS,action:Selectors_Actions.CREATE,pigtag:pigTag,data:{section:Section},dataId:Pen}));},newPig:function newPig(pigTag){return dispatch(Firebase_Actions.actionStarting(Selectors_Actions.CREATE,DataRefs.PIGS,{TagId:pigTag}));},newPigCount:function newPigCount(penId,countChange){return dispatch(Firebase_Actions.actionStarting(Selectors_Actions.CREATE,DataRefs.PIGS,{PenId:penId,Action:countChange}));},newComment:function newComment(penId,action,data){var quantity=arguments.length>3&&arguments[3]!==undefined?arguments[3]:null;var weight=arguments.length>4&&arguments[4]!==undefined?arguments[4]:null;return dispatch(Firebase_Actions.actionStarting(Selectors_Actions.CREATE,DataRefs.COMMENTS,{PenId:penId,Action:action,Data:data,Quantity:quantity,Weight:weight}));},newWeight:function newWeight(penId,weight,date,quantity){return dispatch(Firebase_Actions.actionStarting(Selectors_Actions.CREATE,DataRefs.WEIGHING,{PenId:penId,Weight:weight,Quantity:quantity,Date:date}));}};};/* harmony default export */ var Components_OperationsPanel = (Object(es["b" /* connect */])(OperationsPanel_mapStateToProps,OperationsPanel_mapDispatchToProps)(OperationsPanel_OperationsPanel));
// EXTERNAL MODULE: C:/Users/daniel/Documents/GitHub/AgrisysApp-Web/App/node_modules/react-native-web/dist/cjs/exports/Animated/index.js
var Animated = __webpack_require__(21);
var Animated_default = /*#__PURE__*/__webpack_require__.n(Animated);

// CONCATENATED MODULE: C:/Users/daniel/Documents/GitHub/AgrisysApp-Web/App/Src/Components/Progressbar.js
var Progressbar_ProgressBar=function ProgressBar(props){var animation=Object(react["useRef"])(new Animated_default.a.Value(0));var progress=props.progress;var Color=props.color?props.color:"#8BED4F";Object(react["useEffect"])(function(){Animated_default.a.timing(animation.current,{toValue:progress,duration:100}).start();},[progress]);var width=animation.current.interpolate({inputRange:[0,100],outputRange:["0%","100%"],extrapolate:"clamp"});return react_default.a.createElement(View_default.a,{style:[Helpers.borderContainer,Helpers.fullWidth,{borderWidth:0,minHeight:45,paddingBottom:10}]},react_default.a.createElement(View_default.a,{style:[Helpers.fill,Helpers.fullWidth,Helpers.colMain,{alignContent:'center'}]},props.text?react_default.a.createElement(Text_default.a,{style:{alignSelf:'flex-start',minHeight:20}},props.text):react_default.a.createElement(react_default.a.Fragment,null),react_default.a.createElement(View_default.a,{style:Progressbar_styles.progressBar},react_default.a.createElement(Animated_default.a.View,{style:([StyleSheet_default.a.absoluteFill],{backgroundColor:Color,width:width})}))));};/* harmony default export */ var Progressbar = (Progressbar_ProgressBar);var Progressbar_styles=StyleSheet_default.a.create({container:{flex:1,flexDirection:'column',justifyContent:'center',alignItems:'center',paddingTop:5,padding:8},progressBar:{flexDirection:'row',height:20,width:'100%',borderColor:'#000',borderWidth:2,borderRadius:5}});
// EXTERNAL MODULE: C:/Users/daniel/Documents/GitHub/AgrisysApp-Web/App/node_modules/react-native-web/dist/cjs/exports/Picker/index.js
var Picker = __webpack_require__(59);
var Picker_default = /*#__PURE__*/__webpack_require__.n(Picker);

// CONCATENATED MODULE: C:/Users/daniel/Documents/GitHub/AgrisysApp-Web/App/Src/Components/DateTime_Picker.js
function DateTime_Picker_createSuper(Derived){var hasNativeReflectConstruct=DateTime_Picker_isNativeReflectConstruct();return function _createSuperInternal(){var Super=getPrototypeOf_default()(Derived),result;if(hasNativeReflectConstruct){var NewTarget=getPrototypeOf_default()(this).constructor;result=Reflect.construct(Super,arguments,NewTarget);}else{result=Super.apply(this,arguments);}return possibleConstructorReturn_default()(this,result);};}function DateTime_Picker_isNativeReflectConstruct(){if(typeof Reflect==="undefined"||!Reflect.construct)return false;if(Reflect.construct.sham)return false;if(typeof Proxy==="function")return true;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}));return true;}catch(e){return false;}}var monthNames=["January","February","March","April","May","June","July","August","September","October","November","December"];var DateTime_Picker_DateTime_Picker=function(_Component){inherits_default()(DateTime_Picker,_Component);var _super=DateTime_Picker_createSuper(DateTime_Picker);function DateTime_Picker(props){var _this;classCallCheck_default()(this,DateTime_Picker);_this=_super.call(this,props);var _this$getStates=_this.getStates(props),year=_this$getStates.year,month=_this$getStates.month,day=_this$getStates.day;_this.state={year:year,month:month,day:day};return _this;}createClass_default()(DateTime_Picker,[{key:"getStates",value:function getStates(props){var Today=new Date();var Selected=new Date();if(props.Selected){Selected=new Date(props.Selected);}var year,month,day;year=Selected.getFullYear();month=Selected.getMonth();day=Selected.getDate();if(!props.Selected){if(props.Year){year=this.props.Year;}if(props.Month){month=this.props.Month;}if(props.Day){day=this.props.Day;}}return{year:year,month:month,day:day};}},{key:"componentDidUpdate",value:function componentDidUpdate(prevProps,prevState){if(prevProps.Selected){if(prevProps.Selected!=this.props.Selected){var _this$getStates2=this.getStates(this.props),year=_this$getStates2.year,month=_this$getStates2.month,day=_this$getStates2.day;this.setState({year:year,month:month,day:day},this.forceUpdate());}}else{var changed=false;if(prevProps.Year!=this.props.Year)changed=true;if(prevProps.Month!=this.props.Month)changed=true;if(prevProps.Day!=this.props.Day)changed=true;if(changed){this.forceUpdate();}}}},{key:"render",value:function render(){var _this2=this;var Today=new Date();var year=Today.getFullYear();var YearItems=[];for(var index=year+25;index>year-25;index--){var val=String(index);YearItems.push(react_default.a.createElement(Picker_default.a.Item,{key:"Year_"+index,value:index,label:val}));}var MonthItems=[];var month=Today.getMonth();for(var _index=0;_index<monthNames.length;_index++){var val=String(_index);MonthItems.push(react_default.a.createElement(Picker_default.a.Item,{key:"Month_"+_index,value:_index,label:monthNames[_index]}));}var DayItems=[];var days=new Date(year,month+1,0).getDate();for(var _index2=1;_index2<=days;_index2++){var val=String(_index2);DayItems.push(react_default.a.createElement(Picker_default.a.Item,{key:"Day_"+_index2,value:_index2,label:val}));}return react_default.a.createElement(View_default.a,{style:[Helpers.fullWidth,Helpers.row,{marginBottom:-10},this.props.style]},react_default.a.createElement(Picker_default.a,{selectedValue:this.state.year,style:[{minWidth:101,marginRight:5}],onValueChange:function onValueChange(_year){year=_year;_this2.props.onValueChange(new Date(year,_this2.state.month,_this2.state.day));}},YearItems),react_default.a.createElement(Picker_default.a,{selectedValue:this.state.month,style:[{minWidth:110,marginRight:5}],onValueChange:function onValueChange(_month){month=_month;_this2.props.onValueChange(new Date(_this2.state.year,month,_this2.state.day));}},MonthItems),react_default.a.createElement(Picker_default.a,{selectedValue:this.state.day,style:[{minWidth:83}],onValueChange:function onValueChange(_day){days=parseInt(_day);_this2.props.onValueChange(new Date(_this2.state.year,_this2.state.month,days));}},DayItems));}}]);return DateTime_Picker;}(react["Component"]);/* harmony default export */ var Components_DateTime_Picker = (DateTime_Picker_DateTime_Picker);
// EXTERNAL MODULE: C:/Users/daniel/Documents/GitHub/AgrisysApp-Web/App/node_modules/react-native-web/dist/cjs/exports/TextInput/index.js
var TextInput = __webpack_require__(47);
var TextInput_default = /*#__PURE__*/__webpack_require__.n(TextInput);

// CONCATENATED MODULE: C:/Users/daniel/Documents/GitHub/AgrisysApp-Web/App/Src/Components/Comment_Module.js
var Comment_Module_Comment_Module=function Comment_Module(props){var Title=props.Title;var Quantity=props.Quantity?props.Quantity:false;var Weight=props.Weight?props.Weight:false;var onDone=props.onDone;var Button1="Done";var Button2="Cancel";var _useState=Object(react["useState"])(""),_useState2=slicedToArray_default()(_useState,2),InputText=_useState2[0],setInputText=_useState2[1];var _useState3=Object(react["useState"])("1"),_useState4=slicedToArray_default()(_useState3,2),QuantityText=_useState4[0],setQuantityText=_useState4[1];var _useState5=Object(react["useState"])(""),_useState6=slicedToArray_default()(_useState5,2),WeightText=_useState6[0],setWeightText=_useState6[1];var App=Platform_default.a.OS==="android"||Platform_default.a.OS==="ios"?true:false;return react_default.a.createElement(View_default.a,{style:[Helpers.buttonContainer,props.style]},react_default.a.createElement(View_default.a,{style:Comment_Module_styles.textAreaContainer},react_default.a.createElement(View_default.a,{style:[App?{}:Helpers.row]},Title?react_default.a.createElement(Text_default.a,{style:[Fonts.normal,{height:24,color:Colors.input}]},Title):react_default.a.createElement(react_default.a.Fragment,null),Quantity?react_default.a.createElement(View_default.a,{style:[Helpers.row,App?{}:{marginLeft:50,marginBottom:4}]},react_default.a.createElement(Text_default.a,{style:[Fonts.normal,{height:24,color:Colors.input}]},"Quantity:"),react_default.a.createElement(TextInput_default.a,{style:[Comment_Module_styles.textArea,{marginLeft:10,height:22,width:80,paddingBottom:-10}],multiline:false,onChangeText:function onChangeText(text){if(text===""||!isNaN(text))setQuantityText(text);},value:QuantityText})):react_default.a.createElement(react_default.a.Fragment,null)),Weight?react_default.a.createElement(View_default.a,{style:[Helpers.row,App?{}:{marginBottom:4}]},react_default.a.createElement(Text_default.a,{style:[Fonts.normal,{height:24,color:Colors.input}]},"Average Weight:"),react_default.a.createElement(TextInput_default.a,{style:[Comment_Module_styles.textArea,{marginLeft:10,height:22,width:80,paddingBottom:-10}],multiline:false,onChangeText:function onChangeText(text){if(text===""||!isNaN(text))setWeightText(text);},value:WeightText})):react_default.a.createElement(react_default.a.Fragment,null),react_default.a.createElement(TextInput_default.a,{style:Comment_Module_styles.textArea,underlineColorAndroid:"transparent",placeholder:"Note context..",placeholderTextColor:"grey",numberOfLines:10,multiline:true,onChangeText:function onChangeText(text){return setInputText(text);},value:InputText})),react_default.a.createElement(Components_Button,{key:"_Done",Text:Button1,onPress:function onPress(){if(onDone){onDone({res:true,data:InputText,quantity:QuantityText,weight:WeightText});}}}),react_default.a.createElement(Components_Button,{key:"_Cancel",Text:Button2,onPress:function onPress(){if(onDone){onDone({res:false,data:InputText});}}}));};var Comment_Module_styles=StyleSheet_default.a.create({textAreaContainer:{borderColor:Colors.gray,borderWidth:1,padding:5},textArea:{height:150,justifyContent:"flex-start",borderColor:"black",borderWidth:0.5,padding:5}});/* harmony default export */ var Components_Comment_Module = (Comment_Module_Comment_Module);
// CONCATENATED MODULE: C:/Users/daniel/Documents/GitHub/AgrisysApp-Web/App/Src/Components/index.js

// CONCATENATED MODULE: C:/Users/daniel/Documents/GitHub/AgrisysApp-Web/App/Src/Containers/Agrisys/FrontScreenStyle.js
function FrontScreenStyle_ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);if(enumerableOnly)symbols=symbols.filter(function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable;});keys.push.apply(keys,symbols);}return keys;}function FrontScreenStyle_objectSpread(target){for(var i=1;i<arguments.length;i++){var source=arguments[i]!=null?arguments[i]:{};if(i%2){FrontScreenStyle_ownKeys(Object(source),true).forEach(function(key){defineProperty_default()(target,key,source[key]);});}else if(Object.getOwnPropertyDescriptors){Object.defineProperties(target,Object.getOwnPropertyDescriptors(source));}else{FrontScreenStyle_ownKeys(Object(source)).forEach(function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key));});}}return target;}/* harmony default export */ var FrontScreenStyle = (StyleSheet_default.a.create({logoContainer:FrontScreenStyle_objectSpread(FrontScreenStyle_objectSpread({},Helpers.fullWidth),{},{height:190,marginTop:Metrics.medium*2,marginBottom:Metrics.medium})}));
// CONCATENATED MODULE: C:/Users/daniel/Documents/GitHub/AgrisysApp-Web/App/Src/Containers/Agrisys/FrontScreen.js
function FrontScreen_createSuper(Derived){var hasNativeReflectConstruct=FrontScreen_isNativeReflectConstruct();return function _createSuperInternal(){var Super=getPrototypeOf_default()(Derived),result;if(hasNativeReflectConstruct){var NewTarget=getPrototypeOf_default()(this).constructor;result=Reflect.construct(Super,arguments,NewTarget);}else{result=Super.apply(this,arguments);}return possibleConstructorReturn_default()(this,result);};}function FrontScreen_isNativeReflectConstruct(){if(typeof Reflect==="undefined"||!Reflect.construct)return false;if(Reflect.construct.sham)return false;if(typeof Proxy==="function")return true;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}));return true;}catch(e){return false;}}var FrontScreen_FrontScreen=function(_Component){inherits_default()(FrontScreen,_Component);var _super=FrontScreen_createSuper(FrontScreen);function FrontScreen(props){var _this;classCallCheck_default()(this,FrontScreen);_this=_super.call(this,props);_this.state={ShowMainError:false,FocusSubscription:null};return _this;}createClass_default()(FrontScreen,[{key:"setData",value:function setData(Props){}},{key:"getData",value:function getData(){}},{key:"checkData",value:function checkData(props){}},{key:"componentDidUpdate",value:function componentDidUpdate(prevProps,prevState){if(this.props!==prevProps){this.checkData(this.props);if(this.props.firebase.viewError!=prevProps.firebase.viewError){this.forceUpdate();}}}},{key:"componentDidMount",value:function componentDidMount(){var _this2=this;this.props.setFirebaseError(null);this.checkData(this.props);this.getData();var FocusSubscription=this.props.navigation.addListener('willFocus',function(payload){_this2.props.setViewLoading(false);_this2.props.setViewError(null);});this.setState({FocusSubscription:FocusSubscription});}},{key:"componentWillUnmount",value:function componentWillUnmount(){if(this.state.FocusSubscription){this.state.FocusSubscription.remove();}}},{key:"render",value:function render(){var ErrorMessage=this.props.firebase.viewError;var firebaseErrorMessage=this.props.firebase.firebaseErrorMessage;return react_default.a.createElement(View_default.a,{style:[Helpers.mainContainer]},react_default.a.createElement(View_default.a,{style:[FrontScreenStyle.logoContainer]},react_default.a.createElement(Image_default.a,{style:[Helpers.fullSize],source:Theme_Images.Logo,resizeMode:'contain'})),react_default.a.createElement(View_default.a,{style:[Helpers.contentContainer,Helpers.fullSize]},react_default.a.createElement(View_default.a,{style:[Helpers.textContainer,Helpers.fullWidth]},this.state.ShowMainError&&firebaseErrorMessage?react_default.a.createElement(Text_default.a,{style:ApplicationStyles.error},firebaseErrorMessage):react_default.a.createElement(react_default.a.Fragment,null),ErrorMessage?react_default.a.createElement(Text_default.a,{style:ApplicationStyles.error},ErrorMessage):react_default.a.createElement(react_default.a.Fragment,null),react_default.a.createElement(Text_default.a,{style:ApplicationStyles.text},"Welcome to Agrisys App"),react_default.a.createElement(Text_default.a,{style:ApplicationStyles.text},"Please choose your action")),react_default.a.createElement(Components_Button_Panel,{Texts:["Connect to Agrisys Cloud","Connect to Device"],Images:[Theme_Images.Haxa_globe,null],onPress:function onPress(ele){switch(ele.index){case 0:NavigationService.navigate('AuthStack');break;case 1:if(Platform_default.a.OS==='ios'||Platform_default.a.OS==='android'){NavigationService.navigate("DeviceScreen");}break;}}})));}}]);return FrontScreen;}(react["Component"]);var FrontScreen_mapStateToProps=function mapStateToProps(state){var firebase=state.firebase;return{firebase:firebase};};var FrontScreen_mapDispatchToProps=function mapDispatchToProps(dispatch){return{setFirebaseError:function setFirebaseError(error){return dispatch(Firebase_Actions.setFirebaseError(error));},setViewLoading:function setViewLoading(state){return dispatch(Firebase_Actions.viewIsLoading(state));},setViewError:function setViewError(error){return dispatch(Firebase_Actions.setViewError(error));}};};/* harmony default export */ var Agrisys_FrontScreen = (Object(es["b" /* connect */])(FrontScreen_mapStateToProps,FrontScreen_mapDispatchToProps)(FrontScreen_FrontScreen));
// EXTERNAL MODULE: C:/Users/daniel/Documents/GitHub/AgrisysApp-Web/App/node_modules/react-native-web/dist/cjs/exports/Button/index.js
var exports_Button = __webpack_require__(239);
var Button_default = /*#__PURE__*/__webpack_require__.n(exports_Button);

// EXTERNAL MODULE: C:/Users/daniel/Documents/GitHub/AgrisysApp-Web/App/node_modules/react-native-web/dist/cjs/exports/ActivityIndicator/index.js
var ActivityIndicator = __webpack_require__(32);
var ActivityIndicator_default = /*#__PURE__*/__webpack_require__.n(ActivityIndicator);

// CONCATENATED MODULE: C:/Users/daniel/Documents/GitHub/AgrisysApp-Web/App/Src/Stores/Example/Selectors.js
var liveInEurope=function liveInEurope(state){if(Object.entries(state.example.user).length<=0)return null;var europeanCities=['Gwenborough','Wisokyburgh','McKenziehaven','South Elvis','Roscoeview'];return europeanCities.includes(state.example.user.address.city);};
// CONCATENATED MODULE: C:/Users/daniel/Documents/GitHub/AgrisysApp-Web/App/Src/Containers/Example/ExampleScreenStyle.js
function ExampleScreenStyle_ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);if(enumerableOnly)symbols=symbols.filter(function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable;});keys.push.apply(keys,symbols);}return keys;}function ExampleScreenStyle_objectSpread(target){for(var i=1;i<arguments.length;i++){var source=arguments[i]!=null?arguments[i]:{};if(i%2){ExampleScreenStyle_ownKeys(Object(source),true).forEach(function(key){defineProperty_default()(target,key,source[key]);});}else if(Object.getOwnPropertyDescriptors){Object.defineProperties(target,Object.getOwnPropertyDescriptors(source));}else{ExampleScreenStyle_ownKeys(Object(source)).forEach(function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key));});}}return target;}/* harmony default export */ var ExampleScreenStyle = (StyleSheet_default.a.create({error:ExampleScreenStyle_objectSpread(ExampleScreenStyle_objectSpread({},Fonts.normal),{},{color:Colors.error,marginBottom:Metrics.tiny,textAlign:'center'}),instructions:ExampleScreenStyle_objectSpread(ExampleScreenStyle_objectSpread({},Fonts.normal),{},{fontStyle:'italic',marginBottom:Metrics.tiny,textAlign:'center'}),logoContainer:ExampleScreenStyle_objectSpread(ExampleScreenStyle_objectSpread({},Helpers.fullWidth),{},{height:300,marginBottom:25}),result:ExampleScreenStyle_objectSpread(ExampleScreenStyle_objectSpread({},Fonts.normal),{},{marginBottom:Metrics.tiny,textAlign:'center'}),text:ExampleScreenStyle_objectSpread(ExampleScreenStyle_objectSpread({},Fonts.normal),{},{marginBottom:Metrics.tiny,textAlign:'center'})}));
// CONCATENATED MODULE: C:/Users/daniel/Documents/GitHub/AgrisysApp-Web/App/Src/Containers/Example/ExampleScreen.js
var instructions=Platform_default.a.select({ios:'Press Cmd+R to reload,\nCmd+D or shake for dev menu.',android:'Double tap R on your keyboard to reload,\nShake or press menu button for dev menu.'});var ExampleScreen_ExampleScreen=function ExampleScreen(){var dispatch=Object(es["c" /* useDispatch */])();var user=Object(es["d" /* useSelector */])(function(state){return state.example.user;});var userIsLoading=Object(es["d" /* useSelector */])(function(state){return state.example.userIsLoading;});var userErrorMessage=Object(es["d" /* useSelector */])(function(state){return state.example.userErrorMessage;});Object(react["useEffect"])(function(){dispatch(Example_Actions.fetchUser());},[]);return react_default.a.createElement(View_default.a,{style:[Helpers.fillCenter,Helpers.rowMain,Metrics.mediumHorizontalMargin,Metrics.mediumVerticalMargin]},userIsLoading?react_default.a.createElement(ActivityIndicator_default.a,{size:"large",color:"#0000ff"}):react_default.a.createElement(View_default.a,null,react_default.a.createElement(View_default.a,{style:ExampleScreenStyle.logoContainer},react_default.a.createElement(Image_default.a,{style:Helpers.fullSize,source:Theme_Images.logo,resizeMode:'contain'})),react_default.a.createElement(Text_default.a,{style:ExampleScreenStyle.text},"To get started, edit App.js"),react_default.a.createElement(Text_default.a,{style:ExampleScreenStyle.instructions},instructions),userErrorMessage?react_default.a.createElement(Text_default.a,{style:ExampleScreenStyle.error},userErrorMessage):react_default.a.createElement(View_default.a,null,react_default.a.createElement(Text_default.a,{style:ExampleScreenStyle.result},"I'm a fake user, my name is ",user.name),react_default.a.createElement(Text_default.a,{style:ExampleScreenStyle.result},liveInEurope?'I live in Europe !':"I don't live in Europe.")),react_default.a.createElement(Button_default.a,{style:ApplicationStyles.button,onPress:function onPress(){return dispatch(Example_Actions.fetchUser());},title:"Refresh"}),react_default.a.createElement(Button_default.a,{style:ApplicationStyles.button,onPress:function onPress(){return NavigationService.navigate("TestScreen");},title:"Test"})));};/* harmony default export */ var Example_ExampleScreen = (ExampleScreen_ExampleScreen);
// CONCATENATED MODULE: C:/Users/daniel/Documents/GitHub/AgrisysApp-Web/App/Src/Containers/Device/DeviceScreenStyle.js
function DeviceScreenStyle_ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);if(enumerableOnly)symbols=symbols.filter(function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable;});keys.push.apply(keys,symbols);}return keys;}function DeviceScreenStyle_objectSpread(target){for(var i=1;i<arguments.length;i++){var source=arguments[i]!=null?arguments[i]:{};if(i%2){DeviceScreenStyle_ownKeys(Object(source),true).forEach(function(key){defineProperty_default()(target,key,source[key]);});}else if(Object.getOwnPropertyDescriptors){Object.defineProperties(target,Object.getOwnPropertyDescriptors(source));}else{DeviceScreenStyle_ownKeys(Object(source)).forEach(function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key));});}}return target;}/* harmony default export */ var DeviceScreenStyle = (StyleSheet_default.a.create({logoContainer:DeviceScreenStyle_objectSpread(DeviceScreenStyle_objectSpread({},Helpers.fullWidth),{},{height:220,marginBottom:Metrics.small}),textContainer:DeviceScreenStyle_objectSpread(DeviceScreenStyle_objectSpread({},Fonts.normal),{},{marginBottom:Metrics.small}),buttonContainer:{marginBottom:Metrics.normal},deviceContainer:{flex:1,marginBottom:Metrics.tiny},deviceDataContainer:{borderWidth:1,borderColor:"#000",marginTop:Metrics.normal,paddingTop:Metrics.small,paddingHorizontal:Metrics.normal},error:DeviceScreenStyle_objectSpread(DeviceScreenStyle_objectSpread({},Fonts.normal),{},{color:Colors.error,marginBottom:Metrics.tiny,textAlign:'center'}),result:DeviceScreenStyle_objectSpread(DeviceScreenStyle_objectSpread({},Fonts.normal),{},{marginBottom:Metrics.tiny,textAlign:'center'}),text:DeviceScreenStyle_objectSpread(DeviceScreenStyle_objectSpread({},Fonts.normal),{},{marginBottom:Metrics.tiny,textAlign:'center'}),text2:DeviceScreenStyle_objectSpread(DeviceScreenStyle_objectSpread({},Fonts.normal),{},{marginRight:Metrics.small,marginBottom:Metrics.tiny})}));
// CONCATENATED MODULE: C:/Users/daniel/Documents/GitHub/AgrisysApp-Web/App/Src/Containers/Device/DeviceScreen.js
var DeviceScreen_BLEButton=function BLEButton(dispatch){var Active=arguments.length>1&&arguments[1]!==undefined?arguments[1]:false;if(!Active){return react_default.a.createElement(Components_Button,{buttonStyle:ApplicationStyles.button,Text:"Search BLE devices",onPress:function onPress(){return dispatch(Device_Actions.startBleScan());}});}else{return react_default.a.createElement(Components_Button,{buttonStyle:ApplicationStyles.button,Text:"Stop BLE Search",onPress:function onPress(){return dispatch(Device_Actions.stopBleScan());}});}};var DeviceScreen_ConnectedDevice_View=function ConnectedDevice_View(connectedDevice,DeviceData){var dispatch=Object(es["c" /* useDispatch */])();return react_default.a.createElement(View_default.a,null,react_default.a.createElement(Components_CustomListItem,{Title:connectedDevice.localName,Subtitle:connectedDevice.id,itemStyle:{marginBottom:10},onPress:function onPress(){return dispatch(Device_Actions.disconnectDevice());}}),DeviceData&&Object.keys(DeviceData).length>1?react_default.a.createElement(View_default.a,{style:DeviceScreenStyle.deviceDataContainer},DeviceData&&DeviceData.Battery?react_default.a.createElement(View_default.a,{style:DeviceScreenStyle.textContainer},react_default.a.createElement(Text_default.a,null,"Device battery level"),react_default.a.createElement(Text_default.a,null,DeviceData.Battery+"%")):react_default.a.createElement(react_default.a.Fragment,null),DeviceData.tagid?react_default.a.createElement(View_default.a,{style:DeviceScreenStyle.textContainer},react_default.a.createElement(Text_default.a,null,"TAG Id:"),react_default.a.createElement(Text_default.a,null,DeviceData.tagid)):react_default.a.createElement(react_default.a.Fragment,null),DeviceData.FatLayers&&DeviceData.FatLayers>0?react_default.a.createElement(View_default.a,{style:DeviceScreenStyle.textContainer},react_default.a.createElement(Text_default.a,null,"Layers received: ",DeviceData.FatLayers),react_default.a.createElement(Text_default.a,null,"Layer 1: ",DeviceData.FatL1),react_default.a.createElement(Text_default.a,null,"Layer 2: ",DeviceData.FatL2),react_default.a.createElement(Text_default.a,null,"Layer 3: ",DeviceData.FatL3)):react_default.a.createElement(react_default.a.Fragment,null),DeviceData.Unknown?react_default.a.createElement(View_default.a,{style:DeviceScreenStyle.textContainer},react_default.a.createElement(Text_default.a,null,"unknon Id:"),react_default.a.createElement(Text_default.a,null,DeviceData.Unknown)):react_default.a.createElement(react_default.a.Fragment,null)):react_default.a.createElement(react_default.a.Fragment,null));};var DeviceScreen_DeviceScreen=function DeviceScreen(){var dispatch=Object(es["c" /* useDispatch */])();var deviceErrorMessage=Object(es["d" /* useSelector */])(function(state){return state.device.deviceErrorMessage;});var connectedDevice=Object(es["d" /* useSelector */])(function(state){return state.device.connectedDevice;});var DeviceData=Object(es["d" /* useSelector */])(function(state){return state.device.deviceData;});var scannerState=Object(es["d" /* useSelector */])(function(state){return state.device.scannerState;});var connectionMethode=Object(es["d" /* useSelector */])(function(state){return state.device.connectionMethode;});var Devices=Object(es["d" /* useSelector */])(function(state){return state.device.DeviceList;});Object(react["useEffect"])(function(){},[]);return react_default.a.createElement(View_default.a,{style:[Helpers.fill,Helpers.rowMain,Metrics.mediumHorizontalMargin,Metrics.mediumVerticalMargin]},react_default.a.createElement(View_default.a,null,react_default.a.createElement(View_default.a,{style:DeviceScreenStyle.textContainer},deviceErrorMessage?react_default.a.createElement(View_default.a,null,react_default.a.createElement(Text_default.a,null,"There was a error while retrieving conected device")):react_default.a.createElement(View_default.a,null,react_default.a.createElement(Text_default.a,{style:DeviceScreenStyle.text},"Corrently connected:"),react_default.a.createElement(Text_default.a,{style:DeviceScreenStyle.text},connectedDevice&&connectedDevice.name?connectedDevice.name:"None"))),react_default.a.createElement(View_default.a,{style:DeviceScreenStyle.buttonContainer},connectedDevice?react_default.a.createElement(View_default.a,null,react_default.a.createElement(Components_Button,{buttonStyle:ApplicationStyles.button,Text:"Disconnect Device",onPress:function onPress(){return dispatch(Device_Actions.disconnectDevice(connectionMethode));}})):react_default.a.createElement(View_default.a,null,connectionMethode==ConnectionMethode.BLE&&scannerState!=ScannerState.IDLE?react_default.a.createElement(Components_Button,{buttonStyle:ApplicationStyles.button,Text:"Stop BLE Search",onPress:function onPress(){return dispatch(Device_Actions.stopBleScan());}}):react_default.a.createElement(Components_Button,{buttonStyle:ApplicationStyles.button,Text:"Search BLE devices",onPress:function onPress(){return dispatch(Device_Actions.startBleScan());}}),Platform_default.a.OS==='ios'?react_default.a.createElement(react_default.a.Fragment,null):react_default.a.createElement(View_default.a,null,connectionMethode==ConnectionMethode.BLUETOOTH&&scannerState!=ScannerState.IDLE?react_default.a.createElement(Components_Button,{buttonStyle:ApplicationStyles.button,Text:"Stop Bluetooth Search",onPress:function onPress(){return dispatch(Device_Actions.stopBluetoothScan());}}):react_default.a.createElement(Components_Button,{buttonStyle:ApplicationStyles.button,Text:"Search Bluetooth devices",onPress:function onPress(){return dispatch(Device_Actions.startBluetoothScan());}}),react_default.a.createElement(Components_Button,{buttonStyle:ApplicationStyles.button,Text:"Make Discoverable (Blu 30sec)",onPress:function onPress(){return dispatch(Device_Actions.bluetoothScanAble());}}),react_default.a.createElement(Components_Button,{buttonStyle:ApplicationStyles.button,Text:"OnDevice-serial",onPress:function onPress(){}})))),react_default.a.createElement(View_default.a,{style:DeviceScreenStyle.deviceContainer},react_default.a.createElement(Text_default.a,{style:DeviceScreenStyle.text2},"Device List:"),connectedDevice?DeviceScreen_ConnectedDevice_View(connectedDevice,DeviceData):react_default.a.createElement(ScrollView_default.a,{style:{paddingRight:5}},Devices.map(function(Dev,i){return react_default.a.createElement(Components_CustomListItem,{key:i,Title:Dev.localName,Subtitle:Dev.id,onPress:function onPress(){return dispatch(Device_Actions.connectDevice(Dev));}});})))));};/* harmony default export */ var Device_DeviceScreen = (DeviceScreen_DeviceScreen);
// CONCATENATED MODULE: C:/Users/daniel/Documents/GitHub/AgrisysApp-Web/App/Src/Navigators/FrontNavigator.js
function FrontNavigator_ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);if(enumerableOnly)symbols=symbols.filter(function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable;});keys.push.apply(keys,symbols);}return keys;}function FrontNavigator_objectSpread(target){for(var i=1;i<arguments.length;i++){var source=arguments[i]!=null?arguments[i]:{};if(i%2){FrontNavigator_ownKeys(Object(source),true).forEach(function(key){defineProperty_default()(target,key,source[key]);});}else if(Object.getOwnPropertyDescriptors){Object.defineProperties(target,Object.getOwnPropertyDescriptors(source));}else{FrontNavigator_ownKeys(Object(source)).forEach(function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key));});}}return target;}var StackNavigator=Object(createStackNavigator["a" /* default */])({FrontScreen:{screen:Agrisys_FrontScreen,navigationOptions:function navigationOptions(){return{headerMode:'none',headerShown:false};},path:'main'},DeviceScreen:{screen:Device_DeviceScreen,navigationOptions:function navigationOptions(){return{title:'Device',headerTitleStyle:FrontNavigator_objectSpread({},ApplicationStyles.navigationHeader)};}},ExampleScreen:{screen:Example_ExampleScreen,navigationOptions:function navigationOptions(){return{headerMode:'none'};},path:'example'}},{initialRouteName:'FrontScreen',headerMode:'float',defaultNavigationOptions:{headerTitleAlign:'center',headerRight:function headerRight(){return react_default.a.createElement(View_default.a,{style:{padding:6}});}}});/* harmony default export */ var FrontNavigator = (StackNavigator);
// CONCATENATED MODULE: C:/Users/daniel/Documents/GitHub/AgrisysApp-Web/App/Src/Containers/Cloud/AuthScreens/AuthStyle.js
/* harmony default export */ var AuthStyle = (StyleSheet_default.a.create({}));
// CONCATENATED MODULE: C:/Users/daniel/Documents/GitHub/AgrisysApp-Web/App/Src/Containers/Cloud/AuthScreens/UserLoadingScreen.js
function UserLoadingScreen_createSuper(Derived){var hasNativeReflectConstruct=UserLoadingScreen_isNativeReflectConstruct();return function _createSuperInternal(){var Super=getPrototypeOf_default()(Derived),result;if(hasNativeReflectConstruct){var NewTarget=getPrototypeOf_default()(this).constructor;result=Reflect.construct(Super,arguments,NewTarget);}else{result=Super.apply(this,arguments);}return possibleConstructorReturn_default()(this,result);};}function UserLoadingScreen_isNativeReflectConstruct(){if(typeof Reflect==="undefined"||!Reflect.construct)return false;if(Reflect.construct.sham)return false;if(typeof Proxy==="function")return true;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}));return true;}catch(e){return false;}}var UserLoadingScreen_auth;if(Platform_default.a.OS==='ios'||Platform_default.a.OS==='android'){UserLoadingScreen_auth=__webpack_require__(232).default;}else{var UserLoadingScreen_firebase=__webpack_require__(187).default;__webpack_require__(218).default;UserLoadingScreen_auth=UserLoadingScreen_firebase.auth;}var UserLoadingScreen_PanelsSorter=function PanelsSorter(userType){switch(userType){case UserStates.ADMIN:return"AdminPanel";case UserStates.OWNER:return"ConsysPanel";case UserStates.FREE:return"UserPanel";case UserStates.STARTER:return"CreateUserData";default:return"LoginUser";}};var UserLoadingScreen_UserLoadingScreen=function(_Component){inherits_default()(UserLoadingScreen,_Component);var _super=UserLoadingScreen_createSuper(UserLoadingScreen);function UserLoadingScreen(props){var _this;classCallCheck_default()(this,UserLoadingScreen);_this=_super.call(this,props);_this.state={ISLOADPAGE:true,FocusSubscription:null};return _this;}createClass_default()(UserLoadingScreen,[{key:"getData",value:function getData(){}},{key:"checkData",value:function checkData(props){var firebaseData=this.props.firebase;if(!firebaseData){this.props.setFirebaseError("Internal rootdata Error");NavigationService.navigate('MainStack');return;}var page="LoginUser";var firebaseUser=firebaseData.firebaseUser;if(firebaseUser&&Object.keys(firebaseUser).length>1){if(firebaseUser.state===UserStates.STARTER&&!firebaseUser.emailVerified){var User=UserLoadingScreen_auth().currentUser;if(!User.emailVerified){page="VerifyScreen";}else{page=UserLoadingScreen_PanelsSorter(firebaseUser.state);}}else{page=UserLoadingScreen_PanelsSorter(firebaseUser.state);}}NavigationService.navigate(page);}},{key:"componentDidUpdate",value:function componentDidUpdate(prevProps,prevState){if(this.props!==prevProps){if(this.props.firebase.firebaseUser!=prevProps.firebase.firebaseUser){var now=this.props.firebase.firebaseUser;var prev=prevProps.firebase.firebaseUser;if(!now||now.uid!==prev.uid||now.state!==prev.state&&prev.state!==UserStates.STARTER||now.emailVerified!=prev.emailVerified){console.log("UserLoading");this.checkData(this.props);}}}}},{key:"componentDidMount",value:function componentDidMount(){var _this2=this;this.props.setFirebaseError(null);this.props.getUser(null);this.checkData(this.props);this.getData();var FocusSubscription=this.props.navigation.addListener('willFocus',function(payload){_this2.props.setViewLoading(false);_this2.props.setViewError(null);});this.setState({FocusSubscription:FocusSubscription});}},{key:"componentWillUnmount",value:function componentWillUnmount(){if(this.state.FocusSubscription){this.state.FocusSubscription.remove();}}},{key:"render",value:function render(){var IsLoading=this.props.firebase.firebaseIsLoading;var ISLOADPAGE=this.state.ISLOADPAGE;return react_default.a.createElement(View_default.a,{style:[Helpers.mainContainer]},!ISLOADPAGE?react_default.a.createElement(View_default.a,{style:[Helpers.contentContainer,Helpers.fullSize,Helpers.fillColMain]},react_default.a.createElement(Text_default.a,{style:ApplicationStyles.text},"This page contains an error."),react_default.a.createElement(Text_default.a,{style:ApplicationStyles.text},"If you are going back, please press back again.")):react_default.a.createElement(View_default.a,{style:[Helpers.fillRowCenter,Helpers.center,Helpers.logoContainer]},react_default.a.createElement(Image_default.a,{style:Helpers.fullSize,source:Theme_Images.Hexa_icon,resizeMode:'contain'})),(IsLoading||ISLOADPAGE)&&react_default.a.createElement(ActivityIndicator_default.a,{style:Helpers.loadingContainer,size:"large"}));}}]);return UserLoadingScreen;}(react["Component"]);var UserLoadingScreen_mapStateToProps=function mapStateToProps(state){var firebase=state.firebase;return{firebase:firebase};};var UserLoadingScreen_mapDispatchToProps=function mapDispatchToProps(dispatch){return{setFirebaseError:function setFirebaseError(error){return dispatch(Firebase_Actions.setFirebaseError(error));},setViewLoading:function setViewLoading(state){return dispatch(Firebase_Actions.viewIsLoading(state));},setViewError:function setViewError(error){return dispatch(Firebase_Actions.setViewError(error));},clearDataMem:function clearDataMem(){return dispatch(Firebase_Actions.actionStarting(Selectors_Actions.CLEAR,DataRefs.USERSDATA));},getUser:function getUser(UserId){return dispatch(Firebase_Actions.actionStarting(Selectors_Actions.FETCH,DataRefs.USERSDATA,{UserId:UserId}));}};};/* harmony default export */ var AuthScreens_UserLoadingScreen = (Object(es["b" /* connect */])(UserLoadingScreen_mapStateToProps,UserLoadingScreen_mapDispatchToProps)(UserLoadingScreen_UserLoadingScreen));
// CONCATENATED MODULE: C:/Users/daniel/Documents/GitHub/AgrisysApp-Web/App/Src/Containers/Cloud/AuthScreens/UserLoginScreen.js
function UserLoginScreen_createSuper(Derived){var hasNativeReflectConstruct=UserLoginScreen_isNativeReflectConstruct();return function _createSuperInternal(){var Super=getPrototypeOf_default()(Derived),result;if(hasNativeReflectConstruct){var NewTarget=getPrototypeOf_default()(this).constructor;result=Reflect.construct(Super,arguments,NewTarget);}else{result=Super.apply(this,arguments);}return possibleConstructorReturn_default()(this,result);};}function UserLoginScreen_isNativeReflectConstruct(){if(typeof Reflect==="undefined"||!Reflect.construct)return false;if(Reflect.construct.sham)return false;if(typeof Proxy==="function")return true;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}));return true;}catch(e){return false;}}var UserLoginScreen_UserLoginScreen=function(_Component){inherits_default()(UserLoginScreen,_Component);var _super=UserLoginScreen_createSuper(UserLoginScreen);function UserLoginScreen(props){var _this;classCallCheck_default()(this,UserLoginScreen);_this=_super.call(this,props);_this.state={Email:"",Pass:"",CreateUser:false};return _this;}createClass_default()(UserLoginScreen,[{key:"getData",value:function getData(){}},{key:"checkData",value:function checkData(props){}},{key:"componentDidMount",value:function componentDidMount(){this.props.setViewLoading(false);this.props.setViewError(null);this.checkData(this.props);this.getData();}},{key:"componentDidUpdate",value:function componentDidUpdate(prevProps,prevState){if(this.props!==prevProps){this.checkData(this.props);if(this.props.firebase.viewError!=prevProps.firebase.viewError){this.forceUpdate();}}}},{key:"render",value:function render(){var _this2=this;var IsLoading=this.props.firebase.firebaseIsLoading;var ErrorMessage=this.props.firebase.viewError;return react_default.a.createElement(View_default.a,{style:[Helpers.mainContainer]},react_default.a.createElement(View_default.a,{style:[Helpers.contentContainer,Helpers.fullSize,Helpers.fillColMain]},ErrorMessage?react_default.a.createElement(Text_default.a,{style:ApplicationStyles.error},ErrorMessage):react_default.a.createElement(react_default.a.Fragment,null),!this.state.CreateUser?react_default.a.createElement(View_default.a,{style:[Helpers.contentContainer,Helpers.fullSize,Helpers.fillColMain]},react_default.a.createElement(View_default.a,{style:[Helpers.borderContainer,Helpers.midWidth,{marginBottom:20}]},react_default.a.createElement(dist["b" /* Input */],{label:"Username",style:ApplicationStyles.input,onChangeText:function onChangeText(text){_this2.setState({Email:text});},value:this.state.Email}),react_default.a.createElement(dist["b" /* Input */],{label:"Password",style:ApplicationStyles.input,onChangeText:function onChangeText(text){_this2.setState({Pass:text});},value:this.state.Pass,secureTextEntry:true}),react_default.a.createElement(Components_Button,{Text:"Login",icon:Theme_Images.User,onPress:function onPress(){if(!_this2.state.Email||_this2.state.Email==="")_this2.props.setViewError("Email is needed");else if(_this2.state.Email==="CLEAR")_this2.props.clearDataMem();else if(!_this2.state.Pass||_this2.state.Pass==="")_this2.props.setViewError("Password is needed");else{_this2.props.setViewLoading(true);_this2.props.signIN(_this2.state.Email,_this2.state.Pass);}}})),react_default.a.createElement(View_default.a,{style:[Helpers.buttonContainer,Helpers.midWidth]},react_default.a.createElement(Components_Button,{Text:"Send reset password",onPress:function onPress(){_this2.props.setViewError(null);if(_this2.state.Email){_this2.props.setViewLoading(true);_this2.props.resetPass(_this2.state.Email);}else{_this2.props.setViewError("Please provide an Email");}}}),react_default.a.createElement(Components_Button,{Text:"Create New User",onPress:function onPress(){_this2.props.setViewError(null);_this2.setState({Email:"",Pass:"",CreateUser:true});}}))):react_default.a.createElement(View_default.a,{style:[Helpers.contentContainer,Helpers.fullSize,Helpers.fillColMain]},react_default.a.createElement(View_default.a,{style:[Helpers.borderContainer,Helpers.midWidth,{marginBottom:20}]},react_default.a.createElement(dist["b" /* Input */],{label:"Email",style:ApplicationStyles.input,onChangeText:function onChangeText(text){_this2.setState({Email:text});},value:this.state.Email}),react_default.a.createElement(dist["b" /* Input */],{label:"Password",style:ApplicationStyles.input,onChangeText:function onChangeText(text){_this2.setState({Pass:text});},value:this.state.Pass,secureTextEntry:true})),react_default.a.createElement(View_default.a,{style:[Helpers.buttonContainer,Helpers.midWidth]},react_default.a.createElement(Components_Button,{Text:"Create User",onPress:function onPress(){if(!_this2.state.Email||_this2.state.Email==="")_this2.props.setFirebaseError("Email is needed");else if(!_this2.state.Pass||_this2.state.Pass==="")_this2.props.setFirebaseError("Password is needed");else{_this2.props.setViewLoading(true);_this2.props.createUser(_this2.state.Email,_this2.state.Pass);}}}))),(IsLoading||this.props.firebase.viewIsLoading)&&react_default.a.createElement(ActivityIndicator_default.a,{style:Helpers.loadingContainer,size:"large"})));}}]);return UserLoginScreen;}(react["Component"]);var UserLoginScreen_mapStateToProps=function mapStateToProps(state){var firebase=state.firebase;return{firebase:firebase};};var UserLoginScreen_mapDispatchToProps=function mapDispatchToProps(dispatch){return{setViewLoading:function setViewLoading(state){return dispatch(Firebase_Actions.viewIsLoading(state));},setViewError:function setViewError(error){return dispatch(Firebase_Actions.setViewError(error));},clearDataMem:function clearDataMem(){return dispatch(Firebase_Actions.actionStarting(Selectors_Actions.CLEAR,DataRefs.USERSDATA));},signIN:function signIN(Email,Pass){return dispatch(Firebase_Actions.actionStarting(Selectors_Actions.SIGN,DataRefs.USERSDATA,{Email:Email,Pass:Pass}));},resetPass:function resetPass(Email){return dispatch(Firebase_Actions.actionStarting(Selectors_Actions.CREATE,DataRefs.USERS,{Email:Email}));},createUser:function createUser(Email,Pass){return dispatch(Firebase_Actions.actionStarting(Selectors_Actions.CREATE,DataRefs.USERS,{Email:Email,Pass:Pass}));}};};/* harmony default export */ var AuthScreens_UserLoginScreen = (Object(es["b" /* connect */])(UserLoginScreen_mapStateToProps,UserLoginScreen_mapDispatchToProps)(UserLoginScreen_UserLoginScreen));
// CONCATENATED MODULE: C:/Users/daniel/Documents/GitHub/AgrisysApp-Web/App/Src/Containers/Cloud/AuthScreens/VerifyScreen.js
function VerifyScreen_createSuper(Derived){var hasNativeReflectConstruct=VerifyScreen_isNativeReflectConstruct();return function _createSuperInternal(){var Super=getPrototypeOf_default()(Derived),result;if(hasNativeReflectConstruct){var NewTarget=getPrototypeOf_default()(this).constructor;result=Reflect.construct(Super,arguments,NewTarget);}else{result=Super.apply(this,arguments);}return possibleConstructorReturn_default()(this,result);};}function VerifyScreen_isNativeReflectConstruct(){if(typeof Reflect==="undefined"||!Reflect.construct)return false;if(Reflect.construct.sham)return false;if(typeof Proxy==="function")return true;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}));return true;}catch(e){return false;}}var VerifyScreen_auth;if(Platform_default.a.OS==='ios'||Platform_default.a.OS==='android'){VerifyScreen_auth=__webpack_require__(232).default;}else{var VerifyScreen_firebase=__webpack_require__(187).default;__webpack_require__(218).default;VerifyScreen_auth=VerifyScreen_firebase.auth;}var VerifyScreen_VerifyScreen=function(_Component){inherits_default()(VerifyScreen,_Component);var _super=VerifyScreen_createSuper(VerifyScreen);function VerifyScreen(props){var _this;classCallCheck_default()(this,VerifyScreen);_this=_super.call(this,props);_this.state={};return _this;}createClass_default()(VerifyScreen,[{key:"setData",value:function setData(Props){}},{key:"getData",value:function getData(){}},{key:"checkData",value:function checkData(props){var _this2=this;if(props.firebase&&props.firebase.firebaseUser){var User=VerifyScreen_auth().currentUser;if(User&&!props.firebase.firebaseUser.emailVerified&&!props.firebase.viewIsLoading){User.reload().then(function(data){if(User.emailVerified){_this2.props.setViewLoading(true);_this2.props.setUser(User.emailVerified);console.log("Verified");NavigationService.navigate("AuthStack");}});}if(props.firebase.firebaseUser.emailVerified)NavigationService.navigate("AuthStack");}}},{key:"componentDidUpdate",value:function componentDidUpdate(prevProps,prevState){if(this.props!==prevProps){this.checkData(this.props);}}},{key:"componentDidMount",value:function componentDidMount(){this.props.setViewLoading(false);this.props.setViewError(null);this.checkData(this.props);this.getData();}},{key:"componentWillUnmount",value:function componentWillUnmount(){}},{key:"render",value:function render(){var _this3=this;var IsLoading=this.props.firebase.firebaseIsLoading;var firebaseUser=this.props.firebase.firebaseUser;var ErrorMessage=this.props.firebase.viewError;return react_default.a.createElement(View_default.a,{style:[Helpers.mainContainer]},react_default.a.createElement(View_default.a,{style:[Helpers.contentContainer,Helpers.fullSize,Helpers.fillColMain]},ErrorMessage?react_default.a.createElement(Text_default.a,{style:ApplicationStyles.error},ErrorMessage):react_default.a.createElement(react_default.a.Fragment,null),react_default.a.createElement(View_default.a,null,react_default.a.createElement(Text_default.a,null,"Please verify your account by accepting the email, sent to your current account"),react_default.a.createElement(Text_default.a,null,"This page will not refresh itself..."),react_default.a.createElement(Components_Button,{Text:"Resend verification",onPress:function onPress(){console.log("send",firebaseUser,_this3.state.User);if(firebaseUser&&_this3.state.User){_this3.state.User.sendEmailVerification();}}}),react_default.a.createElement(Components_Button,{Text:"Refresh",onPress:function onPress(){_this3.checkData(_this3.props,_this3.state);}}))),(IsLoading||this.props.firebase.viewIsLoading)&&react_default.a.createElement(ActivityIndicator_default.a,{style:Helpers.loadingContainer,size:"large"}));}}]);return VerifyScreen;}(react["Component"]);var VerifyScreen_mapStateToProps=function mapStateToProps(state){var firebase=state.firebase;return{firebase:firebase};};var VerifyScreen_mapDispatchToProps=function mapDispatchToProps(dispatch){return{setViewLoading:function setViewLoading(state){return dispatch(Firebase_Actions.viewIsLoading(state));},setViewError:function setViewError(error){return dispatch(Firebase_Actions.setViewError(error));},setFirebaseError:function setFirebaseError(error){return dispatch(Firebase_Actions.setFirebaseError(error));},setUser:function setUser(Verified){return dispatch(Firebase_Actions.actionStarting(Selectors_Actions.UPDATE,DataRefs.USERS,{emailVerified:Verified}));}};};/* harmony default export */ var AuthScreens_VerifyScreen = (Object(es["b" /* connect */])(VerifyScreen_mapStateToProps,VerifyScreen_mapDispatchToProps)(VerifyScreen_VerifyScreen));
// CONCATENATED MODULE: C:/Users/daniel/Documents/GitHub/AgrisysApp-Web/App/Src/Containers/Cloud/UserPanel/UserPanelStyle.js
/* harmony default export */ var UserPanelStyle = (StyleSheet_default.a.create({}));
// CONCATENATED MODULE: C:/Users/daniel/Documents/GitHub/AgrisysApp-Web/App/Src/Containers/Cloud/UserPanel/UserInformation.js
function UserInformation_createSuper(Derived){var hasNativeReflectConstruct=UserInformation_isNativeReflectConstruct();return function _createSuperInternal(){var Super=getPrototypeOf_default()(Derived),result;if(hasNativeReflectConstruct){var NewTarget=getPrototypeOf_default()(this).constructor;result=Reflect.construct(Super,arguments,NewTarget);}else{result=Super.apply(this,arguments);}return possibleConstructorReturn_default()(this,result);};}function UserInformation_isNativeReflectConstruct(){if(typeof Reflect==="undefined"||!Reflect.construct)return false;if(Reflect.construct.sham)return false;if(typeof Proxy==="function")return true;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}));return true;}catch(e){return false;}}var UserInformation_UserInformation=function(_Component){inherits_default()(UserInformation,_Component);var _super=UserInformation_createSuper(UserInformation);function UserInformation(props){var _this;classCallCheck_default()(this,UserInformation);_this=_super.call(this,props);var _this$setData=_this.setData(props),FirstN=_this$setData.FirstN,LastN=_this$setData.LastN,Contact=_this$setData.Contact,ContactP=_this$setData.ContactP,Address=_this$setData.Address;_this.state={FirstN:FirstN,LastN:LastN,Contact:Contact,ContactP:ContactP,Address:Address,Country:""};return _this;}createClass_default()(UserInformation,[{key:"setData",value:function setData(Props){var FirstN="";var LastN="";var Contact="";var ContactP="";var Address="";var firebaseData=this.props.firebase;if(firebaseData){var firebaseUser=firebaseData.firebaseUser;if(firebaseUser){if(firebaseUser.name&&DataStringCheck(firebaseUser.name)){FirstN=firebaseUser.name;}if(firebaseUser.lastN){LastN=firebaseUser.lastN;}if(firebaseUser.contact){Contact=firebaseUser.contact;}if(firebaseUser.phoneNumber){ContactP=firebaseUser.phoneNumber;}if(firebaseUser.address){Address=firebaseUser.address;}}}return{FirstN:FirstN,LastN:LastN,Contact:Contact,ContactP:ContactP,Address:Address};}},{key:"getData",value:function getData(){}},{key:"checkData",value:function checkData(props){}},{key:"componentDidMount",value:function componentDidMount(){this.props.setViewLoading(false);this.props.setViewError(null);this.props.getUser(null);this.checkData(this.props);this.getData();}},{key:"componentDidUpdate",value:function componentDidUpdate(prevProps,prevState){if(this.props!==prevProps){this.checkData(this.props);if(this.props.firebase.firebaseUser){if(this.props.firebase.firebaseUser.name!=this.state.FirstN&&this.state.FirstN===""||this.props.firebase.firebaseUser.lastN!=this.state.lastN&&this.state.lastN===""||this.props.firebase.firebaseUser.contact!=this.state.Contact&&this.state.Contact===""||this.props.firebase.firebaseUser.address!=this.state.Address&&this.state.Address===""){var _this$setData2=this.setData(this.props),FirstN=_this$setData2.FirstN,LastN=_this$setData2.LastN,Contact=_this$setData2.Contact,ContactP=_this$setData2.ContactP,Address=_this$setData2.Address;this.setState({FirstN:FirstN,LastN:LastN,Contact:Contact,ContactP:ContactP,Address:Address});}}}}},{key:"render",value:function render(){var _this2=this;var IsLoading=this.props.firebase.firebaseIsLoading;var ErrorMessage=this.props.firebase.viewError;var F_FirstN=react_default.a.createRef();var F_LastN=react_default.a.createRef();var F_Contact=react_default.a.createRef();var F_ContactP=react_default.a.createRef();var F_Address=react_default.a.createRef();return react_default.a.createElement(ScrollView_default.a,{style:[Metrics.verticalMargin,{paddingRight:5}]},react_default.a.createElement(View_default.a,{style:[Helpers.mainContainer]},react_default.a.createElement(View_default.a,{style:[Helpers.contentContainer,Helpers.fullSize,Helpers.fillColMain]},ErrorMessage&&(!ErrorMessage.type||ErrorMessage.type===ErrorTypes.SYSTEM)?react_default.a.createElement(Text_default.a,{style:ApplicationStyles.error},ErrorMessage.message?ErrorMessage.message:ErrorMessage):react_default.a.createElement(react_default.a.Fragment,null),react_default.a.createElement(Components_TitleElement,{Text:"User Informations"}),react_default.a.createElement(View_default.a,{style:[Helpers.borderContainer,Helpers.midWidth,{marginBottom:20}]},react_default.a.createElement(dist["b" /* Input */],{ref:F_FirstN,label:"First Name",style:ApplicationStyles.input,onChangeText:function onChangeText(text){if(text){if(DataStringCheck(text)){_this2.setState({FirstN:text});}}else{_this2.setState({FirstN:text});}},value:this.state.FirstN}),react_default.a.createElement(dist["b" /* Input */],{ref:F_LastN,label:"Last Name",style:ApplicationStyles.input,onChangeText:function onChangeText(text){if(text){if(DataStringCheck(text)){_this2.setState({LastN:text});}}else{_this2.setState({LastN:text});}},value:this.state.LastN}),react_default.a.createElement(dist["b" /* Input */],{ref:F_Contact,label:"Contact Email",style:ApplicationStyles.input,onChangeText:function onChangeText(text){if(text){var test=text;test=test.replace('@','a');test=test.replace('.','d');if(DataStringCheck(test)){_this2.setState({Contact:text});}}else{_this2.setState({Contact:text});}},value:this.state.Contact}),react_default.a.createElement(dist["b" /* Input */],{ref:F_ContactP,label:"Contact Phone",style:ApplicationStyles.input,onChangeText:function onChangeText(text){if(text){if(DataStringCheck(text,false)){_this2.setState({ContactP:text});}}else{_this2.setState({ContactP:text});}},value:this.state.ContactP}),react_default.a.createElement(dist["b" /* Input */],{ref:F_Address,label:"Address",style:ApplicationStyles.input,onChangeText:function onChangeText(text){if(text){if(DataStringCheck(text)){_this2.setState({Address:text});}}else{_this2.setState({Address:text});}},value:this.state.Address}),react_default.a.createElement(dist["b" /* Input */],{label:"Country",style:ApplicationStyles.input,onChangeText:function onChangeText(text){if(text){if(DataStringCheck(text)){_this2.setState({Country:text});}}else{_this2.setState({Country:text});}},value:this.state.Country})),react_default.a.createElement(View_default.a,{style:[Helpers.buttonContainer,Helpers.midWidth]},react_default.a.createElement(Components_Button,{Text:"Save User information",onPress:function onPress(){var _UserData={};if(!_this2.state.FirstN||_this2.state.FirstN===""){_this2.props.setViewError("First name is needed");}else if(!DataStringCheck(_this2.state.FirstN)){_this2.props.setViewError("First name contains invalid characters");}else if(!_this2.state.LastN||_this2.state.LastN===""){_this2.props.setViewError("Last name is needed");}else if(!DataStringCheck(_this2.state.LastN)){_this2.props.setViewError("Last name contains invalid characters");}else{_UserData={name:_this2.state.FirstN,lastN:_this2.state.LastN};if(_this2.state.Contact!=="")_UserData.contact=_this2.state.Contact;if(_this2.state.ContactP!=="")_UserData.phone=_this2.state.ContactP;if(_this2.state.Address!=="")_UserData.address=_this2.state.Address;if(_this2.state.Country!=="")_UserData.country=_this2.state.Country;_this2.props.setViewLoading(true);_this2.props.updateUser(_UserData);if(_this2.props.OnDone){_this2.props.OnDone(true);}}}}))),(IsLoading||this.props.firebase.viewIsLoading)&&react_default.a.createElement(ActivityIndicator_default.a,{style:Helpers.loadingContainer,size:"large"})));}}]);return UserInformation;}(react["Component"]);var UserInformation_mapStateToProps=function mapStateToProps(state){var firebase=state.firebase;return{firebase:firebase};};var UserInformation_mapDispatchToProps=function mapDispatchToProps(dispatch){return{setViewLoading:function setViewLoading(state){return dispatch(Firebase_Actions.viewIsLoading(state));},setViewError:function setViewError(error){return dispatch(Firebase_Actions.setViewError(error));},getUser:function getUser(UserId){return dispatch(Firebase_Actions.actionStarting(Selectors_Actions.FETCH,DataRefs.USERSDATA,{UserId:UserId}));},updateUser:function updateUser(Data){return dispatch(Firebase_Actions.actionStarting(Selectors_Actions.UPDATE,DataRefs.USERSDATA,{Data:Data}));}};};/* harmony default export */ var UserPanel_UserInformation = (Object(es["b" /* connect */])(UserInformation_mapStateToProps,UserInformation_mapDispatchToProps)(UserInformation_UserInformation));
// EXTERNAL MODULE: C:/Users/daniel/Documents/GitHub/AgrisysApp-Web/App/node_modules/@babel/runtime/helpers/assertThisInitialized.js
var assertThisInitialized = __webpack_require__(6);
var assertThisInitialized_default = /*#__PURE__*/__webpack_require__.n(assertThisInitialized);

// EXTERNAL MODULE: C:/Users/daniel/Documents/GitHub/AgrisysApp-Web/App/node_modules/react-native-web/dist/cjs/exports/Dimensions/index.js
var Dimensions = __webpack_require__(35);
var Dimensions_default = /*#__PURE__*/__webpack_require__.n(Dimensions);

// EXTERNAL MODULE: C:/Users/daniel/Documents/GitHub/AgrisysApp-Web/App/node_modules/react-native-web/dist/cjs/exports/CheckBox/index.js
var CheckBox = __webpack_require__(176);
var CheckBox_default = /*#__PURE__*/__webpack_require__.n(CheckBox);

// CONCATENATED MODULE: C:/Users/daniel/Documents/GitHub/AgrisysApp-Web/App/Src/Containers/Cloud/UserPanel/Subscription.js
function Subscription_createSuper(Derived){var hasNativeReflectConstruct=Subscription_isNativeReflectConstruct();return function _createSuperInternal(){var Super=getPrototypeOf_default()(Derived),result;if(hasNativeReflectConstruct){var NewTarget=getPrototypeOf_default()(this).constructor;result=Reflect.construct(Super,arguments,NewTarget);}else{result=Super.apply(this,arguments);}return possibleConstructorReturn_default()(this,result);};}function Subscription_isNativeReflectConstruct(){if(typeof Reflect==="undefined"||!Reflect.construct)return false;if(Reflect.construct.sham)return false;if(typeof Proxy==="function")return true;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}));return true;}catch(e){return false;}}var Subscription_window=Dimensions_default.a.get("window");var Subscription_screen=Dimensions_default.a.get("screen");var Subscription_Subscription=function(_Component){inherits_default()(Subscription,_Component);var _super=Subscription_createSuper(Subscription);function Subscription(props){var _this;classCallCheck_default()(this,Subscription);_this=_super.call(this,props);defineProperty_default()(assertThisInitialized_default()(_this),"onChange",function(_ref){var window=_ref.window,screen=_ref.screen;_this.setState({dimensions:{window:window,screen:screen}});});var _this$setData=_this.setData(props),CurrentSub=_this$setData.CurrentSub;_this.state={dimensions:{window:Subscription_window,screen:Subscription_screen},CurrentSub:CurrentSub,Billing:0};return _this;}createClass_default()(Subscription,[{key:"setData",value:function setData(Props){var CurrentSub="";var firebaseData=this.props.firebase;if(firebaseData){var firebaseUser=firebaseData.firebaseUser;if(firebaseUser){if(firebaseUser.state&&firebaseUser.state!=UserStates.STARTER){CurrentSub=firebaseUser.state;}}}return{CurrentSub:CurrentSub};}},{key:"getData",value:function getData(){}},{key:"checkData",value:function checkData(props){}},{key:"componentDidMount",value:function componentDidMount(){Dimensions_default.a.addEventListener("change",this.onChange);this.props.setViewLoading(false);this.props.setViewError(null);this.props.getUser(null);this.checkData(this.props);this.getData();}},{key:"componentWillUnmount",value:function componentWillUnmount(){Dimensions_default.a.removeEventListener("change",this.onChange);}},{key:"componentDidUpdate",value:function componentDidUpdate(prevProps,prevState){if(this.props!==prevProps){this.checkData(this.props);if(this.props.firebase.firebaseUser){if(this.props.firebase.firebaseUser.state!=this.state.CurrentSub&&this.state.CurrentSub===""){var _this$setData2=this.setData(this.props),CurrentSub=_this$setData2.CurrentSub;this.setState({CurrentSub:CurrentSub});}}}}},{key:"render",value:function render(){var _this2=this;var IsLoading=this.props.firebase.firebaseIsLoading;var ErrorMessage=this.props.firebase.viewError;var wide=this.state.dimensions.window.width>900?true:false;var App=Platform_default.a.OS==='ios'||Platform_default.a.OS==='android'||!wide;return react_default.a.createElement(ScrollView_default.a,{style:[Metrics.verticalMargin,{paddingRight:5}]},react_default.a.createElement(View_default.a,{style:[Helpers.mainContainer]},react_default.a.createElement(View_default.a,{style:[Helpers.contentContainer,Helpers.fullSize,Helpers.fillColMain]},ErrorMessage&&(!ErrorMessage.type||ErrorMessage.type===ErrorTypes.SYSTEM)?react_default.a.createElement(Text_default.a,{style:ApplicationStyles.error},ErrorMessage.message?ErrorMessage.message:ErrorMessage):react_default.a.createElement(react_default.a.Fragment,null),react_default.a.createElement(Components_TitleElement,{Text:"Subscription plan"}),react_default.a.createElement(View_default.a,{style:[!App?Helpers.fillRowCenter:{},{marginBottom:20}]},react_default.a.createElement(TouchableOpacity_default.a,{style:[Helpers.borderContainer,{width:200,height:300},this.state.CurrentSub===UserStates.WORKER?{backgroundColor:Colors.AgriGreen}:{}],onPress:function onPress(){_this2.setState({CurrentSub:UserStates.WORKER},_this2.forceUpdate());}},react_default.a.createElement(View_default.a,{style:[Helpers.row,Helpers.fullWidth,{alignContent:'center',alignItems:'center',justifyContent:'center',height:35}]},react_default.a.createElement(Text_default.a,{style:{fontWeight:"bold",fontSize:20}},"Farm Staff"),this.state.CurrentSub===UserStates.WORKER?react_default.a.createElement(CheckBox_default.a,{value:this.state.CurrentSub===UserStates.WORKER?true:false}):react_default.a.createElement(react_default.a.Fragment,null)),react_default.a.createElement(View_default.a,{style:[Helpers.fill,Helpers.borderContainer]}),react_default.a.createElement(View_default.a,{style:[Helpers.borderContainer,{height:75}]},react_default.a.createElement(Text_default.a,{style:{fontWeight:"bold"}},"Free"),react_default.a.createElement(Text_default.a,null,"Access to assign as staff of an existing farm"))),react_default.a.createElement(TouchableOpacity_default.a,{style:[Helpers.borderContainer,{width:200,height:300},this.state.CurrentSub===UserStates.FREE?{backgroundColor:Colors.AgriGreen}:{}],onPress:function onPress(){_this2.setState({CurrentSub:UserStates.FREE},_this2.forceUpdate());}},react_default.a.createElement(View_default.a,{style:[Helpers.row,Helpers.fullWidth,{alignContent:'center',alignItems:'center',justifyContent:'center',height:35}]},react_default.a.createElement(Text_default.a,{style:{fontWeight:"bold",fontSize:20}},"Farm Owner"),this.state.CurrentSub===UserStates.FREE?react_default.a.createElement(CheckBox_default.a,{value:this.state.CurrentSub===UserStates.FREE?true:false}):react_default.a.createElement(react_default.a.Fragment,null)),react_default.a.createElement(View_default.a,{style:[Helpers.fill,Helpers.borderContainer]}),react_default.a.createElement(View_default.a,{style:[Helpers.borderContainer,{height:75}]},react_default.a.createElement(Text_default.a,{style:{fontWeight:"bold"}},"Free"),react_default.a.createElement(Text_default.a,null,"Access to create and manage own farm"))),react_default.a.createElement(TouchableOpacity_default.a,{style:[Helpers.borderContainer,{width:200,height:300},this.state.CurrentSub===UserStates.OWNER?{backgroundColor:Colors.AgriGreen}:{}],onPress:function onPress(){_this2.setState({CurrentSub:UserStates.OWNER},_this2.forceUpdate());}},react_default.a.createElement(View_default.a,{style:[Helpers.row,Helpers.fullWidth,{alignContent:'center',alignItems:'center',justifyContent:'center',height:35}]},react_default.a.createElement(Text_default.a,{style:{fontWeight:"bold",fontSize:20}},"Farm Manager"),this.state.CurrentSub===UserStates.OWNER?react_default.a.createElement(CheckBox_default.a,{value:this.state.CurrentSub===UserStates.OWNER?true:false}):react_default.a.createElement(react_default.a.Fragment,null)),react_default.a.createElement(View_default.a,{style:[Helpers.fill,Helpers.borderContainer]}),react_default.a.createElement(View_default.a,{style:[Helpers.borderContainer,{height:75}]},react_default.a.createElement(Text_default.a,{style:{fontWeight:"bold"}},"9999.99\u20AC"),react_default.a.createElement(Text_default.a,null,"Access to manage own farm, and assing staff"))),react_default.a.createElement(TouchableOpacity_default.a,{style:[Helpers.borderContainer,{width:200,height:300},this.state.CurrentSub==="Contact"?{backgroundColor:Colors.AgriGreen}:{}],onPress:function onPress(){_this2.setState({CurrentSub:"Contact"},_this2.forceUpdate());}},react_default.a.createElement(View_default.a,{style:[Helpers.row,Helpers.fullWidth,{alignContent:'center',alignItems:'center',justifyContent:'center',height:35}]},react_default.a.createElement(Text_default.a,{style:{fontWeight:"bold",fontSize:20}},"Get contacted"),this.state.CurrentSub==="Contact"?react_default.a.createElement(CheckBox_default.a,{value:this.state.CurrentSub==="Contact"?true:false}):react_default.a.createElement(react_default.a.Fragment,null)),react_default.a.createElement(View_default.a,{style:[Helpers.fill,Helpers.borderContainer]}),react_default.a.createElement(View_default.a,{style:[Helpers.borderContainer,{height:75}]},react_default.a.createElement(Text_default.a,{style:{fontWeight:"bold",height:20}}),react_default.a.createElement(Text_default.a,null,"We will contact you, and tell more about our offers")))),react_default.a.createElement(View_default.a,{style:[Helpers.buttonContainer,Helpers.midWidth]},react_default.a.createElement(Components_Button,{Text:"Submit",onPress:function onPress(){if(!_this2.state.CurrentSub||_this2.state.CurrentSub===""){_this2.props.setViewError("Please choose a subscription type.");}else if(_this2.props.OnDone){_this2.props.OnDone(_this2.state.CurrentSub);}else{}}}))),(IsLoading||this.props.firebase.viewIsLoading)&&react_default.a.createElement(ActivityIndicator_default.a,{style:Helpers.loadingContainer,size:"large"})));}}]);return Subscription;}(react["Component"]);var Subscription_mapStateToProps=function mapStateToProps(state){var firebase=state.firebase;return{firebase:firebase};};var Subscription_mapDispatchToProps=function mapDispatchToProps(dispatch){return{setViewLoading:function setViewLoading(state){return dispatch(Firebase_Actions.viewIsLoading(state));},setViewError:function setViewError(error){return dispatch(Firebase_Actions.setViewError(error));},getUser:function getUser(UserId){return dispatch(Firebase_Actions.actionStarting(Selectors_Actions.FETCH,DataRefs.USERSDATA,{UserId:UserId}));}};};/* harmony default export */ var UserPanel_Subscription = (Object(es["b" /* connect */])(Subscription_mapStateToProps,Subscription_mapDispatchToProps)(Subscription_Subscription));
// CONCATENATED MODULE: C:/Users/daniel/Documents/GitHub/AgrisysApp-Web/App/Src/Containers/Cloud/UserPanel/FarmInformation.js
function FarmInformation_createSuper(Derived){var hasNativeReflectConstruct=FarmInformation_isNativeReflectConstruct();return function _createSuperInternal(){var Super=getPrototypeOf_default()(Derived),result;if(hasNativeReflectConstruct){var NewTarget=getPrototypeOf_default()(this).constructor;result=Reflect.construct(Super,arguments,NewTarget);}else{result=Super.apply(this,arguments);}return possibleConstructorReturn_default()(this,result);};}function FarmInformation_isNativeReflectConstruct(){if(typeof Reflect==="undefined"||!Reflect.construct)return false;if(Reflect.construct.sham)return false;if(typeof Proxy==="function")return true;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}));return true;}catch(e){return false;}}var FarmInformation_FarmInformation=function(_Component){inherits_default()(FarmInformation,_Component);var _super=FarmInformation_createSuper(FarmInformation);function FarmInformation(props){var _this;classCallCheck_default()(this,FarmInformation);_this=_super.call(this,props);var _this$setData=_this.setData(props),FarmName=_this$setData.FarmName,Address=_this$setData.Address,Country=_this$setData.Country,Cvr=_this$setData.Cvr,Manager=_this$setData.Manager;_this.state={FarmName:FarmName,Address:Address,Country:Country,Cvr:Cvr,Manager:Manager,Sections:"0",Pens:"0"};return _this;}createClass_default()(FarmInformation,[{key:"setData",value:function setData(Props){var FarmName="";var Address="";var Country="";var Cvr="";var Manager="";var localDataStore=Props.firebase.localDataStore;var firebaseUser=this.props.firebase.firebaseUser;if(firebaseUser){if(firebaseUser.lastN!==""){FarmName=firebaseUser.lastN;}if(firebaseUser.address!==""){Address=firebaseUser.address;}if(firebaseUser.country){Country=firebaseUser.country;}if(firebaseUser.email!=""){Manager=firebaseUser.email;}}if(localDataStore&&firebaseUser&&localDataStore.farms&&firebaseUser.farms&&localDataStore.farms[Object.keys(firebaseUser.farms)[0]]){var FarmData=localDataStore.farms[Object.keys(firebaseUser.farms)[0]];if(FarmData.name)FarmName=FarmData.name;if(FarmData.address)Address=FarmData.address;if(FarmData.country)Country=FarmData.country;if(FarmData.cvr)Cvr=FarmData.cvr;if(FarmData.manager)Manager=FarmData.manager;}return{FarmName:FarmName,Address:Address,Country:Country,Cvr:Cvr,Manager:Manager};}},{key:"getData",value:function getData(){}},{key:"checkData",value:function checkData(props){}},{key:"componentDidMount",value:function componentDidMount(){this.props.setViewLoading(false);this.props.setViewError(null);this.props.getUser(null);this.props.getFarm();this.checkData(this.props);this.getData();}},{key:"componentDidUpdate",value:function componentDidUpdate(prevProps,prevState){if(this.props!==prevProps){this.checkData(this.props);if(this.props.firebase.firebaseUser){}}}},{key:"render",value:function render(){var _this2=this;var IsLoading=this.props.firebase.firebaseIsLoading;var ErrorMessage=this.props.firebase.viewError;return react_default.a.createElement(ScrollView_default.a,{style:[Metrics.verticalMargin,{paddingRight:5}]},react_default.a.createElement(View_default.a,{style:[Helpers.mainContainer]},react_default.a.createElement(View_default.a,{style:[Helpers.contentContainer,Helpers.fullSize,Helpers.fillColMain]},ErrorMessage&&(!ErrorMessage.type||ErrorMessage.type===ErrorTypes.SYSTEM)?react_default.a.createElement(Text_default.a,{style:ApplicationStyles.error},ErrorMessage.message?ErrorMessage.message:ErrorMessage):react_default.a.createElement(react_default.a.Fragment,null),react_default.a.createElement(Components_TitleElement,{Text:"Farm Informations"}),react_default.a.createElement(View_default.a,{style:[Helpers.borderContainer,Helpers.midWidth,{marginBottom:20}]},react_default.a.createElement(dist["b" /* Input */],{label:"Farm Name",style:ApplicationStyles.input,onChangeText:function onChangeText(text){if(text){if(DataStringCheck(text)){_this2.setState({FarmName:text});}}else{_this2.setState({FarmName:text});}},value:this.state.FarmName}),react_default.a.createElement(dist["b" /* Input */],{label:"Address",style:ApplicationStyles.input,onChangeText:function onChangeText(text){if(text){_this2.setState({Address:text});}else{_this2.setState({Address:text});}},value:this.state.Address}),react_default.a.createElement(dist["b" /* Input */],{label:"Country",style:ApplicationStyles.input,onChangeText:function onChangeText(text){if(text){_this2.setState({Country:text});}else{_this2.setState({Country:text});}},value:this.state.Country}),react_default.a.createElement(dist["b" /* Input */],{label:"Cvr",style:ApplicationStyles.input,onChangeText:function onChangeText(text){if(!isNaN(text)){_this2.setState({Cvr:text});}},value:this.state.Cvr}),react_default.a.createElement(dist["b" /* Input */],{label:"Manager contact",style:ApplicationStyles.input,onChangeText:function onChangeText(text){if(text){var test=text;test=test.replace('@','a');test=test.replace('.','d');if(DataStringCheck(test)){_this2.setState({Manager:text});}}else{_this2.setState({Manager:text});}},value:this.state.Manager}),react_default.a.createElement(dist["b" /* Input */],{label:"Number of Sections",style:ApplicationStyles.input,onChangeText:function onChangeText(text){if(!isNaN(text)){_this2.setState({Sections:text});}},value:this.state.Sections}),react_default.a.createElement(dist["b" /* Input */],{label:"Number of Pens in each Sections",style:ApplicationStyles.input,onChangeText:function onChangeText(text){if(!isNaN(text)){_this2.setState({Pens:text});}},value:this.state.Pens})),react_default.a.createElement(View_default.a,{style:[Helpers.buttonContainer,Helpers.midWidth]},react_default.a.createElement(Components_Button,{Text:"Save Farm information",onPress:function onPress(){var _FarmData={};var _sections={};var _pens={};if(!_this2.state.FarmName||_this2.state.FarmName===""){_this2.props.setViewError("Farm name is needed");}else if(!DataStringCheck(_this2.state.FarmName)){_this2.props.setViewError("First name contains invalid characters");}else{_FarmData={name:_this2.state.FarmName};if(_this2.state.Address!=="")_FarmData.address=_this2.state.Address;if(_this2.state.Country!=="")_FarmData.country=_this2.state.Country;if(_this2.state.Cvr!=="")_FarmData.cvr=_this2.state.Cvr;if(_this2.state.Manager!=="")_FarmData.manager=_this2.state.Manager;_this2.props.setViewLoading(true);_this2.props.updateFarm(_FarmData);if(_this2.state.Sections&&_this2.state.Pens){_this2.props.setViewLoading(true);var Pen=1;var i,i2;for(i=1;i<=_this2.state.Sections;i++){var sectionPens={};for(i2=1;i2<=_this2.state.Pens;i2++){_pens['Pen_'+Pen]={section:'Section_'+i};sectionPens['Pen_'+Pen]=true;Pen++;}_sections['Section_'+i]={pens:sectionPens};}console.log("Set",_sections,_pens);_this2.props.updateFarmData(_sections,_pens);}if(_this2.props.OnDone){_this2.props.OnDone(true);}}}}))),(IsLoading||this.props.firebase.viewIsLoading)&&react_default.a.createElement(ActivityIndicator_default.a,{style:Helpers.loadingContainer,size:"large"})));}}]);return FarmInformation;}(react["Component"]);var FarmInformation_mapStateToProps=function mapStateToProps(state){var firebase=state.firebase;return{firebase:firebase};};var FarmInformation_mapDispatchToProps=function mapDispatchToProps(dispatch){return{setViewLoading:function setViewLoading(state){return dispatch(Firebase_Actions.viewIsLoading(state));},setViewError:function setViewError(error){return dispatch(Firebase_Actions.setViewError(error));},getUser:function getUser(UserId){return dispatch(Firebase_Actions.actionStarting(Selectors_Actions.FETCH,DataRefs.USERSDATA,{UserId:UserId}));},getFarm:function getFarm(){return dispatch(Firebase_Actions.actionStarting(Selectors_Actions.FETCH,DataRefs.FARMS,{}));},updateFarm:function updateFarm(FarmData){return dispatch(Firebase_Actions.actionStarting(Selectors_Actions.UPDATE,DataRefs.FARMS,{Data:FarmData}));},updateFarmData:function updateFarmData(sections,pens){return dispatch(Firebase_Actions.actionStarting(Selectors_Actions.UPDATE,DataRefs.FARMDATAS,{Data:{sections:sections,pens:pens}}));}};};/* harmony default export */ var UserPanel_FarmInformation = (Object(es["b" /* connect */])(FarmInformation_mapStateToProps,FarmInformation_mapDispatchToProps)(FarmInformation_FarmInformation));
// CONCATENATED MODULE: C:/Users/daniel/Documents/GitHub/AgrisysApp-Web/App/Src/Containers/Cloud/AuthScreens/CreateUserDataScreen.js
function CreateUserDataScreen_createSuper(Derived){var hasNativeReflectConstruct=CreateUserDataScreen_isNativeReflectConstruct();return function _createSuperInternal(){var Super=getPrototypeOf_default()(Derived),result;if(hasNativeReflectConstruct){var NewTarget=getPrototypeOf_default()(this).constructor;result=Reflect.construct(Super,arguments,NewTarget);}else{result=Super.apply(this,arguments);}return possibleConstructorReturn_default()(this,result);};}function CreateUserDataScreen_isNativeReflectConstruct(){if(typeof Reflect==="undefined"||!Reflect.construct)return false;if(Reflect.construct.sham)return false;if(typeof Proxy==="function")return true;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}));return true;}catch(e){return false;}}var CreateUserDataScreen_CreateNewUserData=function(_Component){inherits_default()(CreateNewUserData,_Component);var _super=CreateUserDataScreen_createSuper(CreateNewUserData);function CreateNewUserData(props){var _this;classCallCheck_default()(this,CreateNewUserData);_this=_super.call(this,props);_this.state={ViewState:1};return _this;}createClass_default()(CreateNewUserData,[{key:"getData",value:function getData(){}},{key:"checkData",value:function checkData(props){}},{key:"componentDidMount",value:function componentDidMount(){this.props.setViewLoading(false);this.checkData(this.props);this.getData();}},{key:"componentDidUpdate",value:function componentDidUpdate(prevProps,prevState){if(this.props!==prevProps){this.checkData(this.props);if(this.props.firebase.firebaseUser!==prevProps.firebase.firebaseUser){if(prevProps.firebase.firebaseUser.state!==UserStates.STARTER&&this.state.ViewState!==3){NavigationService.nacigationPop();}}}}},{key:"render",value:function render(){var _this2=this;var IsLoading=this.props.firebase.firebaseIsLoading;var Display=[];if(this.state.ViewState===1){Display=[react_default.a.createElement(UserPanel_UserInformation,{key:"View1",OnDone:function OnDone(res){if(res){_this2.setState({ViewState:2},_this2.forceUpdate());}else{NavigationService.nacigationPop();}}})];}else if(this.state.ViewState===2){Display=[react_default.a.createElement(UserPanel_Subscription,{key:"View2",OnDone:function OnDone(res){if(res&&res!=""){var FarmName="Not set";if(_this2.props.firebase.firebaseUser.lastN)FarmName=_this2.props.firebase.firebaseUser.lastN;_this2.props.precreateUserData(res,FarmName);_this2.setState({ViewState:3},_this2.forceUpdate());}else{NavigationService.nacigationPop();}}})];}else if(this.state.ViewState===3){Display=[react_default.a.createElement(UserPanel_FarmInformation,{key:"View3",OnDone:function OnDone(res){if(res&&res!=""){_this2.props.clearDataMem();NavigationService.navigateAndReset('AuthStack');}}})];}else{this.props.clearDataMem();NavigationService.navigateAndReset('AuthStack');}return react_default.a.createElement(View_default.a,null,Display);}}]);return CreateNewUserData;}(react["Component"]);var CreateUserDataScreen_mapStateToProps=function mapStateToProps(state){var firebase=state.firebase;return{firebase:firebase};};var CreateUserDataScreen_mapDispatchToProps=function mapDispatchToProps(dispatch){return{setViewLoading:function setViewLoading(state){return dispatch(Firebase_Actions.viewIsLoading(state));},clearDataMem:function clearDataMem(){return dispatch(Firebase_Actions.actionStarting(Selectors_Actions.CLEAR,DataRefs.USERSDATA));},updateUser:function updateUser(Data){return dispatch(Firebase_Actions.actionStarting(Selectors_Actions.UPDATE,DataRefs.USERSDATA,{Data:Data}));},precreateUserData:function precreateUserData(Subsc,FarmName){return dispatch(Firebase_Actions.actionStarting(Selectors_Actions.CREATE,DataRefs.USERSDATA,{UserData:{state:Subsc},Farms:{name:FarmName},Sections:{},Pens:{}}));}};};/* harmony default export */ var CreateUserDataScreen = (Object(es["b" /* connect */])(CreateUserDataScreen_mapStateToProps,CreateUserDataScreen_mapDispatchToProps)(CreateUserDataScreen_CreateNewUserData));
// CONCATENATED MODULE: C:/Users/daniel/Documents/GitHub/AgrisysApp-Web/App/Src/Navigators/AuthNavigator.js
function AuthNavigator_ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);if(enumerableOnly)symbols=symbols.filter(function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable;});keys.push.apply(keys,symbols);}return keys;}function AuthNavigator_objectSpread(target){for(var i=1;i<arguments.length;i++){var source=arguments[i]!=null?arguments[i]:{};if(i%2){AuthNavigator_ownKeys(Object(source),true).forEach(function(key){defineProperty_default()(target,key,source[key]);});}else if(Object.getOwnPropertyDescriptors){Object.defineProperties(target,Object.getOwnPropertyDescriptors(source));}else{AuthNavigator_ownKeys(Object(source)).forEach(function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key));});}}return target;}var AuthNavigator_StackNavigator=Object(createStackNavigator["a" /* default */])({UserLoadingScreen:{screen:AuthScreens_UserLoadingScreen,navigationOptions:function navigationOptions(){return{title:'User loading'};}},LoginUser:{screen:AuthScreens_UserLoginScreen,navigationOptions:function navigationOptions(){return{title:'User Login',headerLeft:function headerLeft(){return react_default.a.createElement(View_default.a,{style:{padding:6,paddingLeft:15}},react_default.a.createElement(dist["a" /* Icon */],{name:"md-arrow-back",type:"ionicon",size:25,color:"black",onPress:function onPress(){return NavigationService.navigate('MainStack');}}));}};}},VerifyScreen:{screen:AuthScreens_VerifyScreen,navigationOptions:function navigationOptions(){return{title:'User Verification'};}},CreateUserData:{screen:CreateUserDataScreen,navigationOptions:function navigationOptions(){return{title:'Create Data'};}}},{initialRouteName:'UserLoadingScreen',headerMode:'float',defaultNavigationOptions:{headerTitleAlign:'center',headerTitleStyle:AuthNavigator_objectSpread({},ApplicationStyles.navigationHeader),headerLeft:function headerLeft(){return react_default.a.createElement(View_default.a,{style:{padding:6,paddingLeft:15}},react_default.a.createElement(dist["a" /* Icon */],{type:"ionicon",name:"md-arrow-back",size:25,color:"black",onPress:function onPress(){return NavigationService.navigate('MainStack');}}));},headerRight:function headerRight(){return react_default.a.createElement(View_default.a,{style:{padding:6}});}}});/* harmony default export */ var AuthNavigator = (AuthNavigator_StackNavigator);
// CONCATENATED MODULE: C:/Users/daniel/Documents/GitHub/AgrisysApp-Web/App/Src/Containers/Cloud/UserPanel/FrontScreen.js
function UserPanel_FrontScreen_createSuper(Derived){var hasNativeReflectConstruct=UserPanel_FrontScreen_isNativeReflectConstruct();return function _createSuperInternal(){var Super=getPrototypeOf_default()(Derived),result;if(hasNativeReflectConstruct){var NewTarget=getPrototypeOf_default()(this).constructor;result=Reflect.construct(Super,arguments,NewTarget);}else{result=Super.apply(this,arguments);}return possibleConstructorReturn_default()(this,result);};}function UserPanel_FrontScreen_isNativeReflectConstruct(){if(typeof Reflect==="undefined"||!Reflect.construct)return false;if(Reflect.construct.sham)return false;if(typeof Proxy==="function")return true;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}));return true;}catch(e){return false;}}var UserPanel_FrontScreen_FrontScreen=function(_Component){inherits_default()(FrontScreen,_Component);var _super=UserPanel_FrontScreen_createSuper(FrontScreen);function FrontScreen(props){var _this;classCallCheck_default()(this,FrontScreen);_this=_super.call(this,props);_this.state={ISLOADPAGE:true};return _this;}createClass_default()(FrontScreen,[{key:"getData",value:function getData(){this.props.getFarm();}},{key:"checkData",value:function checkData(props){}},{key:"componentDidMount",value:function componentDidMount(){this.props.setViewLoading(false);this.props.setViewError(null);this.checkData(this.props);this.getData();}},{key:"componentDidUpdate",value:function componentDidUpdate(prevProps,prevState){if(this.props!==prevProps){this.checkData(this.props);if(this.props.firebase.viewError!=prevProps.firebase.viewError){this.forceUpdate();}}}},{key:"render",value:function render(){var _this2=this;var firebase=this.props.firebase;var IsLoading=firebase.firebaseIsLoading;var firebaseErrorMessage=firebase.firebaseErrorMessage;var ErrorMessage=this.props.firebase.viewError;var firebaseUser=firebase.firebaseUser;return react_default.a.createElement(ScrollView_default.a,{style:[Helpers.fullSize,Helpers.fill]},react_default.a.createElement(View_default.a,{style:[Helpers.mainContainer]},react_default.a.createElement(View_default.a,{style:[Helpers.contentContainer,Helpers.fullSize,Helpers.fillColMain]},firebaseErrorMessage?react_default.a.createElement(Text_default.a,{style:ApplicationStyles.error},firebaseErrorMessage):react_default.a.createElement(react_default.a.Fragment,null),firebaseUser?react_default.a.createElement(View_default.a,{style:Helpers.textContainer},react_default.a.createElement(Text_default.a,{style:ApplicationStyles.text},"Welcome: ",firebaseUser.displayName?firebaseUser.displayName:firebaseUser.email)):react_default.a.createElement(react_default.a.Fragment,null),react_default.a.createElement(Components_Button_Panel,{Texts:["Dashboard","Pens","Batchs","Growth curves","Operations","AutoPigs","Feeding","Pigs"],Images:[Theme_Images.DashBoard,Theme_Images.Pens,Theme_Images.Section,Theme_Images.GCurves,Theme_Images.System,Theme_Images.AutoPig,Theme_Images.Feed,Theme_Images.Sow],onPress:function onPress(ele){switch(ele.text){case"Dashboard":NavigationService.navigate("UserDashBoard");break;case"Pens":NavigationService.navigate("UserPens");break;case"Batchs":NavigationService.navigate("UserBatchs");break;case"Growth curves":NavigationService.navigate("UserCurves");break;case"Operations":NavigationService.navigate("UserOperations");break;case"AutoPigs":var localDataStore=_this2.props.firebase.localDataStore;var FirebaseUser=_this2.props.firebase.firebaseUser;if(FirebaseUser&&FirebaseUser.farms&&localDataStore&&localDataStore.farms){var FarmsData=localDataStore.farms;if(FarmsData&&FarmsData[Object.keys(FirebaseUser.farms)[0]]){var FarmData=FarmsData[Object.keys(FirebaseUser.farms)[0]];if(FarmData.site&&FarmData.refToken){NavigationService.navigate("AutoPig");}}}break;case"Feeding":break;case"Pigs":NavigationService.navigate("UserPigs");break;}}}),firebaseUser&&firebaseUser.state==="admin"?react_default.a.createElement(react_default.a.Fragment,null):react_default.a.createElement(View_default.a,{style:[Helpers.buttonContainer,Helpers.midWidth]},react_default.a.createElement(Components_Button,{Text:"LogOut",onPress:function onPress(){_this2.props.logOut();}}))),(IsLoading||this.props.firebase.viewIsLoading)&&react_default.a.createElement(ActivityIndicator_default.a,{style:Helpers.loadingContainer,size:"large"})));}}]);return FrontScreen;}(react["Component"]);var UserPanel_FrontScreen_mapStateToProps=function mapStateToProps(state){var firebase=state.firebase;return{firebase:firebase};};var UserPanel_FrontScreen_mapDispatchToProps=function mapDispatchToProps(dispatch){return{setFirebaseError:function setFirebaseError(error){return dispatch(Firebase_Actions.setFirebaseError(error));},setViewLoading:function setViewLoading(state){return dispatch(Firebase_Actions.viewIsLoading(state));},setViewError:function setViewError(error){return dispatch(Firebase_Actions.setViewError(error));},logOut:function logOut(){return dispatch(Firebase_Actions.actionStarting(Selectors_Actions.SIGN,DataRefs.USERSDATA));},getFarm:function getFarm(){return dispatch(Firebase_Actions.actionStarting(Selectors_Actions.FETCH,DataRefs.FARMS,{}));}};};/* harmony default export */ var UserPanel_FrontScreen = (Object(es["b" /* connect */])(UserPanel_FrontScreen_mapStateToProps,UserPanel_FrontScreen_mapDispatchToProps)(UserPanel_FrontScreen_FrontScreen));
// EXTERNAL MODULE: C:/Users/daniel/Documents/GitHub/AgrisysApp-Web/App/node_modules/react-native-web/dist/cjs/exports/FlatList/index.js
var FlatList = __webpack_require__(45);
var FlatList_default = /*#__PURE__*/__webpack_require__.n(FlatList);

// CONCATENATED MODULE: C:/Users/daniel/Documents/GitHub/AgrisysApp-Web/App/Src/Containers/Cloud/UserPanel/Dashboard.js
function Dashboard_createSuper(Derived){var hasNativeReflectConstruct=Dashboard_isNativeReflectConstruct();return function _createSuperInternal(){var Super=getPrototypeOf_default()(Derived),result;if(hasNativeReflectConstruct){var NewTarget=getPrototypeOf_default()(this).constructor;result=Reflect.construct(Super,arguments,NewTarget);}else{result=Super.apply(this,arguments);}return possibleConstructorReturn_default()(this,result);};}function Dashboard_isNativeReflectConstruct(){if(typeof Reflect==="undefined"||!Reflect.construct)return false;if(Reflect.construct.sham)return false;if(typeof Proxy==="function")return true;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}));return true;}catch(e){return false;}}var Dashboard_Dashboard=function(_Component){inherits_default()(Dashboard,_Component);var _super=Dashboard_createSuper(Dashboard);function Dashboard(props){var _this;classCallCheck_default()(this,Dashboard);_this=_super.call(this,props);var _this$setData=_this.setData(props),Name=_this$setData.Name,Manager=_this$setData.Manager,Mail=_this$setData.Mail,SectionsList=_this$setData.SectionsList,BatchList=_this$setData.BatchList,MaxCap=_this$setData.MaxCap,CurCap=_this$setData.CurCap;_this.state={farmName:Name,farmManager:Manager,farmMail:Mail,BatchList:BatchList,MaxCap:MaxCap,CurCap:CurCap};return _this;}createClass_default()(Dashboard,[{key:"setData",value:function setData(Props){var localDataStore=Props.firebase.localDataStore;var firebaseUser=this.props.firebase.firebaseUser;var Name="Not set";var Manager="Not set";var Mail="Not set";if(localDataStore&&localDataStore.farms&&firebaseUser.farms&&localDataStore.farms[Object.keys(firebaseUser.farms)[0]]){var Farm=localDataStore.farms[Object.keys(firebaseUser.farms)[0]];Name=Farm.name?Farm.name:Name;Manager=Farm.name?Farm.manager:Manager;Mail=Farm.name?Farm.email:Mail;}var BatchList={};var MaxCap=0;var CurCap=0;if(localDataStore.batchs){Object.keys(localDataStore.batchs).filter(function(e){return e!=='__jsogObjectId'&&e!=='update_time';}).map(function(BatchID){var Batch=localDataStore.batchs[BatchID];var Data=GetStats_FromBatch(Batch,localDataStore);if(Data){var StartDate=Data.StartDate,EndDate=Data.EndDate,TargetWeight=Data.TargetWeight,PenCount=Data.PenCount,Animals=Data.Animals,AverageWeight=Data.AverageWeight,AverageGrowth=Data.AverageGrowth,isClosed=Data.isClosed,isVirtual=Data.isVirtual;if(Batch.pens){MaxCap+=Object.keys(Batch.pens).reverse().filter(function(e){return e!=='__jsogObjectId';}).length*1;}CurCap+=Animals;Batch.count=Animals;Batch.weight=AverageWeight;Batch.target=TargetWeight;Batch.End=EndDate;BatchList[BatchID]=Batch;}});}if(MaxCap===0)MaxCap++;return{Name:Name,Manager:Manager,Mail:Mail,BatchList:BatchList,MaxCap:MaxCap,CurCap:CurCap};}},{key:"getData",value:function getData(){var localDataStore=this.props.firebase.localDataStore;if(!localDataStore.sections)localDataStore.sections={};if(!localDataStore.pens)localDataStore.pens={};this.props.getFarm();this.props.getSections(localDataStore.sections?localDataStore.sections.update_time:null);this.props.getPens(localDataStore.pens?localDataStore.pens.update_time:null);this.props.getBatch();this.props.getWeights(localDataStore.weighings?localDataStore.weighings.update_time:null,localDataStore.sections);this.props.getCurve();}},{key:"checkData",value:function checkData(props){}},{key:"componentDidUpdate",value:function componentDidUpdate(prevProps,prevState){var _this2=this;if(this.props!==prevProps){this.checkData(this.props);if(this.props.firebase.localDataStore&&prevProps.firebase.localDataStore){var firebaseUser=this.props.firebase.firebaseUser;var localDataStore=this.props.firebase.localDataStore;if(localDataStore.farms&&firebaseUser.farms&&localDataStore.farms[Object.keys(firebaseUser.farms)[0]]){var Farm=localDataStore.farms[Object.keys(firebaseUser.farms)[0]];if(this.state.farmName!==Farm.name||this.state.farmManager!==Farm.manager||this.state.farmMail!==Farm.email||localDataStore.batchs&&JSON.stringify(this.state.BatchList)!==JSON.stringify(localDataStore.batchs)||localDataStore.graphs&&localDataStore.graphs!==prevProps.firebase.localDataStore.graphs){var _this$setData2=this.setData(this.props),Name=_this$setData2.Name,Manager=_this$setData2.Manager,Mail=_this$setData2.Mail,BatchList=_this$setData2.BatchList,MaxCap=_this$setData2.MaxCap,CurCap=_this$setData2.CurCap;this.setState({farmName:Name,farmManager:Manager,farmMail:Mail,BatchList:BatchList,MaxCap:MaxCap,CurCap:CurCap},function(){_this2.forceUpdate();});}}}}}},{key:"componentDidMount",value:function componentDidMount(){this.props.setViewLoading(false);this.props.setViewError(null);this.checkData(this.props);this.getData();}},{key:"render",value:function render(){var _this3=this;var IsLoading=this.props.firebase.firebaseIsLoading;var localDataStore=this.props.firebase.localDataStore;var FarmProgress=0;if(this.state.BatchList){var BatchList=Object.keys(this.state.BatchList).filter(function(e){return e!=='__jsogObjectId'&&e!=='update_time'&&(!_this3.state.BatchList[e].state||_this3.state.BatchList[e].state!=="Closed");});BatchList.forEach(function(element){var Batch=_this3.state.BatchList[element];FarmProgress+=Batch.weight/Batch.target*100;});FarmProgress=FarmProgress/(100*BatchList.length)*100;}return react_default.a.createElement(ScrollView_default.a,{style:[Metrics.verticalMargin,{paddingRight:5}]},react_default.a.createElement(View_default.a,{style:[Helpers.mainContainer]},react_default.a.createElement(View_default.a,{style:[Helpers.contentContainer,Helpers.fullWidth,Helpers.fill]},react_default.a.createElement(Components_TitleElement,{Text:"Farm description"}),react_default.a.createElement(View_default.a,{style:[Helpers.buttonContainer,Helpers.fullWidth,{height:110}]},react_default.a.createElement(Components_ContentProp,{texts:["Farm name","Manager","E-mail"],datas:[this.state.farmName,this.state.farmManager,this.state.farmMail]})),react_default.a.createElement(View_default.a,{style:{height:20}}),react_default.a.createElement(Progressbar,{text:"Farm capacity: "+this.state.CurCap+" of "+this.state.MaxCap,progress:this.state.CurCap/this.state.MaxCap*100}),react_default.a.createElement(Progressbar,{text:"Farm performance:",progress:FarmProgress}),this.state.BatchList?react_default.a.createElement(View_default.a,{style:[Helpers.borderContainer,Helpers.fullWidth,{borderWidth:0,marginTop:10}]},react_default.a.createElement(Text_default.a,null,"Batches:"),react_default.a.createElement(FlatList_default.a,{data:Object.keys(this.state.BatchList).filter(function(e){return e!=='__jsogObjectId'&&e!=='update_time'&&(!_this3.state.BatchList[e].state||_this3.state.BatchList[e].state!=="Closed");}),renderItem:function renderItem(_ref){var item=_ref.item,i=_ref.i;var Batch=_this3.state.BatchList[item];var TempCurve=GetCurve_FromBatch(Batch,localDataStore.graphs);var End=GetBatchEnd(Batch,TempCurve);var EndDate=Batch.End;var Color=Colors.AgriGreen;if(EndDate>End)Color=Colors.error;var count=Batch.count;if(!count)count=0;var progress=Batch.weight/Batch.target*100;EndDate=new Date(EndDate).getDate()+"/"+(new Date(EndDate).getMonth()+1)+"/"+new Date(EndDate).getFullYear();var StartDate=new Date(Batch.time).getDate()+"/"+(new Date(Batch.time).getMonth()+1)+"/"+new Date(Batch.time).getFullYear();return react_default.a.createElement(Progressbar,{text:item+" Startdate: "+StartDate+" EndForcast: "+EndDate+", "+count+" pigs",progress:progress,color:Color});},keyExtractor:function keyExtractor(item,index){return index.toString();}})):react_default.a.createElement(react_default.a.Fragment,null),react_default.a.createElement(Components_Button,{Text:"Clear local datastore",onPress:function onPress(){_this3.props.clearDataMem();_this3.getData();}})),(IsLoading||this.props.firebase.viewIsLoading)&&react_default.a.createElement(ActivityIndicator_default.a,{style:Helpers.loadingContainer,size:"large"})));}}]);return Dashboard;}(react["Component"]);var Dashboard_mapStateToProps=function mapStateToProps(state){var firebase=state.firebase;return{firebase:firebase};};var Dashboard_mapDispatchToProps=function mapDispatchToProps(dispatch){return{setFirebaseError:function setFirebaseError(error){return dispatch(Firebase_Actions.setFirebaseError(error));},setViewLoading:function setViewLoading(state){return dispatch(Firebase_Actions.viewIsLoading(state));},setViewError:function setViewError(error){return dispatch(Firebase_Actions.setViewError(error));},clearDataMem:function clearDataMem(){return dispatch(Firebase_Actions.actionStarting(Selectors_Actions.CLEAR,DataRefs.USERSDATA));},getFarm:function getFarm(){return dispatch(Firebase_Actions.actionStarting(Selectors_Actions.FETCH,DataRefs.FARMS,{}));},getSections:function getSections(DataTime){return dispatch(Firebase_Actions.actionStarting(Selectors_Actions.FETCH,DataRefs.SECTIONS,{DataTime:DataTime}));},getPens:function getPens(DataTime){return dispatch(Firebase_Actions.actionStarting(Selectors_Actions.FETCH,DataRefs.PENS,{DataTime:DataTime}));},getBatch:function getBatch(){return dispatch(Firebase_Actions.actionStarting(Selectors_Actions.FETCH,DataRefs.BATCHS,{}));},getCurve:function getCurve(){return dispatch(Firebase_Actions.actionStarting(Selectors_Actions.FETCH,DataRefs.GRAPH,{}));},getWeights:function getWeights(DataTime,MemSections){return dispatch(Firebase_Actions.actionStarting(Selectors_Actions.FETCH,DataRefs.WEIGHING,{DataTime:DataTime,MemSections:MemSections}));}};};/* harmony default export */ var UserPanel_Dashboard = (Object(es["b" /* connect */])(Dashboard_mapStateToProps,Dashboard_mapDispatchToProps)(Dashboard_Dashboard));
// EXTERNAL MODULE: C:/Users/daniel/Documents/GitHub/AgrisysApp-Web/App/node_modules/react-native-web/dist/cjs/exports/SafeAreaView/index.js
var SafeAreaView = __webpack_require__(79);
var SafeAreaView_default = /*#__PURE__*/__webpack_require__.n(SafeAreaView);

// CONCATENATED MODULE: C:/Users/daniel/Documents/GitHub/AgrisysApp-Web/App/Src/Containers/Cloud/CloudScreenStyle.js
function CloudScreenStyle_ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);if(enumerableOnly)symbols=symbols.filter(function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable;});keys.push.apply(keys,symbols);}return keys;}function CloudScreenStyle_objectSpread(target){for(var i=1;i<arguments.length;i++){var source=arguments[i]!=null?arguments[i]:{};if(i%2){CloudScreenStyle_ownKeys(Object(source),true).forEach(function(key){defineProperty_default()(target,key,source[key]);});}else if(Object.getOwnPropertyDescriptors){Object.defineProperties(target,Object.getOwnPropertyDescriptors(source));}else{CloudScreenStyle_ownKeys(Object(source)).forEach(function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key));});}}return target;}/* harmony default export */ var CloudScreenStyle = (StyleSheet_default.a.create({loading:{position:'absolute',left:0,right:0,top:0,bottom:0,alignItems:'center',justifyContent:'center',backgroundColor:'#F5FCFF88'},textContainer:CloudScreenStyle_objectSpread(CloudScreenStyle_objectSpread({},Fonts.normal),{},{marginBottom:Metrics.normal}),inputContainer:{marginBottom:Metrics.small},input:CloudScreenStyle_objectSpread(CloudScreenStyle_objectSpread({},Fonts.normal),{},{height:24})}));
// EXTERNAL MODULE: C:/Users/daniel/Documents/GitHub/AgrisysApp-Web/App/node_modules/react-native-super-grid/index.js + 3 modules
var react_native_super_grid = __webpack_require__(114);

// CONCATENATED MODULE: C:/Users/daniel/Documents/GitHub/AgrisysApp-Web/App/Src/Containers/Cloud/UserPanel/Pigs.js
function Pigs_ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);if(enumerableOnly)symbols=symbols.filter(function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable;});keys.push.apply(keys,symbols);}return keys;}function Pigs_objectSpread(target){for(var i=1;i<arguments.length;i++){var source=arguments[i]!=null?arguments[i]:{};if(i%2){Pigs_ownKeys(Object(source),true).forEach(function(key){defineProperty_default()(target,key,source[key]);});}else if(Object.getOwnPropertyDescriptors){Object.defineProperties(target,Object.getOwnPropertyDescriptors(source));}else{Pigs_ownKeys(Object(source)).forEach(function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key));});}}return target;}function Pigs_createSuper(Derived){var hasNativeReflectConstruct=Pigs_isNativeReflectConstruct();return function _createSuperInternal(){var Super=getPrototypeOf_default()(Derived),result;if(hasNativeReflectConstruct){var NewTarget=getPrototypeOf_default()(this).constructor;result=Reflect.construct(Super,arguments,NewTarget);}else{result=Super.apply(this,arguments);}return possibleConstructorReturn_default()(this,result);};}function Pigs_isNativeReflectConstruct(){if(typeof Reflect==="undefined"||!Reflect.construct)return false;if(Reflect.construct.sham)return false;if(typeof Proxy==="function")return true;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}));return true;}catch(e){return false;}}var Pigs_Pigs=function(_Component){inherits_default()(Pigs,_Component);var _super=Pigs_createSuper(Pigs);function Pigs(props){var _this;classCallCheck_default()(this,Pigs);_this=_super.call(this,props);var _this$setData=_this.setData(props),PigsList=_this$setData.PigsList;_this.state={PigsList:PigsList,PigTag:""};return _this;}createClass_default()(Pigs,[{key:"getData",value:function getData(){var localDataStore=this.props.firebase.localDataStore;if(!localDataStore.pens)localDataStore.pens={};this.props.getPigs();this.props.getPens(localDataStore.pens.update_time);}},{key:"setData",value:function setData(Props){var localDataStore=Props.firebase.localDataStore;var PigsList=null;if(localDataStore&&localDataStore.pigs){PigsList=sortObject(localDataStore.pigs);}return{PigsList:PigsList};}},{key:"checkData",value:function checkData(props){}},{key:"componentDidMount",value:function componentDidMount(){this.props.setViewLoading(false);this.props.setViewError(null);this.checkData(this.props);this.getData();}},{key:"componentDidUpdate",value:function componentDidUpdate(prevProps,prevState){if(this.props!==prevProps){this.checkData(this.props);if(this.props.firebase){if(this.props.firebase.localDataStore){if(this.props.firebase.localDataStore.pigs&&JSON.stringify(this.state.PigsList)!==JSON.stringify(sortObject(this.props.firebase.localDataStore.pigs))){var _this$setData2=this.setData(this.props),PigsList=_this$setData2.PigsList;this.setState({PigsList:PigsList});}}}}}},{key:"render",value:function render(){var _this2=this;var IsLoading=this.props.firebase.firebaseIsLoading;var localDataStore=this.props.firebase.localDataStore;var connectedDevice=null;var connectedState=null;var DeviceData=null;return react_default.a.createElement(View_default.a,{style:[Helpers.mainContainer]},react_default.a.createElement(View_default.a,{style:[Helpers.contentContainer,Helpers.fullWidth,Helpers.fill]},react_default.a.createElement(View_default.a,{style:[Helpers.fill,Helpers.buttonContainer,Helpers.fullWidth,Metrics.bottomMargin,Helpers.column]},react_default.a.createElement(Pigs_Device_Display,{connectedState:connectedState}),react_default.a.createElement(Pigs_Scanner_Display,{DeviceData:DeviceData}),this.state.PigsList?react_default.a.createElement(View_default.a,{style:[Helpers.fill,Helpers.borderContainer,Metrics.smallHorizontalPadding,Metrics.smallVerticalPadding,{maxWidth:800,marginTop:10}]},react_default.a.createElement(SafeAreaView_default.a,{style:Pigs_styles.container},react_default.a.createElement(FlatList_default.a,{data:Object.keys(this.state.PigsList),renderItem:function renderItem(_ref){var item=_ref.item;var Pen="-";var Section="-";if(_this2.state.PigsList[item].pen&&_this2.state.PigsList[item].pen!=0){Pen=_this2.state.PigsList[item].pen;if(localDataStore.pens&&localDataStore.pens[Pen]){var PenData=localDataStore.pens[Pen];Section=PenData.section;}}return react_default.a.createElement(View_default.a,{style:[Helpers.fill,Helpers.rowCenter,Helpers.fullWidth,{height:35}]},react_default.a.createElement(Components_CustomListItem,{Title:item,itemStyle:[{height:35}],onPress:function onPress(){_this2.props.setData(item,Section,Pen);NavigationService.navigate("DataDisplay");}}),react_default.a.createElement(Components_CustomListItem,{itemStyle:[{width:70,height:35,justifyContent:"center"}],Title:Pen,onPress:function onPress(){_this2.setState({PigTag:item});}}),react_default.a.createElement(Components_CustomListItem,{itemStyle:[{width:90,height:35}],Title:Section,onPress:function onPress(){_this2.setState({PigTag:item});}}));},keyExtractor:function keyExtractor(item){return"PigTag_"+item;}}))):react_default.a.createElement(react_default.a.Fragment,null),react_default.a.createElement(dist["b" /* Input */],{label:"Pig-tag:",containerStyle:[{borderWidth:1,marginTop:10}],style:[ApplicationStyles.input],onChangeText:function onChangeText(text){_this2.setState({PigTag:text});},value:this.state.PigTag}),react_default.a.createElement(Components_OperationsPanel,{pig:true,pigTag:this.state.PigTag,PigsList:this.state.PigsList}))),(IsLoading||this.props.firebase.viewIsLoading)&&react_default.a.createElement(ActivityIndicator_default.a,{style:Helpers.loadingContainer,size:"large"}));}}]);return Pigs;}(react["Component"]);var Pigs_mapStateToProps=function mapStateToProps(state){var firebase=state.firebase;return{firebase:firebase};};var Pigs_mapDispatchToProps=function mapDispatchToProps(dispatch){return{setViewLoading:function setViewLoading(state){return dispatch(Firebase_Actions.viewIsLoading(state));},setViewError:function setViewError(error){return dispatch(Firebase_Actions.setViewError(error));},getPens:function getPens(DataTime){return dispatch(Firebase_Actions.actionStarting(Selectors_Actions.FETCH,DataRefs.PENS,{DataTime:DataTime}));},getPigs:function getPigs(){var tagId=arguments.length>0&&arguments[0]!==undefined?arguments[0]:null;return dispatch(Firebase_Actions.actionStarting(Selectors_Actions.FETCH,DataRefs.PIGS,{TagId:tagId}));},setData:function setData(pigId,Section,Pen){return dispatch(Firebase_Actions.setCurrentData({pigId:pigId,type:DataRefs.PIGS,section:Section,dataId:Pen}));}};};/* harmony default export */ var UserPanel_Pigs = (Object(es["b" /* connect */])(Pigs_mapStateToProps,Pigs_mapDispatchToProps)(Pigs_Pigs));var Pigs_Device_Display=function Device_Display(props){if(Platform_default.a.OS==='ios'||Platform_default.a.OS==='android'){return react_default.a.createElement(View_default.a,{style:[Helpers.buttonContainer,Helpers.fullWidth,Metrics.bottomMargin,Helpers.rowCenter]},react_default.a.createElement(View_default.a,{style:[Helpers.fill,Helpers.fullWidth,Helpers.rowMain]},react_default.a.createElement(View_default.a,{style:[Helpers.fill,Helpers.column,{backgroundColor:"red"}]},react_default.a.createElement(View_default.a,{style:[Helpers.fill,Helpers.row,Helpers.fullWidth,{backgroundColor:"blue"}]},react_default.a.createElement(View_default.a,{style:{justifyContent:'center',alignItems:'center'}})),react_default.a.createElement(View_default.a,{style:[Helpers.fill,Helpers.row,Helpers.fullWidth]},react_default.a.createElement(Text_default.a,null,"Messages"),react_default.a.createElement(Text_default.a,null,"Errors"))),react_default.a.createElement(View_default.a,{style:[Helpers.fill,Helpers.fullWidth,Helpers.rowCenter,{maxWidth:150}]},props&&props.connectedState===ConnectionState.CONNECTED?react_default.a.createElement(View_default.a,{style:Pigs_objectSpread(Pigs_objectSpread({},Pigs_styles.circle),{},{backgroundColor:"green",justifyContent:'center',alignItems:'center'})},react_default.a.createElement(Text_default.a,null,"Device is"),react_default.a.createElement(Text_default.a,null,"connected")):react_default.a.createElement(View_default.a,{style:Pigs_objectSpread(Pigs_objectSpread({},Pigs_styles.circle),{},{backgroundColor:"red",justifyContent:'center',alignItems:'center'})},react_default.a.createElement(Text_default.a,null,"No Device"),react_default.a.createElement(Text_default.a,null,"connected")))));}else{return react_default.a.createElement(react_default.a.Fragment,null);}};var Pigs_Scanner_Display=function Scanner_Display(props){if(Platform_default.a.OS==='ios'||Platform_default.a.OS==='android'){var dispatch=Object(es["c" /* useDispatch */])();var DeviceData=props&&props.DeviceData?props.DeviceData:null;return react_default.a.createElement(View_default.a,{style:{flexDirection:'row',justifyContent:'space-between',borderWidth:1,borderColor:'#000',borderRadius:25,paddingHorizontal:15,paddingVertical:10,marginBottom:10}},react_default.a.createElement(View_default.a,{style:(CloudScreenStyle.textContainer,{paddingTop:10})},DeviceData&&DeviceData.tagid?react_default.a.createElement(View_default.a,{style:{marginBottom:5}},react_default.a.createElement(Text_default.a,null,"TAG Id:"),react_default.a.createElement(Text_default.a,null,DeviceData.tagid)):react_default.a.createElement(react_default.a.Fragment,null),DeviceData&&DeviceData.FatLayers&&DeviceData.FatLayers>0?react_default.a.createElement(View_default.a,{style:{marginBottom:5}},react_default.a.createElement(Text_default.a,null,"Layers received: ",DeviceData.FatLayers),react_default.a.createElement(Text_default.a,null,"Layer 1: ",DeviceData.FatL1),react_default.a.createElement(Text_default.a,null,"Layer 2: ",DeviceData.FatL2),react_default.a.createElement(Text_default.a,null,"Layer 3: ",DeviceData.FatL3)):react_default.a.createElement(react_default.a.Fragment,null)),DeviceData&&DeviceData.tagid?react_default.a.createElement(View_default.a,{style:{flexDirection:'row',justifyContent:'space-between'}},known?react_default.a.createElement(Components_Button,{buttonStyle:(ApplicationStyles.button,{minWidth:0}),Text:"Open data",onPress:function onPress(){dispatch(Firebase_Actions.setCurrentData({pigId:known,type:DataRefs.PIGS}));NavigationService.navigate("DataDisplay");}}):react_default.a.createElement(react_default.a.Fragment,null),react_default.a.createElement(Components_Button,{buttonStyle:(ApplicationStyles.button,{minWidth:0}),Text:"Save Tag",onPress:function onPress(){}})):react_default.a.createElement(react_default.a.Fragment,null));}else{return react_default.a.createElement(react_default.a.Fragment,null);}};var Pigs_styles=StyleSheet_default.a.create({circle:{width:125,height:125,borderRadius:125/2,marginTop:Metrics.tiny,marginLeft:Metrics.tiny}});
// CONCATENATED MODULE: C:/Users/daniel/Documents/GitHub/AgrisysApp-Web/App/Src/Containers/Cloud/UserPanel/Pens.js
function Pens_createSuper(Derived){var hasNativeReflectConstruct=Pens_isNativeReflectConstruct();return function _createSuperInternal(){var Super=getPrototypeOf_default()(Derived),result;if(hasNativeReflectConstruct){var NewTarget=getPrototypeOf_default()(this).constructor;result=Reflect.construct(Super,arguments,NewTarget);}else{result=Super.apply(this,arguments);}return possibleConstructorReturn_default()(this,result);};}function Pens_isNativeReflectConstruct(){if(typeof Reflect==="undefined"||!Reflect.construct)return false;if(Reflect.construct.sham)return false;if(typeof Proxy==="function")return true;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}));return true;}catch(e){return false;}}var Pens_Pens=function(_Component){inherits_default()(Pens,_Component);var _super=Pens_createSuper(Pens);function Pens(props){var _this;classCallCheck_default()(this,Pens);_this=_super.call(this,props);var _this$setData=_this.setData(props),Sections=_this$setData.Sections,Weighings=_this$setData.Weighings,Mid=_this$setData.Mid;_this.state={Mid:Mid,Sections:Sections,Weighings:Weighings};return _this;}createClass_default()(Pens,[{key:"setData",value:function setData(Props){var localDataStore=Props.firebase.localDataStore;var Sections={};if(localDataStore&&localDataStore.sections){Sections=sortObject(Props.firebase.localDataStore.sections);}var Mid=0;var Weighings={};if(localDataStore&&localDataStore.weighings){Weighings=localDataStore.weighings;for(var property in localDataStore.weighings){if(localDataStore.weighings[property]&&Object.keys(localDataStore.weighings[property]).length>0){var weight=localDataStore.weighings[property][Object.keys(localDataStore.weighings[property])[0]].weight;if(weight){if(Mid>0){Mid=(Mid+weight)/2;}else{Mid=Mid+weight;}}}}}return{Sections:Sections,Weighings:Weighings,Mid:Mid};}},{key:"getData",value:function getData(){var localDataStore=this.props.firebase.localDataStore;if(!localDataStore.sections)localDataStore.sections={};if(!localDataStore.pens)localDataStore.pens={};if(!localDataStore.weighings)localDataStore.weighings={};if(!localDataStore.batchs)localDataStore.batchs={};if(!localDataStore.graphs)localDataStore.graphs={};this.props.getSections(localDataStore.sections.update_time);this.props.getPens(localDataStore.pens.update_time);this.props.getWeights(localDataStore.weighings.update_time,localDataStore.sections);this.props.getBatch(localDataStore.batchs.update_time);this.props.getCurve(localDataStore.graphs.update_time);}},{key:"checkData",value:function checkData(props){}},{key:"componentDidMount",value:function componentDidMount(){this.props.setViewLoading(false);this.props.setViewError(null);this.checkData(this.props);this.getData();}},{key:"componentDidUpdate",value:function componentDidUpdate(prevProps,prevState){if(this.props!==prevProps){this.checkData(this.props);if(this.props.firebase.localDataStore){if(this.props.firebase.localDataStore.sections&&JSON.stringify(this.state.Sections)!==JSON.stringify(sortObject(this.props.firebase.localDataStore.sections))||this.props.firebase.localDataStore.weighings&&JSON.stringify(this.state.Weighings)!==JSON.stringify(sortObject(this.props.firebase.localDataStore.weighings))){var _this$setData2=this.setData(this.props),Sections=_this$setData2.Sections,Mid=_this$setData2.Mid;this.setState({Mid:Mid,Sections:Sections});}}}}},{key:"render",value:function render(){var _this2=this;var IsLoading=this.props.firebase.firebaseIsLoading;var localDataStore=this.props.firebase.localDataStore;return react_default.a.createElement(View_default.a,{style:[Helpers.mainContainer]},react_default.a.createElement(View_default.a,{style:[Helpers.fullSize,Helpers.fill]},this.state.Sections?react_default.a.createElement(ScrollView_default.a,{style:[Metrics.verticalMargin,{paddingRight:5}]},react_default.a.createElement(react_native_super_grid["b" /* SectionGrid */],{itemDimension:70,spacing:10,sections:Object.keys(this.state.Sections).filter(function(e){return e!=='update_time';}).map(function(Section){var _Pens=sortObject(_this2.state.Sections[Section].pens);return{title:Section,data:Object.keys(_Pens)};}),renderSectionHeader:function renderSectionHeader(_ref){var section=_ref.section;return react_default.a.createElement(View_default.a,{style:[Helpers.buttonContainer,Helpers.midWidth,{marginBottom:0}]},react_default.a.createElement(Components_Button,{Text:section.title,buttonStyle:{backgroundColor:Colors.AgriDarkblue},onPress:function onPress(){}}));},renderItem:function renderItem(_ref2){var item=_ref2.item;var color=Colors.gray;var displayWeight=null;var Predict=Selectors_CurvePredict(localDataStore,item);if(Predict!=null)color=Colors.pigpink;if(Predict&&Predict.Now){var Batch=Predict.Batch;var devianceMin=2;var devianceMax=5;if(Batch.datas.devianceMin){devianceMin=Batch.datas.devianceMin;}if(Batch.datas.devianceMax){devianceMax=Batch.datas.devianceMax;}var ExValue=Predict.TempEx;var Weight=Predict.Now;var TargetWeight=Batch.datas.target?Batch.datas.target:Predict.Batch.datas.target;if(Weight>=TargetWeight){color=Colors.pigpink;}else{var devianceValMin=ExValue/100*devianceMin;var devianceValMax=ExValue/100*devianceMax;if(ExValue&&Weight<ExValue&&Weight<ExValue-devianceValMin){color=Colors.error;}else if(ExValue&&Weight>ExValue&&Weight>ExValue+devianceValMax){color=Colors.overest;}else{color=Colors.success;}}displayWeight=Math.round(Weight*100)/100;}return react_default.a.createElement(TouchableOpacity_default.a,{style:[Helpers.borderContainer,{width:70,height:70,alignItems:"center",justifyContent:"center",backgroundColor:color}],onPress:function onPress(){_this2.props.setCurrentData(item);NavigationService.navigate("DataDisplay");}},react_default.a.createElement(Text_default.a,null,item),displayWeight?react_default.a.createElement(Text_default.a,null,displayWeight+" kg"):react_default.a.createElement(react_default.a.Fragment,null));}})):react_default.a.createElement(View_default.a,{style:[Helpers.fillRowCenter,Helpers.center,Helpers.logoContainer]},react_default.a.createElement(Image_default.a,{style:Helpers.fullSize,source:Theme_Images.Hexa_icon,resizeMode:'contain'}))),(IsLoading||this.props.firebase.viewIsLoading)&&react_default.a.createElement(ActivityIndicator_default.a,{style:Helpers.loadingContainer,size:"large"}));}}]);return Pens;}(react["Component"]);var Pens_mapStateToProps=function mapStateToProps(state){var firebase=state.firebase;return{firebase:firebase};};var Pens_mapDispatchToProps=function mapDispatchToProps(dispatch){return{setViewLoading:function setViewLoading(state){return dispatch(Firebase_Actions.viewIsLoading(state));},setViewError:function setViewError(error){return dispatch(Firebase_Actions.setViewError(error));},getSections:function getSections(DataTime){return dispatch(Firebase_Actions.actionStarting(Selectors_Actions.FETCH,DataRefs.SECTIONS,{DataTime:DataTime}));},getPens:function getPens(DataTime){return dispatch(Firebase_Actions.actionStarting(Selectors_Actions.FETCH,DataRefs.PENS,{DataTime:DataTime}));},getWeights:function getWeights(DataTime,MemSections){return dispatch(Firebase_Actions.actionStarting(Selectors_Actions.FETCH,DataRefs.WEIGHING,{DataTime:DataTime,MemSections:MemSections}));},getBatch:function getBatch(DataTime){return dispatch(Firebase_Actions.actionStarting(Selectors_Actions.FETCH,DataRefs.BATCHS,{DataTime:DataTime}));},getCurve:function getCurve(DataTime){return dispatch(Firebase_Actions.actionStarting(Selectors_Actions.FETCH,DataRefs.GRAPH,{GraphId:"",DataTime:DataTime}));},setCurrentData:function setCurrentData(penId){return dispatch(Firebase_Actions.setCurrentData({type:DataRefs.PENS,penId:penId}));}};};/* harmony default export */ var UserPanel_Pens = (Object(es["b" /* connect */])(Pens_mapStateToProps,Pens_mapDispatchToProps)(Pens_Pens));
// EXTERNAL MODULE: C:/Users/daniel/Documents/GitHub/AgrisysApp-Web/App/node_modules/react-native-sectioned-multi-select/index.js + 6 modules
var react_native_sectioned_multi_select = __webpack_require__(874);

// EXTERNAL MODULE: C:/Users/daniel/Documents/GitHub/AgrisysApp-Web/App/node_modules/react-native-multi-selectbox/index.js + 3 modules
var react_native_multi_selectbox = __webpack_require__(473);

// EXTERNAL MODULE: C:/Users/daniel/Documents/GitHub/AgrisysApp-Web/App/node_modules/lodash/lodash.js
var lodash = __webpack_require__(81);

// CONCATENATED MODULE: C:/Users/daniel/Documents/GitHub/AgrisysApp-Web/App/Src/Containers/Cloud/UserPanel/Batchs.js
function Batchs_createSuper(Derived){var hasNativeReflectConstruct=Batchs_isNativeReflectConstruct();return function _createSuperInternal(){var Super=getPrototypeOf_default()(Derived),result;if(hasNativeReflectConstruct){var NewTarget=getPrototypeOf_default()(this).constructor;result=Reflect.construct(Super,arguments,NewTarget);}else{result=Super.apply(this,arguments);}return possibleConstructorReturn_default()(this,result);};}function Batchs_isNativeReflectConstruct(){if(typeof Reflect==="undefined"||!Reflect.construct)return false;if(Reflect.construct.sham)return false;if(typeof Proxy==="function")return true;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}));return true;}catch(e){return false;}}var Batchs_window=Dimensions_default.a.get("window");var Batchs_screen=Dimensions_default.a.get("screen");var Batchs_Batchs=function(_Component){inherits_default()(Batchs,_Component);var _super=Batchs_createSuper(Batchs);function Batchs(props){var _this;classCallCheck_default()(this,Batchs);_this=_super.call(this,props);defineProperty_default()(assertThisInitialized_default()(_this),"onChange",function(_ref){var window=_ref.window,screen=_ref.screen;_this.setState({dimensions:{window:window,screen:screen}});});defineProperty_default()(assertThisInitialized_default()(_this),"onMultiChange",function(item){var items=Object(lodash["xorBy"])(_this.state.selectedPens,[item],'id');_this.setState({selectedPens:items});});var _this$setData=_this.setData(props),BatchList=_this$setData.BatchList,freePens=_this$setData.freePens;_this.state={dimensions:{window:Batchs_window,screen:Batchs_screen},BatchList:BatchList,Display:0,BatchName:"",ShowPicker:false,StartD:new Date().getTime(),Curve:"",TargetWeight:"",DevianceMin:"",DevianceMax:"",freePens:freePens,avaiblePens:freePens,selectedPens:[]};return _this;}createClass_default()(Batchs,[{key:"setData",value:function setData(Props){var localDataStore=Props.firebase.localDataStore;var BatchList=localDataStore.batchs;var freePens=[];if(BatchList&&localDataStore.sections){Object.keys(localDataStore.sections).forEach(function(section){if(localDataStore.sections[section].pens){var pens=[];Object.keys(localDataStore.sections[section].pens).filter(function(e){return e!=='__jsogObjectId'&&e!=='update_time';}).forEach(function(pen){var add=true;Object.keys(BatchList).forEach(function(batch){if(!BatchList[batch].state||BatchList[batch].state!=="Closed"){if(BatchList[batch].pens&&BatchList[batch].pens[pen]&&!BatchList[batch].pens[pen].enddate){add=false;}}});if(add){var item={item:pen,id:section+"_"+pen};freePens.push(item);}});}});}return{BatchList:BatchList,freePens:freePens};}},{key:"getData",value:function getData(){var localDataStore=this.props.firebase.localDataStore;if(!localDataStore.sections)localDataStore.sections={};if(!localDataStore.pens)localDataStore.pens={};this.props.getBatch(localDataStore.batchs?localDataStore.batchs.update_time:null);this.props.getSections(localDataStore.sections?localDataStore.sections.update_time:null);this.props.getPens(localDataStore.pens?localDataStore.pens.update_time:null);this.props.getCurve();}},{key:"checkData",value:function checkData(props){}},{key:"componentDidUpdate",value:function componentDidUpdate(prevProps,prevState){if(this.props!==prevProps){this.checkData(this.props);if(this.props.firebase.localDataStore){if(this.props.firebase.localDataStore.batchs&&JSON.stringify(this.state.BatchList)!==JSON.stringify(this.props.firebase.localDataStore.batchs)||this.props.firebase.localDataStore.pens&&JSON.stringify(this.state.pens)!==JSON.stringify(this.props.firebase.localDataStore.pens)){var _this$setData2=this.setData(this.props),BatchList=_this$setData2.BatchList,freePens=_this$setData2.freePens;this.setState({freePens:freePens,BatchList:BatchList});}}}}},{key:"componentDidMount",value:function componentDidMount(){Dimensions_default.a.addEventListener("change",this.onChange);this.props.setViewLoading(false);this.props.setViewError(null);this.checkData(this.props);this.getData();}},{key:"componentWillUnmount",value:function componentWillUnmount(){Dimensions_default.a.removeEventListener("change",this.onChange);}},{key:"render",value:function render(){var _this2=this;var IsLoading=this.props.firebase.firebaseIsLoading;var ErrorMessage=this.props.firebase.viewError;var localDataStore=this.props.firebase.localDataStore;var wide=this.state.dimensions.window.width>900?true:false;var App=Platform_default.a.OS==='ios'||Platform_default.a.OS==='android'||!wide;return react_default.a.createElement(ScrollView_default.a,{style:[Metrics.verticalMargin,{paddingRight:5}]},react_default.a.createElement(View_default.a,{style:[Helpers.mainContainer]},react_default.a.createElement(View_default.a,{style:[Helpers.contentContainer,Helpers.fullSize,Helpers.fill]},ErrorMessage?react_default.a.createElement(Text_default.a,{style:ApplicationStyles.error},ErrorMessage):react_default.a.createElement(react_default.a.Fragment,null),this.state.Display===0?react_default.a.createElement(View_default.a,{style:[Helpers.contentContainer,Helpers.fullSize,{marginHorizontal:0,paddingHorizontal:-20}]},this.state.BatchList?react_default.a.createElement(View_default.a,{style:[Helpers.fill,Helpers.fullWidth,Metrics.smallHorizontalPadding,Metrics.smallVerticalPadding,{maxWidth:800,marginTop:10}]},react_default.a.createElement(FlatList_default.a,{scrollEnabled:true,style:[Helpers.fill],data:Object.keys(this.state.BatchList).filter(function(e){return e!=='__jsogObjectId'&&e!=='update_time';}),renderItem:function renderItem(_ref2){var item=_ref2.item,i=_ref2.i;var name=item;if(_this2.state.BatchList[item]&&_this2.state.BatchList[item].state&&_this2.state.BatchList[item].state==="Closed"){name+="  Closed";}return react_default.a.createElement(Components_Button,{Text:name,onPress:function onPress(){var curveId="default";if(_this2.state.BatchList[item]&&_this2.state.BatchList[item].gcurve){curveId=_this2.state.BatchList[item].gcurve;if(typeof curveId!=='string')curveId=null;}_this2.props.setCurrentData(item,curveId);NavigationService.navigate('DataPlotter');}});},keyExtractor:function keyExtractor(item,index){return index.toString();}})):react_default.a.createElement(react_default.a.Fragment,null),react_default.a.createElement(View_default.a,{style:[Helpers.buttonContainer,Helpers.borderContainer,Helpers.midWidth]},react_default.a.createElement(Components_Button,{Text:"New Batch",onPress:function onPress(){var graph=0;if(localDataStore&&localDataStore.graphs){graph=Object.keys(localDataStore.graphs).filter(function(e){return e!=='__jsogObjectId'&&e!=='update_time';})[0];}_this2.setState({Display:1,DevianceMin:String(2),DevianceMax:String(2),Curve:graph,freePens:_this2.state.freePens,avaiblePens:_this2.state.freePens,selectedPens:[]});}}),this.state.BatchList?react_default.a.createElement(Components_Button,{Text:"Edit or Close Batch",onPress:function onPress(){var batchName=Object.keys(_this2.state.BatchList).filter(function(e){return e!=='__jsogObjectId'&&e!=='update_time'&&(!_this2.state.BatchList[e].state||_this2.state.BatchList[e].state!=="Closed");})[0];var batch=_this2.state.BatchList[batchName];if(batch){var Pens=[];var pens=sortObject(batch.pens);Object.keys(pens).forEach(function(element){if(!batch.pens[element].enddate){if(localDataStore.pens&&localDataStore.pens[element]){var _pen=localDataStore.pens[element];var item={};item.item=element;item.id=_pen.section+"_"+element;Pens.push(item);}}});_this2.setState({Display:2,BatchName:batchName,StartD:batch.time,Curve:batch.gcurve,TargetWeight:String(batch.datas.target),DevianceMin:String(batch.datas.devianceMin),DevianceMax:String(batch.datas.devianceMax),avaiblePens:_this2.state.freePens.concat(Pens),selectedPens:Pens});}}}):react_default.a.createElement(react_default.a.Fragment,null))):react_default.a.createElement(View_default.a,{style:[Helpers.contentContainer,Helpers.fullSize,{marginHorizontal:0,paddingHorizontal:-20}]},this.state.Display===1?react_default.a.createElement(dist["b" /* Input */],{label:"BatchName",containerStyle:[{borderWidth:1,marginTop:10}],style:[ApplicationStyles.input],onChangeText:function onChangeText(text){if(text){if(DataStringCheck(text)){_this2.setState({BatchName:text});}}else{_this2.setState({BatchName:text});}},value:this.state.BatchName}):react_default.a.createElement(View_default.a,{style:[Helpers.borderContainer,Helpers.fullWidth,{height:60,borderRadius:0,alignItems:"center"}]},react_default.a.createElement(Picker_default.a,{mode:"dropdown",selectedValue:this.state.BatchName,style:[Helpers.fullWidth,{height:50,justifyContent:"flex-end"}],onValueChange:function onValueChange(itemValue,itemIndex){if(_this2.state.BatchList&&_this2.state.BatchList[itemValue]){var batch=_this2.state.BatchList[itemValue];var Pens=[];var pens=sortObject(batch.pens);Object.keys(pens).forEach(function(element){if(!batch.pens[element].enddate){if(localDataStore.pens&&localDataStore.pens[element]){var _pen=localDataStore.pens[element];var item={};item.item=element;item.id=_pen.section+"_"+element;Pens.push(item);}}});_this2.setState({BatchName:itemValue,StartD:batch.time,Curve:batch.gcurve,DevianceMin:String(batch.datas.devianceMin),DevianceMax:String(batch.datas.devianceMax),avaiblePens:_this2.state.freePens.concat(Pens),selectedPens:Pens});}}},Object.keys(this.state.BatchList).filter(function(e){return e!=='__jsogObjectId'&&e!=='update_time'&&(!_this2.state.BatchList[e].state||_this2.state.BatchList[e].state!=="Closed");}).map(function(graph,i){return react_default.a.createElement(Picker_default.a.Item,{label:graph,value:graph,key:i});}))),react_default.a.createElement(View_default.a,{style:[Helpers.fullWidth,App?{}:Helpers.row,{zIndex:999}]},react_default.a.createElement(View_default.a,{style:[App?{}:Helpers.halvWidth,{borderWidth:1,marginTop:10,paddingHorizontal:5,paddingTop:0,borderRadius:0,alignItems:"center",zIndex:1}]},react_default.a.createElement(View_default.a,{style:[Helpers.fullWidth,{alignItems:"flex-start",marginBottom:-5}]},react_default.a.createElement(Text_default.a,{style:[ApplicationStyles.text,{marginHorizontal:5,marginTop:2,color:Colors.input,fontSize:15,fontWeight:"bold"}]},"Start date:")),react_default.a.createElement(View_default.a,{style:[Helpers.fullWidth,App?{marginBottom:10}:{},{alignItems:'flex-start'}]},react_default.a.createElement(Components_DateTime_Picker,{Selected:this.state.StartD,onValueChange:function onValueChange(date){_this2.setState({StartD:date.getTime()});}}))),react_default.a.createElement(View_default.a,{style:[App?{}:Helpers.halvWidth,{borderWidth:1,marginTop:10,paddingHorizontal:5,paddingTop:0,borderRadius:0,alignItems:"center",zIndex:1}]},react_default.a.createElement(View_default.a,{style:[Helpers.fullWidth,{alignItems:"flex-start",marginBottom:-5}]},react_default.a.createElement(Text_default.a,{style:[ApplicationStyles.text,{marginHorizontal:5,marginTop:2,color:Colors.input,fontSize:15,fontWeight:"bold"}]},"Growth curve:")),react_default.a.createElement(View_default.a,{style:[Helpers.fullWidth,{alignItems:"center"}]},react_default.a.createElement(Picker_default.a,{mode:"dropdown",selectedValue:this.state.Curve,style:[Helpers.fullWidth,{height:30}],onValueChange:function onValueChange(itemValue,itemIndex){_this2.setState({Curve:itemValue});}},Object.keys(localDataStore.graphs).filter(function(e){return e!=='__jsogObjectId'&&e!=='update_time';}).map(function(graph,i){return react_default.a.createElement(Picker_default.a.Item,{label:graph,value:graph,key:i});}))))),react_default.a.createElement(View_default.a,{style:[Helpers.fullWidth,Helpers.row]},react_default.a.createElement(dist["b" /* Input */],{label:"Target weight",type:"number",step:"0.1",containerStyle:[Helpers.halvWidth,{borderWidth:1,marginTop:10}],style:[ApplicationStyles.input,{marginBottom:-10}],onChangeText:function onChangeText(text){if(!isNaN(text)||text.endsWith('.')&&text.split('.').length<=2){_this2.setState({TargetWeight:text});}},value:this.state.TargetWeight})),react_default.a.createElement(View_default.a,{style:[Helpers.fullWidth,Helpers.row]},react_default.a.createElement(dist["b" /* Input */],{label:"Deviance Min alert procentage",type:"number",step:"0.1",containerStyle:[Helpers.halvWidth,{borderWidth:1,marginTop:10}],style:[ApplicationStyles.input,{marginBottom:-10}],onChangeText:function onChangeText(text){if(!isNaN(text)||text.endsWith('.')&&text.split('.').length<=2){_this2.setState({DevianceMin:text});}},value:this.state.DevianceMin}),react_default.a.createElement(dist["b" /* Input */],{label:"Deviance Max alert procentage",type:"number",step:"0.1",containerStyle:[Helpers.halvWidth,{borderWidth:1,marginTop:10}],style:[ApplicationStyles.input,{marginBottom:-10}],onChangeText:function onChangeText(text){if(!isNaN(text)||text.endsWith('.')&&text.split('.').length<=2){_this2.setState({DevianceMax:text});}},value:this.state.DevianceMax})),react_default.a.createElement(View_default.a,{style:[Helpers.fullWidth,{borderWidth:1,marginTop:10,paddingHorizontal:10,paddingTop:5}]},react_default.a.createElement(react_native_multi_selectbox["a" /* default */],{label:"Pens in Batch..",labelStyle:{color:Colors.input,fontSize:15,fontWeight:"bold"},optionsLabelStyle:{minWidth:100,color:"black",fontSize:12,fontWeight:"bold"},options:this.state.avaiblePens,selectedValues:this.state.selectedPens,onMultiSelect:this.onMultiChange,onTapClose:this.onMultiChange,isMulti:true})),react_default.a.createElement(View_default.a,{style:[Helpers.buttonContainer,Helpers.borderContainer,Helpers.midWidth,{marginTop:10}]},this.state.Display===2?react_default.a.createElement(Components_Button,{Text:"Close Batch",onPress:function onPress(){var Batch=localDataStore.batchs[_this2.state.BatchName];if(Batch){var _GetStats_FromBatch=GetStats_FromBatch(Batch,localDataStore),StartDate=_GetStats_FromBatch.StartDate,EndDate=_GetStats_FromBatch.EndDate,TargetWeight=_GetStats_FromBatch.TargetWeight,PenCount=_GetStats_FromBatch.PenCount,Animals=_GetStats_FromBatch.Animals,AverageWeight=_GetStats_FromBatch.AverageWeight,AverageGrowth=_GetStats_FromBatch.AverageGrowth,isClosed=_GetStats_FromBatch.isClosed,isVirtual=_GetStats_FromBatch.isVirtual;if(Animals){_this2.props.setViewError("The batch still contains active pens, please clear pens before closing the batch");}else{var newBatch={name:_this2.state.BatchName,state:"Closed"};_this2.props.updateBatch(newBatch);_this2.setState({Display:0});_this2.props.getPens(localDataStore.pens.update_time);}}}}):react_default.a.createElement(react_default.a.Fragment,null),react_default.a.createElement(Components_Button,{Text:"Save",onPress:function onPress(){var update=true;if(_this2.state.BatchName!==""){var Name=_this2.state.BatchName;if(!Object.keys(_this2.state.BatchList).includes(Name)){if(_this2.state.Display===2){update=false;_this2.props.setViewError("BatchName error, batch does not exists");}}else{if(_this2.state.Display===1){update=false;_this2.props.setViewError("BatchName error, batch allready exists");}}}else{update=false;_this2.props.setViewError("BatchName error");}if(_this2.state.StartD!==""){}else{update=false;_this2.props.setViewError("Startdate error");}if(_this2.state.TargetWeight!==""){var Dev=_this2.state.TargetWeight;if(Dev.length>3||isNaN(Dev)){update=false;}}else{update=false;_this2.props.setViewError("Tartget weight setting error");}if(_this2.state.DevianceMin!==""){var Dev=_this2.state.DevianceMin;if(Dev.length>3||isNaN(Dev)||Dev>100){update=false;}}else{update=false;_this2.props.setViewError("DevianceMin setting error");}if(_this2.state.DevianceMax!==""){var Dev=_this2.state.DevianceMax;if(Dev.length>3||isNaN(Dev)||Dev>100){update=false;}}else{update=false;_this2.props.setViewError("DevianceMax setting error");}if(_this2.state.Curve===""){update=false;_this2.props.setViewError("Growth curve setting error, please reselect a curve");}var Pens={};if(_this2.state.selectedPens&&_this2.state.selectedPens.length>0){_this2.state.selectedPens.forEach(function(element){Pens[element.item]=true;});}if(Object.keys(Pens).length!==_this2.state.selectedPens.length){update=false;_this2.props.setViewError("An error occurred during Pen assigning (please update the page)");}if(update){_this2.props.setViewLoading(true);var _Date=new Date(_this2.state.StartD);var StartD=new Date(_Date.getFullYear(),_Date.getMonth(),_Date.getDate()).getTime();var newBatch={name:_this2.state.BatchName,gcurve:_this2.state.Curve,pens:Pens,time:StartD,datas:{target:_this2.state.TargetWeight,devianceMin:_this2.state.DevianceMin,devianceMax:_this2.state.DevianceMax}};if(_this2.state.Display===1){_this2.props.setBatch(newBatch);}else if(_this2.state.Display===2){_this2.props.updateBatch(newBatch);}_this2.setState({Display:0});_this2.props.getPens(localDataStore.pens.update_time);_this2.props.setViewError(null);_this2.props.setViewLoading(false);}}})))),(IsLoading||this.props.firebase.viewIsLoading)&&react_default.a.createElement(ActivityIndicator_default.a,{style:Helpers.loadingContainer,size:"large"})));}}]);return Batchs;}(react["Component"]);var Batchs_mapStateToProps=function mapStateToProps(state){var firebase=state.firebase;return{firebase:firebase};};var Batchs_mapDispatchToProps=function mapDispatchToProps(dispatch){return{setViewLoading:function setViewLoading(state){return dispatch(Firebase_Actions.viewIsLoading(state));},setViewError:function setViewError(error){return dispatch(Firebase_Actions.setViewError(error));},getCurve:function getCurve(){return dispatch(Firebase_Actions.actionStarting(Selectors_Actions.FETCH,DataRefs.GRAPH,{}));},getSections:function getSections(DataTime){return dispatch(Firebase_Actions.actionStarting(Selectors_Actions.FETCH,DataRefs.SECTIONS,{DataTime:DataTime}));},getPens:function getPens(DataTime){return dispatch(Firebase_Actions.actionStarting(Selectors_Actions.FETCH,DataRefs.PENS,{DataTime:DataTime}));},getBatch:function getBatch(DataTime){return dispatch(Firebase_Actions.actionStarting(Selectors_Actions.FETCH,DataRefs.BATCHS,{DataTime:DataTime}));},setBatch:function setBatch(batch){return dispatch(Firebase_Actions.actionStarting(Selectors_Actions.CREATE,DataRefs.BATCHS,{Batch:batch}));},updateBatch:function updateBatch(batch){return dispatch(Firebase_Actions.actionStarting(Selectors_Actions.UPDATE,DataRefs.BATCHS,{BatchId:batch.name,Batch:batch}));},setCurrentData:function setCurrentData(batchId,curveId){return dispatch(Firebase_Actions.setCurrentData({type:DataRefs.PENS,batchId:batchId,curveId:curveId}));}};};/* harmony default export */ var UserPanel_Batchs = (Object(es["b" /* connect */])(Batchs_mapStateToProps,Batchs_mapDispatchToProps)(Batchs_Batchs));
// EXTERNAL MODULE: C:/Users/daniel/Documents/GitHub/AgrisysApp-Web/App/node_modules/react-native-chart-kit/dist/index.js + 14 modules
var react_native_chart_kit_dist = __webpack_require__(305);

// CONCATENATED MODULE: C:/Users/daniel/Documents/GitHub/AgrisysApp-Web/App/Src/Containers/Cloud/UserPanel/CurveElement.js
function CurveElement_ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);if(enumerableOnly)symbols=symbols.filter(function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable;});keys.push.apply(keys,symbols);}return keys;}function CurveElement_objectSpread(target){for(var i=1;i<arguments.length;i++){var source=arguments[i]!=null?arguments[i]:{};if(i%2){CurveElement_ownKeys(Object(source),true).forEach(function(key){defineProperty_default()(target,key,source[key]);});}else if(Object.getOwnPropertyDescriptors){Object.defineProperties(target,Object.getOwnPropertyDescriptors(source));}else{CurveElement_ownKeys(Object(source)).forEach(function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key));});}}return target;}function CurveElement_createSuper(Derived){var hasNativeReflectConstruct=CurveElement_isNativeReflectConstruct();return function _createSuperInternal(){var Super=getPrototypeOf_default()(Derived),result;if(hasNativeReflectConstruct){var NewTarget=getPrototypeOf_default()(this).constructor;result=Reflect.construct(Super,arguments,NewTarget);}else{result=Super.apply(this,arguments);}return possibleConstructorReturn_default()(this,result);};}function CurveElement_isNativeReflectConstruct(){if(typeof Reflect==="undefined"||!Reflect.construct)return false;if(Reflect.construct.sham)return false;if(typeof Proxy==="function")return true;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}));return true;}catch(e){return false;}}function getRandomNumber(low,high){var r=Math.floor(Math.random()*(high-low+1))+low;return r;}function getRandomColor(){var red_range=[10,250];var green_range=[10,250];var blue_range=[10,250];var a_range=[0.2,1];var red=getRandomNumber(red_range[0],red_range[1]);var green=getRandomNumber(green_range[0],green_range[1]);var blue=getRandomNumber(blue_range[0],blue_range[1]);var alpha=getRandomNumber(a_range[0]*100,a_range[1]*100)/100;return{r:red,g:green,b:blue,a:alpha,rgbaValue:'rgba('+red+','+green+','+blue+','+alpha+')'};}var CurveElement_window=Dimensions_default.a.get("window");var CurveElement_screen=Dimensions_default.a.get("screen");function WeightsToGraphData(localDataStore,Batch){var TempGraph=arguments.length>2&&arguments[2]!==undefined?arguments[2]:null;var StartDate=arguments.length>3&&arguments[3]!==undefined?arguments[3]:undefined;var _EndDate=arguments.length>4&&arguments[4]!==undefined?arguments[4]:undefined;var Prediction=arguments.length>5&&arguments[5]!==undefined?arguments[5]:false;var DataSets=[];var EndDate=0;var DoPredict=Batch&&(!Batch.state||Batch.state!=="Closed")?true:false;var Legends=[];if(Batch.pens)Legends=Object.keys(Batch.pens).filter(function(e){return e!=='__jsogObjectId';}).reverse();Legends.forEach(function(Pen){var BatchPen=Batch.pens[Pen];var _color=getRandomColor();var DataSet=[];var DataSetX=[];if(localDataStore.weighings[Pen]||Batch.state&&Batch.state==="Closed"){var PenWeighings=localDataStore.weighings[Pen];if(Batch.state&&Batch.state==="Closed"){PenWeighings=Batch.closed.weighings[Pen];}if(PenWeighings&&Object.keys(PenWeighings).length>=1){Object.keys(PenWeighings).sort(function(a,b){return PenWeighings[a].time-PenWeighings[b].time;}).forEach(function(key){var data=PenWeighings[key];if(data.weight){if((!StartDate||data.time>=StartDate)&&(!_EndDate||data.time<=_EndDate)){if((!BatchPen.startdate||data.time>=BatchPen.startdate)&&(!BatchPen.enddate||data.time<=BatchPen.enddate)){var weight=data.weight;if(data.count){weight=weight/data.count;}DataSet.push(weight);var Time=new Date(data.time);DataSetX.push(Time);if(!_EndDate&&data.time>EndDate){EndDate=data.time;}}}}});if(DoPredict&&Prediction){var Predict=Selectors_CurvePredict(localDataStore,Pen);if(Predict&&Predict.lastWeighing){var Time=Predict.FirstSpot?new Date(Predict.FirstSpot):new Date(Predict.lastWeighing.time);Predict.data.forEach(function(element,index){DataSet.push(element);Time=index===0&&Predict.FirstSpot?Time:AccumulateTime(Time,TempGraph.periode);DataSetX.push(Time);});}}}}while(DataSet.length<TempGraph.data.length){DataSet.push(null);DataSetX.push(null);}DataSets.push({Pen:Pen,data:DataSet,dataX:DataSetX,color:function color(){var opacity=arguments.length>0&&arguments[0]!==undefined?arguments[0]:1;return _color.rgbaValue;}});});return{DataSets:DataSets,EndDate:EndDate};}var CurveElement_CurveElement=function(_Component){inherits_default()(CurveElement,_Component);var _super=CurveElement_createSuper(CurveElement);function CurveElement(props){var _this;classCallCheck_default()(this,CurveElement);_this=_super.call(this,props);defineProperty_default()(assertThisInitialized_default()(_this),"onChange",function(_ref){var window=_ref.window,screen=_ref.screen;_this.setState({dimensions:{window:window,screen:screen}});});if(!_this.props.Display){var _this$setData=_this.setData(props),TempGraph=_this$setData.TempGraph,Legends=_this$setData.Legends,DataSets=_this$setData.DataSets,StartDate=_this$setData.StartDate,EndDate=_this$setData.EndDate;_this.state={dimensions:{window:CurveElement_window,screen:CurveElement_screen},TempGraph:TempGraph,Legends:Legends,DataSets:DataSets,StartDate:StartDate,EndDate:EndDate,Labels:[],ActiveIndex:0,ActiveLength:"Batch",ActiveDataSets:DataSets,ActiveStartDate:StartDate,ActiveEndDate:EndDate,ViewPoint:null};}else{_this.state={dimensions:{window:CurveElement_window,screen:CurveElement_screen}};}return _this;}createClass_default()(CurveElement,[{key:"setData",value:function setData(Props){var localDataStore=Props.firebase.localDataStore;var CurrentData=Props.firebase.currentData;var TempGraph={periode:"Days",data:[]};var Legends=[];var DataSets=[];var D=new Date();var StartDate=D.getTime();var EndDate=new Date(D.setDate(D.getDate()+7*8));if(localDataStore&&localDataStore.batchs&&CurrentData&&CurrentData.batchId){var Batch=localDataStore.batchs[CurrentData.batchId];TempGraph=GetCurve_FromBatch(Batch,localDataStore.graphs,CurrentData.curveId);if(TempGraph){if(CurrentData.curveId)TempGraph.name=CurrentData.curveId;else TempGraph.name="Template";StartDate=Batch.time;if(Batch.pens)Legends=Legends.concat(Object.keys(Batch.pens).reverse().filter(function(e){return e!=='__jsogObjectId';}));var DataX=[];var currentTime=new Date(StartDate);for(var i=0;i<TempGraph.data.length;i++){DataX.push(currentTime.getTime());if(i<TempGraph.data.length-1){currentTime=new Date(AccumulateTime(currentTime,TempGraph.periode));}}EndDate=currentTime.getTime();DataX.push(EndDate);DataSets.push({data:TempGraph.data,dataX:DataX,color:function color(){var opacity=arguments.length>0&&arguments[0]!==undefined?arguments[0]:0.1;return"rgba(0, 0, 0, "+opacity+")";}});if(localDataStore.weighings){var TempData=DataSets;var TempEndDate=EndDate;var NextEnd=new Date(AccumulateTime(new Date(TempEndDate),TempGraph.periode)).getTime();var _WeightsToGraphData=WeightsToGraphData(localDataStore,Batch,TempGraph,StartDate,NextEnd,this.props.Predict),DataSets=_WeightsToGraphData.DataSets,EndDate=_WeightsToGraphData.EndDate;DataSets=TempData.concat(DataSets);if(TempEndDate>EndDate){EndDate=TempEndDate;}Legends=Legends.filter(function(e){return e!=='__jsogObjectId'&&(e===TempGraph.name||DataSets.some(function(i){return i.Pen===e;}));});Legends.unshift(TempGraph.name);}}}return{TempGraph:TempGraph,Legends:Legends,DataSets:DataSets,StartDate:StartDate,EndDate:EndDate};}},{key:"setGraphPeriode",value:function setGraphPeriode(){var _this2=this;var ActiveLength=arguments.length>0&&arguments[0]!==undefined?arguments[0]:this.state.ActiveLength;var Labels=[];var StartDate=this.state.StartDate;var EndDate=this.state.EndDate;var ActiveIndex=this.state.ActiveIndex;var TemplatePeriode="Weeks";if(this.state.TempGraph&&this.state.TempGraph.periode)TemplatePeriode=this.state.TempGraph.periode;var CurrentDate=new Date(StartDate);var TempActiveDataSet=this.state.ActiveDataSets;var Today=new Date().getTime();switch(this.state.ActiveLength){case"Days":for(var i=0;i<ActiveIndex||ActiveIndex===-1;i++){var getNewDate=new Date(AccumulateTime(CurrentDate,this.state.ActiveLength));if(ActiveIndex===-1&&getNewDate>Today){ActiveIndex=i-1;break;}CurrentDate=getNewDate;}StartDate=CurrentDate.getTime();Labels.push(CurrentDate.getDate()+"/"+(CurrentDate.getMonth()+1));CurrentDate=new Date(AccumulateTime(CurrentDate,this.state.ActiveLength));Labels.push(CurrentDate.getDate()+"/"+(CurrentDate.getMonth()+1));EndDate=CurrentDate.getTime();CurrentDate=new Date(AccumulateTime(CurrentDate,this.state.ActiveLength));break;case"Weeks":for(var i=0;i<ActiveIndex||ActiveIndex===-1;i++){var getNewDate=new Date(AccumulateTime(CurrentDate,this.state.ActiveLength));if(ActiveIndex===-1&&getNewDate>Today){ActiveIndex=i;break;}CurrentDate=getNewDate;}StartDate=CurrentDate.getTime();for(var i=0;i<=7;i++){Labels.push(CurrentDate.getDate()+"/"+(CurrentDate.getMonth()+1));EndDate=CurrentDate.getTime();CurrentDate=new Date(AccumulateTime(CurrentDate,"Days"));}break;case"Batch":default:while(CurrentDate.getTime()<=EndDate){switch(TemplatePeriode){case"Days":Labels.push(CurrentDate.getDate()+"/"+(CurrentDate.getMonth()+1));break;case"Month":Labels.push(CurrentDate.getDate()+"/"+(CurrentDate.getMonth()+1));break;case"Weeks":default:Labels.push(CurrentDate.getDate()+"/"+(CurrentDate.getMonth()+1));break;}CurrentDate=new Date(AccumulateTime(CurrentDate,TemplatePeriode));}break;}var ActiveDataSets=[];if(!ActiveLength||ActiveLength==="Batch"){ActiveDataSets=this.state.DataSets;}else{var End=AccumulateTime(new Date(EndDate),this.state.ActiveLength).getTime();this.state.DataSets.forEach(function(element){var NewData=CurveElement_objectSpread(CurveElement_objectSpread({},element),{},{data:[],dataX:[]});var first=null;var last=null;if(new Date(element.dataX[0]).getTime()<=EndDate){for(var i=0;i<element.data.length;i++){if(new Date(element.dataX[i]).getTime()>=StartDate){NewData.data.push(element.data[i]);NewData.dataX.push(element.dataX[i]);var time=AccumulateTime(new Date(element.dataX[i]),_this2.state.ActiveLength);if(time.getTime()>End){if(element.dataX.length-1>=i)last=i;break;}}else if(element.dataX[i]!==null){first=i;}}if(first!==null&&NewData.dataX[0]>StartDate&&element.data.length>=first+1){var DataSpot=get_DataSpot([element.dataX[first],element.dataX[first+1]],[element.data[first],element.data[first+1]],StartDate,element.data[first],element.dataX[first]);console.log(DataSpot);NewData.data.unshift(DataSpot.ExValue);NewData.dataX.unshift(StartDate);}if(last!=null){}}ActiveDataSets.push(NewData);});}if(this.state.ActiveIndex>0&&ActiveDataSets[0].data.length===0){var i=this.state.ActiveIndex;i=i-1;this.setState({ActiveIndex:i});}else{this.setState({ActiveLength:ActiveLength,Labels:Labels,ActiveDataSets:ActiveDataSets,ActiveStartDate:StartDate,ActiveEndDate:EndDate,ActiveIndex:ActiveIndex},function(){_this2.forceUpdate();});}}},{key:"getData",value:function getData(){var localDataStore=this.props.firebase.localDataStore;var CurrentData=this.props.firebase.currentData;}},{key:"componentDidUpdate",value:function componentDidUpdate(prevProps,prevState){var _this3=this;if(!this.props.Display&&this.props!==prevProps){if(this.props.firebase.localDataStore){if(JSON.stringify(prevProps.firebase.localDataStore.weighings)!==JSON.stringify(this.props.firebase.localDataStore.weighings)||JSON.stringify(prevProps.firebase.localDataStore.pens)!==JSON.stringify(this.props.firebase.localDataStore.pens)||JSON.stringify(prevProps.firebase.localDataStore.graphs)!==JSON.stringify(this.props.firebase.localDataStore.graphs)||prevProps.Predict!==this.props.Predict||prevProps.weighings!==this.props.weighings){var _this$setData2=this.setData(this.props),TempGraph=_this$setData2.TempGraph,Legends=_this$setData2.Legends,DataSets=_this$setData2.DataSets,StartDate=_this$setData2.StartDate,EndDate=_this$setData2.EndDate;if(JSON.stringify(this.state.TempGraph)!==JSON.stringify(TempGraph)||JSON.stringify(this.state.Legends)!==JSON.stringify(Legends)||JSON.stringify(this.state.DataSets)!==JSON.stringify(DataSets)||JSON.stringify(this.state.StartDate)!==JSON.stringify(StartDate)||JSON.stringify(this.state.EndDate)!==JSON.stringify(EndDate)){this.setState({TempGraph:TempGraph,Legends:Legends,DataSets:DataSets,StartDate:StartDate,EndDate:EndDate},function(){_this3.setGraphPeriode(_this3.state.ActiveLength);});}}}}if(!this.props.Display&&this.state!==prevState){if(this.state.ActiveLength!=prevState.ActiveLength||this.state.ActiveIndex!=prevState.ActiveIndex){this.setGraphPeriode(this.state.ActiveLength);}}}},{key:"componentDidMount",value:function componentDidMount(){this.getData();if(!this.props.height)Dimensions_default.a.addEventListener("change",this.onChange);if(!this.props.Display)this.setGraphPeriode(this.state.ActiveLength);}},{key:"componentWillUnmount",value:function componentWillUnmount(){if(!this.props.height)Dimensions_default.a.removeEventListener("change",this.onChange);}},{key:"render",value:function render(){var _this4=this;var localDataStore=this.props.firebase.localDataStore;var BatchIsOpen=false;if(localDataStore.batchs&&this.props.firebase.currentData&&this.props.firebase.currentData.batchId){BatchIsOpen=localDataStore.batchs&&localDataStore.batchs[this.props.firebase.currentData.batchId]&&(!localDataStore.batchs[this.props.firebase.currentData.batchId].state||localDataStore.batchs[this.props.firebase.currentData.batchId].state!=="Closed")?true:false;}var wide=this.state.dimensions.window.width>1000?true:false;if(this.props.Display)wide=false;var App=Platform_default.a.OS==='ios'||Platform_default.a.OS==='android'||!wide;var height=this.state.dimensions.window.height;if(this.props.Height){height=this.props.Height;}else{height=500;}var width=this.state.dimensions.window.width*2;if(this.props.Width){width=this.props.Width;}else{width=width-Metrics.normal*4;width=width/(wide?2.05:1);}var DataSets=this.props.Display?[{color:function color(){var opacity=arguments.length>0&&arguments[0]!==undefined?arguments[0]:0.1;return"rgba(0, 0, 0, "+opacity+")";},data:[],dataX:[]}]:this.state.ActiveDataSets;var Legends=this.props.Display?[]:this.state.Legends.slice(0,DataSets.length);var StartDate=this.props.Display?1:this.state.ActiveStartDate;var EndDate=this.props.Display?this.props.DataPoints.length:this.state.ActiveEndDate;var Labels=[];if(this.props.Display){this.props.DataPoints.forEach(function(point,index){DataSets[0].data.push(point.value);DataSets[0].dataX.push(index+1);Labels.push(index);});}else Labels=this.state.Labels;return react_default.a.createElement(View_default.a,{style:[Helpers.fullWidth,Helpers.fill]},react_default.a.createElement(View_default.a,{style:[Helpers.fullWidth,Helpers.fill]},react_default.a.createElement(ScrollView_default.a,{horizontal:true,showsHorizontalScrollIndicator:wide||this.props.Display?false:true,style:[Helpers.fullSize,App&&!this.props.Display?{maxWidth:width/2,maxHeight:540}:{}]},this.state.TempGraph||this.props.Display&&Labels&&Labels.length>0&&DataSets&&DataSets.length>0?react_default.a.createElement(react_native_chart_kit_dist["a" /* LineChart */],{style:[{marginLeft:-15,minHeight:height,minWidth:width}],width:width,height:height,data:{labels:Labels,xMinMax:[StartDate,EndDate,Labels.length-1],legend:Legends,datasets:DataSets},onDataPointClick:function onDataPointClick(data){_this4.setState({ViewPoint:data});},withShadow:false,withVerticalLines:true,fromZero:false,segments:15,verticalLabelRotation:0,xLabelsOffset:0,chartConfig:{backgroundColor:Colors.white,backgroundGradientFrom:Colors.white,backgroundGradientTo:Colors.white,decimalPlaces:1,color:function color(){var opacity=arguments.length>0&&arguments[0]!==undefined?arguments[0]:1;return"rgba(0, 0, 0, "+opacity+")";},labelColor:function labelColor(){var opacity=arguments.length>0&&arguments[0]!==undefined?arguments[0]:1;return"rgba(0, 0, 0, "+opacity+")";},style:{borderRadius:16,height:height},propsForDots:{r:"5",strokeWidth:"0.5",stroke:Colors.white}}}):react_default.a.createElement(react_default.a.Fragment,null))),!this.props.Display?react_default.a.createElement(View_default.a,{style:[Helpers.fullWidth,Helpers.mainCenter]},react_default.a.createElement(View_default.a,{style:[Helpers.fill,Helpers.fullWidth,Helpers.rowCenter]},react_default.a.createElement(View_default.a,{style:{paddingRight:2.5}},react_default.a.createElement(dist["a" /* Icon */],{name:"md-arrow-back",type:"ionicon",size:25,color:"black",onPress:function onPress(){if(_this4.state.ActiveIndex!=0){var i=_this4.state.ActiveIndex;i=i-1;_this4.setState({ActiveIndex:i});}}})),react_default.a.createElement(Components_Button,{Text:"Day view",buttonStyle:{width:wide?100:80},onPress:function onPress(){_this4.setState({ActiveIndex:-1,ActiveLength:"Days"});}}),react_default.a.createElement(Components_Button,{Text:"Week view",buttonStyle:{width:wide?100:80,marginLeft:2.5},onPress:function onPress(){_this4.setState({ActiveIndex:-1,ActiveLength:"Weeks"});}}),react_default.a.createElement(Components_Button,{Text:"Full Batch",buttonStyle:{width:wide?100:80,marginLeft:2.5},onPress:function onPress(){_this4.setState({ActiveIndex:0,ActiveLength:"Batch"});}}),react_default.a.createElement(View_default.a,{style:{paddingLeft:2.5}},react_default.a.createElement(dist["a" /* Icon */],{name:"md-arrow-forward",type:"ionicon",size:25,color:"black",onPress:function onPress(){var i=_this4.state.ActiveIndex;i=i+1;_this4.setState({ActiveIndex:i});}}))),BatchIsOpen&&!App?react_default.a.createElement(View_default.a,{style:[Helpers.fullWidth,Helpers.rowCenter]},react_default.a.createElement(CurveElement_CurveEditor,{control:this,props:this.props,state:this.state})):react_default.a.createElement(react_default.a.Fragment,null)):react_default.a.createElement(react_default.a.Fragment,null));}}]);return CurveElement;}(react["Component"]);var CurveElement_CurveEditor=function CurveEditor(props){if(Platform_default.a.OS==='ios'||Platform_default.a.OS==='android'){if(props.state.ViewPoint){var TimeText=props.state.Labels[props.state.ViewPoint.index];if(props.state.ViewPoint.dataset.dataX){var Time=new Date(props.state.ViewPoint.dataset.dataX[props.state.ViewPoint.index]);TimeText=Time.getFullYear()+"."+(Time.getMonth()+1)+"."+Time.getDate();}var Data=props.state.ViewPoint.value;return react_default.a.createElement(View_default.a,{style:[Helpers.buttonContainer,Helpers.fullWidth,Helpers.rowCenter,{maxHeight:100}]},react_default.a.createElement(View_default.a,{style:[Helpers.colCenter,Helpers.borderContainer,{borderRadius:0}]},react_default.a.createElement(Text_default.a,null,TimeText)),react_default.a.createElement(View_default.a,{style:[Helpers.colCenter,Helpers.borderContainer,{borderRadius:0}]},react_default.a.createElement(Text_default.a,null,Data," Kg.")));}else return react_default.a.createElement(react_default.a.Fragment,null);}else{var _React$useState=react_default.a.useState(0),_React$useState2=slicedToArray_default()(_React$useState,2),Point=_React$useState2[0],setPoint=_React$useState2[1];if(!props.state.TempGraph){return react_default.a.createElement(react_default.a.Fragment,null);}else{return react_default.a.createElement(View_default.a,{style:[Helpers.buttonContainer,Helpers.fullWidth,Helpers.rowCenter,{maxHeight:100,marginTop:10}]},react_default.a.createElement(View_default.a,{style:{padding:6,paddingRight:15}},react_default.a.createElement(dist["a" /* Icon */],{name:"md-arrow-back",type:"ionicon",size:25,color:"black",onPress:function onPress(){var index=Point;index=index-1;if(index<0){index=props.state.TempGraph.data.length-1;}setPoint(index);}})),react_default.a.createElement(dist["b" /* Input */],{type:"number",step:"0.1",label:props.state.Labels[Point],containerStyle:[{width:"auto",borderWidth:1}],style:[ApplicationStyles.input,Helpers.borderContainer,{borderRadius:0}],onChange:function onChange(evt){var text=evt.target.value;if(!isNaN(text)||text.endsWith('.')&&text.split('.').length<=2){var NewData=props.state.TempGraph.data;NewData[Point]=text;props.control.setState({state:props.state,TempGraph:CurveElement_objectSpread(CurveElement_objectSpread({},props.state.TempGraph),{},{data:NewData})});props.control.setGraphPeriode(props.state.ActiveLength);}},value:props.state.TempGraph.data[Point]}),react_default.a.createElement(View_default.a,{style:{padding:6,paddingRight:15}},react_default.a.createElement(dist["a" /* Icon */],{name:"md-arrow-forward",type:"ionicon",size:25,color:"black",onPress:function onPress(){var index=Point;index=index+1;if(index>props.state.TempGraph.data.length-1){index=0;}setPoint(index);}})),react_default.a.createElement(dist["b" /* Input */],{label:"Curve Name",containerStyle:[{width:"auto",borderWidth:1}],style:[ApplicationStyles.input,Helpers.borderContainer,{borderRadius:0}],onChangeText:function onChangeText(text){},value:props.state.TempGraph.name}));}}};var CurveElement_mapStateToProps=function mapStateToProps(state){var firebase=state.firebase;return{firebase:firebase};};var CurveElement_mapDispatchToProps=function mapDispatchToProps(dispatch){return{getPen:function getPen(penId,DataTime){return dispatch(Firebase_Actions.actionStarting(Selectors_Actions.FETCH,DataRefs.PENS,{PenId:penId,DataTime:DataTime}));},getWeights:function getWeights(penId,DataTime,MemSections){return dispatch(Firebase_Actions.actionStarting(Selectors_Actions.FETCH,DataRefs.WEIGHING,{PenId:penId,DataTime:DataTime,MemSections:MemSections}));},getCurve:function getCurve(curveid){return dispatch(Firebase_Actions.actionStarting(Selectors_Actions.FETCH,DataRefs.GRAPH,{GraphId:curveid}));},setCurve:function setCurve(curve){return dispatch(Firebase_Actions.actionStarting(Selectors_Actions.CREATE,DataRefs.GRAPH,{Graph:curve}));}};};/* harmony default export */ var UserPanel_CurveElement = (Object(es["b" /* connect */])(CurveElement_mapStateToProps,CurveElement_mapDispatchToProps)(CurveElement_CurveElement));
// CONCATENATED MODULE: C:/Users/daniel/Documents/GitHub/AgrisysApp-Web/App/Src/Containers/Cloud/UserPanel/GrowthCurves.js
function GrowthCurves_createSuper(Derived){var hasNativeReflectConstruct=GrowthCurves_isNativeReflectConstruct();return function _createSuperInternal(){var Super=getPrototypeOf_default()(Derived),result;if(hasNativeReflectConstruct){var NewTarget=getPrototypeOf_default()(this).constructor;result=Reflect.construct(Super,arguments,NewTarget);}else{result=Super.apply(this,arguments);}return possibleConstructorReturn_default()(this,result);};}function GrowthCurves_isNativeReflectConstruct(){if(typeof Reflect==="undefined"||!Reflect.construct)return false;if(Reflect.construct.sham)return false;if(typeof Proxy==="function")return true;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}));return true;}catch(e){return false;}}var GrowthCurves_GrowthCurve=function(_Component){inherits_default()(GrowthCurve,_Component);var _super=GrowthCurves_createSuper(GrowthCurve);function GrowthCurve(props){var _this;classCallCheck_default()(this,GrowthCurve);_this=_super.call(this,props);var _this$setData=_this.setData(props),CurveList=_this$setData.CurveList;var D=new Date();_this.state={CurveList:CurveList,Display:0,CurveName:"",DataPoints:[],Periode:"Days",Selected:{dataindex:null,index:null,error:false}};return _this;}createClass_default()(GrowthCurve,[{key:"setData",value:function setData(Props){var localDataStore=Props.firebase.localDataStore;var CurveList=localDataStore.graphs;return{CurveList:CurveList};}},{key:"getData",value:function getData(){this.props.getCurve();}},{key:"checkData",value:function checkData(props){}},{key:"componentDidMount",value:function componentDidMount(){this.props.setViewLoading(false);this.props.setViewError(null);this.checkData(this.props);this.getData();}},{key:"componentDidUpdate",value:function componentDidUpdate(prevProps,prevState){if(this.props!==prevProps){this.checkData(this.props);if(this.props.firebase.localDataStore){if(this.props.firebase.localDataStore.graphs&&JSON.stringify(this.state.CurveList)!==JSON.stringify(this.props.firebase.localDataStore.graphs)){var _this$setData2=this.setData(this.props),CurveList=_this$setData2.CurveList;this.setState({CurveList:CurveList});}}}}},{key:"render",value:function render(){var _this2=this;var IsLoading=this.props.firebase.firebaseIsLoading;var ErrorMessage=this.props.firebase.viewError;var AverageGrowth=0;for(var i=0;i<this.state.DataPoints.length;i++){if(!this.state.DataPoints[i]||!this.state.DataPoints[i].hasOwnProperty("value"))continue;var value=this.state.DataPoints[i].value;if(value===""||value===null)value=0;value=parseFloat(value);for(var i2=i-1;i2>=0;i2--){if(this.state.DataPoints[i2]&&this.state.DataPoints[i2].hasOwnProperty("value")){var Growth=value-this.state.DataPoints[i2].value;AverageGrowth=(AverageGrowth+Growth)/2;break;}}}AverageGrowth=AverageGrowth.toFixed(3);var App=Platform_default.a.OS==="android"||Platform_default.a.OS==="ios"?true:false;return react_default.a.createElement(ScrollView_default.a,{style:[Helpers.fullSize,Helpers.fill],nestedScrollEnabled:true},react_default.a.createElement(View_default.a,{style:[Helpers.mainContainer]},react_default.a.createElement(View_default.a,{style:[Helpers.contentContainer,Helpers.fullSize,Helpers.fillColMain]},ErrorMessage?react_default.a.createElement(Text_default.a,{style:ApplicationStyles.error},ErrorMessage):react_default.a.createElement(react_default.a.Fragment,null),this.state.Display===0?react_default.a.createElement(View_default.a,{style:[Helpers.contentContainer,Helpers.fullSize,{marginHorizontal:0,paddingHorizontal:-20}]},this.state.CurveList?react_default.a.createElement(View_default.a,{style:[Helpers.fill,Helpers.fullWidth,Metrics.smallHorizontalPadding,Metrics.smallVerticalPadding,{maxWidth:800,marginTop:10}]},react_default.a.createElement(FlatList_default.a,{nestedScrollEnabled:true,data:Object.keys(this.state.CurveList).filter(function(e){return e!=='__jsogObjectId'&&e!=='update_time';}),renderItem:function renderItem(_ref){var item=_ref.item;return react_default.a.createElement(Components_Button,{Text:item,onPress:function onPress(){var CurveData=_this2.state.CurveList[item];var DataPoints=[];if(!CurveData||!CurveData.hasOwnProperty("data")){_this2.props.viewError("DataFetch error, please try to refresh");}else{var _index=0;Object.keys(CurveData.data).filter(function(e){return e!=='__jsogObjectId';}).map(function(index){DataPoints[index]={value:CurveData.data[index]};for(var i=index-1;i>_index;i--){DataPoints[i]={value:null};}_index=index;});}_this2.setState({Display:2,CurveName:item,DataPoints:DataPoints,Periode:CurveData.periode});}});},keyExtractor:function keyExtractor(item,index){return index.toString();}})):react_default.a.createElement(react_default.a.Fragment,null),react_default.a.createElement(View_default.a,{style:[Helpers.buttonContainer,Helpers.borderContainer,Helpers.midWidth]},react_default.a.createElement(Components_Button,{Text:"New Curve",onPress:function onPress(){_this2.setState({Display:1,DataPoints:[{value:"0"},{value:"0"}]});}}))):react_default.a.createElement(View_default.a,{style:[Helpers.contentContainer,Helpers.fullSize,{marginHorizontal:0,paddingHorizontal:-20}]},this.state.Display===1?react_default.a.createElement(dist["b" /* Input */],{label:"CurveName",containerStyle:[{borderWidth:1,marginTop:10}],style:[ApplicationStyles.input],onChangeText:function onChangeText(text){if(text){if(DataStringCheck(text)){_this2.setState({CurveName:text});}}else{_this2.setState({CurveName:text});}},value:this.state.CurveName}):react_default.a.createElement(Components_TitleElement,{Text:this.state.CurveName}),react_default.a.createElement(View_default.a,{style:[Helpers.fill,Helpers.fullWidth]},react_default.a.createElement(Components_ContentProp,{texts:["Periode: "+this.state.Periode],datas:["Average Growth: "+AverageGrowth]}),react_default.a.createElement(View_default.a,{style:[Helpers.borderContainer,Helpers.fillCenter,Helpers.fullWidth,{alignSelf:'center'}]},react_default.a.createElement(UserPanel_CurveElement,{Display:true,DataPoints:this.state.DataPoints,Height:200,Width:455})),react_default.a.createElement(View_default.a,null,react_default.a.createElement(FlatList_default.a,{nestedScrollEnabled:true,data:this.state.DataPoints,style:[App?GrowthCurves_styles.AppStyle:GrowthCurves_styles.WebStyle],renderItem:function renderItem(_ref2){var item=_ref2.item,index=_ref2.index;if(!item||item.value===null||item.value===undefined)return null;var Selected=index===_this2.state.Selected.dataindex;return react_default.a.createElement(View_default.a,{style:[Helpers.fullWidth,Helpers.row],onFocus:function onFocus(){_this2.setState({Selected:{dataindex:index,index:index,error:false}});},onBlur:function onBlur(){_this2.setState({Selected:{dataindex:null,index:null,error:false}});}},react_default.a.createElement(dist["b" /* Input */],{label:"Day:",type:"number",step:"0.1",containerStyle:[{width:120,borderWidth:1,marginTop:10,marginRight:10}],style:[ApplicationStyles.input,{width:100}],errorMessage:Selected&&_this2.state.Selected.error?"Value error":"",editable:index===0?false:true,onChangeText:function onChangeText(text){if(!isNaN(text)){var _Selected=_this2.state.Selected;_Selected.index=text;_Selected.error=false;if(_this2.state.DataPoints[text]&&_this2.state.DataPoints[text].hasOwnProperty("value")&&_this2.state.DataPoints[text].value){_Selected.error=true;}_this2.setState({Selected:_Selected});}},onBlur:function onBlur(){if(!_this2.state.Selected.error&&_this2.state.Selected.dataindex!==_this2.state.Selected.index){var DataPoints=toConsumableArray_default()(_this2.state.DataPoints);DataPoints[_this2.state.Selected.index]={value:item.value.toString()};DataPoints[_this2.state.Selected.dataindex].value=null;var FirstData=false;for(var i=DataPoints.length-1;i>1;i--){if(!DataPoints[i]||!DataPoints[i].hasOwnProperty("value")||!DataPoints[i].value){if(FirstData){DataPoints[i]={value:null};}else DataPoints.pop();}else{FirstData=true;}}_this2.setState({DataPoints:DataPoints});}},value:""+(Selected?_this2.state.Selected.index:index)}),react_default.a.createElement(dist["b" /* Input */],{label:"Weight:",type:"number",step:"0.1",containerStyle:[Helpers.fill,{borderWidth:1,marginTop:10}],style:[ApplicationStyles.input],onChangeText:function onChangeText(text){if(!isNaN(text)||text.endsWith('.')&&text.split('.').length<=2){var DataPoints=toConsumableArray_default()(_this2.state.DataPoints);DataPoints[index].value=text;_this2.setState({DataPoints:DataPoints});}},onBlur:function onBlur(e){var text=e.nativeEvent.text;if(text===undefined||text===null||text===""){var DataPoints=toConsumableArray_default()(_this2.state.DataPoints);DataPoints[index].value="0";_this2.setState({DataPoints:DataPoints});}},value:""+item.value}));},keyExtractor:function keyExtractor(item,index){return index.toString();},numColumns:1})),react_default.a.createElement(View_default.a,{style:{height:20}}),react_default.a.createElement(Components_Button,{Text:"New Point",onPress:function onPress(){var DataPoints=toConsumableArray_default()(_this2.state.DataPoints);var value=_this2.state.DataPoints&&_this2.state.DataPoints.length>=1?_this2.state.DataPoints[_this2.state.DataPoints.length-1].value:"0";DataPoints.push({value:value});_this2.setState({DataPoints:DataPoints});}})),react_default.a.createElement(View_default.a,{style:[Helpers.buttonContainer,Helpers.borderContainer,Helpers.midWidth,{marginTop:10}]},react_default.a.createElement(Components_Button,{Text:"Save",onPress:function onPress(){var update=true;if(_this2.state.CurveName!==""){var Name=_this2.state.CurveName;if(!Object.keys(_this2.state.CurveList).includes(Name)){if(_this2.state.Display===2){_this2.props.setViewError("Cannot update non-existing Curve. (Please refresh)");update=false;}}else{if(_this2.state.Display===1){_this2.props.setViewError("Cannot create allready existing Curve.");update=false;}}}else{_this2.props.setViewError("Curve template need a name.");update=false;}var lastDataIndex=0;_this2.state.DataPoints.forEach(function(element,index){if(update&&element.value!==null&&element.value!==undefined){if(index>0&&parseInt(element.value)<=parseInt(_this2.state.DataPoints[lastDataIndex].value)){var Eindex=lastDataIndex;if(element.value===_this2.state.DataPoints[lastDataIndex].value)Eindex=index;_this2.props.setViewError("Curve template needs to be incremental: error at day: "+Eindex);update=false;}else{lastDataIndex=index;}}});if(update){_this2.props.setViewError(null);_this2.props.setViewLoading(true);var newCurve={name:_this2.state.CurveName,periode:_this2.state.Periode};var Data=[];var index=0;_this2.state.DataPoints.forEach(function(element){if(element.value)Data[index]=parseFloat(element.value);index++;});newCurve.data=Data;_this2.props.updateCurve(newCurve);_this2.setState({Display:0});}}})))),(IsLoading||this.props.firebase.viewIsLoading)&&react_default.a.createElement(ActivityIndicator_default.a,{style:Helpers.loadingContainer,size:"large"})));}}]);return GrowthCurve;}(react["Component"]);var GrowthCurves_styles=StyleSheet_default.a.create({AppStyle:{},WebStyle:{height:400}});var GrowthCurves_mapStateToProps=function mapStateToProps(state){var firebase=state.firebase;return{firebase:firebase};};var GrowthCurves_mapDispatchToProps=function mapDispatchToProps(dispatch){return{setViewLoading:function setViewLoading(state){return dispatch(Firebase_Actions.viewIsLoading(state));},setViewError:function setViewError(error){return dispatch(Firebase_Actions.setViewError(error));},getCurve:function getCurve(){return dispatch(Firebase_Actions.actionStarting(Selectors_Actions.FETCH,DataRefs.GRAPH,{GraphId:""}));},updateCurve:function updateCurve(curve){return dispatch(Firebase_Actions.actionStarting(Selectors_Actions.UPDATE,DataRefs.GRAPH,{Graph:curve}));}};};/* harmony default export */ var GrowthCurves = (Object(es["b" /* connect */])(GrowthCurves_mapStateToProps,GrowthCurves_mapDispatchToProps)(GrowthCurves_GrowthCurve));
// EXTERNAL MODULE: C:/Users/daniel/Documents/GitHub/AgrisysApp-Web/App/node_modules/victory-create-container/es/create-container.js + 11 modules
var create_container = __webpack_require__(912);

// EXTERNAL MODULE: C:/Users/daniel/Documents/GitHub/AgrisysApp-Web/App/node_modules/victory-chart/es/victory-chart.js + 6 modules
var victory_chart = __webpack_require__(914);

// EXTERNAL MODULE: C:/Users/daniel/Documents/GitHub/AgrisysApp-Web/App/node_modules/victory-tooltip/es/victory-tooltip.js + 1 modules
var victory_tooltip = __webpack_require__(923);

// EXTERNAL MODULE: C:/Users/daniel/Documents/GitHub/AgrisysApp-Web/App/node_modules/victory-core/es/victory-theme/victory-theme.js + 2 modules
var victory_theme = __webpack_require__(917);

// EXTERNAL MODULE: C:/Users/daniel/Documents/GitHub/AgrisysApp-Web/App/node_modules/victory-axis/es/victory-axis.js + 1 modules
var victory_axis = __webpack_require__(925);

// EXTERNAL MODULE: C:/Users/daniel/Documents/GitHub/AgrisysApp-Web/App/node_modules/victory-bar/es/victory-bar.js + 4 modules
var victory_bar = __webpack_require__(915);

// EXTERNAL MODULE: C:/Users/daniel/Documents/GitHub/AgrisysApp-Web/App/node_modules/victory-line/es/victory-line.js + 2 modules
var victory_line = __webpack_require__(919);

// EXTERNAL MODULE: C:/Users/daniel/Documents/GitHub/AgrisysApp-Web/App/node_modules/victory-scatter/es/victory-scatter.js + 1 modules
var victory_scatter = __webpack_require__(926);

// EXTERNAL MODULE: C:/Users/daniel/Documents/GitHub/AgrisysApp-Web/App/node_modules/victory-legend/es/victory-legend.js + 2 modules
var victory_legend = __webpack_require__(920);

// CONCATENATED MODULE: C:/Users/daniel/Documents/GitHub/AgrisysApp-Web/App/Src/Containers/Cloud/UserPanel/AutoPig.js
function AutoPig_ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);if(enumerableOnly)symbols=symbols.filter(function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable;});keys.push.apply(keys,symbols);}return keys;}function AutoPig_objectSpread(target){for(var i=1;i<arguments.length;i++){var source=arguments[i]!=null?arguments[i]:{};if(i%2){AutoPig_ownKeys(Object(source),true).forEach(function(key){defineProperty_default()(target,key,source[key]);});}else if(Object.getOwnPropertyDescriptors){Object.defineProperties(target,Object.getOwnPropertyDescriptors(source));}else{AutoPig_ownKeys(Object(source)).forEach(function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key));});}}return target;}function AutoPig_createSuper(Derived){var hasNativeReflectConstruct=AutoPig_isNativeReflectConstruct();return function _createSuperInternal(){var Super=getPrototypeOf_default()(Derived),result;if(hasNativeReflectConstruct){var NewTarget=getPrototypeOf_default()(this).constructor;result=Reflect.construct(Super,arguments,NewTarget);}else{result=Super.apply(this,arguments);}return possibleConstructorReturn_default()(this,result);};}function AutoPig_isNativeReflectConstruct(){if(typeof Reflect==="undefined"||!Reflect.construct)return false;if(Reflect.construct.sham)return false;if(typeof Proxy==="function")return true;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}));return true;}catch(e){return false;}}var VictoryZoomVoronoiContainer=Object(create_container["a" /* createContainer */])("zoom","voronoi");function AutoPig_getRandomNumber(low,high){var r=Math.floor(Math.random()*(high-low+1))+low;return r;}function AutoPig_getRandomColor(){var red_range=[15,230];var green_range=[15,230];var blue_range=[15,230];var a_range=[0.3,1];var red=AutoPig_getRandomNumber(red_range[0],red_range[1]);var green=AutoPig_getRandomNumber(green_range[0],green_range[1]);var blue=AutoPig_getRandomNumber(blue_range[0],blue_range[1]);var alpha=AutoPig_getRandomNumber(a_range[0]*100,a_range[1]*100)/100;return{r:red,g:green,b:blue,a:alpha,rgbaValue:'rgba('+red+','+green+','+blue+','+alpha+')'};}var AutoPig_AutoPig=function(_Component){inherits_default()(AutoPig,_Component);var _super=AutoPig_createSuper(AutoPig);function AutoPig(props){var _this;classCallCheck_default()(this,AutoPig);_this=_super.call(this,props);var _this$setData=_this.setData(props),FarmData=_this$setData.FarmData,ValveData=_this$setData.ValveData,ScaleData=_this$setData.ScaleData,categories=_this$setData.categories,series=_this$setData.series,Domain=_this$setData.Domain;_this.state={FarmData:FarmData,ValveData:ValveData,ScaleData:ScaleData,Limit:300,SysId:2,STime:undefined,ETime:undefined,LastId:undefined,categories:categories,series:series,entireDomain:Domain,zoomedDomain:Domain};return _this;}createClass_default()(AutoPig,[{key:"setData",value:function setData(Props){var localDataStore=Props.firebase.localDataStore;var FirebaseUser=this.props.firebase.firebaseUser;var Site=null,refToken=null,accessToken=null;var FarmData=null,ValveData={},ScaleData={};var categories=[],series=[];if(FirebaseUser&&FirebaseUser.farms&&localDataStore&&localDataStore.farms){var FarmsData=localDataStore.farms;if(FarmsData&&FarmsData[Object.keys(FirebaseUser.farms)[0]]){FarmData=FarmsData[Object.keys(FirebaseUser.farms)[0]];}}if(localDataStore&&localDataStore.consys){if(localDataStore.consys.feedData){ValveData=localDataStore.consys.feedData;var DataSet=[];Object.keys(ValveData).filter(function(e){return e!=='__jsogObjectId';}).forEach(function(element){var data=ValveData[element];var _DataSet=DataSet.find(function(x){return x.name===data.valve;});if(_DataSet){_DataSet.data.push({x:data.timestamp,y:data.amount,silono:data.silono,unit:data.unit});}else{DataSet.push({name:data.valve,data:[{x:data.timestamp,y:data.amount,silono:data.silono,unit:data.unit}]});}});DataSet.forEach(function(element){var color=AutoPig_getRandomColor().rgbaValue;series.push({type:"Bar",name:element.name,color:color,data:element.data});categories.push({name:element.name+'',symbol:{fill:color}});});}if(localDataStore.consys.scaleData){ScaleData=localDataStore.consys.scaleData;var DataSet2=[];Object.keys(ScaleData).filter(function(e){return e!=='__jsogObjectId';}).forEach(function(element){var data=ScaleData[element];DataSet2.push({x:data.timestamp,y:data.amount});});if(DataSet2.length>0){series.push({type:'Line',name:'AutoScale',color:AutoPig_getRandomColor().rgbaValue,data:DataSet2});}}}var Domain=this.getEntireDomain(series);return{FarmData:FarmData,ValveData:ValveData,ScaleData:ScaleData,categories:categories,series:series,Domain:Domain};}},{key:"getData",value:function getData(){var localDataStore=this.props.firebase.localDataStore;var FirebaseUser=this.props.firebase.firebaseUser;this.props.getFarm();}},{key:"checkData",value:function checkData(props){var localDataStore=this.props.firebase.localDataStore;var FirebaseUser=this.props.firebase.firebaseUser;if(FirebaseUser&&FirebaseUser.farms&&localDataStore&&localDataStore.farms){var FarmsData=localDataStore.farms;if(FarmsData&&FarmsData[Object.keys(FirebaseUser.farms)[0]]){var FarmData=FarmsData[Object.keys(FirebaseUser.farms)[0]];if(!FarmData.site||!FarmData.refToken){NavigationService.nacigationPop();}}}}},{key:"componentDidUpdate",value:function componentDidUpdate(prevProps,prevState){if(this.props!==prevProps){this.checkData(this.props);if(this.props.firebase.localDataStore&&prevProps.firebase.localDataStore){var localDataStore=this.props.firebase.localDataStore;var firebaseUser=this.props.firebase.firebaseUser;if(localDataStore.farms&&firebaseUser.farms&&localDataStore.farms[Object.keys(firebaseUser.farms)[0]]){var Farm=localDataStore.farms[Object.keys(firebaseUser.farms)[0]];if(this.state.FarmData.site!==Farm.site||this.state.FarmData.refToken!==Farm.refToken||this.state.FarmData.token!==Farm.token||localDataStore.consys&&localDataStore.consys.scaleData&&JSON.stringify(this.state.ScaleData)!==JSON.stringify(localDataStore.consys.scaleData)||localDataStore.consys&&localDataStore.consys.feedData&&JSON.stringify(this.state.ValveData)!==JSON.stringify(localDataStore.consys.feedData)){var _this$setData2=this.setData(this.props),FarmData=_this$setData2.FarmData,ValveData=_this$setData2.ValveData,ScaleData=_this$setData2.ScaleData,categories=_this$setData2.categories,series=_this$setData2.series,Domain=_this$setData2.Domain;console.log(ValveData,ScaleData);this.setState({FarmData:FarmData,ValveData:ValveData,ScaleData:ScaleData,categories:categories,series:series,entireDomain:Domain,zoomedDomain:Domain});}}}}}},{key:"componentDidMount",value:function componentDidMount(){this.props.setViewLoading(false);this.props.setViewError(null);this.checkData(this.props);this.getData();}},{key:"getEntireDomain",value:function getEntireDomain(series){var MinMax={y:[0,1],x:[0,1]};series.forEach(function(element){var data=element.data;var min=_.minBy(data,function(d){return d.y;}).y;var max=_.maxBy(data,function(d){return d.y;}).y;if(min<MinMax.y[0]||MinMax.y[0]===0)MinMax.y[0]=min;if(max>MinMax.y[1])MinMax.y[1]=max;min=_.minBy(data,function(d){return d.x;}).x;max=_.maxBy(data,function(d){return d.x;}).x;if(min<MinMax.x[0]||MinMax.x[0]===0)MinMax.x[0]=min;if(max>MinMax.x[1])MinMax.x[1]=max;});return MinMax;}},{key:"getZoomDomain",value:function getZoomDomain(){var zoomedXDomain=this.state.zoomedDomain.x;var Serie=this.state.series;var maxPoints=150;var filteredSeries=[];Serie.forEach(function(element){var filtered=[];if(element.type==="Line"){var last=null;element.data.forEach(function(data){if(data.x>=zoomedXDomain[0]){if(data.x<=zoomedXDomain[1]){if(filtered.length===0&&last!==null)filtered.push(last);filtered.push(data);}else if(last.x<=zoomedXDomain[1])filtered.push(data);}last=data;});}else{filtered=element.data.filter(function(d){return d.x>=zoomedXDomain[0]&&d.x<=zoomedXDomain[1];});}if(filtered.length>0)filteredSeries.push(AutoPig_objectSpread(AutoPig_objectSpread({},element),{},{data:filtered}));});return filteredSeries;}},{key:"onDomainChange",value:function onDomainChange(domain){this.setState({zoomedDomain:domain});}},{key:"render",value:function render(){var _this2=this;var IsLoading=this.props.firebase.firebaseIsLoading;var ErrorMessage=this.props.firebase.viewError;var localDataStore=this.props.firebase.localDataStore;var Token=this.state.FarmData.token?this.state.FarmData.token:null;var test="";var renderData=this.getZoomDomain();var Legends=[this.state.zoomedDomain.x[0]];while(Legends[Legends.length-1]<this.state.zoomedDomain.x[1]){Legends.push(Legends[Legends.length-1]+3600000);}return react["createElement"](ScrollView_default.a,{style:[Helpers.fullSize,Helpers.fill]},react["createElement"](View_default.a,{style:[Helpers.mainContainer]},react["createElement"](View_default.a,{style:[Helpers.contentContainer,Helpers.fullSize,Helpers.fill]},ErrorMessage?react["createElement"](Text_default.a,{style:ApplicationStyles.error},ErrorMessage):react["createElement"](react["Fragment"],null),react["createElement"](Components_TitleElement,{Text:"AutoPigs"}),react["createElement"](View_default.a,null,react["createElement"](View_default.a,{style:[Helpers.rowCenter]},react["createElement"](dist["b" /* Input */],{label:"SysId",containerStyle:[{maxWidth:60}],style:[ApplicationStyles.input,{maxWidth:50}],onChangeText:function onChangeText(text){if(!isNaN(text)){_this2.setState({SysId:text});}},value:this.state.SysId}),react["createElement"](dist["b" /* Input */],{label:"Data Limit",containerStyle:[{maxWidth:100}],style:[ApplicationStyles.input,{maxWidth:90}],onChangeText:function onChangeText(text){if(!isNaN(text)||text===""){if(text==="")text=undefined;_this2.setState({Limit:text});}},value:this.state.Limit}),react["createElement"](dist["b" /* Input */],{label:"LastId (Newer than)",containerStyle:[{maxWidth:170}],style:[ApplicationStyles.input,{maxWidth:160}],onChangeText:function onChangeText(text){if(text==="")text=undefined;if(text){_this2.setState({LastId:text});}else{_this2.setState({LastId:text});}},value:this.state.LastId})),react["createElement"](View_default.a,{style:[Helpers.rowCenter]},react["createElement"](dist["b" /* Input */],{label:"Start: Epoch-sec (newest)",containerStyle:[Helpers.halvWidth],style:[ApplicationStyles.input],onChangeText:function onChangeText(text){if(text===""){_this2.setState({STime:undefined});}else if(!isNaN(text)){_this2.setState({STime:text});}},value:this.state.STime}),react["createElement"](dist["b" /* Input */],{label:"End: Epoch-sec (oldest)",containerStyle:[Helpers.halvWidth],style:[ApplicationStyles.input],onChangeText:function onChangeText(text){if(text===""){_this2.setState({ETime:undefined});}else if(!isNaN(text)){_this2.setState({ETime:text});}},value:this.state.ETime})),react["createElement"](View_default.a,{style:[Helpers.rowCenter]},react["createElement"](Components_Button,{Text:"Fetch Scale_Data",onPress:function onPress(){_this2.props.getAutoPig(_this2.state.Limit,_this2.state.SysId,_this2.state.STime,_this2.state.ETime,null,_this2.state.LastId);}}),react["createElement"](View_default.a,{style:{width:20}}),react["createElement"](Components_Button,{Text:"Fetch Valve_Data",onPress:function onPress(){_this2.props.getValveFeed(_this2.state.Limit,_this2.state.SysId,_this2.state.STime,_this2.state.ETime,null,_this2.state.LastId);}}))),react["createElement"](SafeAreaView_default.a,{style:[Helpers.borderContainer,Helpers.fullSize,{maxWidth:900,maxHeight:620+(this.state.categories.length?31*Math.ceil(this.state.categories.length/13):0),marginBottom:20}]},react["createElement"](victory_chart["a" /* default */],{scale:{x:"time"},containerComponent:react["createElement"](VictoryZoomVoronoiContainer,{voronoiDimension:"x",zoomDimension:"x",mouseFollowTooltips:true,onZoomDomainChange:this.onDomainChange.bind(this),labels:function labels(_ref){var datum=_ref.datum;if(datum.childName==="none")return;var DateTime=new Date(datum.x);var format=DateTime.getDate()+"/"+(DateTime.getMonth()+1)+"/"+DateTime.getFullYear()+" "+ +("0"+DateTime.getHours()).slice(-2)+":"+("0"+DateTime.getMinutes()).slice(-2);if(datum.silono||datum.unit){var add="\n";if(datum.silono)add+='Silo: '+datum.silono+' ';if(datum.unit)add+='Unit: '+datum.unit;return datum.childName+' y: '+datum.y+add+"\n"+format;}else return datum.childName+' y: '+datum.y+"\n"+format;},labelComponent:react["createElement"](victory_tooltip["a" /* default */],{cornerRadius:0,flyoutStyle:{fill:"white"}})}),width:900,height:600,padding:50,domain:this.state.entireDomain,theme:victory_theme["a" /* default */].material},react["createElement"](victory_axis["a" /* default */],{crossAxis:false,scale:{x:"time"},tickCount:8,minDomain:{x:1,y:0},tickFormat:function tickFormat(t){var DateTime=new Date(t);var format=DateTime.getDate()+"/"+(DateTime.getMonth()+1)+"/"+DateTime.getFullYear()+" "+("0"+DateTime.getHours()).slice(-2)+":"+("0"+DateTime.getMinutes()).slice(-2);if(test===format)return;else test=format;return format;},theme:victory_theme["a" /* default */].material,standalone:false,fixLabelOverlap:true,tickValues:Legends,style:{grid:{stroke:"#818e99",strokeWidth:0.5}}}),react["createElement"](victory_axis["a" /* default */],{dependentAxis:true,crossAxis:false,tickCount:20,minDomain:{x:0,y:0},tickFormat:function tickFormat(t){return Math.round(t*10)/10;},theme:victory_theme["a" /* default */].material,standalone:false,style:{grid:{stroke:"#818e99",strokeWidth:0.5}}}),renderData.map(function(Data,i){if(Data.type==="Bar"&&!Data.deactivate){return react["createElement"](victory_bar["a" /* default */],{key:"Bar_"+Data.name,barWidth:6,data:Data.data,style:{data:{fill:Data.color}},name:'valve: '+Data.name});}else if(Data.type==="Line"&&!Data.deactivate){return[react["createElement"](victory_line["a" /* default */],{key:"Line_"+Data.name,data:Data.data,style:{data:{stroke:Data.color,strokeWidth:function strokeWidth(_ref2){var active=_ref2.active;return active?2:1;}}},name:Data.name}),react["createElement"](victory_scatter["a" /* default */],{key:"Sca_"+Data.name,data:Data.data,size:2,style:{data:{stroke:"#000",strokeWidth:0.5,fill:Data.color}},name:"none"})];}})),this.state.categories.length>0?react["createElement"](victory_legend["a" /* default */],{width:870,padding:0,orientation:"horizontal",itemsPerRow:13,gutter:20,style:{border:{stroke:"black"}},data:this.state.categories,events:[{target:"data",eventHandlers:{onClick:function onClick(){return[{target:"data",mutation:function mutation(props){var series=_this2.state.series;var index=series.findIndex(function(i){return i.name===props.datum.name;});if(index!==-1){series[index].deactivate=!series[index].deactivate;}_this2.setState({series:series});var fill=props.style&&props.style.fill;return fill==="#000"?null:{style:{fill:"#000"}};}},{target:"labels",mutation:function mutation(props){}}];}}}]}):react["createElement"](react["Fragment"],null))),(IsLoading||this.props.firebase.viewIsLoading)&&react["createElement"](ActivityIndicator_default.a,{style:Helpers.loadingContainer,size:"large"})));}}]);return AutoPig;}(react["Component"]);var AutoPig_mapStateToProps=function mapStateToProps(state){var firebase=state.firebase;return{firebase:firebase};};var AutoPig_mapDispatchToProps=function mapDispatchToProps(dispatch){return{setViewLoading:function setViewLoading(state){return dispatch(Firebase_Actions.viewIsLoading(state));},setViewError:function setViewError(error){return dispatch(Firebase_Actions.setViewError(error));},getFarm:function getFarm(){return dispatch(Firebase_Actions.actionStarting(Selectors_Actions.FETCH,DataRefs.FARMS,{}));},getValveFeed:function getValveFeed(limit,sysId,start,stop,offset,lastId){return dispatch(Firebase_Actions.actionStarting(ConsysRefs.VALVEFEED,DataRefs.CONSYS,{limit:limit,sysId:sysId,start:start,stop:stop,offset:offset,lastId:lastId}));},getAutoPig:function getAutoPig(limit,sysId,start,stop,offset,lastId){return dispatch(Firebase_Actions.actionStarting(ConsysRefs.SCALE,DataRefs.CONSYS,{limit:limit,sysId:sysId,start:start,stop:stop,offset:offset,lastId:lastId}));}};};/* harmony default export */ var UserPanel_AutoPig = (Object(es["b" /* connect */])(AutoPig_mapStateToProps,AutoPig_mapDispatchToProps)(AutoPig_AutoPig));
// CONCATENATED MODULE: C:/Users/daniel/Documents/GitHub/AgrisysApp-Web/App/Src/Containers/Cloud/UserPanel/Operations.js
function Operations_createSuper(Derived){var hasNativeReflectConstruct=Operations_isNativeReflectConstruct();return function _createSuperInternal(){var Super=getPrototypeOf_default()(Derived),result;if(hasNativeReflectConstruct){var NewTarget=getPrototypeOf_default()(this).constructor;result=Reflect.construct(Super,arguments,NewTarget);}else{result=Super.apply(this,arguments);}return possibleConstructorReturn_default()(this,result);};}function Operations_isNativeReflectConstruct(){if(typeof Reflect==="undefined"||!Reflect.construct)return false;if(Reflect.construct.sham)return false;if(typeof Proxy==="function")return true;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}));return true;}catch(e){return false;}}var Operations_Operations=function(_Component){inherits_default()(Operations,_Component);var _super=Operations_createSuper(Operations);function Operations(props){var _this;classCallCheck_default()(this,Operations);_this=_super.call(this,props);_this.state={};return _this;}createClass_default()(Operations,[{key:"getData",value:function getData(){this.props.setCurrentData({});}},{key:"checkData",value:function checkData(props){}},{key:"componentDidMount",value:function componentDidMount(){this.props.setViewLoading(false);this.props.setViewError(null);this.checkData(this.props);this.getData();}},{key:"componentDidUpdate",value:function componentDidUpdate(prevProps,prevState){}},{key:"render",value:function render(){var IsLoading=this.props.firebase.firebaseIsLoading;var ErrorMessage=this.props.firebase.viewError;return react_default.a.createElement(View_default.a,{style:[Helpers.mainContainer]},react_default.a.createElement(View_default.a,{style:[Helpers.contentContainer,Helpers.fullSize,Helpers.fill]},ErrorMessage?react_default.a.createElement(Text_default.a,{style:ApplicationStyles.error},ErrorMessage):react_default.a.createElement(react_default.a.Fragment,null),react_default.a.createElement(View_default.a,{style:[Helpers.buttonContainer,Helpers.midWidth,Metrics.bottomMargin,{marginBottom:60}]}),react_default.a.createElement(View_default.a,{style:[Helpers.buttonContainer,Helpers.halvWidth,Helpers.fillColMain]},react_default.a.createElement(Components_OperationsPanel,{section:true}))),(IsLoading||this.props.firebase.viewIsLoading)&&react_default.a.createElement(ActivityIndicator_default.a,{style:Helpers.loadingContainer,size:"large"}));}}]);return Operations;}(react["Component"]);var Operations_mapStateToProps=function mapStateToProps(state){var firebase=state.firebase;return{firebase:firebase};};var Operations_mapDispatchToProps=function mapDispatchToProps(dispatch){return{setViewLoading:function setViewLoading(state){return dispatch(Firebase_Actions.viewIsLoading(state));},setViewError:function setViewError(error){return dispatch(Firebase_Actions.setViewError(error));},setCurrentData:function setCurrentData(actionType){return dispatch(Firebase_Actions.setCurrentData({type:DataRefs.PENS,action:actionType}));}};};/* harmony default export */ var UserPanel_Operations = (Object(es["b" /* connect */])(Operations_mapStateToProps,Operations_mapDispatchToProps)(Operations_Operations));
// CONCATENATED MODULE: C:/Users/daniel/Documents/GitHub/AgrisysApp-Web/App/Src/Containers/Cloud/UserPanel/Weighing.js
function Weighing_ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);if(enumerableOnly)symbols=symbols.filter(function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable;});keys.push.apply(keys,symbols);}return keys;}function Weighing_objectSpread(target){for(var i=1;i<arguments.length;i++){var source=arguments[i]!=null?arguments[i]:{};if(i%2){Weighing_ownKeys(Object(source),true).forEach(function(key){defineProperty_default()(target,key,source[key]);});}else if(Object.getOwnPropertyDescriptors){Object.defineProperties(target,Object.getOwnPropertyDescriptors(source));}else{Weighing_ownKeys(Object(source)).forEach(function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key));});}}return target;}function Weighing_createSuper(Derived){var hasNativeReflectConstruct=Weighing_isNativeReflectConstruct();return function _createSuperInternal(){var Super=getPrototypeOf_default()(Derived),result;if(hasNativeReflectConstruct){var NewTarget=getPrototypeOf_default()(this).constructor;result=Reflect.construct(Super,arguments,NewTarget);}else{result=Super.apply(this,arguments);}return possibleConstructorReturn_default()(this,result);};}function Weighing_isNativeReflectConstruct(){if(typeof Reflect==="undefined"||!Reflect.construct)return false;if(Reflect.construct.sham)return false;if(typeof Proxy==="function")return true;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}));return true;}catch(e){return false;}}var Weighing_Weighing=function(_Component){inherits_default()(Weighing,_Component);var _super=Weighing_createSuper(Weighing);function Weighing(props){var _this;classCallCheck_default()(this,Weighing);_this=_super.call(this,props);var _this$setData=_this.setData(_this.props),Sections=_this$setData.Sections,Section=_this$setData.Section,Pens=_this$setData.Pens,Pen=_this$setData.Pen,quantity=_this$setData.quantity;_this.state={Sections:Sections,Section:Section,Pens:Pens,Pen:Pen,weight:"",quantity:quantity,date:new Date().getTime()};return _this;}createClass_default()(Weighing,[{key:"getData",value:function getData(){var localDataStore=this.props.firebase.localDataStore;if(!localDataStore.sections)localDataStore.sections={};this.props.getSections(localDataStore.sections.update_time);}},{key:"setData",value:function setData(Props){var localDataStore=Props.firebase.localDataStore;var Sections=false;if(localDataStore&&localDataStore.sections&&localDataStore.sections!==Sections){Sections=sortObject(localDataStore.sections);}var CurrentData=Props.firebase.currentData;var Section=Sections?Object.keys(Sections)[0]:"";if(CurrentData&&CurrentData.data&&CurrentData.data.section&&Sections[CurrentData.data.section]){if(CurrentData.data.section!=Section){Section=CurrentData.data.section;}}var Pens=Sections?sortObject(Sections[Section].pens):{};var Pen=Sections?Object.keys(Pens)[0]:"";if(CurrentData&&CurrentData.penId&&Pens[CurrentData.penId]&&CurrentData.penId!=Pen){Pen=CurrentData.penId;}var quantity=1;if(localDataStore&&localDataStore.pens){var _Pen=localDataStore.pens[Pen];if(_Pen&&_Pen.datas&&_Pen.datas.count)quantity=_Pen.datas.count;}if(!Sections)Sections={};return{Sections:Sections,Section:Section,Pens:Pens,Pen:Pen,quantity:quantity};}},{key:"checkData",value:function checkData(props){}},{key:"componentDidMount",value:function componentDidMount(){this.props.setViewLoading(false);this.props.setViewError(null);this.checkData(this.props);this.getData();}},{key:"componentDidUpdate",value:function componentDidUpdate(prevProps,prevState){if(this.props!==prevProps){this.checkData(this.props);if(this.props.firebase.localDataStore){if(this.props.firebase.localDataStore.sections&&JSON.stringify(this.state.Sections)!==JSON.stringify(sortObject(this.props.firebase.localDataStore.sections))){var _this$setData2=this.setData(this.props),Sections=_this$setData2.Sections,Section=_this$setData2.Section,Pens=_this$setData2.Pens,Pen=_this$setData2.Pen,quantity=_this$setData2.quantity;this.setState({Sections:Sections,Section:Section,Pens:Pens,Pen:Pen,quantity:quantity,weight:""});}}}}},{key:"render",value:function render(){var _this2=this;var IsLoading=this.props.firebase.firebaseIsLoading;var ErrorMessage=this.props.firebase.viewError;var localDataStore=this.props.firebase.localDataStore;return react_default.a.createElement(View_default.a,{style:[Helpers.mainContainer]},react_default.a.createElement(View_default.a,{style:[Helpers.contentContainer,Helpers.fullSize,Helpers.fill]},ErrorMessage?react_default.a.createElement(Text_default.a,{style:ApplicationStyles.error},ErrorMessage):react_default.a.createElement(react_default.a.Fragment,null),react_default.a.createElement(View_default.a,{style:[Helpers.contentContainer,Helpers.fullSize,Helpers.fill]},react_default.a.createElement(View_default.a,{style:[Helpers.buttonContainer,Helpers.midWidth,Metrics.bottomMargin]},react_default.a.createElement(Components_Button,{Text:"Weighing",buttonStyle:{backgroundColor:Colors.AgriDarkblue},onPress:function onPress(){}})),react_default.a.createElement(View_default.a,{style:[Helpers.borderContainer,Helpers.fullWidth,{marginBottom:20}]},react_default.a.createElement(Picker_default.a,{mode:"dropdown",selectedValue:this.state.Section,style:{height:50,width:150},onValueChange:function onValueChange(itemValue,itemIndex){if(_this2.state.Sections[itemValue]){var Pens=sortObject(_this2.state.Sections[itemValue].pens);var quantity=1;if(localDataStore&&localDataStore.pens){var Pen=localDataStore.pens[Object.keys(Pens)[0]];if(Pen&&Pen.datas&&Pen.datas.count)quantity=Pen.datas.count;}_this2.setState({Section:itemValue,Pens:Pens,Pen:Object.keys(Pens)[0],quantity:quantity});}}},Object.keys(this.state.Sections).map(function(Section,i){return react_default.a.createElement(Picker_default.a.Item,{label:Section,value:Section,key:i});})),react_default.a.createElement(Picker_default.a,{mode:"dropdown",selectedValue:this.state.Pen,style:{height:50,width:150},onValueChange:function onValueChange(itemValue,itemIndex){var quantity=1;if(localDataStore&&localDataStore.pens){var Pen=localDataStore.pens[itemValue];if(Pen&&Pen.datas&&Pen.datas.count)quantity=Pen.datas.count;}_this2.setState({quantity:quantity,Pen:itemValue});}},Object.keys(this.state.Pens).map(function(Pen,i){return react_default.a.createElement(Picker_default.a.Item,{label:Pen,value:Pen,key:i});})),react_default.a.createElement(View_default.a,{style:[Helpers.fullWidth,{borderWidth:0,height:65,marginTop:10,paddingHorizontal:5,paddingTop:0,borderRadius:0,alignItems:"center"}]},react_default.a.createElement(View_default.a,{style:[Helpers.fullWidth,{alignItems:"flex-start"}]},react_default.a.createElement(Text_default.a,{style:[ApplicationStyles.text,{marginHorizontal:5,marginTop:2,color:Colors.input,fontSize:15,fontWeight:"bold"}]},"Weight date:")),react_default.a.createElement(View_default.a,{style:[Helpers.fullWidth,{alignItems:'flex-start'}]},react_default.a.createElement(Components_DateTime_Picker,{Selected:this.state.date,onValueChange:function onValueChange(date){_this2.setState({date:date.getTime()});}}))),react_default.a.createElement(dist["b" /* Input */],{label:"Animal quantity",style:Weighing_objectSpread({},CloudScreenStyle.input),onChangeText:function onChangeText(text){if(!isNaN(text)){_this2.setState({quantity:text});}},value:this.state.quantity}),react_default.a.createElement(dist["b" /* Input */],{label:"Total Weight",style:Weighing_objectSpread({},CloudScreenStyle.input),onChangeText:function onChangeText(text){_this2.setState({weight:text});},value:this.state.weight})),react_default.a.createElement(View_default.a,{style:[Helpers.buttonContainer,Helpers.midWidth]},react_default.a.createElement(Components_Button,{Text:"Submit",onPress:function onPress(){if(!_this2.state.Section){_this2.props.setViewError("A section is needed");}else if(!_this2.state.Pen){_this2.props.setViewError("A pen is needed");}else if(isNaN(_this2.state.quantity)||_this2.state.quantity===""||_this2.state.quantity<=0){_this2.props.setViewError("Quantity have to be a number bigger than 0");}else if(isNaN(_this2.state.weight)||_this2.state.weight===""){_this2.props.setViewError("Weight have to be a number");}else{_this2.props.setViewLoading(true);_this2.props.setViewError(null);_this2.props.newWeight(_this2.state.Pen,parseFloat(_this2.state.weight),_this2.state.date,parseFloat(_this2.state.quantity));_this2.setState({weight:"",date:new Date().getTime()});}}})))),(IsLoading||this.props.firebase.viewIsLoading)&&react_default.a.createElement(ActivityIndicator_default.a,{style:Helpers.loadingContainer,size:"large"}));}}]);return Weighing;}(react["Component"]);var Weighing_mapStateToProps=function mapStateToProps(state){var firebase=state.firebase;return{firebase:firebase};};var Weighing_mapDispatchToProps=function mapDispatchToProps(dispatch){return{setViewLoading:function setViewLoading(state){return dispatch(Firebase_Actions.viewIsLoading(state));},setViewError:function setViewError(error){return dispatch(Firebase_Actions.setViewError(error));},getSections:function getSections(DataTime){return dispatch(Firebase_Actions.actionStarting(Selectors_Actions.FETCH,DataRefs.SECTIONS,{DataTime:DataTime}));},newWeight:function newWeight(penId,weight,date,quantity){return dispatch(Firebase_Actions.actionStarting(Selectors_Actions.CREATE,DataRefs.WEIGHING,{PenId:penId,Weight:weight,Quantity:quantity,Date:date}));}};};/* harmony default export */ var UserPanel_Weighing = (Object(es["b" /* connect */])(Weighing_mapStateToProps,Weighing_mapDispatchToProps)(Weighing_Weighing));
// CONCATENATED MODULE: C:/Users/daniel/Documents/GitHub/AgrisysApp-Web/App/Src/Containers/Cloud/UserPanel/DataEditor.js
function DataEditor_ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);if(enumerableOnly)symbols=symbols.filter(function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable;});keys.push.apply(keys,symbols);}return keys;}function DataEditor_objectSpread(target){for(var i=1;i<arguments.length;i++){var source=arguments[i]!=null?arguments[i]:{};if(i%2){DataEditor_ownKeys(Object(source),true).forEach(function(key){defineProperty_default()(target,key,source[key]);});}else if(Object.getOwnPropertyDescriptors){Object.defineProperties(target,Object.getOwnPropertyDescriptors(source));}else{DataEditor_ownKeys(Object(source)).forEach(function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key));});}}return target;}function DataEditor_createSuper(Derived){var hasNativeReflectConstruct=DataEditor_isNativeReflectConstruct();return function _createSuperInternal(){var Super=getPrototypeOf_default()(Derived),result;if(hasNativeReflectConstruct){var NewTarget=getPrototypeOf_default()(this).constructor;result=Reflect.construct(Super,arguments,NewTarget);}else{result=Super.apply(this,arguments);}return possibleConstructorReturn_default()(this,result);};}function DataEditor_isNativeReflectConstruct(){if(typeof Reflect==="undefined"||!Reflect.construct)return false;if(Reflect.construct.sham)return false;if(typeof Proxy==="function")return true;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}));return true;}catch(e){return false;}}var DataEditor_DataEditor=function(_Component){inherits_default()(DataEditor,_Component);var _super=DataEditor_createSuper(DataEditor);function DataEditor(props){var _this;classCallCheck_default()(this,DataEditor);_this=_super.call(this,props);var _this$setData=_this.setData(props),Sections=_this$setData.Sections,Section=_this$setData.Section,Pens=_this$setData.Pens,Pen=_this$setData.Pen;_this.state={Sections:Sections,Section:Section,Pens:Pens,Pen:Pen,NewSection:Sections&&Object.keys(Sections).length>0?false:true};return _this;}createClass_default()(DataEditor,[{key:"getData",value:function getData(){var localDataStore=this.props.firebase.localDataStore;if(!localDataStore.sections)localDataStore.sections={};this.props.getSections(localDataStore.sections.update_time);}},{key:"setData",value:function setData(Props){var localDataStore=Props.firebase.localDataStore;var Sections=false;if(localDataStore&&localDataStore.sections&&localDataStore.sections!==Sections){Sections=sortObject(localDataStore.sections);}var CurrentData=Props.firebase.currentData;var Section=Sections?Object.keys(Sections)[0]:"";if(CurrentData&&CurrentData.data&&CurrentData.data.section&&Sections[CurrentData.data.section]){if(CurrentData.data.section!=Section){Section=CurrentData.data.section;}}var Pens=Sections&&Sections[Section]?sortObject(Sections[Section].pens):{};var Pen=Sections?Object.keys(Pens)[0]:"";if(CurrentData&&CurrentData.dataId&&Pens[CurrentData.dataId]&&CurrentData.dataId!=Pen){Pen=CurrentData.dataId;}if(!Sections)Sections={};return{Sections:Sections,Section:Section,Pens:Pens,Pen:Pen};}},{key:"checkData",value:function checkData(props){}},{key:"componentDidMount",value:function componentDidMount(){this.props.setViewLoading(false);this.props.setViewError(null);this.checkData(this.props);this.getData();}},{key:"componentDidUpdate",value:function componentDidUpdate(prevProps,prevState){if(this.props!==prevProps){this.checkData(this.props);if(this.props.firebase){if(this.props.firebase.localDataStore){if(this.props.firebase.localDataStore.sections&&JSON.stringify(this.state.Sections)!==JSON.stringify(sortObject(this.props.firebase.localDataStore.sections))){var _this$setData2=this.setData(this.props),Sections=_this$setData2.Sections,Section=_this$setData2.Section,Pens=_this$setData2.Pens,Pen=_this$setData2.Pen;this.setState({Sections:Sections,Section:Section,Pens:Pens,Pen:Pen,NewSection:Sections&&Object.keys(Sections).length>0?false:true});}}if(this.props.firebase.currentData){if(this.props.firebase.currentData!=prevProps.firebase.currentData){this.forceUpdate();}}}}}},{key:"render",value:function render(){var IsLoading=this.props.firebase.firebaseIsLoading;var ErrorMessage=this.props.firebase.viewError;var localDataStore=this.props.firebase.localDataStore;var CurrentData=this.props.firebase.currentData;var DataView=react_default.a.createElement(View_default.a,null);switch(CurrentData.type){case DataRefs.PENS:DataView=DataEditor_PenEditor_View_Creator(this,CurrentData,localDataStore);break;case DataRefs.PIGS:DataView=DataEditor_PigEditor_View_Creator(this,CurrentData,localDataStore);break;}return react_default.a.createElement(View_default.a,{style:[Helpers.mainContainer]},react_default.a.createElement(View_default.a,{style:[Helpers.contentContainer,Helpers.fullSize,Helpers.fill]},ErrorMessage?react_default.a.createElement(Text_default.a,{style:ApplicationStyles.error},ErrorMessage):react_default.a.createElement(react_default.a.Fragment,null),DataView),(IsLoading||this.props.firebase.viewIsLoading)&&react_default.a.createElement(ActivityIndicator_default.a,{style:Helpers.loadingContainer,size:"large"}));}}]);return DataEditor;}(react["Component"]);var DataEditor_PenEditor_View_Creator=function PenEditor_View_Creator(Control,CurrentData,localDataStore){var Sections=Control.state.Sections;if(CurrentData.action===Selectors_Actions.CREATE){Sections["New Section"]={};}return react_default.a.createElement(View_default.a,{style:[Helpers.contentContainer,Helpers.fullSize,Helpers.fill]},react_default.a.createElement(DataEditor_PenEditor_Titles,{CurrentAction:CurrentData.action}),react_default.a.createElement(View_default.a,{style:[Helpers.borderContainer,Helpers.midWidth,{marginBottom:20}]},react_default.a.createElement(DataEditor_Section_Picker,{Control:Control,CurrentData:CurrentData,localDataStore:localDataStore}),CurrentData.action===Selectors_Actions.CREATE?react_default.a.createElement(dist["b" /* Input */],{label:"Pen name",style:DataEditor_objectSpread({},CloudScreenStyle.input),onChangeText:function onChangeText(text){if(text){if(DataStringCheck(text)){Control.setState({Pen:text});}}else{Control.setState({Pen:text});}},value:Control.state.Pen}):react_default.a.createElement(react_default.a.Fragment,null),CurrentData.action===Selectors_Actions.DELETE?react_default.a.createElement(Picker_default.a,{mode:"dropdown",selectedValue:Control.state.Pen,style:{height:50,width:150},onValueChange:function onValueChange(itemValue,itemIndex){Control.setState({Pen:itemValue});}},Object.keys(Control.state.Pens).map(function(Pen,i){return react_default.a.createElement(Picker_default.a.Item,{label:Pen,value:Pen,key:i});})):react_default.a.createElement(react_default.a.Fragment,null)),CurrentData.action===Selectors_Actions.CREATE||CurrentData.action===Selectors_Actions.DELETE?react_default.a.createElement(View_default.a,{style:[Helpers.buttonContainer,Helpers.midWidth]},react_default.a.createElement(Components_Button,{Text:"Submit",onPress:function onPress(){if(!Control.state.Section||Control.state.Section===""){Control.props.setViewError("A section is needed");}else if(!Control.state.Pen||Control.state.Pen===""){Control.props.setViewError("A pen name is needed");}else if(!isNaN(Control.state.Section)||!isNaN(Control.state.Section[0])){Control.props.setViewError("Section name cannot be or start with a number");}else if(!isNaN(Control.state.Pen)||!isNaN(Control.state.Pen[0])){Control.props.setViewError("Pen name cannot be or start with a number");}else{var exists=false;Object.keys(Control.state.Sections).map(function(section,i){if(Control.state.Sections[section].pens){var test=Object.keys(Control.state.Sections[section].pens).filter(function(e){return e===Control.state.Pen;}).length;if(test)exists=true;}});if(exists&&CurrentData.action===Selectors_Actions.CREATE){Control.props.setViewError("Given pen name already exists");}else if(!exists&&CurrentData.action===Selectors_Actions.DELETE){Control.props.setViewError("Cannot remove non-existing pen");}else{Control.props.setViewError(null);Control.props.setViewLoading(true);Control.props.penAction(CurrentData.action,Control.state.Section,Control.state.Pen);NavigationService.navigate("UserOperations");}}}})):react_default.a.createElement(react_default.a.Fragment,null));};var DataEditor_PenEditor_Titles=function PenEditor_Titles(props){switch(props.CurrentAction){case Selectors_Actions.CREATE:return react_default.a.createElement(Components_TitleElement,{Text:"Add Pen"});case Selectors_Actions.DELETE:return react_default.a.createElement(Components_TitleElement,{Text:"Remove Pen"});default:return react_default.a.createElement(react_default.a.Fragment,null);}};var DataEditor_PigEditor_View_Creator=function PigEditor_View_Creator(Control,CurrentData,localDataStore){var Sections=Control.state.Sections;if(CurrentData.action===Selectors_Actions.CREATE){}return react_default.a.createElement(View_default.a,{style:[Helpers.contentContainer,Helpers.fullSize,Helpers.fill]},react_default.a.createElement(Components_TitleElement,{Text:"Add Pig: "+CurrentData.pigtag}),react_default.a.createElement(View_default.a,{style:[Helpers.borderContainer,Helpers.midWidth,{marginBottom:20}]},react_default.a.createElement(DataEditor_Section_Picker,{Control:Control,CurrentData:CurrentData,localDataStore:localDataStore}),Control.state.NewSection?react_default.a.createElement(dist["b" /* Input */],{label:"Pen name",style:DataEditor_objectSpread({},CloudScreenStyle.input),onChangeText:function onChangeText(text){if(text){if(DataStringCheck(text)){Control.setState({Pen:text});}}else{Control.setState({Pen:text});}},value:Control.state.Pen}):react_default.a.createElement(Picker_default.a,{mode:"dropdown",selectedValue:Control.state.Pen,style:{height:50,width:150},onValueChange:function onValueChange(itemValue,itemIndex){Control.setState({Pen:itemValue});}},Object.keys(Control.state.Pens).map(function(Pen,i){return react_default.a.createElement(Picker_default.a.Item,{label:Pen,value:Pen,key:i});})),CurrentData.action===Selectors_Actions.CREATE?react_default.a.createElement(View_default.a,{style:[Helpers.buttonContainer,Helpers.midWidth]},react_default.a.createElement(Components_Button,{Text:"Submit",onPress:function onPress(){if(!Control.state.Section||Control.state.Section===""){Control.props.setViewError("A section is needed");}else if(!Control.state.Pen||Control.state.Pen===""){Control.props.setViewError("A pen name is needed");}else if(!isNaN(Control.state.Section)||!isNaN(Control.state.Section[0])){Control.props.setViewError("Section name cannot be or start with a number");}else if(!isNaN(Control.state.Pen)||!isNaN(Control.state.Pen[0])){Control.props.setViewError("Pen name cannot be or start with a number");}else{var exists=false;Object.keys(Control.state.Sections).map(function(section,i){if(Control.state.Sections[section].pens){var test=Object.keys(Control.state.Sections[section].pens).filter(function(e){return e===Control.state.Pen;}).length;if(test)exists=true;}});if(exists&&CurrentData.action===Selectors_Actions.CREATE&&Control.state.NewSection){Control.props.setViewError("Given pen name already exists");}else{Control.props.setViewLoading(true);Control.props.setViewError(null);Control.props.pigAction(CurrentData.action,CurrentData.pigtag,Control.state.Pen);NavigationService.navigate("UserPigs");}}}})):react_default.a.createElement(react_default.a.Fragment,null)));};var DataEditor_Section_Picker=function Section_Picker(_ref){var Control=_ref.Control,CurrentData=_ref.CurrentData,localDataStore=_ref.localDataStore;if(Control.state.NewSection&&CurrentData.action===Selectors_Actions.CREATE){return react_default.a.createElement(dist["b" /* Input */],{label:"Section Name",style:DataEditor_objectSpread({},CloudScreenStyle.input),onChangeText:function onChangeText(text){if(text){if(DataStringCheck(text)){Control.setState({Section:text});}}else{Control.setState({Section:text});}},value:Control.state.Section});}else{return react_default.a.createElement(Picker_default.a,{mode:"dropdown",selectedValue:Control.state.Section,style:{height:50,width:150},onValueChange:function onValueChange(itemValue,itemIndex){var Section=itemValue;var NewSection=Control.state.NewSection;var Pens=Control.state.Pens;var Pen=Control.state.Pen;if(itemValue==="New Section"){NewSection=true;Section="Section_"+Object.keys(Control.state.Sections).length;}else{Pens=sortObject(Control.state.Sections[itemValue].pens);if(CurrentData.action===Selectors_Actions.DELETE){Pen=Object.keys(Pens)[Object.keys(Pens).length-1];}else{if(CurrentData.type==DataRefs.PIGS){Pen=Object.keys(Pens)[0];}else{Pen="Pen_"+(Object.keys(Pens).length+1);}}}Control.setState({Section:Section,NewSection:NewSection,Pens:Pens,Pen:Pen});}},Object.keys(Control.state.Sections).map(function(Section,i){return react_default.a.createElement(Picker_default.a.Item,{label:Section,value:Section,key:i});}));}};var DataEditor_mapStateToProps=function mapStateToProps(state){var firebase=state.firebase;return{firebase:firebase};};var DataEditor_mapDispatchToProps=function mapDispatchToProps(dispatch){return{setFirebaseError:function setFirebaseError(error){return dispatch(Firebase_Actions.setFirebaseError(error));},setViewLoading:function setViewLoading(state){return dispatch(Firebase_Actions.viewIsLoading(state));},setViewError:function setViewError(error){return dispatch(Firebase_Actions.setViewError(error));},getSections:function getSections(DataTime){return dispatch(Firebase_Actions.actionStarting(Selectors_Actions.FETCH,DataRefs.SECTIONS,{DataTime:DataTime}));},penAction:function penAction(action,senctionId,penId){return dispatch(Firebase_Actions.actionStarting(action,DataRefs.PENS,{SectionId:senctionId,PenId:penId}));},pigAction:function pigAction(action,tagId,penId){return dispatch(Firebase_Actions.actionStarting(action,DataRefs.PIGS,{TagId:tagId,PenId:penId}));}};};/* harmony default export */ var UserPanel_DataEditor = (Object(es["b" /* connect */])(DataEditor_mapStateToProps,DataEditor_mapDispatchToProps)(DataEditor_DataEditor));
// CONCATENATED MODULE: C:/Users/daniel/Documents/GitHub/AgrisysApp-Web/App/Src/Containers/Cloud/UserPanel/DataDisplay_Pens.js
function DataDisplay_Pens_createSuper(Derived){var hasNativeReflectConstruct=DataDisplay_Pens_isNativeReflectConstruct();return function _createSuperInternal(){var Super=getPrototypeOf_default()(Derived),result;if(hasNativeReflectConstruct){var NewTarget=getPrototypeOf_default()(this).constructor;result=Reflect.construct(Super,arguments,NewTarget);}else{result=Super.apply(this,arguments);}return possibleConstructorReturn_default()(this,result);};}function DataDisplay_Pens_isNativeReflectConstruct(){if(typeof Reflect==="undefined"||!Reflect.construct)return false;if(Reflect.construct.sham)return false;if(typeof Proxy==="function")return true;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}));return true;}catch(e){return false;}}var DataDisplay_Pens_DataDisplay_Pens=function(_Component){inherits_default()(DataDisplay_Pens,_Component);var _super=DataDisplay_Pens_createSuper(DataDisplay_Pens);function DataDisplay_Pens(props){var _this;classCallCheck_default()(this,DataDisplay_Pens);_this=_super.call(this,props);_this.state={currentData:props.currentData};var _this$setData=_this.setData(props),CurrentData=_this$setData.CurrentData,WeighingsList=_this$setData.WeighingsList,Weighings=_this$setData.Weighings,CommentsList=_this$setData.CommentsList,Comments=_this$setData.Comments;_this.state={currentData:CurrentData,WeighingsList:WeighingsList,Weighings:Weighings,CommentsList:CommentsList,Comments:Comments,action:""};return _this;}createClass_default()(DataDisplay_Pens,[{key:"setData",value:function setData(Props){var localDataStore=Props.firebase.localDataStore;var CurrentData=this.state.currentData;var Pens=sortObject(localDataStore.pens);if(Pens[CurrentData.penId]){CurrentData.data=Pens[CurrentData.penId];}var WeighingsList=[];var Weighings=[];var App=Platform_default.a.OS==="android"||Platform_default.a.OS==="ios"?true:false;if(localDataStore&&localDataStore.weighings){if(localDataStore.weighings[CurrentData.penId]){WeighingsList=localDataStore.weighings[CurrentData.penId];for(var i=0;i<Object.keys(WeighingsList).length;i++){var name=Object.keys(WeighingsList)[i];if(!name)continue;var object=WeighingsList[name];if(!object||!object.time)continue;Weighings.push(defineProperty_default()({},name,object));}Weighings=Weighings.sort(function(a,b){return a.time>b.time?1:-1;});if(App){Weighings=Weighings.slice(0,5);}}}var CommentsList=[];var Comments=[];if(localDataStore&&localDataStore.comments){if(localDataStore.comments[CurrentData.penId]){CommentsList=localDataStore.comments[CurrentData.penId];for(var i=0;i<Object.keys(CommentsList).length;i++){var name=Object.keys(CommentsList)[i];if(!name)continue;var object=CommentsList[name];if(!object||!object.time)continue;Comments.push(defineProperty_default()({},name,object));}Comments=Comments.sort(function(a,b){return a.time>b.time?1:-1;});if(App){Comments=Comments.slice(0,5);}}}if(CurrentData.data&&!CurrentData.data.datas)CurrentData.data.datas={};return{CurrentData:CurrentData,WeighingsList:WeighingsList,Weighings:Weighings,CommentsList:CommentsList,Comments:Comments};}},{key:"getData",value:function getData(){if(this.props.firebase&&this.props.firebase.localDataStore&&this.state.currentData.penId){var localDataStore=this.props.firebase.localDataStore;if(!localDataStore.pens)localDataStore.pens={};this.props.getPens(localDataStore.pens.update_time);var MemTime=null;if(localDataStore.weighings&&localDataStore.weighings[this.state.currentData.penId])MemTime=localDataStore.weighings.update_time;this.props.getWeights(this.state.currentData.penId,MemTime,localDataStore.sections);this.props.getComments(this.state.currentData.penId);this.props.getBatch(localDataStore.batchs.update_time);}}},{key:"checkData",value:function checkData(props){}},{key:"componentDidMount",value:function componentDidMount(){this.props.setViewLoading(false);this.props.setViewError(null);this.checkData(this.props);this.getData();}},{key:"componentDidUpdate",value:function componentDidUpdate(prevProps,prevState){if(this.props!==prevProps){this.checkData(this.props);if(this.props.firebase.localDataStore){var localDataStore=this.props.firebase.localDataStore;if(JSON.stringify(prevProps.currentData)!==JSON.stringify(this.state.currentData)||localDataStore.sections&&JSON.stringify(this.state.Sections)!==JSON.stringify(sortObject(localDataStore.sections))||localDataStore.weighings&&JSON.stringify(this.state.Weighings)!==JSON.stringify(sortObject(localDataStoree.weighings))||localDataStore.comments&&JSON.stringify(this.state.Comments)!==JSON.stringify(sortObject(localDataStoree.comments))){var _this$setData2=this.setData(this.props),CurrentData=_this$setData2.CurrentData,WeighingsList=_this$setData2.WeighingsList,Weighings=_this$setData2.Weighings,CommentsList=_this$setData2.CommentsList,Comments=_this$setData2.Comments;this.setState({currentData:CurrentData,WeighingsList:WeighingsList,Weighings:Weighings,CommentsList:CommentsList,Comments:Comments});}}}}},{key:"render",value:function render(){var _this2=this;var IsLoading=this.props.firebase.firebaseIsLoading;var localDataStore=this.props.firebase.localDataStore;var CurrentData=this.state.currentData;if(!CurrentData.data){return react_default.a.createElement(View_default.a,{style:[Helpers.fillRowCenter,Helpers.center,Helpers.logoContainer]},react_default.a.createElement(Image_default.a,{style:Helpers.fullSize,source:Theme_Images.Hexa_icon,resizeMode:'contain'}));}else{var pigcount=CurrentData.data.datas.count?CurrentData.data.datas.count:0;var penWeight=[];if(this.state.Weighings.length>0){penWeight=this.state.Weighings[0][Object.keys(this.state.Weighings[0])].weight/this.state.Weighings[0][Object.keys(this.state.Weighings[0])].count;}var batch_name=CurrentData.data.datas.batch?CurrentData.data.datas.batch:"No Batch";var batch={};var age="";var displayWeight=penWeight;if(CurrentData.data.datas.batch&&localDataStore.batchs&&localDataStore.batchs[CurrentData.data.datas.batch]){batch=localDataStore.batchs[CurrentData.data.datas.batch];var StartTime=batch.time;age=Math.floor((Date.now()-StartTime)/(1000*60*60*24));CurrentData.data.datas.gcurve=batch.gcurve;var Predict=Selectors_CurvePredict(localDataStore,CurrentData.penId);if(Predict&&Predict.Now)displayWeight=Predict.Now;}if(!batch.datas)batch.datas={};if(!batch.datas.devianceMin)batch.datas.devianceMin=0;if(!batch.datas.devianceMax)batch.datas.devianceMax=0;displayWeight=Math.round(displayWeight*1000)/1000;var App=Platform_default.a.OS==="android"||Platform_default.a.OS==="ios"?true:false;return react_default.a.createElement(View_default.a,{style:[Helpers.contentContainer,Helpers.fullSize,Helpers.fill]},react_default.a.createElement(View_default.a,{style:[Helpers.buttonContainer,Helpers.midWidth,Metrics.bottomMargin,Helpers.rowCenter]},react_default.a.createElement(View_default.a,{style:{padding:6,paddingRight:15}},react_default.a.createElement(dist["a" /* Icon */],{name:"md-arrow-back",type:"ionicon",size:25,color:"black",onPress:function onPress(){return onPageSwipe(_this2,localDataStore,CurrentData,false);}})),react_default.a.createElement(View_default.a,{style:[Helpers.buttonContainer,Helpers.midWidth]},react_default.a.createElement(Components_Button,{Text:CurrentData.penId,buttonStyle:{backgroundColor:Colors.AgriDarkblue},onPress:function onPress(){}})),react_default.a.createElement(View_default.a,{style:{padding:6,paddingLeft:15}},react_default.a.createElement(dist["a" /* Icon */],{name:"md-arrow-forward",type:"ionicon",size:25,color:"black",onPress:function onPress(){return onPageSwipe(_this2,localDataStore,CurrentData,true);}}))),react_default.a.createElement(View_default.a,{style:[Helpers.fullWidth]},react_default.a.createElement(Components_ContentProp,{texts:["Pig count","Batch","Age Days","Weight","Growth Cruve","Alarm Max","Alarm Min","Mixtur","Correction","Portion in kg"],onPress:function onPress(element){return onDataPress(1,element);},datas:[pigcount,batch_name,age,displayWeight,CurrentData.data.datas.gcurve?CurrentData.data.datas.gcurve:"default",batch.datas.devianceMin+" %",batch.datas.devianceMax+" %","-","-","-"]})),react_default.a.createElement(View_default.a,{style:{height:20}}),react_default.a.createElement(View_default.a,{style:[Helpers.fill,App?Helpers.fullWidth:Helpers.midWidth,App?{}:{height:215}]},react_default.a.createElement(Components_ContentProp,{texts:["Control weighings"],datas:[]}),react_default.a.createElement(View_default.a,{style:{height:10}}),react_default.a.createElement(FlatList_default.a,{data:this.state.Weighings,renderItem:function renderItem(_ref){var item=_ref.item,index=_ref.index;if(item==="__jsogObjectId")return react_default.a.createElement(react_default.a.Fragment,null);var Weight=_this2.state.WeighingsList[Object.keys(item)[0]];return react_default.a.createElement(Components_ContentProp,{texts:[format_Time(Weight.time)],datas:[Weight.weight+"   : "+Weight.count+" pigs"]});},numColumns:1,keyExtractor:function keyExtractor(item,index){return String(index);}})),react_default.a.createElement(View_default.a,{style:{height:20}}),react_default.a.createElement(View_default.a,{style:[Helpers.fill,App?Helpers.fullWidth:Helpers.midWidth,App?{}:{height:215}]},react_default.a.createElement(Components_ContentProp,{texts:["Action log"],datas:[]}),react_default.a.createElement(View_default.a,{style:{height:10}}),react_default.a.createElement(FlatList_default.a,{data:this.state.Comments,renderItem:function renderItem(_ref2){var item=_ref2.item,index=_ref2.index;if(item==="__jsogObjectId")return react_default.a.createElement(react_default.a.Fragment,null);var Comment=_this2.state.CommentsList[Object.keys(item)[0]];return react_default.a.createElement(Components_ContentProp,{texts:[format_Time(Comment.time)+":\n"+Comment.user],datas:[(Comment.quantity?Comment.quantity+" * ":"")+Comment.action+":\n"+Comment.data]});},numColumns:1,keyExtractor:function keyExtractor(item,index){return String(index);}})),react_default.a.createElement(View_default.a,{style:{height:30}}),react_default.a.createElement(View_default.a,{style:[Helpers.borderContainer,Helpers.midWidth]},react_default.a.createElement(Components_OperationsPanel,null)));}}}]);return DataDisplay_Pens;}(react["Component"]);function onPageSwipe(Control,localDataStore,CurrentData,dir){var section=localDataStore.pens[CurrentData.penId].section;var Pens=sortObject(localDataStore.sections[section].pens);if(CurrentData.type===DataRefs.PENS&&CurrentData.data&&Pens[CurrentData.penId]){var index=Object.keys(Pens).indexOf(CurrentData.penId);switch(dir){case true:index=index+1;break;case false:index=index-1;break;}if(index<0)index=Object.keys(Pens).length-1;else if(index>=Object.keys(Pens).length)index=0;Control.props.setCurrentData(Object.keys(Pens)[index]);NavigationService.replace("DataDisplay");}}function onDataPress(sender,element){switch(sender){case 1:switch(element.index){case 0:console.log("test");break;}break;}}var DataDisplay_Pens_mapStateToProps=function mapStateToProps(state){var firebase=state.firebase;return{firebase:firebase};};var DataDisplay_Pens_mapDispatchToProps=function mapDispatchToProps(dispatch){return{setViewLoading:function setViewLoading(state){return dispatch(Firebase_Actions.viewIsLoading(state));},setViewError:function setViewError(error){return dispatch(Firebase_Actions.setViewError(error));},getPens:function getPens(DataTime){return dispatch(Firebase_Actions.actionStarting(Selectors_Actions.FETCH,DataRefs.PENS,{DataTime:DataTime}));},getWeights:function getWeights(penId,DataTime,MemSections){return dispatch(Firebase_Actions.actionStarting(Selectors_Actions.FETCH,DataRefs.WEIGHING,{PenId:penId,DataTime:DataTime,MemSections:MemSections}));},getComments:function getComments(penId){return dispatch(Firebase_Actions.actionStarting(Selectors_Actions.FETCH,DataRefs.COMMENTS,{PenId:penId}));},getBatch:function getBatch(DataTime){return dispatch(Firebase_Actions.actionStarting(Selectors_Actions.FETCH,DataRefs.BATCHS,{DataTime:DataTime}));},setCurrentData:function setCurrentData(penId){return dispatch(Firebase_Actions.setCurrentData({type:DataRefs.PENS,penId:penId}));},setCurrentDataElement:function setCurrentDataElement(element){return dispatch(Firebase_Actions.setCurrentData(element));}};};/* harmony default export */ var UserPanel_DataDisplay_Pens = (Object(es["b" /* connect */])(DataDisplay_Pens_mapStateToProps,DataDisplay_Pens_mapDispatchToProps)(DataDisplay_Pens_DataDisplay_Pens));
// CONCATENATED MODULE: C:/Users/daniel/Documents/GitHub/AgrisysApp-Web/App/Src/Containers/Cloud/UserPanel/DataDisplay_Pigs.js
function DataDisplay_Pigs_createSuper(Derived){var hasNativeReflectConstruct=DataDisplay_Pigs_isNativeReflectConstruct();return function _createSuperInternal(){var Super=getPrototypeOf_default()(Derived),result;if(hasNativeReflectConstruct){var NewTarget=getPrototypeOf_default()(this).constructor;result=Reflect.construct(Super,arguments,NewTarget);}else{result=Super.apply(this,arguments);}return possibleConstructorReturn_default()(this,result);};}function DataDisplay_Pigs_isNativeReflectConstruct(){if(typeof Reflect==="undefined"||!Reflect.construct)return false;if(Reflect.construct.sham)return false;if(typeof Proxy==="function")return true;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}));return true;}catch(e){return false;}}var DataDisplay_Pigs_DataDisplay_Pigs=function(_Component){inherits_default()(DataDisplay_Pigs,_Component);var _super=DataDisplay_Pigs_createSuper(DataDisplay_Pigs);function DataDisplay_Pigs(props){var _this;classCallCheck_default()(this,DataDisplay_Pigs);_this=_super.call(this,props);_this.state={currentData:props.currentData};var _this$setData=_this.setData(props),CurrentData=_this$setData.CurrentData,WeighingsList=_this$setData.WeighingsList,Weighings=_this$setData.Weighings;_this.state={currentData:CurrentData,WeighingsList:WeighingsList,Weighings:Weighings};return _this;}createClass_default()(DataDisplay_Pigs,[{key:"setData",value:function setData(Props){var localDataStore=Props.firebase.localDataStore;var CurrentData=this.state.currentData;var Pigs=sortObject(localDataStore.pigs);if(Pigs[CurrentData.TagId]){CurrentData.data=Pigs[CurrentData.TagId];}var WeighingsList=[];var Weighings=[];var App=Platform_default.a.OS==="android"||Platform_default.a.OS==="ios"?true:false;if(localDataStore&&localDataStore.weighings){if(localDataStore.weighings[CurrentData.penId]){WeighingsList=localDataStore.weighings[CurrentData.penId];for(var i=0;i<Object.keys(WeighingsList).length;i++){var name=Object.keys(WeighingsList)[i];if(!name)continue;var object=WeighingsList[name];if(!object||!object.time)continue;Weighings.push(defineProperty_default()({},name,object));}Weighings=Weighings.sort(function(a,b){return a.time>b.time?1:-1;});if(App){Weighings=Weighings.slice(0,5);}}}if(CurrentData.data&&!CurrentData.data.datas)CurrentData.data.datas={};return{CurrentData:CurrentData,WeighingsList:WeighingsList,Weighings:Weighings};}},{key:"getData",value:function getData(){if(this.props.firebase&&this.props.firebase.localDataStore&&this.state.currentData.penId){var localDataStore=this.props.firebase.localDataStore;if(!localDataStore.pens)localDataStore.pens={};this.props.getPens(localDataStore.pens.update_time);this.props.getWeights(this.state.currentData.penId);this.props.getBatch(null);}}},{key:"checkData",value:function checkData(props){}},{key:"componentDidMount",value:function componentDidMount(){this.props.setViewLoading(false);this.props.setViewError(null);this.checkData(this.props);this.getData();}},{key:"componentDidUpdate",value:function componentDidUpdate(prevProps,prevState){if(this.props!==prevProps){this.checkData(this.props);if(this.props.firebase.localDataStore){var localDataStore=this.props.firebase.localDataStore;if(JSON.stringify(prevProps.currentData)!==JSON.stringify(this.state.currentData)||localDataStore.sections&&JSON.stringify(this.state.Sections)!==JSON.stringify(sortObject(localDataStore.sections))||localDataStore.weighings&&JSON.stringify(this.state.Weighings)!==JSON.stringify(sortObject(localDataStoree.weighings))){var _this$setData2=this.setData(this.props),CurrentData=_this$setData2.CurrentData,WeighingsList=_this$setData2.WeighingsList,Weighings=_this$setData2.Weighings;this.setState({currentData:CurrentData,WeighingsList:WeighingsList,Weighings:Weighings});}}}}},{key:"render",value:function render(){var _this2=this;var IsLoading=this.props.firebase.firebaseIsLoading;var localDataStore=this.props.firebase.localDataStore;var CurrentData=this.state.currentData;if(!CurrentData.data){return react_default.a.createElement(View_default.a,{style:[Helpers.fillRowCenter,Helpers.center,Helpers.logoContainer]},react_default.a.createElement(Image_default.a,{style:Helpers.fullSize,source:Theme_Images.Hexa_icon,resizeMode:'contain'}));}else{var pigcount=CurrentData.data.datas.count?CurrentData.data.datas.count:0;var penWeight=[];if(this.state.Weighings.length>0){var count=pigcount?pigcount:1;penWeight=this.state.Weighings[0][Object.keys(this.state.Weighings[0])].weight/this.state.Weighings[0][Object.keys(this.state.Weighings[0])].count;}var batch_name=CurrentData.data.datas.batch?CurrentData.data.datas.batch:"No Batch";var batch={};var age="";var displayWeight=penWeight;if(CurrentData.data.datas.batch&&localDataStore.batchs&&localDataStore.batchs[CurrentData.data.datas.batch]){batch=localDataStore.batchs[CurrentData.data.datas.batch];var StartTime=batch.time;age=Math.floor((Date.now()-StartTime)/(1000*60*60*24));CurrentData.data.datas.gcurve=batch.gcurve;var Predict=CurvePredict(localDataStore,CurrentData.penId);displayWeight=Predict.Now;}if(!batch.datas)batch.datas={};if(!batch.datas.devianceMin)batch.datas.devianceMin=0;if(!batch.datas.devianceMax)batch.datas.devianceMax=0;return react_default.a.createElement(View_default.a,{style:[Helpers.contentContainer,Helpers.fullSize,Helpers.fill]},react_default.a.createElement(View_default.a,{style:[Helpers.buttonContainer,Helpers.midWidth,Metrics.bottomMargin,Helpers.rowCenter]},react_default.a.createElement(View_default.a,{style:{padding:6,paddingRight:15}},react_default.a.createElement(dist["a" /* Icon */],{name:"md-arrow-back",type:"ionicon",size:25,color:"black",onPress:function onPress(){return DataDisplay_Pigs_onPageSwipe(_this2,localDataStore,CurrentData,false);}})),react_default.a.createElement(View_default.a,{style:[Helpers.buttonContainer,Helpers.midWidth]},react_default.a.createElement(Components_Button,{Text:CurrentData.penId,buttonStyle:{backgroundColor:Colors.AgriDarkblue},onPress:function onPress(){}})),react_default.a.createElement(View_default.a,{style:{padding:6,paddingLeft:15}},react_default.a.createElement(dist["a" /* Icon */],{name:"md-arrow-forward",type:"ionicon",size:25,color:"black",onPress:function onPress(){return DataDisplay_Pigs_onPageSwipe(_this2,localDataStore,CurrentData,true);}}))),react_default.a.createElement(View_default.a,{style:[Helpers.fullWidth]},react_default.a.createElement(Components_ContentProp,{texts:["Pig count","Batch","Age Days","Weight","Growth Cruve","Alarm Max","Alarm Min","Mixtur","Correction","Portion in kg"],onPress:function onPress(element){return DataDisplay_Pigs_onDataPress(1,element);},datas:[pigcount,batch_name,age,displayWeight,CurrentData.data.datas.gcurve?CurrentData.data.datas.gcurve:"default",batch.datas.devianceMin+" %",batch.datas.devianceMax+" %","-","-","-"]})),react_default.a.createElement(View_default.a,{style:{height:20}}),react_default.a.createElement(View_default.a,{style:[Helpers.fill,App?Helpers.fullWidth:Helpers.midWidth,App?{}:{height:215}]},react_default.a.createElement(Components_ContentProp,{texts:["Last weighings"],datas:[]}),react_default.a.createElement(View_default.a,{style:{height:10}}),react_default.a.createElement(FlatList_default.a,{data:this.state.Weighings,renderItem:function renderItem(_ref){var item=_ref.item,index=_ref.index;if(item==="__jsogObjectId")return react_default.a.createElement(react_default.a.Fragment,null);var Weight=_this2.state.WeighingsList[Object.keys(item)[0]];return react_default.a.createElement(Components_ContentProp,{texts:[format_Time(Weight.time)],datas:[Weight.weight]});},numColumns:1,keyExtractor:function keyExtractor(item,index){return String(index);}})),react_default.a.createElement(View_default.a,{style:{height:30}}),react_default.a.createElement(View_default.a,{style:[Helpers.borderContainer,Helpers.midWidth]},react_default.a.createElement(Components_OperationsPanel,null)));}}}]);return DataDisplay_Pigs;}(react["Component"]);function DataDisplay_Pigs_onPageSwipe(Control,localDataStore,CurrentData,dir){var section=localDataStore.pens[CurrentData.penId].section;var Pens=sortObject(localDataStore.sections[section].pens);if(CurrentData.type===DataRefs.PENS&&CurrentData.data&&Pens[CurrentData.penId]){var index=Object.keys(Pens).indexOf(CurrentData.penId);switch(dir){case true:index=index+1;break;case false:index=index-1;break;}if(index<0)index=Object.keys(Pens).length-1;else if(index>=Object.keys(Pens).length)index=0;Control.props.setCurrentData(Object.keys(Pens)[index]);NavigationService.replace("DataDisplay");}}function DataDisplay_Pigs_onDataPress(sender,element){switch(sender){case 1:switch(element.index){case 0:console.log("test");break;}break;}}var DataDisplay_Pigs_mapStateToProps=function mapStateToProps(state){var firebase=state.firebase;return{firebase:firebase};};var DataDisplay_Pigs_mapDispatchToProps=function mapDispatchToProps(dispatch){return{setViewLoading:function setViewLoading(state){return dispatch(Firebase_Actions.viewIsLoading(state));},setViewError:function setViewError(error){return dispatch(Firebase_Actions.setViewError(error));},getPens:function getPens(DataTime){return dispatch(Firebase_Actions.actionStarting(Selectors_Actions.FETCH,DataRefs.PENS,{DataTime:DataTime}));},getWeights:function getWeights(penId){return dispatch(Firebase_Actions.actionStarting(Selectors_Actions.FETCH,DataRefs.WEIGHING,{PenId:penId}));},getBatch:function getBatch(batchId){return dispatch(Firebase_Actions.actionStarting(Selectors_Actions.FETCH,DataRefs.BATCHS,{BatchId:batchId}));},setCurrentData:function setCurrentData(penId){return dispatch(Firebase_Actions.setCurrentData({type:DataRefs.PENS,penId:penId}));},setCurrentDataElement:function setCurrentDataElement(element){return dispatch(Firebase_Actions.setCurrentData(element));}};};/* harmony default export */ var UserPanel_DataDisplay_Pigs = (Object(es["b" /* connect */])(DataDisplay_Pigs_mapStateToProps,DataDisplay_Pigs_mapDispatchToProps)(DataDisplay_Pigs_DataDisplay_Pigs));
// CONCATENATED MODULE: C:/Users/daniel/Documents/GitHub/AgrisysApp-Web/App/Src/Containers/Cloud/UserPanel/DataDisplay.js
function DataDisplay_ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);if(enumerableOnly)symbols=symbols.filter(function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable;});keys.push.apply(keys,symbols);}return keys;}function DataDisplay_objectSpread(target){for(var i=1;i<arguments.length;i++){var source=arguments[i]!=null?arguments[i]:{};if(i%2){DataDisplay_ownKeys(Object(source),true).forEach(function(key){defineProperty_default()(target,key,source[key]);});}else if(Object.getOwnPropertyDescriptors){Object.defineProperties(target,Object.getOwnPropertyDescriptors(source));}else{DataDisplay_ownKeys(Object(source)).forEach(function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key));});}}return target;}function DataDisplay_createSuper(Derived){var hasNativeReflectConstruct=DataDisplay_isNativeReflectConstruct();return function _createSuperInternal(){var Super=getPrototypeOf_default()(Derived),result;if(hasNativeReflectConstruct){var NewTarget=getPrototypeOf_default()(this).constructor;result=Reflect.construct(Super,arguments,NewTarget);}else{result=Super.apply(this,arguments);}return possibleConstructorReturn_default()(this,result);};}function DataDisplay_isNativeReflectConstruct(){if(typeof Reflect==="undefined"||!Reflect.construct)return false;if(Reflect.construct.sham)return false;if(typeof Proxy==="function")return true;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}));return true;}catch(e){return false;}}var DataDisplay_DataDisplay=function(_Component){inherits_default()(DataDisplay,_Component);var _super=DataDisplay_createSuper(DataDisplay);function DataDisplay(props){var _this;classCallCheck_default()(this,DataDisplay);_this=_super.call(this,props);_this.state={currentData:{}};return _this;}createClass_default()(DataDisplay,[{key:"getData",value:function getData(){if(this.props.firebase&&this.props.firebase.localDataStore){var localDataStore=this.props.firebase.localDataStore;if(this.props.firebase.currentData&&this.props.firebase.currentData.type){var CurrentData=this.props.firebase.currentData;switch(CurrentData.type){case DataRefs.PIGS:break;}}}}},{key:"checkData",value:function checkData(props){}},{key:"componentDidMount",value:function componentDidMount(){this.props.setViewLoading(false);this.props.setViewError(null);this.checkData(this.props);this.getData();}},{key:"componentDidUpdate",value:function componentDidUpdate(prevProps,prevState){if(this.props!==prevProps){this.checkData(this.props);if(this.props.firebase.localDataStore){var localDataStore=this.props.firebase.localDataStore;if(this.props.firebase.currentData&&this.props.firebase.currentData.type&&JSON.stringify(this.state.currentData)!==JSON.stringify(this.props.firebase.currentData)){var CurrentData=this.props.firebase.currentData;switch(CurrentData.type){case DataRefs.PENS:if(localDataStore.pens){var Pens=sortObject(localDataStore.pens);if(Pens[CurrentData.penId]){if(JSON.stringify(CurrentData.data)!==JSON.stringify(Pens[CurrentData.penId])){CurrentData.data=Pens[CurrentData.penId];}this.props.setCurrentDataElement(CurrentData);}}this.setState({currentData:CurrentData});break;case DataRefs.PIGS:this.setState({currentData:CurrentData});break;default:this.setState({currentData:CurrentData});break;}}}}}},{key:"render",value:function render(){var IsLoading=this.props.firebase.firebaseIsLoading;var localDataStore=this.props.firebase.localDataStore;var ErrorMessage=this.props.firebase.viewError;var CurrentData=this.state.currentData;var DataView=react_default.a.createElement(View_default.a,null);switch(CurrentData.type){case DataRefs.PENS:DataView=react_default.a.createElement(UserPanel_DataDisplay_Pens,{currentData:this.state.currentData});break;case DataRefs.PIGS:DataView=DataDisplay_PigData_View(this,CurrentData,localDataStore);break;}return react_default.a.createElement(ScrollView_default.a,{style:[Helpers.fullSize,Helpers.fill]},react_default.a.createElement(View_default.a,{style:[Helpers.mainContainer]},react_default.a.createElement(View_default.a,{style:[Helpers.contentContainer,Helpers.fullSize,Helpers.fill]},ErrorMessage?react_default.a.createElement(Text_default.a,{style:ApplicationStyles.error},ErrorMessage):react_default.a.createElement(react_default.a.Fragment,null),DataView),(IsLoading||this.props.firebase.viewIsLoading)&&react_default.a.createElement(ActivityIndicator_default.a,{style:Helpers.loadingContainer,size:"large"})));}}]);return DataDisplay;}(react["Component"]);function DataDisplay_onPageSwipe(Control,localDataStore,CurrentData,dir){var section=localDataStore.pens[CurrentData.penId].section;var Pens=sortObject(localDataStore.sections[section].pens);if(CurrentData.type===DataRefs.PENS&&CurrentData.data&&Pens[CurrentData.penId]){var index=Object.keys(Pens).indexOf(CurrentData.penId);switch(dir){case true:index=index+1;break;case false:index=index-1;break;}if(index<0)index=Object.keys(Pens).length-1;else if(index>=Object.keys(Pens).length)index=0;Control.props.setCurrentData(Object.keys(Pens)[index]);NavigationService.replace("DataDisplay");}}function DataDisplay_onDataPress(sender,element){switch(sender){case 1:switch(element.index){case 0:console.log("test");break;}break;}}var DataDisplay_PigData_View=function PigData_View(Control,CurrentData,localDataStore){var Pigs;if(localDataStore&&localDataStore.pigs){Pigs=sortObject(localDataStore.pigs);if(Pigs[CurrentData.TagId]){CurrentData.data=Pigs[CurrentData.TagId];}}if(CurrentData.data&&!CurrentData.data.datas)CurrentData.data.datas={};if(!CurrentData.data){return react_default.a.createElement(View_default.a,{style:[Helpers.fillRowCenter,Helpers.center,Helpers.logoContainer]},react_default.a.createElement(Image_default.a,{style:Helpers.fullSize,source:Theme_Images.Hexa_icon,resizeMode:'contain'}));}var App=Platform_default.a.OS==="android"||Platform_default.a.OS==="ios"?true:false;return react_default.a.createElement(View_default.a,{style:[Helpers.contentContainer,Helpers.fullSize,Helpers.fill]},App?react_default.a.createElement(View_default.a,{style:[Helpers.fill,Helpers.row,Helpers.fullWidth]},react_default.a.createElement(View_default.a,{style:[Helpers.fill,Helpers.column,{backgroundColor:"red"}]},react_default.a.createElement(View_default.a,{style:[Helpers.fill,Helpers.row,Helpers.fullWidth,{backgroundColor:"blue"}]},react_default.a.createElement(View_default.a,{style:{justifyContent:'center',alignItems:'center'}})),react_default.a.createElement(View_default.a,{style:[Helpers.fill,Helpers.row,Helpers.fullWidth]},react_default.a.createElement(Text_default.a,null,"Messages"),react_default.a.createElement(Text_default.a,null,"Errors"))),react_default.a.createElement(View_default.a,{style:[Helpers.fill,Helpers.column]},connectedState===ConnectionState.CONNECTED?react_default.a.createElement(View_default.a,{style:DataDisplay_objectSpread(DataDisplay_objectSpread({},DataDisplay_styles.circle),{},{backgroundColor:"green",justifyContent:'center',alignItems:'center'})},react_default.a.createElement(Text_default.a,null,"Device is"),react_default.a.createElement(Text_default.a,null,"connected")):react_default.a.createElement(View_default.a,{style:DataDisplay_objectSpread(DataDisplay_objectSpread({},DataDisplay_styles.circle),{},{backgroundColor:"red",justifyContent:'center',alignItems:'center'})},react_default.a.createElement(Text_default.a,null,"No Device"),react_default.a.createElement(Text_default.a,null,"connected")))):react_default.a.createElement(react_default.a.Fragment,null),react_default.a.createElement(View_default.a,{style:[Helpers.buttonContainer,Helpers.midWidth]},react_default.a.createElement(Components_Button,{Text:CurrentData.TagId,buttonStyle:{backgroundColor:Colors.AgriDarkblue},onPress:function onPress(){}})),react_default.a.createElement(View_default.a,{style:[Helpers.fullWidth]},react_default.a.createElement(Components_ContentProp,{ingrid:true,texts:["Section","Pen"],datas:[CurrentData.data.section,CurrentData.data.pen]}),react_default.a.createElement(View_default.a,{style:{height:20}}),react_default.a.createElement(View_default.a,{style:(Helpers.midWidth,Helpers.colCenter)},react_default.a.createElement(dist["b" /* Input */],{label:"Comment:",multiline:true,containerStyle:[{borderWidth:1}],style:[ApplicationStyles.input],onChangeText:function onChangeText(text){},value:"NONE"}))));};var DataDisplay_styles=StyleSheet_default.a.create({circle:{width:125,height:125,borderRadius:125/2,marginTop:Metrics.tiny,marginLeft:Metrics.tiny}});var DataDisplay_mapStateToProps=function mapStateToProps(state){var firebase=state.firebase;return{firebase:firebase};};var DataDisplay_mapDispatchToProps=function mapDispatchToProps(dispatch){return{setViewLoading:function setViewLoading(state){return dispatch(Firebase_Actions.viewIsLoading(state));},setViewError:function setViewError(error){return dispatch(Firebase_Actions.setViewError(error));},getWeights:function getWeights(penId){return dispatch(Firebase_Actions.actionStarting(Selectors_Actions.FETCH,DataRefs.WEIGHING,{PenId:penId}));},setCurrentData:function setCurrentData(penId){return dispatch(Firebase_Actions.setCurrentData({type:DataRefs.PENS,penId:penId}));},setCurrentDataElement:function setCurrentDataElement(element){return dispatch(Firebase_Actions.setCurrentData(element));}};};/* harmony default export */ var UserPanel_DataDisplay = (Object(es["b" /* connect */])(DataDisplay_mapStateToProps,DataDisplay_mapDispatchToProps)(DataDisplay_DataDisplay));
// CONCATENATED MODULE: C:/Users/daniel/Documents/GitHub/AgrisysApp-Web/App/Src/Containers/Cloud/UserPanel/DataPlotter.js
function DataPlotter_createSuper(Derived){var hasNativeReflectConstruct=DataPlotter_isNativeReflectConstruct();return function _createSuperInternal(){var Super=getPrototypeOf_default()(Derived),result;if(hasNativeReflectConstruct){var NewTarget=getPrototypeOf_default()(this).constructor;result=Reflect.construct(Super,arguments,NewTarget);}else{result=Super.apply(this,arguments);}return possibleConstructorReturn_default()(this,result);};}function DataPlotter_isNativeReflectConstruct(){if(typeof Reflect==="undefined"||!Reflect.construct)return false;if(Reflect.construct.sham)return false;if(typeof Proxy==="function")return true;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}));return true;}catch(e){return false;}}var DataPlotter_DataDisplay=function(_Component){inherits_default()(DataDisplay,_Component);var _super=DataPlotter_createSuper(DataDisplay);function DataDisplay(props){var _this;classCallCheck_default()(this,DataDisplay);_this=_super.call(this,props);var _this$setData=_this.setData(props),isClosed=_this$setData.isClosed,isVirtual=_this$setData.isVirtual,StartDate=_this$setData.StartDate,EndDate=_this$setData.EndDate,Animals=_this$setData.Animals,TargetWeight=_this$setData.TargetWeight,AverageWeight=_this$setData.AverageWeight,AverageGrowth=_this$setData.AverageGrowth,Comments_List=_this$setData.Comments_List,Comments=_this$setData.Comments;_this.state={Prediction:false,isClosed:isClosed,isVirtual:isVirtual,StartDate:StartDate,EndDate:EndDate,Animals:Animals,TargetWeight:TargetWeight,AverageWeight:AverageWeight,AverageGrowth:AverageGrowth,Comments_List:Comments_List,Comments:Comments};return _this;}createClass_default()(DataDisplay,[{key:"setData",value:function setData(Props){var localDataStore=Props.firebase.localDataStore;var CurrentData=Props.firebase.currentData;var Batch=localDataStore.batchs[this.props.firebase.currentData.batchId];var StartDate,EndDate,TargetWeight,PenCount,Animals,AverageWeight,AverageGrowth,isClosed,isVirtual;var Data=GetStats_FromBatch(Batch,localDataStore);if(Data){StartDate=Data.StartDate;EndDate=Data.EndDate;TargetWeight=Data.TargetWeight;PenCount=Data.PenCount;Animals=Data.Animals;AverageWeight=Data.AverageWeight;AverageGrowth=Data.AverageGrowth;isClosed=Data.isClosed;isVirtual=Data.isVirtual;}var Comments_List=null;var Comments=[];if(Batch&&Batch.state&&Batch.state==="Closed"&&Batch.closed&&Batch.closed.comments){Comments_List=[];Object.keys(Batch.pens).reverse().filter(function(e){return e!=='__jsogObjectId';}).forEach(function(element){var CommentsList=[];if(Batch.closed.comments[element]){CommentsList=Batch.closed.comments[element];for(var i=0;i<Object.keys(CommentsList).length;i++){var name=Object.keys(CommentsList)[i];if(!name)continue;var object=CommentsList[name];if(!object||!object.time)continue;object.pen=element;Comments.push(defineProperty_default()({},name,object));}}Comments_List=Comments_List.concat(CommentsList);});}Comments=Comments.sort(function(a,b){return a.time>b.time?1:-1;});return{isClosed:isClosed,isVirtual:isVirtual,StartDate:StartDate,EndDate:EndDate,Animals:Animals,TargetWeight:TargetWeight,AverageWeight:AverageWeight,AverageGrowth:AverageGrowth,Comments_List:Comments_List,Comments:Comments};}},{key:"getData",value:function getData(){var _this2=this;var localDataStore=this.props.firebase.localDataStore;var CurrentData=this.props.firebase.currentData;if(CurrentData&&CurrentData.batchId&&localDataStore.batchs[CurrentData.batchId]){var batchData=localDataStore.batchs[CurrentData.batchId];this.props.getWeights(localDataStore.weighings?localDataStore.weighings.update_time:null,localDataStore.sections);var PenMemTime=null;if(localDataStore.pens)PenMemTime=localDataStore.pens.update_time;if(batchData.pens){Object.keys(batchData.pens).filter(function(e){return e!=='__jsogObjectId';}).forEach(function(Pen){_this2.props.getPen(Pen,PenMemTime);});}var TempGraph="";if(CurrentData.curveId){TempGraph=CurrentData.curveId;}this.props.getCurve(TempGraph);}}},{key:"checkData",value:function checkData(props){}},{key:"componentDidUpdate",value:function componentDidUpdate(prevProps,prevState){if(this.props!==prevProps){this.checkData(this.props);if(this.props.firebase.localDataStore){var _this$setData2=this.setData(this.props),isClosed=_this$setData2.isClosed,isVirtual=_this$setData2.isVirtual,StartDate=_this$setData2.StartDate,EndDate=_this$setData2.EndDate,Animals=_this$setData2.Animals,TargetWeight=_this$setData2.TargetWeight,AverageWeight=_this$setData2.AverageWeight,AverageGrowth=_this$setData2.AverageGrowth,Comments_List=_this$setData2.Comments_List,Comments=_this$setData2.Comments;this.setState({Prediction:false,isClosed:isClosed,isVirtual:isVirtual,StartDate:StartDate,EndDate:EndDate,Animals:Animals,TargetWeight:TargetWeight,AverageWeight:AverageWeight,AverageGrowth:AverageGrowth,Comments_List:Comments_List,Comments:Comments});}}}},{key:"componentDidMount",value:function componentDidMount(){this.props.setViewLoading(false);this.props.setViewError(null);this.checkData(this.props);this.getData();}},{key:"render",value:function render(){var _this3=this;var IsLoading=this.props.firebase.firebaseIsLoading;var ErrorMessage=this.props.firebase.viewError;var localDataStore=this.props.firebase.localDataStore;var CurrentData=this.props.firebase.currentData;var StartDate=this.state.StartDate;var Dif_Time=new Date().getTime()-StartDate;var Days=Dif_Time/(1000*3600*24);Days=Days.toFixed(0);StartDate=new Date(StartDate).getDate()+"/"+(new Date(StartDate).getMonth()+1)+"/"+new Date(StartDate).getFullYear();var EndDate=this.state.EndDate;EndDate=new Date(EndDate).getDate()+"/"+(new Date(EndDate).getMonth()+1)+"/"+new Date(EndDate).getFullYear();var Virtual=String(this.state.isVirtual);Virtual=Virtual.charAt(0).toUpperCase()+Virtual.slice(1);return react_default.a.createElement(ScrollView_default.a,{style:[Helpers.fullSize,Helpers.fill]},react_default.a.createElement(View_default.a,{style:[Helpers.mainContainer]},react_default.a.createElement(View_default.a,{style:[Helpers.contentContainer,Helpers.fullSize,Helpers.fill]},ErrorMessage?react_default.a.createElement(Text_default.a,{style:ApplicationStyles.error},ErrorMessage):react_default.a.createElement(react_default.a.Fragment,null),react_default.a.createElement(Components_TitleElement,{Text:this.props.firebase.currentData.batchId?this.props.firebase.currentData.batchId:"-NON-"}),react_default.a.createElement(View_default.a,null,react_default.a.createElement(View_default.a,{style:[Helpers.fullWidth,{justifyContent:'center'}]},react_default.a.createElement(react_native_super_grid["a" /* FlatGrid */],{itemDimension:120,spacing:10,data:[{title:'Start',data:StartDate},{title:'End Forecast',data:EndDate},{title:'Target Weight',data:this.state.TargetWeight}],renderItem:function renderItem(_ref){var item=_ref.item;return react_default.a.createElement(View_default.a,{style:[Helpers.borderContainer,{textAlign:'center'}]},react_default.a.createElement(Text_default.a,null,item.title),react_default.a.createElement(Text_default.a,null,item.data));}})),react_default.a.createElement(View_default.a,{style:[Helpers.fullWidth,{justifyContent:'center'}]},react_default.a.createElement(react_native_super_grid["a" /* FlatGrid */],{itemDimension:120,spacing:10,data:[{title:'Animals',data:this.state.Animals},{title:'Day',data:Days},{title:'Avarage weight',data:this.state.AverageWeight},{title:'Average growth',data:this.state.AverageGrowth}],renderItem:function renderItem(_ref2){var item=_ref2.item;return react_default.a.createElement(View_default.a,{style:[Helpers.borderContainer,{textAlign:'center'}]},react_default.a.createElement(Text_default.a,null,item.title),react_default.a.createElement(Text_default.a,null,item.data));}})),react_default.a.createElement(Components_Button,{Text:"Show Predict",onPress:function onPress(){_this3.setState({Prediction:!_this3.state.Prediction});}})),react_default.a.createElement(View_default.a,{style:[Helpers.fill,Helpers.fullWidth,{minHeight:750}]},react_default.a.createElement(UserPanel_CurveElement,{Predict:this.state.Prediction,weighings:localDataStore.weighings})),this.state.Comments_List?react_default.a.createElement(View_default.a,{style:[Helpers.fill,Helpers.midWidth,{height:415}]},react_default.a.createElement(Components_ContentProp,{texts:["Action log"],datas:[]}),react_default.a.createElement(View_default.a,{style:{height:10}}),react_default.a.createElement(FlatList_default.a,{data:this.state.Comments.filter(function(e){return e!=='__jsogObjectId';}),renderItem:function renderItem(_ref3){var item=_ref3.item,index=_ref3.index;var Comment=_this3.state.Comments_List[0][Object.keys(item)[0]];if(!Comment)return null;return react_default.a.createElement(Components_ContentProp,{texts:[format_Time(Comment.time)+":\n"+Comment.user],datas:[Comment.pen+": "+Comment.action+":\n"+Comment.data]});},numColumns:1,keyExtractor:function keyExtractor(item,index){return String(index);}})):react_default.a.createElement(react_default.a.Fragment,null)),(IsLoading||this.props.firebase.viewIsLoading)&&react_default.a.createElement(ActivityIndicator_default.a,{style:Helpers.loadingContainer,size:"large"})));}}]);return DataDisplay;}(react["Component"]);var DataPlotter_mapStateToProps=function mapStateToProps(state){var firebase=state.firebase;return{firebase:firebase};};var DataPlotter_mapDispatchToProps=function mapDispatchToProps(dispatch){return{setViewLoading:function setViewLoading(state){return dispatch(Firebase_Actions.viewIsLoading(state));},setViewError:function setViewError(error){return dispatch(Firebase_Actions.setViewError(error));},getPen:function getPen(penId,DataTime){return dispatch(Firebase_Actions.actionStarting(Selectors_Actions.FETCH,DataRefs.PENS,{PenId:penId,DataTime:DataTime}));},getWeights:function getWeights(DataTime,MemSections){return dispatch(Firebase_Actions.actionStarting(Selectors_Actions.FETCH,DataRefs.WEIGHING,{DataTime:DataTime,MemSections:MemSections}));},getBatch:function getBatch(batchId){return dispatch(Firebase_Actions.actionStarting(Selectors_Actions.FETCH,DataRefs.BATCHS,{}));},getCurve:function getCurve(curveid){return dispatch(Firebase_Actions.actionStarting(Selectors_Actions.FETCH,DataRefs.GRAPH,{GraphId:curveid}));},setCurve:function setCurve(curve){return dispatch(Firebase_Actions.actionStarting(Selectors_Actions.CREATE,DataRefs.GRAPH,{Graph:curve}));}};};/* harmony default export */ var DataPlotter = (Object(es["b" /* connect */])(DataPlotter_mapStateToProps,DataPlotter_mapDispatchToProps)(DataPlotter_DataDisplay));
// CONCATENATED MODULE: C:/Users/daniel/Documents/GitHub/AgrisysApp-Web/App/Src/Navigators/WebViewer.js
function WebViewer_createSuper(Derived){var hasNativeReflectConstruct=WebViewer_isNativeReflectConstruct();return function _createSuperInternal(){var Super=getPrototypeOf_default()(Derived),result;if(hasNativeReflectConstruct){var NewTarget=getPrototypeOf_default()(this).constructor;result=Reflect.construct(Super,arguments,NewTarget);}else{result=Super.apply(this,arguments);}return possibleConstructorReturn_default()(this,result);};}function WebViewer_isNativeReflectConstruct(){if(typeof Reflect==="undefined"||!Reflect.construct)return false;if(Reflect.construct.sham)return false;if(typeof Proxy==="function")return true;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}));return true;}catch(e){return false;}}var WebViewer_ViewContainer=function(_Component){inherits_default()(ViewContainer,_Component);var _super=WebViewer_createSuper(ViewContainer);function ViewContainer(props){var _this;classCallCheck_default()(this,ViewContainer);_this=_super.call(this,props);defineProperty_default()(assertThisInitialized_default()(_this),"onChange",function(_ref){var window=_ref.window,screen=_ref.screen;_this.setState({dimensions:{window:window,screen:screen}});});var _window=Dimensions_default.a.get("window");var _screen=Dimensions_default.a.get("screen");_this.state={dimensions:{window:_window,screen:_screen},viewState:0,ShowMainError:false,FocusSubscription:null,NaviParams:props.navigation.state.params};return _this;}createClass_default()(ViewContainer,[{key:"setData",value:function setData(Props){}},{key:"getData",value:function getData(){}},{key:"checkData",value:function checkData(props){}},{key:"componentDidUpdate",value:function componentDidUpdate(prevProps,prevState){if(this.props!==prevProps){this.checkData(this.props);if(this.props.firebase.viewError!=prevProps.firebase.viewError){this.forceUpdate();}}}},{key:"componentDidMount",value:function componentDidMount(){var _this2=this;Dimensions_default.a.addEventListener("change",this.onChange);this.props.setFirebaseError(null);this.checkData(this.props);this.getData();var FocusSubscription=this.props.navigation.addListener('willFocus',function(payload){_this2.props.setViewLoading(false);_this2.props.setViewError(null);});this.setState({FocusSubscription:FocusSubscription});}},{key:"componentWillUnmount",value:function componentWillUnmount(){if(this.state.FocusSubscription){this.state.FocusSubscription.remove();}Dimensions_default.a.removeEventListener("change",this.onChange);}},{key:"render",value:function render(){var ErrorMessage=this.props.firebase.viewError;var firebaseErrorMessage=this.props.firebase.firebaseErrorMessage;var wide=this.state.dimensions.window.width>900?true:false;var App=Platform_default.a.OS==='ios'||Platform_default.a.OS==='android'||!wide;var Menu=this.state.NaviParams.Menu;var Main=this.state.NaviParams.Main;if(Menu){if(App){return react_default.a.createElement(Main,null);}else{return react_default.a.createElement(View_default.a,{style:[Helpers.rowMain,Helpers.fullSize,{alignItems:'flex-start'}]},react_default.a.createElement(View_default.a,{style:[Helpers.fillRow,Helpers.fullSize,{flex:1,minWidth:390,maxWidth:400,marginHorizontal:-30,borderRightWidth:1}]},react_default.a.createElement(Menu,null)),react_default.a.createElement(View_default.a,{style:[Helpers.fillRow,Helpers.fullSize,{flex:1,alignItems:'flex-start',marginLeft:20}]},react_default.a.createElement(Main,null)));}}else{return react_default.a.createElement(Main,null);}}}]);return ViewContainer;}(react["Component"]);var WebViewer_mapStateToProps=function mapStateToProps(state){var firebase=state.firebase;return{firebase:firebase};};var WebViewer_mapDispatchToProps=function mapDispatchToProps(dispatch){return{setFirebaseError:function setFirebaseError(error){return dispatch(Firebase_Actions.setFirebaseError(error));},setViewLoading:function setViewLoading(state){return dispatch(Firebase_Actions.viewIsLoading(state));},setViewError:function setViewError(error){return dispatch(Firebase_Actions.setViewError(error));}};};/* harmony default export */ var WebViewer = (Object(es["b" /* connect */])(WebViewer_mapStateToProps,WebViewer_mapDispatchToProps)(WebViewer_ViewContainer));
// CONCATENATED MODULE: C:/Users/daniel/Documents/GitHub/AgrisysApp-Web/App/Src/Navigators/UserPanelNavigator.js
function UserPanelNavigator_ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);if(enumerableOnly)symbols=symbols.filter(function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable;});keys.push.apply(keys,symbols);}return keys;}function UserPanelNavigator_objectSpread(target){for(var i=1;i<arguments.length;i++){var source=arguments[i]!=null?arguments[i]:{};if(i%2){UserPanelNavigator_ownKeys(Object(source),true).forEach(function(key){defineProperty_default()(target,key,source[key]);});}else if(Object.getOwnPropertyDescriptors){Object.defineProperties(target,Object.getOwnPropertyDescriptors(source));}else{UserPanelNavigator_ownKeys(Object(source)).forEach(function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key));});}}return target;}function ViewTransformer(Main,Title){var window=Dimensions_default.a.get("window");var screen=Dimensions_default.a.get("screen");var wide=window.width>900?true:false;var App=Platform_default.a.OS==='ios'||Platform_default.a.OS==='android'||!wide;var NavComponent={};if(App){NavComponent.screen=Main;NavComponent.navigationOptions=function(){return{title:Title};};}else{NavComponent.screen=WebViewer;NavComponent.navigationOptions=function(){return{title:Title,headerMode:App?'screen':'none',headerShown:App?true:false};};}return NavComponent;}var UserPanelNavigator_StackNavigator=Object(createStackNavigator["a" /* default */])({UserFront:{screen:WebViewer,navigationOptions:function navigationOptions(){return{title:'Front Pannel',headerMode:Dimensions_default.a.get("window").width<900||Platform_default.a.OS==='ios'||Platform_default.a.OS==='android'?'screen':'none',headerShown:Dimensions_default.a.get("window").width<900||Platform_default.a.OS==='ios'||Platform_default.a.OS==='android'?true:false,headerLeft:function headerLeft(props){return react_default.a.createElement(View_default.a,{style:{padding:6,paddingLeft:15}},react_default.a.createElement(dist["a" /* Icon */],{type:"ionicon",name:"md-arrow-back",size:25,color:"black",onPress:function onPress(){if(props.label==="System Board"){NavigationService.nacigationPop();}else NavigationService.navigate('MainStack');}}));}};},params:Dimensions_default.a.get("window").width<900||Platform_default.a.OS==='ios'||Platform_default.a.OS==='android'?{Main:UserPanel_FrontScreen}:{Menu:UserPanel_FrontScreen,Main:UserPanel_Dashboard},path:'user_front'},UserDashBoard:UserPanelNavigator_objectSpread(UserPanelNavigator_objectSpread({},ViewTransformer(UserPanel_Dashboard,'Dashboard')),{params:{Menu:UserPanel_FrontScreen,Main:UserPanel_Dashboard},path:'user_dashboard'}),UserPigs:UserPanelNavigator_objectSpread(UserPanelNavigator_objectSpread({},ViewTransformer(UserPanel_Pigs,'Pigs')),{params:{Menu:UserPanel_FrontScreen,Main:UserPanel_Pigs},path:'user_pigs'}),UserPens:UserPanelNavigator_objectSpread(UserPanelNavigator_objectSpread({},ViewTransformer(UserPanel_Pens,'Pens')),{params:{Menu:UserPanel_FrontScreen,Main:UserPanel_Pens},path:'user_pens'}),UserBatchs:UserPanelNavigator_objectSpread(UserPanelNavigator_objectSpread({},ViewTransformer(UserPanel_Batchs,'Batchs')),{params:{Menu:UserPanel_FrontScreen,Main:UserPanel_Batchs},path:'user_batchs'}),UserCurves:UserPanelNavigator_objectSpread(UserPanelNavigator_objectSpread({},ViewTransformer(GrowthCurves,'Curves')),{params:{Menu:UserPanel_FrontScreen,Main:GrowthCurves},path:'user_curves'}),AutoPig:UserPanelNavigator_objectSpread(UserPanelNavigator_objectSpread({},ViewTransformer(UserPanel_AutoPig,'AutoPig')),{params:{Menu:UserPanel_FrontScreen,Main:UserPanel_AutoPig},path:'user_autopigs'}),UserOperations:UserPanelNavigator_objectSpread(UserPanelNavigator_objectSpread({},ViewTransformer(UserPanel_Operations,'Operations')),{params:{Menu:UserPanel_FrontScreen,Main:UserPanel_Operations},path:'user_operations'}),WeighingOperations:UserPanelNavigator_objectSpread(UserPanelNavigator_objectSpread({},ViewTransformer(UserPanel_Weighing,'Operations')),{params:{Menu:UserPanel_FrontScreen,Main:UserPanel_Weighing},path:'weight_operations'}),DataEditor:UserPanelNavigator_objectSpread(UserPanelNavigator_objectSpread({},ViewTransformer(UserPanel_DataEditor,'User Data')),{params:{Menu:UserPanel_FrontScreen,Main:UserPanel_DataEditor},path:'user_dataedtior'}),DataDisplay:UserPanelNavigator_objectSpread(UserPanelNavigator_objectSpread({},ViewTransformer(UserPanel_DataDisplay,'User Data')),{params:{Menu:UserPanel_FrontScreen,Main:UserPanel_DataDisplay},path:'user_datadisplay'}),DataPlotter:UserPanelNavigator_objectSpread(UserPanelNavigator_objectSpread({},ViewTransformer(DataPlotter,'Batch Data')),{params:{Menu:UserPanel_FrontScreen,Main:DataPlotter},path:'user_dataplotter'})},{initialRouteName:'UserFront',headerMode:'float',defaultNavigationOptions:{headerTitleAlign:'center',headerTitleStyle:UserPanelNavigator_objectSpread({},ApplicationStyles.navigationHeader),headerRight:function headerRight(){return react_default.a.createElement(View_default.a,{style:{padding:6}});}}});/* harmony default export */ var UserPanelNavigator = (UserPanelNavigator_StackNavigator);
// CONCATENATED MODULE: C:/Users/daniel/Documents/GitHub/AgrisysApp-Web/App/Src/Containers/Cloud/AdminPanel/AdminPanelStyle.js
/* harmony default export */ var AdminPanelStyle = (StyleSheet_default.a.create({}));
// CONCATENATED MODULE: C:/Users/daniel/Documents/GitHub/AgrisysApp-Web/App/Src/Containers/Cloud/AdminPanel/FrontScreen.js
function AdminPanel_FrontScreen_createSuper(Derived){var hasNativeReflectConstruct=AdminPanel_FrontScreen_isNativeReflectConstruct();return function _createSuperInternal(){var Super=getPrototypeOf_default()(Derived),result;if(hasNativeReflectConstruct){var NewTarget=getPrototypeOf_default()(this).constructor;result=Reflect.construct(Super,arguments,NewTarget);}else{result=Super.apply(this,arguments);}return possibleConstructorReturn_default()(this,result);};}function AdminPanel_FrontScreen_isNativeReflectConstruct(){if(typeof Reflect==="undefined"||!Reflect.construct)return false;if(Reflect.construct.sham)return false;if(typeof Proxy==="function")return true;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}));return true;}catch(e){return false;}}var AdminPanel_FrontScreen_FrontScreen=function(_Component){inherits_default()(FrontScreen,_Component);var _super=AdminPanel_FrontScreen_createSuper(FrontScreen);function FrontScreen(props){var _this;classCallCheck_default()(this,FrontScreen);_this=_super.call(this,props);_this.state={ISLOADPAGE:true};return _this;}createClass_default()(FrontScreen,[{key:"getData",value:function getData(){}},{key:"checkData",value:function checkData(props){}},{key:"componentDidMount",value:function componentDidMount(){this.props.setViewLoading(false);this.props.setViewError(null);this.props.clearDataMem();this.checkData(this.props);this.getData();}},{key:"componentDidUpdate",value:function componentDidUpdate(prevProps,prevState){if(this.props!==prevProps){this.checkData(this.props);}}},{key:"render",value:function render(){var _this2=this;var IsLoading=this.props.firebase.firebaseIsLoading;var firebaseUser=this.props.firebase.firebaseUser;return react_default.a.createElement(View_default.a,{style:[Helpers.mainContainer]},react_default.a.createElement(View_default.a,{style:[Helpers.contentContainer,Helpers.fullSize,Helpers.fillColMain]},firebaseUser?react_default.a.createElement(View_default.a,{style:Helpers.textContainer},react_default.a.createElement(Text_default.a,{style:ApplicationStyles.text},"Welcome: ",firebaseUser.displayName?firebaseUser.displayName:firebaseUser.email)):react_default.a.createElement(react_default.a.Fragment,null),react_default.a.createElement(Components_Button_Panel,{Texts:["User Board","Systems","Tools"],Images:[Theme_Images.DashBoard,Theme_Images.System],onPress:function onPress(ele){switch(ele.text){case"User Board":NavigationService.navigate("UserBoard");break;case"Systems":NavigationService.navigate("SystemBoard");break;case"Tools":NavigationService.navigate("ToolsBoard");break;}ele.text;}}),react_default.a.createElement(View_default.a,{style:[Helpers.buttonContainer,Helpers.midWidth]},react_default.a.createElement(Components_Button,{Text:"LogOut",onPress:function onPress(){_this2.props.logOut();}}))),(IsLoading||this.props.firebase.viewIsLoading)&&react_default.a.createElement(ActivityIndicator_default.a,{style:Helpers.loadingContainer,size:"large"}));}}]);return FrontScreen;}(react["Component"]);var AdminPanel_FrontScreen_mapStateToProps=function mapStateToProps(state){var firebase=state.firebase;return{firebase:firebase};};var AdminPanel_FrontScreen_mapDispatchToProps=function mapDispatchToProps(dispatch){return{setFirebaseError:function setFirebaseError(error){return dispatch(Firebase_Actions.setFirebaseError(error));},setViewLoading:function setViewLoading(state){return dispatch(Firebase_Actions.viewIsLoading(state));},setViewError:function setViewError(error){return dispatch(Firebase_Actions.setViewError(error));},clearDataMem:function clearDataMem(){return dispatch(Firebase_Actions.actionStarting(Selectors_Actions.CLEAR,DataRefs.USERSDATA));},logOut:function logOut(){return dispatch(Firebase_Actions.actionStarting(Selectors_Actions.SIGN,DataRefs.USERSDATA));}};};/* harmony default export */ var AdminPanel_FrontScreen = (Object(es["b" /* connect */])(AdminPanel_FrontScreen_mapStateToProps,AdminPanel_FrontScreen_mapDispatchToProps)(AdminPanel_FrontScreen_FrontScreen));
// CONCATENATED MODULE: C:/Users/daniel/Documents/GitHub/AgrisysApp-Web/App/Src/Containers/Cloud/AdminPanel/UserBoard.js
function UserBoard_createSuper(Derived){var hasNativeReflectConstruct=UserBoard_isNativeReflectConstruct();return function _createSuperInternal(){var Super=getPrototypeOf_default()(Derived),result;if(hasNativeReflectConstruct){var NewTarget=getPrototypeOf_default()(this).constructor;result=Reflect.construct(Super,arguments,NewTarget);}else{result=Super.apply(this,arguments);}return possibleConstructorReturn_default()(this,result);};}function UserBoard_isNativeReflectConstruct(){if(typeof Reflect==="undefined"||!Reflect.construct)return false;if(Reflect.construct.sham)return false;if(typeof Proxy==="function")return true;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}));return true;}catch(e){return false;}}var UserBoard_UserListBoard=function(_Component){inherits_default()(UserListBoard,_Component);var _super=UserBoard_createSuper(UserListBoard);function UserListBoard(props){var _this;classCallCheck_default()(this,UserListBoard);_this=_super.call(this,props);var _this$setData=_this.setData(props),UserList=_this$setData.UserList;_this.state={UserList:UserList,User:""};return _this;}createClass_default()(UserListBoard,[{key:"getData",value:function getData(){this.props.getUsers();}},{key:"setData",value:function setData(Props){var localDataStore=Props.firebase.localDataStore;var UserList=null;if(localDataStore&&localDataStore.users){UserList=sortObject(localDataStore.users);}return{UserList:UserList};}},{key:"checkData",value:function checkData(props){}},{key:"componentDidMount",value:function componentDidMount(){this.props.setViewLoading(false);this.props.setViewError(null);this.checkData(this.props);this.getData();}},{key:"componentDidUpdate",value:function componentDidUpdate(prevProps,prevState){if(this.props!==prevProps){this.checkData(this.props);if(this.props.firebase){if(this.props.firebase.localDataStore){if(this.props.firebase.localDataStore.users&&JSON.stringify(this.state.UserList)!==JSON.stringify(sortObject(this.props.firebase.localDataStore.users))){var _this$setData2=this.setData(this.props),UserList=_this$setData2.UserList;this.setState({UserList:UserList});}}}}}},{key:"render",value:function render(){var _this2=this;var IsLoading=this.props.firebase.firebaseIsLoading;return react_default.a.createElement(View_default.a,{style:[Helpers.mainContainer]},react_default.a.createElement(View_default.a,{style:[Helpers.contentContainer,Helpers.fullWidth,Helpers.fill]},react_default.a.createElement(View_default.a,{style:[Helpers.fill,Helpers.buttonContainer,Helpers.fullWidth,Metrics.bottomMargin,Helpers.column,{maxWidth:'100%'}]},this.state.UserList?react_default.a.createElement(View_default.a,{style:[Helpers.fill,Helpers.borderContainer,Metrics.smallHorizontalPadding,Metrics.smallVerticalPadding,{maxWidth:'100%',marginTop:10}]},react_default.a.createElement(SafeAreaView_default.a,{style:UserBoard_styles.container},react_default.a.createElement(FlatList_default.a,{data:Object.keys(this.state.UserList).filter(function(e){return e!=='__jsogObjectId';}),renderItem:function renderItem(_ref){var item=_ref.item,index=_ref.index;var User=_this2.state.UserList[item];return react_default.a.createElement(View_default.a,{style:[Helpers.fill,Helpers.rowCenter,Helpers.fullWidth,{height:35}]},react_default.a.createElement(Components_CustomListItem,{Title:User.name,itemStyle:[{minWidth:190,height:35}],onPress:function onPress(){}}),react_default.a.createElement(Components_CustomListItem,{itemStyle:[{width:70,height:35,justifyContent:"center"}],Title:"",onPress:function onPress(){_this2.setState({User:User.name});}}),react_default.a.createElement(Components_CustomListItem,{itemStyle:[{width:90,height:35}],Title:User.state,onPress:function onPress(){_this2.setState({User:User.name});}}));},keyExtractor:function keyExtractor(item,index){return index.toString();}}))):react_default.a.createElement(react_default.a.Fragment,null),react_default.a.createElement(dist["b" /* Input */],{label:"User-tag:",containerStyle:[{borderWidth:1,marginTop:10}],style:[ApplicationStyles.input],onChangeText:function onChangeText(text){_this2.setState({User:text});},value:this.state.User}))),(IsLoading||this.props.firebase.viewIsLoading)&&react_default.a.createElement(ActivityIndicator_default.a,{style:Helpers.loadingContainer,size:"large"}));}}]);return UserListBoard;}(react["Component"]);var UserBoard_styles=StyleSheet_default.a.create({circle:{width:125,height:125,borderRadius:125/2,marginTop:Metrics.tiny,marginLeft:Metrics.tiny}});var UserBoard_mapStateToProps=function mapStateToProps(state){var firebase=state.firebase;return{firebase:firebase};};var UserBoard_mapDispatchToProps=function mapDispatchToProps(dispatch){return{setFirebaseError:function setFirebaseError(error){return dispatch(Firebase_Actions.setFirebaseError(error));},setViewLoading:function setViewLoading(state){return dispatch(Firebase_Actions.viewIsLoading(state));},setViewError:function setViewError(error){return dispatch(Firebase_Actions.setViewError(error));},getUsers:function getUsers(){return dispatch(Firebase_Actions.actionStarting(Selectors_Actions.FETCH,DataRefs.USERS,{UserId:""}));}};};/* harmony default export */ var UserBoard = (Object(es["b" /* connect */])(UserBoard_mapStateToProps,UserBoard_mapDispatchToProps)(UserBoard_UserListBoard));
// CONCATENATED MODULE: C:/Users/daniel/Documents/GitHub/AgrisysApp-Web/App/Src/Containers/Cloud/AdminPanel/SystemBoard.js
function SystemBoard_createSuper(Derived){var hasNativeReflectConstruct=SystemBoard_isNativeReflectConstruct();return function _createSuperInternal(){var Super=getPrototypeOf_default()(Derived),result;if(hasNativeReflectConstruct){var NewTarget=getPrototypeOf_default()(this).constructor;result=Reflect.construct(Super,arguments,NewTarget);}else{result=Super.apply(this,arguments);}return possibleConstructorReturn_default()(this,result);};}function SystemBoard_isNativeReflectConstruct(){if(typeof Reflect==="undefined"||!Reflect.construct)return false;if(Reflect.construct.sham)return false;if(typeof Proxy==="function")return true;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}));return true;}catch(e){return false;}}var SystemBoard_SystemListBoard=function(_Component){inherits_default()(SystemListBoard,_Component);var _super=SystemBoard_createSuper(SystemListBoard);function SystemListBoard(props){var _this;classCallCheck_default()(this,SystemListBoard);_this=_super.call(this,props);var _this$setData=_this.setData(props),FarmList=_this$setData.FarmList;_this.state={FarmList:FarmList,Farm:{name:""}};return _this;}createClass_default()(SystemListBoard,[{key:"getData",value:function getData(){this.props.getFarms();}},{key:"setData",value:function setData(Props){var localDataStore=Props.firebase.localDataStore;var FarmList=null;if(localDataStore&&localDataStore.farms){FarmList=sortObject(localDataStore.farms);}return{FarmList:FarmList};}},{key:"checkData",value:function checkData(props){}},{key:"componentDidMount",value:function componentDidMount(){this.props.setViewLoading(false);this.props.setViewError(null);this.checkData(this.props);this.getData();}},{key:"componentDidUpdate",value:function componentDidUpdate(prevProps,prevState){if(this.props!==prevProps){this.checkData(this.props);if(this.props.firebase){if(this.props.firebase.localDataStore){if(this.props.firebase.localDataStore.farms&&JSON.stringify(this.state.FarmList)!==JSON.stringify(sortObject(this.props.firebase.localDataStore.farms))){var _this$setData2=this.setData(this.props),FarmList=_this$setData2.FarmList;this.setState({FarmList:FarmList});}}}}}},{key:"render",value:function render(){var _this2=this;var IsLoading=this.props.firebase.firebaseIsLoading;return react_default.a.createElement(View_default.a,{style:[Helpers.mainContainer]},react_default.a.createElement(View_default.a,{style:[Helpers.contentContainer,Helpers.fullWidth,Helpers.fill]},react_default.a.createElement(View_default.a,{style:[Helpers.fill,Helpers.buttonContainer,Helpers.fullWidth,Metrics.bottomMargin,Helpers.column,{maxWidth:'100%'}]},this.state.FarmList?react_default.a.createElement(View_default.a,{style:[Helpers.fill,Helpers.borderContainer,Metrics.smallHorizontalPadding,Metrics.smallVerticalPadding,{maxWidth:'100%',marginTop:10}]},react_default.a.createElement(SafeAreaView_default.a,{style:SystemBoard_styles.container},react_default.a.createElement(FlatList_default.a,{data:Object.keys(this.state.FarmList).filter(function(e){return e!=='__jsogObjectId';}),renderItem:function renderItem(_ref){var item=_ref.item,index=_ref.index;var Farm=_this2.state.FarmList[item];Farm.id=item;return react_default.a.createElement(View_default.a,{style:[Helpers.fill,Helpers.rowCenter,Helpers.fullWidth,{height:35}]},react_default.a.createElement(Components_CustomListItem,{Title:Farm.name,itemStyle:[{minWidth:100,height:35}],onPress:function onPress(){}}),react_default.a.createElement(Components_CustomListItem,{itemStyle:[{minWidth:150,height:35,justifyContent:"center"}],Title:Farm.manager,onPress:function onPress(){_this2.setState({Farm:Farm});}}),react_default.a.createElement(Components_CustomListItem,{itemStyle:[{minWidth:150,height:35}],Title:Farm.email,onPress:function onPress(){_this2.setState({Farm:Farm});}}));},keyExtractor:function keyExtractor(item,index){return index.toString();}}))):react_default.a.createElement(react_default.a.Fragment,null),react_default.a.createElement(View_default.a,{style:[Helpers.rowCenter,Helpers.fullWidth,{height:120}]},react_default.a.createElement(dist["b" /* Input */],{label:"Farm-tag:",containerStyle:[Helpers.halvWidth,{borderWidth:1,marginTop:10}],style:[ApplicationStyles.input],editable:false,onChangeText:function onChangeText(text){var Farm=_this2.state.Farm;Farm.name=text;_this2.setState({Farm:Farm});},value:this.state.Farm.name}),react_default.a.createElement(Components_Button,{Text:"Consys",boxStyle:[{marginLeft:10}],onPress:function onPress(){}}),react_default.a.createElement(Components_Button,{Text:"Farm Panel",boxStyle:[{marginLeft:10}],onPress:function onPress(){if(_this2.state.Farm.id!==""){_this2.props.clearDataMem();_this2.props.setUserFarm(_this2.state.Farm.id);NavigationService.navigate("UserPanel");}}})))),(IsLoading||this.props.firebase.viewIsLoading)&&react_default.a.createElement(ActivityIndicator_default.a,{style:Helpers.loadingContainer,size:"large"}));}}]);return SystemListBoard;}(react["Component"]);var SystemBoard_styles=StyleSheet_default.a.create({circle:{width:125,height:125,borderRadius:125/2,marginTop:Metrics.tiny,marginLeft:Metrics.tiny}});var SystemBoard_mapStateToProps=function mapStateToProps(state){var firebase=state.firebase;return{firebase:firebase};};var SystemBoard_mapDispatchToProps=function mapDispatchToProps(dispatch){return{setFirebaseError:function setFirebaseError(error){return dispatch(Firebase_Actions.setFirebaseError(error));},setViewLoading:function setViewLoading(state){return dispatch(Firebase_Actions.viewIsLoading(state));},setViewError:function setViewError(error){return dispatch(Firebase_Actions.setViewError(error));},clearDataMem:function clearDataMem(){return dispatch(Firebase_Actions.actionStarting(Selectors_Actions.CLEAR,DataRefs.USERSDATA));},getFarms:function getFarms(){return dispatch(Firebase_Actions.actionStarting(Selectors_Actions.FETCH,DataRefs.FARMS,{FarmId:""}));},setUserFarm:function setUserFarm(FarmId){return dispatch(Firebase_Actions.actionStarting(Selectors_Actions.UPDATE,DataRefs.USERS,{farms:defineProperty_default()({},FarmId,true)}));}};};/* harmony default export */ var SystemBoard = (Object(es["b" /* connect */])(SystemBoard_mapStateToProps,SystemBoard_mapDispatchToProps)(SystemBoard_SystemListBoard));
// CONCATENATED MODULE: C:/Users/daniel/Documents/GitHub/AgrisysApp-Web/App/Src/Containers/Cloud/AdminPanel/Tools.js
function Tools_createSuper(Derived){var hasNativeReflectConstruct=Tools_isNativeReflectConstruct();return function _createSuperInternal(){var Super=getPrototypeOf_default()(Derived),result;if(hasNativeReflectConstruct){var NewTarget=getPrototypeOf_default()(this).constructor;result=Reflect.construct(Super,arguments,NewTarget);}else{result=Super.apply(this,arguments);}return possibleConstructorReturn_default()(this,result);};}function Tools_isNativeReflectConstruct(){if(typeof Reflect==="undefined"||!Reflect.construct)return false;if(Reflect.construct.sham)return false;if(typeof Proxy==="function")return true;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}));return true;}catch(e){return false;}}var Tools_Tools=function(_Component){inherits_default()(Tools,_Component);var _super=Tools_createSuper(Tools);function Tools(props){var _this;classCallCheck_default()(this,Tools);_this=_super.call(this,props);_this.state={};return _this;}createClass_default()(Tools,[{key:"getData",value:function getData(){this.props.getUsers();}},{key:"setData",value:function setData(Props){}},{key:"checkData",value:function checkData(props){}},{key:"componentDidMount",value:function componentDidMount(){this.props.setViewLoading(false);this.props.setViewError(null);this.checkData(this.props);this.getData();}},{key:"componentDidUpdate",value:function componentDidUpdate(prevProps,prevState){if(this.props!==prevProps){this.checkData(this.props);if(this.props.firebase){if(this.props.firebase.localDataStore){}}}}},{key:"render",value:function render(){var IsLoading=this.props.firebase.firebaseIsLoading;return react_default.a.createElement(View_default.a,{style:[Helpers.mainContainer]},react_default.a.createElement(View_default.a,{style:[Helpers.contentContainer,Helpers.fullWidth,Helpers.fill]}),(IsLoading||this.props.firebase.viewIsLoading)&&react_default.a.createElement(ActivityIndicator_default.a,{style:Helpers.loadingContainer,size:"large"}));}}]);return Tools;}(react["Component"]);var Tools_styles=StyleSheet_default.a.create({circle:{width:125,height:125,borderRadius:125/2,marginTop:Metrics.tiny,marginLeft:Metrics.tiny}});var Tools_mapStateToProps=function mapStateToProps(state){var firebase=state.firebase;return{firebase:firebase};};var Tools_mapDispatchToProps=function mapDispatchToProps(dispatch){return{setFirebaseError:function setFirebaseError(error){return dispatch(Firebase_Actions.setFirebaseError(error));},setViewLoading:function setViewLoading(state){return dispatch(Firebase_Actions.viewIsLoading(state));},setViewError:function setViewError(error){return dispatch(Firebase_Actions.setViewError(error));},getUsers:function getUsers(){return dispatch(Firebase_Actions.actionStarting(Selectors_Actions.FETCH,DataRefs.USERS,{UserId:""}));}};};/* harmony default export */ var AdminPanel_Tools = (Object(es["b" /* connect */])(Tools_mapStateToProps,Tools_mapDispatchToProps)(Tools_Tools));
// CONCATENATED MODULE: C:/Users/daniel/Documents/GitHub/AgrisysApp-Web/App/Src/Navigators/AdminPanelNavigator.js
function AdminPanelNavigator_ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);if(enumerableOnly)symbols=symbols.filter(function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable;});keys.push.apply(keys,symbols);}return keys;}function AdminPanelNavigator_objectSpread(target){for(var i=1;i<arguments.length;i++){var source=arguments[i]!=null?arguments[i]:{};if(i%2){AdminPanelNavigator_ownKeys(Object(source),true).forEach(function(key){defineProperty_default()(target,key,source[key]);});}else if(Object.getOwnPropertyDescriptors){Object.defineProperties(target,Object.getOwnPropertyDescriptors(source));}else{AdminPanelNavigator_ownKeys(Object(source)).forEach(function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key));});}}return target;}var AdminPanelNavigator_StackNavigator=Object(createStackNavigator["a" /* default */])({AdminFront:{screen:AdminPanel_FrontScreen,navigationOptions:function navigationOptions(){return{title:'Admin Panel',headerLeft:function headerLeft(){return react_default.a.createElement(View_default.a,{style:{padding:6,paddingLeft:15}},react_default.a.createElement(dist["a" /* Icon */],{type:"ionicon",name:"md-arrow-back",size:25,color:"black",onPress:function onPress(){return NavigationService.navigate('MainStack');}}));}};},path:'admin_front'},UserBoard:{screen:UserBoard,navigationOptions:function navigationOptions(){return{title:'User Board'};},path:'admin_user_board'},SystemBoard:{screen:SystemBoard,navigationOptions:function navigationOptions(){return{title:'System Board'};},path:'admin_system_board'},ToolsBoard:{screen:AdminPanel_Tools,navigationOptions:function navigationOptions(){return{title:'Tools Board'};},path:'admin_tools'},UserPanel:{screen:UserPanelNavigator,navigationOptions:function navigationOptions(){return{title:'Admin Panel',headerLeft:function headerLeft(){return react_default.a.createElement(View_default.a,{style:{padding:6,paddingLeft:15}},react_default.a.createElement(dist["a" /* Icon */],{type:"ionicon",name:"md-arrow-back",size:25,color:"black",onPress:function onPress(){return NavigationService.navigate('SystemBoard');}}));}};},path:'admin_front'}},{initialRouteName:'AdminFront',headerMode:'float',defaultNavigationOptions:{headerTitleAlign:'center',headerTitleStyle:AdminPanelNavigator_objectSpread({},ApplicationStyles.navigationHeader),headerRight:function headerRight(){return react_default.a.createElement(View_default.a,{style:{padding:6}});}}});/* harmony default export */ var AdminPanelNavigator = (AdminPanelNavigator_StackNavigator);
// CONCATENATED MODULE: C:/Users/daniel/Documents/GitHub/AgrisysApp-Web/App/Src/Navigators/AppNavigator.js
var AppNavigator_StackNavigator=Object(createStackNavigator["a" /* default */])({SplashScreen:{screen:Containers_SplashScreen_SplashScreen,navigationOptions:function navigationOptions(){return{headerShown:false};}},MainStack:{screen:FrontNavigator,path:'Front'},AuthStack:AuthNavigator,UserPanel:UserPanelNavigator,AdminPanel:AdminPanelNavigator,DeepLinkingScreen:{screen:DeepLinking_DeepLinkingScreen,path:'deeplink'}},{initialRouteName:'SplashScreen',headerMode:'none',defaultNavigationOptions:{headerTitleAlign:'center',headerRight:function headerRight(){return react_default.a.createElement(View_default.a,{style:{padding:6}});}}});/* harmony default export */ var AppNavigator = (Object(src["createAppContainer"])(AppNavigator_StackNavigator));
// CONCATENATED MODULE: C:/Users/daniel/Documents/GitHub/AgrisysApp-Web/App/Src/Containers/Root/RootScreen.js
var RootScreen_RootScreen=function RootScreen(){var prefix=['https://agrisysdje.github.io/','agrisysapp://'];var dispatch=Object(es["c" /* useDispatch */])();Object(react["useEffect"])(function(){dispatch(Actions.startup());},[]);return react_default.a.createElement(View_default.a,{style:Helpers.fill},react_default.a.createElement(AppNavigator,{ref:function ref(navigatorRef){NavigationService.setTopLevelNavigator(navigatorRef);},uriPrefix:prefix}));};/* harmony default export */ var Root_RootScreen = (RootScreen_RootScreen);
// CONCATENATED MODULE: C:/Users/daniel/Documents/GitHub/AgrisysApp-Web/App/App.tsx
var _createStore=Stores(),App_store=_createStore.store,App_persistor=_createStore.persistor;var App_App=function App(){return react_default.a.createElement(es["a" /* Provider */],{store:App_store},react_default.a.createElement(integration_react["PersistGate"],{loading:null,persistor:App_persistor},react_default.a.createElement(Root_RootScreen,null)));};/* harmony default export */ var AgrisysApp_Web_App_App = __webpack_exports__["a"] = (App_App);

/***/ }),

/***/ 479:
/***/ (function(module, exports, __webpack_require__) {

module.exports = __webpack_require__(875);


/***/ }),

/***/ 685:
/***/ (function(module, exports, __webpack_require__) {

module.exports = __webpack_require__.p + "static/media/Home.1fff8434.png";

/***/ }),

/***/ 686:
/***/ (function(module, exports, __webpack_require__) {

module.exports = __webpack_require__.p + "static/media/Dashboard.26766c7a.png";

/***/ }),

/***/ 687:
/***/ (function(module, exports, __webpack_require__) {

module.exports = __webpack_require__.p + "static/media/System.7e4af00c.png";

/***/ }),

/***/ 688:
/***/ (function(module, exports, __webpack_require__) {

module.exports = __webpack_require__.p + "static/media/Feed-Curves.da739887.png";

/***/ }),

/***/ 689:
/***/ (function(module, exports, __webpack_require__) {

module.exports = __webpack_require__.p + "static/media/Growth-curve.7f9a7fea.png";

/***/ }),

/***/ 690:
/***/ (function(module, exports, __webpack_require__) {

module.exports = __webpack_require__.p + "static/media/User.d73be9fd.png";

/***/ }),

/***/ 691:
/***/ (function(module, exports, __webpack_require__) {

module.exports = __webpack_require__.p + "static/media/Sow.beff0aff.png";

/***/ }),

/***/ 692:
/***/ (function(module, exports) {

module.exports = "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAFMAAABRCAYAAACuepoLAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAq9JREFUeNrsnT1Lw1AUhk9FRFEhDhV0qgouLlrcjYOLi3XpasEfYjo62X/Quorg5iS0P0D8GBzVOAkWP6CVigg1197E0Naa3ER7b/K+cLig3tP4eJJz8g5XIig0JRS8Zr3Pn1+JUgE0JYgjK1JRqEz2y9DE1IJwgrdalRr1BxoZm6Th8aTvfVwvVqxacaE8zLXtQ+EEN+cHdH12QHPpLM0uZX3tbdSrdHmyS7VH0wY6w1caQNvwp5GxJC2v57+q2pJmRc7+HmAKaHBolGbTTkVvAGYIFdoBucfPp7p1rH8efwr280iJiu3ytUUr9iSY5+yZrqIqTAayzB+sIgOqHtJgq7vGD1IRpsaHUY3PTptWmCJjC5+/Ao8/7hlONZgZ/ow0OQylqkIGubv5Cl/3ATI4zFQUX+T7BRMCTMCM5mumqhf+fH8lvLdRqzqraJ7aU++pscznuyBvPk3XjEh/lKcpWZSVr8x+mMNufby/2p6m+rc58xRFZZvD0/O6b3PY/Zg5Pd5BA0I3B0yMRlsU3Ms0ALOlXAh5dwCzpZIVdwEh5uP4x+gGk1lwlYAQjDjCRAMCTMAETAgwARMwoZ5zphJiNpqonri73lrF8thu/U+C0x5Dpz0v2fWYKlcmGhC6OQSYMo1GMjnthkSsfr2WRFsD0lFfnlh5rswSyeO0y5BHyKiO4mgURh7POdCA0M0BEzAhwARMwIQAEzABEzAhwARMwIQ6FRen3fgPmHDaxVh5rswSwWnvlsOX4LQHzIEGhG4OmIAJASZgAiYEmIAJmPGEafJVBxZHi21sPCvH30Fv8W7uqMj3F/1uZCe6PtP3vxvQYg7TcO33dLe6LTh2ACk7Gpe5RxkeFcELKYd0m/UrT4q+zxMtBODgHOLcjHnc8oLyrMQvUDWKr3xX46cAAwCxt3YCfnN46AAAAABJRU5ErkJggg=="

/***/ }),

/***/ 693:
/***/ (function(module, exports, __webpack_require__) {

module.exports = __webpack_require__.p + "static/media/Area_Colour.f4a4e098.png";

/***/ }),

/***/ 694:
/***/ (function(module, exports, __webpack_require__) {

module.exports = __webpack_require__.p + "static/media/AutoPig.ec16c410.png";

/***/ }),

/***/ 695:
/***/ (function(module, exports, __webpack_require__) {

module.exports = __webpack_require__.p + "static/media/Feed-Components.224ca1b3.png";

/***/ }),

/***/ 696:
/***/ (function(module, exports, __webpack_require__) {

module.exports = __webpack_require__.p + "static/media/Hexagon-globe.fce26805.png";

/***/ }),

/***/ 697:
/***/ (function(module, exports, __webpack_require__) {

module.exports = __webpack_require__.p + "static/media/Hexa-icon.5129d536.png";

/***/ }),

/***/ 698:
/***/ (function(module, exports, __webpack_require__) {

module.exports = __webpack_require__.p + "static/media/Logo.9b051259.png";

/***/ }),

/***/ 699:
/***/ (function(module, exports, __webpack_require__) {

module.exports = __webpack_require__.p + "static/media/TOM.c88886f3.png";

/***/ })

},[[479,1,2]]]);
//# sourceMappingURL=app.113c9b4d.chunk.js.map