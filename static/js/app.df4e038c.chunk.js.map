{"version":3,"sources":["Src/Stores/Example/Selectors.js","Src/Containers/Example/ExampleScreenStyle.js","Src/Containers/Device/DeviceScreen.js","Src/Containers/Device/DeviceScreenStyle.js","Src/Navigators/AuthNavigator.js","Src/Containers/Cloud/AuthScreens/UserLoadingScreen.js","Src/Containers/Cloud/AuthScreens/UserLoginScreen.js","Src/Containers/Cloud/AuthScreens/VerifyScreen.js","Src/Containers/Cloud/AuthScreens/CreateUserDataScreen.js","Src/Containers/Cloud/UserPanel/UserInformation.js","Src/Containers/Cloud/UserPanel/Subscription.js","Src/Containers/Cloud/UserPanel/FarmInformation.js","Src/Containers/Cloud/UserPanel/FrontScreen.js","Src/Containers/Cloud/UserPanel/Dashboard.js","Src/Containers/Cloud/UserPanel/Pigs.js","Src/Containers/Cloud/UserPanel/Pens.js","Src/Containers/Cloud/UserPanel/Batchs.js","Src/Containers/Cloud/UserPanel/GrowthCurves.js","Src/Containers/Cloud/UserPanel/AutoPig.js","Src/Containers/Cloud/UserPanel/Operations.js","Src/Containers/Cloud/UserPanel/Weighing.js","Src/Containers/Cloud/UserPanel/DataEditor.js","Src/Containers/Cloud/UserPanel/DataDisplay.js","Src/Containers/Cloud/UserPanel/DataDisplay_Pens.js","Src/Containers/Cloud/UserPanel/DataDisplay_Pigs.js","Src/Containers/Cloud/UserPanel/DataPlotter.js","Src/Navigators/WebViewer.js","Src/Navigators/AdminPanelNavigator.js","Src/Containers/Cloud/AdminPanel/FrontScreen.js","Src/Containers/Cloud/AdminPanel/AdminPanelStyle.js","Src/Containers/Cloud/AdminPanel/UserBoard.js","Src/Containers/Cloud/AdminPanel/SystemBoard.js","Src/Containers/Cloud/CloudScreenStyle.js","Src/Stores/Example/Actions.js","Src/Components/Button.js","Src/Containers/Cloud/AuthScreens/AuthStyle.js","Src/Theme/index.js","Src/Stores/Device/BLE/Actions.js","Src/Stores/Device/BlueTooth/Actions.js","Src/Config/index.js","Src/Services/DeviceService.js","Src/Services/NavigationService.js","Src/Stores/Startup/Actions.js","Src/Stores/Firebase/Actions.js","Src/Stores/Device/BLE/InitialState.js","Src/Stores/Device/BlueTooth/InitialState.js","Src/Stores/Firebase/Selectors.js","Src/Navigators/UserPanelNavigator.js","Src/Containers/Cloud/UserPanel/CurveElement.js","Src/Components/index.js","App.tsx","Src/Stores/index.js","Src/Stores/CreateStore.js","Src/Sagas/index.js","Src/Sagas/StartupSaga.js","Src/Stores/Device/Selectors.js","Src/Sagas/Example/ExampleSaga.js","Src/Services/UserService.js","Src/Sagas/Device/DeviceSaga.js","Src/Sagas/Device/BLE/BLESaga.js","Src/Sagas/Device/BlueTooth/BlueToothSaga.js","Src/Sagas/Firebase/FirebaseSaga.js","Src/Services/FirebaseService.js","Src/Containers/Cloud/UserPanel/UserPanelStyle.js","Src/Services/ConsysService.js","Src/Stores/Example/Reducers.js","Src/Stores/Example/InitialState.js","Src/Stores/Device/Reducers.js","Src/Stores/Device/InitialState.js","Src/Stores/Device/BLE/Reducers.js","Src/Stores/Device/BlueTooth/Reducers.js","Src/Stores/Firebase/Reducers.js","Src/Stores/Firebase/InitialState.js","Src/Containers/Root/RootScreen.js","Src/Navigators/AppNavigator.js","Src/Containers/SplashScreen/SplashScreen.js","Src/Containers/SplashScreen/SplashScreenStyle.js","Src/Theme/Colors.js","Src/Theme/Fonts.js","Src/Theme/Metrics.js","Src/Theme/Images.js","Src/Assets/Images/Home.png","Src/Assets/Images/Dashboard.png","Src/Assets/Images/System.png","Src/Assets/Images/Feed-Curves.png","Src/Assets/Images/Growth-curve.png","Src/Assets/Images/User.png","Src/Assets/Images/Sow.png","Src/Assets/Images/Section.png","Src/Assets/Images/Area_Colour.png","Src/Assets/Images/AutoPig.png","Src/Assets/Images/Feed-Components.png","Src/Assets/Images/Hexagon-globe.png","Src/Assets/Images/Hexa-icon.png","Src/Assets/Images/Logo.png","Src/Assets/Images/TOM.png","Src/Theme/Helpers.js","Src/Theme/ApplicationStyles.js","Src/Containers/DeepLinking/DeepLinkingScreen.js","Src/Navigators/FrontNavigator.js","Src/Containers/Agrisys/FrontScreen.js","Src/Components/Button_Panel.js","Src/Components/TitleElement.js","Src/Components/CustomListItem.js","Src/Stores/Device/Actions.js","Src/Components/ContentProp.js","Src/Components/Loading.js","Src/Components/OperationsPanel.js","Src/Components/Progressbar.js","Src/Components/DateTime_Picker.js","Src/Components/Comment_Module.js","Src/Containers/Agrisys/FrontScreenStyle.js","Src/Containers/Example/ExampleScreen.js"],"names":["liveInEurope","state","Object","entries","example","user","length","europeanCities","includes","address","city","StyleSheet","create","error","Fonts","normal","color","Colors","marginBottom","Metrics","tiny","textAlign","instructions","fontStyle","logoContainer","Helpers","fullWidth","height","result","text","BLEButton","dispatch","Active","ApplicationStyles","button","DeviceActions","startBleScan","stopBleScan","ConnectedDevice_View","connectedDevice","DeviceData","localName","id","disconnectDevice","keys","Style","deviceDataContainer","Battery","textContainer","tagid","FatLayers","FatL1","FatL2","FatL3","Unknown","DeviceScreen","deviceErrorMessage","device","deviceData","scannerState","connectionMethode","Devices","DeviceList","fill","rowMain","mediumHorizontalMargin","mediumVerticalMargin","name","buttonContainer","ConnectionMethode","BLE","ScannerState","IDLE","Platform","OS","BLUETOOTH","stopBluetoothScan","startBluetoothScan","bluetoothScanAble","deviceContainer","text2","paddingRight","map","Dev","i","connectDevice","small","flex","borderWidth","borderColor","marginTop","paddingTop","paddingHorizontal","marginRight","StackNavigator","UserLoadingScreen","screen","LoadingUserScreen","navigationOptions","title","LoginUser","LoginUserScreen","headerLeft","padding","paddingLeft","NavigationService","navigate","VerifyScreen","CreateUserData","CreateUserDataScreen","initialRouteName","headerMode","defaultNavigationOptions","headerTitleAlign","headerTitleStyle","navigationHeader","headerRight","auth","require","default","firebase","PanelsSorter","userType","UserStates","ADMIN","OWNER","FREE","STARTER","props","ISLOADPAGE","FocusSubscription","firebaseData","setFirebaseError","page","firebaseUser","emailVerified","User","currentUser","prevProps","prevState","now","prev","uid","console","log","checkData","getUser","getData","navigation","addListener","payload","setViewLoading","setViewError","setState","remove","IsLoading","firebaseIsLoading","mainContainer","contentContainer","fullSize","fillColMain","fillRowCenter","center","Images","Hexa_icon","loadingContainer","Component","mapStateToProps","mapDispatchToProps","FirebaseActions","viewIsLoading","clearDataMem","actionStarting","Actions","CLEAR","DataRefs","USERSDATA","UserId","FETCH","UserLoginScreen","Email","Pass","CreateUser","viewError","forceUpdate","ErrorMessage","borderContainer","midWidth","input","signIN","resetPass","createUser","SIGN","CREATE","USERS","Props","reload","then","data","setUser","sendEmailVerification","Verified","UPDATE","CreateNewUserData","ViewState","nacigationPop","Display","res","FarmName","lastN","precreateUserData","navigateAndReset","updateUser","Data","Subsc","UserData","Farms","Sections","Pens","UserInformation","setData","FirstN","LastN","Contact","ContactP","Address","Country","contact","phoneNumber","F_FirstN","React","createRef","F_LastN","F_Contact","F_ContactP","F_Address","verticalMargin","type","ErrorTypes","SYSTEM","message","test","replace","_UserData","phone","country","OnDone","window","Dimensions","get","Subscription","dimensions","CurrentSub","Billing","addEventListener","onChange","removeEventListener","wide","width","App","WORKER","backgroundColor","AgriGreen","row","alignContent","alignItems","justifyContent","fontWeight","fontSize","FarmInformation","Cvr","Manager","localDataStore","email","farms","FarmData","cvr","manager","getFarm","isNaN","_FarmData","_sections","_pens","updateFarm","Pen","i2","sectionPens","section","pens","updateFarmData","FARMS","sections","FARMDATAS","FrontScreen","firebaseErrorMessage","displayName","DashBoard","Section","GCurves","System","AutoPig","Feed","Sow","ele","FirebaseUser","FarmsData","site","refToken","logOut","Dashboard","Name","Mail","SectionsList","BatchList","MaxCap","CurCap","farmName","farmManager","farmMail","Farm","batchs","filter","e","BatchID","Batch","StartDate","EndDate","TargetWeight","PenCount","Animals","AverageWeight","AverageGrowth","isClosed","isVirtual","reverse","count","weight","target","End","getSections","update_time","getPens","getBatch","getWeights","weighings","getCurve","JSON","stringify","graphs","FarmProgress","forEach","element","item","TempCurve","Color","progress","Date","getDate","getMonth","getFullYear","time","index","toString","DataTime","SECTIONS","PENS","BATCHS","GRAPH","MemSections","WEIGHING","Pigs","PigsList","PigTag","getPigs","pigs","connectedState","bottomMargin","column","smallHorizontalPadding","smallVerticalPadding","maxWidth","styles","container","pen","PenData","rowCenter","tagId","PIGS","TagId","pigId","setCurrentData","dataId","Device_Display","ConnectionState","CONNECTED","circle","Scanner_Display","flexDirection","borderRadius","paddingVertical","known","minWidth","marginLeft","Weighings","Mid","property","AgriDarkblue","gray","displayWeight","Predict","pigpink","Now","devianceMin","devianceMax","datas","ExValue","TempEx","Weight","devianceValMin","devianceValMax","overest","success","Math","round","GraphId","penId","Batchs","items","selectedPens","freePens","BatchName","ShowPicker","StartD","getTime","Curve","DevianceMin","DevianceMax","avaiblePens","add","batch","enddate","push","marginHorizontal","curveId","gcurve","graph","String","batchName","_pen","concat","itemValue","itemIndex","zIndex","halvWidth","date","endsWith","split","onMultiChange","newBatch","updateBatch","update","_Date","setBatch","BatchId","batchId","GrowthCurve","CurveList","D","CurveName","DataPoints","Periode","Selected","dataindex","hasOwnProperty","value","parseFloat","Growth","toFixed","CurveData","_index","periode","fillCenter","alignSelf","AppStyle","WebStyle","undefined","_Selected","FirstData","pop","nativeEvent","lastDataIndex","parseInt","Eindex","newCurve","updateCurve","curve","Graph","VictoryZoomVoronoiContainer","getRandomNumber","low","high","r","floor","random","getRandomColor","red_range","green_range","blue_range","a_range","red","green","blue","alpha","g","b","a","rgbaValue","ValveData","ScaleData","categories","series","Domain","Limit","SysId","STime","ETime","LastId","entireDomain","zoomedDomain","Site","accessToken","consys","feedData","DataSet","_DataSet","find","x","valve","timestamp","y","amount","silono","unit","scaleData","DataSet2","getEntireDomain","token","MinMax","min","_","minBy","d","max","maxBy","zoomedXDomain","Serie","maxPoints","filteredSeries","filtered","last","domain","Token","renderData","getZoomDomain","Legends","getAutoPig","getValveFeed","maxHeight","onDomainChange","bind","datum","childName","DateTime","format","getHours","slice","getMinutes","VictoryTheme","material","t","grid","stroke","strokeWidth","active","limit","sysId","start","stop","offset","lastId","ConsysRefs","VALVEFEED","CONSYS","SCALE","Operations","actionType","action","Weighing","quantity","CurrentData","currentData","_Pen","newWeight","PenId","Quantity","DataEditor","NewSection","DataView","PenEditor_View_Creator","PigEditor_View_Creator","Control","DELETE","exists","penAction","PenEditor_Titles","CurrentAction","pigtag","pigAction","Section_Picker","senctionId","SectionId","DataDisplay","setCurrentDataElement","PigData_View","onPageSwipe","dir","indexOf","onDataPress","sender","colCenter","DataDisplay_Pens","WeighingsList","CommentsList","Comments","object","sort","comments","MemTime","getComments","localDataStoree","pigcount","penWeight","batch_name","age","StartTime","Comment","COMMENTS","DataDisplay_Pigs","CurvePredict","Comments_List","Prediction","closed","batchData","PenMemTime","getPen","TempGraph","Dif_Time","Days","Virtual","charAt","toUpperCase","minHeight","curveid","setCurve","ViewContainer","viewState","ShowMainError","NaviParams","params","Menu","Main","fillRow","borderRightWidth","AdminFront","AdminFrontScreen","path","UserBoard","AdminUserBoard","SystemBoard","AdminSystemBoard","UserPanel","UserPanelNavigation","UserListBoard","UserList","getUsers","users","SystemListBoard","FarmList","getFarms","setUserFarm","FarmId","loading","position","left","right","top","bottom","inputContainer","fetchUser","fetchUserLoading","fetchUserSuccess","fetchUserFailure","Types","Creators","ExampleTypes","Button","TextView","textStyle","Text","ImageView","icon","_Image","iconStyle","boxContainer","boxStyle","onPress","buttonStyle","tinyVerticalMargin","horizontalPadding","buttonText","verticalPadding","smallVerticalMargin","bleStartup","bleStateUpdated","readBleDeviceData","BleTypes","bluetoothStartup","readBlueDeviceData","BluetoothTypes","HTTPS_START","Config","API_URL","CONSYS_CLIENT_ID","CONSYS_CLIENT_SECRET","CONSYS_AUTH","CONSYS_API","GetToken_URL","Site_URL","Refresh_Token","GetCheckToken_URL","GetConsumtion_URL","GetConsumtionData_URL","Consumptiontype","SystemId","Offset","Starttime","Stoptime","Lastid","GetConsumtionData_Var","isPermit_Android","Version","PermissionsAndroid","check","PERMISSIONS","ACCESS_COARSE_LOCATION","Have_Coarse_Location","request","Got_Access","RESULTS","GRANTED","isBlePermitted","Promise","resolve","reject","deviceService","navigator","LastPage","setTopLevelNavigator","navigatorRef","routeName","StackActions","NavigationActions","reset","key","actions","back","startup","StartupTypes","firebaseStartup","fetchStarting","dataFetchSuccess","fetchSuccess","fetchFailure","FirebaseTypes","INITIAL_STATE","bleState","State","PoweredOff","DataStates","CLOSED","FIREBASEUSER","SHARES","MOVE","ADD","LOST","SOLD","NOTE","EMAIL","PASSWORD","FORMAT","format_num","num","format_Time","s","datetime","getSeconds","reA","reN","sortAlphaNum","aA","bA","aN","bN","sortObject","o","sorted","DataStringCheck","Check_num","first","numbers","specialChars","GetWeight_FromPen","WeighingsStore","AfterTime","BeforeTime","_weighing","weighing","GetBatch_FromPen","_batch","GetStats_FromPen","PenWeighings","PenWeight","PenGrowth","AveragePenGrowth","GrowthCount","lastDate","LastWeight","LastWeightDay","FirstWeight","GetCurve_FromBatch","BatchEndDate","_date","lastWeighing","Addition","setDate","days","tempEnd","GetStats_FromBatch","Closed","CollectedWeight","CollectedGrowth","GetBatchEnd","PenEnds","Batch_Pen","PenStats","GraphsStore","Garph","Id","currentTime","AccumulateTime","Time","PeriodeLength","NewTime","setMonth","get_DataSpot_FromData","WeighingTime","EndTime","Keys","DataSpot","get_DataSpot","MinMax_Time","MinMax_Data","FindTime","VirData","ExTime","slope","GetSlope_Between","FindX","Findx2","ExData","DataDiff","minX","maxX","minY","maxY","Weighing2","weight2","StartIndex","PredictCurve","CurrentTime","Temp_CurrentIndex","unshift","PredictStart","FirstSpot","Temp_CurrentTime","CurrentIndex","WeightNow","ViewTransformer","Title","NavComponent","WebViewer","headerShown","UserFront","label","UserFrontScreen","UserDashBoardScreen","UserDashBoard","UserPigs","UserPigsScreen","UserPens","UserPensScreen","UserBatchs","UserBatchsScreen","UserCurves","UserCurvesScreen","AutoPigScreen","UserOperations","UserOperationsScreen","WeighingOperations","UserDataEditor","UserDataDisplay","DataPlotter","UserDataPlotter","WeightsToGraphData","_EndDate","DataSets","DoPredict","BatchPen","DataSetX","startdate","dataX","opacity","CurveElement","Labels","ActiveIndex","ActiveLength","ActiveDataSets","ActiveStartDate","ActiveEndDate","ViewPoint","DataX","TempData","TempEndDate","NextEnd","some","TemplatePeriode","CurrentDate","TempActiveDataSet","Today","getNewDate","NewData","setGraphPeriode","BatchIsOpen","Height","Width","point","labels","xMinMax","legend","datasets","white","backgroundGradientFrom","backgroundGradientTo","decimalPlaces","labelColor","style","propsForDots","mainCenter","CurveEditor","TimeText","dataset","useState","Point","setPoint","evt","control","store","persistor","rootReducer","ExampleReducer","DeviceReducer","FirebaseReducer","rootSaga","JSOGTransform","inboundState","JSOG","encode","outboundState","decode","persistConfig","storage","transforms","blacklist","middleware","enhancers","sagaMiddleware","applyMiddleware","persistedReducer","compose","blemanager","BleManager","setLogLevel","LogLevel","Verbose","bluemanager","NativeModules","BlueToothControl","sagaArgs","BLEManager","BlueManager","run","root","STARTUP","StartupSaga","FETCH_USER","ExampleSaga","DeviceTypes","DEVICE_STARTUP","DeviceSaga","deviceStartup","CONNECT_DEVICE","DISCONNECT_DEVICE","READ_DEVICE_DATA","readDeviceData","FETCH_DEVICE","fetchDevice","BLE_STARTUP","START_BLE_SCAN","STOP_BLE_SCAN","READ_BLE_DEVICE_DATA","BLUETOOTH_STARTUP","BlueTooth","START_BLUETOOTH_SCAN","STOP_BLUETOOTH_SCAN","BLUETOOTH_SCAN_ABLE","READ_BLUE_DEVICE_DATA","FIREBASE_STARTUP","FirebaseSaga","AVAILABLE","SCANNING","DISCONNECTED","CONNECTING","DISCOVERING","DISCONNECTING","NONE","SERIAL","WIFI","ExampleActions","userService","isWithin","isNumber","Number","in200s","userApiClient","axios","baseURL","headers","Accept","timeout","number","response","status","setDeviceError","clearDevices","connectedDeviceUpdated","connectionStateUpdated","scannerStateUpdated","methode","handleBleState","connectBle","handleConnection","handleScanning","scanBle","setBleScannerStart","permitError","emit","subscription","onStateChange","buffers","expanding","stateChannel","newState","BleActions","close","_manager","isConnected","onDisconnected","disconnectedChannel","deviceActionChannel","connect","discoverAllServicesAndCharacteristics","connectionMethodeUpdated","_device","deviceAction","disconnected","cancelConnection","removeDevice","KnownUUIDS","services","_services","serviceUUIDs","service","uuid","monitor","characteristics","characteristic","monitorCharacteristicForService","readingChannel","TempData_Reading","Buffer","from","PacketId","BatteryLevel","base64","charCodeAt","updateDeviceData","RawData","header","compare","layers","layer1","layer2","layer3","scanTask","connectionState","channel","enableScanning","PoweredOn","startDeviceScan","allowDuplicates","scannedDevice","stopDeviceScan","scanningChannel","addDevice","scanBluetooth","setBlueScannerStart","testTask","PairDevice","receiveData","Message","TAGId","Discover","blueTootControlEmitter","NativeEventEmitter","Device","alias","bluetoothChannel","StopDiscovery","BluetoothSearchAble","handleAuthState","handleActions","onMessageHandler","onBackgroundMessageHandler","messaging","database","_firebase","apps","Constants","manifest","web","config","initializeApp","isSupported","firebaseService","requestUserPermission","disableYellowBox","onAuthStateChanged","authChannel","newAuth","userData","ref","values","Params","ResData","consysService","fetch_ValveConsumption","fetch_AutoPig","messageListener","onMessage","remoteMessage","onMessageChannel","notification","body","wrappedAlert","onNotificationOpenedApp","setBackgroundMessageHandler","isPermit_UserPermission","requestPermission","authStatus","enabled","AuthorizationStatus","AUTHORIZED","PROVISIONAL","is_getToken","fcmToken","getToken","requestFirebaseToken","okText","_cancelable","Alert","alert","cancelable","onDismiss","createFirebaseUserWithemailandpassword","createUserWithEmailAndPassword","_data","updateProfile","catch","code","signinWithemailandpassword","logoutUser","signInWithEmailAndPassword","sendResetPassword","sendPasswordResetEmail","signOut","refreshUser","CurrentUser","createFarm","farmid","updateUserData","fetchFarm","fetchSections","fetchPens","createNewPen","deletePen","updatePen","fetchPigs","updatePigdata","fetchBatchs","createBatchs","updateBatchs","fetchWeights","createWeight","fetchComments","createComment","fetchGraphData","updateGraphData","SetUpdateTime","DataRef","ServerValue","TIMESTAMP","CheckDataTime","once","_Time","UpdateTime","val","List","_farmData","farm","set","DoFetch","_sectionidData","_pensData","penData","ref2","Datas","_pigsData","pigData","pig","updatePigPen","Action","counts","_batchdata","batchdata","BatchPens","RemovedPens","NewPens","SamePens","pendata","CurveId","p","_resolve","setTimeout","weights","limitStart","limitTo","orderByChild","limitToLast","snapshot","c","_weighingTime","Weighings_Time","itemsProcessed","newWeights","weightRef","weightId","comment","commentRef","commentId","Graphs","GraphVal","newGraph","Agraph","AgraphVal","_Graph","Create_Axios","Acc_Token","Consys_ApiClient","getAccessToken","SiteUrl","Ref_Token","access_token","checkRenew_AccessToken","starttime","stoptime","lastid","Feed_Data","consumptiondata","dataid","Scale_Data","userIsLoading","userErrorMessage","errorMessage","reducer","FETCH_USER_LOADING","FETCH_USER_SUCCESS","FETCH_USER_FAILURE","NewList","splice","setDeviceData","newData","HANDLERS","SET_DEVICE_ERROR","SCANNER_STATE_UPDATED","ADD_DEVICE","REMOVE_DEVICE","CLEAR_DEVICES","CONNECTED_DEVICE_UPDATED","CONNECTION_STATE_UPDATED","CONNECTION_METHODE_UPDATED","SET_DEVICE_DATA","UPDATE_DEVICE_DATA","BLEReducers","BluetoothReducers","deviceIsLoading","BLE_INITIAL_STATE","BLUETOOTH_INITIAL_STATE","BLE_STATE_UPDATED","loadingstate","IDGenerate","substr","mergeDeep","source","isObject","obj","targetValue","sourceValue","Array","isArray","NewDataStore","NewFirebaseUser","_user","_auth","Values","newlocalDataStore","_newState","FIREBASE_IS_LOADING","SET_FIREBASE_ERROR","SET_VIEW_ERROR","VIEW_IS_LOADING","SET_CURRENT_DATA","ACTION_STARTING","FETCH_STARTING","DATA_FETCH_SUCCESS","FETCH_SUCCESS","FETCH_FAILURE","RootScreen","prefix","StartupActions","SplashScreen","MainStack","FrontNavigation","AuthStack","AuthNavigation","AdminPanel","AdminPanelNavigator","DeepLinkingScreen","getInitialNotification","primary","transparent","secountText","AgriLightblue","AgriDark","size","h1","h2","h3","regular","medium","tinyBottomMargin","smallBottomMargin","mediumBottomMargin","marginVertical","tinyHorizontalMargin","smallHorizontalMargin","horizontalMargin","tinyHorizontalPadding","mediumHorizontalPadding","tinyVerticalPadding","mediumVerticalPadding","Home","Curves","Haxa_globe","Logo","logo","colMain","colCross","columnReverse","rowCross","rowReverse","crossCenter","crossEnd","crossStart","crossStretch","fillCol","fillColCenter","fillColCross","fillColReverse","fillRowCross","fillRowMain","fillRowReverse","mainEnd","mainSpaceAround","mainSpaceBetween","mainStart","backgroundReset","rotate90","transform","rotate","rotate90Inverse","mirror","scaleX","scrollSpaceAround","flexGrow","scrollSpaceBetween","selfStretch","textCenter","textJustify","textLeft","textRight","Front","ExampleScreen","Example","Button_Panel","Texts","Buttons","image","itemStyle","TitleElement","CustomListItem","listitem","Subtitle","BleCreators","BlueToothCreators","ContentProp","texts","contentBox","textsStyle","datasStyle","view","dataRow","Loading","OperationsPanel","View","pigTag","newPig","getPenAndSection","setCurrentPig","editPens","newComment","newPigCount","countChange","ProgressBar","animation","Animated","Value","timing","current","toValue","duration","interpolate","inputRange","outputRange","extrapolate","paddingBottom","progressBar","absoluteFill","monthNames","DateTime_Picker","getStates","year","month","day","Year","Month","Day","changed","YearItems","MonthItems","DayItems","_year","onValueChange","_month","_day","Comment_Module","onDone","Button1","Button2","InputText","setInputText","QuantityText","setQuantityText","WeightText","setWeightText","textAreaContainer","textArea","select","ios","android"],"mappings":"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","file":"static/js/app.df4e038c.chunk.js","sourcesContent":["/**\r\n * Selectors let us factorize logic that queries the state.\r\n *\r\n * Selectors can be used in sagas or components to avoid duplicating that logic.\r\n *\r\n * Writing selectors is optional as it is not always necessary, we provide a simple example below.\r\n */\r\n\r\nexport const liveInEurope = (state) => {\r\n  if (Object.entries(state.example.user).length <= 0) return null\r\n\r\n  // For this example, we imagine this cities are european cities\r\n  const europeanCities = [\r\n    'Gwenborough',\r\n    'Wisokyburgh',\r\n    'McKenziehaven',\r\n    'South Elvis',\r\n    'Roscoeview',\r\n  ]\r\n\r\n  return europeanCities.includes(state.example.user.address.city)\r\n}\r\n","import { StyleSheet } from 'react-native'\r\nimport { Helpers, Metrics, Fonts, Colors } from '../../Theme'\r\n\r\nexport default StyleSheet.create({\r\n  error: {\r\n    ...Fonts.normal,\r\n    color: Colors.error,\r\n    marginBottom: Metrics.tiny,\r\n    textAlign: 'center',\r\n  },\r\n  instructions: {\r\n    ...Fonts.normal,\r\n    fontStyle: 'italic',\r\n    marginBottom: Metrics.tiny,\r\n    textAlign: 'center',\r\n  },\r\n  logoContainer: {\r\n    ...Helpers.fullWidth,\r\n    height: 300,\r\n    marginBottom: 25,\r\n  },\r\n  result: {\r\n    ...Fonts.normal,\r\n    marginBottom: Metrics.tiny,\r\n    textAlign: 'center',\r\n  },\r\n  text: {\r\n    ...Fonts.normal,\r\n    marginBottom: Metrics.tiny,\r\n    textAlign: 'center',\r\n  },\r\n})\r\n","import React, { useEffect } from 'react'\r\nimport { Platform, Text, View, ActivityIndicator, Image, FlatList, SafeAreaView, ScrollView } from 'react-native'\r\nimport { useDispatch, useSelector } from 'react-redux'\r\nimport NavigationService from '../../Services/NavigationService'\r\n\r\nimport DeviceActions from '../../Stores/Device/Actions'\r\nimport { ScannerState, ConnectionMethode } from '../../Stores/Device/Selectors'\r\n\r\nimport { Button, CustomListItem } from '../../Components'\r\nimport Style from './DeviceScreenStyle'\r\nimport { ApplicationStyles, Helpers, Metrics } from '../../Theme'\r\n\r\nimport { Service, } from 'react-native-ble-plx'\r\n\r\nconst BLEButton = (dispatch, Active = false) => {\r\n  if (!Active) {\r\n    return (\r\n      <Button buttonStyle={ApplicationStyles.button} Text=\"Search BLE devices\"\r\n              onPress={() => dispatch(DeviceActions.startBleScan())}/>\r\n    )\r\n  } else {\r\n    return (\r\n      <Button buttonStyle={ApplicationStyles.button} Text=\"Stop BLE Search\" \r\n              onPress={() => dispatch(DeviceActions.stopBleScan())}/>\r\n    )\r\n  }\r\n} \r\n\r\nconst ConnectedDevice_View = (connectedDevice, DeviceData) => {\r\n  const dispatch = useDispatch()\r\n  return (\r\n    <View>\r\n      <CustomListItem Title={connectedDevice.localName} Subtitle={connectedDevice.id} itemStyle={{marginBottom: 10}} onPress={() => dispatch(DeviceActions.disconnectDevice())}/>\r\n      { DeviceData && Object.keys(DeviceData).length > 1 ? (\r\n        <View style={Style.deviceDataContainer}>\r\n          {/* if battery is presented */}\r\n          {DeviceData && DeviceData.Battery ? (\r\n            <View style={Style.textContainer}>\r\n              <Text>Device battery level</Text>\r\n              <Text>{DeviceData.Battery + \"%\"}</Text>\r\n            </View>\r\n          ):(<></>)}\r\n\r\n          {/* App scanners data */}\r\n          {DeviceData.tagid ? (\r\n          <View style={Style.textContainer}>\r\n            <Text>TAG Id:</Text>\r\n            <Text>{DeviceData.tagid}</Text>\r\n          </View>\r\n          ):(<></>)}\r\n          {DeviceData.FatLayers && DeviceData.FatLayers > 0 ? (\r\n            <View style={Style.textContainer}>\r\n              <Text>Layers received: {DeviceData.FatLayers}</Text>\r\n              <Text>Layer 1: {DeviceData.FatL1}</Text>\r\n              <Text>Layer 2: {DeviceData.FatL2}</Text>\r\n              <Text>Layer 3: {DeviceData.FatL3}</Text>\r\n            </View>\r\n          ):(<></>)}\r\n          {DeviceData.Unknown ? (\r\n            <View style={Style.textContainer}>\r\n              <Text>unknon Id:</Text>\r\n              <Text>{DeviceData.Unknown}</Text>\r\n            </View>\r\n          ):(<></>)}\r\n        </View>\r\n      ):(<></>)\r\n      }\r\n    </View>\r\n  )\r\n}\r\n\r\nconst DeviceScreen = () => {\r\n  const dispatch = useDispatch()\r\n\r\n  const deviceErrorMessage = useSelector((state) => state.device.deviceErrorMessage)\r\n\r\n  const connectedDevice = useSelector((state) => state.device.connectedDevice)\r\n  const DeviceData = useSelector((state) => state.device.deviceData)\r\n\r\n  const scannerState = useSelector((state) => state.device.scannerState)\r\n  const connectionMethode = useSelector((state) => state.device.connectionMethode)\r\n  const Devices = useSelector((state) => state.device.DeviceList)\r\n\r\n  useEffect(() => {\r\n    //dispatch(DeviceActions.fetchDevice())\r\n  }, [])\r\n\r\n  return (\r\n    <View\r\n      style={[\r\n        Helpers.fill,\r\n        Helpers.rowMain,\r\n        Metrics.mediumHorizontalMargin,\r\n        Metrics.mediumVerticalMargin,\r\n      ]}\r\n    >\r\n      <View>\r\n        <View style={Style.textContainer}>\r\n          {deviceErrorMessage ? (\r\n            <View>\r\n              <Text>There was a error while retrieving conected device</Text>\r\n              \r\n            </View>\r\n          ) : (\r\n            <View>\r\n              <Text style={Style.text}>Corrently connected:</Text>\r\n              <Text style={Style.text}>{connectedDevice && connectedDevice.name ? (connectedDevice.name):(\"None\") /*mabye use localname*/}</Text>\r\n            </View>\r\n          )}\r\n        </View>\r\n        <View style={Style.buttonContainer}>\r\n          {connectedDevice ? (\r\n            <View>\r\n              <Button buttonStyle={ApplicationStyles.button} Text=\"Disconnect Device\" \r\n                onPress={() => dispatch(DeviceActions.disconnectDevice(connectionMethode))}/>\r\n              {/*<Button buttonStyle={ApplicationStyles.button} Text=\"Activate device reading\"\r\n                onPress={() => {\r\n                  dispatch(DeviceActions.readDeviceData())\r\n                }}\r\n              />*/}\r\n            </View>\r\n            ): (\r\n            <View>\r\n              {connectionMethode == ConnectionMethode.BLE && scannerState != ScannerState.IDLE ? (\r\n                <Button buttonStyle={ApplicationStyles.button} Text=\"Stop BLE Search\" \r\n                  onPress={() => dispatch(DeviceActions.stopBleScan())}/>\r\n                  ) : (\r\n                <Button buttonStyle={ApplicationStyles.button} Text=\"Search BLE devices\"\r\n                  onPress={() => dispatch(DeviceActions.startBleScan())}/>\r\n                )\r\n              }\r\n              \r\n              {Platform.OS === 'ios' ? (<></>):(\r\n                <View>\r\n                  {connectionMethode == ConnectionMethode.BLUETOOTH && scannerState != ScannerState.IDLE ? (\r\n                    <Button buttonStyle={ApplicationStyles.button} Text=\"Stop Bluetooth Search\" \r\n                      onPress={() => dispatch(DeviceActions.stopBluetoothScan())}/>\r\n                      ) : (\r\n                    <Button buttonStyle={ApplicationStyles.button} Text=\"Search Bluetooth devices\" \r\n                      onPress={() => dispatch(DeviceActions.startBluetoothScan())}/>\r\n                    )\r\n                  }\r\n                  <Button buttonStyle={ApplicationStyles.button} Text=\"Make Discoverable (Blu 30sec)\" \r\n                      onPress={() => dispatch(DeviceActions.bluetoothScanAble())}/>\r\n\r\n                  <Button buttonStyle={ApplicationStyles.button} Text=\"OnDevice-serial\" \r\n                      onPress={() => {}}/>\r\n                </View>\r\n              )}\r\n            </View>\r\n          )}\r\n        </View>\r\n        <View style={Style.deviceContainer}>\r\n          <Text style={Style.text2}>Device List:</Text>\r\n            { connectedDevice ? \r\n              ConnectedDevice_View(connectedDevice, DeviceData)\r\n              : (\r\n                <ScrollView style={{paddingRight: 5}}>\r\n                  {Devices.map((Dev, i) => (\r\n                    <CustomListItem key={i} Title={Dev.localName} Subtitle={Dev.id} onPress={() => dispatch(DeviceActions.connectDevice(Dev))}/>\r\n                  ))}\r\n                </ScrollView> \r\n              )\r\n            }\r\n        </View>\r\n      </View>\r\n    </View>\r\n  );\r\n}\r\n\r\nexport default DeviceScreen;\r\n","import { StyleSheet } from 'react-native'\r\nimport { Helpers, Metrics, Fonts, Colors } from '../../Theme'\r\n\r\nexport default StyleSheet.create({\r\n  logoContainer: {\r\n    ...Helpers.fullWidth,\r\n    height: 220,\r\n    marginBottom: Metrics.small,\r\n  },\r\n\r\n  textContainer: {\r\n    ...Fonts.normal,\r\n    marginBottom: Metrics.small,\r\n  },\r\n  buttonContainer: {\r\n    marginBottom: Metrics.normal,\r\n  },\r\n  deviceContainer: {\r\n    flex: 1,\r\n    marginBottom: Metrics.tiny,\r\n  },\r\n  deviceDataContainer: {\r\n    borderWidth: 1,\r\n    borderColor: \"#000\",\r\n    marginTop: Metrics.normal,\r\n    paddingTop: Metrics.small,\r\n    paddingHorizontal: Metrics.normal,\r\n  },\r\n\r\n  error: {\r\n    ...Fonts.normal,\r\n    color: Colors.error,\r\n    marginBottom: Metrics.tiny,\r\n    textAlign: 'center',\r\n  },\r\n  result: {\r\n    ...Fonts.normal,\r\n    marginBottom: Metrics.tiny,\r\n    textAlign: 'center',\r\n  },\r\n  text: {\r\n    ...Fonts.normal,\r\n    marginBottom: Metrics.tiny,\r\n    textAlign: 'center',\r\n  },\r\n  text2: {\r\n    ...Fonts.normal,\r\n    marginRight: Metrics.small,\r\n    marginBottom: Metrics.tiny,\r\n  },\r\n})\r\n","import React from 'react'\r\nimport { createStackNavigator } from 'react-navigation-stack'\r\nimport { TouchableOpacity, View, Text } from 'react-native'\r\nimport { Icon } from 'react-native-elements'\r\n\r\nimport NavigationService from '../Services/NavigationService'\r\n\r\nimport LoadingUserScreen from '../Containers/Cloud/AuthScreens/UserLoadingScreen'\r\nimport LoginUserScreen from '../Containers/Cloud/AuthScreens/UserLoginScreen'\r\nimport VerifyScreen from '../Containers/Cloud/AuthScreens/VerifyScreen'\r\nimport CreateUserDataScreen from '../Containers/Cloud/AuthScreens/CreateUserDataScreen'\r\n\r\nimport { ApplicationStyles } from '../Theme'\r\n\r\n/**\r\n * The root screen contains the application's navigation.\r\n *\r\n * @see https://reactnavigation.org/docs/en/hello-react-navigation.html#creating-a-stack-navigator\r\n */\r\nconst StackNavigator = createStackNavigator(\r\n  {\r\n    UserLoadingScreen: {\r\n      screen: LoadingUserScreen,\r\n      navigationOptions: () => ({\r\n        title: 'User loading',\r\n      }),\r\n    },\r\n    LoginUser: {\r\n      screen: LoginUserScreen,\r\n      navigationOptions: () => ({\r\n        title: 'User Login',\r\n        headerLeft: () => (\r\n          <View style={{padding:6, paddingLeft: 15}}>\r\n            <Icon name=\"md-arrow-back\" type='ionicon' size={25} color=\"black\" onPress={() => NavigationService.navigate('MainStack')}/>\r\n          </View>\r\n        ),\r\n      }),\r\n    },\r\n    VerifyScreen: {\r\n      screen: VerifyScreen,\r\n      navigationOptions: () => ({\r\n        title: 'User Verification',\r\n      }),\r\n    },\r\n    CreateUserData: {\r\n      screen: CreateUserDataScreen,\r\n      navigationOptions: () => ({\r\n        title: 'Create Data',\r\n      }),\r\n    },\r\n  },\r\n  {\r\n    initialRouteName: 'UserLoadingScreen',\r\n    // See https://reactnavigation.org/docs/en/stack-navigator.html#stacknavigatorconfig\r\n    headerMode: 'float',\r\n    defaultNavigationOptions:{\r\n      headerTitleAlign: 'center',\r\n      headerTitleStyle:{...ApplicationStyles.navigationHeader},\r\n      headerLeft: () => (\r\n        <View style={{padding:6, paddingLeft: 15}}>\r\n          <Icon type='ionicon' name=\"md-arrow-back\" size={25} color=\"black\" onPress={() => NavigationService.navigate('MainStack')}/>\r\n        </View>\r\n      ),\r\n      headerRight: () => (<View style={{padding:6}}></View>),\r\n    },\r\n  }\r\n)\r\n\r\nexport default StackNavigator\r\n","import React, { Component } from 'react'\r\nimport { Platform, Text, Image, View, ActivityIndicator } from 'react-native'\r\nimport { Input } from 'react-native-elements'\r\nimport { connect } from 'react-redux'\r\nimport { bindActionCreators } from 'redux';\r\n\r\nimport NavigationService from '../../../Services/NavigationService'\r\n\r\nimport FirebaseActions from '../../../Stores/Firebase/Actions'\r\nimport {Actions, DataRefs, UserStates} from '../../../Stores/Firebase/Selectors'\r\n\r\nimport { Loading } from '../../../Components'\r\nimport Style from './AuthStyle'\r\nimport { ApplicationStyles, Helpers, Metrics, Images } from '../../../Theme'\r\n\r\nlet auth;\r\nif (Platform.OS === 'ios' || Platform.OS === 'android') {\r\n  //#region App version imports\r\n  auth = require('@react-native-firebase/auth').default;\r\n  //#endregion\r\n} else {\r\n  //#region Web Version imports\r\n  var firebase = require('firebase/app').default;\r\n  require('firebase/auth').default;\r\n\r\n  auth = firebase.auth;\r\n  //#endregion\r\n}\r\n\r\nconst PanelsSorter = (userType) => {\r\n  switch(userType) {\r\n    case UserStates.ADMIN:\r\n      return \"AdminPanel\"\r\n    case UserStates.OWNER:\r\n      return \"ConsysPanel\"\r\n    case UserStates.FREE:\r\n      return \"UserPanel\"\r\n    case UserStates.STARTER:\r\n      return \"CreateUserData\"\r\n    default:\r\n      return \"LoginUser\"\r\n  }\r\n};\r\n\r\nclass UserLoadingScreen extends Component {\r\n  constructor(props){\r\n    super(props);\r\n    this.state = {\r\n      ISLOADPAGE: true,\r\n      FocusSubscription: null,\r\n    }\r\n  }\r\n\r\n  getData() {\r\n  }\r\n\r\n  checkData(props) {\r\n    const firebaseData = this.props.firebase;\r\n    if (!firebaseData) {\r\n      this.props.setFirebaseError(\"Internal rootdata Error\")\r\n      NavigationService.navigate('MainStack')\r\n      return;\r\n    }\r\n    \r\n    var page = \"LoginUser\";\r\n    const firebaseUser = firebaseData.firebaseUser\r\n    if (firebaseUser && Object.keys(firebaseUser).length > 1) {\r\n      if (firebaseUser.state === UserStates.STARTER && !firebaseUser.emailVerified) {\r\n        var User = auth().currentUser;\r\n        if(!User.emailVerified) {\r\n          page = \"VerifyScreen\";\r\n        }else {\r\n          page = PanelsSorter(firebaseUser.state)\r\n        }\r\n      } else {\r\n        page = PanelsSorter(firebaseUser.state)\r\n      }\r\n    }\r\n\r\n    NavigationService.navigate(page)\r\n  }\r\n\r\n  componentDidUpdate(prevProps, prevState) {\r\n    if (this.props !== prevProps){\r\n      if (this.props.firebase.firebaseUser != prevProps.firebase.firebaseUser) { //Only checking user changes\r\n        var now = this.props.firebase.firebaseUser\r\n        var prev = prevProps.firebase.firebaseUser\r\n        if (!now || now.uid !== prev.uid || (now.state !== prev.state && prev.state !== UserStates.STARTER) || now.emailVerified != prev.emailVerified) {\r\n          console.log(\"UserLoading\")\r\n          this.checkData(this.props);\r\n        }\r\n      }\r\n    }\r\n  }\r\n\r\n  componentDidMount() {\r\n    this.props.setFirebaseError(null)\r\n    this.props.getUser(null)\r\n    this.checkData(this.props);\r\n    this.getData();\r\n\r\n    const FocusSubscription = this.props.navigation.addListener(\r\n      'willFocus',\r\n      payload => {\r\n        this.props.setViewLoading(false)\r\n        this.props.setViewError(null)\r\n      }\r\n    );\r\n    this.setState({\r\n      FocusSubscription: FocusSubscription\r\n    })\r\n  }\r\n\r\n  componentWillUnmount() {\r\n    if (this.state.FocusSubscription) {\r\n      this.state.FocusSubscription.remove()\r\n    }\r\n  }\r\n\r\n  render() {\r\n    const IsLoading = this.props.firebase.firebaseIsLoading\r\n    const ISLOADPAGE = this.state.ISLOADPAGE;\r\n    \r\n    return(\r\n      <View\r\n        style={[\r\n          Helpers.mainContainer,\r\n        ]}\r\n      >\r\n        {!ISLOADPAGE ?(\r\n          <View style={[Helpers.contentContainer, Helpers.fullSize, Helpers.fillColMain]}>\r\n            <Text style={ApplicationStyles.text}>This page contains an error.</Text>\r\n            <Text style={ApplicationStyles.text}>If you are going back, please press back again.</Text>\r\n          </View>\r\n        ):(\r\n          <View style={[Helpers.fillRowCenter, Helpers.center, Helpers.logoContainer]}>\r\n            <Image style={Helpers.fullSize} source={Images.Hexa_icon} resizeMode={'contain'} />\r\n          </View>\r\n        )}\r\n        {(IsLoading || ISLOADPAGE) &&\r\n          <ActivityIndicator style={Helpers.loadingContainer} size='large' />\r\n        }\r\n      </View>\r\n    )\r\n  }\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n  const { firebase } = state\r\n  return { firebase }\r\n};\r\n\r\nconst mapDispatchToProps  = (dispatch) => {\r\n  return {\r\n    setFirebaseError: error => dispatch(FirebaseActions.setFirebaseError(error)),\r\n    setViewLoading: state => dispatch(FirebaseActions.viewIsLoading(state)),\r\n    setViewError: error => dispatch(FirebaseActions.setViewError(error)),\r\n\r\n    clearDataMem: () => dispatch(FirebaseActions.actionStarting(Actions.CLEAR, DataRefs.USERSDATA)),\r\n    getUser: (UserId) => dispatch(FirebaseActions.actionStarting(Actions.FETCH, DataRefs.USERSDATA, {UserId: UserId})), //TODO: mabye not get user \r\n  }\r\n};\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(UserLoadingScreen);\r\n//export default UserLoadingScreen;\r\n","import React, { Component } from 'react'\r\nimport { Text, View, ActivityIndicator, Image } from 'react-native'\r\nimport { Input } from 'react-native-elements'\r\nimport { connect } from 'react-redux'\r\nimport { bindActionCreators } from 'redux';\r\n\r\nimport NavigationService from '../../../Services/NavigationService'\r\n\r\nimport FirebaseActions from '../../../Stores/Firebase/Actions'\r\nimport { Actions, DataRefs } from '../../../Stores/Firebase/Selectors'\r\n\r\nimport { Button } from '../../../Components'\r\nimport Style from './AuthStyle'\r\nimport { ApplicationStyles, Helpers, Metrics, Images } from '../../../Theme'\r\n\r\nclass UserLoginScreen extends Component {\r\n  constructor(props){\r\n    super(props);\r\n    this.state = {\r\n      Email: \"\",\r\n      Pass: \"\",\r\n      CreateUser: false,\r\n    }\r\n  }\r\n\r\n  getData() {\r\n  }\r\n\r\n  checkData(props) {\r\n  }\r\n\r\n  componentDidMount() {\r\n    this.props.setViewLoading(false)\r\n    this.props.setViewError(null)\r\n    this.checkData(this.props);\r\n    this.getData();\r\n  }\r\n\r\n  componentDidUpdate(prevProps, prevState) {\r\n    if (this.props !== prevProps) {\r\n      this.checkData(this.props);\r\n      if (this.props.firebase.viewError != prevProps.firebase.viewError) {\r\n        this.forceUpdate()\r\n      }\r\n    }\r\n  }\r\n\r\n  render() {\r\n    const IsLoading = this.props.firebase.firebaseIsLoading\r\n    const ErrorMessage = this.props.firebase.viewError\r\n    \r\n    return(\r\n      <View\r\n        style={[\r\n          Helpers.mainContainer,\r\n        ]}\r\n      >\r\n        <View style={[Helpers.contentContainer, Helpers.fullSize, Helpers.fillColMain]}>\r\n          {ErrorMessage ? (\r\n            <Text style={ApplicationStyles.error}>{ErrorMessage}</Text>\r\n          ):(<></>)}\r\n\r\n          {!this.state.CreateUser?(\r\n            <View style={[Helpers.contentContainer, Helpers.fullSize, Helpers.fillColMain]}>\r\n              <View style={[Helpers.borderContainer, Helpers.midWidth, {marginBottom:20}] }>\r\n                <Input\r\n                  label=\"Username\"\r\n                  style={ApplicationStyles.input}\r\n                  onChangeText={text => {\r\n                    this.setState({Email: text})\r\n                  }}\r\n                  value={this.state.Email}\r\n                />\r\n                <Input\r\n                  label=\"Password\"\r\n                  style={ApplicationStyles.input}\r\n                  onChangeText={text => {\r\n                    this.setState({Pass:text})\r\n                  }}\r\n                  value={this.state.Pass}\r\n                  secureTextEntry={true}\r\n                />\r\n                <Button Text=\"Login\" icon={Images.User}\r\n                  onPress={() => {\r\n                    if (!this.state.Email || this.state.Email === \"\") this.props.setViewError(\"Email is needed\")\r\n                    else if (this.state.Email === \"CLEAR\") this.props.clearDataMem()\r\n                    else if (!this.state.Pass || this.state.Pass === \"\") this.props.setViewError(\"Password is needed\")\r\n                    else {\r\n                      this.props.setViewLoading(true)\r\n                      this.props.signIN(this.state.Email, this.state.Pass)\r\n                    }\r\n                  }}/>\r\n              </View>\r\n\r\n              <View style={[Helpers.buttonContainer, Helpers.midWidth] }>\r\n                <Button Text=\"Send reset password\"\r\n                  onPress={() => {\r\n                    this.props.setViewError(null)\r\n                    if (this.state.Email) {\r\n                      this.props.setViewLoading(true)\r\n                      this.props.resetPass(this.state.Email)\r\n                    } else {\r\n                      this.props.setViewError(\"Please provide an Email\")\r\n                    }\r\n                  }}/>\r\n                <Button Text=\"Create New User\"\r\n                  onPress={() => {\r\n                    this.props.setViewError(null)\r\n                    this.setState({\r\n                      Email: \"\",\r\n                      Pass: \"\",\r\n                      CreateUser: true,\r\n                    })\r\n                  }}/>\r\n              </View>\r\n            </View>\r\n          ):(\r\n            <View style={[Helpers.contentContainer, Helpers.fullSize, Helpers.fillColMain]}>\r\n              <View style={ [Helpers.borderContainer, Helpers.midWidth, {marginBottom:20}] }>\r\n                <Input\r\n                  label=\"Email\"\r\n                  style={ApplicationStyles.input}\r\n                  onChangeText={text => {this.setState({Email:text})}}\r\n                  value={this.state.Email}\r\n                />\r\n                <Input\r\n                  label=\"Password\"\r\n                  style={ApplicationStyles.input}\r\n                  onChangeText={text => {this.setState({Pass:text})}}\r\n                  value={this.state.Pass}\r\n                  secureTextEntry={true}\r\n                />\r\n              </View>\r\n              <View style={[Helpers.buttonContainer, Helpers.midWidth] }>\r\n                <Button Text=\"Create User\" \r\n                  onPress={() => { \r\n                    if (!this.state.Email || this.state.Email === \"\") this.props.setFirebaseError(\"Email is needed\")\r\n                    else if (!this.state.Pass || this.state.Pass === \"\") this.props.setFirebaseError(\"Password is needed\")\r\n                    else {\r\n                      this.props.setViewLoading(true)\r\n                      this.props.createUser(this.state.Email,this.state.Pass)\r\n                    }\r\n                  }}\r\n                />\r\n              </View>\r\n            </View>\r\n          )}\r\n\r\n          {(IsLoading || this.props.firebase.viewIsLoading) &&\r\n            <ActivityIndicator style={Helpers.loadingContainer} size='large' />\r\n          }\r\n        </View>\r\n      </View>\r\n    )\r\n  }\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n  const { firebase } = state\r\n  return { firebase }\r\n};\r\n\r\nconst mapDispatchToProps  = (dispatch) => {\r\n  return {\r\n    setViewLoading: state => dispatch(FirebaseActions.viewIsLoading(state)),\r\n    setViewError: error => dispatch(FirebaseActions.setViewError(error)),\r\n    clearDataMem: () => dispatch(FirebaseActions.actionStarting(Actions.CLEAR, DataRefs.USERSDATA)),\r\n\r\n    signIN: (Email, Pass) => dispatch(FirebaseActions.actionStarting(Actions.SIGN, DataRefs.USERSDATA, {Email: Email, Pass: Pass})),\r\n    resetPass: (Email) => dispatch(FirebaseActions.actionStarting(Actions.CREATE, DataRefs.USERS, {Email: Email})),\r\n    createUser: (Email, Pass) => dispatch(FirebaseActions.actionStarting(Actions.CREATE, DataRefs.USERS, {Email: Email, Pass: Pass})),\r\n  }\r\n};\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(UserLoginScreen);\r\n//export default UserLoginScreen;","import React, { Component } from 'react'\r\nimport { Text, View, ActivityIndicator, Platform } from 'react-native'\r\nimport { connect } from 'react-redux'\r\nimport { bindActionCreators } from 'redux';\r\nimport NavigationService from '../../../Services/NavigationService'\r\n\r\nimport FirebaseActions from '../../../Stores/Firebase/Actions'\r\nimport { Actions, DataRefs } from '../../../Stores/Firebase/Selectors'\r\n\r\nimport { Button } from '../../../Components'\r\nimport Style from './AuthStyle'\r\nimport { ApplicationStyles, Helpers, Metrics } from '../../../Theme'\r\n\r\nlet auth;\r\nif (Platform.OS === 'ios' || Platform.OS === 'android') {\r\n  //#region App version imports\r\n  auth = require('@react-native-firebase/auth').default;\r\n  //#endregion\r\n} else {\r\n  //#region Web Version imports\r\n  var firebase = require('firebase/app').default;\r\n  require('firebase/auth').default;\r\n\r\n  auth = firebase.auth;\r\n  //#endregion\r\n}\r\n\r\nclass VerifyScreen extends Component{\r\n  constructor(props){\r\n    super(props);\r\n    \r\n    this.state = {\r\n    }\r\n  }\r\n\r\n  setData(Props) {\r\n  }\r\n\r\n  getData() {\r\n  }\r\n\r\n  checkData(props) {\r\n    if (props.firebase && props.firebase.firebaseUser) {\r\n      var User = auth().currentUser;\r\n\r\n      if (User && !props.firebase.firebaseUser.emailVerified && !props.firebase.viewIsLoading){\r\n        User.reload().then((data)=>{\r\n          if(User.emailVerified) {\r\n            this.props.setViewLoading(true)\r\n            this.props.setUser(User.emailVerified)\r\n            console.log(\"Verified\")\r\n            NavigationService.navigate(\"AuthStack\")\r\n          }\r\n        })\r\n      }\r\n      \r\n      if (props.firebase.firebaseUser.emailVerified) NavigationService.navigate(\"AuthStack\")\r\n    }\r\n  }\r\n\r\n  componentDidUpdate(prevProps, prevState) {\r\n    if (this.props !== prevProps) {\r\n      this.checkData(this.props);\r\n    }\r\n  }\r\n\r\n  componentDidMount() {\r\n    this.props.setViewLoading(false)\r\n    this.props.setViewError(null)\r\n    this.checkData(this.props);\r\n    this.getData();\r\n  }\r\n\r\n  componentWillUnmount(){\r\n  }\r\n\r\n  render() {\r\n    const IsLoading = this.props.firebase.firebaseIsLoading\r\n    const firebaseUser = this.props.firebase.firebaseUser\r\n    const ErrorMessage = this.props.firebase.viewError\r\n\r\n    return(\r\n      <View\r\n        style={[\r\n          Helpers.mainContainer,\r\n        ]}\r\n      >\r\n        <View style={[Helpers.contentContainer, Helpers.fullSize, Helpers.fillColMain]}>\r\n          {ErrorMessage ? (\r\n            <Text style={ApplicationStyles.error}>{ErrorMessage}</Text>\r\n          ):(<></>)}\r\n\r\n          <View>\r\n            <Text>Please verify your account by accepting the email, sent to your current account</Text>\r\n            <Text>This page will not refresh itself...</Text>\r\n            <Button Text=\"Resend verification\"\r\n              onPress={() => {\r\n                console.log(\"send\", firebaseUser, this.state.User)\r\n                if (firebaseUser && this.state.User) {\r\n                  this.state.User.sendEmailVerification()\r\n                }\r\n              }}/>\r\n            <Button Text=\"Refresh\"\r\n              onPress={() => {\r\n                this.checkData(this.props, this.state)\r\n              }}/>\r\n          </View>\r\n          \r\n        </View>\r\n        {(IsLoading || this.props.firebase.viewIsLoading) &&\r\n          <ActivityIndicator style={Helpers.loadingContainer} size='large' />\r\n        }\r\n      </View>\r\n    )\r\n  }\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n  const { firebase } = state\r\n  return { firebase }\r\n};\r\n\r\nconst mapDispatchToProps  = (dispatch) => {\r\n  return {\r\n    setViewLoading: state => dispatch(FirebaseActions.viewIsLoading(state)),\r\n    setViewError: error => dispatch(FirebaseActions.setViewError(error)),\r\n\r\n    setFirebaseError: error => dispatch(FirebaseActions.setFirebaseError(error)),\r\n\r\n    setUser: (Verified) => dispatch(FirebaseActions.actionStarting(Actions.UPDATE, DataRefs.USERS, {emailVerified:Verified, })),\r\n  }\r\n};\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(VerifyScreen);\r\n//export default VerifyScreen;","import React, { Component } from 'react'\r\nimport { Platform, Text, View, ScrollView, ActivityIndicator } from 'react-native'\r\nimport { Input } from 'react-native-elements'\r\nimport { connect } from 'react-redux'\r\nimport { bindActionCreators } from 'redux';\r\nimport NavigationService from '../../../Services/NavigationService'\r\n\r\nimport FirebaseActions from '../../../Stores/Firebase/Actions'\r\nimport { Actions, UserStates, DataRefs, DataStringCheck } from '../../../Stores/Firebase/Selectors'\r\n\r\nimport { Button } from '../../../Components'\r\nimport Style from './AuthStyle'\r\nimport { ApplicationStyles, Helpers, Metrics } from '../../../Theme'\r\n\r\nimport UserInformation from '../UserPanel/UserInformation'\r\nimport Subscription from '../UserPanel/Subscription'\r\nimport FarmInformation from '../UserPanel/FarmInformation'\r\n\r\nclass CreateNewUserData extends Component{\r\n  constructor(props){\r\n    super(props);\r\n    this.state = {\r\n      ViewState: 1,\r\n    }\r\n  }\r\n\r\n  getData() {\r\n  }\r\n\r\n  checkData(props) {\r\n  }\r\n\r\n  componentDidMount() {\r\n    this.props.setViewLoading(false)\r\n    //this.props.setViewError(null)\r\n\r\n    this.checkData(this.props);\r\n    this.getData();\r\n  }\r\n\r\n  componentDidUpdate(prevProps, prevState) {\r\n    if (this.props !== prevProps) {\r\n      this.checkData(this.props);\r\n      /*if (this.props.firebase.viewError != prevProps.firebase.viewError) {\r\n        this.forceUpdate()\r\n      }*/\r\n      if (this.props.firebase.firebaseUser !== prevProps.firebase.firebaseUser) {\r\n        if (prevProps.firebase.firebaseUser.state !== UserStates.STARTER && this.state.ViewState !== 3) {\r\n          NavigationService.nacigationPop()\r\n        }\r\n      }\r\n    }\r\n  }\r\n\r\n  render() {\r\n    const IsLoading = this.props.firebase.firebaseIsLoading\r\n\r\n    var Display = [];\r\n    if (this.state.ViewState === 1) {\r\n      Display = [(<UserInformation key={\"View1\"} OnDone={res => {\r\n        if (res) {\r\n          this.setState({\r\n            ViewState:2\r\n          }, this.forceUpdate())\r\n        }else {\r\n          NavigationService.nacigationPop()\r\n        }\r\n      }}/>)]\r\n    } else if (this.state.ViewState === 2) {\r\n      Display = [(<Subscription key={\"View2\"} OnDone={res => {\r\n        if (res && res != \"\") {\r\n          var FarmName = \"Not set\"\r\n          if (this.props.firebase.firebaseUser.lastN) FarmName = this.props.firebase.firebaseUser.lastN;\r\n          this.props.precreateUserData(res, FarmName)\r\n\r\n          this.setState({\r\n            ViewState:3\r\n          }, this.forceUpdate())\r\n        }else {\r\n          NavigationService.nacigationPop()\r\n        }\r\n      }}/>)]\r\n    } else if (this.state.ViewState === 3) {\r\n      Display = [(<FarmInformation key={\"View3\"} OnDone={res => {\r\n        if (res && res != \"\") {\r\n          this.props.clearDataMem()\r\n          NavigationService.navigateAndReset('AuthStack')\r\n        }\r\n      }}/>)]\r\n    } else {\r\n      this.props.clearDataMem()\r\n      NavigationService.navigateAndReset('AuthStack')\r\n    }\r\n\r\n    return(\r\n      <View>\r\n        {Display}\r\n      </View>\r\n    )\r\n  }\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n  const { firebase } = state\r\n  return { firebase }\r\n};\r\n\r\nconst mapDispatchToProps  = (dispatch) => {\r\n  return {\r\n    setViewLoading: state => dispatch(FirebaseActions.viewIsLoading(state)),\r\n\r\n    clearDataMem: () => dispatch(FirebaseActions.actionStarting(Actions.CLEAR, DataRefs.USERSDATA)),\r\n    updateUser: (Data) => dispatch(FirebaseActions.actionStarting(Actions.UPDATE, DataRefs.USERSDATA, {Data: Data})),\r\n    precreateUserData: (Subsc, FarmName) => dispatch(FirebaseActions.actionStarting(Actions.CREATE, DataRefs.USERSDATA, {UserData: {state:Subsc}, Farms:{name:FarmName}, Sections:{}, Pens:{}})),\r\n  }\r\n};\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(CreateNewUserData);\r\n//export default CreateNewUserData;","import React, { Component } from 'react'\r\nimport { Platform, Text, View, ScrollView, ActivityIndicator } from 'react-native'\r\nimport { Input } from 'react-native-elements'\r\nimport { connect } from 'react-redux'\r\nimport { bindActionCreators } from 'redux';\r\nimport NavigationService from '../../../Services/NavigationService'\r\n\r\nimport FirebaseActions from '../../../Stores/Firebase/Actions'\r\nimport { Actions, UserStates, DataRefs, ErrorTypes, DataStringCheck } from '../../../Stores/Firebase/Selectors'\r\n\r\nimport { Button, TitleElement } from '../../../Components'\r\nimport Style from './UserPanelStyle'\r\nimport { ApplicationStyles, Helpers, Metrics } from '../../../Theme'\r\n\r\nclass UserInformation extends Component{\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    const {FirstN, LastN, Contact, ContactP, Address} = this.setData(props)\r\n    this.state = {\r\n      FirstN: FirstN,\r\n      LastN: LastN,\r\n      Contact: Contact,\r\n      ContactP: ContactP,\r\n      Address: Address,\r\n      Country: \"\",\r\n    }\r\n  }\r\n\r\n  setData(Props) {\r\n    var FirstN = \"\"\r\n    var LastN = \"\"\r\n    var Contact = \"\"\r\n    var ContactP = \"\"\r\n    var Address = \"\"\r\n\r\n    const firebaseData = this.props.firebase;\r\n    if (firebaseData){\r\n      const firebaseUser = firebaseData.firebaseUser\r\n      if (firebaseUser) {\r\n        if (firebaseUser.name && DataStringCheck(firebaseUser.name)){\r\n          FirstN = firebaseUser.name\r\n        }\r\n        if (firebaseUser.lastN){\r\n          LastN = firebaseUser.lastN\r\n        }\r\n        if (firebaseUser.contact){\r\n          Contact = firebaseUser.contact\r\n        }\r\n        if (firebaseUser.phoneNumber) {\r\n          ContactP = firebaseUser.phoneNumber\r\n        }\r\n        if (firebaseUser.address){\r\n          Address = firebaseUser.address\r\n        }\r\n      }\r\n    }\r\n    return {FirstN, LastN, Contact, ContactP, Address}\r\n  }\r\n\r\n  getData() {\r\n    \r\n  }\r\n\r\n  checkData(props) {\r\n  }\r\n\r\n  componentDidMount() {\r\n    this.props.setViewLoading(false)\r\n    this.props.setViewError(null)\r\n\r\n    this.props.getUser(null)\r\n\r\n    this.checkData(this.props)\r\n    this.getData();\r\n  }\r\n\r\n  componentDidUpdate(prevProps, prevState) {\r\n    if (this.props !== prevProps) {\r\n      this.checkData(this.props);\r\n\r\n      if (this.props.firebase.firebaseUser) {\r\n        if ((this.props.firebase.firebaseUser.name != this.state.FirstN && this.state.FirstN === \"\") ||\r\n            (this.props.firebase.firebaseUser.lastN != this.state.lastN && this.state.lastN === \"\") ||\r\n            (this.props.firebase.firebaseUser.contact != this.state.Contact && this.state.Contact === \"\") ||\r\n            (this.props.firebase.firebaseUser.address != this.state.Address && this.state.Address === \"\")\r\n          ) {\r\n          const {FirstN, LastN, Contact, ContactP, Address} = this.setData(this.props)\r\n          this.setState({\r\n            FirstN: FirstN,\r\n            LastN: LastN,\r\n            Contact: Contact,\r\n            ContactP: ContactP,\r\n            Address: Address,\r\n          })\r\n        }\r\n      }\r\n    }\r\n  }\r\n\r\n  render() {\r\n    const IsLoading = this.props.firebase.firebaseIsLoading\r\n    const ErrorMessage = this.props.firebase.viewError\r\n\r\n    //TODO: Test more with input error display ??\r\n    const F_FirstN = React.createRef();\r\n    const F_LastN = React.createRef();\r\n    const F_Contact = React.createRef();\r\n    const F_ContactP = React.createRef();\r\n    const F_Address = React.createRef();\r\n\r\n    return(\r\n      <ScrollView style={[Metrics.verticalMargin, {paddingRight: 5}]}>\r\n        <View\r\n          style={[\r\n            Helpers.mainContainer,\r\n          ]}\r\n        >\r\n          <View style={[Helpers.contentContainer, Helpers.fullSize, Helpers.fillColMain]}>\r\n            {ErrorMessage && (!ErrorMessage.type || ErrorMessage.type === ErrorTypes.SYSTEM) ? (\r\n              <Text style={ApplicationStyles.error}>{ErrorMessage.message?ErrorMessage.message:ErrorMessage}</Text>\r\n            ):(<></>)}\r\n            <TitleElement Text=\"User Informations\"/>\r\n            <View style={ [Helpers.borderContainer, Helpers.midWidth, {marginBottom:20}] }>\r\n              <Input ref={F_FirstN}\r\n                label=\"First Name\"\r\n                style={ApplicationStyles.input}\r\n                onChangeText={text => {\r\n                  if (text){\r\n                    if (DataStringCheck(text)){\r\n                      this.setState({FirstN:text})\r\n                    }\r\n                  }else {\r\n                    this.setState({FirstN:text})\r\n                  }\r\n                }}\r\n                value={this.state.FirstN}\r\n\r\n              />\r\n              <Input ref={F_LastN}\r\n                label=\"Last Name\"\r\n                style={ApplicationStyles.input}\r\n                onChangeText={text => {\r\n                  if (text){\r\n                    if (DataStringCheck(text)){\r\n                      this.setState({LastN:text})\r\n                    }\r\n                  }else {\r\n                    this.setState({LastN:text})\r\n                  }\r\n                }}\r\n                value={this.state.LastN}\r\n              />\r\n              <Input ref={F_Contact}\r\n                label=\"Contact Email\"\r\n                style={ApplicationStyles.input}\r\n                onChangeText={text => {\r\n                  if (text){\r\n                    var test = text\r\n                    test = test.replace('@','a')\r\n                    test = test.replace('.','d')\r\n                    if (DataStringCheck(test)) {\r\n                      this.setState({Contact:text})\r\n                    }\r\n                  }else {\r\n                    this.setState({Contact:text})\r\n                  }\r\n                }}\r\n                value={this.state.Contact}\r\n              />\r\n              <Input ref={F_ContactP}\r\n                label=\"Contact Phone\"\r\n                style={ApplicationStyles.input}\r\n                onChangeText={text => {\r\n                  if (text){\r\n                    if (DataStringCheck(text, false)){\r\n                      this.setState({ContactP:text})\r\n                    }\r\n                  }else {\r\n                    this.setState({ContactP:text})\r\n                  }\r\n                }}\r\n                value={this.state.ContactP}\r\n              />\r\n              <Input ref={F_Address}\r\n                label=\"Address\"\r\n                style={ApplicationStyles.input}\r\n                onChangeText={text => {\r\n                  if (text){\r\n                    if (DataStringCheck(text)){\r\n                      this.setState({Address:text})\r\n                    }\r\n                  }else {\r\n                    this.setState({Address:text})\r\n                  }\r\n                }}\r\n                value={this.state.Address}\r\n              />\r\n              <Input\r\n                label=\"Country\"\r\n                style={ApplicationStyles.input}\r\n                onChangeText={text => {\r\n                  if (text){\r\n                    if (DataStringCheck(text)){\r\n                      this.setState({Country:text})\r\n                    }\r\n                  }else {\r\n                    this.setState({Country:text})\r\n                  }\r\n                }}\r\n                value={this.state.Country}\r\n              />\r\n            </View>\r\n            <View style={[Helpers.buttonContainer, Helpers.midWidth] }>\r\n              <Button Text=\"Save User information\" \r\n                onPress={() => {\r\n                  var _UserData = {}\r\n\r\n                  if (!this.state.FirstN || this.state.FirstN === \"\"){\r\n                    this.props.setViewError(\"First name is needed\")\r\n                    /*F_FirstN.current.setNativeProps({ errorProps:\"First name is needed\" })\r\n                    F_FirstN.current.shake();*/\r\n                  } else if (!DataStringCheck(this.state.FirstN)) {\r\n                    this.props.setViewError(\"First name contains invalid characters\")\r\n                    /*F_FirstN.current.setNativeProps({ errorProps: \"First name contains invalid characters\" })\r\n                    F_FirstN.current.shake();*/\r\n                  }\r\n                  \r\n                  else if (!this.state.LastN || this.state.LastN === \"\"){\r\n                    this.props.setViewError(\"Last name is needed\")\r\n                  } else if (!DataStringCheck(this.state.LastN)) {\r\n                    this.props.setViewError(\"Last name contains invalid characters\")\r\n                  }\r\n                  \r\n                  else {\r\n                    _UserData = {name: this.state.FirstN, lastN: this.state.LastN}\r\n                    if (this.state.Contact !== \"\") _UserData.contact = this.state.Contact\r\n                    if (this.state.ContactP !== \"\") _UserData.phone = this.state.ContactP\r\n                    if (this.state.Address !== \"\") _UserData.address = this.state.Address\r\n                    if (this.state.Country !== \"\") _UserData.country = this.state.Country\r\n\r\n                    this.props.setViewLoading(true)\r\n                    this.props.updateUser(_UserData)\r\n                    if (this.props.OnDone) {\r\n                      this.props.OnDone(true)\r\n                    }\r\n                  }\r\n                }}/>\r\n              </View>\r\n          </View>\r\n          {(IsLoading || this.props.firebase.viewIsLoading) &&\r\n            <ActivityIndicator style={Helpers.loadingContainer} size='large' />\r\n          }\r\n        </View>\r\n      </ScrollView>\r\n    )\r\n  }\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n  const { firebase } = state\r\n  return { firebase }\r\n};\r\n\r\nconst mapDispatchToProps  = (dispatch) => {\r\n  return {\r\n    setViewLoading: state => dispatch(FirebaseActions.viewIsLoading(state)),\r\n    //setViewError: (error, type) => dispatch(FirebaseActions.setViewError(error, type)),\r\n    setViewError: error => dispatch(FirebaseActions.setViewError(error)),\r\n\r\n    getUser: (UserId) => dispatch(FirebaseActions.actionStarting(Actions.FETCH, DataRefs.USERSDATA, {UserId: UserId})),\r\n    updateUser: (Data) => dispatch(FirebaseActions.actionStarting(Actions.UPDATE, DataRefs.USERSDATA, {Data: Data}))\r\n  }\r\n};\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(UserInformation);\r\n//export default UserInformation;","import React, { Component } from 'react'\r\nimport { Platform, Dimensions, Text, CheckBox, View, ScrollView, ActivityIndicator, TouchableOpacity } from 'react-native'\r\nimport { Input } from 'react-native-elements'\r\nimport { connect } from 'react-redux'\r\nimport { bindActionCreators } from 'redux';\r\nimport NavigationService from '../../../Services/NavigationService'\r\n\r\nimport FirebaseActions from '../../../Stores/Firebase/Actions'\r\nimport { Actions, UserStates, DataRefs, ErrorTypes, DataStringCheck } from '../../../Stores/Firebase/Selectors'\r\n\r\nimport { Button, TitleElement } from '../../../Components'\r\nimport Style from './UserPanelStyle'\r\nimport { ApplicationStyles, Helpers, Metrics, Colors } from '../../../Theme'\r\n\r\nconst window = Dimensions.get(\"window\");\r\nconst screen = Dimensions.get(\"screen\");\r\n\r\nclass Subscription extends Component{\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    const {CurrentSub} = this.setData(props)\r\n    this.state = {\r\n      dimensions: {window, screen},\r\n      CurrentSub: CurrentSub,\r\n\r\n      Billing: 0,\r\n    }\r\n  }\r\n\r\n  setData(Props) {\r\n    var CurrentSub = \"\"\r\n\r\n    const firebaseData = this.props.firebase;\r\n    if (firebaseData){\r\n      const firebaseUser = firebaseData.firebaseUser\r\n      if (firebaseUser) {\r\n        if (firebaseUser.state && firebaseUser.state != UserStates.STARTER){\r\n          CurrentSub = firebaseUser.state\r\n        }\r\n      }\r\n    }\r\n    return { CurrentSub }\r\n  }\r\n\r\n  getData() {\r\n    \r\n  }\r\n\r\n  checkData(props) {\r\n  }\r\n\r\n  onChange = ({ window, screen }) => {\r\n    this.setState({\r\n      dimensions: {window, screen},\r\n    })\r\n  };\r\n\r\n  componentDidMount() {\r\n    Dimensions.addEventListener(\"change\", this.onChange);\r\n    this.props.setViewLoading(false)\r\n    this.props.setViewError(null)\r\n\r\n    this.props.getUser(null)\r\n\r\n    this.checkData(this.props)\r\n    this.getData();\r\n  }\r\n\r\n  componentWillUnmount(){\r\n    Dimensions.removeEventListener(\"change\", this.onChange);\r\n  }\r\n\r\n  componentDidUpdate(prevProps, prevState) {\r\n    if (this.props !== prevProps) {\r\n      this.checkData(this.props);\r\n\r\n      if (this.props.firebase.firebaseUser) {\r\n        if ((this.props.firebase.firebaseUser.state != this.state.CurrentSub && this.state.CurrentSub === \"\")\r\n          ) {\r\n          const {CurrentSub} = this.setData(this.props)\r\n          this.setState({\r\n            CurrentSub: CurrentSub,\r\n          })\r\n        }\r\n      }\r\n    }\r\n  }\r\n\r\n  render() {\r\n    const IsLoading = this.props.firebase.firebaseIsLoading\r\n    const ErrorMessage = this.props.firebase.viewError\r\n\r\n    var wide = this.state.dimensions.window.width>900?true:false\r\n    var App = (Platform.OS === 'ios' || Platform.OS === 'android')||!wide\r\n    \r\n    return(\r\n      <ScrollView style={[Metrics.verticalMargin, {paddingRight: 5}]}>\r\n        <View\r\n          style={[\r\n            Helpers.mainContainer,\r\n          ]}\r\n        >\r\n          <View style={[Helpers.contentContainer, Helpers.fullSize, Helpers.fillColMain]}>\r\n            {ErrorMessage && (!ErrorMessage.type || ErrorMessage.type === ErrorTypes.SYSTEM) ? (\r\n              <Text style={ApplicationStyles.error}>{ErrorMessage.message?ErrorMessage.message:ErrorMessage}</Text>\r\n            ):(<></>)}\r\n            \r\n            <TitleElement Text=\"Subscription plan\"/>\r\n            <View style={[!App?Helpers.fillRowCenter:{}, {marginBottom:20}]}>\r\n              <TouchableOpacity style={[Helpers.borderContainer, {width:200, height:300}, this.state.CurrentSub===UserStates.WORKER?{backgroundColor: Colors.AgriGreen}:{}]} \r\n                onPress={() => {\r\n                  this.setState({\r\n                    CurrentSub: UserStates.WORKER\r\n                  }, this.forceUpdate())\r\n              }}>\r\n                <View style={[Helpers.row, Helpers.fullWidth, {alignContent:'center', alignItems:'center', justifyContent:'center', height:35}]}>\r\n                  <Text style={{fontWeight:\"bold\", fontSize:20}}>Farm Staff</Text>\r\n                  {this.state.CurrentSub===UserStates.WORKER?(\r\n                    <CheckBox \r\n                      value={this.state.CurrentSub===UserStates.WORKER?true:false}\r\n                    />\r\n                  ):(<></>)}\r\n                </View>\r\n                <View style={[Helpers.fill, Helpers.borderContainer]}>\r\n                  \r\n                </View>\r\n                <View style={[Helpers.borderContainer, {height:75}]}>\r\n                  <Text style={{fontWeight:\"bold\"}}>Free</Text>\r\n                  <Text>Access to assign as staff of an existing farm</Text>\r\n                </View>\r\n              </TouchableOpacity>\r\n\r\n              <TouchableOpacity style={[Helpers.borderContainer, {width:200, height:300}, this.state.CurrentSub===UserStates.FREE?{backgroundColor: Colors.AgriGreen}:{}]}\r\n                onPress={() => {\r\n                  this.setState({\r\n                    CurrentSub: UserStates.FREE\r\n                  }, this.forceUpdate())\r\n              }}>\r\n                <View style={[Helpers.row, Helpers.fullWidth, {alignContent:'center', alignItems:'center', justifyContent:'center', height:35}]}>\r\n                  <Text style={{fontWeight:\"bold\", fontSize:20}}>Farm Owner</Text>\r\n                  {this.state.CurrentSub===UserStates.FREE?(\r\n                    <CheckBox \r\n                      value={this.state.CurrentSub===UserStates.FREE?true:false}\r\n                    />\r\n                  ):(<></>)}\r\n                </View>\r\n                <View style={[Helpers.fill, Helpers.borderContainer]}>\r\n                  \r\n                </View>\r\n                <View style={[Helpers.borderContainer, {height:75}]}>\r\n                  <Text style={{fontWeight:\"bold\"}}>Free</Text>\r\n                  <Text>Access to create and manage own farm</Text>\r\n                </View>\r\n              </TouchableOpacity>\r\n\r\n              <TouchableOpacity style={[Helpers.borderContainer, {width:200, height:300}, this.state.CurrentSub===UserStates.OWNER?{backgroundColor: Colors.AgriGreen}:{}]}\r\n                onPress={() => {\r\n                  this.setState({\r\n                    CurrentSub: UserStates.OWNER\r\n                  }, this.forceUpdate())\r\n              }}>\r\n                <View style={[Helpers.row, Helpers.fullWidth, {alignContent:'center', alignItems:'center', justifyContent:'center', height:35}]}>\r\n                  <Text style={{fontWeight:\"bold\", fontSize:20}}>Farm Manager</Text>\r\n                  {this.state.CurrentSub===UserStates.OWNER?(\r\n                    <CheckBox \r\n                      value={this.state.CurrentSub===UserStates.OWNER?true:false}\r\n                    />\r\n                  ):(<></>)}\r\n                </View>\r\n                <View style={[Helpers.fill, Helpers.borderContainer]}>\r\n                  \r\n                </View>\r\n                <View style={[Helpers.borderContainer, {height:75}]}>\r\n                  <Text style={{fontWeight:\"bold\"}}>9999.99</Text>\r\n                  <Text>Access to manage own farm, and assing staff</Text>\r\n                </View>\r\n              </TouchableOpacity>\r\n\r\n              <TouchableOpacity style={[Helpers.borderContainer, {width:200, height:300}, this.state.CurrentSub===\"Contact\"?{backgroundColor: Colors.AgriGreen}:{}]}\r\n                onPress={() => {\r\n                  this.setState({\r\n                    CurrentSub: \"Contact\"\r\n                  }, this.forceUpdate())\r\n              }}>\r\n                <View style={[Helpers.row, Helpers.fullWidth, {alignContent:'center', alignItems:'center', justifyContent:'center', height:35}]}>\r\n                  <Text style={{fontWeight:\"bold\", fontSize:20}}>Get contacted</Text>\r\n                  {this.state.CurrentSub===\"Contact\"?(\r\n                    <CheckBox \r\n                      value={this.state.CurrentSub===\"Contact\"?true:false}\r\n                    />\r\n                  ):(<></>)}\r\n                </View>\r\n                <View style={[Helpers.fill, Helpers.borderContainer]}>\r\n                  \r\n                </View>\r\n                <View style={[Helpers.borderContainer, {height:75}]}>\r\n                <Text style={{fontWeight:\"bold\", height:20}}></Text>\r\n                  <Text>We will contact you, and tell more about our offers</Text>\r\n                </View>\r\n              </TouchableOpacity>\r\n            </View>\r\n\r\n            <View style={[Helpers.buttonContainer, Helpers.midWidth] }>\r\n              <Button Text=\"Submit\" \r\n                onPress={() => {\r\n                  if (!this.state.CurrentSub || this.state.CurrentSub === \"\"){\r\n                    this.props.setViewError(\"Please choose a subscription type.\")\r\n                  }\r\n\r\n                  else if (this.props.OnDone) {\r\n                    this.props.OnDone(this.state.CurrentSub)\r\n                  } else {\r\n                    //TODO: something.. validate buy and update user state\r\n                  }\r\n                }}/>\r\n              </View>\r\n          </View>\r\n          {(IsLoading || this.props.firebase.viewIsLoading) &&\r\n            <ActivityIndicator style={Helpers.loadingContainer} size='large' />\r\n          }\r\n        </View>\r\n      </ScrollView>\r\n    )\r\n  }\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n  const { firebase } = state\r\n  return { firebase }\r\n};\r\n\r\nconst mapDispatchToProps  = (dispatch) => {\r\n  return {\r\n    setViewLoading: state => dispatch(FirebaseActions.viewIsLoading(state)),\r\n    //setViewError: (error, type) => dispatch(FirebaseActions.setViewError(error, type)),\r\n    setViewError: error => dispatch(FirebaseActions.setViewError(error)),\r\n\r\n    getUser: (UserId) => dispatch(FirebaseActions.actionStarting(Actions.FETCH, DataRefs.USERSDATA, {UserId: UserId})),\r\n\r\n    //updateUser: (Data) => dispatch(FirebaseActions.actionStarting(Actions.UPDATE, DataRefs.USERSDATA, {Data: Data}))\r\n    //createUserData: (Userdata, Farm, Sections, Pens) => dispatch(FirebaseActions.actionStarting(Actions.CREATE, DataRefs.USERSDATA, {UserData: Userdata, Farms:{name:Farm}, Sections:Sections, Pens:Pens})),\r\n  }\r\n};\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(Subscription);\r\n//export default Subscription;","import React, { Component } from 'react'\r\nimport { Platform, Text, View, ScrollView, ActivityIndicator } from 'react-native'\r\nimport { Input } from 'react-native-elements'\r\nimport { connect } from 'react-redux'\r\nimport { bindActionCreators } from 'redux';\r\nimport NavigationService from '../../../Services/NavigationService'\r\n\r\nimport FirebaseActions from '../../../Stores/Firebase/Actions'\r\nimport { Actions, UserStates, DataRefs, ErrorTypes, DataStringCheck } from '../../../Stores/Firebase/Selectors'\r\n\r\nimport { Button, TitleElement } from '../../../Components'\r\nimport Style from './UserPanelStyle'\r\nimport { ApplicationStyles, Helpers, Metrics } from '../../../Theme'\r\n\r\nclass FarmInformation extends Component{\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    const {FarmName, Address, Country, Cvr, Manager} = this.setData(props)\r\n    this.state = {\r\n      FarmName: FarmName,\r\n      Address: Address,\r\n      Country: Country,\r\n      Cvr: Cvr,\r\n      Manager: Manager,\r\n\r\n      Sections: \"0\",\r\n      Pens: \"0\",\r\n    }\r\n  }\r\n\r\n  setData(Props) {\r\n    var FarmName = \"\"\r\n    var Address = \"\"\r\n    var Country = \"\"\r\n    var Cvr = \"\"\r\n    var Manager = \"\"\r\n\r\n    const localDataStore = Props.firebase.localDataStore;\r\n    const firebaseUser = this.props.firebase.firebaseUser\r\n\r\n    if (firebaseUser) {\r\n      if (firebaseUser.lastN !== \"\") {\r\n        FarmName = firebaseUser.lastN\r\n      }\r\n      if (firebaseUser.address !== \"\") {\r\n        Address = firebaseUser.address\r\n      }\r\n      if (firebaseUser.country) {\r\n        Country = firebaseUser.country\r\n      }\r\n      if (firebaseUser.email != \"\") {\r\n        Manager = firebaseUser.email\r\n      }\r\n    }\r\n\r\n    if (localDataStore && firebaseUser && localDataStore.farms && firebaseUser.farms && localDataStore.farms[Object.keys(firebaseUser.farms)[0]]) {\r\n      var FarmData = localDataStore.farms[Object.keys(firebaseUser.farms)[0]]\r\n\r\n      if (FarmData.name) FarmName = FarmData.name\r\n      if (FarmData.address) Address = FarmData.address\r\n      if (FarmData.country) Country = FarmData.country\r\n      if (FarmData.cvr) Cvr = FarmData.cvr\r\n      if (FarmData.manager) Manager = FarmData.manager\r\n    }\r\n\r\n    return {FarmName, Address, Country, Cvr, Manager}\r\n  }\r\n\r\n  getData() {\r\n    \r\n  }\r\n\r\n  checkData(props) {\r\n  }\r\n\r\n  componentDidMount() {\r\n    this.props.setViewLoading(false)\r\n    this.props.setViewError(null)\r\n\r\n    this.props.getUser(null)\r\n    this.props.getFarm()\r\n\r\n    this.checkData(this.props)\r\n    this.getData();\r\n  }\r\n\r\n  componentDidUpdate(prevProps, prevState) {\r\n    if (this.props !== prevProps) {\r\n      this.checkData(this.props);\r\n\r\n      if (this.props.firebase.firebaseUser) {\r\n        /*if ((this.props.firebase.firebaseUser.name != this.state.FirstN && this.state.FirstN === \"\") ||\r\n            (this.props.firebase.firebaseUser.lastN != this.state.lastN && this.state.lastN === \"\") ||\r\n            (this.props.firebase.firebaseUser.contact != this.state.Contact && this.state.Contact === \"\") ||\r\n            (this.props.firebase.firebaseUser.address != this.state.Address && this.state.Address === \"\")\r\n          ) {\r\n          const {FarmName, Address, Cvr, Manager} = this.setData(this.props)\r\n          this.state = {\r\n            FarmName: FarmName,\r\n            Address: Address,\r\n            Cvr: Cvr,\r\n            Manager: Manager,\r\n          }\r\n        }*/\r\n      }\r\n    }\r\n  }\r\n\r\n  render() {\r\n    const IsLoading = this.props.firebase.firebaseIsLoading\r\n    const ErrorMessage = this.props.firebase.viewError\r\n\r\n    return(\r\n      <ScrollView style={[Metrics.verticalMargin, {paddingRight: 5}]}>\r\n        <View\r\n          style={[\r\n            Helpers.mainContainer,\r\n          ]}\r\n        >\r\n          <View style={[Helpers.contentContainer, Helpers.fullSize, Helpers.fillColMain]}>\r\n            {ErrorMessage && (!ErrorMessage.type || ErrorMessage.type === ErrorTypes.SYSTEM) ? (\r\n              <Text style={ApplicationStyles.error}>{ErrorMessage.message?ErrorMessage.message:ErrorMessage}</Text>\r\n            ):(<></>)}\r\n            <TitleElement Text=\"Farm Informations\"/>\r\n            <View style={ [Helpers.borderContainer, Helpers.midWidth, {marginBottom:20}] }>\r\n              <Input\r\n                label=\"Farm Name\"\r\n                style={ApplicationStyles.input}\r\n                onChangeText={text => {\r\n                  if (text){\r\n                    if (DataStringCheck(text)){\r\n                      this.setState({FarmName:text})\r\n                    }\r\n                  }else {\r\n                    this.setState({FarmName:text})\r\n                  }\r\n                }}\r\n                value={this.state.FarmName}\r\n              />\r\n              <Input\r\n                label=\"Address\"\r\n                style={ApplicationStyles.input}\r\n                onChangeText={text => {\r\n                  if (text){\r\n                    //if (DataStringCheck(text)){\r\n                      this.setState({Address:text})\r\n                    //}\r\n                  }else {\r\n                    this.setState({Address:text})\r\n                  }\r\n                }}\r\n                value={this.state.Address}\r\n              />\r\n              <Input\r\n                label=\"Country\"\r\n                style={ApplicationStyles.input}\r\n                onChangeText={text => {\r\n                  if (text){\r\n                    //if (DataStringCheck(text)){\r\n                      this.setState({Country:text})\r\n                    //}\r\n                  }else {\r\n                    this.setState({Country:text})\r\n                  }\r\n                }}\r\n                value={this.state.Country}\r\n              />\r\n              <Input\r\n                label=\"Cvr\"\r\n                style={ApplicationStyles.input}\r\n                onChangeText={text => {\r\n                  if (!isNaN(text)){\r\n                    this.setState({\r\n                      Cvr:text\r\n                    })\r\n                  }\r\n                }}\r\n                value={this.state.Cvr}\r\n              />\r\n              <Input\r\n                label=\"Manager contact\"\r\n                style={ApplicationStyles.input}\r\n                onChangeText={text => {\r\n                  if (text) {\r\n                    var test = text\r\n                    test = test.replace('@','a')\r\n                    test = test.replace('.','d')\r\n                    if (DataStringCheck(test)) {\r\n                      this.setState({Manager:text})\r\n                    }\r\n                  }else {\r\n                    this.setState({Manager:text})\r\n                  }\r\n                }}\r\n                value={this.state.Manager}\r\n              />\r\n              <Input\r\n                label=\"Number of Sections\"\r\n                style={ApplicationStyles.input}\r\n                onChangeText={text => {\r\n                  if (!isNaN(text)){\r\n                    this.setState({\r\n                      Sections:text\r\n                    })\r\n                  }\r\n                }}\r\n                value={this.state.Sections}\r\n              />\r\n              <Input\r\n                label=\"Number of Pens in each Sections\"\r\n                style={ApplicationStyles.input}\r\n                onChangeText={text => {\r\n                  if (!isNaN(text)){\r\n                    this.setState({\r\n                      Pens:text\r\n                    })\r\n                  }\r\n                }}\r\n                value={this.state.Pens}\r\n              />\r\n            </View>\r\n\r\n            <View style={[Helpers.buttonContainer, Helpers.midWidth] }>\r\n              <Button Text=\"Save Farm information\" \r\n                onPress={() => {\r\n                  var _FarmData = {}\r\n                  var _sections = {};\r\n                  var _pens = {};\r\n\r\n                  if (!this.state.FarmName || this.state.FarmName === \"\"){\r\n                    this.props.setViewError(\"Farm name is needed\")\r\n                  } else if (!DataStringCheck(this.state.FarmName)) {\r\n                    this.props.setViewError(\"First name contains invalid characters\")\r\n                  }\r\n                  \r\n                  else {\r\n                    _FarmData = {name: this.state.FarmName}\r\n\r\n                    if (this.state.Address !== \"\") _FarmData.address = this.state.Address\r\n                    if (this.state.Country !== \"\") _FarmData.country = this.state.Country\r\n                    if (this.state.Cvr !== \"\") _FarmData.cvr = this.state.Cvr\r\n                    if (this.state.Manager !== \"\") _FarmData.manager = this.state.Manager\r\n\r\n                    this.props.setViewLoading(true)\r\n                    this.props.updateFarm(_FarmData)\r\n\r\n                    if (this.state.Sections && this.state.Pens) {\r\n                      this.props.setViewLoading(true)\r\n                      var Pen = 1;\r\n                      var i, i2;\r\n                      for (i = 1; i <= this.state.Sections; i++) {\r\n                        var sectionPens = {};\r\n                        for (i2 = 1; i2 <= this.state.Pens; i2++) {\r\n                          _pens['Pen_' + Pen] = {section: 'Section_' + i}\r\n                          sectionPens['Pen_' + Pen] = true\r\n                          Pen++;\r\n                        }\r\n                        \r\n                        _sections['Section_' + i] = {pens: sectionPens}\r\n                      }\r\n                      console.log(\"Set\", _sections, _pens)\r\n                      this.props.updateFarmData(_sections, _pens)\r\n                    }\r\n\r\n                    if (this.props.OnDone) {\r\n                      this.props.OnDone(true)\r\n                    }\r\n                  }\r\n                }}/>\r\n              </View>\r\n          </View>\r\n          {(IsLoading || this.props.firebase.viewIsLoading) &&\r\n            <ActivityIndicator style={Helpers.loadingContainer} size='large' />\r\n          }\r\n        </View>\r\n      </ScrollView>\r\n    )\r\n  }\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n  const { firebase } = state\r\n  return { firebase }\r\n};\r\n\r\nconst mapDispatchToProps  = (dispatch) => {\r\n  return {\r\n    setViewLoading: state => dispatch(FirebaseActions.viewIsLoading(state)),\r\n    //setViewError: (error, type) => dispatch(FirebaseActions.setViewError(error, type)),\r\n    setViewError: error => dispatch(FirebaseActions.setViewError(error)),\r\n\r\n    getUser: (UserId) => dispatch(FirebaseActions.actionStarting(Actions.FETCH, DataRefs.USERSDATA, {UserId: UserId})),\r\n    getFarm: () => dispatch(FirebaseActions.actionStarting(Actions.FETCH, DataRefs.FARMS, {})),\r\n\r\n    updateFarm: (FarmData) => dispatch(FirebaseActions.actionStarting(Actions.UPDATE, DataRefs.FARMS, {Data: FarmData})),\r\n    updateFarmData: (sections, pens) => dispatch(FirebaseActions.actionStarting(Actions.UPDATE, DataRefs.FARMDATAS, {Data:{sections:sections, pens:pens}})),\r\n  }\r\n};\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(FarmInformation);\r\n//export default FarmInformation;","import React, { useEffect, Component } from 'react'\r\nimport { Text, View, ActivityIndicator, ScrollView } from 'react-native'\r\nimport { useDispatch, useSelector, connect } from 'react-redux'\r\nimport { bindActionCreators } from 'redux';\r\n\r\nimport NavigationService from '../../../Services/NavigationService'\r\n\r\nimport FirebaseActions from '../../../Stores/Firebase/Actions'\r\nimport { Actions, DataRefs } from '../../../Stores/Firebase/Selectors'\r\n\r\nimport { Button, Button_Panel } from '../../../Components'\r\nimport Style from './UserPanelStyle'\r\nimport { ApplicationStyles, Helpers, Metrics, Images } from '../../../Theme'\r\n\r\nclass FrontScreen extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      ISLOADPAGE: true,\r\n    }\r\n  }\r\n\r\n  getData() {\r\n    this.props.getFarm()\r\n  }\r\n\r\n  checkData(props) {\r\n  }\r\n\r\n  componentDidMount() {\r\n    this.props.setViewLoading(false)\r\n    this.props.setViewError(null)\r\n    this.checkData(this.props);\r\n    this.getData();\r\n  }\r\n\r\n  componentDidUpdate(prevProps, prevState) {\r\n    if (this.props !== prevProps) {\r\n      this.checkData(this.props);\r\n      if (this.props.firebase.viewError != prevProps.firebase.viewError) {\r\n        this.forceUpdate()\r\n      }\r\n    }\r\n  }\r\n\r\n  render() {\r\n    const firebase = this.props.firebase;\r\n\r\n    const IsLoading = firebase.firebaseIsLoading\r\n    const firebaseErrorMessage = firebase.firebaseErrorMessage\r\n    const ErrorMessage = this.props.firebase.viewError\r\n    const firebaseUser = firebase.firebaseUser\r\n\r\n    return(\r\n      <ScrollView style={[Helpers.fullSize, Helpers.fill]}>\r\n        <View\r\n          style={[\r\n            Helpers.mainContainer,\r\n          ]}\r\n        >\r\n        <View style={[Helpers.contentContainer, Helpers.fullSize, Helpers.fillColMain]}>\r\n          {firebaseErrorMessage ? (\r\n            <Text style={ApplicationStyles.error}>{firebaseErrorMessage}</Text>\r\n          ):(<></>)}\r\n          {firebaseUser?(\r\n          <View style={ Helpers.textContainer }>\r\n            <Text style={ApplicationStyles.text}>Welcome: {firebaseUser.displayName ? firebaseUser.displayName : firebaseUser.email}</Text>\r\n          </View>):(<></>)}\r\n\r\n          <Button_Panel \r\n            Texts={[\"Dashboard\", \"Pens\", \"Batchs\", \"Growth curves\", \"Operations\", \"AutoPigs\", \"Feeding\", \"Pigs\"]}\r\n            Images={[Images.DashBoard, Images.Pens, Images.Section, Images.GCurves, Images.System, Images.AutoPig, Images.Feed, Images.Sow ]}\r\n            onPress={(ele) => {\r\n              switch(ele.text){\r\n                case \"Dashboard\":\r\n                  NavigationService.navigate(\"UserDashBoard\")\r\n                  break;\r\n                case \"Pens\":\r\n                  NavigationService.navigate(\"UserPens\")\r\n                  break;\r\n                case \"Batchs\":\r\n                  NavigationService.navigate(\"UserBatchs\")\r\n                  break;\r\n                case \"Growth curves\":\r\n                  NavigationService.navigate(\"UserCurves\")\r\n                  break;\r\n                case \"Operations\":\r\n                  NavigationService.navigate(\"UserOperations\")\r\n                  break;\r\n                case \"AutoPigs\":\r\n                  const localDataStore = this.props.firebase.localDataStore;\r\n                  const FirebaseUser = this.props.firebase.firebaseUser;\r\n                  if (FirebaseUser && FirebaseUser.farms && localDataStore && localDataStore.farms) { \r\n                    const FarmsData = localDataStore.farms\r\n                    if (FarmsData && FarmsData[Object.keys(FirebaseUser.farms)[0]]) {\r\n                      const FarmData = FarmsData[Object.keys(FirebaseUser.farms)[0]]\r\n                      if (FarmData.site && FarmData.refToken) {\r\n                        NavigationService.navigate(\"AutoPig\")\r\n                      }\r\n                    }\r\n                  }\r\n                  break;\r\n                case \"Feeding\":\r\n                  break;\r\n                case \"Pigs\":\r\n                  NavigationService.navigate(\"UserPigs\")\r\n                  break;\r\n              }\r\n            }}\r\n          />\r\n          \r\n          {firebaseUser && firebaseUser.state === \"admin\"?(<></>):(\r\n          <View style={[Helpers.buttonContainer, Helpers.midWidth] }>\r\n            <Button Text=\"LogOut\"\r\n              onPress={() => {\r\n                this.props.logOut()\r\n              }}/>\r\n          </View>\r\n          )}\r\n        </View>\r\n        {(IsLoading || this.props.firebase.viewIsLoading) &&\r\n          <ActivityIndicator style={Helpers.loadingContainer} size='large' />\r\n        }\r\n      </View>\r\n      </ScrollView>\r\n    )\r\n  }\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n  const { firebase } = state\r\n  return { firebase }\r\n};\r\n\r\nconst mapDispatchToProps  = (dispatch) => {\r\n  return {\r\n    setFirebaseError: error => dispatch(FirebaseActions.setFirebaseError(error)),\r\n    setViewLoading: state => dispatch(FirebaseActions.viewIsLoading(state)),\r\n    setViewError: error => dispatch(FirebaseActions.setViewError(error)),\r\n\r\n    logOut: () => dispatch(FirebaseActions.actionStarting(Actions.SIGN, DataRefs.USERSDATA)),\r\n\r\n    getFarm: () => dispatch(FirebaseActions.actionStarting(Actions.FETCH, DataRefs.FARMS, {})),\r\n  }\r\n};\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(FrontScreen);\r\n//export default FrontScreen;\r\n","import React, { useEffect, Component } from 'react'\r\nimport { Text, View, ActivityIndicator, ScrollView, FlatList } from 'react-native'\r\nimport { Input, Icon } from 'react-native-elements'\r\nimport { useDispatch, useSelector, connect } from 'react-redux'\r\nimport { bindActionCreators } from 'redux';\r\n\r\nimport NavigationService from '../../../Services/NavigationService'\r\n\r\nimport FirebaseActions from '../../../Stores/Firebase/Actions'\r\nimport { DataRefs, Actions, GetBatchEnd, CurvePredict, GetCurve_FromBatch, GetStats_FromBatch  } from '../../../Stores/Firebase/Selectors'\r\n\r\nimport { Button, TitleElement, ContentProp, ProgressBar } from '../../../Components'\r\nimport Style from './UserPanelStyle'\r\nimport { ApplicationStyles, Helpers, Metrics, Colors } from '../../../Theme'\r\n\r\nclass Dashboard extends Component {\r\n  constructor(props){\r\n    super(props);\r\n\r\n    const {Name, Manager, Mail, SectionsList, BatchList, MaxCap, CurCap} = this.setData(props)\r\n    this.state = {\r\n      farmName: Name,\r\n      farmManager: Manager,\r\n      farmMail: Mail, \r\n\r\n      BatchList: BatchList,\r\n\r\n      MaxCap:MaxCap, \r\n      CurCap:CurCap,\r\n    }\r\n  }\r\n\r\n  setData(Props) {\r\n    const localDataStore = Props.firebase.localDataStore;\r\n    const firebaseUser = this.props.firebase.firebaseUser\r\n\r\n    var Name = \"Not set\"\r\n    var Manager = \"Not set\"\r\n    var Mail = \"Not set\"\r\n\r\n    if (localDataStore && localDataStore.farms && firebaseUser.farms && localDataStore.farms[Object.keys(firebaseUser.farms)[0]]) {\r\n      var Farm = localDataStore.farms[Object.keys(firebaseUser.farms)[0]]\r\n      Name = Farm.name?Farm.name: Name\r\n      Manager = Farm.name?Farm.manager: Manager\r\n      Mail = Farm.name?Farm.email: Mail\r\n    }\r\n\r\n    var BatchList = {}//localDataStore.batchs\r\n    var MaxCap = 0;\r\n    var CurCap = 0;\r\n\r\n    if (localDataStore.batchs) {\r\n      Object.keys(localDataStore.batchs).filter(e => e !== '__jsogObjectId' && e !== 'update_time').map((BatchID) => {\r\n        var Batch = localDataStore.batchs[BatchID]\r\n        var Data = GetStats_FromBatch(Batch, localDataStore)\r\n        if (Data) {\r\n          var {StartDate, EndDate, TargetWeight, PenCount, Animals, AverageWeight, AverageGrowth, isClosed, isVirtual} = Data\r\n          \r\n          if (Batch.pens) {\r\n            MaxCap += Object.keys(Batch.pens).reverse().filter(e => (e !== '__jsogObjectId')).length * 1;\r\n          }\r\n          CurCap += Animals;\r\n\r\n          Batch.count = Animals\r\n          Batch.weight = AverageWeight\r\n          Batch.target = TargetWeight\r\n          Batch.End = EndDate\r\n\r\n          BatchList[BatchID] = Batch\r\n        }\r\n      })\r\n    }\r\n\r\n    if (MaxCap === 0) MaxCap++;\r\n    return { Name, Manager, Mail, BatchList, MaxCap, CurCap }\r\n  }\r\n\r\n  getData() {\r\n    const localDataStore = this.props.firebase.localDataStore;\r\n\r\n    if (!localDataStore.sections) localDataStore.sections = {}\r\n    if (!localDataStore.pens) localDataStore.pens = {}\r\n\r\n    this.props.getFarm()\r\n    this.props.getSections(localDataStore.sections?localDataStore.sections.update_time:null)\r\n    this.props.getPens(localDataStore.pens?localDataStore.pens.update_time:null)\r\n    this.props.getBatch()\r\n    this.props.getWeights(localDataStore.weighings?localDataStore.weighings.update_time:null, localDataStore.sections)\r\n    this.props.getCurve()\r\n  }\r\n\r\n  checkData(props) {\r\n  }\r\n\r\n  componentDidUpdate(prevProps, prevState) {\r\n    if (this.props !== prevProps) {\r\n      this.checkData(this.props);\r\n\r\n      if (this.props.firebase.localDataStore && prevProps.firebase.localDataStore) {\r\n        const firebaseUser = this.props.firebase.firebaseUser\r\n        const localDataStore = this.props.firebase.localDataStore;\r\n\r\n        if (localDataStore.farms && firebaseUser.farms && localDataStore.farms[Object.keys(firebaseUser.farms)[0]]) {\r\n          var Farm = localDataStore.farms[Object.keys(firebaseUser.farms)[0]]\r\n\r\n          if ((this.state.farmName !== Farm.name || this.state.farmManager !== Farm.manager || this.state.farmMail !== Farm.email) ||\r\n              localDataStore.batchs && JSON.stringify(this.state.BatchList) !== JSON.stringify(localDataStore.batchs) ||\r\n              localDataStore.graphs && localDataStore.graphs !== prevProps.firebase.localDataStore.graphs) {\r\n            const {Name, Manager, Mail, BatchList, MaxCap, CurCap} = this.setData(this.props)\r\n            this.setState({\r\n              farmName: Name,\r\n              farmManager: Manager,\r\n              farmMail: Mail,\r\n        \r\n              BatchList: BatchList,\r\n\r\n              MaxCap:MaxCap, \r\n              CurCap:CurCap,\r\n            }, () => {\r\n              this.forceUpdate()\r\n            })\r\n          }\r\n        }\r\n      }\r\n    }\r\n  }\r\n\r\n  componentDidMount() {\r\n    this.props.setViewLoading(false)\r\n    this.props.setViewError(null)\r\n    this.checkData(this.props);\r\n    this.getData();\r\n  }\r\n\r\n  render() {\r\n    const IsLoading = this.props.firebase.firebaseIsLoading\r\n    const localDataStore = this.props.firebase.localDataStore\r\n\r\n    var FarmProgress = 0\r\n    if (this.state.BatchList) {\r\n      var BatchList = Object.keys(this.state.BatchList).filter(e => e !== '__jsogObjectId' && e !== 'update_time' && (!this.state.BatchList[e].state || this.state.BatchList[e].state !== \"Closed\"))\r\n      BatchList.forEach(element => {\r\n        var Batch = this.state.BatchList[element]\r\n        FarmProgress += (Batch.weight/Batch.target)*100;\r\n      });\r\n      FarmProgress = (FarmProgress/(100*BatchList.length))*100\r\n    }\r\n\r\n    return(\r\n      <ScrollView style={[Metrics.verticalMargin, {paddingRight: 5}]}>\r\n        <View\r\n          style={[\r\n            Helpers.mainContainer,\r\n          ]}\r\n        >\r\n          <View style={[Helpers.contentContainer, Helpers.fullWidth, Helpers.fill]}>\r\n            <TitleElement Text=\"Farm description\"/>\r\n\r\n            <View style={[Helpers.buttonContainer, Helpers.fullWidth, {height:110,}]}>\r\n              <ContentProp texts={[\"Farm name\", \"Manager\", \"E-mail\"]} datas={[this.state.farmName, this.state.farmManager, this.state.farmMail ]} />\r\n            </View>\r\n            <View style={{height:20}}/>\r\n            <ProgressBar text={\"Farm capacity: \" + this.state.CurCap + \" of \" + this.state.MaxCap} progress={(this.state.CurCap/this.state.MaxCap) * 100 }/>\r\n            <ProgressBar text={\"Farm performance:\"} progress={FarmProgress}/>\r\n\r\n            {this.state.BatchList?(\r\n              <View style={[Helpers.borderContainer, Helpers.fullWidth, {borderWidth:0, marginTop:10}]}>\r\n                <Text>Batches:</Text>\r\n                <FlatList\r\n                  data={Object.keys(this.state.BatchList).filter(e => e !== '__jsogObjectId' && e !== 'update_time' && \r\n                                                                (!this.state.BatchList[e].state || this.state.BatchList[e].state !== \"Closed\"))}\r\n                  renderItem={({item, i}) => {\r\n                    var Batch = this.state.BatchList[item]\r\n                    var TempCurve = GetCurve_FromBatch(Batch, localDataStore.graphs)\r\n                    var End = GetBatchEnd(Batch, TempCurve)\r\n                    var EndDate = Batch.End;\r\n                    var Color = Colors.AgriGreen\r\n                    if (EndDate > End) Color = Colors.error\r\n                    var count = Batch.count\r\n                    if (!count) count = 0\r\n                    var progress = (Batch.weight/Batch.target)*100;\r\n\r\n                    EndDate = new Date(EndDate).getDate() + \"/\" + (new Date(EndDate).getMonth() +1) + \"/\" + new Date(EndDate).getFullYear()\r\n                    var StartDate = new Date(Batch.time).getDate() + \"/\" + (new Date(Batch.time).getMonth() +1) + \"/\" + new Date(Batch.time).getFullYear()\r\n                    return(\r\n                      <ProgressBar text={item + \" Startdate: \" + StartDate + \" EndForcast: \" + EndDate + \", \" + count + \" pigs\"} progress={progress} color={Color}/>\r\n                    )\r\n                  }}\r\n                  keyExtractor={(item, index) => index.toString()}\r\n                />\r\n              </View>\r\n            ):(<></>)}\r\n            <Button Text=\"Clear local datastore\"\r\n              onPress={() => {\r\n                this.props.clearDataMem()\r\n                this.getData()\r\n              }}/>\r\n          </View>\r\n          {(IsLoading || this.props.firebase.viewIsLoading) &&\r\n            <ActivityIndicator style={Helpers.loadingContainer} size='large' />\r\n          }\r\n        </View>\r\n      </ScrollView>\r\n    )\r\n  }\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n  const { firebase } = state\r\n  return { firebase }\r\n};\r\n\r\nconst mapDispatchToProps  = (dispatch) => {\r\n  return {\r\n    setFirebaseError: error => dispatch(FirebaseActions.setFirebaseError(error)),\r\n    setViewLoading: state => dispatch(FirebaseActions.viewIsLoading(state)),\r\n    setViewError: error => dispatch(FirebaseActions.setViewError(error)),\r\n\r\n    clearDataMem: () => dispatch(FirebaseActions.actionStarting(Actions.CLEAR, DataRefs.USERSDATA)),\r\n\r\n    getFarm: () => dispatch(FirebaseActions.actionStarting(Actions.FETCH, DataRefs.FARMS, {})),\r\n    getSections: (DataTime) => dispatch(FirebaseActions.actionStarting(Actions.FETCH, DataRefs.SECTIONS, {DataTime: DataTime})),\r\n    getPens: (DataTime) => dispatch(FirebaseActions.actionStarting(Actions.FETCH, DataRefs.PENS, {DataTime: DataTime})),\r\n    getBatch: () => dispatch(FirebaseActions.actionStarting(Actions.FETCH, DataRefs.BATCHS, {})),\r\n    getCurve: () => dispatch(FirebaseActions.actionStarting(Actions.FETCH, DataRefs.GRAPH, {})),\r\n    getWeights: (DataTime, MemSections) => dispatch(FirebaseActions.actionStarting(Actions.FETCH, DataRefs.WEIGHING, {DataTime: DataTime, MemSections: MemSections})),\r\n  }\r\n};\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(Dashboard);\r\n//export default Dashboard;\r\n","import React, { useEffect, useState, Component } from 'react'\r\nimport { Platform, Text, View, ActivityIndicator, Image, StyleSheet, ScrollView, SafeAreaView, FlatList } from 'react-native'\r\nimport { ListItem, Input } from 'react-native-elements'\r\nimport { useDispatch, useSelector, connect } from 'react-redux'\r\nimport { bindActionCreators } from 'redux';\r\n\r\nimport NavigationService from '../../../Services/NavigationService'\r\n\r\nimport { ConnectionState } from '../../../Stores/Device/Selectors'\r\n\r\nimport FirebaseActions from '../../../Stores/Firebase/Actions'\r\nimport { Actions, DataRefs, sortObject } from '../../../Stores/Firebase/Selectors'\r\n\r\nimport { Button, OperationsPanel, CustomListItem, ContentProp } from '../../../Components'\r\nimport Style from '../../../Containers/Cloud/CloudScreenStyle'\r\nimport { ApplicationStyles, Helpers, Metrics } from '../../../Theme'\r\n\r\nimport { FlatGrid, SectionGrid } from 'react-native-super-grid';\r\n\r\nclass Pigs extends Component {\r\n  constructor(props){\r\n    super(props);\r\n\r\n    const {PigsList} = this.setData(props)\r\n    this.state = {\r\n      PigsList: PigsList,\r\n      PigTag: \"\"\r\n    }\r\n  }\r\n\r\n  getData() {\r\n    const localDataStore = this.props.firebase.localDataStore\r\n    if (!localDataStore.pens) localDataStore.pens = {}\r\n    this.props.getPigs()\r\n    this.props.getPens(localDataStore.pens.update_time)\r\n  }\r\n\r\n  setData(Props) {\r\n    const localDataStore = Props.firebase.localDataStore\r\n\r\n    var PigsList = null\r\n    if (localDataStore && localDataStore.pigs) {\r\n      PigsList = sortObject(localDataStore.pigs)\r\n    }\r\n    \r\n    return {PigsList}\r\n  }\r\n\r\n  checkData(props) {\r\n  }\r\n\r\n  componentDidMount() {\r\n    this.props.setViewLoading(false)\r\n    this.props.setViewError(null)\r\n    this.checkData(this.props);\r\n    this.getData();\r\n  }\r\n\r\n  componentDidUpdate(prevProps, prevState) {\r\n    if (this.props !== prevProps){\r\n      this.checkData(this.props);\r\n\r\n      if (this.props.firebase) {\r\n        if (this.props.firebase.localDataStore) {\r\n          if (this.props.firebase.localDataStore.pigs && JSON.stringify(this.state.PigsList)!==JSON.stringify(sortObject(this.props.firebase.localDataStore.pigs))) {\r\n            const {PigsList} = this.setData(this.props)\r\n            this.setState({\r\n              PigsList: PigsList,\r\n            })\r\n          }\r\n        }\r\n      }\r\n    }\r\n  }\r\n\r\n  render() {\r\n    const IsLoading = this.props.firebase.firebaseIsLoading\r\n\r\n    const localDataStore = this.props.firebase.localDataStore\r\n\r\n    const connectedDevice = null\r\n    const connectedState = null\r\n    const DeviceData = null\r\n\r\n    return(\r\n      <View\r\n        style={[\r\n          Helpers.mainContainer,\r\n        ]}\r\n      >\r\n        <View style={[Helpers.contentContainer, Helpers.fullWidth, Helpers.fill]}>\r\n          <View style={[Helpers.fill, Helpers.buttonContainer, Helpers.fullWidth, Metrics.bottomMargin, Helpers.column]}>\r\n            <Device_Display connectedState={connectedState}/>\r\n            <Scanner_Display DeviceData={DeviceData}/>\r\n            {this.state.PigsList ? (\r\n              <View style={[Helpers.fill, Helpers.borderContainer, Metrics.smallHorizontalPadding, Metrics.smallVerticalPadding, {maxWidth:800, marginTop:10}]}>\r\n                <SafeAreaView style={styles.container}>\r\n                  <FlatList\r\n                    data={Object.keys(this.state.PigsList)}\r\n                    renderItem={({item})=>{\r\n                      var Pen = \"-\"\r\n                      var Section = \"-\"\r\n                      if (this.state.PigsList[item].pen && this.state.PigsList[item].pen != 0) {\r\n                        Pen = this.state.PigsList[item].pen\r\n                        if (localDataStore.pens && localDataStore.pens[Pen]){\r\n                          var PenData = localDataStore.pens[Pen];\r\n                          Section = PenData.section;\r\n                        }\r\n                      }\r\n                      return(\r\n                        <View style={[Helpers.fill, Helpers.rowCenter, Helpers.fullWidth, {height:35}]}>\r\n                          <CustomListItem Title={item} itemStyle={[{height:35,}]} onPress={() => {\r\n                              this.props.setData(item, Section, Pen)\r\n                              NavigationService.navigate(\"DataDisplay\")\r\n                            }}/>\r\n\r\n                          <CustomListItem itemStyle={[{width:70, height:35, justifyContent:\"center\"}]} Title={Pen} onPress={() => {\r\n                              this.setState({\r\n                                PigTag: item\r\n                              })\r\n                            }}/>\r\n\r\n                          <CustomListItem itemStyle={[{width:90, height:35}]} Title={Section} onPress={() => {\r\n                              this.setState({\r\n                                PigTag: item\r\n                              })\r\n                            }}/>\r\n                        </View>\r\n                      )\r\n                    }}\r\n                    keyExtractor={item => \"PigTag_\" + item}\r\n                  />\r\n                </SafeAreaView>\r\n              </View>\r\n            ):(<></>)} \r\n            <Input\r\n              label={\"Pig-tag:\"}\r\n              containerStyle={[{borderWidth:1, marginTop:10}]}\r\n              style={[ApplicationStyles.input, ]}\r\n              onChangeText={text => {\r\n                this.setState({\r\n                  PigTag: text\r\n                })\r\n              }}\r\n              value={\r\n                this.state.PigTag\r\n              }\r\n            />\r\n            <OperationsPanel pig={true} pigTag={this.state.PigTag} PigsList={this.state.PigsList} />\r\n          </View>\r\n        </View>\r\n        {(IsLoading || this.props.firebase.viewIsLoading) &&\r\n          <ActivityIndicator style={Helpers.loadingContainer} size='large' />\r\n        }\r\n      </View>\r\n    )\r\n  }\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n  const { firebase } = state\r\n  return { firebase }\r\n};\r\n\r\nconst mapDispatchToProps  = (dispatch) => {\r\n  return {\r\n    setViewLoading: state => dispatch(FirebaseActions.viewIsLoading(state)),\r\n    setViewError: error => dispatch(FirebaseActions.setViewError(error)),\r\n\r\n    getPens: (DataTime) => dispatch(FirebaseActions.actionStarting(Actions.FETCH, DataRefs.PENS, {DataTime: DataTime})),\r\n    getPigs: (tagId = null) => dispatch(FirebaseActions.actionStarting(Actions.FETCH, DataRefs.PIGS, {TagId: tagId})),\r\n    setData: (pigId, Section, Pen) => dispatch(FirebaseActions.setCurrentData({pigId:pigId, type:DataRefs.PIGS, section:Section, dataId:Pen})),\r\n  }\r\n};\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(Pigs);\r\n//export default Pigs;\r\n\r\n//TODO extract to own component also used in DataDisplay\r\nconst Device_Display = (props) => {\r\n  if (Platform.OS === 'ios' || Platform.OS === 'android') {\r\n    return(\r\n      <View style={[Helpers.buttonContainer, Helpers.fullWidth, Metrics.bottomMargin, Helpers.rowCenter, ]}>\r\n        <View style={[Helpers.fill, Helpers.fullWidth, Helpers.rowMain]}>\r\n          <View style={[Helpers.fill, Helpers.column, {backgroundColor:\"red\"}]}>\r\n            <View style={[Helpers.fill, Helpers.row, Helpers.fullWidth, {backgroundColor: \"blue\"}]}>\r\n              <View style={{justifyContent:'center', alignItems: 'center'}}/>\r\n            </View>\r\n            <View style={[ Helpers.fill, Helpers.row, Helpers.fullWidth,]}>\r\n              <Text>Messages</Text>\r\n              <Text>Errors</Text>\r\n            </View>\r\n          </View>\r\n          <View style={[Helpers.fill, Helpers.fullWidth, Helpers.rowCenter, {maxWidth:150}]}>\r\n            {props && props.connectedState === ConnectionState.CONNECTED ? (\r\n              <View style={{...styles.circle, backgroundColor:\"green\", justifyContent:'center', alignItems: 'center'}}>\r\n                <Text>Device is</Text>\r\n                <Text>connected</Text>\r\n              </View>\r\n            ):(\r\n              <View style={{...styles.circle, backgroundColor:\"red\", justifyContent:'center', alignItems: 'center'}}>\r\n                <Text>No Device</Text>\r\n                <Text>connected</Text>\r\n              </View>\r\n            )}\r\n          </View>\r\n        </View>\r\n      </View>\r\n    )\r\n  }else {\r\n    return(<></>)\r\n  }\r\n}\r\n\r\nconst Scanner_Display = (props) => {\r\n  if (Platform.OS === 'ios' || Platform.OS === 'android') {\r\n    const dispatch = useDispatch()\r\n    const DeviceData = (props && props.DeviceData)?props.DeviceData:null\r\n    return(\r\n      <View style={{flexDirection: 'row',justifyContent: 'space-between', borderWidth:1, borderColor:'#000', borderRadius: 25, paddingHorizontal:15, paddingVertical:10, marginBottom:10}}>\r\n        <View style={Style.textContainer, {paddingTop: 10}}>\r\n          {\r\n            // App scanners data\r\n          }\r\n          {DeviceData&&DeviceData.tagid? (\r\n          <View style={{marginBottom:5}}>\r\n            <Text>TAG Id:</Text>\r\n            <Text>{DeviceData.tagid}</Text>\r\n          </View>\r\n          ):(<></>)}\r\n          {DeviceData&& DeviceData.FatLayers && DeviceData.FatLayers > 0 ? (\r\n            <View style={{marginBottom:5}}>\r\n              <Text>Layers received: {DeviceData.FatLayers}</Text>\r\n              <Text>Layer 1: {DeviceData.FatL1}</Text>\r\n              <Text>Layer 2: {DeviceData.FatL2}</Text>\r\n              <Text>Layer 3: {DeviceData.FatL3}</Text>\r\n            </View>\r\n          ):(<></>)}\r\n        </View>\r\n        {DeviceData&& DeviceData.tagid ? (\r\n          <View style={{flexDirection: 'row',justifyContent: 'space-between'}}>\r\n            {known ?(\r\n            <Button buttonStyle={ApplicationStyles.button, {minWidth: 0}} Text=\"Open data\" onPress={() => {\r\n              dispatch(FirebaseActions.setCurrentData({pigId:known, type:DataRefs.PIGS}))\r\n              NavigationService.navigate(\"DataDisplay\")\r\n            }}/>\r\n            ):(<></>)}\r\n            <Button buttonStyle={ApplicationStyles.button, {minWidth: 0}} Text=\"Save Tag\" onPress={() => {\r\n              //dispatch(FirebaseActions.actionStarting(Actions.CREATE, DataRefs.PIGS, {FarmId: Object.keys(localDataStore.userData.farms)[0]}))\r\n            }}/>\r\n          </View>\r\n        ):(<></>)}\r\n      </View>\r\n    )\r\n  }else {\r\n    return(<></>)\r\n  }\r\n}\r\n\r\nconst styles = StyleSheet.create({\r\n  circle: {\r\n    width: 125,\r\n    height: 125,\r\n    borderRadius: 125/2,\r\n    marginTop: Metrics.tiny,\r\n    marginLeft: Metrics.tiny,\r\n  },\r\n});","import React, { useEffect, Component } from 'react'\r\nimport { Text, View, ActivityIndicator, ScrollView, FlatList, TouchableOpacity, Image } from 'react-native'\r\nimport { useDispatch, useSelector, connect } from 'react-redux'\r\nimport { bindActionCreators } from 'redux';\r\n\r\nimport NavigationService from '../../../Services/NavigationService'\r\n\r\nimport FirebaseActions from '../../../Stores/Firebase/Actions'\r\nimport { Actions, DataRefs, sortObject, CurvePredict } from '../../../Stores/Firebase/Selectors'\r\n\r\nimport { Button } from '../../../Components'\r\nimport Style from '../../../Containers/Cloud/CloudScreenStyle'\r\nimport { ApplicationStyles, Helpers, Metrics, Images, Colors } from '../../../Theme'\r\n\r\nimport { SectionGrid } from 'react-native-super-grid';\r\n\r\nclass Pens extends Component {\r\n  constructor(props){\r\n    super(props);\r\n\r\n    const {Sections, Weighings, Mid} = this.setData(props)\r\n    this.state = {\r\n      Mid: Mid,\r\n      Sections: Sections,\r\n      Weighings: Weighings\r\n    }\r\n  }\r\n\r\n  setData(Props) {\r\n    const localDataStore = Props.firebase.localDataStore;\r\n\r\n    var Sections = {}\r\n    if (localDataStore && localDataStore.sections) {\r\n      Sections = sortObject(Props.firebase.localDataStore.sections)\r\n    }\r\n\r\n    var Mid = 0;\r\n    var Weighings = {}\r\n    if (localDataStore && localDataStore.weighings) {\r\n      Weighings = localDataStore.weighings\r\n      for (const property in localDataStore.weighings) {\r\n        if (localDataStore.weighings[property] && Object.keys(localDataStore.weighings[property]).length > 0){\r\n          var weight = localDataStore.weighings[property][Object.keys(localDataStore.weighings[property])[0]].weight\r\n          if (weight){\r\n            if (Mid > 0){\r\n              Mid = ((Mid + weight)/2)\r\n            } else {\r\n              Mid = (Mid + weight)\r\n            }\r\n          }\r\n        }\r\n      }\r\n    }\r\n\r\n    return {Sections, Weighings, Mid}\r\n  }\r\n\r\n  getData() {\r\n    const localDataStore = this.props.firebase.localDataStore;\r\n\r\n    if (!localDataStore.sections) localDataStore.sections = {}\r\n    if (!localDataStore.pens) localDataStore.pens = {}\r\n    if (!localDataStore.weighings) localDataStore.weighings = {}\r\n    if (!localDataStore.batchs) localDataStore.batchs = {}\r\n    if (!localDataStore.graphs) localDataStore.graphs = {}\r\n\r\n    this.props.getSections(localDataStore.sections.update_time)\r\n    this.props.getPens(localDataStore.pens.update_time)\r\n    this.props.getWeights(localDataStore.weighings.update_time, localDataStore.sections)\r\n\r\n    this.props.getBatch(localDataStore.batchs.update_time)\r\n    this.props.getCurve(localDataStore.graphs.update_time)\r\n  }\r\n\r\n  checkData(props) {\r\n  }\r\n\r\n  componentDidMount() {\r\n    this.props.setViewLoading(false)\r\n    this.props.setViewError(null)\r\n    this.checkData(this.props);\r\n    this.getData();\r\n  }\r\n\r\n  componentDidUpdate(prevProps, prevState) {\r\n    if (this.props !== prevProps){\r\n      this.checkData(this.props);\r\n\r\n      if (this.props.firebase.localDataStore) {\r\n        if ((this.props.firebase.localDataStore.sections && JSON.stringify(this.state.Sections)!==JSON.stringify(sortObject(this.props.firebase.localDataStore.sections))) ||\r\n            (this.props.firebase.localDataStore.weighings && JSON.stringify(this.state.Weighings)!==JSON.stringify(sortObject(this.props.firebase.localDataStore.weighings)))\r\n        ) {\r\n          const {Sections, Mid} = this.setData(this.props)\r\n          this.setState({\r\n            Mid: Mid,\r\n            Sections: Sections\r\n          })\r\n        }\r\n      }\r\n    }\r\n  }\r\n\r\n  render() {\r\n    const IsLoading = this.props.firebase.firebaseIsLoading\r\n    const localDataStore = this.props.firebase.localDataStore\r\n\r\n    return(\r\n      <View\r\n      style={[\r\n        Helpers.mainContainer,\r\n      ]}\r\n      >\r\n        <View style={[Helpers.fullSize, Helpers.fill]}>\r\n          {this.state.Sections? (\r\n            <ScrollView style={[Metrics.verticalMargin, {paddingRight: 5}]}>\r\n              <SectionGrid\r\n                itemDimension={70}\r\n                spacing={10}\r\n                sections={\r\n                  Object.keys(this.state.Sections).filter(e => e !== 'update_time').map((Section) => {\r\n                    var Pens = sortObject(this.state.Sections[Section].pens)\r\n                    return(\r\n                      {\r\n                        title: Section,\r\n                        data: Object.keys(Pens)\r\n                      }\r\n                    )\r\n                  })\r\n                }\r\n\r\n                renderSectionHeader={({ section }) => (\r\n                  <View style={[Helpers.buttonContainer, Helpers.midWidth, {marginBottom:0}]}>\r\n                    <Button Text={section.title} buttonStyle={{backgroundColor: Colors.AgriDarkblue}}\r\n                      onPress={() => {} }/>\r\n                  </View>\r\n                )}\r\n\r\n                renderItem={({ item }) => {\r\n                  var color = Colors.gray\r\n                  var displayWeight = null\r\n\r\n                  var Predict = CurvePredict(localDataStore, item)\r\n                  if (Predict != null) color = Colors.pigpink\r\n                  if (Predict && Predict.Now) {\r\n                    var Batch = Predict.Batch  //Mabye optain batch self ??\r\n\r\n                    var devianceMin = 2\r\n                    var devianceMax = 5\r\n                    if (Batch.datas.devianceMin) {\r\n                      devianceMin = Batch.datas.devianceMin\r\n                    }\r\n                    if (Batch.datas.devianceMax) {\r\n                      devianceMax = Batch.datas.devianceMax\r\n                    }\r\n                    var ExValue = Predict.TempEx\r\n                    var Weight = Predict.Now;\r\n                    \r\n                    var TargetWeight = (Batch.datas.target)?Batch.datas.target:Predict.Batch.datas.target\r\n                    if (Weight >= TargetWeight) {\r\n                      color = Colors.pigpink\r\n                    } else {\r\n                      var devianceValMin = (ExValue/100)* devianceMin\r\n                      var devianceValMax = (ExValue/100)* devianceMax\r\n                      if (ExValue && Weight < ExValue && Weight < ExValue - devianceValMin) {\r\n                        color = Colors.error\r\n                      } else if (ExValue && Weight > ExValue && Weight > ExValue + devianceValMax) {\r\n                        color = Colors.overest\r\n                      } else {\r\n                        color = Colors.success\r\n                      }\r\n                    }\r\n                    displayWeight = Math.round(Weight * 100) / 100\r\n                  }\r\n\r\n                  return(\r\n                    <TouchableOpacity style={[Helpers.borderContainer, {width:70, height:70, alignItems:\"center\", justifyContent:\"center\", backgroundColor:color}]}\r\n                      onPress={() => {\r\n                        this.props.setCurrentData(item)\r\n                        NavigationService.navigate(\"DataDisplay\")\r\n                      }}>\r\n                      <Text>{item}</Text>\r\n                      {displayWeight?(<Text>{displayWeight + \" kg\"}</Text>):(<></>)}\r\n                    </TouchableOpacity>\r\n                  )\r\n                }}\r\n              />\r\n            </ScrollView>\r\n          ):(\r\n            <View style={[Helpers.fillRowCenter, Helpers.center, Helpers.logoContainer]}>\r\n              <Image style={Helpers.fullSize} source={Images.Hexa_icon} resizeMode={'contain'} />\r\n            </View>\r\n          )}\r\n        </View>\r\n        {(IsLoading || this.props.firebase.viewIsLoading) &&\r\n          <ActivityIndicator style={Helpers.loadingContainer} size='large' />\r\n        }\r\n      </View>\r\n    )\r\n  }\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n  const { firebase } = state\r\n  return { firebase }\r\n};\r\n\r\nconst mapDispatchToProps  = (dispatch) => {\r\n  return {\r\n    setViewLoading: state => dispatch(FirebaseActions.viewIsLoading(state)),\r\n    setViewError: error => dispatch(FirebaseActions.setViewError(error)),\r\n\r\n    getSections: (DataTime) => dispatch(FirebaseActions.actionStarting(Actions.FETCH, DataRefs.SECTIONS, {DataTime: DataTime})),\r\n    getPens: (DataTime) => dispatch(FirebaseActions.actionStarting(Actions.FETCH, DataRefs.PENS, {DataTime: DataTime})),\r\n    getWeights: (DataTime, MemSections) => dispatch(FirebaseActions.actionStarting(Actions.FETCH, DataRefs.WEIGHING, {DataTime: DataTime, MemSections: MemSections})),\r\n    \r\n    getBatch: (DataTime) => dispatch(FirebaseActions.actionStarting(Actions.FETCH, DataRefs.BATCHS, {DataTime: DataTime})),\r\n    getCurve: (DataTime) => dispatch(FirebaseActions.actionStarting(Actions.FETCH, DataRefs.GRAPH, {GraphId: \"\", DataTime: DataTime})),\r\n\r\n    setCurrentData: penId => dispatch(FirebaseActions.setCurrentData({type:DataRefs.PENS, penId: penId})),\r\n  }\r\n};\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(Pens);\r\n//export default Pens;\r\n","import React, { useEffect, useState, Component } from 'react'\r\nimport { Platform, Text, View, ActivityIndicator, Image, StyleSheet, ScrollView, Dimensions, SafeAreaView, FlatList, Picker } from 'react-native'\r\nimport { Input } from 'react-native-elements'\r\nimport { useDispatch, useSelector, connect } from 'react-redux'\r\nimport { bindActionCreators } from 'redux';\r\n\r\nimport NavigationService from '../../../Services/NavigationService'\r\n\r\nimport FirebaseActions from '../../../Stores/Firebase/Actions'\r\nimport { Actions, DataRefs, sortObject, GetStats_FromBatch, DataStringCheck } from '../../../Stores/Firebase/Selectors'\r\n\r\nimport { Button, CustomListItem, Datetime_Picker } from '../../../Components'\r\nimport Style from './UserPanelStyle'\r\nimport { ApplicationStyles, Helpers, Metrics, Colors } from '../../../Theme'\r\n\r\nimport Icon from 'react-native-vector-icons/MaterialIcons'\r\nimport SectionedMultiSelect from 'react-native-sectioned-multi-select'\r\n\r\n//import moment from 'moment';\r\n\r\nimport SelectBox from 'react-native-multi-selectbox'\r\nimport { xorBy } from 'lodash'\r\n\r\nconst window = Dimensions.get(\"window\");\r\nconst screen = Dimensions.get(\"screen\");\r\n\r\nclass Batchs extends Component {\r\n  constructor(props){\r\n    super(props);\r\n\r\n    const {BatchList, freePens} = this.setData(props)\r\n    this.state = {\r\n      dimensions: {window, screen},\r\n      BatchList: BatchList,\r\n\r\n      Display: 0,\r\n\r\n      BatchName: \"\",\r\n      ShowPicker: false,\r\n      StartD: new Date().getTime(),\r\n      Curve: \"\",\r\n      TargetWeight: \"\",\r\n      DevianceMin: \"\",\r\n      DevianceMax: \"\",\r\n\r\n      freePens: freePens,\r\n      avaiblePens: freePens,\r\n      selectedPens: [],\r\n    }\r\n  }\r\n\r\n  setData(Props) {\r\n    const localDataStore = Props.firebase.localDataStore;\r\n\r\n    var BatchList = localDataStore.batchs\r\n    \r\n    var freePens = []\r\n    if (BatchList && localDataStore.sections) {\r\n      Object.keys(localDataStore.sections).forEach(section => {\r\n        if (localDataStore.sections[section].pens) {\r\n          var pens = []\r\n          Object.keys(localDataStore.sections[section].pens).filter(e => e !== '__jsogObjectId'  && e !== 'update_time').forEach(pen => {\r\n            var add = true\r\n            Object.keys(BatchList).forEach(batch => {\r\n              if (!BatchList[batch].state || BatchList[batch].state !== \"Closed\") {\r\n                if (BatchList[batch].pens && BatchList[batch].pens[pen] && !BatchList[batch].pens[pen].enddate) {\r\n                  add = false;\r\n                }\r\n              }\r\n            });\r\n            if (add) {\r\n              var item = {\r\n                item: pen,\r\n                id: section + \"_\" + pen\r\n              }\r\n              freePens.push(item)\r\n            }\r\n          })\r\n        }\r\n      });\r\n    }\r\n    return { BatchList, freePens }\r\n  }\r\n\r\n  getData() {\r\n    const localDataStore = this.props.firebase.localDataStore;\r\n    if (!localDataStore.sections) localDataStore.sections = {}\r\n    if (!localDataStore.pens) localDataStore.pens = {}\r\n\r\n    this.props.getBatch(localDataStore.batchs?localDataStore.batchs.update_time:null)\r\n    this.props.getSections(localDataStore.sections?localDataStore.sections.update_time:null)\r\n    this.props.getPens(localDataStore.pens?localDataStore.pens.update_time:null)\r\n    this.props.getCurve()\r\n  }\r\n\r\n  checkData(props) {\r\n  }\r\n\r\n  onChange = ({ window, screen }) => {\r\n    this.setState({\r\n      dimensions: {window, screen},\r\n    })\r\n  };\r\n\r\n  componentDidUpdate(prevProps, prevState) {\r\n    if (this.props !== prevProps) {\r\n      this.checkData(this.props);\r\n\r\n      if (this.props.firebase.localDataStore) {\r\n        if ((this.props.firebase.localDataStore.batchs && JSON.stringify(this.state.BatchList)!==JSON.stringify(this.props.firebase.localDataStore.batchs)) ||\r\n            (this.props.firebase.localDataStore.pens && JSON.stringify(this.state.pens)!==JSON.stringify(this.props.firebase.localDataStore.pens))) {\r\n          const {BatchList, freePens} = this.setData(this.props)\r\n          this.setState({\r\n            freePens: freePens,\r\n            BatchList: BatchList,\r\n          })\r\n        }\r\n      }\r\n    }\r\n  }\r\n\r\n  componentDidMount() {\r\n    Dimensions.addEventListener(\"change\", this.onChange);\r\n    this.props.setViewLoading(false)\r\n    this.props.setViewError(null)\r\n    this.checkData(this.props);\r\n    this.getData();\r\n  }\r\n\r\n  componentWillUnmount(){\r\n    Dimensions.removeEventListener(\"change\", this.onChange);\r\n  }\r\n\r\n  onMultiChange = (item) => {\r\n    var items = xorBy(this.state.selectedPens, [item], 'id')\r\n    this.setState({\r\n      selectedPens: items\r\n    })\r\n  }\r\n\r\n  render() {\r\n    const IsLoading = this.props.firebase.firebaseIsLoading\r\n    const ErrorMessage = this.props.firebase.viewError\r\n\r\n    const localDataStore = this.props.firebase.localDataStore\r\n\r\n    var wide = this.state.dimensions.window.width>900?true:false\r\n    var App = (Platform.OS === 'ios' || Platform.OS === 'android')||!wide\r\n\r\n    return(\r\n      <ScrollView style={[Metrics.verticalMargin, {paddingRight: 5}]}>\r\n        <View\r\n          style={[\r\n            Helpers.mainContainer,\r\n          ]}\r\n        >\r\n          <View style={[Helpers.contentContainer, Helpers.fullSize, Helpers.fill]}>\r\n            {ErrorMessage ? (\r\n              <Text style={ApplicationStyles.error}>{ErrorMessage}</Text>\r\n            ):(<></>)}\r\n            {this.state.Display === 0?(\r\n              //#region Normal Front View to display all batches.\r\n              <View style={[Helpers.contentContainer, Helpers.fullSize, {marginHorizontal:0, paddingHorizontal:-20}]}>\r\n                {this.state.BatchList ? (\r\n                  <View style={[Helpers.fill, Helpers.fullWidth, Metrics.smallHorizontalPadding, Metrics.smallVerticalPadding, {maxWidth:800, marginTop:10}]}>\r\n                    <FlatList scrollEnabled={true} style={[Helpers.fill]}\r\n                      data={Object.keys(this.state.BatchList).filter(e => e !== '__jsogObjectId' && e !== 'update_time')}\r\n                      renderItem={({item, i})=>{\r\n                        var name = item;\r\n                        if (this.state.BatchList[item] && this.state.BatchList[item].state && this.state.BatchList[item].state === \"Closed\") {\r\n                          name += \"  Closed\"\r\n                        }\r\n                        return(\r\n                          <Button Text={name} onPress={() => {\r\n                            var curveId = \"default\"\r\n                            if (this.state.BatchList[item] && this.state.BatchList[item].gcurve) {\r\n                              curveId = this.state.BatchList[item].gcurve\r\n                              if (typeof curveId !== 'string') curveId = null\r\n                            }\r\n                            this.props.setCurrentData(item, curveId)\r\n                            \r\n                            NavigationService.navigate('DataPlotter')\r\n                          }}/>\r\n                        )\r\n                      }}\r\n                      keyExtractor={(item, index) => index.toString()}\r\n                    />\r\n                  </View>\r\n                ):(<></>)}\r\n                <View style={[Helpers.buttonContainer, Helpers.borderContainer, Helpers.midWidth]}>\r\n                  <Button Text={\"New Batch\"} onPress={() => {\r\n                    var graph = 0\r\n                    if (localDataStore && localDataStore.graphs) {\r\n                      graph = Object.keys(localDataStore.graphs).filter(e => e !== '__jsogObjectId'  && e !== 'update_time')[0]\r\n                    }\r\n                    this.setState({\r\n                      Display: 1,\r\n\r\n                      DevianceMin: String(2),\r\n                      DevianceMax: String(2),\r\n                      Curve: graph,\r\n\r\n                      freePens: this.state.freePens,\r\n                      avaiblePens: this.state.freePens,\r\n                      selectedPens: [],\r\n                    })\r\n                  }}/>\r\n                  {this.state.BatchList?(\r\n                  <Button Text={\"Edit or Close Batch\"} onPress={() => {\r\n                    var batchName = Object.keys(this.state.BatchList)\r\n                                      .filter(e => e !== '__jsogObjectId'  && e !== 'update_time' && \r\n                                              (!this.state.BatchList[e].state || this.state.BatchList[e].state !== \"Closed\")\r\n                                      )[0]\r\n                    var batch = this.state.BatchList[batchName]\r\n                    if (batch) {\r\n                      var Pens = []\r\n                      var pens = sortObject(batch.pens)\r\n                      Object.keys(pens).forEach(element => {\r\n                        if (!batch.pens[element].enddate) {\r\n                          if (localDataStore.pens && localDataStore.pens[element]){\r\n                            var _pen = localDataStore.pens[element]\r\n                            var item = {}\r\n                            item.item = element;\r\n                            item.id = _pen.section + \"_\" + element;\r\n                            Pens.push(item)\r\n                          }\r\n                        }\r\n                      });\r\n\r\n                      this.setState({\r\n                        Display: 2,\r\n                        BatchName: batchName,\r\n                        StartD: batch.time,\r\n                        Curve: batch.gcurve,\r\n                        TargetWeight: String(batch.datas.target),\r\n                        DevianceMin: String(batch.datas.devianceMin),\r\n                        DevianceMax: String(batch.datas.devianceMax),\r\n                        avaiblePens: this.state.freePens.concat(Pens),\r\n                        selectedPens: Pens\r\n                      })\r\n                    }\r\n                  }}/>):(<></>)}\r\n                </View>\r\n              </View>\r\n              //#endregion\r\n            ):(\r\n              //#region Edit or create\r\n              <View style={[Helpers.contentContainer, Helpers.fullSize, {marginHorizontal:0, paddingHorizontal:-20}]}>\r\n                {this.state.Display === 1?( // Create\r\n                  <Input label={\"BatchName\"}\r\n                    containerStyle={[{borderWidth:1, marginTop:10}]}\r\n                    style={[ApplicationStyles.input, ]}\r\n                    onChangeText={text => {\r\n                      if (text){\r\n                        if (DataStringCheck(text)){\r\n                          this.setState({BatchName: text})\r\n                        }\r\n                      }else {\r\n                        this.setState({BatchName: text})\r\n                      }\r\n                    }}\r\n                    value={\r\n                      this.state.BatchName\r\n                    }\r\n                  />\r\n                ):( // Edit\r\n                  <View style={[Helpers.borderContainer, Helpers.fullWidth, {height:60, borderRadius:0, alignItems:\"center\"}]}>\r\n                    <Picker\r\n                      mode=\"dropdown\"\r\n                      selectedValue={this.state.BatchName}\r\n                      style={[Helpers.fullWidth, { height: 50, justifyContent:\"flex-end\"}]}\r\n                      onValueChange={(itemValue, itemIndex) => {\r\n                        if (this.state.BatchList && this.state.BatchList[itemValue]) {\r\n                          var batch = this.state.BatchList[itemValue]\r\n\r\n                          var Pens = []\r\n                          var pens = sortObject(batch.pens)\r\n                          Object.keys(pens).forEach(element => {\r\n                            if (!batch.pens[element].enddate) {\r\n                              if (localDataStore.pens && localDataStore.pens[element]){\r\n                                var _pen = localDataStore.pens[element]\r\n                                var item = {}\r\n                                item.item = element;\r\n                                item.id = _pen.section + \"_\" + element;\r\n                                Pens.push(item)\r\n                              }\r\n                            }\r\n                          });\r\n\r\n                          this.setState({\r\n                            BatchName: itemValue,\r\n                            StartD: batch.time,\r\n                            Curve: batch.gcurve,\r\n                            DevianceMin: String(batch.datas.devianceMin),\r\n                            DevianceMax: String(batch.datas.devianceMax),\r\n                            avaiblePens: this.state.freePens.concat(Pens),\r\n                            selectedPens: Pens,\r\n                          })\r\n                        }\r\n                      }}\r\n                    >\r\n                      {Object.keys(this.state.BatchList)\r\n                                      .filter(e => e !== '__jsogObjectId'  && e !== 'update_time' && \r\n                                              (!this.state.BatchList[e].state || this.state.BatchList[e].state !== \"Closed\")\r\n                                      ).map((graph, i) => {\r\n                        return (<Picker.Item label={graph} value={graph} key={i}/>)\r\n                      })}\r\n                    </Picker>\r\n                  </View>\r\n                )}\r\n                <View style={[Helpers.fullWidth, App?{}:Helpers.row, {zIndex:999}]}>\r\n                  <View style={[App?{}:Helpers.halvWidth, {borderWidth:1 , marginTop:10, paddingHorizontal:5, paddingTop:0, borderRadius:0, alignItems:\"center\", zIndex:1}]}>\r\n                    <View style={[Helpers.fullWidth, {alignItems:\"flex-start\", marginBottom: -5}]}>\r\n                      <Text style={[ApplicationStyles.text, {marginHorizontal:5, marginTop:2, color:Colors.input, fontSize: 15, fontWeight: \"bold\"}]}>Start date:</Text>\r\n                    </View>\r\n                    <View style={[Helpers.fullWidth, App?{marginBottom:10}:{},{alignItems:'flex-start',}]}>\r\n                      <Datetime_Picker Selected={this.state.StartD}\r\n                        onValueChange={(date)=>{\r\n                          this.setState({\r\n                            StartD: date.getTime()\r\n                          })\r\n                      }}/>\r\n                    </View>\r\n                  </View>\r\n                  \r\n                  <View style={[App?{}:Helpers.halvWidth, {borderWidth:1, marginTop:10, paddingHorizontal:5, paddingTop:0, borderRadius:0, alignItems:\"center\", zIndex:1}]}>\r\n                    <View style={[Helpers.fullWidth, {alignItems:\"flex-start\", marginBottom: -5}]}>\r\n                      <Text style={[ApplicationStyles.text, {marginHorizontal:5, marginTop:2, color:Colors.input, fontSize: 15, fontWeight: \"bold\"}]}>Growth curve:</Text>\r\n                    </View>\r\n                    <View style={[Helpers.fullWidth, {alignItems:\"center\"}]}>\r\n                      <Picker\r\n                        mode=\"dropdown\"\r\n                        selectedValue={this.state.Curve}\r\n                        style={[Helpers.fullWidth, {height: 30}]}\r\n                        onValueChange={(itemValue, itemIndex) => {\r\n                          this.setState({\r\n                            Curve: itemValue\r\n                          })\r\n                        }}\r\n                      >\r\n                        {Object.keys(localDataStore.graphs).filter(e => e !== '__jsogObjectId'  && e !== 'update_time').map((graph, i) => {\r\n                          return (<Picker.Item label={graph} value={graph} key={i}/>)\r\n                        })}\r\n                      </Picker>\r\n                    </View>\r\n                  </View>\r\n                </View>\r\n                <View style={[Helpers.fullWidth, Helpers.row]}>\r\n                <Input label={\"Target weight\"}\r\n                    type='number'\r\n                    step=\"0.1\"\r\n\r\n                    containerStyle={[Helpers.halvWidth,{borderWidth:1, marginTop:10}]}\r\n                    style={[ApplicationStyles.input, {marginBottom:-10}]}\r\n                    onChangeText={text => {\r\n                      if (!isNaN(text) || text.endsWith('.') && text.split('.').length <= 2) {\r\n                        this.setState({\r\n                          TargetWeight: text\r\n                        })\r\n                      }\r\n                    }}\r\n                    value={\r\n                      this.state.TargetWeight\r\n                    }\r\n                  />\r\n                </View>\r\n                <View style={[Helpers.fullWidth, Helpers.row]}>\r\n                  <Input label={\"Deviance Min alert procentage\"}\r\n                    type='number'\r\n                    step=\"0.1\"\r\n\r\n                    containerStyle={[Helpers.halvWidth,{borderWidth:1, marginTop:10}]}\r\n                    style={[ApplicationStyles.input, {marginBottom:-10}]}\r\n                    onChangeText={text => {\r\n                      if (!isNaN(text) || text.endsWith('.') && text.split('.').length <= 2) {\r\n                        this.setState({\r\n                          DevianceMin: text\r\n                        })\r\n                      }\r\n                    }}\r\n                    value={\r\n                      this.state.DevianceMin\r\n                    }\r\n                  />\r\n                  <Input label={\"Deviance Max alert procentage\"}\r\n                    type='number'\r\n                    step=\"0.1\"\r\n\r\n                    containerStyle={[Helpers.halvWidth,{borderWidth:1, marginTop:10}]}\r\n                    style={[ApplicationStyles.input, {marginBottom:-10}]}\r\n                    onChangeText={text => {\r\n                      if (!isNaN(text) || text.endsWith('.') && text.split('.').length <= 2) {\r\n                        this.setState({\r\n                          DevianceMax: text\r\n                        })\r\n                      }\r\n                    }}\r\n                    value={\r\n                      this.state.DevianceMax\r\n                    }\r\n                  />\r\n                </View>\r\n                <View style={[Helpers.fullWidth, {borderWidth:1, marginTop:10, paddingHorizontal:10, paddingTop:5}]}>\r\n                  <SelectBox\r\n                    label=\"Pens in Batch..\"\r\n                    labelStyle={{color:Colors.input, fontSize: 15, fontWeight: \"bold\"}}\r\n                    optionsLabelStyle={{minWidth:100, color:\"black\", fontSize: 12, fontWeight: \"bold\"}}\r\n\r\n                    options={this.state.avaiblePens}\r\n                    selectedValues={this.state.selectedPens}\r\n                    onMultiSelect={this.onMultiChange}\r\n                    onTapClose={this.onMultiChange}\r\n                    isMulti\r\n                  />\r\n                </View>\r\n                <View style={[Helpers.buttonContainer, Helpers.borderContainer, Helpers.midWidth, {marginTop:10}]}>\r\n                  {this.state.Display === 2?(\r\n                    <Button Text={\"Close Batch\"} onPress={() => {\r\n                      var Batch = localDataStore.batchs[this.state.BatchName];\r\n                      if (Batch) {\r\n                        var {StartDate, EndDate, TargetWeight, PenCount, Animals, AverageWeight, AverageGrowth, isClosed, isVirtual} = GetStats_FromBatch(Batch, localDataStore)\r\n                        if (Animals){\r\n                          this.props.setViewError(\"The batch still contains active pens, please clear pens before closing the batch\")\r\n                        }else {\r\n                          var newBatch = {name:this.state.BatchName, state:\"Closed\"}\r\n                          this.props.updateBatch(newBatch)\r\n                          this.setState({\r\n                            Display: 0\r\n                          })\r\n                          this.props.getPens(localDataStore.pens.update_time)\r\n                        }\r\n                      }\r\n                    }}/>\r\n                  ):(\r\n                    <></>\r\n                  )}\r\n                  <Button Text={\"Save\"} onPress={() => {\r\n                    var update = true;\r\n\r\n                    if (this.state.BatchName !== \"\") {\r\n                      var Name = this.state.BatchName;\r\n                      if (!Object.keys(this.state.BatchList).includes(Name)){\r\n                        if (this.state.Display === 2) { // update on non existing\r\n                          update = false \r\n                          this.props.setViewError(\"BatchName error, batch does not exists\")\r\n                        }\r\n                      } \r\n                      else {\r\n                        if (this.state.Display === 1) { // create on allready existing\r\n                          update = false \r\n                          this.props.setViewError(\"BatchName error, batch allready exists\")\r\n                        }\r\n                      }\r\n                    } else {\r\n                      update = false \r\n                      this.props.setViewError(\"BatchName error\")\r\n                    }\r\n\r\n                    if (this.state.StartD !== \"\") {\r\n                      /*var StartD = this.state.StartD.split(\".\")\r\n                      if (StartD.length !== 3 || StartD[0].length !== 4 || isNaN(StartD[0]) || \r\n                                                (StartD[1].length <= 0 && StartD[1].length >= 3) || isNaN(StartD[1]) ||\r\n                                                (StartD[2].length <= 0 && StartD[2].length >= 3)|| isNaN(StartD[2])) {\r\n                        update = false \r\n                        this.props.setViewError(\"Startdate error\")\r\n                      }*/\r\n                    }else {\r\n                      update = false \r\n                      this.props.setViewError(\"Startdate error\")\r\n                    }\r\n\r\n                    if (this.state.TargetWeight !== \"\") {\r\n                      var Dev = this.state.TargetWeight\r\n                      if (Dev.length > 3 || isNaN(Dev)) {\r\n                        update = false \r\n                      }\r\n                    }else {\r\n                      update = false \r\n                      this.props.setViewError(\"Tartget weight setting error\")\r\n                    }\r\n\r\n                    if (this.state.DevianceMin !== \"\") {\r\n                      var Dev = this.state.DevianceMin\r\n                      if (Dev.length > 3 || isNaN(Dev) || Dev > 100){\r\n                        update = false \r\n                      }\r\n                    }else {\r\n                      update = false \r\n                      this.props.setViewError(\"DevianceMin setting error\")\r\n                    }\r\n\r\n                    if (this.state.DevianceMax !== \"\") {\r\n                      var Dev = this.state.DevianceMax\r\n                      if (Dev.length > 3 || isNaN(Dev) || Dev > 100){\r\n                        update = false \r\n                      }\r\n                    }else {\r\n                      update = false \r\n                      this.props.setViewError(\"DevianceMax setting error\")\r\n                    }\r\n\r\n                    if (this.state.Curve === \"\"){\r\n                      update = false \r\n                      this.props.setViewError(\"Growth curve setting error, please reselect a curve\")\r\n                    }\r\n\r\n                    var Pens = {}\r\n                    if (this.state.selectedPens && this.state.selectedPens.length > 0) {\r\n                      this.state.selectedPens.forEach(element => {\r\n                        Pens[element.item] = true\r\n                      });\r\n                    }\r\n                    if (Object.keys(Pens).length !== this.state.selectedPens.length) {\r\n                      update = false\r\n                      this.props.setViewError(\"An error occurred during Pen assigning (please update the page)\")\r\n                    }\r\n\r\n                    if (update) {\r\n                      this.props.setViewLoading(true)\r\n                      var _Date = new Date(this.state.StartD)\r\n                      var StartD = new Date(_Date.getFullYear(), _Date.getMonth(), _Date.getDate()).getTime()\r\n                      var newBatch = {name:this.state.BatchName, gcurve:this.state.Curve, pens:Pens, time: StartD, datas:{target: this.state.TargetWeight, devianceMin: this.state.DevianceMin, devianceMax: this.state.DevianceMax}}\r\n                      if (this.state.Display === 1) {\r\n                        this.props.setBatch(newBatch)\r\n                      }\r\n                      else if (this.state.Display === 2) {\r\n                        this.props.updateBatch(newBatch)\r\n                      }\r\n                      this.setState({\r\n                        Display: 0\r\n                      })\r\n                      this.props.getPens(localDataStore.pens.update_time)\r\n                      this.props.setViewError(null)\r\n                      this.props.setViewLoading(false)\r\n                    }\r\n                  }}/>\r\n                </View>\r\n              </View>\r\n              //#endregion\r\n            )}\r\n          </View>\r\n          {(IsLoading || this.props.firebase.viewIsLoading) &&\r\n            <ActivityIndicator style={Helpers.loadingContainer} size='large' />\r\n          }\r\n        </View>\r\n      </ScrollView>\r\n    )\r\n  }\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n  const { firebase } = state\r\n  return { firebase }\r\n};\r\n\r\nconst mapDispatchToProps  = (dispatch) => {\r\n  return {\r\n    setViewLoading: state => dispatch(FirebaseActions.viewIsLoading(state)),\r\n    setViewError: error => dispatch(FirebaseActions.setViewError(error)),\r\n\r\n    getCurve: () => dispatch(FirebaseActions.actionStarting(Actions.FETCH, DataRefs.GRAPH, {})),\r\n\r\n    getSections: (DataTime) => dispatch(FirebaseActions.actionStarting(Actions.FETCH, DataRefs.SECTIONS, { DataTime: DataTime})),\r\n    getPens: (DataTime) => dispatch(FirebaseActions.actionStarting(Actions.FETCH, DataRefs.PENS, {DataTime: DataTime})),\r\n    getBatch: (DataTime) => dispatch(FirebaseActions.actionStarting(Actions.FETCH, DataRefs.BATCHS, {DataTime: DataTime})),\r\n\r\n    setBatch: (batch) => dispatch(FirebaseActions.actionStarting(Actions.CREATE, DataRefs.BATCHS, {Batch: batch})),\r\n    updateBatch: (batch) => dispatch(FirebaseActions.actionStarting(Actions.UPDATE, DataRefs.BATCHS, {BatchId: batch.name, Batch: batch})),\r\n    \r\n    setCurrentData: (batchId, curveId) => dispatch(FirebaseActions.setCurrentData({type:DataRefs.PENS, batchId:batchId, curveId: curveId})),\r\n  }\r\n};\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(Batchs);\r\n//export default Batchs;\r\n","import React, { useEffect, useState, Component } from 'react'\r\nimport { Platform, Text, View, ActivityIndicator, Image, StyleSheet, ScrollView, Dimensions, SafeAreaView, FlatList, Picker } from 'react-native'\r\nimport { Input, Icon } from 'react-native-elements'\r\nimport { useDispatch, useSelector, connect } from 'react-redux'\r\nimport { bindActionCreators } from 'redux';\r\n\r\nimport NavigationService from '../../../Services/NavigationService'\r\n\r\nimport FirebaseActions from '../../../Stores/Firebase/Actions'\r\nimport { Actions, DataRefs, DataStringCheck } from '../../../Stores/Firebase/Selectors'\r\n\r\nimport { Button, TitleElement, CustomListItem, ContentProp } from '../../../Components'\r\nimport Style from './UserPanelStyle'\r\nimport { ApplicationStyles, Helpers, Metrics, Images } from '../../../Theme'\r\nimport CurveElement from './CurveElement'\r\n\r\nclass GrowthCurve extends Component {\r\n  constructor(props){\r\n    super(props);\r\n\r\n    const {CurveList} = this.setData(props)\r\n    var D = new Date()\r\n    this.state = {\r\n      CurveList: CurveList,\r\n\r\n      Display: 0,\r\n\r\n      CurveName: \"\",\r\n      DataPoints: [],\r\n      Periode: \"Days\",\r\n\r\n      Selected: {dataindex:null, index:null, error:false}\r\n    }\r\n  }\r\n\r\n  setData(Props) {\r\n    const localDataStore = Props.firebase.localDataStore;\r\n\r\n    var CurveList = localDataStore.graphs\r\n    return { CurveList }\r\n  }\r\n\r\n  getData(){\r\n    this.props.getCurve()\r\n  }\r\n\r\n  checkData(props){\r\n  }\r\n\r\n  componentDidMount() {\r\n    this.props.setViewLoading(false)\r\n    this.props.setViewError(null)\r\n    this.checkData(this.props);\r\n    this.getData();\r\n  }\r\n\r\n  componentDidUpdate(prevProps, prevState) {\r\n    if (this.props !== prevProps) {\r\n      this.checkData(this.props);\r\n\r\n      if (this.props.firebase.localDataStore) {\r\n        if (this.props.firebase.localDataStore.graphs && JSON.stringify(this.state.CurveList)!==JSON.stringify(this.props.firebase.localDataStore.graphs)) {\r\n          const {CurveList} = this.setData(this.props)\r\n          this.setState({\r\n            CurveList: CurveList,\r\n          })\r\n        }\r\n      }\r\n    }\r\n  }\r\n\r\n  render() {\r\n    const IsLoading = this.props.firebase.firebaseIsLoading\r\n    const ErrorMessage = this.props.firebase.viewError\r\n\r\n    var AverageGrowth = 0\r\n    for(var i = 0; i < this.state.DataPoints.length; i++) {\r\n      if (!this.state.DataPoints[i] || !this.state.DataPoints[i].hasOwnProperty(\"value\")) continue;\r\n      var value = this.state.DataPoints[i].value\r\n      if (value === \"\" || value === null) value = 0\r\n      value = parseFloat(value)\r\n\r\n      for(var i2 = i-1; i2 >= 0; i2--) {\r\n        if (this.state.DataPoints[i2] && this.state.DataPoints[i2].hasOwnProperty(\"value\")){\r\n          var Growth = value - this.state.DataPoints[i2].value\r\n          AverageGrowth = (AverageGrowth + Growth) / 2\r\n          break;\r\n        }\r\n      }\r\n    }\r\n    AverageGrowth = AverageGrowth.toFixed(3)\r\n\r\n    var App = Platform.OS === \"android\" || Platform.OS === \"ios\" ? true: false\r\n    return(\r\n      <ScrollView style={[Helpers.fullSize, Helpers.fill]} nestedScrollEnabled={true}>\r\n        <View\r\n          style={[\r\n            Helpers.mainContainer,\r\n          ]}\r\n        >\r\n        <View style={[Helpers.contentContainer, Helpers.fullSize, Helpers.fillColMain]}>\r\n          {ErrorMessage ? (\r\n            <Text style={ApplicationStyles.error}>{ErrorMessage}</Text>\r\n          ):(<></>)}\r\n          {this.state.Display === 0?(\r\n            <View style={[Helpers.contentContainer, Helpers.fullSize, {marginHorizontal:0, paddingHorizontal:-20}]}>\r\n            {this.state.CurveList ? (\r\n              <View style={[Helpers.fill, Helpers.fullWidth, Metrics.smallHorizontalPadding, Metrics.smallVerticalPadding, {maxWidth:800, marginTop:10}]}>\r\n                <FlatList nestedScrollEnabled={true}\r\n                  data={Object.keys(this.state.CurveList).filter(e => e !== '__jsogObjectId' && e !== 'update_time')}\r\n                  renderItem={({item})=>{\r\n                    return(\r\n                      <Button Text={item} onPress={() => {\r\n                        var CurveData = this.state.CurveList[item]\r\n\r\n                        var DataPoints = []\r\n                        if (!CurveData || !CurveData.hasOwnProperty(\"data\")){\r\n                          this.props.viewError(\"DataFetch error, please try to refresh\")\r\n                        }else {\r\n                          var _index = 0;\r\n                          Object.keys(CurveData.data).filter(e => e !== '__jsogObjectId').map((index) => {\r\n                            DataPoints[index] = { value: CurveData.data[index]}\r\n                            for(var i = index-1; i > _index;i--){\r\n                              DataPoints[i] = { value:null}\r\n                            }\r\n                            _index = index\r\n                          })\r\n                        }\r\n                        this.setState({\r\n                          Display: 2,\r\n                          CurveName: item,\r\n                          DataPoints: DataPoints,\r\n                          Periode: CurveData.periode\r\n                        })\r\n                      }}/>\r\n                    )\r\n                  }}\r\n                  keyExtractor={(item, index) => index.toString()}\r\n                />\r\n              </View>\r\n            ):(<></>)}\r\n            <View style={[Helpers.buttonContainer, Helpers.borderContainer, Helpers.midWidth]}>\r\n              <Button Text={\"New Curve\"} onPress={() => {\r\n                this.setState({\r\n                  Display: 1,\r\n                  DataPoints: [{value:\"0\"},{value:\"0\"}]\r\n                })\r\n              }}/>\r\n            </View>\r\n          </View>\r\n          ):(\r\n            //#region Edit or create\r\n            <View style={[Helpers.contentContainer, Helpers.fullSize, {marginHorizontal:0, paddingHorizontal:-20}]}>\r\n              {this.state.Display === 1?( // Create\r\n                <Input label={\"CurveName\"}\r\n                  containerStyle={[{borderWidth:1, marginTop:10}]}\r\n                  style={[ApplicationStyles.input, ]}\r\n                  onChangeText={text => {\r\n                    if (text){\r\n                      if (DataStringCheck(text)){\r\n                        this.setState({CurveName: text})\r\n                      }\r\n                    }else {\r\n                      this.setState({CurveName: text})\r\n                    }\r\n                  }}\r\n                  value={\r\n                    this.state.CurveName\r\n                  }\r\n                />\r\n              ):( //Edit\r\n                <TitleElement Text={this.state.CurveName}/>\r\n              )}\r\n              <View style={[Helpers.fill, Helpers.fullWidth]}>\r\n                <ContentProp texts={[\"Periode: \" + this.state.Periode]} datas={[\"Average Growth: \" + AverageGrowth]} />\r\n                <View style={[Helpers.borderContainer, Helpers.fillCenter, Helpers.fullWidth, {alignSelf:'center'}]}>\r\n                  <CurveElement Display={true} DataPoints={this.state.DataPoints} Height={200} Width={455}/>\r\n                </View>\r\n                <View>\r\n                  <FlatList nestedScrollEnabled={true}\r\n                    data={this.state.DataPoints}\r\n                    style={[App?styles.AppStyle:styles.WebStyle]}\r\n                    renderItem={({item, index}) => {\r\n                      if (!item || item.value === null || item.value === undefined) return null;\r\n                      var Selected = index===this.state.Selected.dataindex\r\n                      return(\r\n                        <View style={[Helpers.fullWidth, Helpers.row]} \r\n                          onFocus={() => {\r\n                            this.setState({\r\n                              Selected: {dataindex:index, index:index, error:false}\r\n                            })\r\n                          }}\r\n                          onBlur={() => {\r\n                            this.setState({\r\n                              Selected: {dataindex:null, index:null, error:false}\r\n                            })\r\n                          }}\r\n                        >\r\n                          <Input label={\"Day:\"}\r\n                            type='number'\r\n                            step=\"0.1\"\r\n\r\n                            containerStyle={[{width:120, borderWidth:1, marginTop:10, marginRight:10}]}\r\n                            style={[ApplicationStyles.input, {width:100}]}\r\n                            \r\n                            errorMessage={Selected&&this.state.Selected.error?\"Value error\":\"\"}\r\n                            editable={index===0?false:true}\r\n                            onChangeText={text => {\r\n                              if (!isNaN(text)) {\r\n                                var _Selected = this.state.Selected\r\n                                _Selected.index = text\r\n                                _Selected.error = false\r\n                                if (this.state.DataPoints[text] && this.state.DataPoints[text].hasOwnProperty(\"value\") && this.state.DataPoints[text].value) {\r\n                                  _Selected.error = true\r\n                                }\r\n                                this.setState({\r\n                                  Selected: _Selected\r\n                                });\r\n                              }\r\n                            }}\r\n\r\n                            onBlur={() => {\r\n                              if (!this.state.Selected.error && this.state.Selected.dataindex !== this.state.Selected.index) {\r\n                                var DataPoints = [ ...this.state.DataPoints ];\r\n                                DataPoints[this.state.Selected.index] = {value: item.value.toString()};\r\n                                DataPoints[this.state.Selected.dataindex].value = null\r\n\r\n                                var FirstData = false\r\n                                for(var i = DataPoints.length-1; i>1;i--) {\r\n                                  if (!DataPoints[i] || !DataPoints[i].hasOwnProperty(\"value\") || !DataPoints[i].value) {\r\n                                    if (FirstData) {\r\n                                      DataPoints[i] = {value: null}\r\n                                    }\r\n                                    else DataPoints.pop()\r\n                                  } else {\r\n                                    FirstData = true;\r\n                                  }\r\n                                }\r\n                                this.setState({DataPoints});\r\n                              }\r\n                            }}\r\n\r\n                            value={\r\n                              \"\" + (Selected?this.state.Selected.index:index)\r\n                            }\r\n                          />\r\n                          <Input label={\"Weight:\"}\r\n                            type='number'\r\n                            step=\"0.1\"\r\n\r\n                            containerStyle={[Helpers.fill,{borderWidth:1, marginTop:10}]}\r\n                            style={[ApplicationStyles.input]}\r\n                            \r\n                            onChangeText={text => {\r\n                              if (!isNaN(text) || text.endsWith('.') && text.split('.').length <= 2) {\r\n                                var DataPoints = [ ...this.state.DataPoints ];\r\n                                DataPoints[index].value = text;\r\n                                this.setState({DataPoints});\r\n                              }\r\n                            }}\r\n\r\n                            onBlur={(e:any) => {\r\n                              var text = e.nativeEvent.text\r\n                              if (text === undefined || text === null || text === \"\") {\r\n\r\n                                var DataPoints = [ ...this.state.DataPoints ];\r\n                                DataPoints[index].value = \"0\";\r\n                                this.setState({DataPoints});\r\n                              }\r\n                            }}\r\n\r\n                            value={\r\n                              \"\" + item.value\r\n                            }\r\n                          />\r\n                        </View>\r\n                      )\r\n                    }}\r\n                    keyExtractor={(item, index) => index.toString()}\r\n                    //Setting the number of column\r\n                    numColumns={1}\r\n                  />\r\n                </View>\r\n                <View style={{height:20}} />\r\n                <Button Text={\"New Point\"} onPress={() => {\r\n                  var DataPoints = [ ...this.state.DataPoints ];\r\n                  var value = this.state.DataPoints&&this.state.DataPoints.length >= 1?this.state.DataPoints[this.state.DataPoints.length-1].value:\"0\"\r\n                  DataPoints.push({value:value})\r\n                  this.setState({\r\n                    DataPoints\r\n                  })\r\n                }}/>\r\n              </View>\r\n\r\n              <View style={[Helpers.buttonContainer, Helpers.borderContainer, Helpers.midWidth, {marginTop:10}]}>\r\n                <Button Text={\"Save\"} onPress={() => {\r\n                  var update = true;\r\n\r\n                  if (this.state.CurveName !== \"\"){\r\n                    var Name = this.state.CurveName;\r\n                    if (!Object.keys(this.state.CurveList).includes(Name)) {\r\n                      if (this.state.Display === 2) { // update on non existing\r\n                        this.props.setViewError(\"Cannot update non-existing Curve. (Please refresh)\")\r\n                        update = false \r\n                      }\r\n                    } \r\n                    else {\r\n                      if (this.state.Display === 1) { // create on allready existing\r\n                        this.props.setViewError(\"Cannot create allready existing Curve.\")\r\n                        update = false \r\n                      }\r\n                    }\r\n                  }else {\r\n                    this.props.setViewError(\"Curve template need a name.\")\r\n                    update = false\r\n                  }\r\n\r\n                  var lastDataIndex = 0\r\n                  this.state.DataPoints.forEach((element,index) => {\r\n                    if (update && element.value !== null && element.value !== undefined){\r\n                      if (index > 0 && parseInt(element.value) <= parseInt(this.state.DataPoints[lastDataIndex].value)) {\r\n                        var Eindex = lastDataIndex\r\n                        if (element.value === this.state.DataPoints[lastDataIndex].value) Eindex = index\r\n                        this.props.setViewError(\"Curve template needs to be incremental: error at day: \" + Eindex)\r\n                        update = false;\r\n                      } else {\r\n                        lastDataIndex = index\r\n                      }\r\n                    }\r\n                  })\r\n\r\n                  if (update) {\r\n                    this.props.setViewError(null)\r\n                    this.props.setViewLoading(true)\r\n                    var newCurve = {name:this.state.CurveName, periode:this.state.Periode}\r\n                    var Data = []\r\n                    var index = 0;\r\n                    this.state.DataPoints.forEach(element => {\r\n                      if (element.value) Data[index] = parseFloat(element.value)\r\n                      index++;\r\n                    });\r\n                    newCurve.data = Data;\r\n                    this.props.updateCurve(newCurve)\r\n                    \r\n                    this.setState({\r\n                      Display: 0\r\n                    })\r\n                  }\r\n                }}/>\r\n              </View>\r\n            </View>\r\n            //#endregion\r\n          )}\r\n        </View>\r\n        {(IsLoading || this.props.firebase.viewIsLoading) &&\r\n          <ActivityIndicator style={Helpers.loadingContainer} size='large' />\r\n        }\r\n      </View>\r\n      </ScrollView>\r\n    )\r\n  }\r\n}\r\n\r\nconst styles = StyleSheet.create({\r\n  AppStyle: {\r\n    \r\n  },\r\n  WebStyle: {\r\n    height:400\r\n  },\r\n});\r\n\r\nconst mapStateToProps = (state) => {\r\n  const { firebase } = state\r\n  return { firebase }\r\n};\r\n\r\nconst mapDispatchToProps  = (dispatch) => {\r\n  return {\r\n    setViewLoading: state => dispatch(FirebaseActions.viewIsLoading(state)),\r\n    setViewError: error => dispatch(FirebaseActions.setViewError(error)),\r\n\r\n    getCurve: () => dispatch(FirebaseActions.actionStarting(Actions.FETCH, DataRefs.GRAPH, {GraphId: \"\"})),\r\n    updateCurve: (curve) => dispatch(FirebaseActions.actionStarting(Actions.UPDATE, DataRefs.GRAPH, {Graph: curve})),\r\n  }\r\n};\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(GrowthCurve);\r\n//export default GrowthCurve;\r\n","import * as React from 'react'\r\nimport { useEffect, Component } from 'react'\r\nimport { Text, View, ActivityIndicator, Image, StyleSheet, ScrollView, FlatList, SafeAreaView } from 'react-native'\r\nimport { Input, Icon } from 'react-native-elements'\r\nimport { useDispatch, useSelector, connect } from 'react-redux'\r\nimport { bindActionCreators } from 'redux';\r\n\r\nimport NavigationService from '../../../Services/NavigationService'\r\n\r\nimport FirebaseActions from '../../../Stores/Firebase/Actions'\r\nimport { Actions, DataRefs, ConsysRefs, GetCurve_FromBatch, CurvePredict, GetBatchEnd, AccumulateTime, format_Time, GetStats_FromBatch, GetStats_FromPen } from '../../../Stores/Firebase/Selectors'\r\n\r\nimport { Button, TitleElement } from '../../../Components'\r\nimport Style from './UserPanelStyle'\r\nimport { ApplicationStyles, Helpers, Metrics, Colors } from '../../../Theme'\r\n//import CurveElement, { WeightsToGraphData } from './CurveElement'\r\n//import { BarChart } from 'react-native-chart-kit'\r\n\r\nimport { VictoryBar, VictoryLine, VictoryScatter, VictoryChart, VictoryTheme, VictoryVoronoiContainer, VictoryZoomContainer, createContainer, VictoryTooltip, VictoryAxis } from \"victory-native\";\r\nconst VictoryZoomVoronoiContainer = createContainer(\"zoom\", \"voronoi\");\r\n\r\nfunction getRandomNumber(low, high) {\r\n  var r = Math.floor(Math.random() * (high - low + 1)) + low;\r\n  return r;\r\n}\r\n\r\nfunction getRandomColor() {\r\n  var red_range = [10, 250];\r\n  var green_range = [10, 250];\r\n  var blue_range = [10, 250];\r\n  var a_range = [0.2, 1];\r\n\r\n  var red = getRandomNumber(red_range[0], red_range[1]);\r\n  var green = getRandomNumber(green_range[0], green_range[1]);\r\n  var blue = getRandomNumber(blue_range[0], blue_range[1]);\r\n\r\n  var alpha = getRandomNumber(a_range[0] * 100, a_range[1] * 100) / 100;\r\n\r\n  return {\r\n    r: red,\r\n    g: green,\r\n    b: blue,\r\n    a: alpha,\r\n    rgbaValue: 'rgba(' + red + ',' + green + ',' + blue + ',' + alpha + ')'\r\n  }\r\n}\r\n\r\nclass AutoPig extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    var { FarmData, ValveData, ScaleData, categories, series, Domain } = this.setData(props)\r\n    this.state = {\r\n      FarmData: FarmData,\r\n      ValveData: ValveData,\r\n      ScaleData: ScaleData,\r\n\r\n      Limit: 300,\r\n      SysId: 2,\r\n      STime: undefined,\r\n      ETime: undefined,\r\n      LastId: undefined,\r\n\r\n      categories: categories,\r\n      series: series,\r\n\r\n      entireDomain: Domain,\r\n      zoomedDomain: Domain\r\n    }\r\n  }\r\n\r\n  setData(Props) {\r\n    const localDataStore = Props.firebase.localDataStore;\r\n    const FirebaseUser = this.props.firebase.firebaseUser;\r\n    var Site = null, refToken = null, accessToken = null;\r\n    var FarmData = null, ValveData = {}, ScaleData = {};\r\n    var categories = [], series = [];\r\n\r\n    if (FirebaseUser && FirebaseUser.farms && localDataStore && localDataStore.farms) {\r\n      const FarmsData = localDataStore.farms\r\n      if (FarmsData && FarmsData[Object.keys(FirebaseUser.farms)[0]]) {\r\n        FarmData = FarmsData[Object.keys(FirebaseUser.farms)[0]]\r\n        /*if (FarmData.site && FarmData.refToken) {\r\n          Site = FarmData.site\r\n          refToken = FarmData.refToken\r\n          if (FarmData.token) accessToken = FarmData.token\r\n        }*/\r\n      }\r\n    }\r\n    if (localDataStore && localDataStore.consys) {\r\n      if (localDataStore.consys.feedData) {\r\n        ValveData = localDataStore.consys.feedData\r\n\r\n        var DataSet = []\r\n        Object.keys(ValveData).filter(e => (e !== '__jsogObjectId')).forEach(element => {\r\n          var data = ValveData[element]\r\n\r\n          var _DataSet = DataSet.find(x => x.name === data.valve)\r\n          if (_DataSet) {\r\n\r\n            _DataSet.data.push({x:(data.timestamp*1000), y: data.amount , silono:data.silono, unit:data.unit})\r\n          } else {\r\n            //series.push({name:data.valve, type:\"column\", data:[{x:data.timestamp, y:data.amount}]})\r\n            DataSet.push({\r\n              name:data.valve,\r\n              data: [{x:(data.timestamp*1000), y:data.amount, silono:data.silono, unit:data.unit}]\r\n            })\r\n          }\r\n        });\r\n        DataSet.forEach(element => {\r\n          series.push(\r\n            {\r\n              type: \"Bar\",\r\n              name: element.name,\r\n              color: getRandomColor().rgbaValue,\r\n              data: element.data\r\n            }\r\n            /*<VictoryBar key={\"Bar_\" + element.name}\r\n              barWidth={ 6 }\r\n              data={ element.data }\r\n              style={{data: { fill: getRandomColor().rgbaValue},}}\r\n              name={ 'valve: ' + element.name }\r\n            />*/\r\n          )\r\n        });\r\n      }\r\n      if (localDataStore.consys.scaleData){\r\n        ScaleData = localDataStore.consys.scaleData\r\n\r\n        var DataSet2 = []\r\n        Object.keys(ScaleData).filter(e => (e !== '__jsogObjectId')).forEach(element => {\r\n          var data = ScaleData[element]\r\n          DataSet2.push({x: (data.timestamp*1000), y:data.amount})\r\n        });\r\n        if (DataSet2.length > 0) {\r\n          //series.push({name:'AutoScale', type:\"line\", data:DataSet2})\r\n          //var color = getRandomColor().rgbaValue\r\n          series.push(\r\n            {\r\n              type: 'Line',\r\n              name: 'AutoScale',\r\n              color: getRandomColor().rgbaValue,\r\n              data: DataSet2\r\n            }\r\n            /*<VictoryLine key={\"Line_AutoScale\"}\r\n              data={ DataSet2 }\r\n              style={{\r\n                data: { stroke: color, strokeWidth: ({ active }) => active ? 2 : 1},\r\n              }}\r\n              name={ \"AutoScale\" }\r\n            />*/\r\n          )\r\n          /*series.push(\r\n            <VictoryScatter key={\"Sca_AutoScale\"}\r\n              data={ DataSet2 }\r\n              size={3}\r\n              style={{data: { stroke: \"#000\", strokeWidth: 0.5, fill: color},}}\r\n              name={ \"none\" }\r\n            />\r\n          )*/\r\n        }\r\n      }\r\n    }\r\n    //console.log(series)\r\n    var Domain = this.getEntireDomain(series)\r\n    return { FarmData, ValveData, ScaleData, categories, series, Domain }\r\n  }\r\n\r\n  getData() {\r\n    const localDataStore = this.props.firebase.localDataStore;\r\n    const FirebaseUser = this.props.firebase.firebaseUser;\r\n\r\n    this.props.getFarm()\r\n\r\n    /*if (FirebaseUser && FirebaseUser.farms && localDataStore && localDataStore.farms) { \r\n      const FarmsData = localDataStore.farms\r\n      if (FarmsData && FarmsData[Object.keys(FirebaseUser.farms)[0]]) {\r\n        const FarmData = FarmsData[Object.keys(FirebaseUser.farms)[0]]\r\n        if (FarmData.site && FarmData.refToken) {\r\n          this.props.getAutoPig()\r\n        }\r\n      }\r\n    }*/\r\n  }\r\n\r\n  checkData(props) {\r\n    const localDataStore = this.props.firebase.localDataStore;\r\n    const FirebaseUser = this.props.firebase.firebaseUser;\r\n\r\n    //THIS check is used many times and in future wil be unnessasary as this page is not shown unless all is true\r\n    //Can provoke loopback pages..\r\n    if (FirebaseUser && FirebaseUser.farms && localDataStore && localDataStore.farms) { \r\n      const FarmsData = localDataStore.farms\r\n      if (FarmsData && FarmsData[Object.keys(FirebaseUser.farms)[0]]) {\r\n        const FarmData = FarmsData[Object.keys(FirebaseUser.farms)[0]]\r\n        if (!FarmData.site || !FarmData.refToken) {\r\n          NavigationService.nacigationPop()\r\n        }\r\n      }\r\n    }\r\n  }\r\n\r\n  componentDidUpdate(prevProps, prevState) {\r\n    if (this.props !== prevProps) {\r\n      this.checkData(this.props);\r\n      if (this.props.firebase.localDataStore && prevProps.firebase.localDataStore) {\r\n        const localDataStore = this.props.firebase.localDataStore;\r\n        const firebaseUser = this.props.firebase.firebaseUser\r\n        \r\n        if (localDataStore.farms && firebaseUser.farms && localDataStore.farms[Object.keys(firebaseUser.farms)[0]]) {\r\n          var Farm = localDataStore.farms[Object.keys(firebaseUser.farms)[0]]\r\n          if ((this.state.FarmData.site !== Farm.site || this.state.FarmData.refToken !== Farm.refToken || this.state.FarmData.token !== Farm.token) ||\r\n              (localDataStore.consys && localDataStore.consys.scaleData && JSON.stringify(this.state.ScaleData) !== JSON.stringify(localDataStore.consys.scaleData)) ||\r\n              (localDataStore.consys && localDataStore.consys.feedData && JSON.stringify(this.state.ValveData) !== JSON.stringify(localDataStore.consys.feedData))) {\r\n           \r\n            var { FarmData, ValveData, ScaleData, categories, series, Domain } = this.setData(this.props)\r\n            console.log(ValveData, ScaleData)\r\n            this.setState({\r\n              FarmData: FarmData,\r\n              ValveData: ValveData,\r\n              ScaleData: ScaleData,\r\n\r\n              categories:categories,\r\n              series:series,\r\n              \r\n              entireDomain: Domain,\r\n              zoomedDomain: Domain\r\n            })\r\n          }\r\n        }\r\n      }\r\n    }\r\n  }\r\n\r\n  componentDidMount() {\r\n    this.props.setViewLoading(false)\r\n    this.props.setViewError(null)\r\n    this.checkData(this.props);\r\n    this.getData();\r\n  }\r\n\r\n  getEntireDomain(series) {\r\n    var MinMax = {y:[0,0], x: [0,0]}\r\n    series.forEach(element => {\r\n      var data = element.data\r\n      var min = _.minBy(data, d => d.y).y\r\n      var max = _.maxBy(data, d => d.y).y\r\n      if (min < MinMax.y[0]) MinMax.y[0] = min\r\n      if (max > MinMax.y[1]) MinMax.y[1] = max\r\n      min = _.minBy(data, d => d.x).x\r\n      max = _.maxBy(data, d => d.x).x\r\n      if (min < MinMax.x[0] || MinMax.x[0] === 0) MinMax.x[0] = min\r\n      if (max > MinMax.x[1]) MinMax.x[1] = max\r\n    })\r\n    return MinMax\r\n  }\r\n\r\n  getZoomDomain(){\r\n    const zoomedXDomain = this.state.zoomedDomain.x;\r\n    const Serie = this.state.series;\r\n    const maxPoints = 150;\r\n\r\n    const filteredSeries = [];\r\n    Serie.forEach(element => {\r\n      var filtered = []\r\n      if (element.type === \"Line\") {\r\n        var last = null;\r\n        element.data.forEach(data => {\r\n          if (data.x >= zoomedXDomain[0]) {\r\n            if (data.x <= zoomedXDomain[1]) {\r\n              if (filtered.length === 0 && last !== null) filtered.push(last)\r\n              filtered.push(data)\r\n            } else if (last.x <= zoomedXDomain[1]) filtered.push(data)\r\n          }\r\n          last = data\r\n        })\r\n      } else {\r\n        filtered = element.data.filter(\r\n          (d) => (d.x >= zoomedXDomain[0] && d.x <= zoomedXDomain[1])\r\n        );\r\n      }\r\n      /*if (filtered.length > maxPoints ) {\r\n        const k = Math.ceil(filtered.length / maxPoints);\r\n        return filtered.filter(\r\n          (d, i) => ((i % k) === 0)\r\n        );\r\n      }*/\r\n      if (filtered.length > 0) filteredSeries.push({...element, data: filtered})\r\n    });\r\n    return filteredSeries;\r\n  }\r\n\r\n  onDomainChange(domain) {\r\n  \tthis.setState({\r\n    \tzoomedDomain: domain,\r\n    });\r\n  }\r\n\r\n  render() {\r\n    const IsLoading = this.props.firebase.firebaseIsLoading\r\n    const ErrorMessage = this.props.firebase.viewError\r\n\r\n    const localDataStore = this.props.firebase.localDataStore\r\n\r\n    var Token = (this.state.FarmData.token)?this.state.FarmData.token:null\r\n    var test = \"\"\r\n\r\n    const renderData = this.getZoomDomain();\r\n    const Legends = [this.state.zoomedDomain.x[0]]\r\n    while(Legends[Legends.length-1] < this.state.zoomedDomain.x[1]){\r\n      Legends.push(Legends[Legends.length-1] + 3600000)\r\n    }\r\n\r\n    return(\r\n      <ScrollView style={[Helpers.fullSize, Helpers.fill]}>\r\n        <View\r\n          style={[\r\n            Helpers.mainContainer,\r\n          ]}\r\n        >\r\n          <View style={[Helpers.contentContainer, Helpers.fullSize, Helpers.fill]}>\r\n            {ErrorMessage ? (\r\n              <Text style={ApplicationStyles.error}>{ErrorMessage}</Text>\r\n            ):(<></>)}\r\n            <TitleElement Text={\"AutoPigs\"}/>\r\n            <View>\r\n              <View style={[Helpers.rowCenter]}>\r\n                <Input label=\"SysId\"\r\n                  containerStyle={[{maxWidth:100}]}\r\n                  style={[ApplicationStyles.input,{maxWidth:90}]}\r\n                  onChangeText={text => {\r\n                    if (!isNaN(text)) {\r\n                      this.setState({\r\n                        SysId:text\r\n                      })\r\n                    }\r\n                  }}\r\n                  value={this.state.SysId}\r\n                />\r\n                <Input label=\"Data Limit\"\r\n                  containerStyle={[{maxWidth:150}]}\r\n                  style={[ApplicationStyles.input,{maxWidth:140}]}\r\n                  onChangeText={text => {\r\n                    if (!isNaN(text) || text === \"\") {\r\n                      if (text === \"\") text = undefined\r\n                      this.setState({\r\n                        Limit:text\r\n                      })\r\n                    }\r\n                  }}\r\n                  value={this.state.Limit}\r\n                />\r\n                <Input label=\"LastId (Ids newer than)\"\r\n                  containerStyle={[{maxWidth:200}]}\r\n                  style={[ApplicationStyles.input,{maxWidth:190}]}\r\n                  onChangeText={text => {\r\n                    if (text === \"\") text = undefined\r\n                    if (text) {\r\n                      //if (DataStringCheck(text)){\r\n                        this.setState({LastId:text})\r\n                      //}\r\n                    }else {\r\n                      this.setState({LastId:text})\r\n                    }\r\n                  }}\r\n                  value={this.state.LastId}\r\n                />\r\n              </View>\r\n              <View style={[Helpers.rowCenter]}>\r\n                <Input label=\"Start Time : Epoch-sec (newest)\"\r\n                  containerStyle={[Helpers.halvWidth]}\r\n                  style={[ApplicationStyles.input]}\r\n                  onChangeText={text => {\r\n                    if (text === \"\") {\r\n                      this.setState({\r\n                        STime:undefined\r\n                      })\r\n                    }\r\n                    else if (!isNaN(text)) {\r\n                      this.setState({\r\n                        STime:text\r\n                      })\r\n                    }\r\n                  }}\r\n                  value={this.state.STime}\r\n                />\r\n                <Input label=\"End Time : Epoch-sec (oldest)\"\r\n                  containerStyle={[Helpers.halvWidth]}\r\n                  style={[ApplicationStyles.input]}\r\n                  onChangeText={text => {\r\n                    if (text === \"\") {\r\n                      this.setState({\r\n                        ETime:undefined\r\n                      })\r\n                    }\r\n                    else if (!isNaN(text)) {\r\n                      this.setState({\r\n                        ETime:text\r\n                      })\r\n                    }\r\n                  }}\r\n                  value={this.state.ETime}\r\n                />\r\n              </View>\r\n              <View style={[Helpers.rowCenter]}>\r\n                <Button Text=\"Fetch Scale_Data\"\r\n                  onPress={() => {\r\n                    this.props.getAutoPig(this.state.Limit, this.state.SysId, this.state.STime, this.state.ETime, null, this.state.LastId)\r\n                  }}/>\r\n                <View style={{width:20}}/>\r\n                <Button Text=\"Fetch Valve_Data\"\r\n                  onPress={() => {\r\n                    this.props.getValveFeed(this.state.Limit, this.state.SysId, this.state.STime, this.state.ETime, null, this.state.LastId)\r\n                  }}/>\r\n              </View>\r\n            </View>\r\n            <SafeAreaView style={[Helpers.borderContainer, Helpers.fullSize, {maxWidth:900, maxHeight:650}]}>\r\n              <VictoryChart\r\n                scale={{ x: \"time\" }}\r\n                containerComponent={\r\n                  <VictoryZoomVoronoiContainer voronoiDimension=\"x\"\r\n                    zoomDimension=\"x\"\r\n                    mouseFollowTooltips\r\n                    onZoomDomainChange={this.onDomainChange.bind(this)}\r\n                    labels={({ datum }) => {\r\n                      if (datum.childName === \"none\") return;\r\n                      var DateTime = new Date(datum.x)\r\n                      var format = DateTime.getDate() + \"/\" + DateTime.getMonth() + \"/\" + DateTime.getFullYear() + \" \" + + (\"0\" + DateTime.getHours()).slice(-2) + \":\" + (\"0\" + DateTime.getMinutes()).slice(-2)\r\n                      if (datum.silono || datum.unit){\r\n                        var add = \"\\n\"\r\n                        if (datum.silono) add += 'Silo: ' + datum.silono + ' '\r\n                        if (datum.unit) add += 'Unit: ' + datum.unit\r\n                        return datum.childName + ' y: ' + datum.y + add + \"\\n\" + format\r\n                      }\r\n                      else return datum.childName + ' y: ' + datum.y + \"\\n\" + format\r\n                    }}\r\n                    labelComponent={<VictoryTooltip cornerRadius={0} flyoutStyle={{fill: \"white\"}}/>}\r\n                  />\r\n                }\r\n                width={900}\r\n                height={600}\r\n                domain={this.state.entireDomain}\r\n                theme={VictoryTheme.material} \r\n              >\r\n                <VictoryAxis crossAxis={false}\r\n                  scale={{ x: \"time\" }}\r\n                  tickCount={8}\r\n                  minDomain={{ x: 1 , y: 0}}\r\n                  tickFormat={(t) => {\r\n                    var DateTime = new Date(t)\r\n                    var format = DateTime.getDate() + \"/\" + DateTime.getMonth() + \"/\" + DateTime.getFullYear() + \" \" + (\"0\" + DateTime.getHours()).slice(-2) + \":\" + (\"0\" + DateTime.getMinutes()).slice(-2)\r\n                    if (test === format) return;\r\n                    else test = format\r\n                    return format\r\n                  }}\r\n                  theme={VictoryTheme.material}\r\n                  standalone={false}\r\n                  fixLabelOverlap\r\n                  tickValues={Legends}\r\n                  style={{\r\n                    grid: { stroke: \"#818e99\", strokeWidth: 0.5 },\r\n                  }}\r\n                />\r\n                <VictoryAxis dependentAxis crossAxis={false}\r\n                  tickCount={20}\r\n                  minDomain={{ x: 0 , y: 0}}\r\n                  tickFormat={(t) => {\r\n                    return Math.round(t * 10) / 10\r\n                  }}\r\n                  theme={VictoryTheme.material}\r\n                  standalone={false}\r\n                  style={{\r\n                    grid: { stroke: \"#818e99\", strokeWidth: 0.5 },\r\n                  }}\r\n                />\r\n                {renderData.map((Data, i) => {\r\n                  if (Data.type === \"Bar\"){\r\n                    return (<VictoryBar key={\"Bar_\" + Data.name}\r\n                      barWidth={ 6 }\r\n                      data={ Data.data }\r\n                      style={{data: { fill: Data.color},}}\r\n                      name={ 'valve: ' + Data.name }\r\n                    />);\r\n                  } else if (Data.type === \"Line\"){\r\n                    return (<VictoryLine key={\"Line_\" + Data.name}\r\n                      data={ Data.data }\r\n                      style={{\r\n                        data: { stroke: Data.color, strokeWidth: ({ active }) => active ? 2 : 1},\r\n                      }}\r\n                      name={ Data.name }\r\n                    />);\r\n                  }\r\n                })}\r\n              </VictoryChart>\r\n            </SafeAreaView>\r\n          </View>\r\n          {(IsLoading || this.props.firebase.viewIsLoading) &&\r\n            <ActivityIndicator style={Helpers.loadingContainer} size='large' />\r\n          }\r\n        </View>\r\n      </ScrollView>\r\n    )\r\n  }\r\n}\r\n//<CurveElement Display={true} DataPoints={DataSet} Height={600} Width={1250}/>\r\n//<Chart options={this.state.options} series={this.state.series} width={1240} height={700} />\r\n\r\nconst mapStateToProps = (state) => {\r\n  const { firebase } = state\r\n  return { firebase }\r\n};\r\n\r\nconst mapDispatchToProps  = (dispatch) => {\r\n  return {\r\n    setViewLoading: state => dispatch(FirebaseActions.viewIsLoading(state)),\r\n    setViewError: error => dispatch(FirebaseActions.setViewError(error)),\r\n    \r\n    getFarm: () => dispatch(FirebaseActions.actionStarting(Actions.FETCH, DataRefs.FARMS, {})),\r\n    getValveFeed: (limit, sysId, start, stop, offset, lastId) => dispatch(FirebaseActions.actionStarting(ConsysRefs.VALVEFEED, DataRefs.CONSYS, {limit:limit, sysId:sysId, start:start, stop:stop, offset:offset, lastId:lastId})),\r\n    getAutoPig: (limit, sysId, start, stop, offset, lastId) => dispatch(FirebaseActions.actionStarting(ConsysRefs.SCALE, DataRefs.CONSYS, {limit:limit, sysId:sysId, start:start, stop:stop, offset:offset, lastId:lastId})),\r\n  }\r\n};\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(AutoPig);\r\n//export default AutoPig;","import React, { useEffect, Component } from 'react'\r\nimport { Text, View, ActivityIndicator, ScrollView } from 'react-native'\r\nimport { useDispatch, useSelector, connect } from 'react-redux'\r\nimport { bindActionCreators } from 'redux';\r\n\r\nimport NavigationService from '../../../Services/NavigationService'\r\n\r\nimport FirebaseActions from '../../../Stores/Firebase/Actions'\r\nimport { Actions, DataRefs, sortObject } from '../../../Stores/Firebase/Selectors'\r\n\r\nimport { Button, OperationsPanel } from '../../../Components'\r\nimport Style from './UserPanelStyle'\r\nimport { ApplicationStyles, Helpers, Metrics } from '../../../Theme'\r\n\r\nclass Operations extends Component {\r\n  constructor(props){\r\n    super(props);\r\n\r\n    this.state = {\r\n    }\r\n  }\r\n\r\n  getData() {\r\n    this.props.setCurrentData({})\r\n  }\r\n\r\n  checkData(props) {\r\n  }\r\n\r\n  componentDidMount() {\r\n    this.props.setViewLoading(false)\r\n    this.props.setViewError(null)\r\n    this.checkData(this.props);\r\n    this.getData();\r\n  }\r\n\r\n  componentDidUpdate(prevProps, prevState) {\r\n  }\r\n\r\n  render() {\r\n    const IsLoading = this.props.firebase.firebaseIsLoading\r\n    const ErrorMessage = this.props.firebase.viewError\r\n\r\n    return(\r\n      <View\r\n        style={[\r\n          Helpers.mainContainer,\r\n        ]}\r\n      >\r\n        <View style={[Helpers.contentContainer, Helpers.fullSize, Helpers.fill]}>\r\n          {ErrorMessage ? (\r\n            <Text style={ApplicationStyles.error}>{ErrorMessage}</Text>\r\n          ):(<></>)}\r\n          <View style={[Helpers.buttonContainer, Helpers.midWidth, Metrics.bottomMargin, {marginBottom:60}] }>\r\n          </View>\r\n\r\n          <View style={[Helpers.buttonContainer, Helpers.halvWidth, Helpers.fillColMain]}>\r\n            <OperationsPanel section={true}/>\r\n          </View>\r\n        </View>\r\n        {(IsLoading || this.props.firebase.viewIsLoading) &&\r\n          <ActivityIndicator style={Helpers.loadingContainer} size='large' />\r\n        }\r\n      </View>\r\n    )\r\n  }\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n  const { firebase } = state\r\n  return { firebase }\r\n};\r\n\r\nconst mapDispatchToProps  = (dispatch) => {\r\n  return {\r\n    setViewLoading: state => dispatch(FirebaseActions.viewIsLoading(state)),\r\n    setViewError: error => dispatch(FirebaseActions.setViewError(error)),\r\n\r\n    setCurrentData: actionType => dispatch(FirebaseActions.setCurrentData({type:DataRefs.PENS, action: actionType})),\r\n  }\r\n};\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(Operations);\r\n//export default Operations;\r\n","import React, { useEffect, Component } from 'react'\r\nimport { Text, View, ActivityIndicator, Picker } from 'react-native'\r\nimport { Input } from 'react-native-elements'\r\nimport { useDispatch, useSelector, connect } from 'react-redux'\r\nimport { bindActionCreators } from 'redux';\r\n\r\nimport NavigationService from '../../../Services/NavigationService'\r\n\r\nimport FirebaseActions from '../../../Stores/Firebase/Actions'\r\nimport { Actions, DataRefs, sortObject } from '../../../Stores/Firebase/Selectors'\r\n\r\nimport { Button, Datetime_Picker } from '../../../Components'\r\nimport Style from '../CloudScreenStyle'\r\nimport { ApplicationStyles, Helpers, Metrics, Colors } from '../../../Theme'\r\n\r\nclass Weighing extends Component {\r\n  constructor(props){\r\n    super(props);\r\n\r\n    const {Sections, Section, Pens, Pen, quantity} = this.setData(this.props)\r\n    this.state = {\r\n      Sections: Sections,\r\n      Section: Section,\r\n\r\n      Pens: Pens,\r\n      Pen: Pen,\r\n      weight: \"\",\r\n      quantity: quantity,\r\n      date: new Date().getTime()\r\n    }\r\n  }\r\n\r\n  getData() {\r\n    const localDataStore = this.props.firebase.localDataStore;\r\n    if (!localDataStore.sections) localDataStore.sections = {}\r\n    this.props.getSections(localDataStore.sections.update_time)\r\n  }\r\n\r\n  setData(Props) {\r\n    //Set Sections\r\n    const localDataStore = Props.firebase.localDataStore;\r\n    var Sections = false;\r\n    if (localDataStore && localDataStore.sections && localDataStore.sections !== Sections) {\r\n      Sections = sortObject(localDataStore.sections)\r\n    }\r\n\r\n    //Set Section\r\n    const CurrentData = Props.firebase.currentData;\r\n    var Section = Sections? Object.keys(Sections)[0] : \"\"\r\n    if (CurrentData && CurrentData.data && CurrentData.data.section && Sections[CurrentData.data.section]) {\r\n      if (CurrentData.data.section != Section) {\r\n        Section = CurrentData.data.section\r\n      }\r\n    }\r\n\r\n    //Pens & Pen\r\n    var Pens = Sections? sortObject(Sections[Section].pens): {}\r\n    var Pen = Sections? Object.keys(Pens)[0]: \"\"\r\n    if (CurrentData && CurrentData.penId && Pens[CurrentData.penId] && CurrentData.penId != Pen){\r\n      Pen = CurrentData.penId\r\n    }\r\n    var quantity = 1\r\n    if (localDataStore && localDataStore.pens) {\r\n      var _Pen = localDataStore.pens[Pen]\r\n      if (_Pen && _Pen.datas && _Pen.datas.count) quantity = _Pen.datas.count\r\n    }\r\n\r\n    if (!Sections) Sections = {}\r\n    return {Sections, Section, Pens, Pen, quantity}\r\n  }\r\n\r\n  checkData(props) {\r\n  }\r\n\r\n  componentDidMount() {\r\n    this.props.setViewLoading(false)\r\n    this.props.setViewError(null)\r\n    this.checkData(this.props);\r\n    this.getData();\r\n  }\r\n\r\n  componentDidUpdate(prevProps, prevState) {\r\n    if (this.props !== prevProps){\r\n      this.checkData(this.props);\r\n\r\n      if (this.props.firebase.localDataStore) {\r\n        if (this.props.firebase.localDataStore.sections && JSON.stringify(this.state.Sections)!==JSON.stringify(sortObject(this.props.firebase.localDataStore.sections))) {\r\n\r\n          const {Sections, Section, Pens, Pen, quantity} = this.setData(this.props)\r\n\r\n          this.setState({\r\n            Sections: Sections,\r\n            Section: Section,\r\n            Pens: Pens,\r\n            Pen: Pen,\r\n\r\n            quantity: quantity,\r\n            weight: \"\",\r\n          })\r\n        }\r\n      }\r\n    }\r\n  }\r\n\r\n  render() {\r\n    const IsLoading = this.props.firebase.firebaseIsLoading\r\n    const ErrorMessage = this.props.firebase.viewError\r\n\r\n    const localDataStore = this.props.firebase.localDataStore\r\n\r\n    return(\r\n      <View\r\n      style={[\r\n        Helpers.mainContainer,\r\n      ]}\r\n      >\r\n        <View style={[Helpers.contentContainer, Helpers.fullSize, Helpers.fill]}>\r\n          {ErrorMessage ? (\r\n            <Text style={ApplicationStyles.error}>{ErrorMessage}</Text>\r\n          ):(<></>)}\r\n          <View style={[Helpers.contentContainer, Helpers.fullSize, Helpers.fill]}>\r\n            <View style={[Helpers.buttonContainer, Helpers.midWidth, Metrics.bottomMargin] }>\r\n              <Button Text=\"Weighing\" buttonStyle={{backgroundColor: Colors.AgriDarkblue}}\r\n                onPress={() => {} }/>\r\n            </View>\r\n            \r\n            <View style={[Helpers.borderContainer, Helpers.fullWidth, {marginBottom:20}] }>\r\n              <Picker\r\n                mode=\"dropdown\"\r\n                selectedValue={this.state.Section}\r\n                style={{ height: 50, width: 150 }}\r\n                onValueChange={(itemValue, itemIndex) => {\r\n                  if (this.state.Sections[itemValue]){\r\n                    const Pens = sortObject(this.state.Sections[itemValue].pens)\r\n                    var quantity = 1\r\n                    if (localDataStore && localDataStore.pens) {\r\n                      var Pen = localDataStore.pens[Object.keys(Pens)[0]]\r\n                      if (Pen && Pen.datas && Pen.datas.count) quantity = Pen.datas.count\r\n                    }\r\n                    this.setState({\r\n                      Section: itemValue,\r\n                      Pens: Pens,\r\n                      Pen: Object.keys(Pens)[0],\r\n                      quantity: quantity,\r\n                    })\r\n                  }\r\n                }}\r\n              >\r\n                {Object.keys(this.state.Sections).map((Section, i) => {\r\n                    return (<Picker.Item label={Section} value={Section} key={i}/>)\r\n                })}\r\n              </Picker>\r\n\r\n              <Picker\r\n                mode=\"dropdown\"\r\n                selectedValue={this.state.Pen}\r\n                style={{ height: 50, width: 150 }}\r\n                onValueChange={(itemValue, itemIndex) => {\r\n                  var quantity = 1\r\n                  if (localDataStore && localDataStore.pens) {\r\n                    var Pen = localDataStore.pens[itemValue]\r\n                    if (Pen && Pen.datas && Pen.datas.count) quantity = Pen.datas.count\r\n                  }\r\n                  this.setState({\r\n                    quantity: quantity,\r\n                    Pen: itemValue\r\n                  })\r\n                }}\r\n              >\r\n                {Object.keys(this.state.Pens).map((Pen, i) => {\r\n                    return (<Picker.Item label={Pen} value={Pen} key={i}/>)\r\n                })}\r\n              </Picker>\r\n\r\n              <View style={[Helpers.fullWidth, {borderWidth:0 ,height: 65, marginTop:10, paddingHorizontal:5, paddingTop:0, borderRadius:0, alignItems:\"center\"}]}>\r\n                <View style={[Helpers.fullWidth, {alignItems:\"flex-start\"}]}>\r\n                  <Text style={[ApplicationStyles.text, {marginHorizontal:5, marginTop:2, color:Colors.input, fontSize: 15, fontWeight: \"bold\"}]}>Weight date:</Text>\r\n                </View>\r\n                <View style={[Helpers.fullWidth, {alignItems:'flex-start'}]}>\r\n                  <Datetime_Picker Selected={this.state.date}\r\n                      onValueChange={(date)=>{\r\n                        this.setState({\r\n                          date: date.getTime()\r\n                        })\r\n                    }}/>\r\n                </View>\r\n              </View>\r\n              \r\n              <Input\r\n                label=\"Animal quantity\"\r\n                style={{ ...Style.input}}\r\n                onChangeText={text => {\r\n                  if (!isNaN(text)){\r\n                    this.setState({\r\n                      quantity: text\r\n                    })\r\n                  }\r\n                }}\r\n                value={this.state.quantity}\r\n              />\r\n              <Input\r\n                label=\"Total Weight\"\r\n                style={{ ...Style.input}}\r\n                onChangeText={text => {\r\n                  this.setState({\r\n                    weight: text\r\n                  })\r\n                }}\r\n                value={this.state.weight}\r\n              />\r\n            </View>\r\n\r\n            <View style={[Helpers.buttonContainer, Helpers.midWidth] }>\r\n              <Button Text=\"Submit\"\r\n                onPress={() => {\r\n                  if (!this.state.Section){\r\n                    this.props.setViewError(\"A section is needed\")\r\n                  } else if (!this.state.Pen){\r\n                    this.props.setViewError(\"A pen is needed\")\r\n                  } else if (isNaN(this.state.quantity) || this.state.quantity === \"\" || this.state.quantity <= 0){\r\n                    this.props.setViewError(\"Quantity have to be a number bigger than 0\")\r\n                  } else if (isNaN(this.state.weight) || this.state.weight === \"\") {\r\n                    this.props.setViewError(\"Weight have to be a number\")\r\n                  }\r\n                  else {\r\n                    this.props.setViewLoading(true)\r\n                    this.props.setViewError(null)\r\n                    this.props.newWeight(this.state.Pen, parseFloat(this.state.weight), this.state.date, parseFloat(this.state.quantity))\r\n                    this.setState({\r\n                      weight: \"\",\r\n                      date: new Date().getTime()\r\n                    })\r\n                  }\r\n                } }/>\r\n            </View>\r\n          </View>\r\n        </View>\r\n        {(IsLoading || this.props.firebase.viewIsLoading) &&\r\n          <ActivityIndicator style={Helpers.loadingContainer} size='large' />\r\n        }\r\n      </View>\r\n    )\r\n  }\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n  const { firebase } = state\r\n  return { firebase }\r\n};\r\n\r\nconst mapDispatchToProps  = (dispatch) => {\r\n  return {\r\n    setViewLoading: state => dispatch(FirebaseActions.viewIsLoading(state)),\r\n    setViewError: error => dispatch(FirebaseActions.setViewError(error)),\r\n\r\n    getSections: (DataTime) => dispatch(FirebaseActions.actionStarting(Actions.FETCH, DataRefs.SECTIONS, {DataTime: DataTime})),\r\n    newWeight: (penId, weight, date, quantity) => dispatch(FirebaseActions.actionStarting(Actions.CREATE, DataRefs.WEIGHING, {PenId: penId, Weight:weight, Quantity:quantity, Date:date})),\r\n  }\r\n};\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(Weighing);\r\n//export default Weighing;","import React, { useEffect, Component } from 'react'\r\nimport { Text, View, ActivityIndicator, Image, StyleSheet, ScrollView, Picker } from 'react-native'\r\nimport { Input } from 'react-native-elements'\r\nimport { useDispatch, useSelector, connect } from 'react-redux'\r\nimport { bindActionCreators } from 'redux';\r\n\r\nimport NavigationService from '../../../Services/NavigationService'\r\n\r\nimport FirebaseActions from '../../../Stores/Firebase/Actions'\r\nimport { Actions, DataRefs, sortObject, DataStringCheck } from '../../../Stores/Firebase/Selectors'\r\n\r\nimport { Button, TitleElement } from '../../../Components'\r\nimport Style from '../../../Containers/Cloud/CloudScreenStyle'\r\nimport { ApplicationStyles, Helpers, Metrics, Colors } from '../../../Theme'\r\n\r\nclass DataEditor extends Component {\r\n  constructor(props){\r\n    super(props);\r\n\r\n    const {Sections, Section, Pens, Pen} = this.setData(props)\r\n    this.state = {\r\n      Sections: Sections,\r\n      Section: Section,\r\n\r\n      Pens: Pens,\r\n      Pen: Pen,\r\n      NewSection: (Sections&&Object.keys(Sections).length > 0)?false:true,\r\n    }\r\n  }\r\n\r\n  getData() {\r\n    const localDataStore = this.props.firebase.localDataStore;\r\n    if (!localDataStore.sections) localDataStore.sections = {}\r\n    this.props.getSections(localDataStore.sections.update_time)\r\n  }\r\n\r\n  setData(Props) {\r\n    //Set Sections\r\n    const localDataStore = Props.firebase.localDataStore;\r\n    var Sections = false;\r\n    \r\n    if (localDataStore && localDataStore.sections && localDataStore.sections !== Sections) {\r\n      Sections = sortObject(localDataStore.sections)\r\n    }\r\n\r\n    //Set Section\r\n    const CurrentData = Props.firebase.currentData;\r\n    var Section = Sections? Object.keys(Sections)[0] : \"\"\r\n    if (CurrentData && CurrentData.data && CurrentData.data.section && Sections[CurrentData.data.section]) {\r\n      if (CurrentData.data.section != Section) {\r\n        Section = CurrentData.data.section\r\n      }\r\n    }\r\n\r\n    //Pens & Pen\r\n    var Pens = (Sections&&Sections[Section])? sortObject(Sections[Section].pens): {}\r\n    var Pen = Sections? Object.keys(Pens)[0]: \"\"\r\n    if (CurrentData && CurrentData.dataId && Pens[CurrentData.dataId] && CurrentData.dataId != Pen){\r\n      Pen = CurrentData.dataId\r\n    }\r\n\r\n    if (!Sections) Sections = {}\r\n    return {Sections, Section, Pens, Pen}\r\n  }\r\n\r\n  checkData(props) {\r\n  }\r\n\r\n  componentDidMount() {\r\n    this.props.setViewLoading(false)\r\n    this.props.setViewError(null)\r\n    this.checkData(this.props);\r\n    this.getData();\r\n  }\r\n\r\n  componentDidUpdate(prevProps, prevState) {\r\n    if (this.props !== prevProps){\r\n      this.checkData(this.props);\r\n\r\n      if (this.props.firebase)  {\r\n        if (this.props.firebase.localDataStore) {\r\n          if (this.props.firebase.localDataStore.sections && JSON.stringify(this.state.Sections)!==JSON.stringify(sortObject(this.props.firebase.localDataStore.sections))) {\r\n            \r\n            const {Sections, Section, Pens, Pen} = this.setData(this.props)\r\n\r\n            this.setState({\r\n              Sections: Sections,\r\n              Section: Section,\r\n              Pens: Pens,\r\n              Pen: Pen,\r\n              NewSection: (Sections&&Object.keys(Sections).length > 0)?false:true,\r\n            })\r\n          }\r\n        }\r\n        if (this.props.firebase.currentData) {\r\n          if (this.props.firebase.currentData != prevProps.firebase.currentData){\r\n            this.forceUpdate()\r\n          }\r\n        }\r\n      }\r\n    }\r\n  }\r\n\r\n  render() {\r\n    const IsLoading = this.props.firebase.firebaseIsLoading\r\n    const ErrorMessage = this.props.firebase.viewError\r\n\r\n    const localDataStore = this.props.firebase.localDataStore\r\n    const CurrentData = this.props.firebase.currentData\r\n\r\n    var DataView = (<View></View>);\r\n\r\n    switch(CurrentData.type){\r\n      case DataRefs.PENS:\r\n        DataView = PenEditor_View_Creator(this, CurrentData, localDataStore)\r\n        break;\r\n      case DataRefs.PIGS:\r\n        DataView = PigEditor_View_Creator(this, CurrentData, localDataStore)\r\n        break;\r\n    }\r\n\r\n    return(\r\n      <View\r\n      style={[\r\n        Helpers.mainContainer,\r\n      ]}\r\n      >\r\n        <View style={[Helpers.contentContainer, Helpers.fullSize, Helpers.fill]}>\r\n          {ErrorMessage ? (\r\n            <Text style={ApplicationStyles.error}>{ErrorMessage}</Text>\r\n          ):(<></>)}\r\n          {DataView}\r\n        </View>\r\n        {(IsLoading || this.props.firebase.viewIsLoading) &&\r\n          <ActivityIndicator style={Helpers.loadingContainer} size='large' />\r\n        }\r\n      </View>\r\n    )\r\n  }\r\n}\r\n\r\nconst PenEditor_View_Creator = (Control, CurrentData, localDataStore) => {\r\n  var Sections = Control.state.Sections;\r\n  if (CurrentData.action === Actions.CREATE) {\r\n    Sections[\"New Section\"] = {}\r\n  }\r\n\r\n  return(\r\n    <View style={[Helpers.contentContainer, Helpers.fullSize, Helpers.fill]}>\r\n      <PenEditor_Titles CurrentAction={CurrentData.action}/>\r\n      \r\n      <View style={ [Helpers.borderContainer, Helpers.midWidth, {marginBottom:20}] }>\r\n        <Section_Picker Control={Control} CurrentData={CurrentData} localDataStore={localDataStore}/>\r\n        {CurrentData.action === Actions.CREATE ?(\r\n          <Input\r\n            label=\"Pen name\"\r\n            style={{ ...Style.input}}\r\n            onChangeText={text => {\r\n              if (text){\r\n                if (DataStringCheck(text)){\r\n                  Control.setState({Pen: text})\r\n                }\r\n              }else {\r\n                Control.setState({Pen: text})\r\n              }\r\n            }}\r\n            value={Control.state.Pen}\r\n          />\r\n        ):(<></>)}\r\n        {CurrentData.action === Actions.DELETE ?(\r\n          <Picker\r\n            mode=\"dropdown\"\r\n            selectedValue={Control.state.Pen}\r\n            style={{ height: 50, width: 150 }}\r\n            onValueChange={(itemValue, itemIndex) => {\r\n              Control.setState({\r\n                Pen: itemValue\r\n              })\r\n            }}\r\n          >\r\n            {Object.keys(Control.state.Pens).map((Pen, i) => {\r\n                return (<Picker.Item label={Pen} value={Pen} key={i}/>)\r\n            })}\r\n          </Picker>\r\n        ):(<></>)}\r\n      </View>\r\n\r\n      {CurrentData.action === Actions.CREATE || CurrentData.action === Actions.DELETE ?(\r\n        <View style={[Helpers.buttonContainer, Helpers.midWidth] }>\r\n          <Button Text=\"Submit\"\r\n            onPress={() => {\r\n              if (!Control.state.Section || Control.state.Section === \"\"){\r\n                Control.props.setViewError(\"A section is needed\")\r\n              } else if (!Control.state.Pen || Control.state.Pen === \"\"){\r\n                Control.props.setViewError(\"A pen name is needed\")\r\n              } else if (!isNaN(Control.state.Section) || !isNaN(Control.state.Section[0])){\r\n                Control.props.setViewError(\"Section name cannot be or start with a number\")\r\n              } else if (!isNaN(Control.state.Pen) || !isNaN(Control.state.Pen[0])){\r\n                Control.props.setViewError(\"Pen name cannot be or start with a number\")\r\n              }\r\n              else {\r\n                var exists = false;\r\n\r\n                Object.keys(Control.state.Sections).map((section, i) => {\r\n                  if (Control.state.Sections[section].pens){\r\n                    var test = Object.keys(Control.state.Sections[section].pens).filter(e => e === Control.state.Pen).length\r\n                    if (test) exists = true\r\n                  }\r\n                })\r\n\r\n                if (exists && CurrentData.action === Actions.CREATE) {\r\n                  Control.props.setViewError(\"Given pen name already exists\")\r\n                } else if (!exists && CurrentData.action === Actions.DELETE){\r\n                  Control.props.setViewError(\"Cannot remove non-existing pen\")\r\n                }\r\n                else {\r\n                  Control.props.setViewError(null)\r\n                  Control.props.setViewLoading(true)\r\n                  Control.props.penAction(CurrentData.action, Control.state.Section, Control.state.Pen)\r\n                  NavigationService.navigate(\"UserOperations\")\r\n                }\r\n              }\r\n            } }/>\r\n        </View>\r\n      ):(<></>)}\r\n    </View>\r\n  )\r\n}\r\n\r\nconst PenEditor_Titles = (props) => {\r\n  switch(props.CurrentAction) {\r\n    case Actions.CREATE:\r\n      return(\r\n        <TitleElement Text={\"Add Pen\"}/>\r\n      )\r\n    case Actions.DELETE:\r\n      return(\r\n        <TitleElement Text={\"Remove Pen\"}/>\r\n      )\r\n    default:\r\n      return(<></>)\r\n  }\r\n}\r\n\r\nconst PigEditor_View_Creator = (Control, CurrentData, localDataStore) => {\r\n  var Sections = Control.state.Sections;\r\n  if (CurrentData.action === Actions.CREATE) {\r\n    //Sections[\"New Section\"] = {}\r\n  }\r\n\r\n  return(\r\n    <View style={[Helpers.contentContainer, Helpers.fullSize, Helpers.fill]}>\r\n      <TitleElement Text={\"Add Pig: \" + CurrentData.pigtag}/>\r\n      \r\n      <View style={ [Helpers.borderContainer, Helpers.midWidth, {marginBottom:20}] }>\r\n        <Section_Picker Control={Control} CurrentData={CurrentData} localDataStore={localDataStore}/>\r\n        {Control.state.NewSection?(\r\n        <Input\r\n          label=\"Pen name\"\r\n          style={{ ...Style.input}}\r\n          onChangeText={text => {\r\n            if (text){\r\n              if (DataStringCheck(text)){\r\n                Control.setState({Pen: text})\r\n              }\r\n            }else {\r\n              Control.setState({Pen: text})\r\n            }\r\n          }}\r\n          value={Control.state.Pen}\r\n        />\r\n        ):(\r\n          <Picker\r\n            mode=\"dropdown\"\r\n            selectedValue={Control.state.Pen}\r\n            style={{ height: 50, width: 150 }}\r\n            onValueChange={(itemValue, itemIndex) => {\r\n              Control.setState({\r\n                Pen: itemValue\r\n              })\r\n            }}\r\n          >\r\n            {Object.keys(Control.state.Pens).map((Pen, i) => {\r\n                return (<Picker.Item label={Pen} value={Pen} key={i}/>)\r\n            })}\r\n          </Picker>\r\n        )}\r\n        {CurrentData.action === Actions.CREATE?(\r\n        <View style={[Helpers.buttonContainer, Helpers.midWidth] }>\r\n          <Button Text=\"Submit\"\r\n            onPress={() => {\r\n              if (!Control.state.Section || Control.state.Section === \"\"){\r\n                Control.props.setViewError(\"A section is needed\")\r\n              } else if (!Control.state.Pen || Control.state.Pen === \"\"){\r\n                Control.props.setViewError(\"A pen name is needed\")\r\n              } else if (!isNaN(Control.state.Section) || !isNaN(Control.state.Section[0])){\r\n                Control.props.setViewError(\"Section name cannot be or start with a number\")\r\n              } else if (!isNaN(Control.state.Pen) || !isNaN(Control.state.Pen[0])){\r\n                Control.props.setViewError(\"Pen name cannot be or start with a number\")\r\n              }\r\n              else {\r\n                var exists = false;\r\n\r\n                Object.keys(Control.state.Sections).map((section, i) => {\r\n                  if (Control.state.Sections[section].pens){\r\n                    var test = Object.keys(Control.state.Sections[section].pens).filter(e => e === Control.state.Pen).length\r\n                    if (test) exists = true\r\n                  }\r\n                })\r\n\r\n                if (exists && CurrentData.action === Actions.CREATE && Control.state.NewSection) {\r\n                  Control.props.setViewError(\"Given pen name already exists\")\r\n                } else {\r\n                  Control.props.setViewLoading(true)\r\n                  Control.props.setViewError(null)\r\n                  Control.props.pigAction(CurrentData.action, CurrentData.pigtag, Control.state.Pen)\r\n                  NavigationService.navigate(\"UserPigs\")\r\n                }\r\n              }\r\n            } }/>\r\n        </View>\r\n      ):(<></>)}\r\n      </View>\r\n    </View>\r\n  )\r\n}\r\n\r\nconst Section_Picker = ({Control, CurrentData, localDataStore}) => {\r\n  if (Control.state.NewSection && CurrentData.action === Actions.CREATE){\r\n    return(\r\n      <Input\r\n        label=\"Section Name\"\r\n        style={{ ...Style.input}}\r\n        onChangeText={text => {\r\n          if (text){\r\n            if (DataStringCheck(text)){\r\n              Control.setState({Section: text})\r\n            }\r\n          }else {\r\n            Control.setState({Section: text})\r\n          }\r\n        }}\r\n        value={Control.state.Section}\r\n      />\r\n    )\r\n  } else {\r\n    return(\r\n      <Picker\r\n        mode=\"dropdown\"\r\n        selectedValue={Control.state.Section}\r\n        style={{ height: 50, width: 150 }}\r\n        onValueChange={(itemValue, itemIndex) => {\r\n          var Section = itemValue\r\n          var NewSection = Control.state.NewSection\r\n          var Pens = Control.state.Pens\r\n          var Pen = Control.state.Pen\r\n\r\n          if (itemValue === \"New Section\"){\r\n            NewSection = true;\r\n            Section = \"Section_\" + Object.keys(Control.state.Sections).length\r\n          } else {\r\n            Pens = sortObject(Control.state.Sections[itemValue].pens)\r\n            \r\n            if (CurrentData.action === Actions.DELETE){\r\n              Pen = Object.keys(Pens)[Object.keys(Pens).length-1]\r\n            }\r\n            else {\r\n              if (CurrentData.type == DataRefs.PIGS){\r\n                Pen = Object.keys(Pens)[0]\r\n              }else {\r\n                Pen = \"Pen_\" + (Object.keys(Pens).length +1)\r\n              }\r\n            }\r\n          }\r\n          \r\n          Control.setState({\r\n            Section: Section,\r\n            NewSection: NewSection,\r\n            Pens: Pens,\r\n            Pen: Pen,\r\n          })\r\n        }}>\r\n        {Object.keys(Control.state.Sections).map((Section, i) => {\r\n            return (<Picker.Item label={Section} value={Section} key={i}/>)\r\n        })}\r\n      </Picker>\r\n    )\r\n  }\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n  const { firebase } = state\r\n  return { firebase }\r\n};\r\n\r\nconst mapDispatchToProps  = (dispatch) => {\r\n  return {\r\n    setFirebaseError: error => dispatch(FirebaseActions.setFirebaseError(error)),\r\n    setViewLoading: state => dispatch(FirebaseActions.viewIsLoading(state)),\r\n    setViewError: error => dispatch(FirebaseActions.setViewError(error)),\r\n\r\n    getSections: (DataTime) => dispatch(FirebaseActions.actionStarting(Actions.FETCH, DataRefs.SECTIONS, {DataTime: DataTime})),\r\n    penAction: (action, senctionId, penId) => dispatch(FirebaseActions.actionStarting(action, DataRefs.PENS, {SectionId:senctionId, PenId:penId})),\r\n    pigAction: (action, tagId, penId,) => dispatch(FirebaseActions.actionStarting(action, DataRefs.PIGS, {TagId:tagId, PenId:penId})),\r\n  }\r\n};\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(DataEditor);\r\n//export default DataEditor;\r\n","import React, { useEffect, Component } from 'react'\r\nimport { Platform, Text, View, ActivityIndicator, Image, StyleSheet, ScrollView, FlatList } from 'react-native'\r\nimport { useDispatch, useSelector, connect } from 'react-redux'\r\nimport { bindActionCreators } from 'redux';\r\nimport { Icon, Input } from 'react-native-elements'\r\n\r\nimport NavigationService from '../../../Services/NavigationService'\r\n\r\nimport DeviceActions from '../../../Stores/Device/Actions'\r\nimport { ConnectionState } from '../../../Stores/Device/Selectors'\r\n\r\nimport FirebaseActions from '../../../Stores/Firebase/Actions'\r\nimport { Actions, DataRefs, sortObject, format_Time } from '../../../Stores/Firebase/Selectors'\r\n\r\nimport { Button, Button_Panel, ContentProp, OperationsPanel } from '../../../Components'\r\nimport DataDisplay_Pens from './DataDisplay_Pens'\r\nimport DataDisplay_Pigs from './DataDisplay_Pigs'\r\n\r\nimport { ApplicationStyles, Helpers, Metrics, Images, Colors } from '../../../Theme'\r\n\r\nclass DataDisplay extends Component {\r\n  constructor(props){\r\n    super(props);\r\n\r\n    this.state = {\r\n      currentData:{}\r\n    }\r\n  }\r\n\r\n  getData() {\r\n    if (this.props.firebase && this.props.firebase.localDataStore) {\r\n      const localDataStore = this.props.firebase.localDataStore\r\n      if (this.props.firebase.currentData && this.props.firebase.currentData.type){\r\n        const CurrentData = this.props.firebase.currentData;\r\n        switch(CurrentData.type){\r\n          case DataRefs.PIGS:\r\n            //this.props.getWeights()\r\n            break;\r\n        }\r\n      }\r\n    }\r\n  }\r\n\r\n  checkData(props) {\r\n  }\r\n\r\n  componentDidMount() {\r\n    this.props.setViewLoading(false)\r\n    this.props.setViewError(null)\r\n    this.checkData(this.props);\r\n    this.getData();\r\n  }\r\n\r\n  componentDidUpdate(prevProps, prevState) {\r\n    if (this.props !== prevProps){\r\n      this.checkData(this.props);\r\n\r\n      if (this.props.firebase.localDataStore) {\r\n        const localDataStore = this.props.firebase.localDataStore\r\n        if (this.props.firebase.currentData && this.props.firebase.currentData.type &&\r\n            JSON.stringify(this.state.currentData)!==JSON.stringify(this.props.firebase.currentData)) {\r\n          \r\n          const CurrentData = this.props.firebase.currentData;\r\n\r\n          switch(CurrentData.type){\r\n            case DataRefs.PENS:\r\n              if (localDataStore.pens) {\r\n                var Pens = sortObject(localDataStore.pens)\r\n                if (Pens[CurrentData.penId]){\r\n                  if (JSON.stringify(CurrentData.data)!==JSON.stringify(Pens[CurrentData.penId])){\r\n                    CurrentData.data = Pens[CurrentData.penId]\r\n                  }\r\n                  \r\n                  this.props.setCurrentDataElement(CurrentData)\r\n                }\r\n              }\r\n              this.setState({\r\n                currentData:CurrentData\r\n              })\r\n              break;\r\n            case DataRefs.PIGS:\r\n              this.setState({\r\n                currentData:CurrentData\r\n              })\r\n              break;\r\n            default:\r\n              this.setState({\r\n                currentData:CurrentData\r\n              })\r\n              break;\r\n          }\r\n        }\r\n      }\r\n    }\r\n  }\r\n\r\n  render() {\r\n    const IsLoading = this.props.firebase.firebaseIsLoading\r\n\r\n    const localDataStore = this.props.firebase.localDataStore\r\n    const ErrorMessage = this.props.firebase.viewError\r\n    const CurrentData = this.state.currentData\r\n\r\n    var DataView = (<View></View>);\r\n    switch(CurrentData.type){\r\n      case DataRefs.PENS:\r\n        DataView = (<DataDisplay_Pens currentData={this.state.currentData}/>)\r\n        break;\r\n      case DataRefs.PIGS:\r\n        DataView = PigData_View(this, CurrentData, localDataStore) //(<DataDisplay_Pigs currentData={this.state.currentData}/>)\r\n        break;\r\n    }\r\n\r\n    return(\r\n      <ScrollView style={[Helpers.fullSize, Helpers.fill]}>\r\n        <View\r\n          style={[\r\n            Helpers.mainContainer,\r\n          ]}\r\n        >\r\n          <View style={[Helpers.contentContainer, Helpers.fullSize, Helpers.fill]}>\r\n            {ErrorMessage ? (\r\n              <Text style={ApplicationStyles.error}>{ErrorMessage}</Text>\r\n            ):(<></>)}\r\n              {DataView}\r\n          </View>\r\n          \r\n          {(IsLoading || this.props.firebase.viewIsLoading) &&\r\n            <ActivityIndicator style={Helpers.loadingContainer} size='large' />\r\n          }\r\n        </View>\r\n      </ScrollView>\r\n    )\r\n  }\r\n}\r\n\r\nfunction onPageSwipe(Control, localDataStore, CurrentData, dir) {\r\n  const section = localDataStore.pens[CurrentData.penId].section\r\n  const Pens = sortObject(localDataStore.sections[section].pens)\r\n\r\n  if (CurrentData.type === DataRefs.PENS && CurrentData.data && Pens[CurrentData.penId]) {\r\n    var index = Object.keys(Pens).indexOf(CurrentData.penId)\r\n\r\n    switch (dir) {\r\n      case true: //forward\r\n        index = index +1\r\n        break;\r\n      case false: //backward\r\n        index = index -1\r\n        break;\r\n    }\r\n\r\n    if (index < 0) index = Object.keys(Pens).length - 1\r\n    else if (index >= Object.keys(Pens).length) index = 0\r\n\r\n    Control.props.setCurrentData(Object.keys(Pens)[index])\r\n    NavigationService.replace(\"DataDisplay\")\r\n  }\r\n}\r\n\r\nfunction onDataPress(sender, element){\r\n  switch(sender){\r\n    case 1:\r\n      switch(element.index){\r\n        case 0:\r\n          console.log(\"test\")\r\n          break;\r\n      }\r\n      break;\r\n  }\r\n}\r\n\r\nconst PigData_View = (Control, CurrentData, localDataStore) => {\r\n  /*const connectedDevice = useSelector((state) => state.device.connectedDevice)\r\n  const DeviceData = useSelector((state) => state.device.deviceData)\r\n  const connectedState = useSelector((state) => state.device.connectionState)*/\r\n\r\n  var Pigs;\r\n  if (localDataStore && localDataStore.pigs) {\r\n    Pigs = sortObject(localDataStore.pigs)\r\n    if (Pigs[CurrentData.TagId]){\r\n      CurrentData.data = Pigs[CurrentData.TagId]\r\n    }\r\n  }\r\n  \r\n  if (CurrentData.data && !CurrentData.data.datas) CurrentData.data.datas = {}\r\n\r\n  if (!CurrentData.data) {\r\n    return(\r\n      <View style={[Helpers.fillRowCenter, Helpers.center, Helpers.logoContainer]}>\r\n        <Image style={Helpers.fullSize} source={Images.Hexa_icon} resizeMode={'contain'} />\r\n      </View>\r\n    )\r\n  }\r\n  \r\n  /*\r\n    <Row size={1.3}>\r\n          <Col size={1.5} style={{backgroundColor:\"red\"}}>\r\n            <Row size={2.25} style={{backgroundColor:\"blue\"}}>\r\n              <View style={{justifyContent:'center', alignItems: 'center'}}/>\r\n            </Row>\r\n            <Row size={1.50}>\r\n              <Col><Text>Messages</Text></Col>\r\n              <Col><Text>Errors</Text></Col>\r\n            </Row>\r\n          </Col>\r\n          <Col>\r\n            {connectedState === ConnectionState.CONNECTED ? (\r\n              <View style={{...styles.circle, backgroundColor:\"green\", justifyContent:'center', alignItems: 'center'}}>\r\n                <Text>Device is</Text>\r\n                <Text>connected</Text>\r\n              </View>\r\n            ):(\r\n              <View style={{...styles.circle, backgroundColor:\"red\", justifyContent:'center', alignItems: 'center'}}>\r\n                <Text>No Device</Text>\r\n                <Text>connected</Text>\r\n              </View>\r\n            )}\r\n          </Col>\r\n        </Row>\r\n  */\r\n  var App = Platform.OS === \"android\" || Platform.OS === \"ios\" ? true: false\r\n  return(\r\n    <View style={[Helpers.contentContainer, Helpers.fullSize, Helpers.fill]}>\r\n      {App ? (\r\n        <View style={[ Helpers.fill, Helpers.row, Helpers.fullWidth]}>\r\n          <View style={[ Helpers.fill, Helpers.column, {backgroundColor:\"red\"}]}>\r\n            <View style={[ Helpers.fill, Helpers.row, Helpers.fullWidth, {backgroundColor: \"blue\"}]}>\r\n              <View style={{justifyContent:'center', alignItems: 'center'}}/>\r\n            </View>\r\n            <View style={[ Helpers.fill, Helpers.row, Helpers.fullWidth,]}>\r\n              <Text>Messages</Text>\r\n              <Text>Errors</Text>\r\n            </View>\r\n          </View>\r\n          <View style={[ Helpers.fill, Helpers.column]}>\r\n            {connectedState === ConnectionState.CONNECTED ? (\r\n              <View style={{...styles.circle, backgroundColor:\"green\", justifyContent:'center', alignItems: 'center'}}>\r\n                <Text>Device is</Text>\r\n                <Text>connected</Text>\r\n              </View>\r\n            ):(\r\n              <View style={{...styles.circle, backgroundColor:\"red\", justifyContent:'center', alignItems: 'center'}}>\r\n                <Text>No Device</Text>\r\n                <Text>connected</Text>\r\n              </View>\r\n            )}\r\n          </View>\r\n        </View>\r\n      ):(<></>)}\r\n      <View style={[Helpers.buttonContainer, Helpers.midWidth] }>\r\n        <Button Text={CurrentData.TagId} buttonStyle={{backgroundColor: Colors.AgriDarkblue}}\r\n          onPress={() => {} }/>\r\n      </View>\r\n      <View style={[Helpers.fullWidth]}>\r\n        <ContentProp ingrid={true} texts={[\"Section\", \"Pen\"]} datas={[CurrentData.data.section, CurrentData.data.pen]} />\r\n        <View style={{height:20}}/>\r\n        <View style={Helpers.midWidth, Helpers.colCenter}>\r\n          <Input\r\n            label={\"Comment:\"}\r\n            multiline={true}\r\n            containerStyle={[{borderWidth:1}]}\r\n            style={[ApplicationStyles.input]}\r\n            onChangeText={text => {\r\n              \r\n            }}\r\n            value={\r\n              \"NONE\"\r\n            }\r\n          />\r\n        </View>\r\n      </View>\r\n    </View>\r\n  )\r\n}\r\n\r\nconst styles = StyleSheet.create({\r\n  circle: {\r\n    width: 125,\r\n    height: 125,\r\n    borderRadius: 125/2,\r\n    marginTop: Metrics.tiny,\r\n    marginLeft: Metrics.tiny,\r\n  },\r\n});\r\n\r\nconst mapStateToProps = (state) => {\r\n  const { firebase } = state\r\n  return { firebase }\r\n};\r\n\r\nconst mapDispatchToProps  = (dispatch) => {\r\n  return {\r\n    setViewLoading: state => dispatch(FirebaseActions.viewIsLoading(state)),\r\n    setViewError: error => dispatch(FirebaseActions.setViewError(error)),\r\n    \r\n    getWeights: (penId) => dispatch(FirebaseActions.actionStarting(Actions.FETCH, DataRefs.WEIGHING, {PenId: penId})),\r\n\r\n    setCurrentData: penId => dispatch(FirebaseActions.setCurrentData({type:DataRefs.PENS, penId: penId})),\r\n    setCurrentDataElement: element => dispatch(FirebaseActions.setCurrentData(element)),\r\n  }\r\n};\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(DataDisplay);\r\n//export default DataDisplay;","import React, { Component } from 'react'\r\nimport { Platform, Text, View, ActivityIndicator, Image, StyleSheet, ScrollView, FlatList } from 'react-native'\r\nimport { useDispatch, useSelector, connect } from 'react-redux'\r\nimport { bindActionCreators } from 'redux';\r\nimport { Icon, Input } from 'react-native-elements'\r\n\r\nimport NavigationService from '../../../Services/NavigationService'\r\n\r\nimport DeviceActions from '../../../Stores/Device/Actions'\r\nimport { ConnectionState } from '../../../Stores/Device/Selectors'\r\n\r\nimport FirebaseActions from '../../../Stores/Firebase/Actions'\r\nimport { Actions, DataRefs, sortObject, format_Time, CurvePredict } from '../../../Stores/Firebase/Selectors'\r\n\r\nimport { Button, Button_Panel, ContentProp, OperationsPanel } from '../../../Components'\r\n\r\nimport { ApplicationStyles, Helpers, Metrics, Images, Colors } from '../../../Theme'\r\n\r\nclass DataDisplay_Pens extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.state = {\r\n      currentData: props.currentData,\r\n    }\r\n\r\n    const {CurrentData, WeighingsList, Weighings, CommentsList, Comments} = this.setData(props)\r\n    this.state = {\r\n      currentData: CurrentData,\r\n\r\n      WeighingsList: WeighingsList,\r\n      Weighings: Weighings,\r\n\r\n      CommentsList: CommentsList,\r\n      Comments: Comments,\r\n\r\n      action: \"\"\r\n    }\r\n  }\r\n\r\n  setData(Props) {\r\n    const localDataStore = Props.firebase.localDataStore;\r\n\r\n    var CurrentData = this.state.currentData;\r\n    var Pens = sortObject(localDataStore.pens)\r\n    if (Pens[CurrentData.penId]){\r\n      CurrentData.data = Pens[CurrentData.penId]\r\n    }\r\n\r\n    var WeighingsList = [];\r\n    var Weighings = [];\r\n    var App = Platform.OS === \"android\" || Platform.OS === \"ios\" ? true: false\r\n    if (localDataStore && localDataStore.weighings) {\r\n      if (localDataStore.weighings[CurrentData.penId]) {\r\n        WeighingsList = localDataStore.weighings[CurrentData.penId];\r\n        for(var i = 0; i < Object.keys(WeighingsList).length; i++) {\r\n          var name = Object.keys(WeighingsList)[i]\r\n          if (!name) continue;\r\n          var object = WeighingsList[name];\r\n          if (!object || !object.time) continue;\r\n          Weighings.push({[name]:object})\r\n        }\r\n        Weighings = Weighings.sort((a, b) => (a.time > b.time) ? 1 : -1)\r\n        if (App) {\r\n          Weighings = Weighings.slice(0,5)\r\n        }\r\n      }\r\n    }\r\n\r\n    var CommentsList = [];\r\n    var Comments = [];\r\n    if (localDataStore && localDataStore.comments) {\r\n      if (localDataStore.comments[CurrentData.penId]) {\r\n        CommentsList = localDataStore.comments[CurrentData.penId];\r\n        for(var i = 0; i < Object.keys(CommentsList).length; i++) {\r\n          var name = Object.keys(CommentsList)[i]\r\n          if (!name) continue;\r\n          var object = CommentsList[name];\r\n          if (!object || !object.time) continue;\r\n          Comments.push({[name]:object})\r\n        }\r\n        Comments = Comments.sort((a, b) => (a.time > b.time) ? 1 : -1)\r\n        if (App) {\r\n          Comments = Comments.slice(0,5)\r\n        }\r\n      }\r\n    }\r\n\r\n    if (CurrentData.data && !CurrentData.data.datas) CurrentData.data.datas = {}\r\n\r\n    return {CurrentData, WeighingsList, Weighings, CommentsList, Comments}\r\n  }\r\n\r\n  getData() {\r\n    if (this.props.firebase && this.props.firebase.localDataStore && this.state.currentData.penId) {\r\n      const localDataStore = this.props.firebase.localDataStore\r\n      if (!localDataStore.pens) localDataStore.pens = {}\r\n      this.props.getPens(localDataStore.pens.update_time)\r\n\r\n      var MemTime = null\r\n      if (localDataStore.weighings && localDataStore.weighings[this.state.currentData.penId]) MemTime = localDataStore.weighings.update_time\r\n      this.props.getWeights(this.state.currentData.penId, MemTime, localDataStore.sections)\r\n\r\n      this.props.getComments(this.state.currentData.penId)\r\n      this.props.getBatch(localDataStore.batchs.update_time)\r\n    }\r\n  }\r\n\r\n  checkData(props) {\r\n  }\r\n\r\n  componentDidMount() {\r\n    this.props.setViewLoading(false)\r\n    this.props.setViewError(null)\r\n    this.checkData(this.props);\r\n    this.getData();\r\n  }\r\n\r\n  componentDidUpdate(prevProps, prevState) {\r\n    if (this.props !== prevProps){\r\n      this.checkData(this.props);\r\n\r\n      if (this.props.firebase.localDataStore) {\r\n        const localDataStore = this.props.firebase.localDataStore\r\n        if ((JSON.stringify(prevProps.currentData)!==JSON.stringify(this.state.currentData)) ||\r\n            (localDataStore.sections && JSON.stringify(this.state.Sections)!==JSON.stringify(sortObject(localDataStore.sections))) ||\r\n            (localDataStore.weighings && JSON.stringify(this.state.Weighings)!==JSON.stringify(sortObject(localDataStoree.weighings))) ||\r\n            (localDataStore.comments && JSON.stringify(this.state.Comments)!==JSON.stringify(sortObject(localDataStoree.comments)))\r\n        ) {\r\n          const {CurrentData, WeighingsList, Weighings, CommentsList, Comments} = this.setData(this.props)\r\n          this.setState({\r\n            currentData: CurrentData,\r\n\r\n            WeighingsList: WeighingsList,\r\n            Weighings: Weighings,\r\n\r\n            CommentsList: CommentsList, \r\n            Comments: Comments,\r\n          })\r\n        }\r\n      }\r\n    }\r\n  }\r\n\r\n  render() {\r\n    const IsLoading = this.props.firebase.firebaseIsLoading\r\n\r\n    const localDataStore = this.props.firebase.localDataStore\r\n    const CurrentData = this.state.currentData\r\n\r\n    if (!CurrentData.data) {\r\n      return(\r\n        <View style={[Helpers.fillRowCenter, Helpers.center, Helpers.logoContainer]}>\r\n          <Image style={Helpers.fullSize} source={Images.Hexa_icon} resizeMode={'contain'} />\r\n        </View>\r\n      )\r\n    } else {\r\n      var pigcount = CurrentData.data.datas.count?CurrentData.data.datas.count:0\r\n      var penWeight = []\r\n      if (this.state.Weighings.length > 0) {\r\n        penWeight = this.state.Weighings[0][Object.keys(this.state.Weighings[0])].weight / this.state.Weighings[0][Object.keys(this.state.Weighings[0])].count\r\n      }\r\n\r\n      var batch_name = CurrentData.data.datas.batch?CurrentData.data.datas.batch:\"No Batch\"\r\n      var batch = {}\r\n\r\n      //TODO: Cleanup load mem throws..\r\n      var age = \"\";\r\n      var displayWeight = penWeight;\r\n      \r\n      if (CurrentData.data.datas.batch && localDataStore.batchs && localDataStore.batchs[CurrentData.data.datas.batch]) {\r\n        batch = localDataStore.batchs[CurrentData.data.datas.batch];\r\n        var StartTime = batch.time;\r\n        age = Math.floor(((Date.now()-StartTime)/(1000*60*60*24)));\r\n        CurrentData.data.datas.gcurve = batch.gcurve;\r\n\r\n        var Predict = CurvePredict(localDataStore, CurrentData.penId)\r\n        if (Predict && Predict.Now) displayWeight = Predict.Now\r\n      }\r\n\r\n      if (!batch.datas) batch.datas = {};\r\n      if (!batch.datas.devianceMin) batch.datas.devianceMin = 0;\r\n      if (!batch.datas.devianceMax) batch.datas.devianceMax = 0;\r\n      displayWeight = Math.round(displayWeight * 1000) / 1000\r\n\r\n      var App = Platform.OS === \"android\" || Platform.OS === \"ios\" ? true: false\r\n      return(\r\n        <View style={[Helpers.contentContainer, Helpers.fullSize, Helpers.fill]}>\r\n          <View style={[Helpers.buttonContainer, Helpers.midWidth, Metrics.bottomMargin, Helpers.rowCenter] }>\r\n            <View style={{padding:6, paddingRight: 15}}>\r\n              <Icon name=\"md-arrow-back\" type='ionicon' size={25} color=\"black\" onPress={() => onPageSwipe(this, localDataStore, CurrentData, false)}/>\r\n            </View>\r\n            <View style={[Helpers.buttonContainer, Helpers.midWidth] }>\r\n              <Button Text={CurrentData.penId} buttonStyle={{backgroundColor: Colors.AgriDarkblue}}\r\n                onPress={() => {} }/>\r\n            </View>\r\n            <View style={{padding:6, paddingLeft: 15}}>\r\n              <Icon name=\"md-arrow-forward\" type='ionicon' size={25} color=\"black\" onPress={() => onPageSwipe(this, localDataStore, CurrentData, true)}/>\r\n            </View>\r\n          </View>\r\n          \r\n          <View style={[Helpers.fullWidth]}>\r\n            <ContentProp texts={[\"Pig count\", \"Batch\", \"Age Days\", \"Weight\", \"Growth Cruve\", \"Alarm Max\", \"Alarm Min\", \"Mixtur\", \"Correction\", \"Portion in kg\"]} onPress={(element) => onDataPress(1, element)} \r\n              datas={[pigcount, batch_name, age, /*penWeight*/ displayWeight, CurrentData.data.datas.gcurve?CurrentData.data.datas.gcurve:\"default\", batch.datas.devianceMin + \" %\", batch.datas.devianceMax + \" %\", \"-\", \"-\", \"-\"]} />\r\n          </View>\r\n\r\n          <View style={{height:20}} />\r\n          <View style={[Helpers.fill, App?Helpers.fullWidth:Helpers.midWidth, App?{}:{height:215}]}>\r\n            <ContentProp texts={[\"Control weighings\"]} datas={[]} />\r\n            <View style={{height:10}} />\r\n              <FlatList\r\n                data={this.state.Weighings}\r\n                renderItem={({item, index}) => {\r\n                  if (item === \"__jsogObjectId\") return (<></>);\r\n                  var Weight = this.state.WeighingsList[Object.keys(item)[0]]\r\n                  return(\r\n                    <ContentProp texts={[format_Time(Weight.time)]}\r\n                                datas={[Weight.weight + \"   : \" + Weight.count + \" pigs\"]}\r\n                    />\r\n                  )}\r\n                }\r\n                  //Setting the number of column\r\n                  numColumns={1}\r\n                  keyExtractor={(item, index) => String(index)}\r\n                />\r\n          </View>\r\n\r\n          <View style={{height:20}} />\r\n          <View style={[Helpers.fill, App?Helpers.fullWidth:Helpers.midWidth, App?{}:{height:215}]}>\r\n            <ContentProp texts={[\"Action log\"]} datas={[]} />\r\n            <View style={{height:10}} />\r\n            <FlatList\r\n              data={this.state.Comments}\r\n              renderItem={({item, index}) => {\r\n                if (item === \"__jsogObjectId\") return (<></>);\r\n                var Comment = this.state.CommentsList[Object.keys(item)[0]]\r\n                return(\r\n                  <ContentProp texts={[format_Time(Comment.time) + \":\\n\" + Comment.user]}\r\n                              datas={[(Comment.quantity?(Comment.quantity + \" * \"):(\"\")) + Comment.action + \":\\n\" + Comment.data]}\r\n                  />\r\n                )}\r\n              }\r\n                //Setting the number of column\r\n                numColumns={1}\r\n                keyExtractor={(item, index) => String(index)}\r\n              />\r\n          </View>\r\n\r\n          <View style={{height:30}} />\r\n\r\n          <View style={[Helpers.borderContainer, Helpers.midWidth]}>\r\n            <OperationsPanel />\r\n          </View>\r\n        </View>\r\n      )\r\n    }\r\n  }\r\n}\r\n\r\nfunction onPageSwipe(Control, localDataStore, CurrentData, dir) {\r\n  const section = localDataStore.pens[CurrentData.penId].section\r\n  const Pens = sortObject(localDataStore.sections[section].pens)\r\n\r\n  if (CurrentData.type === DataRefs.PENS && CurrentData.data && Pens[CurrentData.penId]) {\r\n    var index = Object.keys(Pens).indexOf(CurrentData.penId)\r\n\r\n    switch (dir) {\r\n      case true: //forward\r\n        index = index +1\r\n        break;\r\n      case false: //backward\r\n        index = index -1\r\n        break;\r\n    }\r\n\r\n    if (index < 0) index = Object.keys(Pens).length - 1\r\n    else if (index >= Object.keys(Pens).length) index = 0\r\n\r\n    Control.props.setCurrentData(Object.keys(Pens)[index])\r\n    NavigationService.replace(\"DataDisplay\")\r\n  }\r\n}\r\n\r\nfunction onDataPress(sender, element){\r\n  switch(sender){\r\n    case 1:\r\n      switch(element.index){\r\n        case 0:\r\n          console.log(\"test\")\r\n          break;\r\n      }\r\n      break;\r\n  }\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n  const { firebase } = state\r\n  return { firebase }\r\n};\r\n\r\nconst mapDispatchToProps  = (dispatch) => {\r\n  return {\r\n    setViewLoading: state => dispatch(FirebaseActions.viewIsLoading(state)),\r\n    setViewError: error => dispatch(FirebaseActions.setViewError(error)),\r\n\r\n    getPens: (DataTime) => dispatch(FirebaseActions.actionStarting(Actions.FETCH, DataRefs.PENS, {DataTime: DataTime})),\r\n    getWeights: (penId, DataTime, MemSections) => dispatch(FirebaseActions.actionStarting(Actions.FETCH, DataRefs.WEIGHING, {PenId: penId, DataTime: DataTime,  MemSections: MemSections})),\r\n    getComments: (penId) => dispatch(FirebaseActions.actionStarting(Actions.FETCH, DataRefs.COMMENTS, {PenId: penId})),\r\n    getBatch: (DataTime) => dispatch(FirebaseActions.actionStarting(Actions.FETCH, DataRefs.BATCHS, {DataTime: DataTime})),\r\n\r\n    setCurrentData: penId => dispatch(FirebaseActions.setCurrentData({type:DataRefs.PENS, penId: penId})),\r\n    setCurrentDataElement: element => dispatch(FirebaseActions.setCurrentData(element)),\r\n  }\r\n};\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(DataDisplay_Pens);\r\n//export default DataDisplay_Pens;","import React, { useEffect, Component } from 'react'\r\nimport { Platform, Text, View, ActivityIndicator, Image, StyleSheet, ScrollView, FlatList } from 'react-native'\r\nimport { useDispatch, useSelector, connect } from 'react-redux'\r\nimport { bindActionCreators } from 'redux';\r\nimport { Icon, Input } from 'react-native-elements'\r\n\r\nimport NavigationService from '../../../Services/NavigationService'\r\n\r\n//import DeviceActions from '../../../Stores/Device/Actions'\r\n//import { ConnectionState } from '../../../Stores/Device/Selectors'\r\n\r\nimport FirebaseActions from '../../../Stores/Firebase/Actions'\r\nimport { Actions, DataRefs, sortObject, format_Time } from '../../../Stores/Firebase/Selectors'\r\n\r\nimport { Button, Button_Panel, ContentProp, OperationsPanel } from '../../../Components'\r\n\r\nimport { ApplicationStyles, Helpers, Metrics, Images, Colors } from '../../../Theme'\r\n\r\nclass DataDisplay_Pigs extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.state = {\r\n      currentData: props.currentData,\r\n    }\r\n\r\n    const {CurrentData, WeighingsList, Weighings} = this.setData(props)\r\n    this.state = {\r\n      currentData: CurrentData,\r\n\r\n      WeighingsList: WeighingsList,\r\n      Weighings: Weighings,\r\n    }\r\n  }\r\n\r\n  setData(Props) {\r\n    const localDataStore = Props.firebase.localDataStore;\r\n\r\n    var CurrentData = this.state.currentData;\r\n    var Pigs = sortObject(localDataStore.pigs)\r\n    if (Pigs[CurrentData.TagId]){\r\n      CurrentData.data = Pigs[CurrentData.TagId]\r\n    }\r\n\r\n    var WeighingsList = [];\r\n    var Weighings = [];\r\n    var App = Platform.OS === \"android\" || Platform.OS === \"ios\" ? true: false\r\n    if (localDataStore && localDataStore.weighings) {\r\n      if (localDataStore.weighings[CurrentData.penId]) {\r\n        WeighingsList = localDataStore.weighings[CurrentData.penId];\r\n        for(var i = 0; i < Object.keys(WeighingsList).length; i++) {\r\n          var name = Object.keys(WeighingsList)[i]\r\n          if (!name) continue;\r\n          var object = WeighingsList[name];\r\n          if (!object || !object.time) continue;\r\n          Weighings.push({[name]:object})\r\n        }\r\n        Weighings = Weighings.sort((a, b) => (a.time > b.time) ? 1 : -1)\r\n        if (App) {\r\n          Weighings = Weighings.slice(0,5)\r\n        }\r\n      }\r\n    }\r\n    if (CurrentData.data && !CurrentData.data.datas) CurrentData.data.datas = {}\r\n\r\n    return {CurrentData, WeighingsList, Weighings}\r\n  }\r\n\r\n  getData() {\r\n    if (this.props.firebase && this.props.firebase.localDataStore && this.state.currentData.penId) {\r\n      const localDataStore = this.props.firebase.localDataStore\r\n      if (!localDataStore.pens) localDataStore.pens = {}\r\n      this.props.getPens(localDataStore.pens.update_time)\r\n      this.props.getWeights(this.state.currentData.penId)\r\n      this.props.getBatch(null)\r\n    }\r\n  }\r\n\r\n  checkData(props) {\r\n  }\r\n\r\n  componentDidMount() {\r\n    this.props.setViewLoading(false)\r\n    this.props.setViewError(null)\r\n    this.checkData(this.props);\r\n    this.getData();\r\n  }\r\n\r\n  componentDidUpdate(prevProps, prevState) {\r\n    if (this.props !== prevProps){\r\n      this.checkData(this.props);\r\n\r\n      if (this.props.firebase.localDataStore) {\r\n        const localDataStore = this.props.firebase.localDataStore\r\n        if ((JSON.stringify(prevProps.currentData)!==JSON.stringify(this.state.currentData)) ||\r\n            (localDataStore.sections && JSON.stringify(this.state.Sections)!==JSON.stringify(sortObject(localDataStore.sections))) ||\r\n            (localDataStore.weighings && JSON.stringify(this.state.Weighings)!==JSON.stringify(sortObject(localDataStoree.weighings)))\r\n        ) {\r\n          const {CurrentData, WeighingsList, Weighings} = this.setData(this.props)\r\n          this.setState({\r\n            currentData: CurrentData,\r\n\r\n            WeighingsList: WeighingsList,\r\n            Weighings: Weighings,\r\n          })\r\n        }\r\n      }\r\n    }\r\n  }\r\n\r\n  render() {\r\n    const IsLoading = this.props.firebase.firebaseIsLoading\r\n\r\n    const localDataStore = this.props.firebase.localDataStore\r\n    const CurrentData = this.state.currentData\r\n\r\n    if (!CurrentData.data) {\r\n      return(\r\n        <View style={[Helpers.fillRowCenter, Helpers.center, Helpers.logoContainer]}>\r\n          <Image style={Helpers.fullSize} source={Images.Hexa_icon} resizeMode={'contain'} />\r\n        </View>\r\n      )\r\n    } else {\r\n      var pigcount = CurrentData.data.datas.count?CurrentData.data.datas.count:0\r\n      var penWeight = []\r\n      if (this.state.Weighings.length > 0) {\r\n        var count = pigcount?pigcount:1\r\n        penWeight = this.state.Weighings[0][Object.keys(this.state.Weighings[0])].weight / this.state.Weighings[0][Object.keys(this.state.Weighings[0])].count\r\n      }\r\n\r\n      var batch_name = CurrentData.data.datas.batch?CurrentData.data.datas.batch:\"No Batch\"\r\n      var batch = {}\r\n\r\n      //TODO: Cleanup load mem throws..\r\n      var age = \"\";\r\n      var displayWeight = penWeight;\r\n      if (CurrentData.data.datas.batch && localDataStore.batchs && localDataStore.batchs[CurrentData.data.datas.batch]) {\r\n        batch = localDataStore.batchs[CurrentData.data.datas.batch];\r\n        var StartTime = batch.time;\r\n        age = Math.floor(((Date.now()-StartTime)/(1000*60*60*24)));\r\n        CurrentData.data.datas.gcurve = batch.gcurve;\r\n\r\n        var Predict = CurvePredict(localDataStore, CurrentData.penId)\r\n        displayWeight = Predict.Now\r\n      }\r\n\r\n      if (!batch.datas) batch.datas = {};\r\n      if (!batch.datas.devianceMin) batch.datas.devianceMin = 0;\r\n      if (!batch.datas.devianceMax) batch.datas.devianceMax = 0;\r\n\r\n      return(\r\n        <View style={[Helpers.contentContainer, Helpers.fullSize, Helpers.fill]}>\r\n          <View style={[Helpers.buttonContainer, Helpers.midWidth, Metrics.bottomMargin, Helpers.rowCenter] }>\r\n            <View style={{padding:6, paddingRight: 15}}>\r\n              <Icon name=\"md-arrow-back\" type='ionicon' size={25} color=\"black\" onPress={() => onPageSwipe(this, localDataStore, CurrentData, false)}/>\r\n            </View>\r\n            <View style={[Helpers.buttonContainer, Helpers.midWidth] }>\r\n              <Button Text={CurrentData.penId} buttonStyle={{backgroundColor: Colors.AgriDarkblue}}\r\n                onPress={() => {} }/>\r\n            </View>\r\n            <View style={{padding:6, paddingLeft: 15}}>\r\n              <Icon name=\"md-arrow-forward\" type='ionicon' size={25} color=\"black\" onPress={() => onPageSwipe(this, localDataStore, CurrentData, true)}/>\r\n            </View>\r\n          </View>\r\n          \r\n          <View style={[Helpers.fullWidth]}>\r\n            <ContentProp texts={[\"Pig count\", \"Batch\", \"Age Days\", \"Weight\", \"Growth Cruve\", \"Alarm Max\", \"Alarm Min\", \"Mixtur\", \"Correction\", \"Portion in kg\"]} onPress={(element) => onDataPress(1, element)} \r\n              datas={[pigcount, batch_name, age, /*penWeight*/ displayWeight, CurrentData.data.datas.gcurve?CurrentData.data.datas.gcurve:\"default\", batch.datas.devianceMin + \" %\", batch.datas.devianceMax + \" %\", \"-\", \"-\", \"-\"]} />\r\n          </View>\r\n\r\n          <View style={{height:20}} />\r\n          <View style={[Helpers.fill, App?Helpers.fullWidth:Helpers.midWidth, App?{}:{height:215}]}>\r\n            <ContentProp texts={[\"Last weighings\"]} datas={[]} />\r\n            <View style={{height:10}} />\r\n            <FlatList\r\n              data={this.state.Weighings}\r\n              renderItem={({item, index}) => {\r\n                if (item === \"__jsogObjectId\") return (<></>);\r\n                var Weight = this.state.WeighingsList[Object.keys(item)[0]]\r\n                return(\r\n                  <ContentProp texts={[format_Time(Weight.time)]}\r\n                              datas={[Weight.weight]} \r\n                  />\r\n                )}\r\n              }\r\n                //Setting the number of column\r\n                numColumns={1}\r\n                keyExtractor={(item, index) => String(index)}\r\n              />\r\n          </View>\r\n\r\n          <View style={{height:30}} />\r\n\r\n          <View style={[Helpers.borderContainer, Helpers.midWidth]}>\r\n            <OperationsPanel />\r\n          </View>\r\n        </View>\r\n      )\r\n    }\r\n  }\r\n}\r\n\r\nfunction onPageSwipe(Control, localDataStore, CurrentData, dir) {\r\n  const section = localDataStore.pens[CurrentData.penId].section\r\n  const Pens = sortObject(localDataStore.sections[section].pens)\r\n\r\n  if (CurrentData.type === DataRefs.PENS && CurrentData.data && Pens[CurrentData.penId]) {\r\n    var index = Object.keys(Pens).indexOf(CurrentData.penId)\r\n\r\n    switch (dir) {\r\n      case true: //forward\r\n        index = index +1\r\n        break;\r\n      case false: //backward\r\n        index = index -1\r\n        break;\r\n    }\r\n\r\n    if (index < 0) index = Object.keys(Pens).length - 1\r\n    else if (index >= Object.keys(Pens).length) index = 0\r\n\r\n    Control.props.setCurrentData(Object.keys(Pens)[index])\r\n    NavigationService.replace(\"DataDisplay\")\r\n  }\r\n}\r\n\r\nfunction onDataPress(sender, element){\r\n  switch(sender){\r\n    case 1:\r\n      switch(element.index){\r\n        case 0:\r\n          console.log(\"test\")\r\n          break;\r\n      }\r\n      break;\r\n  }\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n  const { firebase } = state\r\n  return { firebase }\r\n};\r\n\r\nconst mapDispatchToProps  = (dispatch) => {\r\n  return {\r\n    setViewLoading: state => dispatch(FirebaseActions.viewIsLoading(state)),\r\n    setViewError: error => dispatch(FirebaseActions.setViewError(error)),\r\n\r\n    getPens: (DataTime) => dispatch(FirebaseActions.actionStarting(Actions.FETCH, DataRefs.PENS, {DataTime: DataTime})),\r\n    getWeights: (penId) => dispatch(FirebaseActions.actionStarting(Actions.FETCH, DataRefs.WEIGHING, {PenId: penId})),\r\n    getBatch: (batchId) => dispatch(FirebaseActions.actionStarting(Actions.FETCH, DataRefs.BATCHS, {BatchId: batchId})),\r\n\r\n    setCurrentData: penId => dispatch(FirebaseActions.setCurrentData({type:DataRefs.PENS, penId: penId})),\r\n    setCurrentDataElement: element => dispatch(FirebaseActions.setCurrentData(element)),\r\n  }\r\n};\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(DataDisplay_Pigs);\r\n//export default DataDisplay_Pigs;","import React, { useEffect, Component } from 'react'\r\nimport { Text, View, ActivityIndicator, Image, StyleSheet, ScrollView, FlatList } from 'react-native'\r\nimport { Input, Icon } from 'react-native-elements'\r\nimport { useDispatch, useSelector, connect } from 'react-redux'\r\nimport { bindActionCreators } from 'redux';\r\n\r\nimport NavigationService from '../../../Services/NavigationService'\r\n\r\nimport FirebaseActions from '../../../Stores/Firebase/Actions'\r\nimport { Actions, DataRefs, GetCurve_FromBatch, CurvePredict, GetBatchEnd, AccumulateTime, format_Time, GetStats_FromBatch, GetStats_FromPen } from '../../../Stores/Firebase/Selectors'\r\n\r\nimport { LineChart } from 'react-native-chart-kit'\r\nimport { Button, TitleElement, CustomListItem, ContentProp } from '../../../Components'\r\nimport Style from './UserPanelStyle'\r\nimport { ApplicationStyles, Helpers, Metrics, Colors } from '../../../Theme'\r\nimport CurveElement, { WeightsToGraphData } from './CurveElement'\r\n\r\nimport { FlatGrid } from 'react-native-super-grid';\r\n\r\nclass DataDisplay extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    var {isClosed, isVirtual, StartDate, EndDate, Animals, TargetWeight, AverageWeight, AverageGrowth, Comments_List, Comments} = this.setData(props)\r\n    this.state = {\r\n      Prediction: false,\r\n\r\n      isClosed: isClosed,\r\n      isVirtual: isVirtual,\r\n\r\n      StartDate: StartDate,\r\n      EndDate: EndDate,\r\n      Animals: Animals,\r\n      TargetWeight: TargetWeight,\r\n      AverageWeight: AverageWeight, \r\n      AverageGrowth:AverageGrowth,\r\n      Comments_List: Comments_List,\r\n      Comments: Comments,\r\n    }\r\n  }\r\n\r\n  setData(Props) {\r\n    const localDataStore = Props.firebase.localDataStore;\r\n    const CurrentData = Props.firebase.currentData;\r\n\r\n    var Batch = localDataStore.batchs[this.props.firebase.currentData.batchId];\r\n    var StartDate, EndDate, TargetWeight, PenCount, Animals, AverageWeight, AverageGrowth, isClosed, isVirtual\r\n    var Data = GetStats_FromBatch(Batch, localDataStore)\r\n    if (Data) {\r\n      StartDate = Data.StartDate\r\n      EndDate = Data.EndDate\r\n      TargetWeight = Data.TargetWeight\r\n      PenCount = Data.PenCount\r\n      Animals = Data.Animals\r\n      AverageWeight = Data.AverageWeight\r\n      AverageGrowth = Data.AverageGrowth\r\n      isClosed = Data.isClosed \r\n      isVirtual = Data.isVirtual\r\n    }\r\n\r\n    var Comments_List = null\r\n    var Comments = [];\r\n    if (Batch && Batch.state && Batch.state === \"Closed\" && Batch.closed && Batch.closed.comments) {\r\n      Comments_List = []\r\n      Object.keys(Batch.pens).reverse().filter(e => (e !== '__jsogObjectId')).forEach(element => {\r\n        var CommentsList = [];\r\n        if (Batch.closed.comments[element]) {\r\n          CommentsList = Batch.closed.comments[element];\r\n          for(var i = 0; i < Object.keys(CommentsList).length; i++) {\r\n            var name = Object.keys(CommentsList)[i]\r\n            if (!name) continue;\r\n            var object = CommentsList[name];\r\n            if (!object || !object.time) continue;\r\n            object.pen = element\r\n            Comments.push({[name]:object})\r\n          }\r\n        }\r\n        Comments_List = Comments_List.concat(CommentsList);\r\n      });\r\n    }\r\n    Comments = Comments.sort((a, b) => (a.time > b.time) ? 1 : -1)\r\n    return { isClosed, isVirtual, StartDate, EndDate, Animals, TargetWeight, AverageWeight, AverageGrowth, Comments_List, Comments }\r\n  }\r\n\r\n  getData() {\r\n    const localDataStore = this.props.firebase.localDataStore;\r\n    const CurrentData = this.props.firebase.currentData;\r\n\r\n    if (CurrentData && CurrentData.batchId && localDataStore.batchs[CurrentData.batchId]){\r\n      const batchData = localDataStore.batchs[CurrentData.batchId]\r\n      \r\n      this.props.getWeights(localDataStore.weighings?localDataStore.weighings.update_time:null, localDataStore.sections)\r\n\r\n      var PenMemTime = null\r\n      if (localDataStore.pens) PenMemTime = localDataStore.pens.update_time\r\n      if (batchData.pens) {\r\n        Object.keys(batchData.pens).filter(e => e !== '__jsogObjectId').forEach(Pen => {\r\n          this.props.getPen(Pen, PenMemTime)\r\n        })\r\n      }\r\n\r\n      var TempGraph = \"\"\r\n      if (CurrentData.curveId) {\r\n        TempGraph = CurrentData.curveId;\r\n      }\r\n      this.props.getCurve(TempGraph)\r\n    }\r\n  }\r\n\r\n  checkData(props) {\r\n  }\r\n\r\n  componentDidUpdate(prevProps, prevState) {\r\n    if (this.props !== prevProps) {\r\n      this.checkData(this.props);\r\n      if (this.props.firebase.localDataStore) {\r\n        var { isClosed, isVirtual, StartDate, EndDate, Animals, TargetWeight, AverageWeight, AverageGrowth, Comments_List, Comments } = this.setData(this.props)\r\n        this.setState({\r\n          Prediction: false,\r\n          isClosed: isClosed,\r\n          isVirtual: isVirtual,\r\n\r\n          StartDate: StartDate,\r\n          EndDate: EndDate,\r\n          Animals: Animals,\r\n          TargetWeight: TargetWeight,\r\n          AverageWeight: AverageWeight, \r\n          AverageGrowth:AverageGrowth,\r\n          Comments_List: Comments_List,\r\n          Comments: Comments,\r\n        })\r\n      }\r\n    }\r\n  }\r\n\r\n  componentDidMount() {\r\n    this.props.setViewLoading(false)\r\n    this.props.setViewError(null)\r\n    this.checkData(this.props);\r\n    this.getData();\r\n  }\r\n\r\n  render() {\r\n    const IsLoading = this.props.firebase.firebaseIsLoading\r\n    const ErrorMessage = this.props.firebase.viewError\r\n\r\n    const localDataStore = this.props.firebase.localDataStore\r\n    const CurrentData = this.props.firebase.currentData;\r\n\r\n    var StartDate = this.state.StartDate\r\n\r\n    var Dif_Time = new Date().getTime() - StartDate\r\n    var Days = Dif_Time / (1000 * 3600 * 24);\r\n    Days = Days.toFixed(0) //TODO: closed date...\r\n\r\n    StartDate = new Date(StartDate).getDate() + \"/\" + (new Date(StartDate).getMonth() +1) + \"/\" + new Date(StartDate).getFullYear()\r\n\r\n    var EndDate = this.state.EndDate\r\n    EndDate = new Date(EndDate).getDate() + \"/\" + (new Date(EndDate).getMonth() +1) + \"/\" + new Date(EndDate).getFullYear()\r\n\r\n    var Virtual = String(this.state.isVirtual)\r\n    Virtual = Virtual.charAt(0).toUpperCase() + Virtual.slice(1)\r\n    return(\r\n      <ScrollView style={[Helpers.fullSize, Helpers.fill]}>\r\n      <View\r\n        style={[\r\n          Helpers.mainContainer,\r\n        ]}\r\n      >\r\n        <View style={[Helpers.contentContainer, Helpers.fullSize, Helpers.fill]}>\r\n          {ErrorMessage ? (\r\n            <Text style={ApplicationStyles.error}>{ErrorMessage}</Text>\r\n          ):(<></>)}\r\n          <TitleElement Text={this.props.firebase.currentData.batchId?this.props.firebase.currentData.batchId:\"-NON-\"}/>\r\n          <View>\r\n            <View style={[Helpers.fullWidth, {justifyContent:'center'}]}>\r\n              <FlatGrid\r\n                itemDimension={120}\r\n                spacing={10}\r\n\r\n                data={[\r\n                  {title: 'Start', data: StartDate},\r\n                  {title: 'End Forecast', data: EndDate},\r\n                  {title: 'Target Weight', data: this.state.TargetWeight},\r\n                  //{title: 'Virtual cal', data: Virtual}\r\n                ]}\r\n                renderItem={({ item }) => (\r\n                  <View style={[Helpers.borderContainer, {textAlign:'center'}]}>\r\n                    <Text>{item.title}</Text>\r\n                    <Text>{item.data}</Text>\r\n                  </View>\r\n                )}\r\n                />\r\n            </View>\r\n            <View style={[Helpers.fullWidth, {justifyContent:'center'}]}>\r\n              <FlatGrid\r\n                itemDimension={120}\r\n                spacing={10}\r\n\r\n                data={[\r\n                  {title: 'Animals', data: this.state.Animals},\r\n                  {title: 'Day', data: Days},\r\n                  {title: 'Avarage weight', data: this.state.AverageWeight},\r\n                  {title: 'Average growth', data: this.state.AverageGrowth}\r\n                ]}\r\n                renderItem={({ item }) => (\r\n                  <View style={[Helpers.borderContainer, {textAlign:'center'}]}>\r\n                    <Text>{item.title}</Text>\r\n                    <Text>{item.data}</Text>\r\n                  </View>\r\n                )}\r\n                />\r\n            </View>\r\n            <Button Text=\"Show Predict\"\r\n                onPress={() => {\r\n                  this.setState({\r\n                    Prediction: !this.state.Prediction\r\n                  })\r\n                } }/>\r\n          </View>\r\n          <View style={[Helpers.fill, Helpers.fullWidth, {minHeight:750}]}>\r\n            <CurveElement Predict={this.state.Prediction} weighings={localDataStore.weighings}/>\r\n          </View>\r\n          {this.state.Comments_List?(\r\n            <View style={[Helpers.fill, Helpers.midWidth, {height:415}]}>\r\n              {/* diff for app / web here ^ */}\r\n              <ContentProp texts={[\"Action log\"]} datas={[]} />\r\n              <View style={{height:10}} />\r\n              <FlatList\r\n                data={this.state.Comments.filter(e => (e !== '__jsogObjectId'))}\r\n                renderItem={({item, index}) => {\r\n                  var Comment = this.state.Comments_List[0][Object.keys(item)[0]]\r\n                  if (!Comment) return null\r\n                  return(\r\n                    <ContentProp texts={[format_Time(Comment.time) + \":\\n\" + Comment.user]}\r\n                                datas={[Comment.pen + \": \" + Comment.action + \":\\n\" + Comment.data]}\r\n                    />\r\n                  )}\r\n                }\r\n                  //Setting the number of column\r\n                  numColumns={1}\r\n                  keyExtractor={(item, index) => String(index)}\r\n                />\r\n            </View>\r\n          ):(<></>)}\r\n        </View>\r\n        {(IsLoading || this.props.firebase.viewIsLoading) &&\r\n          <ActivityIndicator style={Helpers.loadingContainer} size='large' />\r\n        }\r\n      </View>\r\n      </ScrollView>\r\n    )\r\n  }\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n  const { firebase } = state\r\n  return { firebase }\r\n};\r\n\r\nconst mapDispatchToProps  = (dispatch) => {\r\n  return {\r\n    setViewLoading: state => dispatch(FirebaseActions.viewIsLoading(state)),\r\n    setViewError: error => dispatch(FirebaseActions.setViewError(error)),\r\n    \r\n    getPen: (penId, DataTime) => dispatch(FirebaseActions.actionStarting(Actions.FETCH, DataRefs.PENS, {PenId: penId, DataTime:DataTime})),\r\n    getWeights: (DataTime, MemSections) => dispatch(FirebaseActions.actionStarting(Actions.FETCH, DataRefs.WEIGHING, {DataTime: DataTime, MemSections: MemSections})),\r\n    \r\n    getBatch: (batchId) => dispatch(FirebaseActions.actionStarting(Actions.FETCH, DataRefs.BATCHS, {})),\r\n    getCurve: (curveid) => dispatch(FirebaseActions.actionStarting(Actions.FETCH, DataRefs.GRAPH, {GraphId: curveid})),\r\n    setCurve: (curve) => dispatch(FirebaseActions.actionStarting(Actions.CREATE, DataRefs.GRAPH, {Graph: curve}))\r\n  }\r\n};\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(DataDisplay);\r\n//export default DataDisplay;","import React, { useEffect, useState, Component } from 'react'\r\nimport { Platform, Dimensions, Text, View, ActivityIndicator, Image } from 'react-native'\r\nimport { useDispatch, useSelector, connect } from 'react-redux'\r\nimport { bindActionCreators } from 'redux';\r\n\r\nimport NavigationService from '../Services/NavigationService'\r\n\r\n//import DeviceActions from '../Stores/Device/Actions'\r\nimport FirebaseActions from '../Stores/Firebase/Actions'\r\n\r\nimport { Button_Panel } from '../Components'\r\nimport { ApplicationStyles, Helpers, Images } from '../Theme'\r\n\r\nclass ViewContainer extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    \r\n    const window = Dimensions.get(\"window\");\r\n    const screen = Dimensions.get(\"screen\");\r\n\r\n    this.state = {\r\n      dimensions: {window, screen},\r\n      viewState: 0,\r\n\r\n      ShowMainError: false,\r\n      FocusSubscription: null,\r\n\r\n      NaviParams: props.navigation.state.params\r\n    }\r\n  }\r\n\r\n  setData(Props) {\r\n  }\r\n\r\n  getData() {\r\n  }\r\n\r\n  checkData(props) {\r\n  }\r\n\r\n  componentDidUpdate(prevProps, prevState) {\r\n    if (this.props !== prevProps) {\r\n      this.checkData(this.props);\r\n      if (this.props.firebase.viewError != prevProps.firebase.viewError) {\r\n        this.forceUpdate()\r\n      }\r\n    }\r\n  }\r\n\r\n  onChange = ({ window, screen }) => {\r\n    this.setState({\r\n      dimensions: {window, screen},\r\n    })\r\n  };\r\n\r\n  componentDidMount() {\r\n    Dimensions.addEventListener(\"change\", this.onChange);\r\n\r\n    this.props.setFirebaseError(null)\r\n    this.checkData(this.props);\r\n    this.getData();\r\n\r\n    const FocusSubscription = this.props.navigation.addListener(\r\n      'willFocus',\r\n      payload => {\r\n        this.props.setViewLoading(false)\r\n        this.props.setViewError(null)\r\n      }\r\n    );\r\n\r\n    this.setState({\r\n      FocusSubscription: FocusSubscription,\r\n    })\r\n  }\r\n\r\n  componentWillUnmount() {\r\n    if (this.state.FocusSubscription) {\r\n      this.state.FocusSubscription.remove()\r\n    }\r\n    Dimensions.removeEventListener(\"change\", this.onChange);\r\n  }\r\n\r\n  render() {\r\n    const ErrorMessage = this.props.firebase.viewError\r\n    const firebaseErrorMessage = this.props.firebase.firebaseErrorMessage\r\n\r\n    var wide = this.state.dimensions.window.width>900?true:false\r\n    var App = (Platform.OS === 'ios' || Platform.OS === 'android')||!wide\r\n\r\n    var Menu = this.state.NaviParams.Menu\r\n    var Main = this.state.NaviParams.Main\r\n\r\n    if (Menu) {\r\n      if (App) {\r\n        return(\r\n          <Main/>\r\n        )\r\n      } else {\r\n        return(\r\n          <View style={[Helpers.rowMain, Helpers.fullSize, {alignItems:'flex-start'}]}>\r\n            <View style={[Helpers.fillRow, Helpers.fullSize, {flex:1, minWidth:390, maxWidth:400, marginHorizontal: -30, borderRightWidth:1}]}>\r\n              {/* Menu */}\r\n              <Menu/>\r\n            </View>\r\n            <View style={[Helpers.fillRow, Helpers.fullSize, {flex:1, alignItems:'flex-start', marginLeft:20}]}>\r\n              {/* View */}\r\n              <Main/>\r\n            </View>\r\n          </View>\r\n        )\r\n      }\r\n    } else {\r\n      return(\r\n        <Main/>\r\n      )\r\n    }\r\n  }\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n  const { firebase } = state\r\n  return { firebase }\r\n};\r\n\r\nconst mapDispatchToProps  = (dispatch) => {\r\n  return {\r\n    setFirebaseError: error => dispatch(FirebaseActions.setFirebaseError(error)),\r\n    setViewLoading: state => dispatch(FirebaseActions.viewIsLoading(state)),\r\n    setViewError: error => dispatch(FirebaseActions.setViewError(error)),\r\n  }\r\n};\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(ViewContainer);\r\n//export default ViewContainer;\r\n","import React from 'react'\r\nimport { createAppContainer } from 'react-navigation'\r\nimport { createStackNavigator } from 'react-navigation-stack'\r\nimport { TouchableOpacity, View, Text } from 'react-native'\r\nimport { Icon } from 'react-native-elements'\r\n\r\nimport NavigationService from '../Services/NavigationService'\r\n\r\nimport AdminFrontScreen from '../Containers/Cloud/AdminPanel/FrontScreen'\r\n\r\nimport AdminUserBoard from '../Containers/Cloud/AdminPanel/UserBoard'\r\nimport AdminSystemBoard from '../Containers/Cloud/AdminPanel/SystemBoard'\r\n\r\nimport UserPanelNavigation from '../Navigators/UserPanelNavigator'\r\n\r\nimport { ApplicationStyles } from '../Theme'\r\n\r\n/**\r\n * The root screen contains the application's navigation.\r\n *\r\n * @see https://reactnavigation.org/docs/en/hello-react-navigation.html#creating-a-stack-navigator\r\n */\r\nconst StackNavigator = createStackNavigator(\r\n  {\r\n    // Create the application routes here (the key is the route name, the value is the target screen)\r\n    // See https://reactnavigation.org/docs/en/stack-navigator.html#routeconfigs\r\n    \r\n    AdminFront: {\r\n      screen: AdminFrontScreen,\r\n      navigationOptions: () => ({\r\n        title: 'Admin Panel',\r\n        headerLeft: () => (\r\n          <View style={{padding:6, paddingLeft: 15}}>\r\n            <Icon type='ionicon' name=\"md-arrow-back\" size={25} color=\"black\" onPress={() => NavigationService.navigate('MainStack')}/>\r\n          </View>\r\n        ),\r\n      }),\r\n      path: 'admin_front',\r\n    },\r\n\r\n    UserBoard: {\r\n      screen: AdminUserBoard,\r\n      navigationOptions: () => ({\r\n        title: 'User Board',\r\n      }),\r\n      path: 'admin_user_board',\r\n    },\r\n    SystemBoard: {\r\n      screen: AdminSystemBoard,\r\n      navigationOptions: () => ({\r\n        title: 'System Board',\r\n      }),\r\n      path: 'admin_system_board',\r\n    },\r\n\r\n    UserPanel: {\r\n      screen: UserPanelNavigation,\r\n      navigationOptions: () => ({\r\n        title: 'Admin Panel',\r\n        headerLeft: () => (\r\n          <View style={{padding:6, paddingLeft: 15}}>\r\n            <Icon type='ionicon' name=\"md-arrow-back\" size={25} color=\"black\" onPress={() => NavigationService.navigate('SystemBoard')}/>\r\n          </View>\r\n        ),\r\n      }),\r\n      path: 'admin_front',\r\n    },\r\n  },\r\n  {\r\n    initialRouteName: 'AdminFront', \r\n\r\n    // See https://reactnavigation.org/docs/en/stack-navigator.html#stacknavigatorconfig\r\n    headerMode: 'float',\r\n    defaultNavigationOptions:{\r\n      headerTitleAlign: 'center',\r\n      headerTitleStyle:{...ApplicationStyles.navigationHeader},\r\n      headerRight: () => (<View style={{padding:6}}></View>),\r\n    },\r\n  }\r\n)\r\n\r\nexport default StackNavigator\r\n","import React, { useEffect, Component } from 'react'\r\nimport { Platform, Text, View, ActivityIndicator } from 'react-native'\r\nimport { useDispatch, useSelector, connect } from 'react-redux'\r\nimport { bindActionCreators } from 'redux';\r\n\r\nimport NavigationService from '../../../Services/NavigationService'\r\n\r\nimport FirebaseActions from '../../../Stores/Firebase/Actions'\r\nimport { Actions, DataRefs } from '../../../Stores/Firebase/Selectors'\r\n\r\nimport { Button, Button_Panel } from '../../../Components'\r\nimport Style from './AdminPanelStyle'\r\nimport { ApplicationStyles, Helpers, Metrics, Images } from '../../../Theme'\r\n\r\nclass FrontScreen extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      ISLOADPAGE: true,\r\n    }\r\n  }\r\n\r\n  getData(){\r\n  }\r\n\r\n  checkData(props) {\r\n  }\r\n\r\n  componentDidMount() {\r\n    this.props.setViewLoading(false)\r\n    this.props.setViewError(null)\r\n    this.props.clearDataMem()\r\n    this.checkData(this.props)\r\n    this.getData()\r\n  }\r\n\r\n  componentDidUpdate(prevProps, prevState) {\r\n    if (this.props !== prevProps){\r\n      this.checkData(this.props);\r\n    }\r\n  }\r\n\r\n  render() {\r\n    const IsLoading = this.props.firebase.firebaseIsLoading\r\n    const firebaseUser = this.props.firebase.firebaseUser\r\n    \r\n    return(\r\n      <View\r\n      style={[\r\n        Helpers.mainContainer,\r\n      ]}\r\n      >\r\n        <View style={[Helpers.contentContainer, Helpers.fullSize, Helpers.fillColMain]}>\r\n          {firebaseUser?(\r\n          <View style={ Helpers.textContainer }>\r\n            <Text style={ApplicationStyles.text}>Welcome: {firebaseUser.displayName ? firebaseUser.displayName : firebaseUser.email}</Text>\r\n          </View>):(<></>)}\r\n\r\n          <Button_Panel \r\n            Texts={[\"User Board\", \"Systems\"]}\r\n            Images={[Images.DashBoard, Images.System,]}\r\n            onPress={(ele) => {\r\n              switch(ele.text){\r\n                case \"User Board\":\r\n                  NavigationService.navigate(\"UserBoard\")\r\n                  break;\r\n                case \"Systems\":\r\n                  NavigationService.navigate(\"SystemBoard\")\r\n                  break;\r\n              }\r\n              ele.text\r\n            }}\r\n          />\r\n          \r\n          <View style={[Helpers.buttonContainer, Helpers.midWidth] }>\r\n            <Button Text=\"LogOut\"\r\n              onPress={() => {\r\n                this.props.logOut()\r\n              }}/>\r\n          </View>\r\n        </View>\r\n        {(IsLoading || this.props.firebase.viewIsLoading) &&\r\n          <ActivityIndicator style={Helpers.loadingContainer} size='large' />\r\n        }\r\n      </View>\r\n    )\r\n  }\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n  const { firebase } = state\r\n  return { firebase }\r\n};\r\n\r\nconst mapDispatchToProps  = (dispatch) => {\r\n  return {\r\n    setFirebaseError: error => dispatch(FirebaseActions.setFirebaseError(error)),\r\n    setViewLoading: state => dispatch(FirebaseActions.viewIsLoading(state)),\r\n    setViewError: error => dispatch(FirebaseActions.setViewError(error)),\r\n\r\n    clearDataMem: () => dispatch(FirebaseActions.actionStarting(Actions.CLEAR, DataRefs.USERSDATA)),\r\n    logOut: () => dispatch(FirebaseActions.actionStarting(Actions.SIGN, DataRefs.USERSDATA)),\r\n  }\r\n};\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(FrontScreen);\r\n//export default FrontScreen;\r\n","import { StyleSheet } from 'react-native'\r\nimport { Helpers, Metrics, Fonts, Colors } from '../../../Theme'\r\n\r\nexport default StyleSheet.create({\r\n\r\n})\r\n","import React, { useEffect, useState, Component } from 'react'\r\nimport { Platform, Text, View, ActivityIndicator, Image, StyleSheet, ScrollView, SafeAreaView, FlatList } from 'react-native'\r\nimport { ListItem, Input } from 'react-native-elements'\r\nimport { useDispatch, useSelector, connect } from 'react-redux'\r\nimport { bindActionCreators } from 'redux';\r\n\r\nimport NavigationService from '../../../Services/NavigationService'\r\n\r\nimport FirebaseActions from '../../../Stores/Firebase/Actions'\r\nimport { Actions, DataRefs, sortObject } from '../../../Stores/Firebase/Selectors'\r\n\r\nimport { Button, OperationsPanel, CustomListItem, ContentProp } from '../../../Components'\r\nimport Style from '../../../Containers/Cloud/CloudScreenStyle'\r\nimport { ApplicationStyles, Helpers, Metrics } from '../../../Theme'\r\n\r\nimport { FlatGrid, SectionGrid } from 'react-native-super-grid';\r\n\r\nclass UserListBoard extends Component {\r\n  constructor(props){\r\n    super(props);\r\n\r\n    const {UserList} = this.setData(props)\r\n    this.state = {\r\n      UserList: UserList,\r\n      User: \"\"\r\n    }\r\n  }\r\n\r\n  getData() {\r\n    this.props.getUsers()\r\n  }\r\n\r\n  setData(Props) {\r\n    const localDataStore = Props.firebase.localDataStore\r\n\r\n    var UserList = null\r\n    if (localDataStore && localDataStore.users) {\r\n      UserList = sortObject(localDataStore.users)\r\n    }\r\n    \r\n    return {UserList}\r\n  }\r\n\r\n  checkData(props) {\r\n  }\r\n\r\n  componentDidMount() {\r\n    this.props.setViewLoading(false)\r\n    this.props.setViewError(null)\r\n    this.checkData(this.props)\r\n    this.getData()\r\n  }\r\n\r\n  componentDidUpdate(prevProps, prevState) {\r\n    if (this.props !== prevProps){\r\n      this.checkData(this.props);\r\n\r\n      if (this.props.firebase) {\r\n        if (this.props.firebase.localDataStore) {\r\n          if (this.props.firebase.localDataStore.users && JSON.stringify(this.state.UserList)!==JSON.stringify(sortObject(this.props.firebase.localDataStore.users))) {\r\n            const {UserList} = this.setData(this.props)\r\n            this.setState({\r\n              UserList: UserList,\r\n            })\r\n          }\r\n        }\r\n      }\r\n    }\r\n  }\r\n\r\n  render() {\r\n    const IsLoading = this.props.firebase.firebaseIsLoading\r\n\r\n    return(\r\n      <View\r\n        style={[\r\n          Helpers.mainContainer,\r\n        ]}\r\n      >\r\n        <View style={[Helpers.contentContainer, Helpers.fullWidth, Helpers.fill]}>\r\n          <View style={[Helpers.fill, Helpers.buttonContainer, Helpers.fullWidth, Metrics.bottomMargin, Helpers.column]}>\r\n            {this.state.UserList ? (\r\n              <View style={[Helpers.fill, Helpers.borderContainer, Metrics.smallHorizontalPadding, Metrics.smallVerticalPadding, {maxWidth:800, marginTop:10}]}>\r\n                <SafeAreaView style={styles.container}>\r\n                  <FlatList\r\n                    data={Object.keys(this.state.UserList).filter(e => e !== '__jsogObjectId')}\r\n                    renderItem={({item, index})=>{\r\n                      var User = this.state.UserList[item];\r\n                      return(\r\n                        <View style={[Helpers.fill, Helpers.rowCenter, Helpers.fullWidth, {height:35}]}>\r\n                          <CustomListItem Title={User.name} itemStyle={[{minWidth: 190, height:35,}]} onPress={() => {\r\n                              //this.props.setData(item, Section, Pen)\r\n                              //NavigationService.navigate(\"DataDisplay\")\r\n                            }}/>\r\n\r\n                          <CustomListItem itemStyle={[{width:70, height:35, justifyContent:\"center\"}]} Title={\"\"} onPress={() => {\r\n                              this.setState({\r\n                                User: User.name\r\n                              })\r\n                            }}/>\r\n\r\n                          <CustomListItem itemStyle={[{width:90, height:35}]} Title={User.state} onPress={() => {\r\n                              this.setState({\r\n                                User: User.name\r\n                              })\r\n                            }}/>\r\n                        </View>\r\n                      )\r\n                    }}\r\n                    keyExtractor={(item, index) => index.toString()}\r\n                  />\r\n                </SafeAreaView>\r\n              </View>\r\n            ):(<></>)} \r\n            <Input\r\n              label={\"User-tag:\"}\r\n              containerStyle={[{borderWidth:1, marginTop:10}]}\r\n              style={[ApplicationStyles.input, ]}\r\n              onChangeText={text => {\r\n                this.setState({\r\n                  User: text\r\n                })\r\n              }}\r\n              value={\r\n                this.state.User\r\n              }\r\n            />\r\n          </View>\r\n        </View>\r\n        {(IsLoading || this.props.firebase.viewIsLoading) &&\r\n          <ActivityIndicator style={Helpers.loadingContainer} size='large' />\r\n        }\r\n      </View>\r\n    )\r\n  }\r\n}\r\n\r\nconst styles = StyleSheet.create({\r\n  circle: {\r\n    width: 125,\r\n    height: 125,\r\n    borderRadius: 125/2,\r\n    marginTop: Metrics.tiny,\r\n    marginLeft: Metrics.tiny,\r\n  },\r\n});\r\n\r\nconst mapStateToProps = (state) => {\r\n  const { firebase } = state\r\n  return { firebase }\r\n};\r\n\r\nconst mapDispatchToProps  = (dispatch) => {\r\n  return {\r\n    setFirebaseError: error => dispatch(FirebaseActions.setFirebaseError(error)),\r\n    setViewLoading: state => dispatch(FirebaseActions.viewIsLoading(state)),\r\n    setViewError: error => dispatch(FirebaseActions.setViewError(error)),\r\n\r\n    getUsers: () => dispatch(FirebaseActions.actionStarting(Actions.FETCH, DataRefs.USERS, {UserId:\"\"})),\r\n  }\r\n};\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(UserListBoard);","import React, { useEffect, useState, Component } from 'react'\r\nimport { Platform, Text, View, ActivityIndicator, Image, StyleSheet, ScrollView, SafeAreaView, FlatList } from 'react-native'\r\nimport { ListItem, Input } from 'react-native-elements'\r\nimport { useDispatch, useSelector, connect } from 'react-redux'\r\nimport { bindActionCreators } from 'redux';\r\n\r\nimport NavigationService from '../../../Services/NavigationService'\r\n\r\nimport FirebaseActions from '../../../Stores/Firebase/Actions'\r\nimport { Actions, DataRefs, sortObject } from '../../../Stores/Firebase/Selectors'\r\n\r\nimport { Button, OperationsPanel, CustomListItem, ContentProp } from '../../../Components'\r\nimport Style from '../../../Containers/Cloud/CloudScreenStyle'\r\nimport { ApplicationStyles, Helpers, Metrics } from '../../../Theme'\r\n\r\nimport { FlatGrid, SectionGrid } from 'react-native-super-grid';\r\n\r\nclass SystemListBoard extends Component {\r\n  constructor(props){\r\n    super(props);\r\n\r\n    const {FarmList} = this.setData(props)\r\n    this.state = {\r\n      FarmList: FarmList,\r\n      Farm: {name: \"\"}\r\n    }\r\n  }\r\n\r\n  getData() {\r\n    this.props.getFarms()\r\n  }\r\n\r\n  setData(Props) {\r\n    const localDataStore = Props.firebase.localDataStore\r\n\r\n    var FarmList = null\r\n    if (localDataStore && localDataStore.farms) {\r\n      FarmList = sortObject(localDataStore.farms)\r\n    }\r\n    return {FarmList}\r\n  }\r\n\r\n  checkData(props) {\r\n  }\r\n\r\n  componentDidMount() {\r\n    this.props.setViewLoading(false)\r\n    this.props.setViewError(null)\r\n    this.checkData(this.props)\r\n    this.getData()\r\n  }\r\n\r\n  componentDidUpdate(prevProps, prevState) {\r\n    if (this.props !== prevProps){\r\n      this.checkData(this.props);\r\n\r\n      if (this.props.firebase) {\r\n        if (this.props.firebase.localDataStore) {\r\n          if (this.props.firebase.localDataStore.farms && JSON.stringify(this.state.FarmList)!==JSON.stringify(sortObject(this.props.firebase.localDataStore.farms))) {\r\n            const {FarmList} = this.setData(this.props)\r\n            this.setState({\r\n              FarmList: FarmList,\r\n            })\r\n          }\r\n        }\r\n      }\r\n    }\r\n  }\r\n\r\n  render() {\r\n    const IsLoading = this.props.firebase.firebaseIsLoading\r\n\r\n    return(\r\n      <View\r\n        style={[\r\n          Helpers.mainContainer,\r\n        ]}\r\n      >\r\n        <View style={[Helpers.contentContainer, Helpers.fullWidth, Helpers.fill]}>\r\n          <View style={[Helpers.fill, Helpers.buttonContainer, Helpers.fullWidth, Metrics.bottomMargin, Helpers.column]}>\r\n            {this.state.FarmList ? (\r\n              <View style={[Helpers.fill, Helpers.borderContainer, Metrics.smallHorizontalPadding, Metrics.smallVerticalPadding, {maxWidth:800, marginTop:10}]}>\r\n                <SafeAreaView style={styles.container}>\r\n                  <FlatList\r\n                    data={Object.keys(this.state.FarmList).filter(e => e !== '__jsogObjectId')}\r\n                    renderItem={({item, index})=>{\r\n                      var Farm = this.state.FarmList[item];\r\n                      Farm.id = item\r\n                      return(\r\n                        <View style={[Helpers.fill, Helpers.rowCenter, Helpers.fullWidth, {height:35}]}>\r\n                          <CustomListItem Title={Farm.name} itemStyle={[{minWidth: 100, height:35,}]} onPress={() => {\r\n                              //this.props.setData(item, Section, Pen)\r\n                              //NavigationService.navigate(\"DataDisplay\")\r\n                            }}/>\r\n\r\n                          <CustomListItem itemStyle={[{minWidth:150, height:35, justifyContent:\"center\"}]} Title={Farm.manager} onPress={() => {\r\n                              this.setState({\r\n                                Farm: Farm\r\n                              })\r\n                            }}/>\r\n\r\n                          <CustomListItem itemStyle={[{minWidth:150, height:35}]} Title={Farm.email} onPress={() => {\r\n                              this.setState({\r\n                                Farm: Farm\r\n                              })\r\n                            }}/>\r\n                        </View>\r\n                      )\r\n                    }}\r\n                    keyExtractor={(item, index) => index.toString()}\r\n                  />\r\n                </SafeAreaView>\r\n              </View>\r\n            ):(<></>)} \r\n            <View style={[Helpers.rowCenter, Helpers.fullWidth, {height:120}]}>\r\n              <Input\r\n                label={\"Farm-tag:\"}\r\n                containerStyle={[Helpers.halvWidth,{borderWidth:1, marginTop:10}]}\r\n                style={[ApplicationStyles.input, ]}\r\n                editable={false}\r\n                onChangeText={text => {\r\n                  var Farm = this.state.Farm;\r\n                  Farm.name = text;\r\n                  this.setState({\r\n                    Farm: Farm\r\n                  })\r\n                }}\r\n                value={\r\n                  this.state.Farm.name\r\n                }\r\n              />\r\n              <Button Text=\"Consys\"\r\n                boxStyle={[{marginLeft:10}]}\r\n                onPress={() => {\r\n                  //this.props.logOut()\r\n                }}/>\r\n              <Button Text=\"Farm Panel\"\r\n                boxStyle={[{marginLeft:10}]}\r\n                onPress={() => {\r\n                  if (this.state.Farm.id !== \"\") {\r\n                    this.props.clearDataMem()\r\n                    this.props.setUserFarm(this.state.Farm.id)\r\n                    NavigationService.navigate(\"UserPanel\")\r\n                  }\r\n                }}/>\r\n            </View>\r\n          </View>\r\n        </View>\r\n        {(IsLoading || this.props.firebase.viewIsLoading) &&\r\n          <ActivityIndicator style={Helpers.loadingContainer} size='large' />\r\n        }\r\n      </View>\r\n    )\r\n  }\r\n}\r\n\r\nconst styles = StyleSheet.create({\r\n  circle: {\r\n    width: 125,\r\n    height: 125,\r\n    borderRadius: 125/2,\r\n    marginTop: Metrics.tiny,\r\n    marginLeft: Metrics.tiny,\r\n  },\r\n});\r\n\r\nconst mapStateToProps = (state) => {\r\n  const { firebase } = state\r\n  return { firebase }\r\n};\r\n\r\nconst mapDispatchToProps  = (dispatch) => {\r\n  return {\r\n    setFirebaseError: error => dispatch(FirebaseActions.setFirebaseError(error)),\r\n    setViewLoading: state => dispatch(FirebaseActions.viewIsLoading(state)),\r\n    setViewError: error => dispatch(FirebaseActions.setViewError(error)),\r\n\r\n    clearDataMem: () => dispatch(FirebaseActions.actionStarting(Actions.CLEAR, DataRefs.USERSDATA)),\r\n    getFarms: () => dispatch(FirebaseActions.actionStarting(Actions.FETCH, DataRefs.FARMS, {FarmId: \"\"})),\r\n    setUserFarm: (FarmId) => dispatch(FirebaseActions.actionStarting(Actions.UPDATE, DataRefs.USERS, {farms:{[FarmId]: true}})),\r\n  }\r\n};\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(SystemListBoard);","import { StyleSheet } from 'react-native'\r\nimport { Helpers, Metrics, Fonts, Colors } from '../../Theme'\r\n\r\nexport default StyleSheet.create({\r\n  loading: {\r\n    position: 'absolute',\r\n    left: 0,\r\n    right: 0,\r\n    top: 0,\r\n    bottom: 0,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n    backgroundColor: '#F5FCFF88',\r\n  },\r\n\r\n  textContainer: {\r\n    ...Fonts.normal,\r\n    marginBottom: Metrics.normal,\r\n  },\r\n  inputContainer: {\r\n    marginBottom: Metrics.small,\r\n  },\r\n\r\n  input: {\r\n    ...Fonts.normal,\r\n    height: 24, \r\n  },\r\n  \r\n})\r\n","import { createActions } from 'reduxsauce'\r\n\r\n/**\r\n * We use reduxsauce's `createActions()` helper to easily create redux actions.\r\n *\r\n * Keys are action names and values are the list of parameters for the given action.\r\n *\r\n * Action names are turned to SNAKE_CASE into the `Types` variable. This can be used\r\n * to listen to actions:\r\n *\r\n * - to trigger reducers to update the state, for example in App/Stores/Example/Reducers.js\r\n * - to trigger sagas, for example in App/Sagas/index.js\r\n *\r\n * Actions can be dispatched:\r\n *\r\n * - in React components using `dispatch(...)`, for example in App/App.js\r\n * - in sagas using `yield put(...)`, for example in App/Sagas/ExampleSaga.js\r\n *\r\n * @see https://github.com/infinitered/reduxsauce#createactions\r\n */\r\nconst { Types, Creators } = createActions({\r\n  // Fetch user informations\r\n  fetchUser: null,\r\n  // The operation has started and is loading\r\n  fetchUserLoading: null,\r\n  // User informations were successfully fetched\r\n  fetchUserSuccess: ['user'],\r\n  // An error occurred\r\n  fetchUserFailure: ['errorMessage'],\r\n})\r\n\r\nexport const ExampleTypes = Types\r\nexport default Creators\r\n","import React from 'react';\r\nimport { StyleSheet, View, TouchableOpacity, Text, Image} from 'react-native';\r\n\r\nimport { ApplicationStyles, Helpers, Metrics, Fonts, Colors, Images } from '../Theme'\r\n\r\nconst Button = props => {\r\n  var TextView = [<Text style={[styles.text, props.textStyle]} key={0}>{props.Text}</Text>]\r\n\r\n  var ImageView = []\r\n  if (props.icon) {\r\n    var _Image = <Image style={Helpers.fullSize} source={props.icon} resizeMode={'contain'} />\r\n    ImageView = (\r\n      <View style={[styles.icon, props.iconStyle]}>\r\n        {_Image}\r\n      </View>\r\n    )\r\n  }\r\n  return (\r\n    <TouchableOpacity style={[styles.boxContainer, props.boxStyle]} onPress={props.onPress}>\r\n      {props.icon?(\r\n        <View style={[styles.button, props.buttonStyle, Helpers.rowCenter]}>\r\n          <View style={[Helpers.colCenter, Helpers.fill]}>\r\n            {TextView}\r\n          </View>\r\n            {ImageView}\r\n        </View>\r\n      ):(\r\n        <View style={[styles.button, props.buttonStyle]}>\r\n          {TextView}\r\n        </View>\r\n      )}\r\n    </TouchableOpacity>\r\n  );\r\n};\r\n\r\nconst styles = StyleSheet.create({\r\n  boxContainer:{\r\n    ...Helpers.center,\r\n    ...Metrics.tinyVerticalMargin,\r\n  },\r\n  button: {\r\n    borderRadius: 15,\r\n    ...Helpers.center,\r\n    ...Helpers.fullWidth,\r\n    ...Metrics.horizontalPadding,\r\n    ...ApplicationStyles.button,\r\n  },\r\n  text: {\r\n    ...ApplicationStyles.buttonText,\r\n    ...Metrics.verticalPadding,\r\n    ...Helpers.center,\r\n    textAlign:\"center\",\r\n  },\r\n  icon: {\r\n    ...Helpers.colCenter,\r\n    ...Metrics.smallVerticalMargin,\r\n    width: '25%', \r\n    height: 50,\r\n  },\r\n});\r\n\r\nexport default Button;","import { StyleSheet } from 'react-native'\r\nimport { Helpers, Metrics, Fonts, Colors } from '../../../Theme'\r\n\r\nexport default StyleSheet.create({\r\n  \r\n})\r\n","import Colors from './Colors'\r\nimport Fonts from './Fonts'\r\nimport Metrics from './Metrics'\r\nimport Images from './Images'\r\nimport Helpers from './Helpers'\r\nimport ApplicationStyles from './ApplicationStyles'\r\n\r\nexport { Colors, Fonts, Images, Metrics, Helpers, ApplicationStyles }\r\n","import { createActions } from 'reduxsauce'\r\n\r\n/**\r\n * We use reduxsauce's `createActions()` helper to easily create redux actions.\r\n *\r\n * Keys are action names and values are the list of parameters for the given action.\r\n *\r\n * Action names are turned to SNAKE_CASE into the `Types` variable. This can be used\r\n * to listen to actions:\r\n *\r\n * - to trigger reducers to update the state, for example in App/Stores/Example/Reducers.js\r\n * - to trigger sagas, for example in App/Sagas/index.js\r\n *\r\n * Actions can be dispatched:\r\n *\r\n * - in React components using `dispatch(...)`, for example in App/App.js\r\n * - in sagas using `yield put(...)`, for example in App/Sagas/ExampleSaga.js\r\n *\r\n * @see https://github.com/infinitered/reduxsauce#createactions\r\n */\r\nconst { Types, Creators } = createActions({\r\n  bleStartup: null,\r\n  bleStateUpdated: ['bleState'],\r\n\r\n  startBleScan: null,\r\n  stopBleScan: null,\r\n\r\n  readBleDeviceData: null,\r\n})\r\n\r\nexport const BleTypes = Types\r\nexport default Creators","import { createActions } from 'reduxsauce'\r\n\r\n/**\r\n * We use reduxsauce's `createActions()` helper to easily create redux actions.\r\n *\r\n * Keys are action names and values are the list of parameters for the given action.\r\n *\r\n * Action names are turned to SNAKE_CASE into the `Types` variable. This can be used\r\n * to listen to actions:\r\n *\r\n * - to trigger reducers to update the state, for example in App/Stores/Example/Reducers.js\r\n * - to trigger sagas, for example in App/Sagas/index.js\r\n *\r\n * Actions can be dispatched:\r\n *\r\n * - in React components using `dispatch(...)`, for example in App/App.js\r\n * - in sagas using `yield put(...)`, for example in App/Sagas/ExampleSaga.js\r\n *\r\n * @see https://github.com/infinitered/reduxsauce#createactions\r\n */\r\nconst { Types, Creators } = createActions({\r\n  bluetoothStartup: null,\r\n\r\n  startBluetoothScan: null,\r\n  stopBluetoothScan: null,\r\n  \r\n  bluetoothScanAble: null,\r\n\r\n  readBlueDeviceData: null,\r\n})\r\n\r\nexport const BluetoothTypes = Types\r\nexport default Creators","const HTTPS_START = 'https://';\r\nexport const Config = {\r\n  API_URL: HTTPS_START+ 'jsonplaceholder.typicode.com/users/',\r\n\r\n  CONSYS_CLIENT_ID: 'consysapp',\r\n  CONSYS_CLIENT_SECRET: 'Kjsd832n8DIO32kmsdds3',\r\n  CONSYS_AUTH: '.agrisys.cloud/oauthserver/getaccesstoken/?redirect_uri=urn:ietf:wg:oauth:2.0:oob',\r\n  CONSYS_API: '.agrisys.cloud/consys-api-v1/',\r\n}\r\n\r\nexport function GetToken_URL(Site_URL, Refresh_Token) {\r\n  var res = HTTPS_START + Site_URL + Config.CONSYS_AUTH\r\n  res = res + '&client_id='+Config.CONSYS_CLIENT_ID+'&client_secret='+Config.CONSYS_CLIENT_SECRET+'&refresh_token=' + Refresh_Token\r\n  return res;\r\n}\r\n\r\nexport function GetCheckToken_URL(Site_URL) {\r\n  var res = HTTPS_START + Site_URL + Config.CONSYS_API + 'checkaccesstoken'\r\n  return res;\r\n}\r\n\r\nexport function GetConsumtion_URL(Site_URL) {\r\n  var res = HTTPS_START + Site_URL + Config.CONSYS_API + 'getconsumptiondata?'\r\n  return res;\r\n}\r\n\r\nexport function GetConsumtionData_URL(Site_URL, Consumptiontype, SystemId, Offset=null, Limit=null, Starttime=null, Stoptime=null, Lastid=null){\r\n  var res = GetConsumtion_URL(Site_URL)\r\n  res = res + GetConsumtionData_Var(Consumptiontype, SystemId, Offset, Limit, Starttime, Stoptime, Lastid)\r\n  return res;\r\n}\r\n\r\nexport function GetConsumtionData_Var(Consumptiontype, SystemId, Offset=null, Limit=null, Starttime=null, Stoptime=null, Lastid=null){\r\n  var res = 'consumptiontype=' + Consumptiontype + '&systemid=' + SystemId;\r\n  if (Offset) res = res + '&offset=' + Offset;\r\n  if (Limit) res = res + '&limit=' + Limit;\r\n  if (Starttime) res = res + '&starttime=' + Starttime;\r\n  if (Stoptime) res = res + '&stoptime=' + Stoptime;\r\n  if (Lastid) res = res + '&lastid=' + Lastid;\r\n  return res;\r\n}","import { Platform, PermissionsAndroid } from 'react-native'\r\nimport { Config } from '../Config'\r\n\r\nasync function isPermit_Android() {\r\n  if (Platform.OS === 'android' && Platform.Version >= 23) {\r\n    const Have_Coarse_Location = await PermissionsAndroid.check(PermissionsAndroid.PERMISSIONS.ACCESS_COARSE_LOCATION);\r\n   if (!Have_Coarse_Location) {\r\n      const Got_Access = await PermissionsAndroid.request(PermissionsAndroid.PERMISSIONS.ACCESS_COARSE_LOCATION);\r\n      if (Got_Access !== PermissionsAndroid.RESULTS.GRANTED) {\r\n        console.log(\"No Ble Permission granted : Android\");\r\n        return false;\r\n      }\r\n    }\r\n  }\r\n  return true;\r\n}\r\n\r\nfunction isBlePermitted() {\r\n  return new Promise((resolve, reject) => {\r\n    if (Platform.OS === 'android' && Platform.Version >= 23) {\r\n      if (!isPermit_Android()){\r\n        resolve('This application needs premissions to be using BLE');\r\n      }\r\n    }\r\n    resolve(null)\r\n  })\r\n}\r\n\r\nexport const deviceService = {\r\n  isBlePermitted,\r\n  //isPermit_Android,\r\n}\r\n","import React from 'react'\r\nimport { BackHandler } from 'react-native'\r\nimport { NavigationActions, StackActions } from 'react-navigation'\r\n\r\n/**\r\n * The navigation is implemented as a service so that it can be used outside of components, for example in sagas.\r\n *\r\n * @see https://reactnavigation.org/docs/en/navigating-without-navigation-prop.html\r\n */\r\n\r\nlet navigator\r\nvar LastPage\r\n/**\r\n * This function is called when the RootScreen is created to set the navigator instance to use.\r\n */\r\nfunction setTopLevelNavigator(navigatorRef) {\r\n  navigator = navigatorRef\r\n\r\n  /*BackHandler.addEventListener('hardwareBackPress', () => {\r\n    console.log(navigator._navigation)\r\n    if (navigator && navigator._navigation && navigator._navigation.state) {\r\n      var Stackindex = navigator._navigation.state.index\r\n      var Stack = navigator._navigation.state.routes[Stackindex]\r\n      if (Stack.routes){\r\n        var index = Stack.index;\r\n        var routeName = Stack.routes[index].routeName;\r\n        if (routeName === 'UserFront' || routeName === 'LoginUser'){\r\n          navigator.dispatch(\r\n            NavigationActions.back()\r\n          )\r\n          //navigate('FrontScreen');\r\n          //return true;\r\n        }\r\n      }\r\n    }\r\n  });*/\r\n}\r\n\r\nfunction replace(routeName, params){\r\n  //if (LastPage === routeName) return null\r\n  //else {\r\n    LastPage = routeName;\r\n    navigator.dispatch(\r\n      StackActions.replace({\r\n        routeName,\r\n        params,\r\n      })\r\n    )\r\n  //}\r\n}\r\n\r\n/**\r\n * Call this function when you want to navigate to a specific route.\r\n *\r\n * @param routeName The name of the route to navigate to. Routes are defined in RootScreen using createStackNavigator()\r\n * @param params Route parameters.\r\n */\r\nfunction navigate(routeName, params) {\r\n  //if (LastPage === routeName) return null\r\n  //else {\r\n    LastPage = routeName;\r\n    navigator.dispatch(\r\n      NavigationActions.navigate({\r\n        routeName,\r\n        params,\r\n      })\r\n    )\r\n  //}\r\n}\r\n\r\n/**\r\n * Call this function when you want to navigate to a specific route AND reset the navigation history.\r\n *\r\n * That means the user cannot go back. This is useful for example to redirect from a splashscreen to\r\n * the main screen: the user should not be able to go back to the splashscreen.\r\n *\r\n * @param routeName The name of the route to navigate to. Routes are defined in RootScreen using createStackNavigator()\r\n * @param params Route parameters.\r\n */\r\nfunction navigateAndReset(routeName, params) {\r\n  //if (LastPage === routeName) return null\r\n  //else {\r\n    LastPage = routeName;\r\n    navigator.dispatch(\r\n      StackActions.reset({\r\n        index: 0,\r\n        key: null,\r\n        actions: [\r\n          NavigationActions.navigate({\r\n            routeName,\r\n            params,\r\n          }),\r\n        ],\r\n      })\r\n    )\r\n  //}\r\n}\r\n\r\nfunction nacigationPop() {\r\n  LastPage = \"\";\r\n  navigator.dispatch(NavigationActions.back())\r\n}\r\n\r\nexport default {\r\n  navigate,\r\n  replace,\r\n  navigateAndReset,\r\n  setTopLevelNavigator,\r\n  nacigationPop,\r\n}\r\n","import { createActions } from 'reduxsauce'\r\n\r\nconst { Types, Creators } = createActions({\r\n  // This action is triggered when the application starts\r\n  startup: null,\r\n})\r\n\r\nexport const StartupTypes = Types\r\nexport default Creators\r\n","import { createActions } from 'reduxsauce'\r\n\r\n/**\r\n * We use reduxsauce's `createActions()` helper to easily create redux actions.\r\n *\r\n * Keys are action names and values are the list of parameters for the given action.\r\n *\r\n * Action names are turned to SNAKE_CASE into the `Types` variable. This can be used\r\n * to listen to actions:\r\n *\r\n * - to trigger reducers to update the state, for example in App/Stores/Example/Reducers.js\r\n * - to trigger sagas, for example in App/Sagas/index.js\r\n *\r\n * Actions can be dispatched:\r\n *\r\n * - in React components using `dispatch(...)`, for example in App/App.js\r\n * - in sagas using `yield put(...)`, for example in App/Sagas/ExampleSaga.js\r\n *\r\n * @see https://github.com/infinitered/reduxsauce#createactions\r\n */\r\nconst { Types, Creators } = createActions({\r\n  //Firebase Saga events\r\n  firebaseStartup: null,\r\n  //Firebase Saga and service\r\n  firebaseIsLoading: ['loadingstate'],\r\n  setFirebaseError: ['errorMessage'], // Firebase-saga error occurred\r\n\r\n  setViewError: ['errorMessage'], // view error\r\n  viewIsLoading: ['loadingstate'],\r\n  \r\n  setCurrentData: ['data'],\r\n\r\n  //Firebase Data fetches\r\n  actionStarting: ['action', 'ref', 'params'], // Data action (create, singin, share)\r\n  fetchStarting: ['action', 'ref', 'params'], // Fetch data informations\r\n  dataFetchSuccess: ['params'],\r\n  fetchSuccess: ['data'], // Informations were successfully fetched\r\n  fetchFailure: ['errorMessage'], // An error occurred\r\n})\r\n\r\nexport const FirebaseTypes = {...Types }\r\nexport default {...Creators }","import { ConnectionState, ConnectionMethode, ScannerState } from '../Selectors'\r\nimport { State } from 'react-native-ble-plx';\r\n\r\n/**\r\n * The initial values for the redux state.\r\n */\r\nexport const INITIAL_STATE = {\r\n  //Managers States\r\n  bleState: State.PoweredOff, // status of the BLE manger\r\n}","import { ConnectionState, ConnectionMethode, ScannerState } from '../Selectors'\r\nimport { State } from 'react-native-ble-plx';\r\n\r\n/**\r\n * The initial values for the redux state.\r\n */\r\nexport const INITIAL_STATE = {\r\n  //Managers States\r\n}","//#region Defines\r\nexport const UserStates = {\r\n  STARTER: 'starter',\r\n  FREE: 'free',\r\n  WORKER: 'worker',\r\n  OWNER: 'owner',\r\n  ADMIN: 'admin',\r\n}\r\n\r\nexport const DataStates = {\r\n  CLOSED: 'Closed'\r\n}\r\n\r\nexport const DataRefs = {\r\n  FIREBASEUSER: 'firebaseuser',\r\n  USERSDATA: 'usersdata',\r\n  USERS: 'users',\r\n  FARMS: 'farms',\r\n  SECTIONS: 'farms_data/$farmid/sections',\r\n  PENS: 'farms_data/$farmid/pens',\r\n  PIGS: 'farms_data/$farmid/pigs',\r\n  BATCHS: 'farms_data/$farmid/batchs',\r\n\r\n  WEIGHING: 'farms_data/$farmid/pens/$penid/weighings/',\r\n  GRAPH: 'farms_data/$farmid/Graph/$graphid/',\r\n\r\n  COMMENTS: 'farms_data/$farmid/datas/comments/',\r\n  FARMDATAS: 'farms_data/$farmid/datas/',\r\n  SHARES: 'shareData',\r\n  \r\n  CONSYS: 'consys',\r\n}\r\n\r\nexport const ConsysRefs = {\r\n  VALVEFEED: 100,\r\n  SCALE: 700,\r\n}\r\n\r\nexport const Actions = {\r\n  SIGN: 'sign',\r\n\r\n  FETCH: 'fetch',\r\n  CREATE: 'create',\r\n  UPDATE: 'update',\r\n  MOVE: 'move',\r\n  DELETE: 'delete',\r\n  CLEAR: 'clear',\r\n  ADD: 'add',\r\n}\r\n\r\nexport const Operations = {\r\n  ADD: 'Add pig',\r\n  MOVE: 'Move pig',\r\n  LOST: 'Lost pig',\r\n  SOLD: 'Sold pig',\r\n  NOTE: 'Pen Note',\r\n}\r\n\r\nexport const ErrorTypes = {\r\n  SYSTEM: 'System',\r\n  EMAIL: 'Email',\r\n  PASSWORD: 'Password',\r\n  FORMAT: 'Format',\r\n}\r\n//#endregion\r\n\r\n//#region Formaters\r\nfunction format_num(num) {\r\n  if (num < 10){\r\n    num = \"0\"+num\r\n  }\r\n  return num;\r\n}\r\nexport function format_Time(time) {\r\n  var s = new Date(parseInt(time));\r\n  var datetime = format_num(s.getDate()) + \"/\" + format_num(s.getMonth() +1) + \"/\" + s.getFullYear() + \" \" \r\n                  + format_num(s.getHours()) + \":\" + format_num(s.getMinutes()) + \":\" + format_num(s.getSeconds());\r\n  return datetime\r\n}\r\n\r\nvar reA = /[^a-zA-Z]/g;\r\nvar reN = /[^0-9]/g;\r\nfunction sortAlphaNum(a, b) {\r\n  var aA = a.replace(reA, \"\");\r\n  var bA = b.replace(reA, \"\");\r\n  if (aA === bA) {\r\n    var aN = parseInt(a.replace(reN, \"\"), 10);\r\n    var bN = parseInt(b.replace(reN, \"\"), 10);\r\n    return aN === bN ? 0 : aN > bN ? 1 : -1;\r\n  } else {\r\n    return aA > bA ? 1 : -1;\r\n  }\r\n}\r\n\r\nexport function sortObject(o) {\r\n  var sorted = {},\r\n  key, a = [];\r\n\r\n  for (key in o) {\r\n    if (o.hasOwnProperty(key) && key !== \"__jsogObjectId\" && key !== \"update_time\") {\r\n      a.push(key);\r\n    }\r\n  }\r\n  a.sort(sortAlphaNum);\r\n\r\n  for (key = 0; key < a.length; key++) {\r\n    sorted[a[key]] = o[a[key]];\r\n  }\r\n  return sorted;\r\n}\r\n\r\nexport function DataStringCheck(data, Check_num = true) {\r\n  if (!data || data === \"\"){\r\n    return false\r\n  }\r\n  if (!typeof(data) === 'string'){\r\n    return false\r\n  }else {\r\n    if (Check_num) {\r\n      var first = data[0]\r\n      var numbers = '0123456789';\r\n      for(var i = 0; i < numbers.length;i++){\r\n        if(first === numbers[i]){\r\n          return false\r\n        }\r\n      }\r\n    }\r\n\r\n    var specialChars = '/[`!@#$%^&*()+\\-=\\[\\]{};\\':\"\\\\|,.<>\\/?~]/';\r\n    for(var i = 0; i < specialChars.length;i++){\r\n      if(data.indexOf(specialChars[i]) > -1){\r\n        return false\r\n      }\r\n    }\r\n  }\r\n  return true\r\n}\r\n//#endregion\r\n\r\n//#region Data gets\r\nexport function GetWeight_FromPen(PenId, WeighingsStore = null, AfterTime = null, BeforeTime = null) {\r\n  //PenId: Parrent Get ellement (ID),\r\n  //WeighingsStore: LocalDataStore.weighings,\r\n  //AfterTime: Only data after specefied Time,\r\n  //BeforeTime: Only data before specefied Time\r\n  var Weighing = null;\r\n\r\n  if (PenId, WeighingsStore){\r\n    for (const _weighing in WeighingsStore[PenId]) {\r\n      var weighing = WeighingsStore[PenId][_weighing]\r\n      if (weighing && (!Weighing || Weighing.time < weighing.time)) {\r\n        if ((!AfterTime || weighing.time >= AfterTime) &&\r\n          (!BeforeTime || weighing.time <= BeforeTime)) {\r\n          Weighing = weighing\r\n        }\r\n      }\r\n    }\r\n  }\r\n  return Weighing;\r\n}\r\n\r\nexport function GetBatch_FromPen(localDataStore, PenId) {\r\n  if (localDataStore.batchs) {\r\n    //Get batch form pen\r\n    for (const _batch in localDataStore.batchs) {\r\n      var batch = localDataStore.batchs[_batch]\r\n      if (batch.hasOwnProperty(\"pens\") && batch.pens[PenId] != null) {\r\n        return localDataStore.batchs[_batch]\r\n      }\r\n    }\r\n  }\r\n  return null;\r\n}\r\n\r\nexport function GetStats_FromPen(PenId, PenData, localDataStore, StartDate, EndDate, PenWeighings = null){\r\n  var Animals = 0;\r\n  var PenWeight = 0\r\n  var PenGrowth = 0\r\n  var AveragePenGrowth = 0;\r\n\r\n  if (PenData.datas && PenData.datas.count || PenData.count) {\r\n    if (PenData.count) Animals += PenData.count\r\n    else Animals += PenData.datas.count\r\n  }\r\n  \r\n  if (localDataStore.weighings && localDataStore.weighings[PenId]) {\r\n    var GrowthCount = 0\r\n\r\n    var lastDate = 0\r\n    var LastWeight = undefined;\r\n    var LastWeightDay = undefined;\r\n    var FirstWeight = undefined;\r\n\r\n    if (!PenWeighings) PenWeighings = localDataStore.weighings[PenId]\r\n    if (PenWeighings) {\r\n      Object.keys(PenWeighings).forEach((weight) => {\r\n        var Weight = PenWeighings[weight]\r\n        if (Weight.time >= StartDate && Weight.time <= EndDate && Weight.time > lastDate) {\r\n          PenWeight = Weight.weight\r\n          if (Weight.count) PenWeight = Weight.weight / Weight.count;\r\n\r\n          if (LastWeight !== undefined) {\r\n            PenGrowth = PenWeight - LastWeight\r\n            GrowthCount++;\r\n          }\r\n\r\n          lastDate = Weight.time\r\n          LastWeight = PenWeight\r\n          LastWeightDay = Weight.time\r\n          if (!FirstWeight) FirstWeight = Weight.time;\r\n        }\r\n      })\r\n    }\r\n\r\n    var now = new Date().getTime()\r\n    var isVirtual = false;\r\n    if (StartDate && EndDate) {\r\n      var Batch = GetBatch_FromPen(localDataStore,PenId)\r\n      var TempGraph = GetCurve_FromBatch(Batch, localDataStore.graphs)\r\n      var BatchEndDate = EndDate;\r\n      var Predict = CurvePredict(localDataStore, PenId, Batch, TempGraph)\r\n      if (Predict != null && Predict.Now && now > new Date(lastDate).getDate()) {\r\n        PenWeight = Predict.Now\r\n        if (LastWeight !== undefined) {\r\n          PenGrowth += PenWeight - LastWeight\r\n          GrowthCount++;\r\n        }\r\n        var _date = new Date(Predict.lastWeighing.time + Predict.Addition)\r\n        _date.setDate(_date.getDate() + Predict.days)\r\n        LastWeightDay = _date.getTime()\r\n        isVirtual = true\r\n      }\r\n      if (Predict && Predict.lastWeighing && Predict.days) {\r\n        var tempEnd = new Date(EndDate).getTime()\r\n        var date = new Date(Predict.lastWeighing.time)\r\n        date.setDate(date.getDate() + Predict.days)\r\n        tempEnd = date.getTime()\r\n        if (Predict.Addition) {\r\n          tempEnd += Predict.Addition\r\n        }\r\n        if (EndDate === BatchEndDate || EndDate < tempEnd) {\r\n          EndDate = tempEnd;\r\n        }\r\n      }\r\n    }\r\n    if (GrowthCount > 0) {\r\n      var Growth = (PenGrowth / GrowthCount)\r\n      var days = (LastWeightDay - FirstWeight) / 86400000\r\n      Growth = Growth / days\r\n      AveragePenGrowth += Growth //AverageGrowth for specefic pen\r\n    }\r\n  }\r\n  return { Animals, PenWeight, AveragePenGrowth, EndDate, isVirtual }\r\n}\r\n\r\nexport function GetStats_FromBatch(Batch, localDataStore, Closed=true) {\r\n  if (!Batch) return null;\r\n  var isVirtual = false;\r\n  var PenCount = 0;\r\n  var Animals = 0\r\n  var CollectedWeight = 0;\r\n  var CollectedGrowth = 0;\r\n  \r\n  var isClosed = (Batch.state && Batch.state === \"Closed\")?true:false\r\n\r\n  var TempGraph = GetCurve_FromBatch(Batch, localDataStore.graphs)\r\n  if (!TempGraph) return null;\r\n  var TargetWeight = (Batch && Batch.datas && Batch.datas.target)?Batch.datas.target:TempGraph.data[TempGraph.data.length -1]\r\n  var EndDate = GetBatchEnd(Batch, TempGraph)\r\n  var StartDate = Batch.time;\r\n\r\n  var PenEnds = 0\r\n  if (Batch && Batch.pens && localDataStore.pens) {\r\n    Object.keys(Batch.pens).reverse().filter(e => (e !== '__jsogObjectId')).forEach(Batch_Pen => {\r\n      if (localDataStore && localDataStore.pens && localDataStore.pens[Batch_Pen] && localDataStore.weighings && localDataStore.weighings[Batch_Pen] || isClosed) {\r\n        var Pen = isClosed?Batch.pens[Batch_Pen]:localDataStore.pens[Batch_Pen]\r\n        PenCount++\r\n        \r\n        var PenWeighings = isClosed?Batch.closed.weighings[Batch_Pen]:localDataStore.weighings[Batch_Pen]\r\n        if (PenWeighings) {\r\n          var PenStats = GetStats_FromPen(Batch_Pen, Pen, localDataStore, StartDate, EndDate, PenWeighings)\r\n          Animals += PenStats.Animals;\r\n          var PenWeight = PenStats.PenWeight\r\n          if (PenWeight === 0) {\r\n            PenCount--\r\n          } else {\r\n            CollectedWeight += PenWeight\r\n            CollectedGrowth += PenStats.AveragePenGrowth\r\n            if (PenEnds < PenStats.EndDate) PenEnds = PenStats.EndDate\r\n            if (!isVirtual) isVirtual = PenStats.isVirtual\r\n          }\r\n        }\r\n      }\r\n    });\r\n  }\r\n\r\n  if (PenEnds > 0) EndDate = PenEnds\r\n  var AverageWeight = CollectedWeight / PenCount\r\n  AverageWeight = parseFloat(AverageWeight).toFixed(2)\r\n  var AverageGrowth = CollectedGrowth / PenCount\r\n  AverageGrowth = parseFloat(AverageGrowth).toFixed(2)\r\n\r\n  return {StartDate, EndDate, TargetWeight, PenCount, Animals, AverageWeight, AverageGrowth, isClosed, isVirtual}\r\n}\r\n\r\nexport function GetCurve_FromBatch(Batch, GraphsStore = null, CurrentData = null) {\r\n  //Batch: Parrent Get ellement,\r\n  //GraphsStore: LocalDataStore.graphs,\r\n  //CurrentData: Data state get,\r\n  if (Batch) {\r\n    var Garph = null\r\n    if (Batch.gcurve && Batch.state && Batch.state === DataStates.CLOSED) {\r\n      Garph = Batch.gcurve;\r\n    } else if (GraphsStore) {\r\n      if (CurrentData && (typeof CurrentData === 'string' || CurrentData.curveId)) {\r\n        var Id = (typeof CurrentData === 'string')? CurrentData: CurrentData.curveId\r\n        Garph = GraphsStore[Id]\r\n      }\r\n      if (Batch.gcurve) {\r\n        Garph = GraphsStore[Batch.gcurve];\r\n      }\r\n    }\r\n    if (Garph) {\r\n      var DataPoints = []\r\n      var _index = 0;\r\n      Object.keys(Garph.data).filter(e => e !== '__jsogObjectId').map((index) => {\r\n        DataPoints[index] = Garph.data[index]\r\n        for(var i = index-1; i > _index;i--) {\r\n          DataPoints[i] = null\r\n        }\r\n        _index = index\r\n      })\r\n      Garph.data = DataPoints\r\n      return Garph;\r\n    }\r\n  }\r\n  return null;\r\n}\r\n\r\nexport function GetBatchEnd(Batch, TempCurve) {\r\n  if (Batch && Batch.time && TempCurve) {\r\n    var currentTime = new Date(Batch.time) //Does not allow weight's after Batch end\r\n    for (var i = 0; i < TempCurve.data.length; i++) {\r\n      if (i < TempCurve.data.length -1) {\r\n        currentTime = new Date(AccumulateTime(currentTime, TempCurve.periode))\r\n      }\r\n    }\r\n    return currentTime.getTime();\r\n  }\r\n  return null\r\n}\r\n//#endregion\r\n\r\n//#region Curve Functions\r\nexport function AccumulateTime(Time, PeriodeLength) {\r\n  var NewTime = new Date(Time.getTime())\r\n  switch(PeriodeLength) {\r\n    case \"Days\":\r\n    //86.400.000 ms\r\n    NewTime.setDate(NewTime.getDate() + 1)\r\n    break;\r\n    case \"Month\":\r\n    NewTime.setMonth(NewTime.getMonth() + 1)\r\n    break;\r\n    case \"Weeks\":\r\n    default:\r\n    NewTime.setDate(NewTime.getDate() + 7)\r\n    break;\r\n  }\r\n  return NewTime;\r\n}\r\n\r\n//Get Today-point expected data and virtual simulation For PenId with Batch / or given\r\nexport function get_DataSpot_FromData(localDataStore, PenId, Batch, Closed = false) {\r\n  if (localDataStore.weighings && localDataStore.weighings[PenId]) {\r\n    var Weighing = null;\r\n\r\n    //get newest weighing\r\n    for (const _weighing in localDataStore.weighings[PenId]) {\r\n      var weighing = localDataStore.weighings[PenId][_weighing]\r\n      if (weighing && (!Weighing || Weighing.time < weighing.time)) { \r\n        Weighing = weighing\r\n      }\r\n    }\r\n\r\n    if (Weighing) {\r\n      var weight = Weighing.weight\r\n      weight = weight / Weighing.count\r\n      if (weight && !isNaN(weight)) {\r\n        if (!Batch) {\r\n          //Get batch form pen\r\n          for (const _batch in localDataStore.batchs) {\r\n            var batch = localDataStore.batchs[_batch]\r\n            if (batch.hasOwnProperty(\"pens\") && batch.pens[PenId] != null) {\r\n              Batch = localDataStore.batchs[_batch]\r\n              //break; //diffrenc from web ??? (needed in mobile..)\r\n            }\r\n          }\r\n        }\r\n\r\n        if (Batch && Batch.time && Batch.datas \r\n          && localDataStore.graphs && localDataStore.graphs[Batch.gcurve]) {\r\n          var Curve = localDataStore.graphs[Batch.gcurve]\r\n          var WeighingTime = Weighing.time\r\n\r\n          if (Closed || (WeighingTime > Batch.time && (!Batch.state || Batch.state !== \"Closed\"))) {\r\n            var StartTime = Batch.time\r\n            var EndTime = Batch.time\r\n            var index = 0;\r\n            var currentTime = new Date(StartTime)\r\n            for (index = 0; index < Curve.data.length-1; index++) {\r\n              currentTime = new Date(AccumulateTime(currentTime, Curve.periode))\r\n              EndTime = currentTime.getTime()\r\n              if (EndTime >= WeighingTime) {\r\n                break;\r\n              } else {\r\n                StartTime = EndTime\r\n              }\r\n            }\r\n            //var EndDate = EndDate = currentTime.getTime();\r\n            \r\n            var Keys = Object.keys(Curve.data);\r\n            var DataSpot = get_DataSpot([StartTime, EndTime], [Curve.data[Keys[index]], Curve.data[index +1]], new Date().getTime(), weight, WeighingTime)\r\n            DataSpot.Batch = Batch\r\n            return DataSpot\r\n          }\r\n        }\r\n      }\r\n    }\r\n  }\r\n  return null\r\n}\r\n\r\n//Get point expected data and virtual simulation from data.\r\n//ExValue = Expected value if slope continues, for spots given (or inbetween).\r\n//VirData = Virtual calculation for Data progress to DataTime, if slope continues.\r\nexport function get_DataSpot(MinMax_Time, MinMax_Data, FindTime, Data, DataTime) {\r\n  var ExValue = null\r\n  var VirData = null\r\n  var ExTime = null\r\n  if (FindTime) {\r\n    var slope = GetSlope_Between(MinMax_Time, MinMax_Data)\r\n    var FindX = FindTime- MinMax_Time[0]\r\n    // ExValue = (FindX * Slope) + MinY             // Setting FindTime, due b then = Min data.. (b is y = 0)\r\n    ExValue = (FindX * slope) + MinMax_Data[0]          // ( X * a ) + b = Expeted data for spot on CalcTime\r\n    \r\n    if (Data && DataTime) {\r\n      var Findx2 = DataTime- MinMax_Time[0]\r\n      var ExData = (Findx2 * slope) + MinMax_Data[0]    //Expeted data for given Time 2\r\n      \r\n      var DataDiff = ExData - Data;\r\n      VirData = ExValue + DataDiff;\r\n\r\n      ExTime = (Data - MinMax_Data[0]) / slope          // (y-b)/a = Expeted time for data\r\n      ExTime = MinMax_Time[0] + ExTime\r\n      ExTime = Math.floor(ExTime)\r\n    }\r\n  }\r\n  return {ExValue, VirData, ExTime}\r\n}\r\n\r\n//Get Slope Between two points\r\nfunction GetSlope_Between(MinMax_Time, MinMax_Data){\r\n  var minX = MinMax_Time[0]\r\n  var maxX = MinMax_Time[1]\r\n  var minY = MinMax_Data[0]\r\n  var maxY = MinMax_Data[1]\r\n\r\n  //Slope = DeltaY / DeltaX\r\n  var slope = (maxY - minY) / (maxX - minX)\r\n  if (minY > minX) slope = -slope;\r\n  return slope\r\n}\r\n\r\nexport function CurvePredict(localDataStore, PenId, Batch, TempCurve) {\r\n  if (localDataStore) {\r\n    /* Get data */\r\n    if (!PenId && Batch && Batch.pens){\r\n      PenId = Object.keys(Batch.pens).filter(e => (e !== '__jsogObjectId'))[0]\r\n    }\r\n    if (!Batch) {\r\n      Batch = GetBatch_FromPen(localDataStore, PenId)\r\n    }\r\n    if (Batch && Batch.time) {\r\n      if (!TempCurve) {\r\n          TempCurve = GetCurve_FromBatch(Batch, localDataStore.graphs)\r\n      }\r\n      if (TempCurve && TempCurve.data) {\r\n        var BatchEndDate = GetBatchEnd(Batch, TempCurve)\r\n        var Weighing = GetWeight_FromPen(PenId, localDataStore.weighings, Batch.time, BatchEndDate);\r\n        if (Weighing && Weighing.weight) {\r\n          var weight = Weighing.weight\r\n          if (Weighing.count) weight = weight / Weighing.count\r\n          var Weighing2 = GetWeight_FromPen(PenId, localDataStore.weighings, Batch.time, Weighing.time -1);\r\n          var weight2 = Weighing2?Weighing2.weight:0\r\n          if (Weighing2 && Weighing2.count) weight2 = weight2 / Weighing2.count\r\n\r\n          var StartIndex = \"none\";\r\n          var PredictCurve = { periode: TempCurve.periode, data: [] }\r\n          var now = new Date(Date.now())\r\n          now = new Date(now.getFullYear(), now.getMonth(), now.getDate()).getTime()\r\n          var CurrentTime = new Date(Batch.time)\r\n          var Temp_CurrentIndex = 0;\r\n\r\n          /* find template fit */\r\n          for (var index = 0; index < TempCurve.data.length; index++) {\r\n            if (CurrentTime.getTime() <= now) {\r\n              CurrentTime = new Date(AccumulateTime(CurrentTime, TempCurve.periode))\r\n              Temp_CurrentIndex++;\r\n            }\r\n\r\n            if (weight <= TempCurve.data[index]) {\r\n              if (StartIndex === \"none\") {\r\n                StartIndex = index\r\n                if (index === 0) {\r\n                  var slope = GetSlope_Between([Weighing.time,AccumulateTime(new Date(Weighing.time), TempCurve.periode)],[TempCurve.data[0], TempCurve.data[1]])\r\n                  var time = (TempCurve.data[0]- weight)/slope\r\n                  Weighing2 = Weighing\r\n                  weight2 = weight\r\n                  Weighing = {weight: TempCurve.data[0], time: Math.floor(Weighing.time + time)}\r\n                  weight = TempCurve.data[0]\r\n                }\r\n              }\r\n              PredictCurve.data.push(TempCurve.data[index])\r\n            }\r\n          }\r\n\r\n          if (weight < weight2) {\r\n            StartIndex = StartIndex -1\r\n            PredictCurve.data.unshift(TempCurve.data[StartIndex])\r\n          }\r\n\r\n          var PredictStart = new Date(Batch.time)\r\n          for (let index = 0; index < StartIndex; index++) {\r\n            PredictStart = new Date(AccumulateTime(PredictStart, TempCurve.periode))\r\n          }\r\n\r\n          PredictCurve.Now = weight\r\n          PredictCurve.TempEx = TempCurve.data[Temp_CurrentIndex]\r\n          if (StartIndex !== \"none\") {\r\n            var DataSpot = null\r\n            if (Weighing2) {\r\n              DataSpot = get_DataSpot([Weighing2.time, Weighing.time], [weight2, weight], Weighing.time, TempCurve.data[StartIndex], PredictStart.getTime())\r\n            }\r\n            if (DataSpot && DataSpot.ExTime) {\r\n              PredictCurve.FirstSpot = DataSpot.ExTime \r\n              PredictCurve.Addition = DataSpot.ExTime - Weighing.time\r\n            } else {\r\n              PredictCurve.FirstSpot = new Date(Weighing.time + 86400000)\r\n              PredictCurve.Addition = 86400000\r\n            }\r\n\r\n            if (BatchEndDate) {\r\n              var now = new Date(Date.now())\r\n              /*if (BatchEndDate <= now) {\r\n                now = new Date(BatchEndDate)\r\n              }*/\r\n\r\n              now = new Date(now.getFullYear(), now.getMonth(), now.getDate()).getTime()\r\n              var Temp_CurrentTime\r\n              CurrentTime = new Date(Weighing.time)\r\n              var CurrentIndex = 0;\r\n              for (var index = 0; index < PredictCurve.data.length; index++) {\r\n                if (CurrentTime.getTime() < now) {\r\n                  Temp_CurrentTime = CurrentTime\r\n                  CurrentTime = new Date(AccumulateTime(CurrentTime, TempCurve.periode))\r\n                  CurrentIndex ++;\r\n                }\r\n              }\r\n              var WeightNow\r\n              if (CurrentIndex >= PredictCurve.data.length) {\r\n                DataSpot = get_DataSpot([Temp_CurrentTime, CurrentTime], [PredictCurve.data[PredictCurve.data.length-2], PredictCurve.data[PredictCurve.data.length-1]], Date.now())\r\n                WeightNow = DataSpot.ExValue\r\n              } else {\r\n                CurrentIndex--\r\n                WeightNow = PredictCurve.data[CurrentIndex];\r\n              }\r\n              if (WeightNow) PredictCurve.Now = WeightNow\r\n              else PredictCurve.Now = weight\r\n            }\r\n          }\r\n\r\n          var days = 0;\r\n          if (TempCurve.periode === \"Days\") days = PredictCurve.data.length\r\n          else if (TempCurve.periode === \"Weeks\") days = (PredictCurve.data.length) * 7\r\n          PredictCurve.days = days\r\n          PredictCurve.lastWeighing = Weighing\r\n\r\n          Batch.datas.target = (Batch.datas.target)?Batch.datas.target:TempCurve.data[TempCurve.data.length-1]\r\n          PredictCurve.Batch = Batch;\r\n          return PredictCurve;\r\n        }\r\n      }\r\n    }\r\n  }\r\n  return null;\r\n}\r\n//#endregion","import React from 'react'\r\nimport { Platform, Dimensions, Text, TouchableOpacity, View } from 'react-native'\r\nimport { createAppContainer } from 'react-navigation'\r\nimport { createStackNavigator } from 'react-navigation-stack'\r\n// Import vector icons\r\nimport { Icon } from 'react-native-elements'\r\n\r\nimport NavigationService from '../Services/NavigationService'\r\n\r\nimport UserFrontScreen from '../Containers/Cloud/UserPanel/FrontScreen'\r\nimport UserDashBoardScreen from '../Containers/Cloud/UserPanel/Dashboard'\r\nimport UserPigsScreen from '../Containers/Cloud/UserPanel/Pigs'\r\nimport UserPensScreen from '../Containers/Cloud/UserPanel/Pens'\r\nimport UserBatchsScreen from '../Containers/Cloud/UserPanel/Batchs'\r\nimport UserCurvesScreen from '../Containers/Cloud/UserPanel/GrowthCurves'\r\nimport AutoPigScreen from '../Containers/Cloud/UserPanel/AutoPig'\r\n\r\nimport UserOperationsScreen from '../Containers/Cloud/UserPanel/Operations'\r\nimport Weighing from '../Containers/Cloud/UserPanel/Weighing'\r\n\r\nimport UserDataEditor from '../Containers/Cloud/UserPanel/DataEditor'\r\nimport UserDataDisplay from '../Containers/Cloud/UserPanel/DataDisplay'\r\nimport UserDataPlotter from '../Containers/Cloud/UserPanel/DataPlotter'\r\n\r\nimport WebViewer from './WebViewer'\r\n\r\nimport { ApplicationStyles } from '../Theme'\r\n\r\nfunction ViewTransformer (Main, Title) {\r\n  const window = Dimensions.get(\"window\");\r\n  const screen = Dimensions.get(\"screen\");\r\n  \r\n  var wide = window.width>900?true:false\r\n  var App = (Platform.OS === 'ios' || Platform.OS === 'android')||!wide\r\n\r\n  var NavComponent = {}\r\n  if (App) {\r\n    NavComponent.screen = Main\r\n    NavComponent.navigationOptions = () => ({\r\n      title: Title,\r\n    })\r\n  } else {\r\n    NavComponent.screen = WebViewer\r\n    NavComponent.navigationOptions = () => ({\r\n      title: Title,\r\n      headerMode: App?'screen':'none',\r\n      headerShown: App?true:false,\r\n    })\r\n  }\r\n\r\n  return NavComponent\r\n}\r\n\r\n/**\r\n * The root screen contains the application's navigation.\r\n *\r\n * @see https://reactnavigation.org/docs/en/hello-react-navigation.html#creating-a-stack-navigator\r\n */\r\nconst StackNavigator = createStackNavigator(\r\n  {\r\n    // Create the application routes here (the key is the route name, the value is the target screen)\r\n    // See https://reactnavigation.org/docs/en/stack-navigator.html#routeconfigs\r\n    \r\n    UserFront: {\r\n      screen: WebViewer,\r\n      navigationOptions: () => ({\r\n        title: 'Front Pannel',\r\n        headerMode: (Dimensions.get(\"window\").width < 900 || (Platform.OS === 'ios' || Platform.OS === 'android'))?'screen':'none',\r\n        headerShown: (Dimensions.get(\"window\").width < 900 || (Platform.OS === 'ios' || Platform.OS === 'android'))?true:false,\r\n        headerLeft: (props) => (\r\n          <View style={{padding:6, paddingLeft: 15}}>\r\n            <Icon type='ionicon' name=\"arrow-back\" size={25} color=\"black\" onPress={() => {\r\n              if (props.label === \"System Board\") {\r\n                NavigationService.nacigationPop()\r\n              }\r\n              else NavigationService.navigate('MainStack')\r\n            }}/>\r\n          </View>\r\n        ),\r\n      }),\r\n      params: (Dimensions.get(\"window\").width < 900 || (Platform.OS === 'ios' || Platform.OS === 'android'))?{Main: UserFrontScreen}:{Menu: UserFrontScreen, Main: UserDashBoardScreen},\r\n      path: 'user_front',\r\n    },\r\n\r\n    UserDashBoard: {\r\n      ...ViewTransformer(UserDashBoardScreen, 'Dashboard'), \r\n      ...{\r\n        params: {Menu: UserFrontScreen, Main: UserDashBoardScreen},\r\n        path: 'user_dashboard',\r\n      }\r\n    },\r\n\r\n    UserPigs: {\r\n      ...ViewTransformer(UserPigsScreen, 'Pigs'), \r\n      ...{\r\n        params: {Menu: UserFrontScreen, Main: UserPigsScreen},\r\n        path: 'user_pigs',\r\n      }\r\n    },\r\n\r\n    UserPens: {\r\n      ...ViewTransformer(UserPensScreen, 'Pens'), \r\n      ...{\r\n        params: {Menu: UserFrontScreen, Main: UserPensScreen},\r\n        path: 'user_pens',\r\n      }\r\n    },\r\n\r\n    UserBatchs: {\r\n      ...ViewTransformer(UserBatchsScreen, 'Batchs'), \r\n      ...{\r\n        params: {Menu: UserFrontScreen, Main: UserBatchsScreen},\r\n        path: 'user_batchs',\r\n      }\r\n    },\r\n\r\n    UserCurves: {\r\n      ...ViewTransformer(UserCurvesScreen, 'Curves'), \r\n      ...{\r\n        params: {Menu: UserFrontScreen, Main: UserCurvesScreen},\r\n        path: 'user_curves',\r\n      }\r\n    },\r\n    \r\n    AutoPig: {\r\n      ...ViewTransformer(AutoPigScreen, 'AutoPig'), \r\n      ...{\r\n        params: {Menu: UserFrontScreen, Main: AutoPigScreen},\r\n        path: 'user_autopigs',\r\n      }\r\n    },\r\n\r\n    /**************** Operations */\r\n    UserOperations: {\r\n      ...ViewTransformer(UserOperationsScreen, 'Operations'), \r\n      ...{\r\n        params: {Menu: UserFrontScreen, Main: UserOperationsScreen},\r\n        path: 'user_operations',\r\n      }\r\n    },\r\n\r\n    WeighingOperations: {\r\n      ...ViewTransformer(Weighing, 'Operations'), \r\n      ...{\r\n        params: {Menu: UserFrontScreen, Main: Weighing},\r\n        path: 'weight_operations',\r\n      }\r\n    },\r\n\r\n    /**************** Data Displays */\r\n    DataEditor: {\r\n      ...ViewTransformer(UserDataEditor, 'User Data'), \r\n      ...{\r\n        params: {Menu: UserFrontScreen, Main: UserDataEditor},\r\n        path: 'user_dataedtior',\r\n      }\r\n    },\r\n\r\n    DataDisplay: {\r\n      ...ViewTransformer(UserDataDisplay, 'User Data'), \r\n      ...{\r\n        params: {Menu: UserFrontScreen, Main: UserDataDisplay},\r\n        path: 'user_datadisplay',\r\n      }\r\n    },\r\n\r\n    DataPlotter: {\r\n      ...ViewTransformer(UserDataPlotter, 'Batch Data'), \r\n      ...{\r\n        params: {Menu: UserFrontScreen, Main: UserDataPlotter},\r\n        path: 'user_dataplotter',\r\n      }\r\n    },\r\n  },\r\n  {\r\n    initialRouteName: 'UserFront', \r\n\r\n    // See https://reactnavigation.org/docs/en/stack-navigator.html#stacknavigatorconfig\r\n    headerMode: 'float',\r\n    defaultNavigationOptions:{\r\n      headerTitleAlign: 'center',\r\n      headerTitleStyle:{...ApplicationStyles.navigationHeader},\r\n      headerRight: () => (<View style={{padding:6}}></View>),\r\n    },\r\n  }\r\n)\r\n\r\nexport default StackNavigator\r\n","import React, { useEffect, Component } from 'react'\r\nimport { Platform, Text, View, ActivityIndicator, Image, StyleSheet, ScrollView, Dimensions } from 'react-native'\r\nimport { Input, Icon } from 'react-native-elements'\r\nimport { useDispatch, useSelector, connect } from 'react-redux'\r\nimport { bindActionCreators } from 'redux';\r\n\r\nimport NavigationService from '../../../Services/NavigationService'\r\n\r\nimport FirebaseActions from '../../../Stores/Firebase/Actions'\r\nimport { Actions, DataRefs, GetCurve_FromBatch, AccumulateTime, get_DataSpot, CurvePredict } from '../../../Stores/Firebase/Selectors'\r\n\r\nimport { LineChart } from 'react-native-chart-kit'\r\nimport { Button, TitleElement, CustomListItem, ContentProp } from '../../../Components'\r\nimport Style from './UserPanelStyle'\r\nimport { ApplicationStyles, Helpers, Metrics, Colors } from '../../../Theme'\r\n\r\nimport { FlatGrid } from 'react-native-super-grid';\r\n\r\nfunction getRandomNumber(low, high) {\r\n  var r = Math.floor(Math.random() * (high - low + 1)) + low;\r\n  return r;\r\n}\r\n\r\nfunction getRandomColor() {\r\n  var red_range = [10, 250];\r\n  var green_range = [10, 250];\r\n  var blue_range = [10, 250];\r\n  var a_range = [0.2, 1];\r\n\r\n  var red = getRandomNumber(red_range[0], red_range[1]);\r\n  var green = getRandomNumber(green_range[0], green_range[1]);\r\n  var blue = getRandomNumber(blue_range[0], blue_range[1]);\r\n\r\n  var alpha = getRandomNumber(a_range[0] * 100, a_range[1] * 100) / 100;\r\n\r\n  return {\r\n    r: red,\r\n    g: green,\r\n    b: blue,\r\n    a: alpha,\r\n    rgbaValue: 'rgba(' + red + ',' + green + ',' + blue + ',' + alpha + ')'\r\n  }\r\n}\r\n\r\nconst window = Dimensions.get(\"window\");\r\nconst screen = Dimensions.get(\"screen\");\r\n\r\nfunction WeightsToGraphData(localDataStore, Batch, TempGraph = null, StartDate = undefined, _EndDate = undefined, Prediction = false) {\r\n  var DataSets = []\r\n  var EndDate = 0;\r\n\r\n  var DoPredict = (Batch && (!Batch.state || Batch.state !== \"Closed\"))?true:false\r\n  var Legends = []\r\n  if (Batch.pens) Legends = Object.keys(Batch.pens).filter(e => (e !== '__jsogObjectId')).reverse()\r\n  Legends.forEach(Pen => {\r\n    var BatchPen = Batch.pens[Pen]\r\n    var color = getRandomColor();\r\n\r\n    var DataSet = []\r\n    var DataSetX = []\r\n\r\n    if (localDataStore.weighings[Pen] || (Batch.state && Batch.state === \"Closed\")) {\r\n      var PenWeighings = localDataStore.weighings[Pen];\r\n      if (Batch.state && Batch.state === \"Closed\") {\r\n        PenWeighings = Batch.closed.weighings[Pen]\r\n      }\r\n\r\n      if (PenWeighings && Object.keys(PenWeighings).length >= 1) {\r\n        Object.keys(PenWeighings).sort(function(a, b) {\r\n          return PenWeighings[a].time - PenWeighings[b].time;\r\n        }).forEach(key => {\r\n          var data = PenWeighings[key]\r\n          if (data.weight) {\r\n            if ((!StartDate || data.time >= StartDate) && (!_EndDate || data.time <= _EndDate)) {\r\n              if ((!BatchPen.startdate || data.time >= BatchPen.startdate) && (!BatchPen.enddate || data.time <= BatchPen.enddate)) {\r\n                var weight = data.weight\r\n                if (data.count) {\r\n                  weight = weight / data.count\r\n                }\r\n                DataSet.push(weight)\r\n                var Time = new Date(data.time)\r\n                //Time = new Date(Time.getFullYear(),Time.getMonth(),Time.getDate()).getTime() // allows midday placement\r\n                DataSetX.push(Time)\r\n                if (!_EndDate && data.time > EndDate) {\r\n                  EndDate = data.time\r\n                }\r\n              }\r\n            }\r\n          }\r\n        });\r\n\r\n        if (DoPredict && Prediction) {\r\n          var Predict = CurvePredict(localDataStore, Pen)\r\n          if (Predict && Predict.lastWeighing) {\r\n            var Time = Predict.FirstSpot?new Date(Predict.FirstSpot):new Date(Predict.lastWeighing.time)\r\n            //var DatePredict = []\r\n            //var DataPredicttX = []\r\n            Predict.data.forEach((element,index) => {\r\n              DataSet.push(element)\r\n              Time = (index===0&&Predict.FirstSpot)?Time:AccumulateTime(Time, TempGraph.periode)\r\n              DataSetX.push(Time)\r\n              //DataSetX.push(new Date(Time.getFullYear(),Time.getMonth(),Time.getDate()).getTime())\r\n            });\r\n            //if (Predict.length > 0){\r\n            //  DataSets.push({Pen: Pen + \"_Predict\", data: DatePredict, dataX: DataPredictX, color:(opacity = 0) => color.rgbaValue})\r\n            //}\r\n          }\r\n        }\r\n      }\r\n    }\r\n    \r\n    while(DataSet.length < TempGraph.data.length) {\r\n      DataSet.push(null)\r\n      DataSetX.push(null)\r\n    }\r\n    DataSets.push({Pen: Pen, data: DataSet, dataX: DataSetX, color:(opacity = 1) => color.rgbaValue})\r\n  });\r\n  return {DataSets, EndDate};\r\n}\r\n\r\nclass CurveElement extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    if (!this.props.Display) {\r\n      const {TempGraph, Legends, DataSets, StartDate, EndDate } = this.setData(props)\r\n      this.state = {\r\n        dimensions: {window, screen},\r\n\r\n        TempGraph: TempGraph,\r\n        Legends: Legends,\r\n        DataSets: DataSets,\r\n        StartDate: StartDate,\r\n        EndDate: EndDate,\r\n\r\n        Labels: [],\r\n        ActiveIndex: 0,\r\n        ActiveLength: \"Batch\",\r\n        ActiveDataSets: DataSets,\r\n        ActiveStartDate: StartDate,\r\n        ActiveEndDate: EndDate,\r\n\r\n        ViewPoint: null,\r\n      }\r\n    } else {\r\n      this.state = {\r\n        dimensions: {window, screen},\r\n      }\r\n    }\r\n  }\r\n\r\n  setData(Props) {\r\n    const localDataStore = Props.firebase.localDataStore;\r\n    const CurrentData = Props.firebase.currentData;\r\n\r\n    var TempGraph = {periode:\"Days\", data: []} //Template Graph\r\n    var Legends = []     //Name lables\r\n    var DataSets = []    //Data Points\r\n\r\n    var D = new Date()\r\n    var StartDate = D.getTime()\r\n    var EndDate = new Date(D.setDate(D.getDate()+(7*8))) //Default timespand is 2 months or 8 weeks (will be changed acording to batch)\r\n\r\n    if (localDataStore && localDataStore.batchs && CurrentData && CurrentData.batchId) {\r\n      var Batch = localDataStore.batchs[CurrentData.batchId];\r\n      TempGraph = GetCurve_FromBatch(Batch, localDataStore.graphs, CurrentData.curveId)\r\n\r\n      if (TempGraph) {\r\n        if (CurrentData.curveId) TempGraph.name = CurrentData.curveId\r\n        else TempGraph.name = \"Template\"\r\n        //Find Startdate\r\n        StartDate = Batch.time\r\n        //Find Batch Pens (Legends)\r\n        if (Batch.pens) Legends = Legends.concat(Object.keys(Batch.pens).reverse().filter(e => (e !== '__jsogObjectId')))\r\n\r\n        var DataX = []\r\n        //#region Find Template X values and EndDate\r\n        var currentTime = new Date(StartDate)\r\n        for (var i = 0; i < TempGraph.data.length; i++) {\r\n          DataX.push(currentTime.getTime())\r\n          if (i < TempGraph.data.length -1) {\r\n            currentTime = new Date(AccumulateTime(currentTime, TempGraph.periode))\r\n          }\r\n        }\r\n        EndDate = currentTime.getTime();\r\n        DataX.push(EndDate)\r\n        //#endregion\r\n        \r\n        //Set TempGraph data\r\n        DataSets.push({\r\n          data: TempGraph.data,\r\n          dataX: DataX,\r\n          color: (opacity = 0.1) => `rgba(0, 0, 0, ${opacity})`, // optional\r\n        })\r\n\r\n        //Find DataSets from Legends\r\n        if (localDataStore.weighings) {\r\n          var TempData = DataSets\r\n          var TempEndDate = EndDate\r\n          var NextEnd = new Date(AccumulateTime(new Date(TempEndDate), TempGraph.periode)).getTime()\r\n          var {DataSets, EndDate} = WeightsToGraphData(localDataStore, Batch, TempGraph, StartDate, NextEnd, this.props.Predict)\r\n          DataSets = TempData.concat(DataSets)\r\n\r\n          if (TempEndDate > EndDate) {\r\n            EndDate = TempEndDate\r\n          }\r\n\r\n          Legends = Legends.filter(e => (e !== '__jsogObjectId' && (e === TempGraph.name || DataSets.some(i => i.Pen === e))));\r\n          Legends.unshift(TempGraph.name)\r\n        }\r\n      }\r\n    }\r\n    return {TempGraph, Legends, DataSets, StartDate, EndDate }\r\n  }\r\n\r\n  setGraphPeriode(ActiveLength = this.state.ActiveLength) {\r\n    var Labels = []\r\n\r\n    var StartDate = this.state.StartDate\r\n    var EndDate = this.state.EndDate\r\n    var ActiveIndex = this.state.ActiveIndex\r\n\r\n    var TemplatePeriode = \"Weeks\"\r\n    if (this.state.TempGraph && this.state.TempGraph.periode) TemplatePeriode = this.state.TempGraph.periode\r\n    var CurrentDate = new Date(StartDate)\r\n    var TempActiveDataSet = this.state.ActiveDataSets;\r\n\r\n    var Today = new Date().getTime()\r\n    switch(this.state.ActiveLength) {\r\n      case \"Days\":\r\n        for (var i = 0; (i < ActiveIndex || ActiveIndex === -1); i++){\r\n          var getNewDate = new Date(AccumulateTime(CurrentDate, this.state.ActiveLength))\r\n          if (ActiveIndex === -1 && getNewDate > Today) {\r\n            ActiveIndex = i-1;\r\n            break;\r\n          }\r\n          CurrentDate = getNewDate;\r\n        }\r\n        StartDate = CurrentDate.getTime();\r\n        Labels.push(CurrentDate.getDate() + \"/\" + (CurrentDate.getMonth() + 1))\r\n        \r\n        CurrentDate = new Date(AccumulateTime(CurrentDate, this.state.ActiveLength))\r\n        Labels.push(CurrentDate.getDate() + \"/\" + (CurrentDate.getMonth() + 1))\r\n\r\n        EndDate = CurrentDate.getTime();\r\n        CurrentDate = new Date(AccumulateTime(CurrentDate, this.state.ActiveLength))\r\n        break;\r\n      case \"Weeks\":\r\n        for (var i = 0; (i < ActiveIndex || ActiveIndex === -1); i++){\r\n          var getNewDate = new Date(AccumulateTime(CurrentDate, this.state.ActiveLength))\r\n          if (ActiveIndex === -1 && getNewDate > Today) {\r\n            ActiveIndex = i;\r\n            break;\r\n          }\r\n          CurrentDate = getNewDate;\r\n        }\r\n        StartDate = CurrentDate.getTime();\r\n\r\n        for (var i = 0; i <= 7; i++) {\r\n          Labels.push(CurrentDate.getDate() + \"/\" + (CurrentDate.getMonth() + 1))\r\n          EndDate = CurrentDate.getTime();\r\n          CurrentDate = new Date(AccumulateTime(CurrentDate, \"Days\"))\r\n        }\r\n        break;\r\n      case \"Batch\":\r\n      default:\r\n        while (CurrentDate.getTime() <= EndDate) {\r\n          switch (TemplatePeriode){\r\n            case \"Days\":\r\n              Labels.push(CurrentDate.getDate() + \"/\" + (CurrentDate.getMonth() + 1))\r\n              break;\r\n            case \"Month\":\r\n              Labels.push(CurrentDate.getDate() + \"/\" + (CurrentDate.getMonth() + 1))\r\n              break;\r\n            case \"Weeks\":\r\n            default:\r\n              Labels.push(CurrentDate.getDate() + \"/\" + (CurrentDate.getMonth() + 1))\r\n              break;\r\n          }\r\n          CurrentDate = new Date(AccumulateTime(CurrentDate, TemplatePeriode))\r\n        }\r\n        break;\r\n    }\r\n\r\n    var ActiveDataSets = []\r\n    if (!ActiveLength || ActiveLength === \"Batch\") {\r\n      ActiveDataSets = this.state.DataSets;\r\n    }\r\n    else {\r\n      var End = AccumulateTime(new Date(EndDate), this.state.ActiveLength).getTime()\r\n      this.state.DataSets.forEach(element => {\r\n        var NewData = {...element, data:[], dataX: []}\r\n\r\n        var first = null\r\n        var last = null\r\n        if (new Date(element.dataX[0]).getTime() <= EndDate) {\r\n          for(var i = 0; i < element.data.length; i++) {\r\n            if (new Date(element.dataX[i]).getTime() >= StartDate) {\r\n              NewData.data.push(element.data[i])\r\n              NewData.dataX.push(element.dataX[i])\r\n\r\n              var time = AccumulateTime(new Date(element.dataX[i]), this.state.ActiveLength)\r\n              if (time.getTime() > End){\r\n                if (element.dataX.length -1 >= i) last = i\r\n                break;\r\n              }\r\n            } else if (element.dataX[i] !== null) {\r\n              first = i\r\n            }\r\n          }\r\n          if (first !== null && NewData.dataX[0] > StartDate && element.data.length >= first+1) {\r\n            var DataSpot = get_DataSpot([element.dataX[first], element.dataX[first+1]], [element.data[first], element.data[first +1]], StartDate, element.data[first], element.dataX[first])\r\n            console.log(DataSpot)\r\n            NewData.data.unshift(DataSpot.ExValue)\r\n            NewData.dataX.unshift(StartDate)\r\n          }\r\n          if (last != null) {\r\n            //NewData.data.push(ExValue)\r\n            //NewData.dataX.push(StartDate)\r\n          }\r\n        }\r\n\r\n        ActiveDataSets.push(NewData)\r\n      });\r\n    }\r\n\r\n    //var lastDataPoint = this.state.DataSets[0].dataX[this.state.DataSets[0].dataX.length-1]\r\n    if (this.state.ActiveIndex > 0 && ActiveDataSets[0].data.length === 0){\r\n      var i = this.state.ActiveIndex\r\n      i = i-1;\r\n      this.setState({\r\n        ActiveIndex: i\r\n      })\r\n    } else {\r\n      this.setState({\r\n        ActiveLength: ActiveLength,\r\n        \r\n        Labels: Labels,\r\n        ActiveDataSets: ActiveDataSets,\r\n        ActiveStartDate: StartDate,\r\n        ActiveEndDate: EndDate,\r\n        ActiveIndex: ActiveIndex,\r\n      }, () => {\r\n        this.forceUpdate()\r\n      })\r\n    }\r\n  }\r\n\r\n  getData() {\r\n    const localDataStore = this.props.firebase.localDataStore;\r\n    const CurrentData = this.props.firebase.currentData;\r\n\r\n    /*if (CurrentData && CurrentData.batchId && localDataStore.batchs[CurrentData.batchId]){\r\n      const batchData = localDataStore.batchs[CurrentData.batchId]\r\n      \r\n      var PenMemTime = null\r\n      if (localDataStore.pens) PenMemTime = localDataStore.pens.update_time\r\n      var WeightsMemTime = null\r\n      if (localDataStore.weighings) WeightsMemTime = localDataStore.weighings.update_time\r\n      Object.keys(batchData.pens).filter(e => e !== '__jsogObjectId').forEach(Pen => {\r\n        this.props.getPen(Pen, PenMemTime)\r\n        this.props.getWeights(Pen, WeightsMemTime, localDataStore.sections)\r\n      })\r\n\r\n      var TempGraph = \"\"\r\n      if (CurrentData.curveId) {\r\n        TempGraph = CurrentData.curveId;\r\n        this.props.getCurve(TempGraph)\r\n      }\r\n    }*/\r\n  }\r\n\r\n  onChange = ({ window, screen }) => {\r\n    this.setState({\r\n      dimensions: {window, screen},\r\n    })\r\n  };\r\n\r\n  componentDidUpdate(prevProps, prevState) {\r\n    if (!this.props.Display && this.props !== prevProps) {\r\n      if (this.props.firebase.localDataStore) {\r\n        if (JSON.stringify(prevProps.firebase.localDataStore.weighings) !== JSON.stringify(this.props.firebase.localDataStore.weighings) ||\r\n            JSON.stringify(prevProps.firebase.localDataStore.pens) !== JSON.stringify(this.props.firebase.localDataStore.pens) ||\r\n            JSON.stringify(prevProps.firebase.localDataStore.graphs) !== JSON.stringify(this.props.firebase.localDataStore.graphs) || \r\n            prevProps.Predict !== this.props.Predict || \r\n            prevProps.weighings !== this.props.weighings) {\r\n          const {TempGraph, Legends, DataSets, StartDate, EndDate } = this.setData(this.props)\r\n          if (JSON.stringify(this.state.TempGraph)!==JSON.stringify(TempGraph) ||\r\n              JSON.stringify(this.state.Legends)!==JSON.stringify(Legends) ||\r\n              JSON.stringify(this.state.DataSets)!==JSON.stringify(DataSets) ||\r\n\r\n              JSON.stringify(this.state.StartDate)!==JSON.stringify(StartDate) ||\r\n              JSON.stringify(this.state.EndDate)!==JSON.stringify(EndDate)\r\n          ) {\r\n            this.setState({\r\n              TempGraph: TempGraph,\r\n              Legends: Legends,\r\n              DataSets: DataSets,\r\n        \r\n              StartDate: StartDate,\r\n              EndDate: EndDate,\r\n            }, () => {\r\n              this.setGraphPeriode(this.state.ActiveLength)\r\n            });\r\n          }\r\n        }\r\n      }\r\n    }\r\n    if (!this.props.Display && this.state !== prevState) {\r\n      if (this.state.ActiveLength != prevState.ActiveLength || this.state.ActiveIndex != prevState.ActiveIndex) {\r\n        this.setGraphPeriode(this.state.ActiveLength)\r\n      }\r\n    }\r\n  }\r\n\r\n  componentDidMount() {\r\n    this.getData();\r\n    if (!this.props.height) Dimensions.addEventListener(\"change\", this.onChange);\r\n    if (!this.props.Display) this.setGraphPeriode(this.state.ActiveLength)\r\n  }\r\n\r\n  componentWillUnmount(){\r\n    if (!this.props.height) Dimensions.removeEventListener(\"change\", this.onChange);\r\n  }\r\n\r\n  render() {\r\n    const localDataStore = this.props.firebase.localDataStore\r\n    var BatchIsOpen = false;\r\n    if (localDataStore.batchs && this.props.firebase.currentData && this.props.firebase.currentData.batchId) {\r\n      BatchIsOpen= ((localDataStore.batchs && localDataStore.batchs[this.props.firebase.currentData.batchId]) && (!localDataStore.batchs[this.props.firebase.currentData.batchId].state || localDataStore.batchs[this.props.firebase.currentData.batchId].state !== \"Closed\"))?true:false\r\n    }\r\n    var wide = this.state.dimensions.window.width>1000?true:false\r\n    if (this.props.Display) wide = false\r\n    var App = (Platform.OS === 'ios' || Platform.OS === 'android')||!wide\r\n\r\n    var height = this.state.dimensions.window.height //Full Screen\r\n    if (this.props.Height) {\r\n      height = this.props.Height;\r\n      //height = height - 100 // ?? beautify'er\r\n    } else {\r\n      height = 500 \r\n      /*if (Platform.OS !== 'ios' && Platform.OS !== 'android') height = height - 64 //Navigation title\r\n      height = height - 49 //TitleElement\r\n      height = height - 145 //Data Props\r\n      height = height - 71 //View Selector\r\n      if (BatchIsOpen) height = height - 74 //Editor\r\n\r\n      height = height - 100 // ?? beautify'er*/\r\n    }\r\n    //height = height - parseInt(10 + 15) //Margins \r\n\r\n    var width = this.state.dimensions.window.width * 2; //Full Screen\r\n    if (this.props.Width) {\r\n      width = this.props.Width;\r\n    } else {\r\n      width = width - (Metrics.normal * 4) // Margins\r\n      width = width / (wide?2.05:1) //If not WideScreen - Split diagram in 2\r\n    }\r\n    \r\n    var DataSets = this.props.Display?[{color: (opacity = 0.1) => `rgba(0, 0, 0, ${opacity})`,data:[],dataX:[]}]:this.state.ActiveDataSets\r\n    var Legends = this.props.Display?[]:this.state.Legends.slice(0, DataSets.length)\r\n    var StartDate = this.props.Display?1:this.state.ActiveStartDate\r\n    var EndDate = this.props.Display?this.props.DataPoints.length:this.state.ActiveEndDate\r\n    var Labels = [];\r\n    if (this.props.Display) {\r\n      this.props.DataPoints.forEach((point,index)=>{\r\n        DataSets[0].data.push(point.value)\r\n        DataSets[0].dataX.push(index+1)\r\n        Labels.push(index)\r\n      })\r\n    }else Labels = this.state.Labels\r\n\r\n    return(\r\n      <View style={[Helpers.fullWidth, Helpers.fill]}>\r\n        <View style={[Helpers.fullWidth, Helpers.fill]}>\r\n          <ScrollView horizontal={true} showsHorizontalScrollIndicator={wide||this.props.Display?false:true} style={[Helpers.fullSize, App&&!this.props.Display?{maxWidth:width/2, maxHeight:540}:{}]}>\r\n            {this.state.TempGraph||this.props.Display && (Labels && Labels.length > 0) && (DataSets && DataSets.length > 0)?(\r\n            <LineChart\r\n              //bezier\r\n              style={[{marginLeft: -15, minHeight: height, minWidth: width}]}\r\n              width={width}\r\n              height={height}\r\n\r\n              data={{\r\n                labels: Labels,\r\n                xMinMax: [StartDate, EndDate, Labels.length -1],\r\n                legend: Legends,\r\n                datasets: DataSets,\r\n              }}\r\n\r\n              onDataPointClick={(data) => {\r\n                this.setState({\r\n                  ViewPoint: data\r\n                })\r\n              }}\r\n\r\n              withShadow={false}\r\n              withVerticalLines={true}\r\n              fromZero={false}\r\n              segments={15} //Horizontal-Lines\r\n              \r\n              verticalLabelRotation={0} //Not Working in browser\r\n              xLabelsOffset={0}\r\n\r\n              chartConfig={{\r\n                backgroundColor: Colors.white,\r\n                backgroundGradientFrom: Colors.white,  //#FFFFFF\r\n                backgroundGradientTo: Colors.white,     \r\n                decimalPlaces: 1, // optional, defaults to 2dp\r\n                color: (opacity = 1) => `rgba(0, 0, 0, ${opacity})`,  //Lines / Grid\r\n                labelColor: (opacity = 1) => `rgba(0, 0, 0, ${opacity})`, //Lables\r\n                style: {\r\n                  borderRadius: 16,\r\n                  height: height,\r\n                },\r\n                propsForDots: {\r\n                  r: \"5\",\r\n                  strokeWidth: \"0.5\",\r\n                  stroke: Colors.white\r\n                }\r\n              }}\r\n            />):(<></>)}\r\n          </ScrollView>\r\n        </View>\r\n        {!this.props.Display?(\r\n          <View style={[Helpers.fullWidth, Helpers.mainCenter]}>\r\n            <View style={[Helpers.fill, Helpers.fullWidth, Helpers.rowCenter, ]}>\r\n              <View style={{paddingRight: 2.5}}>\r\n                <Icon name=\"md-arrow-back\" type='ionicon' size={25} color=\"black\" onPress={() => {\r\n                  if (this.state.ActiveIndex != 0){\r\n                    var i = this.state.ActiveIndex;\r\n                    i = i-1;\r\n                    this.setState({\r\n                      ActiveIndex: i\r\n                    })\r\n                  }\r\n                }}/>\r\n              </View>\r\n              <Button Text=\"Day view\" buttonStyle={{width:wide?100:80}}\r\n                onPress={() => {\r\n                  this.setState({\r\n                    ActiveIndex: -1,\r\n                    ActiveLength: \"Days\"\r\n                  })\r\n                } }/>\r\n              <Button Text=\"Week view\" buttonStyle={{width:wide?100:80, marginLeft:2.5}}\r\n                onPress={() => {\r\n                  this.setState({\r\n                    ActiveIndex: -1,\r\n                    ActiveLength: \"Weeks\"\r\n                  })\r\n                } }/>\r\n              <Button Text=\"Full Batch\" buttonStyle={{width:wide?100:80, marginLeft:2.5}}\r\n                onPress={() => {\r\n                  this.setState({\r\n                    ActiveIndex: 0,\r\n                    ActiveLength: \"Batch\"\r\n                  })\r\n                } }/>\r\n              <View style={{paddingLeft: 2.5}}>\r\n                <Icon name=\"md-arrow-forward\" type='ionicon' size={25} color=\"black\" onPress={() => {\r\n                  var i = this.state.ActiveIndex;\r\n                  i = i+1;\r\n                  this.setState({\r\n                    ActiveIndex: i\r\n                  })\r\n                }}/>\r\n              </View>\r\n            </View>\r\n            {BatchIsOpen&&!App?(\r\n              <View style={[Helpers.fullWidth, Helpers.rowCenter]}>\r\n                  <CurveEditor control={this} props={this.props} state={this.state} />\r\n              </View>\r\n            ):(<></>)}\r\n          </View>\r\n        ):(<></>)}\r\n      </View>\r\n    )\r\n  }\r\n}\r\n\r\nconst CurveEditor = (props) => {\r\n  if (Platform.OS === 'ios' || Platform.OS === 'android') {\r\n    if (props.state.ViewPoint){\r\n      var TimeText = props.state.Labels[props.state.ViewPoint.index]\r\n      if (props.state.ViewPoint.dataset.dataX) {\r\n        var Time = new Date(props.state.ViewPoint.dataset.dataX[props.state.ViewPoint.index])\r\n        TimeText = Time.getFullYear() + \".\" + (Time.getMonth() +1) + \".\" + Time.getDate()\r\n      }\r\n\r\n      var Data = props.state.ViewPoint.value\r\n      return (\r\n        <View style={[Helpers.buttonContainer, Helpers.fullWidth, Helpers.rowCenter, {maxHeight:100}] }>\r\n          <View style={[Helpers.colCenter, Helpers.borderContainer, {borderRadius:0}]}>\r\n            <Text>{TimeText}</Text>\r\n          </View>\r\n          <View style={[Helpers.colCenter, Helpers.borderContainer, {borderRadius:0}]}>\r\n            <Text>{Data} Kg.</Text>\r\n          </View>\r\n        </View>\r\n      )\r\n    }\r\n    else return(<></>)\r\n  } else {\r\n    const [Point, setPoint] = React.useState(0)\r\n    if (!props.state.TempGraph) {\r\n      return(<></>)\r\n    }\r\n    else {\r\n      return (\r\n        <View style={[Helpers.buttonContainer, Helpers.fullWidth, Helpers.rowCenter, {maxHeight:100,marginTop:10}] }>\r\n          <View style={{padding:6, paddingRight: 15}}>\r\n            <Icon name=\"md-arrow-back\" type='ionicon' size={25} color=\"black\" onPress={() => {\r\n              var index = Point;\r\n              index = index -1\r\n              if (index < 0) {\r\n                index = props.state.TempGraph.data.length -1\r\n              }\r\n              setPoint(index)\r\n            }}/>\r\n          </View>\r\n          <Input\r\n              type='number'\r\n              step=\"0.1\"\r\n\r\n              label={props.state.Labels[Point]}\r\n              containerStyle={[{width:\"auto\", borderWidth:1}]}\r\n              style={[ApplicationStyles.input, Helpers.borderContainer, {borderRadius:0}]}\r\n\r\n              onChange= {(evt) => {\r\n                var text = evt.target.value\r\n                if (!isNaN(text) || text.endsWith('.') && text.split('.').length <= 2) {\r\n                  var NewData = props.state.TempGraph.data;\r\n                  NewData[Point] = text\r\n                  \r\n                  props.control.setState({\r\n                    state: props.state,\r\n                    TempGraph: {...props.state.TempGraph, data: NewData}\r\n                  })\r\n                  props.control.setGraphPeriode(props.state.ActiveLength)\r\n                }\r\n              }}\r\n              /*onChangeText={text => {\r\n                if (!isNaN(text) || text.endsWith('.') && text.split('.').length <= 2) {\r\n                  var NewData = props.state.TempGraph.data;\r\n                  if (text === \"\" || text === null) text = 0\r\n                  if (text.endsWith('.')) text = text + \"0\"\r\n                  NewData[Point] = parseFloat(text)\r\n                  console.log(NewData[Point], text)\r\n                  props.control.setState({\r\n                    TempGraph: {...props.state.TempGraph, data: NewData}\r\n                  })\r\n\r\n                  props.control.forceUpdate()\r\n                }\r\n              }}*/\r\n              value={\r\n                props.state.TempGraph.data[Point]\r\n              }\r\n            />\r\n          <View style={{padding:6, paddingRight: 15}}>\r\n            <Icon name=\"md-arrow-forward\" type='ionicon' size={25} color=\"black\" onPress={() => {\r\n              var index = Point;\r\n              index = index +1\r\n              if (index > props.state.TempGraph.data.length -1){\r\n                index = 0\r\n              }\r\n              setPoint(index)\r\n            }}/>\r\n          </View>\r\n          <Input\r\n              label=\"Curve Name\"\r\n              containerStyle={[{width:\"auto\", borderWidth:1}]}\r\n              style={[ApplicationStyles.input, Helpers.borderContainer, {borderRadius:0}]}\r\n              \r\n              onChangeText={text => {\r\n                /*var name = text;\r\n                name = name.replace(' ', '_')\r\n                if (isNaN(name[0])){\r\n                  var NewLegends = props.state.Legends;\r\n                  NewLegends[0] = name\r\n                  props.control.setState({\r\n                    TempGraph: {...props.state.TempGraph, name: name},\r\n                    Legends: NewLegends\r\n                  })\r\n                }*/\r\n              }}\r\n              value={\r\n                props.state.TempGraph.name\r\n              }\r\n            />\r\n        </View>\r\n      )\r\n    }\r\n  }\r\n} \r\n\r\n/*\r\n<Button Text=\"Save\" buttonStyle={{width:100, marginLeft:20}}\r\n            onPress={() => {\r\n              props.props.setCurve(props.state.TempGraph)\r\n            } }/>\r\n*/\r\n\r\nconst mapStateToProps = (state) => {\r\n  const { firebase } = state\r\n  return { firebase }\r\n};\r\n\r\nconst mapDispatchToProps  = (dispatch) => {\r\n  return {\r\n    getPen: (penId, DataTime) => dispatch(FirebaseActions.actionStarting(Actions.FETCH, DataRefs.PENS, {PenId: penId, DataTime:DataTime})),\r\n    getWeights: (penId, DataTime, MemSections) => dispatch(FirebaseActions.actionStarting(Actions.FETCH, DataRefs.WEIGHING, {PenId: penId, DataTime: DataTime, MemSections: MemSections})),\r\n    getCurve: (curveid) => dispatch(FirebaseActions.actionStarting(Actions.FETCH, DataRefs.GRAPH, {GraphId: curveid})),\r\n    setCurve: (curve) => dispatch(FirebaseActions.actionStarting(Actions.CREATE, DataRefs.GRAPH, {Graph: curve}))\r\n  }\r\n};\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(CurveElement);\r\nexport {\r\n  WeightsToGraphData,\r\n}","import Button from './Button'\r\nimport Button_Panel from './Button_Panel'\r\nimport TitleElement from './TitleElement'\r\nimport CustomListItem from './CustomListItem'\r\nimport ContentProp from './ContentProp'\r\nimport Loading from './Loading'\r\nimport OperationsPanel from './OperationsPanel'\r\nimport ProgressBar from './Progressbar'\r\nimport Datetime_Picker from './DateTime_Picker'\r\nimport Comment_Module from './Comment_Module'\r\n\r\nexport { \r\n    Button, \r\n    Button_Panel,\r\n    TitleElement,\r\n    CustomListItem,\r\n    ContentProp,\r\n    Loading,\r\n    OperationsPanel,\r\n    ProgressBar,\r\n    Datetime_Picker,\r\n    Comment_Module,\r\n}\r\n","import React from 'react'\nimport { Provider } from 'react-redux'\nimport { PersistGate } from 'redux-persist/lib/integration/react'\n\nimport createStore from './Src/Stores'\nimport RootScreen from './Src/Containers/Root/RootScreen'\n\nconst { store, persistor } = createStore()\n\nconst App = () => (\n  <Provider store={store}>\n    {/**\n     * PersistGate delays the rendering of the app's UI until the persisted state has been retrieved\n     * and saved to redux.\n     * The `loading` prop can be `null` or any react instance to show during loading (e.g. a splash screen),\n     * for example `loading={<SplashScreen />}`.\n     * @see https://github.com/rt2zz/redux-persist/blob/master/docs/PersistGate.md\n     */}\n    <PersistGate loading={null} persistor={persistor}>\n      <RootScreen />\n    </PersistGate>\n  </Provider>\n);\n\nexport default App\n","import { combineReducers } from 'redux'\r\nimport configureStore from './CreateStore'\r\nimport rootSaga from '../Sagas'\r\n\r\nimport { reducer as ExampleReducer } from './Example/Reducers'\r\nimport { reducer as DeviceReducer } from './Device/Reducers'\r\nimport { reducer as FirebaseReducer } from './Firebase/Reducers'\r\n\r\nexport default () => {\r\n  const rootReducer = combineReducers({\r\n    /**\r\n     * Register your reducers here.\r\n     * @see https://redux.js.org/api-reference/combinereducers\r\n     */\r\n    example: ExampleReducer,\r\n    device: DeviceReducer,\r\n    firebase: FirebaseReducer,\r\n  })\r\n\r\n  return configureStore(rootReducer, rootSaga)\r\n}\r\n","import { Platform } from 'react-native'\r\n\r\nimport { applyMiddleware, compose, createStore } from 'redux'\r\nimport createSagaMiddleware from 'redux-saga'\r\nimport { persistReducer, persistStore, createTransform } from 'redux-persist'\r\n\r\nimport { NativeModules } from 'react-native'\r\nimport { BleManager, BleError, LogLevel } from 'react-native-ble-plx'\r\n\r\n//** fix: error serializing state TypeError: Converting circular structure to JSON  */\r\n// https://www.npmjs.com/package/jsog\r\n// https://www.npmjs.com/package/flatted\r\nimport JSOG from 'jsog';\r\nexport const JSOGTransform = createTransform(\r\n  (inboundState, key) => JSOG.encode(inboundState),\r\n  (outboundState, key) => JSOG.decode(outboundState),\r\n)\r\n\r\n/**\r\n * This import defaults to localStorage for web and AsyncStorage for react-native.\r\n *\r\n * Keep in mind this storage *is not secure*. Do not use it to store sensitive information\r\n * (like API tokens, private and sensitive data, etc.).\r\n *\r\n * If you need to store sensitive information, use redux-persist-sensitive-storage.\r\n * @see https://github.com/CodingZeal/redux-persist-sensitive-storage\r\n */\r\nimport storage from 'redux-persist/lib/storage'\r\n\r\nconst persistConfig = {\r\n  key: 'root',\r\n  storage: storage,\r\n  transforms: [JSOGTransform],\r\n  /**\r\n   * Blacklist state that we do not need/want to persist\r\n   */\r\n  blacklist: [\r\n    // 'auth',\r\n  ],\r\n}\r\n\r\nexport default (rootReducer, rootSaga) => {\r\n  const middleware = []\r\n  const enhancers = []\r\n\r\n  // Connect the sagas to the redux store\r\n  const sagaMiddleware = createSagaMiddleware()\r\n  middleware.push(sagaMiddleware)\r\n\r\n  enhancers.push(applyMiddleware(...middleware))\r\n\r\n  // Redux persist\r\n  const persistedReducer = persistReducer(persistConfig, rootReducer)\r\n\r\n  const store = createStore(persistedReducer, compose(...enhancers))\r\n  const persistor = persistStore(store)\r\n\r\n  if (Platform.OS === 'ios' || Platform.OS === 'android') {\r\n    // First step is to create BleManager which should be used as an entry point\r\n    // to all BLE related functionalities\r\n    const blemanager = new BleManager();\r\n    blemanager.setLogLevel(LogLevel.Verbose);\r\n\r\n    const bluemanager = NativeModules.BlueToothControl;\r\n\r\n    // SagaArgs Construcktor\r\n    const sagaArgs = {BLEManager: blemanager, BlueManager: bluemanager}\r\n\r\n    // Kick off the root saga\r\n    sagaMiddleware.run(rootSaga, sagaArgs)\r\n  }else {\r\n    sagaMiddleware.run(rootSaga)\r\n  }\r\n  \r\n  return { store, persistor }\r\n}\r\n","import { takeLatest, all, take } from 'redux-saga/effects'\r\n\r\nimport { StartupTypes } from '../Stores/Startup/Actions'\r\nimport { ExampleTypes } from '../Stores/Example/Actions'\r\nimport { DeviceTypes } from '../Stores/Device/Actions'\r\nimport { FirebaseTypes } from '../Stores/Firebase/Actions'\r\n\r\nimport * as StartupSaga from './StartupSaga'\r\nimport * as ExampleSaga from './Example/ExampleSaga'\r\nimport * as DeviceSaga from './Device/DeviceSaga'\r\nimport * as FirebaseSaga from './Firebase/FirebaseSaga'\r\n\r\nexport default function* root(sagaArgs) {\r\n  yield all([\r\n    /**\r\n     * @see https://redux-saga.js.org/docs/basics/UsingSagaHelpers.html\r\n     */\r\n    // Run the startup saga when the application starts\r\n    takeLatest(StartupTypes.STARTUP, StartupSaga.startup), //Initer\r\n    \r\n\r\n    //Example\r\n    takeLatest(ExampleTypes.FETCH_USER, ExampleSaga.fetchUser), // Call `fetchUser()` when a `FETCH_USER` action is triggered\r\n    \r\n    //Device Main Saga\r\n    takeLatest(DeviceTypes.DEVICE_STARTUP, DeviceSaga.deviceStartup), //Initer\r\n\r\n    takeLatest(DeviceTypes.CONNECT_DEVICE, DeviceSaga.connectDevice),\r\n    takeLatest(DeviceTypes.DISCONNECT_DEVICE, DeviceSaga.disconnectDevice),\r\n    takeLatest(DeviceTypes.READ_DEVICE_DATA, DeviceSaga.readDeviceData),\r\n\r\n    takeLatest(DeviceTypes.FETCH_DEVICE, DeviceSaga.fetchDevice, sagaArgs),\r\n\r\n    //BLE Saga\r\n    takeLatest(DeviceTypes.BLE_STARTUP, DeviceSaga.BLE.bleStartup, sagaArgs), //Initer\r\n    takeLatest(DeviceTypes.START_BLE_SCAN, DeviceSaga.BLE.startBleScan),\r\n    takeLatest(DeviceTypes.STOP_BLE_SCAN, DeviceSaga.BLE.stopBleScan),\r\n    takeLatest(DeviceTypes.READ_BLE_DEVICE_DATA, DeviceSaga.BLE.readBleDeviceData, sagaArgs),\r\n    \r\n    //Android BlueThooth Saga\r\n    takeLatest(DeviceTypes.BLUETOOTH_STARTUP, DeviceSaga.BlueTooth.bluetoothStartup, sagaArgs), //Initer\r\n    takeLatest(DeviceTypes.START_BLUETOOTH_SCAN, DeviceSaga.BlueTooth.startBluetoothScan),\r\n    takeLatest(DeviceTypes.STOP_BLUETOOTH_SCAN, DeviceSaga.BlueTooth.stopBluetoothScan),\r\n    takeLatest(DeviceTypes.BLUETOOTH_SCAN_ABLE, DeviceSaga.BlueTooth.bluetoothScanAble, sagaArgs),\r\n    takeLatest(DeviceTypes.READ_BLUE_DEVICE_DATA, DeviceSaga.BlueTooth.readBlueDeviceData, sagaArgs),\r\n    \r\n\r\n    //Firebase Saga\r\n    takeLatest(FirebaseTypes.FIREBASE_STARTUP, FirebaseSaga.firebaseStartup), //Initer\r\n  ])\r\n}\r\n","import { Platform } from 'react-native';\r\n\r\nimport { put, call } from 'redux-saga/effects'\r\n\r\nimport NavigationService from '../Services/NavigationService'\r\n\r\nimport ExampleActions from '../Stores/Example/Actions'\r\nimport DeviceActions from '../Stores/Device/Actions'\r\nimport FirebaseActions from '../Stores/Firebase/Actions'\r\n\r\n/**\r\n * The startup saga is the place to define behavior to execute when the application starts.\r\n */\r\nexport function* startup() {\r\n  // Dispatch a redux action using `put()`\r\n  // @see https://redux-saga.js.org/docs/basics/DispatchingActions.html\r\n  console.log(\"Starting sagas\")\r\n  \r\n  // Add more operations you need to do at startup here\r\n  //yield put(ExampleActions.fetchUser())\r\n  if (Platform.OS === 'ios' || Platform.OS === 'android') {\r\n    yield put(DeviceActions.deviceStartup())\r\n  }\r\n  yield put(FirebaseActions.firebaseStartup())\r\n\r\n  // When those operations are finished we redirect to the main screen\r\n  NavigationService.navigateAndReset('MainStack')\r\n}\r\n","export const ScannerState = {\r\n  IDLE: 'IDLE',\r\n  AVAILABLE: 'AVAILABLE',\r\n  SCANNING: 'SCANNING',\r\n};\r\n\r\nexport const ConnectionState = {\r\n  DISCONNECTED: 'DISCONNECTED',\r\n  CONNECTING: 'CONNECTING',\r\n  DISCOVERING: 'DISCOVERING',\r\n  CONNECTED: 'CONNECTED',\r\n  DISCONNECTING: 'DISCONNECTING',\r\n};\r\n\r\nexport const ConnectionMethode = {\r\n  NONE: 'NONE',\r\n  BLE: 'BLE',\r\n  SERIAL: 'SERIAL',\r\n  BLUETOOTH: 'BLUETOOTH',\r\n  WIFI: 'WIFI',\r\n};","import { put, call } from 'redux-saga/effects'\r\n\r\nimport ExampleActions from '../../Stores/Example/Actions'\r\nimport { userService } from '../../Services/UserService'\r\n\r\n/**\r\n * A saga can contain multiple functions.\r\n *\r\n * This example saga contains only one to fetch fake user informations.\r\n * Feel free to remove it.\r\n */\r\nexport function* fetchUser() {\r\n  // Dispatch a redux action using `put()`\r\n  // @see https://redux-saga.js.org/docs/basics/DispatchingActions.html\r\n  yield put(ExampleActions.fetchUserLoading())\r\n\r\n  // Fetch user informations from an API\r\n  const user = yield call(userService.fetchUser)\r\n  if (user) {\r\n    yield put(ExampleActions.fetchUserSuccess(user))\r\n  } else {\r\n    yield put(\r\n      ExampleActions.fetchUserFailure('There was an error while fetching user informations.')\r\n    )\r\n  }\r\n}\r\n","import axios from 'axios'\r\nimport { Config } from '../Config'\r\nimport { is, curryN, gte } from 'ramda'\r\n\r\nconst isWithin = curryN(3, (min, max, value) => {\r\n  const isNumber = is(Number)\r\n  return isNumber(min) && isNumber(max) && isNumber(value) && gte(value, min) && gte(max, value)\r\n})\r\nconst in200s = isWithin(200, 299)\r\n\r\n/**\r\n * This is an example of a service that connects to a 3rd party API.\r\n *\r\n * Feel free to remove this example from your application.\r\n */\r\nconst userApiClient = axios.create({\r\n  /**\r\n   * Import the config from the App/Config/index.js file\r\n   */\r\n  baseURL: Config.API_URL,\r\n  headers: {\r\n    Accept: 'application/json',\r\n    'Content-Type': 'application/json',\r\n  },\r\n  timeout: 3000,\r\n})\r\n\r\nfunction fetchUser() {\r\n  // Simulate an error 50% of the time just for testing purposes\r\n  console.log(\"user fetch test\");\r\n  if (Math.random() > 0.5) {\r\n    return new Promise((resolve, reject) => {\r\n      console.log(\"error\");\r\n      resolve(null)\r\n    })\r\n  }\r\n\r\n  const number = Math.floor(Math.random() / 0.1) + 1\r\n\r\n  return userApiClient.get(number.toString()).then((response) => {\r\n    if (in200s(response.status)) {\r\n      return response.data\r\n    }\r\n\r\n    return null\r\n  })\r\n}\r\n\r\nexport const userService = {\r\n  fetchUser,\r\n}\r\n","import {buffers, eventChannel} from 'redux-saga'\r\nimport { put, call, fork, take, cancelled, cancel, actionChannel, race, select } from 'redux-saga/effects'\r\n\r\nimport DeviceActions from '../../Stores/Device/Actions'\r\nimport { deviceService } from '../../Services/DeviceService'\r\n\r\nimport { ScannerState, ConnectionState, ConnectionMethode } from '../../Stores/Device/Selectors'\r\n\r\nimport { BleManager, BleError, Device} from 'react-native-ble-plx'\r\n//Include BLE Saga\r\nimport * as BLE from './BLE/BLESaga'\r\nexport {BLE}\r\n//Include BlueTooth Saga\r\nimport * as BlueTooth from './BlueTooth/BlueToothSaga'\r\nexport {BlueTooth}\r\n\r\nexport function* deviceStartup() {\r\n  //Check and setup BLE.... / Bluetooth\r\n  yield put(DeviceActions.setDeviceError(\"\"))\r\n  yield put(DeviceActions.clearDevices());\r\n  yield put(DeviceActions.connectedDeviceUpdated(null)); // TODO: load connected device if possible\r\n  yield put(DeviceActions.connectionStateUpdated(ConnectionState.DISCONNECTED));\r\n\r\n  yield put(DeviceActions.bleStartup());\r\n  yield put(DeviceActions.bluetoothStartup());\r\n  \r\n  console.log('Device Startup : Done');\r\n}\r\n\r\nexport function* connectDevice(device: Device){\r\n  yield put(DeviceActions.scannerStateUpdated(ScannerState.IDLE))\r\n  //console.log(\"Device: \", device); // dummy call to connect...\r\n}\r\n\r\nexport function* disconnectDevice(methode){\r\n  //console.log(\"Device: \", device); // dummy call to disconnect...\r\n}\r\n\r\nexport function* readDeviceData(){\r\n  var connectedDevice = yield select((state) => state.device.connectedDevice)\r\n  if (connectedDevice != null) {\r\n    var connectionMethode: $Keys<typeof ConnectionMethode> = yield select((state) => state.device.connectionMethode)\r\n    if (connectionMethode == ConnectionMethode.BLE) {\r\n      yield put(DeviceActions.readBleDeviceData())\r\n    } else if (connectionMethode == ConnectionMethode.BLUETOOTH) {\r\n      yield put(DeviceActions.readBlueDeviceData())\r\n    }\r\n  }\r\n}\r\n\r\nexport function* fetchDevice(sagaArgs) {\r\n  console.log(\"??\");\r\n  //yield put(DeviceActions.fetchDeviceLoading())\r\n  //yield call(scan_BLE, sagaArgs);\r\n}","import {buffers, eventChannel} from 'redux-saga'\r\nimport { put, call, fork, take, cancelled, cancel, actionChannel, race, select } from 'redux-saga/effects'\r\nimport base64 from 'react-native-base64'\r\nimport { Buffer } from 'buffer'\r\n\r\nimport DeviceActions from '../../../Stores/Device/Actions'\r\nimport { deviceService } from '../../../Services/DeviceService'\r\n\r\nimport BleActions from '../../../Stores/Device/BLE/Actions'\r\n\r\nimport { ScannerState, ConnectionState, ConnectionMethode } from '../../../Stores/Device/Selectors'\r\n\r\nimport { BleManager, BleError, Device, State, Service, Characteristic, Descriptor } from 'react-native-ble-plx'\r\n\r\nexport function* bleStartup(sagaArgs) {\r\n  //Check and setup BLE....\r\n  const permitError = yield call(deviceService.isBlePermitted)\r\n  if (permitError) {\r\n    yield put( DeviceActions.setDeviceError(permitError))\r\n  } else {\r\n    // All below generators are described below...\r\n    yield fork(handleScanning, sagaArgs.BLEManager)\r\n    yield fork(handleBleState, sagaArgs.BLEManager)\r\n    yield fork(handleConnection, sagaArgs.BLEManager)\r\n  }\r\n  \r\n  console.log('BLE Startup : Done');\r\n}\r\n\r\n// This generator tracks our BLE state. Based on that we can enable scanning, get rid of devices etc.\r\n// eventChannel allows us to wrap callback based API which can be then conveniently used in sagas.\r\nfunction* handleBleState(manager: BleManager) {\r\n  console.log(\"Handle BLE State...\")\r\n\r\n  const stateChannel = yield eventChannel((emit) => {\r\n    const subscription = manager.onStateChange((state) => {\r\n      emit(state)\r\n    }, true)\r\n    return () => {\r\n      subscription.remove()\r\n    };\r\n  }, buffers.expanding(1))\r\n\r\n  try {\r\n    for (;;) {\r\n      const newState = yield take(stateChannel)\r\n      console.log(\"New BLE state: \" + newState)\r\n      yield put(BleActions.bleStateUpdated(newState))\r\n    }\r\n  } finally {\r\n    if (yield cancelled()) {\r\n      stateChannel.close()\r\n    }\r\n  }\r\n}\r\n\r\nexport function* connectBle(device: Device) {\r\n  //dummy function\r\n}\r\n\r\nfunction* handleConnection(manager: BleManager) {\r\n  console.log(\"Handle BLE Connection...\")\r\n  \r\n  for (; ;) {\r\n    // Take action\r\n    var { device }: ConnectAction = yield take('CONNECT_DEVICE');\r\n\r\n    var connectionMethode: $Keys<typeof ConnectionMethode> = yield select((state) => state.device.connectionMethode)\r\n    if (connectionMethode != ConnectionMethode.BLE) continue;\r\n\r\n    var connectedDevice = yield select((state) => state.device.connectedDevice)\r\n    //if (connectedDevice != null) return;  // TODO: Allready connected ? if problem\r\n\r\n    if (device === null || device._manager === null) {\r\n      yield put(DeviceActions.setDeviceError(\"Could not find device..\"));\r\n      yield put(DeviceActions.connectionStateUpdated(ConnectionState.DISCONNECTED));\r\n      return;\r\n    }\r\n    if (device.isConnected()) {\r\n      console.log(\"is connected ??\");\r\n    }\r\n    console.log(\"Connect device\");\r\n\r\n    try {\r\n      const disconnectedChannel = yield eventChannel((emit) => {\r\n          const subscription = device.onDisconnected((error) => {\r\n            emit({ type: 'DISCONNECT_DEVICE', error: error });\r\n          });\r\n        return () => {\r\n          subscription.remove();\r\n        };\r\n      }, buffers.expanding(1));\r\n    \r\n      const deviceActionChannel = yield actionChannel([\r\n        'DISCONNECT_DEVICE',\r\n      ]);\r\n\r\n      try {\r\n        yield put(DeviceActions.connectionStateUpdated(ConnectionState.CONNECTING));\r\n        yield call([device, device.connect]);\r\n        yield put(DeviceActions.connectionStateUpdated(ConnectionState.DISCOVERING));\r\n        yield call([device, device.discoverAllServicesAndCharacteristics]);\r\n        yield put(DeviceActions.connectionStateUpdated(ConnectionState.CONNECTED));\r\n        yield put(DeviceActions.connectionMethodeUpdated(ConnectionMethode.BLE));\r\n\r\n        yield put(DeviceActions.connectedDeviceUpdated(device));\r\n\r\n        var _device = device;\r\n\r\n        yield fork(readBleDeviceData, manager)\r\n\r\n        for (; ;) {\r\n          const { deviceAction, disconnected } = yield race({\r\n            deviceAction: take(deviceActionChannel),\r\n            disconnected: take(disconnectedChannel),\r\n          });\r\n\r\n          if (deviceAction) {\r\n            if (deviceAction.type === 'DISCONNECT_DEVICE') {\r\n              console.log('Disconnected by user...');\r\n              yield call([_device, _device.cancelConnection]);\r\n              yield put(DeviceActions.connectionStateUpdated(ConnectionState.DISCONNECTING));\r\n              //TODO: search for lost \"connected\" device..\r\n              break;\r\n            }\r\n          } else if (disconnected) {\r\n            console.log('Disconnected by device...');\r\n            if (disconnected.error != null) {\r\n              console.log(\"Error \", disconnected.error);\r\n            }\r\n            break;\r\n          }\r\n        }\r\n      } catch (error) {\r\n        /*yield put(\r\n            DeviceActions.setDeviceError(error)\r\n        )*/\r\n      } finally {\r\n        disconnectedChannel.close();\r\n        yield put(DeviceActions.connectedDeviceUpdated(null))\r\n        yield put(DeviceActions.connectionStateUpdated(ConnectionState.DISCONNECTED));\r\n      }\r\n    } catch (error) {\r\n      console.log('Error on device actions...');\r\n      yield put(DeviceActions.removeDevice(device));\r\n      yield put(DeviceActions.connectionStateUpdated(ConnectionState.DISCONNECTING));\r\n    }\r\n  }\r\n}\r\n\r\nexport function* readBleDeviceData(manager: BleManager) {\r\n  // TODO: read service .... se Tests SensorTag-master project ... or try following\r\n  // or https://stackoverflow.com/questions/50137867/send-data-using-react-native-ble-plx-package\r\n  // or https://github.com/Polidea/react-native-ble-plx/issues/392\r\n  // or https://stackoverflow.com/questions/63012926/how-to-read-ble-peripheral-characteristics-in-react-native-using-react-native-bl\r\n  \r\n  // Better jet: https://www.polidea.com/blog/ReactNative_and_Bluetooth_to_An_Other_level/\r\n\r\n  \r\n  // Explanation of plx ble.. notify changes for characteristics and reading / writing\r\n  //https://github.com/Polidea/react-native-ble-plx/wiki/Characteristic-Notifying\r\n  //https://github.com/Polidea/react-native-ble-plx/wiki/Characteristic-Reading\r\n  \r\n  const KnownUUIDS = [\r\n    '0000fff0-0000-1000-8000-00805f9b34fb', //* BF-8 EarTag reader Service's\r\n    '0000fff1-0000-1000-8000-00805f9b34fb',\r\n\r\n    '0000180f-0000-1000-8000-00805f9b34fb', //* Battery service (General BLE)\r\n    '00002a19-0000-1000-8000-00805f9b34fb',\r\n  ];\r\n\r\n  var device: Device = yield select((state) => state.device.connectedDevice)\r\n  if (device === null) return;\r\n\r\n  const _services: Array<Service> = yield call([device, device.services]);\r\n  const serviceUUIDs = device.serviceUUIDs;\r\n\r\n  const services: Array<Service> = _services.filter(service => serviceUUIDs.includes(service.uuid))\r\n\r\n  var monitor = [];\r\n\r\n  for (const service of services) {\r\n    console.log('Device had service: ' + service.uuid);\r\n\r\n    const characteristics: Array<Characteristic> = yield call([service, service.characteristics]);\r\n    for (const characteristic of characteristics) {\r\n      console.log('  characteristic: ' + characteristic.uuid);\r\n\r\n      if (KnownUUIDS.includes(service.uuid) && KnownUUIDS.includes(characteristic.uuid)) {\r\n        monitor.push([service.uuid, characteristic.uuid])\r\n      }\r\n    }\r\n  }\r\n\r\n  //const services: Array<Service> = yield call([device, device.services]);\r\n  //TODO: merch with KnownUUIDS and withouth monitor.. (append services)\r\n  /*for (const service of services) {\r\n    console.log('Found service: ' + service.uuid);\r\n\r\n    const characteristics: Array<Characteristic> = yield call([service, service.characteristics]);\r\n    for (const characteristic of characteristics) {\r\n      const descriptors: Array<Descriptor> = yield call([characteristic, characteristic.descriptors]);\r\n\r\n      for (const descriptor of descriptors) {\r\n        //Can contain value...\r\n        console.log('* Found descriptor: ' + descriptor.uuid);\r\n        const d: Descriptor = yield call([descriptor, descriptor.read]);\r\n        console.log('  ** Descriptor value: ' + (d.value || 'null'));\r\n\r\n        //yield call([descriptor, descriptor.write], 'AAA=');\r\n      }\r\n      if (characteristic.isReadable) {\r\n        //Can contain value...\r\n        var c = yield call([characteristic, characteristic.read]);\r\n        console.log('? characteristic: ' + characteristic.uuid);\r\n        if (characteristic.isNotifiable) {\r\n          console.log('  Is Notifiable');\r\n        }\r\n        //var basevalue = base64.decode(c.value);\r\n        //basevalue = basevalue.charCodeAt(0);\r\n        console.log('  ** Got base64 value: ' + c.value);\r\n        //if (characteristic.isWritableWithResponse) {\r\n      }\r\n    }\r\n  }*/\r\n\r\n  const readingChannel = yield eventChannel((emit) => {\r\n    monitor.forEach((service, i) => {\r\n      device.monitorCharacteristicForService(\r\n        service[0], service[1],\r\n        (error, characteristic) => {\r\n          if (error) {\r\n            emit([error, characteristic]);\r\n            return;\r\n          }\r\n          // ************************\r\n          if (characteristic != null) {\r\n            emit([error, characteristic]);\r\n          }\r\n          // *************************\r\n        },\r\n      );\r\n    });\r\n    \r\n    return () => {\r\n      // ****\r\n    };\r\n  }, buffers.expanding(1));\r\n\r\n  try {\r\n    // Used to receive multiple data packets\r\n    var TempData_Reading = Buffer.from([]);\r\n    var length = 0;\r\n    var PacketId = 0;\r\n\r\n    for (; ;) {\r\n      if (readingChannel != null) {\r\n        const [error, characteristic] = yield take(readingChannel);\r\n        if (error != null) {\r\n          yield put(DeviceActions.setDeviceError(error))\r\n        }\r\n        if (characteristic != null) {\r\n          //console.log(characteristic.uuid);\r\n          // Handler for Battery state Change\r\n          if (characteristic.uuid == \"00002a19-0000-1000-8000-00805f9b34fb\") {\r\n            var BatteryLevel = base64.decode(characteristic.value);\r\n            BatteryLevel = BatteryLevel.charCodeAt(0);\r\n            yield put(DeviceActions.updateDeviceData({Battery: BatteryLevel}))\r\n          } \r\n          // Handler for BF-8 EarTag reader Data\r\n          else if (characteristic.uuid == \"0000fff1-0000-1000-8000-00805f9b34fb\") {\r\n            //console.log(\"Raw \", characteristic.value);                        //Display data raw\r\n            var RawData = Buffer.from(characteristic.value, 'base64');    \r\n            //console.log(\"Base64 Decoded Buffer: \", RawData)               //Display data base64 decoded\r\n            //console.log(\"ascii: \", RawData.toString('ascii'));            //Display string\r\n\r\n            if (PacketId === 0) {                                         // If no data is processing (New Data read)\r\n              var header = RawData.slice(0,4)\r\n              if (Buffer.compare(header, Buffer.from([170,170,170,170])) == 0) {  // Data Read header [AA AA AA AA / -1431655766]\r\n                length = (parseInt(RawData.slice(4,8).toString(\"hex\"), 16) - 8)   // Next int is the data length (-8 for PacketId 8 bit)\r\n                PacketId = parseInt(RawData.slice(8,12).toString(\"hex\"), 16)      // Packet type id [Recv RFID Packet / Recv Fat Layers ID] = [251658240 / 2315255808]\r\n                RawData = RawData.slice(12,RawData.length)                        // Last of packet is filled with data\r\n\r\n                //console.log(\"Id = \", PacketId);\r\n                //console.log(\"data length = \", length);\r\n              }\r\n            }\r\n\r\n            var NewData = Buffer.concat([TempData_Reading, RawData])     // else append data string\r\n            //console.log(\"NewData: \", NewData);\r\n            //console.log(\"NewData base64: \", NewData.toString('base64'));\r\n            //console.log(\"ascii: \", NewData.toString('ascii'));\r\n            \r\n            //console.log(\"new length \", (NewData.length * 8));\r\n            if (NewData.length < 4 || Buffer.compare(NewData.slice(NewData.length -4, NewData.length), Buffer.from([85,85,85,85])) != 0) { // Data Read End [55 55 55 55]\r\n              TempData_Reading = NewData;\r\n            }\r\n            else {\r\n              while (NewData.length * 8 > length || Buffer.compare(NewData.slice(NewData.length-1, NewData.length), Buffer.from([85])) == 0){\r\n                NewData = NewData.slice(0, NewData.length -1)\r\n              }\r\n              if (PacketId == 251658240) { // Recv RFID Packet\r\n                var TagId = NewData.toString('ascii')\r\n                TagId = TagId.slice(0,3) + \"-\" + TagId.slice(3,TagId.length)\r\n                console.log(\"Read Tag: \", TagId);\r\n                yield put(DeviceActions.updateDeviceData({tagid: TagId, FatLayers: 0, FatL1: 0, FatL2: 0, FatL3: 0}))\r\n              } \r\n              else if (PacketId == 2315255808) { //Recv Fat Layers ID\r\n                console.log(\"Fat done\");\r\n                var layers = parseInt(NewData.slice(0,1).toString(\"hex\"), 16);    // First byte is Layer count\r\n                var layer1 = parseInt(NewData.slice(3,4).toString(\"hex\"), 16);    // 4th. byte is layer one fat layer (data is value in mm)\r\n                var layer2 = parseInt(NewData.slice(5,6).toString(\"hex\"), 16);    // 6th. byte is layer two fat layer (data is value in mm)\r\n                var layer3 = parseInt(NewData.slice(7,8).toString(\"hex\"), 16);    // 8th. byte is layer third fat layer (data is value in mm)\r\n\r\n                console.log(\"layers: \" + layers + \" layer1: \" + layer1);\r\n                console.log(\"layer2: \" + layer2 + \" layer3: \" + layer3);\r\n                console.log(\"NewData: \", NewData);\r\n\r\n                yield put(DeviceActions.updateDeviceData({FatLayers: layers, FatL1: layer1, FatL2: layer2, FatL3: layer3}))\r\n                /*var FatData = NewData.toString('ascii')\r\n                console.log(\"Read Data: \", FatData);*/\r\n\r\n                /*\r\n                getRealLayerDepthMM_1() {\r\n                return (((float) this.mRawLayerData1) * 1.0f) / 256.0f;\r\n                */\r\n              }\r\n\r\n              PacketId = 0;\r\n              length = 0;\r\n              TempData_Reading = Buffer.from([]);\r\n            }\r\n\r\n            /*const TestValue = Buffer.from(characteristic.value, 'base64').readUInt16LE(0);\r\n            console.log(\"Test Value: \" + TestValue);*/\r\n            \r\n            /*if (value.startsWith(\"****\")) {\r\n              var TagType = value.slice(value.length - 8, value.length - 5);\r\n              var TagId = value.slice(value.length - 5, value.length);\r\n\r\n              yield put(DeviceActions.updateDeviceData({TAGType: TagType}))\r\n              yield put(DeviceActions.updateDeviceData({TAGId: TagId}))\r\n            } else if (value.endsWith(\"UUUU\")){\r\n              var TagId = yield select((state) => state.device.deviceData)\r\n              TagId = TagId.TAGId + value;\r\n\r\n              while (TagId.startsWith('0')){\r\n                TagId = TagId.slice(1, TagId.length);\r\n              }\r\n              while (TagId.endsWith('U')){\r\n                TagId = TagId.slice(0, TagId.length -1)\r\n              }\r\n\r\n              yield put(DeviceActions.updateDeviceData({TAGId: TagId}))\r\n            }\r\n            else {\r\n              console.log(value);\r\n              yield put(DeviceActions.updateDeviceData({Unknown: value}))\r\n            }*/\r\n          } else {\r\n            console.log(\"unknown char: \", characteristic.uuid);\r\n          }\r\n        }\r\n      }\r\n    }\r\n  } catch (error) {\r\n    //yield put(DeviceActions.setDeviceError(error))\r\n  } finally {\r\n    if (yield cancelled()) {\r\n      if (readingChannel != null) readingChannel.close();\r\n    }\r\n  }\r\n}\r\n\r\n// This generator decides if we want to start or stop scanning depending on specific\r\n// events:\r\n// * BLE state is in PoweredOn state\r\n// * SCANNER is currently AVAILABLE or allready SCANNING\r\n// * ConnectionMethode is on BLE\r\n// * We are not allready Connected to a device..\r\nfunction* handleScanning(manager: BleManager) {\r\n  console.log(\"Handle BLE Scanning...\")\r\n\r\n  var scanTask = null\r\n  var bleState: $Keys<typeof State> = yield select((state) => state.device.bleState);\r\n  var scannerState: $Keys<typeof ScannerState> = yield select((state) => state.device.scannerState)\r\n  var connectionMethode: $Keys<typeof ConnectionMethode> = yield select((state) => state.device.connectionMethode)\r\n  var connectionState: $Keys<typeof ConnectionState> = yield select((state) => state.device.connectionState)\r\n\r\n  const channel = yield actionChannel([\r\n    'BLE_STATE_UPDATED',\r\n    'SCANNER_STATE_UPDATED',\r\n    'CONNECTION_METHODE_UPDATED',\r\n    'CONNECTION_STATE_UPDATED',\r\n  ])\r\n\r\n  for (;;) {\r\n    const action:\r\n      | BLE_STATE_UPDATED\r\n      | SCANNER_STATE_UPDATED\r\n      | CONNECTION_METHODE_UPDATED \r\n      | CONNECTION_STATE_UPDATED = yield take(channel)\r\n\r\n    switch (action.type) {\r\n      case 'BLE_STATE_UPDATED':\r\n        bleState = action.bleState\r\n        break;\r\n      case 'SCANNER_STATE_UPDATED':\r\n        scannerState = action.scannerState\r\n        break;\r\n      case 'CONNECTION_METHODE_UPDATED':\r\n        connectionMethode = action.connectionMethode\r\n        break;\r\n      case 'CONNECTION_STATE_UPDATED':\r\n        connectionState = action.connectionState\r\n        break;\r\n    }\r\n\r\n    const enableScanning =\r\n      bleState === State.PoweredOn && \r\n      (scannerState === ScannerState.AVAILABLE ||\r\n        scannerState === ScannerState.SCANNING) &&\r\n      connectionMethode === ConnectionMethode.BLE &&\r\n      (connectionState === ConnectionState.DISCONNECTING ||\r\n        connectionState === ConnectionState.DISCONNECTED)\r\n    \r\n    if (enableScanning) {\r\n      if (scannerState != ScannerState.SCANNING) { //Dount need to start scanner if allready Scanning\r\n        if (scanTask != null) {\r\n          yield cancel(scanTask)\r\n        }\r\n        scanTask = yield fork(scanBle, manager);\r\n      }\r\n    } else {\r\n      if (scanTask != null) {\r\n        yield cancel(scanTask)\r\n        scanTask = null\r\n      }\r\n    }\r\n  }\r\n}\r\n\r\n// As long as this generator is working we have enabled scanning functionality.\r\n// **\r\n// When we detect Tag-device, Device with localName or Name, We send device to device list\r\n// Testing with isConnectable\r\nfunction* scanBle(manager: BleManager) {\r\n  yield put(DeviceActions.scannerStateUpdated(ScannerState.SCANNING))\r\n  yield put(DeviceActions.clearDevices())\r\n  \r\n  console.log(\"Scanning started\");\r\n\r\n  const scanningChannel = yield eventChannel((emit) => {\r\n    manager.startDeviceScan(\r\n      null,\r\n      { allowDuplicates: true },\r\n      (error, scannedDevice) => {\r\n        if (error) {\r\n          emit([error, scannedDevice]);\r\n          return;\r\n        }\r\n        // ************************\r\n        if (scannedDevice != null) {\r\n          if (scannedDevice.localName != null) {\r\n            //TODO: auto list only supported devices...\r\n            //TODO: auto connect \"missing / disconnected\" divece..\r\n\r\n            /*if (scannedDevice.id === TagId && TagId != null) { // Catch Specefic SensorTag\r\n              emit([error, scannedDevice]);\r\n            } else { //Else if not ....*/\r\n              emit([error, scannedDevice]);\r\n            //}\r\n          } \r\n          /*else if (scannedDevice.name != null && scannedDevice.name != \"\"){\r\n            console.log(\"Device found Name: \" + scannedDevice.name);\r\n          }\r\n          // Test\r\n          if (scannedDevice.isConnectable != null && scannedDevice.id != null){\r\n            console.log(\"Connect ??: \" + scannedDevice.id);\r\n          }*/\r\n        }\r\n        // *************************\r\n      },\r\n    );\r\n    return () => {\r\n      manager.stopDeviceScan();\r\n    };\r\n  }, buffers.expanding(1));\r\n\r\n  try {\r\n    for (; ;) {\r\n      const [error, scannedDevice]: [?BleError,?Device] = yield take(scanningChannel);\r\n      if (error != null) {\r\n        console.log(\"Ble Scan Error: \", error);\r\n        yield put(DeviceActions.setDeviceError(error))\r\n      }\r\n      if (scannedDevice != null) {\r\n        //console.log(\"Interest Device Found: \" + scannedDevice.localName);\r\n        yield put(DeviceActions.addDevice(scannedDevice));\r\n      }\r\n    }\r\n  } catch (error) {\r\n    console.log(\"Ble Scan Error: \", error);\r\n    yield put(DeviceActions.setDeviceError(error))\r\n  } finally {\r\n    if (yield cancelled()) {\r\n      yield put(DeviceActions.scannerStateUpdated(ScannerState.IDLE))\r\n      console.log('Scanning stopped...');\r\n      scanningChannel.close();\r\n    }\r\n  }\r\n}\r\n\r\nexport function* startBleScan(){\r\n  var connectionMethode = yield select((state) => state.device.connectionMethode);\r\n  const scannerState = yield select((state) => state.device.scannerState);\r\n  \r\n  if (connectionMethode !== ConnectionMethode.BLE) {\r\n    yield put(DeviceActions.connectionMethodeUpdated(ConnectionMethode.BLE)) // rem, handleScanning should contain ConnectionMethode check and shutof scanning on change\r\n  } \r\n  yield call(setBleScannerStart);\r\n}\r\n// Aparently functions cannot call itself... so..\r\nfunction* setBleScannerStart(){\r\n  var connectionMethode = yield select((state) => state.device.connectionMethode);\r\n  const scannerState = yield select((state) => state.device.scannerState);\r\n\r\n  if (scannerState === ScannerState.IDLE && connectionMethode === ConnectionMethode.BLE) {\r\n    yield put(DeviceActions.scannerStateUpdated(ScannerState.AVAILABLE));\r\n  }\r\n}\r\n\r\nexport function* stopBleScan(){\r\n  const connectionMethode = yield select((state) => state.device.connectionMethode);\r\n  if (connectionMethode === ConnectionMethode.BLE) {\r\n    yield put(DeviceActions.scannerStateUpdated(ScannerState.IDLE));\r\n  }\r\n}","import { PermissionsAndroid, NativeModules, NativeEventEmitter } from 'react-native'\r\nimport {buffers, eventChannel} from 'redux-saga'\r\nimport { put, call, fork, take, cancelled, cancel, actionChannel, race, select } from 'redux-saga/effects'\r\n\r\nimport DeviceActions from '../../../Stores/Device/Actions'\r\nimport { deviceService } from '../../../Services/DeviceService'\r\n\r\nimport BluetoothActions from '../../../Stores/Device/BlueTooth/Actions'\r\n\r\nimport { ScannerState, ConnectionState, ConnectionMethode } from '../../../Stores/Device/Selectors'\r\n\r\nimport { Device } from 'react-native-ble-plx'\r\n\r\nexport function* bluetoothStartup(sagaArgs) {\r\n  //Check and setup Bluetooth....\r\n  const permitError = yield call(deviceService.isBlePermitted) //BLE permits is same for bluetooth\r\n  if (permitError) {\r\n    yield put( DeviceActions.setDeviceError(permitError))\r\n  } else {\r\n    // All below generators are described below...\r\n    yield fork(handleScanning, sagaArgs.BlueManager)\r\n    yield fork(handleConnection, sagaArgs.BlueManager)\r\n  }\r\n  \r\n  console.log('BlueTooth Startup : Done');\r\n}\r\n\r\n// This generator decides if we want to start or stop scanning depending on specific\r\n// events:\r\n// * SCANNER is currently AVAILABLE or allready SCANNING\r\n// * ConnectionMethode is on BLUETOOTH\r\n// * We are not allready Connected to a device..\r\nfunction* handleScanning(manager) {\r\n  console.log(\"Handle Bluetooh Scanning...\")\r\n\r\n  var scanTask = null\r\n  var scannerState: $Keys<typeof ScannerState> = yield select((state) => state.device.scannerState)\r\n  var connectionMethode: $Keys<typeof ConnectionMethode> = yield select((state) => state.device.connectionMethode)\r\n  var connectionState: $Keys<typeof ConnectionState> = yield select((state) => state.device.connectionState)\r\n\r\n  const channel = yield actionChannel([\r\n    'SCANNER_STATE_UPDATED',\r\n    'CONNECTION_METHODE_UPDATED',\r\n    'CONNECTION_STATE_UPDATED',\r\n  ])\r\n\r\n  for (;;) {\r\n    const action:\r\n      | SCANNER_STATE_UPDATED\r\n      | CONNECTION_METHODE_UPDATED \r\n      | CONNECTION_STATE_UPDATED = yield take(channel)\r\n\r\n    switch (action.type) {\r\n      case 'SCANNER_STATE_UPDATED':\r\n        scannerState = action.scannerState\r\n        break;\r\n      case 'CONNECTION_METHODE_UPDATED':\r\n        connectionMethode = action.connectionMethode\r\n        break;\r\n      case 'CONNECTION_STATE_UPDATED':\r\n        connectionState = action.connectionState\r\n        break;\r\n    }\r\n\r\n    const enableScanning =\r\n      (scannerState === ScannerState.AVAILABLE ||\r\n        scannerState === ScannerState.SCANNING) &&\r\n      connectionMethode === ConnectionMethode.BLUETOOTH &&\r\n      (connectionState === ConnectionState.DISCONNECTING ||\r\n        connectionState === ConnectionState.DISCONNECTED)\r\n\r\n    if (enableScanning) {\r\n      if (scannerState != ScannerState.SCANNING) { //Dount need to start scanner if allready Scanning\r\n        if (scanTask != null) {\r\n          yield cancel(scanTask)\r\n        }\r\n        scanTask = yield fork(scanBluetooth, manager);\r\n      }\r\n    } else {\r\n      if (scanTask != null) {\r\n        yield cancel(scanTask)\r\n        scanTask = null\r\n      }\r\n    }\r\n  }\r\n}\r\n\r\n//** Todo: Be done... (code is not touched... can contain lots of error) */\r\nfunction* handleConnection(manager) {\r\n  console.log(\"Handle Bluetooth Connection...\")\r\n\r\n  var testTask = null;\r\n  for (; ;) {\r\n    // Take action\r\n    var { device }: ConnectAction = yield take('CONNECT_BLUETOOTH');\r\n\r\n    var connectionMethode: $Keys<typeof ConnectionMethode> = yield select((state) => state.device.connectionMethode)\r\n    if (connectionMethode != ConnectionMethode.BLUETOOTH) continue;\r\n\r\n    if (device === null) {\r\n      yield put(DeviceActions.setDeviceError(\"Could not find device..\"));\r\n      yield put(DeviceActions.connectionStateUpdated(ConnectionState.DISCONNECTED));\r\n      return;\r\n    }\r\n    console.log(\"Connect device\");\r\n\r\n    try {\r\n      // TODO: handle disconnect\r\n\r\n      /*const disconnectedChannel = yield eventChannel((emit) => {\r\n          const subscription = device.onDisconnected((error) => {\r\n            emit({ type: 'DISCONNECT_DEVICE', error: error });\r\n          });\r\n        return () => {\r\n          subscription.remove();\r\n        };\r\n      }, buffers.expanding(1));\r\n    \r\n      const deviceActionChannel = yield actionChannel([\r\n        'DISCONNECT_DEVICE',\r\n      ]);*/\r\n\r\n      try {\r\n        yield put(DeviceActions.connectionStateUpdated(ConnectionState.CONNECTING));\r\n        const res = yield call(manager.PairDevice, device.id);\r\n        console.log(\"\",res);\r\n        //yield put(DeviceActions.connectionStateUpdated(ConnectionState.DISCOVERING));\r\n        //yield call([device, device.discoverAllServicesAndCharacteristics]);\r\n\r\n        yield put(DeviceActions.connectionStateUpdated(ConnectionState.CONNECTED));\r\n        yield put(DeviceActions.connectionMethodeUpdated(ConnectionMethode.BLE));\r\n\r\n        yield put(DeviceActions.connectedDeviceUpdated(device));\r\n\r\n        //for (; ;) {\r\n          /*const { deviceAction, disconnected } = yield race({\r\n            deviceAction: take(deviceActionChannel),\r\n            disconnected: take(disconnectedChannel),\r\n          });*/\r\n\r\n          /*if (deviceAction) {\r\n            if (deviceAction.type === 'DISCONNECT_DEVICE') {\r\n              console.log('Disconnected by user...');\r\n              yield put(DeviceActions.connectionStateUpdated(ConnectionState.DISCONNECTING));\r\n              yield call([device, device.cancelConnection]);\r\n              break;\r\n            }\r\n          } else if (disconnected) {\r\n            console.log('Disconnected by device...');\r\n            if (disconnected.error != null) {\r\n              console.log(\"Error \", disconnected.error);\r\n            }\r\n            break;\r\n          }*/\r\n\r\n        //}\r\n      } catch (error) {\r\n        console.log(\"?: \", error);\r\n        //yield put(DeviceActions.setDeviceError(error))\r\n      } finally {\r\n        //disconnectedChannel.close();\r\n        yield put(DeviceActions.connectedDeviceUpdated(null))\r\n        yield put(DeviceActions.connectionStateUpdated(ConnectionState.DISCONNECTED));\r\n      }\r\n    } catch (error) {\r\n      console.log('Error on device actions... ', error);\r\n      yield put(DeviceActions.removeDevice(device));\r\n      yield put(DeviceActions.connectionStateUpdated(ConnectionState.DISCONNECTING));\r\n    }\r\n  }\r\n}\r\n\r\nexport function* readBlueDeviceData(sagaArgs) {\r\n  console.log(\"Blue Read\");\r\n  const manager = sagaArgs.BlueManager;\r\n\r\n  var device: Device = yield select((state) => state.device.connectedDevice)\r\n  if (device === null) return;\r\n\r\n  const Message = yield call(manager.receiveData, device.id);\r\n  console.log(Message);\r\n  if (Message != \"\") {\r\n    yield put(DeviceActions.updateDeviceData({TAGId: Message}))\r\n  }\r\n}\r\n\r\n// As long as this generator is working we have enabled scanning functionality.\r\n// **\r\n// When we detect Tag-device, Device with localName or Name, We send device to device list\r\n// Testing with isConnectable\r\nfunction* scanBluetooth(manager) {\r\n  yield put(DeviceActions.scannerStateUpdated(ScannerState.SCANNING))\r\n  yield put(DeviceActions.clearDevices())\r\n\r\n  console.log(\"Scanning started\");\r\n\r\n  yield call(manager.Discover);\r\n  const bluetoothChannel = yield eventChannel((emit) => {\r\n    const blueTootControlEmitter = new NativeEventEmitter(manager);\r\n    const subscription = blueTootControlEmitter.addListener('blueToothDeviceFound', (device) => {\r\n      if (device != null){\r\n        var scannedDevice = new Device();\r\n        scannedDevice.id = device.address\r\n        scannedDevice.localName = (device.name != null ? device.name : \"NONE\");\r\n        scannedDevice.name = device.alias\r\n        \r\n        if (scannedDevice.localName != null) {\r\n          if (scannedDevice.localName === 'SensorTag') { // Catch Specefic SensorTag\r\n            //console.log(\"Device with Tag found: \" + scannedDevice.localName + \" : \" + scannedDevice.id);\r\n            emit(scannedDevice);\r\n          } else { //Else if not ....\r\n            //console.log(\"Device found localName: \" + scannedDevice.localName + \" : \" + scannedDevice.id);\r\n            emit(scannedDevice);\r\n          }\r\n        } \r\n        else if (device.alias != null && device.alias != \"\"){\r\n          scannedDevice.name = device.alias\r\n          emit(scannedDevice);\r\n          //console.log(\"Device found Name: \" + scannedDevice.name);\r\n        }\r\n      }\r\n    })\r\n    return () => {\r\n      subscription.remove();\r\n    };\r\n  }, buffers.expanding(1))\r\n\r\n  try {\r\n    for (;;) {\r\n      const scannedDevice: Device = yield take(bluetoothChannel);\r\n      if (scannedDevice != null) {\r\n        console.log(\"Interest Device Found: \" + scannedDevice.localName + \" : \" + scannedDevice.id);\r\n        yield put(DeviceActions.addDevice(scannedDevice))\r\n      }\r\n    }\r\n  } finally {\r\n    if (yield cancelled()) {\r\n      yield call(manager.StopDiscovery);\r\n      yield put(DeviceActions.scannerStateUpdated(ScannerState.IDLE))\r\n      console.log('Scanning stopped...');\r\n      bluetoothChannel.close()\r\n    }\r\n  }\r\n}\r\n\r\nexport function* startBluetoothScan(){\r\n  var connectionMethode = yield select((state) => state.device.connectionMethode);\r\n  const scannerState = yield select((state) => state.device.scannerState);\r\n  \r\n  if (connectionMethode !== ConnectionMethode.BLUETOOTH) {\r\n    yield put(DeviceActions.connectionMethodeUpdated(ConnectionMethode.BLUETOOTH)) // rem, handleScanning should contain ConnectionMethode check and shutof scanning on change\r\n  } \r\n  yield call(setBlueScannerStart);\r\n}\r\n// Aparently functions cannot call itself... so..\r\nfunction* setBlueScannerStart(){\r\n  var connectionMethode = yield select((state) => state.device.connectionMethode);\r\n  const scannerState = yield select((state) => state.device.scannerState);\r\n\r\n  if (scannerState === ScannerState.IDLE && connectionMethode === ConnectionMethode.BLUETOOTH) {\r\n    yield put(DeviceActions.scannerStateUpdated(ScannerState.AVAILABLE));\r\n  }\r\n}\r\nexport function* stopBluetoothScan(){\r\n  const connectionMethode = yield select((state) => state.device.connectionMethode);\r\n  if (connectionMethode === ConnectionMethode.BLUETOOTH) {\r\n    yield put(DeviceActions.scannerStateUpdated(ScannerState.IDLE));\r\n  }\r\n}\r\n\r\nexport function* bluetoothScanAble(sagaArgs){\r\n  yield call(sagaArgs.BlueManager.BluetoothSearchAble);\r\n}","import { Platform, Alert } from 'react-native'\r\nimport {buffers, eventChannel} from 'redux-saga'\r\nimport { put, call, fork, take, cancelled, cancel, actionChannel, race, select } from 'redux-saga/effects'\r\n\r\nimport FirebaseActions from '../../Stores/Firebase/Actions'\r\nimport { firebaseService } from '../../Services/FirebaseService'\r\nimport { consysService } from '../../Services/ConsysService'\r\n\r\nvar auth, messaging, database, firebase;\r\nif (Platform.OS === 'ios' || Platform.OS === 'android') {\r\n  //#region App version imports\r\n  auth = require('@react-native-firebase/auth').default;\r\n  messaging = require( '@react-native-firebase/messaging').default;\r\n  database = require('@react-native-firebase/database').default;\r\n  //#endregion\r\n} else {\r\n  //#region Web Version imports\r\n  var _firebase = require('firebase/app').default;\r\n  require('firebase/auth').default;\r\n  require('firebase/messaging').default;\r\n  require('firebase/database').default;\r\n\r\n  firebase = _firebase;\r\n  \r\n  if (!firebase.apps.length) {\r\n    console.log(\"Starting\")\r\n    var Constants = require('expo-constants').default;\r\n    console.log(Constants.manifest.web.config.firebase)\r\n    _firebase.initializeApp(Constants.manifest.web.config.firebase);\r\n  }\r\n  \r\n  auth = _firebase.auth;\r\n  if (_firebase.messaging.isSupported()) {\r\n    messaging = _firebase.messaging;\r\n  }\r\n  database = _firebase.database;\r\n  console.log(\"Started\")\r\n  //#endregion\r\n}\r\n\r\nimport { UserStates, DataRefs, Actions, ConsysRefs } from '../../Stores/Firebase/Selectors'\r\n\r\nexport function* firebaseStartup() {\r\n  console.log(\"Starting firebase saga\")\r\n  //Check and setup Firebase and permissions\r\n  yield put(FirebaseActions.setFirebaseError(null))\r\n\r\n  /*console.log(\"test\")\r\n  if (Platform.OS !== 'ios' && Platform.OS !== 'android') {\r\n    console.log(\"Starting\")\r\n    console.log(Constants.manifest.web.config.firebase)\r\n    firebase.initializeApp(Constants.manifest.web.config.firebase);\r\n  }*/\r\n\r\n  const permitError = yield call(firebaseService.requestUserPermission)\r\n  if (permitError) {\r\n    yield put(FirebaseActions.fetchFailure(permitError))\r\n  }else {\r\n    //yield put(FirebaseActions.firebaseIsLoading(true))\r\n    console.log(\"Starting handlers\")\r\n    //yield put(FirebaseActions.firebaseIsLoading(true))\r\n    yield fork(handleAuthState)\r\n    yield fork(handleActions)\r\n    console.log(\"auth & actions\")\r\n\r\n    if (messaging && messaging.isSupported && messaging.isSupported()) {\r\n      if (Platform.OS === 'ios' || Platform.OS === 'android') {\r\n        yield fork(onMessageHandler)\r\n        yield fork(onBackgroundMessageHandler)\r\n      }\r\n      else {\r\n        yield fork(onMessageHandler)\r\n        yield fork(onBackgroundMessageHandler)\r\n      }\r\n    }\r\n\r\n    //var FirebaseToken = yield call(firebaseService.requestFirebaseToken);\r\n    //console.log('Firebase Token: ', FirebaseToken);\r\n    \r\n    //yield fork(testmessage,FirebaseToken)\r\n  }\r\n\r\n  console.log('Firebase Startup : Done');\r\n  if (Platform.OS === 'ios' || Platform.OS === 'android') {\r\n    console.log('Firebase will disable yellow box debug')\r\n    console.disableYellowBox = true;\r\n  }\r\n}\r\n\r\n//Somehow works ??? but should only work at server hosting XMPP, try firebase functions insted if nessasary\r\n//TODO: check this more... SendNotification to device\r\n//it seams to work ... but slow ???\r\n/*function* testmessage(token) {\r\n  if (messaging) {\r\n    ///////\r\n    messaging().sendMessage({\r\n        to: '11111111111111@fcm.googleapis.com',\r\n        messageId: 'test1',\r\n        messageType: 'test2',\r\n        notification: {\r\n            title: 'Foo',\r\n            body: 'Bar',\r\n        }\r\n      });\r\n    ///////\r\n      //to: 'worker@agrisys.dk',\r\n    var message = {\r\n      to: token,\r\n      messageId: 'test1',\r\n      messageType: 'test2',\r\n      notification: {\r\n          title: 'Foo',\r\n          body: 'Bar',\r\n      }\r\n    }\r\n    messaging().sendMessage(message).then(msg => {\r\n      console.log(msg)\r\n    })\r\n  }\r\n}*/\r\n\r\nexport function* handleAuthState() {\r\n  const authChannel = yield eventChannel((emit) => {\r\n    const subscription = auth().onAuthStateChanged((user) => {\r\n      if (user == null){\r\n        emit(\"NONE\")\r\n      }else {\r\n        emit(user)\r\n      }\r\n    })\r\n    return () => {\r\n      subscription()\r\n    };\r\n  }, buffers.expanding(1))\r\n\r\n  try {\r\n    for (;;) {\r\n      const newAuth = yield take(authChannel)\r\n      var firebaseUser = newAuth === \"NONE\"?null:newAuth;\r\n      if (firebaseUser) {\r\n        const userData = yield call(firebaseService.actionStarting, DataRefs.USERSDATA, Actions.FETCH, {UserId: firebaseUser.uid})\r\n        if (userData.data) {\r\n          firebaseUser.farms = userData.data.data.farms\r\n          firebaseUser.state = userData.data.data.state\r\n          yield put(FirebaseActions.dataFetchSuccess({type:Actions.UPDATE, path:DataRefs.FIREBASEUSER, data: firebaseUser}))\r\n          //yield put(FirebaseActions.dataFetchSuccess({type:Actions.UPDATE, path:DataRefs.USERSDATA, data: userData.data}))    //TODO: mabye moved to firebaseUser..\r\n        }\r\n      } else {\r\n        yield put(FirebaseActions.dataFetchSuccess({type:Actions.UPDATE, path:DataRefs.FIREBASEUSER, data: {}}))\r\n        //yield put(FirebaseActions.dataFetchSuccess({type:Actions.UPDATE, path:DataRefs.USERSDATA, data: {}}))    //TODO: mabye moved to firebaseUser..\r\n      }\r\n    }\r\n  } finally {\r\n    if (yield cancelled()) {\r\n      authChannel.close()\r\n    }\r\n  }\r\n}\r\n\r\nexport function* handleActions() {\r\n  const channel = yield actionChannel([\r\n    'ACTION_STARTING',\r\n  ])\r\n\r\n  for (;;) {\r\n    const action: ACTION_STARTING = yield take(channel)\r\n\r\n    //console.log(action.ref, action.action, action.params)\r\n\r\n    if (action.ref === DataRefs.CONSYS && Object.values(ConsysRefs).includes(action.action)) {\r\n      const FirebaseUser = yield select((state) => state.firebase.firebaseUser);\r\n      if (FirebaseUser && FirebaseUser.farms) {\r\n        const FarmsData = yield select((state) => state.firebase.localDataStore.farms);\r\n        if (FarmsData && FarmsData[Object.keys(FirebaseUser.farms)[0]]) {\r\n          const FarmData = FarmsData[Object.keys(FirebaseUser.farms)[0]]\r\n          if (FarmData.site && FarmData.refToken) {\r\n            var Token = FarmData.token?FarmData.token:null\r\n            var Params = action.params\r\n\r\n            var ResData = {};\r\n            switch (action.action) {\r\n              case ConsysRefs.VALVEFEED:\r\n                ResData = yield call(consysService.fetch_ValveConsumption, FarmData.site,FarmData.refToken, Params.limit, Params.sysId, Params.start, Params.stop, Params.offset, Params.lastId, Token)\r\n                if (ResData && ResData.data) {\r\n                  yield put(FirebaseActions.dataFetchSuccess({type:Actions.UPDATE, path:DataRefs.CONSYS, data: {feedData: ResData.data}}))\r\n                }\r\n                break;\r\n              case ConsysRefs.SCALE:\r\n                ResData = yield call(consysService.fetch_AutoPig, FarmData.site,FarmData.refToken, Params.limit, Params.sysId, Params.start, Params.stop, Params.offset, Params.lastId, Token)\r\n                if (ResData && ResData.data) {\r\n                  yield put(FirebaseActions.dataFetchSuccess({type:Actions.UPDATE, path:DataRefs.CONSYS, data: {scaleData: ResData.data}}))\r\n                }\r\n                break;\r\n              default:\r\n                break;\r\n            }\r\n            if (ResData && ResData.token) {\r\n              FarmData.token = ResData.token\r\n              yield put(FirebaseActions.dataFetchSuccess({type:Actions.UPDATE, path:DataRefs.FARMS, data: {FarmData}}))\r\n            }\r\n          }\r\n        }\r\n      }\r\n    } else if (Object.values(Actions).includes(action.action) && Object.values(DataRefs).includes(action.ref)) {\r\n      const FirebaseUser = yield select((state) => state.firebase.firebaseUser);\r\n      if (action.action != Actions.SIGN && FirebaseUser && FirebaseUser.farms) {\r\n        if (!action.params) action.params = {}\r\n        if (!action.params.FarmId) action.params.FarmId = [Object.keys(FirebaseUser.farms)[0]]\r\n      }\r\n\r\n      const NewData = yield call(firebaseService.actionStarting, action.ref, action.action, action.params)\r\n      if (NewData && (NewData.error || NewData.viewError)) {\r\n        yield put(FirebaseActions.fetchFailure(NewData.error))\r\n        yield put(FirebaseActions.setViewError(NewData.viewError))\r\n      } else {\r\n        //console.log(\"resCall: \", NewData)\r\n        if (NewData && NewData.hasOwnProperty(\"type\") && NewData.hasOwnProperty(\"path\") && NewData.hasOwnProperty(\"data\")) {\r\n          yield put(FirebaseActions.dataFetchSuccess(NewData))\r\n        }\r\n        else {\r\n          //console.log(\"Old Path: \", action.ref, action.action, params, NewData)\r\n          yield put(FirebaseActions.fetchSuccess({localDataStore:NewData}))\r\n        }\r\n      }\r\n    }\r\n  }\r\n}\r\n\r\n// Notification Handler for then App is in Foreground State\r\nexport function* onMessageHandler() {\r\n  if (messaging) {\r\n    const onMessageChannel = yield eventChannel((emit) => {\r\n      const messageListener = messaging().onMessage((remoteMessage) => {\r\n        //console.log(\"message ? \", remoteMessage);\r\n        emit(remoteMessage);\r\n      });\r\n      return () => {\r\n        messageListener();\r\n      };\r\n    }, buffers.expanding(1));\r\n\r\n    try {\r\n      for (;;) {\r\n        const remoteMessage = yield take(onMessageChannel)\r\n        console.log(\"New Firebase message: \", remoteMessage)\r\n        if (remoteMessage.notification && remoteMessage.notification.title && remoteMessage.notification.body){\r\n          yield call(firebaseService.wrappedAlert, remoteMessage.notification.title, remoteMessage.notification.body, \"Ok\", false)\r\n        }else {\r\n          console.log(\"New Firebase data message: \", remoteMessage)\r\n        }\r\n      }\r\n    } finally {\r\n      if (yield cancelled()) {\r\n        onMessageChannel.close()\r\n      }\r\n    }\r\n  }\r\n}\r\n\r\n// Notification Handler for then App is in Background & Quit state\r\nexport function* onBackgroundMessageHandler() {\r\n  if ((Platform.OS === 'ios' || Platform.OS === 'android') && messaging) {\r\n    // Assume a message-notification contains a \"type\" property in the data payload of the screen to open\r\n    messaging().onNotificationOpenedApp(remoteMessage => {\r\n      console.log(\r\n        'Notification caused app to open from background state:',\r\n        remoteMessage.notification,\r\n      );\r\n      //NavigationService.navigate(remoteMessage.data.type); // this is not view..\r\n    });\r\n\r\n    const onMessageChannel = yield eventChannel((emit) => {\r\n      messaging().setBackgroundMessageHandler((remoteMessage) => {\r\n        emit(remoteMessage);\r\n      });\r\n      return () => {\r\n        //\r\n      };\r\n    }, buffers.expanding(1));\r\n\r\n    try {\r\n      for (;;) {\r\n        const remoteMessage = yield take(onMessageChannel)\r\n        console.log(\"New background Firebase message: \", remoteMessage)\r\n      }\r\n    } finally {\r\n      if (yield cancelled()) {\r\n        onMessageChannel.close()\r\n      }\r\n    }\r\n  }\r\n}","import { Platform, Alert } from 'react-native'\r\n\r\nimport { UserStates } from '../Stores/Firebase/Selectors'\r\nimport { Actions, DataRefs, format_Time } from '../Stores/Firebase/Selectors';\r\n\r\nlet auth, messaging, database, firebase;\r\nif (Platform.OS === 'ios' || Platform.OS === 'android') {\r\n  //#region App version imports\r\n  auth = require('@react-native-firebase/auth').default;\r\n  messaging = require('@react-native-firebase/messaging').default;\r\n  database = require('@react-native-firebase/database').default;\r\n  //#endregion\r\n} else {\r\n  console.log(\"firebase load\")\r\n  //#region Web Version imports\r\n  var _firebase = require('firebase/app').default;\r\n  require('firebase/auth').default;\r\n  require('firebase/messaging').default;\r\n  require('firebase/database').default;\r\n\r\n  firebase = _firebase\r\n\r\n  if (!firebase.apps.length) {\r\n    console.log(\"Starting\")\r\n    var Constants = require('expo-constants').default;\r\n    console.log(Constants.manifest.web.config.firebase)\r\n    _firebase.initializeApp(Constants.manifest.web.config.firebase);\r\n  }\r\n\r\n  auth = _firebase.auth;\r\n  if (_firebase.messaging.isSupported()){\r\n    messaging = _firebase.messaging;\r\n  }\r\n  database = _firebase.database;\r\n  console.log(\"Started\")\r\n  //#endregion\r\n}\r\n\r\n//#region Firebase specefic services\r\nasync function isPermit_UserPermission() {\r\n  console.log(\"permit test\")\r\n  if (messaging) {\r\n    const authStatus = await messaging().requestPermission();\r\n    const enabled =\r\n      authStatus === messaging.AuthorizationStatus.AUTHORIZED ||\r\n      authStatus === messaging.AuthorizationStatus.PROVISIONAL;\r\n\r\n    if (!enabled) {\r\n      console.log('Authorization status:', authStatus);\r\n      return false;\r\n    }\r\n  }\r\n  return true;\r\n}\r\n\r\nfunction requestUserPermission() {\r\n  return new Promise((resolve, reject) => {\r\n    if ((Platform.OS === \"ios\" || Platform.OS == \"android\") && !isPermit_UserPermission()) {\r\n      resolve('This application needs premissions to be using notifications')\r\n    }\r\n    resolve(null)\r\n  })\r\n}\r\n\r\nasync function is_getToken() {\r\n  var fcmToken = \"\"\r\n  if (messaging) {\r\n    try{\r\n      fcmToken = await messaging().getToken();\r\n      console.log('Device_token: ', fcmToken)\r\n    }catch(error){\r\n      console.log(error)\r\n    }\r\n  }\r\n  return fcmToken;\r\n}\r\n\r\nfunction requestFirebaseToken() {\r\n  return new Promise((resolve, reject) => {\r\n    var token;\r\n    if (Platform.OS === 'ios' || Platform.OS === 'android') {\r\n      try {\r\n        token = is_getToken();\r\n      } catch{}\r\n    } else if (messaging && messaging.isSupported()) {\r\n      try {\r\n        token = is_getToken();\r\n      } catch{}\r\n    }\r\n    if (!token) {\r\n      resolve('Could not find Firebase messaging Token')\r\n    }\r\n    resolve(token)\r\n  })\r\n}\r\n\r\nfunction wrappedAlert(title, message, okText, _cancelable) {\r\n  return new Promise(resolve => {\r\n    Alert.alert(\r\n      title,\r\n      message,\r\n      [{text: okText, onPress: function() { resolve(); }}],\r\n      {cancelable: _cancelable, onDismiss: function() {resolve(); }},\r\n    );\r\n  });\r\n}\r\n//#endregion\r\n\r\n//#region Firebase Auth services\r\nfunction createFirebaseUserWithemailandpassword({Email, Pass}) {\r\n  return new Promise((resolve, reject) => {\r\n    auth().createUserWithEmailAndPassword(Email,Pass).then(() => {\r\n      var User = auth().currentUser;\r\n      var Name = User.displayName ? User.displayName : User.email\r\n      actionStarting(DataRefs.USERSDATA, Actions.UPDATE, {UserId: User.uid, Data: {\r\n        name: Name,\r\n        state: UserStates.STARTER,\r\n      }}).then((_data) => {\r\n        User.updateProfile({\r\n          displayName: Name\r\n        }).then((data) => {\r\n          User.sendEmailVerification().then(function() {\r\n            // Email sent.\r\n            resolve(null)\r\n          }).catch(function(error) {\r\n            console.log(\"error in send EmailVerification\", error)\r\n            resolve({error:error.code, viewError:'Verification could not be send'})\r\n          });\r\n        }).catch(function(error) {\r\n          console.log(\"update profile\")\r\n          resolve({error:error.code, viewError:'Update error, please refresh'})\r\n        });\r\n      })\r\n      \r\n    }).catch(error => {\r\n      console.log(\"UserCreate Error: \", error);\r\n      if (error.code === 'auth/email-already-in-use') {\r\n        resolve({error:error.code, viewError:'The email address is already in use.'})\r\n        //Should not exploid the users... (this could be used as a find user-mails) ???\r\n      }\r\n      else if (error.code === 'auth/invalid-email') {\r\n        resolve({error:error.code, viewError:'The email addres is invalid.'})\r\n      }\r\n      else if (error.code === 'auth/weak-password') {\r\n        resolve({error:error.code, viewError: error.message})\r\n      } else {\r\n        resolve({error:error.code, viewError: 'Something went wrong'})\r\n      }\r\n    })\r\n  })\r\n}\r\n\r\nfunction signinWithemailandpassword({Email, Pass}){\r\n  if (auth().currentUser){\r\n    if (auth().currentUser.email != Email){\r\n      const res = logoutUser()\r\n    }\r\n    else {\r\n      return new Promise((resolve, reject) => {\r\n        resolve(true)\r\n      })\r\n    }\r\n  }\r\n  return new Promise((resolve, reject) => {\r\n    auth().signInWithEmailAndPassword(Email,Pass).then(() => {\r\n      resolve(true)\r\n    }).catch(error => {\r\n      console.log(\"User Signin Error: \", error);\r\n\r\n      if (error.code === 'auth/invalid-email') {\r\n        resolve({error:error.code, viewError:'The email addres is invalid.'})\r\n      }\r\n      else {\r\n        resolve({error:'Could not singin', viewError:'Could not singin'})\r\n      }\r\n    })\r\n  })\r\n}\r\n\r\nfunction sendResetPassword({Email}){\r\n  return new Promise((resolve, reject) => {\r\n    auth().sendPasswordResetEmail(Email).then(() => {\r\n      resolve(true)\r\n    }).catch(error => {\r\n      console.log(\"User resetPass error:\", error);\r\n      if (error.code === 'auth/user-not-found'){\r\n        //Should not exploid the users... (this could be used as a find user-mails)\r\n      }\r\n      resolve(null)\r\n    })\r\n  })\r\n}\r\n\r\nfunction logoutUser(){\r\n  return new Promise((resolve, reject) => {\r\n    auth().signOut().then(() => {\r\n      resolve({type:Actions.UPDATE, path:DataRefs.FIREBASEUSER, data:null })\r\n    }).catch(error => {\r\n      console.log(\"User logout error:\", error);\r\n      resolve({type:Actions.UPDATE, path:DataRefs.FIREBASEUSER, data:null })\r\n    })\r\n  })\r\n}\r\n\r\nfunction refreshUser(){\r\n  return new Promise((resolve, reject) => {\r\n    var user = auth().currentUser\r\n    if (user){\r\n      auth().currentUser.reload().then((data) => {\r\n        user = auth().currentUser\r\n        console.log(data, user)\r\n        //resolve({type:Actions.UPDATE, path:DataRefs.FIREBASEUSER, data:null })\r\n      })\r\n    }\r\n    resolve(null)\r\n  })\r\n}\r\n//#endregion\r\n\r\n//#region Master Control\r\nfunction actionStarting(ref, action, params = null){\r\n  const CurrentUser = auth().currentUser;\r\n  switch(ref){\r\n    case DataRefs.USERSDATA:\r\n      switch(action){\r\n        case Actions.FETCH:\r\n          return fetchUser(params)\r\n        case Actions.CREATE:\r\n          if (params.hasOwnProperty(\"UserData\")) {\r\n            return new Promise((resolve, reject) => {\r\n              var Data = params[0]\r\n              createFarm({Data:{name: params.Farms.name}}).then((farmid) => {\r\n                updateFarmData({FarmId:farmid, Data:{sections:params.Sections, pens: params.Pens}}).then(() => {\r\n                  updateUserData({Data:{state: params.UserData.state, farms: {[farmid]: true}}}).then(() => {\r\n                    fetchUser(CurrentUser.uid).then((data) => {\r\n                      var Data = data.data\r\n                      resolve({type:Actions.UPDATE, path:DataRefs.FIREBASEUSER, data:Data })\r\n                    });\r\n                  })\r\n                })\r\n              })\r\n            })\r\n          }\r\n          break;\r\n        case Actions.UPDATE:\r\n          return updateUserData(params)\r\n        case Actions.SIGN:\r\n          if (!params){\r\n            return logoutUser()\r\n          }else {\r\n            if (params.hasOwnProperty(\"refresh\")){ // TODO: verify\r\n              return refreshUser()\r\n            } else return signinWithemailandpassword(params)\r\n          }\r\n          break;\r\n        case Actions.CLEAR:\r\n          if (!CurrentUser) {\r\n            return {type:Actions.CLEAR, path:DataRefs.USERS, data:{}}\r\n          } else {\r\n            return {type:Actions.CLEAR, path:DataRefs.USERSDATA, data:{}}\r\n          }\r\n          break;\r\n      }\r\n      break;\r\n\r\n    case DataRefs.USERS:\r\n      switch(action){\r\n        case Actions.FETCH:\r\n          return fetchUser(params, true)\r\n        case Actions.CREATE:\r\n          if (params.hasOwnProperty(\"Email\") && params.hasOwnProperty(\"Pass\")) return createFirebaseUserWithemailandpassword(params)\r\n          else if (params.hasOwnProperty(\"Email\")) return sendResetPassword(params)\r\n          break;\r\n        case Actions.UPDATE:\r\n          return {type:Actions.UPDATE, path:DataRefs.FIREBASEUSER, data:params}\r\n        case Actions.CLEAR:\r\n          return {type:Actions.CLEAR, path:DataRefs.USERS, data:{}}\r\n      }\r\n      break;\r\n\r\n    case DataRefs.FARMS:\r\n      switch(action){\r\n        case Actions.FETCH:\r\n          return fetchFarm(params);\r\n        case Actions.CREATE:\r\n          break;\r\n        case Actions.UPDATE:\r\n          return updateFarm(params)\r\n        case Actions.CLEAR:\r\n          return {type:Actions.CLEAR, path:DataRefs.FARMS, data:{}}\r\n      }\r\n      break;\r\n\r\n    case DataRefs.FARMDATAS:\r\n      switch(action) {\r\n        case Actions.UPDATE:\r\n          return updateFarmData(params)\r\n      }\r\n      break;\r\n\r\n    case DataRefs.SECTIONS:\r\n      switch(action){\r\n        case Actions.FETCH:\r\n          return fetchSections(params);\r\n        case Actions.CREATE:\r\n          break;\r\n        case Actions.UPDATE:\r\n          break;\r\n        case Actions.CLEAR:\r\n          return {type:Actions.CLEAR, path:DataRefs.SECTIONS, data:{}}\r\n      }\r\n      break;\r\n\r\n    case DataRefs.PENS:\r\n      switch(action){\r\n        case Actions.FETCH:\r\n          return fetchPens(params);\r\n        case Actions.CREATE:\r\n          return createNewPen(params);\r\n        case Actions.DELETE:\r\n          return deletePen(params)\r\n        case Actions.UPDATE:\r\n          return updatePen(params);\r\n        case Actions.CLEAR:\r\n          return {type:Actions.CLEAR, path:DataRefs.PENS, data:{}}\r\n      }\r\n      break;\r\n\r\n    case DataRefs.PIGS:\r\n      switch(action){\r\n        case Actions.FETCH:\r\n          return fetchPigs(params);\r\n        case Actions.CREATE:\r\n          return updatePigdata(params);\r\n        case Actions.UPDATE:\r\n          break;\r\n        case Actions.CLEAR:\r\n          return {type:Actions.CLEAR, path:DataRefs.PIGS, data:{}}\r\n      }\r\n      break;\r\n\r\n    case DataRefs.BATCHS:\r\n      switch(action){\r\n        case Actions.FETCH:\r\n          return fetchBatchs(params)\r\n        case Actions.CREATE:\r\n          return createBatchs(params)\r\n        case Actions.UPDATE:\r\n          return updateBatchs(params)\r\n        case Actions.DELETE:\r\n          //return deleteBatch(params)\r\n          break;\r\n        case Actions.CLEAR:\r\n          return {type:Actions.CLEAR, path:DataRefs.BATCHS, data:{}}\r\n      }\r\n      break;\r\n\r\n    case DataRefs.WEIGHING:\r\n      switch(action){\r\n        case Actions.FETCH:\r\n          return fetchWeights(params);\r\n        case Actions.CREATE:\r\n          return createWeight(params);\r\n        case Actions.UPDATE:\r\n          break;\r\n        case Actions.CLEAR:\r\n          return {type:Actions.CLEAR, path:DataRefs.WEIGHING, data:{}}\r\n      }\r\n      break;\r\n\r\n    case DataRefs.COMMENTS:\r\n      switch(action) {\r\n        case Actions.FETCH:\r\n          return fetchComments(params);\r\n        case Actions.CREATE:\r\n          return createComment(params);\r\n      }\r\n      break;\r\n\r\n    case DataRefs.GRAPH:\r\n      switch(action){\r\n        case Actions.FETCH:\r\n          return fetchGraphData(params);\r\n        case Actions.CREATE:\r\n          return updateGraphData(params);\r\n        case Actions.UPDATE:\r\n          return updateGraphData(params);\r\n        case Actions.CLEAR:\r\n          return {type:Actions.CLEAR, path:DataRefs.GRAPH, data:{}}\r\n      }\r\n      break;\r\n  }\r\n  return new Promise((resolve, reject) => {\r\n    resolve({error: \"Unknown Action\"})\r\n  })\r\n}\r\n//#endregion\r\n\r\nfunction SetUpdateTime(DataRef) {\r\n  return new Promise((resolve, reject) => {\r\n    console.log(\"Setting Update Time\")\r\n    database().ref(DataRef).update({\r\n      update_time: database.ServerValue.TIMESTAMP,\r\n    }).then(() => {\r\n      resolve(true)\r\n    }).catch(error => {\r\n      console.log(error)\r\n      /*if (error.code === 'database/permission-denied') {\r\n        console.log(\"Batch update was permission denied. \");\r\n      }else if (error.code) {\r\n        console.log(\"Batch update Error: \", error);\r\n      }*/\r\n      resolve(true)\r\n    });\r\n  })\r\n}\r\nfunction CheckDataTime(DataRef, DataTime) {\r\n  return new Promise((resolve, reject) => {\r\n    if (!DataTime) resolve(true)\r\n    database().ref(DataRef + \"/update_time\").once('value').then((_Time) => {\r\n      var UpdateTime = _Time.val()\r\n      if (!UpdateTime) {\r\n        SetUpdateTime(DataRef).then((res) => {\r\n          resolve(true)\r\n        })\r\n      } else {\r\n        if (DataTime) {\r\n          if (DataTime === \"SET\"){\r\n            SetUpdateTime(DataRef).then((res) => {\r\n              resolve(res)\r\n            })\r\n          } else if (DataTime < UpdateTime){\r\n            resolve(true)\r\n          }\r\n          else resolve(false)\r\n        }else resolve(true)\r\n      }\r\n    })\r\n  })\r\n}\r\n\r\n//#region User data Controls\r\nfunction fetchUser({UserId}, List = false) {\r\n  var user = \"\";\r\n  if (UserId) user = UserId\r\n  else if (!List && auth().currentUser) user = auth().currentUser.uid;\r\n\r\n  if (user || List) {\r\n    const ref = \"users/\" + user;\r\n    return new Promise((resolve, reject) => {\r\n      database().ref(ref).once('value').then((userData) => {\r\n        var data = userData.val()\r\n        if (!List) {\r\n          resolve({type:Actions.UPDATE, path:DataRefs.FIREBASEUSER, data:{data}})\r\n        } else {\r\n          resolve({type:Actions.UPDATE, path:DataRefs.USERS, data:{data}})\r\n        }\r\n      }).catch(error => {\r\n        console.log(error)\r\n        if (error.code === 'database/permission-denied') {\r\n          console.log(\"User update was permission denied. \");\r\n        }else if (error.code) {\r\n          console.log(\"User update Error: \", error);\r\n        }\r\n        resolve({error:\"An error occurred\"})\r\n      })\r\n    })\r\n  }\r\n  else return new Promise((resolve, reject) => {\r\n    console.log(\"User uid in fecth unknown\");\r\n    resolve(null)\r\n  })\r\n}\r\n\r\nfunction updateUserData({UserId, Data}) {\r\n  const user = UserId? UserId: auth().currentUser.uid;\r\n  if (user) {\r\n    const ref = \"users/\" + user;\r\n    return new Promise((resolve, reject) => {\r\n      database().ref(ref).update(\r\n        Data\r\n      ).then((data) => {\r\n        resolve(null)\r\n      }).catch(error => {\r\n        if (error.code === 'database/permission-denied') {\r\n          console.log(\"User update was permission denied. \");\r\n        }else if (error.code) {\r\n          console.log(\"User update Error: \", error);\r\n        }\r\n        resolve({error:\"An error occurred\"})\r\n      })\r\n    }) \r\n  } else return new Promise((resolve, reject) => {\r\n    console.log(\"User uid in fecth unknown\");\r\n    resolve(null)\r\n  })\r\n}\r\n//#endregion\r\n\r\n//#region Farm info data Controls\r\nfunction fetchFarm({FarmId}) {\r\n  var ref = \"farms/\" + FarmId\r\n  return database().ref(ref).once('value').then((_farmData) => {\r\n    //TODO:Multiple farms\r\n    var data = _farmData.val()\r\n    if (FarmId) {\r\n      data = {[FarmId]:data}\r\n    }\r\n    return {type:Actions.UPDATE, path:DataRefs.FARMS, data: data}\r\n  })\r\n  /*} else return new Promise((resolve, reject) => {\r\n    console.log(\"Farm uid in fecth unknown\");\r\n    resolve(null)\r\n  })*/\r\n}\r\n\r\nfunction updateFarm({FarmId, Data}) {\r\n  return new Promise((resolve, reject) => {\r\n    if (FarmId){\r\n      database().ref('farms/'+ FarmId).update({\r\n        ...Data\r\n      }).then(()=> {\r\n        resolve(null)\r\n      }).catch(error => {\r\n        console.log(\"Create Farm Error: \", error);\r\n        resolve(false)\r\n      })\r\n    } else {\r\n      const farm = database().ref('farms/').push()\r\n      const farmid = farm.key\r\n      farm.set({\r\n        Data\r\n      }).then(() => {\r\n        resolve(farmid)\r\n      }).catch(error => {\r\n        console.log(\"Create Farm Error: \", error);\r\n        resolve(false)\r\n      })\r\n    }\r\n  })\r\n}\r\n\r\nfunction createFarm({Data}){\r\n  const user = auth().currentUser;\r\n  const ref = \"users/\" + user.uid;\r\n\r\n  return new Promise((resolve, reject) => {\r\n    const farm = database().ref('farms/').push()\r\n    const farmid = farm.key\r\n    \r\n    farm.set({\r\n      email: user.email,\r\n      manager: user.displayName ? user.displayName : user.email,\r\n      name: Data.name\r\n    }).then(() => {\r\n      resolve(farmid)\r\n    }).catch(error => {\r\n      console.log(\"Create Farm Error: \", error);\r\n      resolve(false)\r\n    })\r\n  })\r\n}\r\n\r\nfunction updateFarmData({FarmId, Data}) {\r\n  if (FarmId) {\r\n    const ref = \"farms_data/\" + FarmId;\r\n    return new Promise((resolve, reject) => {\r\n      database().ref(ref).update(\r\n        Data\r\n      ).then(() => {\r\n        resolve(null)\r\n      }).catch(error => {\r\n        if (error.code === 'database/permission-denied') {\r\n          console.log(\"Farm data update was permission denied.\");\r\n        }else if (error.code) {\r\n          console.log(\"User update Error: \", error);\r\n        }\r\n\r\n        resolve(false)\r\n      })\r\n    })\r\n  } else return new Promise((resolve, reject) => {\r\n    console.log(\"Farm uid in fecth unknown\");\r\n    resolve(null)\r\n  })\r\n}\r\n//#endregion\r\n\r\n//#region Farm data Controls\r\n\r\n//#region Sections\r\nfunction fetchSections({FarmId, SectionId, DataTime}){\r\n  if (FarmId) {\r\n    var ref = \"farms_data/\" + FarmId + \"/sections\";\r\n    if (SectionId){\r\n      ref += \"/\" + SectionId\r\n    }\r\n    return new Promise((resolve, reject) => {\r\n      CheckDataTime(\"farms_data/\" + FarmId + \"/sections\", DataTime).then((DoFetch) => {\r\n        if (DoFetch) {\r\n          console.log(\"Sections fetch called\")\r\n          return database().ref(ref).once('value').then((_sectionidData) => {\r\n            resolve({type:Actions.UPDATE, path:DataRefs.SECTIONS, data:_sectionidData.val()})\r\n          })\r\n        }\r\n        else {\r\n          resolve(null)\r\n        }\r\n      })\r\n    })\r\n  }\r\n  return new Promise((resolve, reject) => {\r\n    console.log(\"Fecth Sections Error\");\r\n    resolve(null)\r\n  })\r\n}\r\n//#endregion\r\n\r\n//#region Pens\r\nfunction fetchPens({FarmId, PenId, DataTime}){\r\n  if (FarmId) {\r\n    var ref = \"farms_data/\" + FarmId + \"/pens\";\r\n    if (PenId){\r\n      ref += \"/\" + PenId\r\n    }\r\n    return new Promise((resolve, reject) => {\r\n      CheckDataTime(\"farms_data/\" + FarmId + \"/pens\", DataTime).then((DoFetch) => {\r\n        if (DoFetch){\r\n          console.log(\"Pens fetch Called\")\r\n\r\n          database().ref(ref).once('value').then((_pensData) => {\r\n            if (PenId) {\r\n              var penData = _pensData.val()\r\n              if (!penData) penData = {}\r\n              if (!penData.datas) penData.datas = {}\r\n              //if (!penData.datas.gcurve) penData.datas.gcurve = \"default\";\r\n      \r\n              var pen = {[PenId]: penData};\r\n              resolve({type:Actions.UPDATE, path:DataRefs.PENS, data:pen})\r\n            } else {\r\n              resolve({type:Actions.UPDATE, path:DataRefs.PENS, data:_pensData.val()})\r\n            }\r\n          })\r\n        }\r\n        else {\r\n          resolve(null)\r\n        }\r\n      })\r\n    })\r\n  } \r\n  return new Promise((resolve, reject) => {\r\n    console.log(\"Fecth Pens Error\");\r\n    resolve(null)\r\n  })\r\n}\r\n\r\nfunction createNewPen({FarmId, PenId, SectionId}){\r\n  if (FarmId) {\r\n    var ref = \"farms_data/\" + FarmId + \"/\";\r\n    return new Promise((resolve, reject) => {\r\n      if (PenId) {\r\n        var ref2 = ref + \"pens/\" + PenId + \"/\"\r\n        database().ref(ref2).set({\r\n          section: SectionId,\r\n        }).then(() => {\r\n          database().ref(ref + \"sections/\" + SectionId + \"/pens\").update({\r\n            [PenId]: true,\r\n          }).then(() => {\r\n            database().ref(ref + \"sections/\").update({\r\n              update_time: database.ServerValue.TIMESTAMP,\r\n            }).then(() => {\r\n              fetchPens({FarmId: FarmId, PenId: PenId, DataTime: \"SET\"}).then((_Pen) => {\r\n                resolve({type:Actions.UPDATE, path:DataRefs.PENS, data:_Pen.data})\r\n              });\r\n            });\r\n          });\r\n        });\r\n      }\r\n    })\r\n  }\r\n}\r\n\r\nfunction deletePen({FarmId, PenId, SectionId}){\r\n  if (FarmId && PenId){\r\n    var ref = \"farms_data/\" + FarmId + \"/\";\r\n    return new Promise((resolve, reject) => {\r\n      database().ref(ref + \"pens/\" + PenId).remove().then(() => {\r\n        if (SectionId){\r\n          database().ref(ref + \"sections/\" + SectionId + \"/pens/\" + PenId).remove().then(() => {\r\n            database().ref(ref + \"sections/\").update({\r\n              update_time: database.ServerValue.TIMESTAMP,\r\n            }).then(() => {\r\n              fetchPens({FarmId: FarmId, PenId: PenId, DataTime: \"SET\"}).then((_Pen) => {\r\n                resolve({type:Actions.UPDATE, path:DataRefs.PENS, data:_Pen.data})\r\n              })\r\n            });\r\n          })\r\n        }else {\r\n          resolve(null)\r\n        }\r\n      })\r\n    })\r\n  }\r\n}\r\n\r\nfunction updatePen({FarmId, PenId, Pen}){\r\n  if (FarmId) {\r\n    var ref = \"farms_data/\" + FarmId + \"/\";\r\n    return new Promise((resolve, reject) => {\r\n      if (PenId){\r\n        fetchPens({FarmId: FarmId, PenId: PenId}).then((_Pen) => {\r\n          var ref2 = ref + \"pens/\" + PenId + \"/\"\r\n          var data = Pen.datas\r\n          var Datas = {..._Pen.data[PenId].datas, ...data}\r\n          database().ref(ref2).update({\r\n            ...Pen,\r\n            datas: Datas\r\n          }).then(() => {\r\n            if (Pen.section) {\r\n              database().ref(ref + \"sections/\" + SectionId + \"/pens\").update({\r\n                [PenId]: true,\r\n              }).then(() => {\r\n                database().ref(ref + \"sections/\").update({\r\n                  update_time: database.ServerValue.TIMESTAMP,\r\n                }).then(() => {\r\n                  resolve(null)\r\n                });\r\n              });\r\n            }\r\n          });\r\n        })\r\n      }\r\n    })\r\n  }\r\n}\r\n//#endregion\r\n\r\n//#region Pigs\r\nfunction fetchPigs({FarmId, TagId}){\r\n  if (FarmId) {\r\n    var ref = \"farms_data/\" + FarmId + \"/pigs\";\r\n    if (TagId){\r\n      ref += \"/\" + TagId\r\n    }\r\n\r\n    return database().ref(ref).once('value').then((_pigsData) => {\r\n      if (TagId) {\r\n        var pigData = _pigsData.val()\r\n        if (!pigData) return null;\r\n        if (!pigData.datas) pigData.datas = {}\r\n        if (!pigData.datas.gcurve) pigData.datas.gcurve = \"default\";\r\n\r\n        var pig = {[TagId]: pigData};\r\n        return {type:Actions.UPDATE, path:DataRefs.PIGS, data:pig}\r\n      } else {\r\n        return {type:Actions.UPDATE, path:DataRefs.PIGS, data:_pigsData.val()}\r\n      }\r\n    })\r\n  }\r\n  return new Promise((resolve, reject) => {\r\n    console.log(\"Fecth Pigs Error\");\r\n    resolve(null)\r\n  })\r\n}\r\n\r\nfunction updatePigPen({FarmId, TagId, PenId, Action}) {\r\n  if (PenId) {\r\n    var ref2 = \"farms_data/\" + FarmId + \"/\" + \"pens/\" + PenId + \"/datas\"\r\n    return new Promise((resolve, reject) => {\r\n      database().ref(ref2 + \"/count\").once('value').then((counts) => {\r\n        var val = counts.val()\r\n        if (!val) val = 0\r\n        if (Action && !isNaN(Action)) {\r\n          val = parseInt(val) + parseInt(Action)\r\n        } else {\r\n          val = parseInt(val) +1\r\n        }\r\n        database().ref(ref2).update({\r\n          count: val,\r\n        }).then(() => {\r\n          fetchPens({FarmId: FarmId, PenId: PenId}).then((pen) => {\r\n            resolve({type:Actions.UPDATE, path:DataRefs.PENS, data:pen.data})\r\n          })\r\n        });\r\n      }).catch(error => {\r\n        console.log(\"Update pig pen Error: \", error);\r\n        resolve(null)\r\n      })\r\n    })\r\n  }else {\r\n    return new Promise((resolve, reject) => {\r\n      resolve(null)\r\n    })\r\n  }\r\n}\r\n\r\nfunction updatePigdata({FarmId, TagId, PenId, Action}) {\r\n  if (FarmId) {\r\n    var ref = \"farms_data/\" + FarmId + \"/\";\r\n    if (TagId) {\r\n      return new Promise((resolve, reject) => {\r\n        var ref2 = ref + \"pigs/\" + TagId + \"/\"\r\n        fetchPigs({FarmId: FarmId, TagId: TagId}).then((pig) => {\r\n          if (pig && pig.data) {\r\n            pig = pig.data[TagId]?pig.data[TagId]:null\r\n          }\r\n          if (!pig || !pig.hasOwnProperty('pen')){\r\n            database().ref(ref2).update({\r\n              pen: 0,\r\n            }).then(() => {\r\n              fetchPigs({FarmId: FarmId}).then((pigs) => {\r\n                console.log(\"?\", pigs)\r\n                resolve(null)\r\n                //resolve({type:Actions.UPDATE, path:DataRefs.PIGS, data:pigs})\r\n              })\r\n            })\r\n          }\r\n          else if (PenId && PenId != pig.pen) {\r\n            updatePigPen({FarmId: FarmId, TagId: TagId, PenId: pig.pen, Action:-1}).then((data)=>{\r\n              updatePigPen({FarmId: FarmId, TagId: TagId, PenId: PenId, Action:+1}).then((data)=>{\r\n                database().ref(ref2).update({\r\n                  pen: PenId\r\n                }).then(() => {\r\n                  fetchPigs({FarmId: FarmId}).then((pigs)=> {\r\n                    resolve({type:Actions.UPDATE, path:DataRefs.PIGS, data:pigs.data})\r\n                  })\r\n                })\r\n              })\r\n            })\r\n          } else {\r\n            resolve(null)\r\n          }\r\n        })\r\n      })\r\n    } else {\r\n      return new Promise((resolve, reject) => {\r\n        updatePigPen({FarmId: FarmId, TagId: TagId, PenId: PenId, Action:Action}).then((data) => {\r\n          resolve({type:Actions.UPDATE, path:DataRefs.PENS, data:data.data})\r\n        })\r\n      })\r\n    }\r\n  }\r\n}\r\n//#endregion\r\n\r\n//#region Batchs\r\nfunction fetchBatchs({FarmId, BatchId, Data, DataTime}) {\r\n  if (FarmId) {\r\n    var ref = \"farms_data/\" + FarmId + \"/batchs\";\r\n    if (BatchId){\r\n      ref += \"/\" + BatchId\r\n    }\r\n\r\n    return new Promise((resolve, reject) => {\r\n      CheckDataTime(\"farms_data/\" + FarmId + \"/batchs\", DataTime).then((DoFetch) => {\r\n        if (DoFetch) {\r\n          if (!Data) {\r\n            database().ref(ref).once('value').then((_batchdata) => {\r\n              if (BatchId) {\r\n                var batchdata = _batchdata.val()\r\n                if (!batchdata) return null;\r\n                if (!batchdata.datas) batchdata.datas = {}\r\n                if (!batchdata.pens) batchdata.pens = []\r\n                if (!batchdata.datas.gcurve) batchdata.datas.gcurve = \"default\";\r\n\r\n                var batch = {[BatchId]: batchdata};\r\n                resolve({type:Actions.UPDATE, path:DataRefs.BATCHS, data:batch})\r\n              } else {\r\n                resolve({type:Actions.UPDATE, path:DataRefs.BATCHS, data:_batchdata.val()})\r\n              }\r\n            })\r\n          }\r\n          else if (BatchId) {\r\n            switch(Data){\r\n              case DataRefs.BATCHS:\r\n                ref += \"/\" + \"datas\"\r\n                return database().ref(ref).once('value').then((_batchdata) => {\r\n                  var data = {[BatchId]: {datas: _batchdata.val()}}\r\n                  resolve({type:Actions.UPDATE, path:DataRefs.BATCHS, data:data})\r\n                })\r\n              case DataRefs.PENS:\r\n                ref += \"/\" + \"pens\"\r\n                return database().ref(ref).once('value').then((_batchdata) => {\r\n                  var pens = {[BatchId]: {pens: _batchdata.val()}}\r\n                  resolve({type:Actions.UPDATE, path:DataRefs.BATCHS, data:pens})\r\n                })\r\n              case DataRefs.GRAPH:\r\n                ref += \"/\" + \"gcurve\"\r\n                return database().ref(ref).once('value').then((_batchdata) => {\r\n                  var curve = {[BatchId]: {gcurve: _batchdata.val()}}\r\n                  resolve({type:Actions.UPDATE, path:DataRefs.BATCHS, data:curve})\r\n                })\r\n            }\r\n          }\r\n\r\n        } else {\r\n          resolve(null)\r\n        }\r\n      })\r\n    })\r\n  }\r\n  return new Promise((resolve, reject) => {\r\n    console.log(\"Fecth Batchs Error\");\r\n    resolve(null)\r\n  })\r\n}\r\n\r\nfunction createBatchs({FarmId, BatchId, Batch}) {\r\n  if (FarmId) {\r\n    var ref = \"farms_data/\" + FarmId + \"/batchs\";\r\n    return new Promise((resolve, reject) => {\r\n      if (Batch && Batch.name) {\r\n        BatchId = Batch.name;\r\n        ref += \"/\" + Batch.name + \"/\"\r\n        delete Batch.name;\r\n        database().ref(ref).set({\r\n          ...Batch,\r\n        }).then(() => {\r\n          Object.keys(Batch.pens).forEach(pen => {\r\n            updatePen({FarmId:FarmId, PenId:pen, Pen:{datas:{batch:BatchId}}})\r\n          })\r\n          resolve(fetchBatchs({FarmId: FarmId, DataTime: \"SET\"}))\r\n        }).catch(error => {\r\n          if (error.code === 'database/permission-denied') {\r\n            console.log(\"Batch update was permission denied. \");\r\n          }else if (error.code) {\r\n            console.log(\"Batch update Error: \", error);\r\n          }\r\n          resolve({error:\"An error occurred\"})\r\n        })\r\n      } else if (BatchId) { //added else ??? still cleanup ??\r\n        console.log(\"???\") //TODO: why id.. mabye cleanup\r\n        ref += \"/\" + BatchId + \"/\"\r\n        database().ref(ref).set({\r\n          time: database.ServerValue.TIMESTAMP,\r\n          pens:[],\r\n          datas:{\r\n            devianceMin:1,\r\n            devianceMax:2,\r\n          }\r\n        }).then(() => {\r\n          resolve(fetchBatchs({FarmId: FarmId, DataTime: \"SET\"}))\r\n        });\r\n      }\r\n    })\r\n  }\r\n}\r\n\r\nfunction updateBatchs({FarmId, BatchId, Batch, Data}) {\r\n  if (FarmId) {\r\n    var ref = \"farms_data/\" + FarmId + \"/batchs\";\r\n    return new Promise((resolve, reject) => {\r\n      if (BatchId && Batch) {\r\n        ref += \"/\" + BatchId\r\n        fetchBatchs({FarmId: FarmId, BatchId: BatchId, Data:DataRefs.PENS}).then((_batch) => {\r\n          var Pens = _batch.data[BatchId].pens\r\n          if (Batch.name) delete Batch.name\r\n\r\n          var BatchPens = {}\r\n          if (Batch.pens && JSON.stringify(Batch.pens)!==JSON.stringify(Pens)) {\r\n            if (!Pens) Pens = []\r\n            var RemovedPens = Object.keys(Pens).filter(x => !Object.keys(Batch.pens).includes(x) && !Pens[x].enddate);\r\n            var NewPens = Object.keys(Batch.pens).filter(x => !Object.keys(Pens).includes(x) || Pens[x].enddate);\r\n            var SamePens = Object.keys(Pens).filter(x => !Object.keys(RemovedPens).includes(x) && !Object.keys(NewPens).includes(x));\r\n\r\n            if (RemovedPens && RemovedPens.length > 0) {\r\n              RemovedPens.forEach(pen => {\r\n                if (Pens[pen]) {\r\n                  var Pen = Pens[pen]\r\n                  Pen.enddate = Date.now()\r\n                  BatchPens[pen] = Pen\r\n                  fetchPens({FarmId: FarmId, PenId:pen}).then((pendata) => {\r\n                    var count = 0\r\n                    if (pendata.data[pen] && pendata.data[pen].datas && pendata.data[pen].datas.count)count=pendata.data[pen].datas.count\r\n                    BatchPens[pen].count = count\r\n                  })\r\n                  updatePen({FarmId:FarmId, PenId:pen, Pen:{datas:{batch:\"\"}}})\r\n                }\r\n              })\r\n            }\r\n            if (NewPens && NewPens.length > 0) {\r\n              NewPens.forEach(pen => {\r\n                var Pen = Pens[pen]?Pens[pen]:{startdate:Date.now()}\r\n                if (Pen.enddate) delete Pen.enddate\r\n                BatchPens[pen] = Pen\r\n                updatePen({FarmId:FarmId, PenId:pen, Pen:{datas:{batch:BatchId}}})\r\n              })\r\n            }\r\n\r\n            if (SamePens && SamePens.length > 0) {\r\n              SamePens.forEach(pen => {\r\n                BatchPens[pen] = Pens[pen]\r\n              })\r\n            }\r\n          }\r\n          Batch.pens = BatchPens\r\n\r\n          if (Batch.state && Batch.state === \"Closed\") {\r\n            fetchBatchs({FarmId: FarmId, BatchId: BatchId, Data:DataRefs.GRAPH}).then((curve) => {\r\n              var CurveId = curve.data[BatchId].gcurve\r\n              fetchGraphData({FarmId: FarmId}).then((curve) => {\r\n                Batch.gcurve = curve.data[CurveId]\r\n                Batch.closed = {comments: [], weighings: []}\r\n                \r\n                for (let i = 0, p = Promise.resolve(); i <= Object.keys(Pens).length; i++) {\r\n                  p = p.then(_ => new Promise(_resolve => {\r\n                    setTimeout(function () {\r\n                      if (i !== Object.keys(Pens).length) {\r\n                        var PenId = Object.keys(Pens)[i]\r\n                        Batch.pens[PenId] = Pens[PenId]\r\n                        fetchPens({FarmId: FarmId, PenId:PenId}).then((pendata) => {\r\n                          var count = 0\r\n                          if (pendata.data[PenId] && pendata.data[PenId].datas && pendata.data[PenId].datas.count)count=pendata.data[PenId].datas.count\r\n                          Batch.pens[PenId].count = count\r\n                        })\r\n                        if (!Batch.pens[PenId].enddate) {\r\n                          Batch.pens[PenId].enddate = Date.now()\r\n                        }\r\n                        updatePen({FarmId:FarmId, PenId:PenId, Pen:{datas:{batch:\"\", count:0}}})\r\n\r\n                        fetchComments({FarmId: FarmId, PenId: PenId}).then((comments) => {\r\n                          Batch.closed.comments[PenId] = comments.data[PenId]\r\n                          database().ref(\"farms_data/\" + FarmId + \"/datas/comments/\" + PenId).remove()\r\n                          \r\n                          fetchWeights({FarmId: FarmId, PenId: PenId}).then((weights) => {\r\n                            Batch.closed.weighings[PenId] = weights.data[PenId]\r\n                            database().ref(\"farms_data/\" + FarmId + \"/weighings/\" + PenId).remove()\r\n                            _resolve();\r\n                          })\r\n                        })\r\n                      }\r\n                      else {\r\n                        database().ref(ref).update({\r\n                          ...Batch\r\n                        }).then(()=>{\r\n                          database().ref(ref + \"/closed\").set(\r\n                            Batch.closed\r\n                          ).then(() => {\r\n                            fetchBatchs({FarmId: FarmId, BatchId: BatchId, DataTime: \"SET\"}).then((data)=>{\r\n                              resolve(data)\r\n                            })\r\n                          }).catch(error => {\r\n                            if (error.code === 'database/permission-denied') {\r\n                              console.log(\"Batch update was permission denied. \");\r\n                            }else if (error.code) {\r\n                              console.log(\"Batch update Error: \", error);\r\n                            }\r\n                            console.log(error)\r\n                            resolve({error:\"An error occurred\"})\r\n                          })\r\n                        })\r\n                      }\r\n                    })\r\n                  }));\r\n                }\r\n              })\r\n            })\r\n          } else {\r\n            database().ref(ref).update({\r\n              ...Batch,\r\n            }).then(() => {\r\n              fetchBatchs({FarmId: FarmId, BatchId: BatchId, DataTime: \"SET\"}).then((data)=>{\r\n                resolve(data)\r\n              })\r\n            }).catch(error => {\r\n              if (error.code === 'database/permission-denied') {\r\n                console.log(\"Batch update was permission denied. \");\r\n              }else if (error.code) {\r\n                console.log(\"Batch update Error: \", error);\r\n              }\r\n              console.log(error)\r\n              resolve({error:\"An error occurred\"})\r\n            })\r\n          }\r\n        })\r\n      }else {\r\n        console.log(\"Update Batchs Error\");\r\n        resolve(null)\r\n      }\r\n    })\r\n  }\r\n}\r\n//#endregion\r\n\r\n//#region Weights\r\nfunction fetchWeights({FarmId, PenId, SectionId, limitStart = 0, limitTo = 9999, DataTime, MemSections}) {\r\n  if (FarmId) {\r\n    var ref = \"farms_data/\" + FarmId + \"/weighings\";\r\n    return new Promise((resolve, reject) => {\r\n      CheckDataTime(\"farms_data/\" + FarmId + \"/weighings\", DataTime).then((DoFetch) => {\r\n        if (DoFetch) {\r\n          if (PenId) {\r\n            console.log(\"Weight fetch called, getting Pen\")\r\n            ref += \"/\" + PenId\r\n            database().ref(ref).orderByChild('time').limitToLast(limitTo).once('value', snapshot => {\r\n              var weighing = {[snapshot.key]:{}}\r\n              snapshot.forEach(c => {\r\n                weighing[snapshot.key][c.key] = c.val()\r\n              })\r\n              resolve({type:Actions.UPDATE, path:DataRefs.WEIGHING, data:weighing})\r\n            })\r\n          } else {\r\n            console.log(\"Weight fetch called, getting Sections\")\r\n            database().ref(ref + \"/update_time\").once('value').then((_weighingTime) => {\r\n              //TODO: Section fetch cast :: in mem check ??\r\n              var Weighings_Time = _weighingTime.val()\r\n              fetchSections({FarmId, SectionId, DataTime: MemSections?MemSections.update_time:null}).then((sections) => {\r\n                var itemsProcessed = 0;\r\n                var length = 0;\r\n                var newWeights = {}\r\n                var Sections = sections?sections.data:MemSections\r\n                Object.keys(Sections).forEach(section => {\r\n                  if (Sections[section] && Sections[section].pens) {\r\n                    length += Object.keys(Sections[section].pens).filter(e => e !== '__jsogObjectId').length\r\n                    Object.keys(Sections[section].pens).filter(e => e !== '__jsogObjectId').forEach(pen => {\r\n                      fetchWeights({FarmId:FarmId, PenId:pen, limitStart:0, limitTo:limitTo}).then((weights) => {\r\n                        itemsProcessed++\r\n                        newWeights = {...newWeights, ...weights.data}\r\n                        if (itemsProcessed === length) {\r\n                          newWeights.update_time = Weighings_Time\r\n                          resolve({type:Actions.UPDATE, path:DataRefs.WEIGHING, data:newWeights})\r\n                        }\r\n                      }).catch(error => {\r\n                        console.log(error)\r\n                        resolve({type:Actions.UPDATE, path:DataRefs.WEIGHING, data:newWeights})\r\n                      })\r\n                    })\r\n                  }\r\n                })\r\n              }).catch(error => {\r\n                console.log(error)\r\n              })\r\n            })\r\n          }\r\n\r\n        }\r\n        else {\r\n          resolve(null)\r\n        }\r\n      })\r\n    })\r\n  }\r\n  return new Promise((resolve, reject) => {\r\n    console.log(\"Fecth Weights Error\");\r\n    resolve(null)\r\n  })\r\n}\r\n\r\nfunction createWeight({FarmId, PenId, Weight, Quantity, Date}) {\r\n  if (FarmId) {\r\n    var ref = \"farms_data/\" + FarmId + \"/weighings\";\r\n    if (PenId){\r\n      ref += \"/\" + PenId + \"/\"\r\n\r\n      return new Promise((resolve, reject) => {\r\n        const weightRef = database().ref(ref).push()\r\n        const weightId = weightRef.key\r\n        weightRef.set({\r\n          time: Date,\r\n          weight: Weight,\r\n          count: Quantity,\r\n        }).then(() => {\r\n          fetchWeights({FarmId:FarmId, PenId:PenId, DataTime: \"SET\"}).then((weights)=>{\r\n            resolve(weights)\r\n          })\r\n        }).catch(error => {\r\n          console.log(\"Create Weight Error: \", error);\r\n          resolve(null)\r\n        })\r\n      })\r\n    }\r\n  }\r\n}\r\n//#endregion\r\n\r\n//#region Comments\r\nfunction fetchComments({FarmId, PenId, limitStart = 0, limitTo = 5}) {\r\n  if (FarmId) {\r\n    var ref = \"farms_data/\" + FarmId + \"/datas/comments\";\r\n    return new Promise((resolve, reject) => {\r\n      if (PenId) {\r\n        ref += \"/\" + PenId\r\n        database().ref(ref).orderByChild('time').limitToLast(limitTo).once('value', snapshot => {\r\n          var comment = {[snapshot.key]:{}}\r\n          snapshot.forEach(c => {\r\n            comment[snapshot.key][c.key] = c.val()\r\n          }) \r\n          resolve({type:Actions.UPDATE, path:DataRefs.COMMENTS, data:comment})\r\n        })\r\n      } else {\r\n        //TODO: ...Comment other than PenId\r\n      }\r\n    })\r\n  }\r\n  return new Promise((resolve, reject) => {\r\n    console.log(\"Fecth Weights Error\");\r\n    resolve(null)\r\n  })\r\n}\r\n\r\nfunction createComment({FarmId, PenId, Action, Data, Quantity, Weight}) {\r\n  if (FarmId) {\r\n    var ref = \"farms_data/\" + FarmId + \"/datas/comments\";\r\n    if (PenId){\r\n      ref += \"/\" + PenId + \"/\"\r\n\r\n      return new Promise((resolve, reject) => {\r\n        const commentRef = database().ref(ref).push()\r\n        const commentId = commentRef.key\r\n\r\n        commentRef.set({\r\n          time: database.ServerValue.TIMESTAMP,\r\n          user: auth().currentUser.email,\r\n          action: Action,\r\n          quantity: Quantity,\r\n          weight: Weight,\r\n          data: Data,\r\n        }).then(() => {\r\n          fetchComments({FarmId:FarmId, PenId:PenId}).then((weights)=>{\r\n            resolve(weights)\r\n          })\r\n        }).catch(error => {\r\n          console.log(\"Create Comment Error: \", error);\r\n          resolve(null)\r\n        })\r\n      })\r\n    } else {\r\n      //TODO: ...Comment other than PenId\r\n    }\r\n  }\r\n  return new Promise((resolve, reject) => {\r\n    console.log(\"Fecth Graph Error\");\r\n    resolve(null)\r\n  })\r\n}\r\n//#endregion\r\n\r\n//#region Graphs\r\nfunction fetchGraphData({FarmId, GraphId, DataTime}) {\r\n  if (FarmId) {\r\n    var ref = \"farms_data/\" + FarmId + \"/graph\";\r\n    ref = ref + \"/\" + GraphId;\r\n    return new Promise((resolve, reject) => {\r\n      CheckDataTime(\"farms_data/\" + FarmId + \"/graph\", DataTime).then((DoFetch) => {\r\n        console.log(\"Doing Graphs fetch\", DoFetch, \"Always..\")\r\n        //if (DoFetch){\r\n\r\n          database().ref(ref).once('value').then((graph) => {\r\n            var Graphs = null\r\n            var GraphVal = graph.val()\r\n            if (GraphVal) {\r\n              if (GraphId) {\r\n                var newGraph = {[graph.key]: GraphVal}\r\n                Graphs = {...Graphs, ...newGraph}\r\n              }else {\r\n                Graphs = {...Graphs, ...GraphVal}\r\n              }\r\n            }\r\n            if (!GraphId) {\r\n              database().ref(\"farms_data/Agrisys/graph\").once('value').then((Agraph) => {\r\n                var AgraphVal = Agraph.val();\r\n                if (AgraphVal) {\r\n                  Graphs = {...AgraphVal, ...Graphs}\r\n                }\r\n                resolve({type:Actions.UPDATE, path:DataRefs.GRAPH, data:Graphs})\r\n              }).catch(error => {\r\n                console.log(\"Get Agrisys graph Error: \", error);\r\n                resolve({type:Actions.UPDATE, path:DataRefs.GRAPH, data:Graphs})\r\n              })\r\n            }else {\r\n              resolve({type:Actions.UPDATE, path:DataRefs.GRAPH, data:Graphs})\r\n            }\r\n          }).catch(error => {\r\n            console.log(\"Get farm graph Error: \", error);\r\n            resolve(null)\r\n          })\r\n\r\n        /*}\r\n        else {\r\n          resolve({type:Actions.UPDATE, path:DataRefs.GRAPH, data:{}})\r\n        }*/\r\n      })\r\n    })\r\n  }\r\n  return new Promise((resolve, reject) => {\r\n    console.log(\"Fecth Graph Error\");\r\n    resolve(null)\r\n  })\r\n}\r\n\r\nfunction updateGraphData({FarmId, Graph}) {\r\n  if (FarmId) {\r\n    var ref = \"farms_data/\" + FarmId + \"/graph\";\r\n    if (Graph.name) {\r\n      ref += \"/\" + Graph.name + \"/\"\r\n      return new Promise((resolve, reject) => {\r\n        database().ref(ref).update({\r\n          data: Graph.data,\r\n          periode: Graph.periode\r\n        }).then(() => {\r\n          fetchGraphData({FarmId: FarmId, GraphId: Graph.name}).then((_Graph)=>{\r\n            resolve(_Graph)\r\n          })\r\n        }).catch(error => {\r\n          console.log(\"Create Graph Error: \", error);\r\n          resolve(null)\r\n        })\r\n      })\r\n    }\r\n  }\r\n}\r\n//#endregion\r\n//#endregion\r\n\r\nexport const firebaseService = {\r\n  //Firebase\r\n  requestUserPermission,\r\n  requestFirebaseToken,\r\n  wrappedAlert,\r\n\r\n  //Firebase Auth (could be moved to fetch / action)\r\n  createFirebaseUserWithemailandpassword,\r\n  signinWithemailandpassword,\r\n  sendResetPassword,\r\n  logoutUser,\r\n  refreshUser,\r\n\r\n  //Commnads\r\n  actionStarting,\r\n}\r\n","import { StyleSheet } from 'react-native'\r\nimport { Helpers, Metrics, Fonts, Colors } from '../../../Theme'\r\n\r\nexport default StyleSheet.create({\r\n\r\n})\r\n","import axios from 'axios'\r\nimport { Config, GetToken_URL, GetCheckToken_URL, GetConsumtionData_URL } from '../Config'\r\nimport { is, curryN, gte } from 'ramda'\r\n\r\nconst isWithin = curryN(3, (min, max, value) => {\r\n  const isNumber = is(Number)\r\n  return isNumber(min) && isNumber(max) && isNumber(value) && gte(value, min) && gte(max, value)\r\n})\r\nconst in200s = isWithin(200, 299)\r\n\r\nfunction Create_Axios(baseURL, Acc_Token = null) {\r\n  var Consys_ApiClient;\r\n  if (Acc_Token){\r\n    Consys_ApiClient = axios.create({\r\n      /**\r\n       * Import the config from the App/Config/index.js file\r\n       */\r\n      baseURL: baseURL,\r\n      headers: {\r\n        Accept: 'application/json',\r\n        'Content-Type': 'application/json',\r\n        'Authorization': `Bearer ${Acc_Token}`\r\n      },\r\n      timeout: 3000,\r\n    })\r\n  }else {\r\n    Consys_ApiClient = axios.create({\r\n      /**\r\n       * Import the config from the App/Config/index.js file\r\n       */\r\n      baseURL: baseURL,\r\n      headers: {\r\n        Accept: 'application/json',\r\n        'Content-Type': 'application/json',\r\n      },\r\n      timeout: 3000,\r\n    })\r\n  }\r\n  return Consys_ApiClient\r\n}\r\n\r\nfunction getAccessToken(SiteUrl, Ref_Token){\r\n  return new Promise((resolve, reject) => {\r\n    Create_Axios(GetToken_URL(SiteUrl, Ref_Token)).get().then((response) => {\r\n      if (response && response.data && response.data.access_token) {\r\n        resolve(response.data.access_token)\r\n      }else {\r\n        resolve(null)\r\n      }\r\n    })\r\n  })\r\n}\r\n\r\nfunction checkRenew_AccessToken(SiteUrl, Ref_Token, Acc_Token=null) {\r\n  return new Promise((resolve, reject) => {\r\n    if (Acc_Token) {\r\n      Create_Axios(GetCheckToken_URL(SiteUrl),Acc_Token).get().then((response) => {\r\n        if (response.status === 200){\r\n          resolve(Acc_Token)\r\n        } else {\r\n          resolve(getAccessToken(SiteUrl, Ref_Token))\r\n        }\r\n      })\r\n    }else {\r\n      resolve(getAccessToken(SiteUrl, Ref_Token))\r\n    }\r\n  })\r\n}\r\n\r\nfunction fetch_ValveConsumption(SiteUrl, Ref_Token, limit, SystemId=1, starttime=null, stoptime=null, offset=null, lastid=null, Acc_Token=null){\r\n  return new Promise((resolve, reject) => {\r\n    if (!SystemId) SystemId = 1\r\n    checkRenew_AccessToken(SiteUrl, Ref_Token, Acc_Token).then((Token)=>{\r\n      if (Token) {\r\n        var baseURL = GetConsumtionData_URL(SiteUrl, 100, SystemId, offset, limit, starttime, stoptime, lastid)\r\n        console.log(\"fetch\", baseURL, Token)\r\n        Create_Axios(baseURL, Token).get().then((response)=>{\r\n          if (response && response.data) {\r\n            var Feed_Data = {}\r\n            var ResData = response.data\r\n            if (ResData.result === \"OK\"){\r\n              //console.log(ResData)\r\n              if (ResData.consumptiondata) {\r\n                ResData.consumptiondata.forEach(element => {\r\n                  var weight = element.amount /1000\r\n                  Feed_Data[element.dataid] = {valve:element.valve, unit:element.unit, silono:element.silono, amount: weight, timestamp: element.timestamp}\r\n                });\r\n              }\r\n            }\r\n\r\n            resolve({data: Feed_Data, token:Token})\r\n          } else {\r\n            resolve(null)\r\n          }\r\n        }).catch(error => {\r\n          console.log(\"fetch consumption Error: \", error);\r\n          resolve(null)\r\n        })\r\n      }else {\r\n        resolve(null)\r\n      }\r\n    })\r\n  })\r\n}\r\n\r\nfunction fetch_AutoPig(SiteUrl, Ref_Token, limit, SystemId=1, starttime=null, stoptime=null, offset=null, lastid=null, Acc_Token=null) {\r\n  return new Promise((resolve, reject) => {\r\n    if (!SystemId) SystemId = 1\r\n    checkRenew_AccessToken(SiteUrl, Ref_Token, Acc_Token).then((Token)=>{\r\n      if (Token) {\r\n        var baseURL = GetConsumtionData_URL(SiteUrl, 700, SystemId, offset, limit, starttime, stoptime, lastid)\r\n        console.log(\"fetch\", baseURL, Token)\r\n        Create_Axios(baseURL, Token).get().then((response)=>{\r\n          console.log(response)\r\n          if (response && response.data) {\r\n            var Scale_Data = {}\r\n            var ResData = response.data\r\n            console.log(ResData)\r\n            if (ResData.result === \"OK\"){\r\n              //console.log(ResData)\r\n              if (ResData.consumptiondata) {\r\n                ResData.consumptiondata.forEach(element => {\r\n                  var weight = element.amount /1000\r\n                  Scale_Data[element.dataid] = {amount: weight, timestamp: element.timestamp}\r\n                });\r\n              }\r\n            }\r\n\r\n            resolve({data: Scale_Data, token:Token})\r\n          } else {\r\n            resolve(null)\r\n          }\r\n        }).catch(error => {\r\n          console.log(\"fetch AutoPig Error: \", error);\r\n          resolve(null)\r\n        })\r\n      }else {\r\n        resolve(null)\r\n      }\r\n    })\r\n  })\r\n}\r\n\r\nexport const consysService = {\r\n  fetch_ValveConsumption,\r\n  fetch_AutoPig,\r\n}\r\n","/**\r\n * Reducers specify how the application's state changes in response to actions sent to the store.\r\n *\r\n * @see https://redux.js.org/basics/reducers\r\n */\r\n\r\nimport { INITIAL_STATE } from './InitialState'\r\nimport { createReducer } from 'reduxsauce'\r\nimport { ExampleTypes } from './Actions'\r\n\r\nexport const fetchUserLoading = (state) => ({\r\n  ...state,\r\n  userIsLoading: true,\r\n  userErrorMessage: null,\r\n})\r\n\r\nexport const fetchUserSuccess = (state, { user }) => ({\r\n  ...state,\r\n  user: user,\r\n  userIsLoading: false,\r\n  userErrorMessage: null,\r\n})\r\n\r\nexport const fetchUserFailure = (state, { errorMessage }) => ({\r\n  ...state,\r\n  user: {},\r\n  userIsLoading: false,\r\n  userErrorMessage: errorMessage,\r\n})\r\n\r\n/**\r\n * @see https://github.com/infinitered/reduxsauce#createreducer\r\n */\r\nexport const reducer = createReducer(INITIAL_STATE, {\r\n  [ExampleTypes.FETCH_USER_LOADING]: fetchUserLoading,\r\n  [ExampleTypes.FETCH_USER_SUCCESS]: fetchUserSuccess,\r\n  [ExampleTypes.FETCH_USER_FAILURE]: fetchUserFailure,\r\n})\r\n","/**\r\n * The initial values for the redux state.\r\n */\r\nexport const INITIAL_STATE = {\r\n  user: {},\r\n  userIsLoading: false,\r\n  userErrorMessage: null,\r\n}\r\n","/**\r\n * Reducers specify how the application's state changes in response to actions sent to the store.\r\n *\r\n * @see https://redux.js.org/basics/reducers\r\n */\r\n\r\nimport { createReducer } from 'reduxsauce'\r\n\r\nimport { ConnectionState, ConnectionMethode } from './Selectors'\r\nimport { DeviceTypes } from './Actions'\r\n\r\nimport { INITIAL_STATE } from './InitialState'\r\n\r\n//BLE Saga's\r\nimport * as BLEReducers from './BLE/Reducers'\r\n//BlueTooth Saga's\r\nimport * as BluetoothReducers from './BlueTooth/Reducers'\r\n\r\nexport const setDeviceError = (state, { errorMessage }) => ({\r\n  ...state,\r\n  deviceErrorMessage: errorMessage,\r\n})\r\n\r\nexport const scannerStateUpdated = (state, {scannerState}) => {\r\n  return({\r\n    ...state,\r\n    scannerState: scannerState,\r\n  })\r\n}\r\n\r\nexport const addDevice = (state, {device}) => {\r\n  if (state.DeviceList.some(Device => Device.id === device.id )) { //&& device.isConnectable)){\r\n    return({...state});\r\n  } else {\r\n    //device._manager = null; // Type.script Stringify ... not allowing function callback (fix see CreateStore.js)\r\n    var NewList = [...state.DeviceList];\r\n    NewList.push(device);\r\n\r\n    return({\r\n      ...state,\r\n      DeviceList: NewList,\r\n    });\r\n  }\r\n}\r\n\r\nexport const removeDevice = (state, {device}) => {\r\n  var NewList = [...state.DeviceList];\r\n  for( var i = 0; i < NewList.length; i++){ \r\n    if ( NewList[i] === device) {\r\n      NewList.splice(i, 1); \r\n    }\r\n  }\r\n\r\n  return ({\r\n    ...state,\r\n    DeviceList: NewList,\r\n  });\r\n}\r\n\r\nexport const clearDevices = (state) => ({\r\n  ...state,\r\n  DeviceList: [],\r\n  deviceData: {}\r\n})\r\n\r\nexport const connectedDeviceUpdated = (state, {connectedDevice}) => {\r\n  if (!connectedDevice) {\r\n    return ({\r\n      ...state,\r\n      connectedDevice: connectedDevice,\r\n      //deviceData: {}\r\n    })\r\n  } else {\r\n    return ({\r\n      ...state,\r\n      connectedDevice: connectedDevice\r\n    })\r\n  }\r\n}\r\n\r\n// Connections *******************************************\r\nexport const connectionStateUpdated = (state, {connectionState}) => ({\r\n  ...state,\r\n  connectionState: connectionState\r\n})\r\nexport const connectionMethodeUpdated = (state, {connectionMethode}) => ({\r\n  ...state,\r\n  connectionMethode: connectionMethode\r\n})\r\n\r\nexport const setDeviceData = (state, {data}) => ({\r\n  ...state,\r\n  deviceData: data\r\n})\r\nexport const updateDeviceData = (state, {data}) => {\r\n  const newData = {...state.deviceData, ...data}\r\n  return({\r\n  ...state,\r\n  deviceData: newData\r\n})}\r\n\r\n/**\r\n * @see https://github.com/infinitered/reduxsauce#createreducer\r\n */\r\nexport const HANDLERS = {\r\n  //Response...\r\n  [DeviceTypes.SET_DEVICE_ERROR]: setDeviceError,\r\n  \r\n  //Managers...\r\n  [DeviceTypes.SCANNER_STATE_UPDATED]: scannerStateUpdated,\r\n\r\n  [DeviceTypes.ADD_DEVICE]: addDevice,\r\n  [DeviceTypes.REMOVE_DEVICE]: removeDevice,\r\n  [DeviceTypes.CLEAR_DEVICES]: clearDevices,\r\n\r\n  [DeviceTypes.CONNECTED_DEVICE_UPDATED]: connectedDeviceUpdated,\r\n  \r\n  //Connection...\r\n  [DeviceTypes.CONNECTION_STATE_UPDATED]: connectionStateUpdated,\r\n  [DeviceTypes.CONNECTION_METHODE_UPDATED]: connectionMethodeUpdated,\r\n\r\n  //Data...\r\n  [DeviceTypes.SET_DEVICE_DATA]: setDeviceData,\r\n  [DeviceTypes.UPDATE_DEVICE_DATA]: updateDeviceData,\r\n\r\n  //BLE Saga\r\n  ...BLEReducers.HANDLERS,\r\n\r\n  //Android BlueTooth Saga\r\n  ...BluetoothReducers.HANDLERS,\r\n}\r\n\r\nexport const reducer = createReducer(INITIAL_STATE, HANDLERS)","import { ConnectionState, ConnectionMethode, ScannerState } from './Selectors'\r\nimport { State } from 'react-native-ble-plx';\r\n\r\n//BLE Saga's\r\nimport { INITIAL_STATE as BLE_INITIAL_STATE } from './BLE/InitialState'\r\n//BlueTooth Saga's\r\nimport { INITIAL_STATE as BLUETOOTH_INITIAL_STATE} from './BlueTooth/InitialState'\r\n\r\n/**\r\n * The initial values for the redux state.\r\n */\r\nexport const INITIAL_STATE = {\r\n  //Device Main Info\r\n  deviceIsLoading: false,\r\n  deviceErrorMessage: null,\r\n\r\n  //Device list Info... (only one ???)\r\n  scannerState: ScannerState.IDLE, // status of BLE scanner\r\n  DeviceList: [], //An Array of Discovered Devices\r\n\r\n  //Connection info...\r\n  connectedDevice: {}, // the current connected device element\r\n  connectionState: ConnectionState.DISCONNECTED, // the status of the current device connection\r\n  connectionMethode: ConnectionMethode.NONE,  //the current connected Methode\r\n\r\n  deviceData: {}, // Something\r\n\r\n  //BLE specefic\r\n  ...BLE_INITIAL_STATE,\r\n  //BlueTooth specefic\r\n  ...BLUETOOTH_INITIAL_STATE,\r\n}","/**\r\n * Reducers specify how the application's state changes in response to actions sent to the store.\r\n *\r\n * @see https://redux.js.org/basics/reducers\r\n */\r\n\r\nimport { createReducer } from 'reduxsauce'\r\n\r\nimport { ConnectionState, ConnectionMethode } from '../Selectors'\r\nimport { BleTypes } from './Actions'\r\n\r\nimport { INITIAL_STATE } from './InitialState'\r\n\r\nexport const bleStateUpdated = (state, {bleState}) => {\r\n  return({\r\n    ...state,\r\n    bleState: bleState,\r\n  })\r\n}\r\n\r\n/**\r\n * @see https://github.com/infinitered/reduxsauce#createreducer\r\n */\r\nexport const HANDLERS = {\r\n  //Managers...\r\n  [BleTypes.BLE_STATE_UPDATED]: bleStateUpdated,\r\n}\r\n\r\nexport const reducer = createReducer(INITIAL_STATE, HANDLERS)\r\n","/**\r\n * Reducers specify how the application's state changes in response to actions sent to the store.\r\n *\r\n * @see https://redux.js.org/basics/reducers\r\n */\r\n\r\nimport { createReducer } from 'reduxsauce'\r\n\r\nimport { ConnectionState, ConnectionMethode } from '../Selectors'\r\nimport { BluetoothTypes } from './Actions'\r\n\r\nimport { INITIAL_STATE } from './InitialState'\r\n\r\n/**\r\n * @see https://github.com/infinitered/reduxsauce#createreducer\r\n */\r\nexport const HANDLERS = {\r\n  //Managers...\r\n}\r\n\r\nexport const reducer = createReducer(INITIAL_STATE, HANDLERS)\r\n","/**\r\n * Reducers specify how the application's state changes in response to actions sent to the store.\r\n *\r\n * @see https://redux.js.org/basics/reducers\r\n */\r\n\r\nimport { createReducer } from 'reduxsauce'\r\nimport { append } from 'funcadelic';\r\n\r\nimport { Actions, DataRefs } from './Selectors'\r\nimport { FirebaseTypes } from './Actions'\r\n\r\nimport { INITIAL_STATE } from './InitialState'\r\n\r\nexport const firebaseIsLoading = (state, { loadingstate }) => ({\r\n  ...state,\r\n  firebaseIsLoading: loadingstate,\r\n})\r\n\r\nexport const setFirebaseError = (state, { errorMessage }) => ({\r\n  ...state,\r\n  firebaseErrorMessage: errorMessage,\r\n})\r\n\r\nexport const setViewError = (state, { errorMessage }) => {\r\n  return({\r\n    ...state,\r\n    viewError: errorMessage,\r\n  })\r\n}\r\n\r\nexport const viewIsLoading = (state, { loadingstate }) => ({\r\n  ...state,\r\n  viewIsLoading: loadingstate,\r\n})\r\n\r\nexport const setCurrentData = (state, {data}) => {\r\n  return({\r\n    ...state,\r\n    currentData: data\r\n  })\r\n}\r\n\r\nfunction IDGenerate(){\r\n  return Math.random().toString(36).substr(2, 9);\r\n}\r\n\r\nexport const actionStarting = (state) => ({\r\n  ...state,\r\n  //firebaseIsLoading: true,\r\n  firebaseErrorMessage: null,\r\n})\r\n\r\nexport const fetchStarting = (state) => ({\r\n  ...state,\r\n  //firebaseIsLoading: true,\r\n  firebaseErrorMessage: null,\r\n})\r\n\r\nfunction mergeDeep(target, source) {\r\n  const isObject = (obj) => obj && typeof obj === 'object';\r\n\r\n  if (!isObject(target) || !isObject(source)) {\r\n    return source;\r\n  }\r\n\r\n  Object.keys(source).forEach(key => {\r\n    const targetValue = target[key];\r\n    const sourceValue = source[key];\r\n\r\n    if (Array.isArray(targetValue) && Array.isArray(sourceValue)) {\r\n      //target[key] = targetValue.concat(sourceValue);  //Mercing value of arrays would creates doubles.. like curve data..\r\n    } else if (isObject(targetValue) && isObject(sourceValue)) {\r\n      target[key] = mergeDeep(Object.assign({}, targetValue), sourceValue);\r\n    } else {\r\n      target[key] = sourceValue;\r\n    }\r\n  });\r\n\r\n  return target;\r\n}\r\n\r\nexport const dataFetchSuccess = (state, { params }) => {\r\n  const {type, path, data} = params\r\n  var NewDataStore = state.localDataStore;\r\n  var NewFirebaseUser = {...state.firebaseUser};\r\n  switch(type) {\r\n    case Actions.UPDATE:\r\n    case Actions.ADD:\r\n      var newData = {...data}\r\n      if (path === DataRefs.FIREBASEUSER) {\r\n        if (data && data.data) newData = {...data.data}\r\n        if (data && data._user) {\r\n          Object.keys(data._user).forEach(element => {\r\n            newData[element] = data._user[element]\r\n          })\r\n          delete newData._user\r\n          delete newData._auth\r\n        }\r\n        if (newData && Object.keys(newData).length > 0) {\r\n          var Values = [\"displayName\", \"name\", \"lastN\", \"email\", \"emailVerified\", \"address\", \"country\", \"farms\", \"isAnonymous\", \"phoneNumber\", \"photoURL\", \"refreshToken\", \"state\", \"uid\"]\r\n          Object.keys(newData).forEach(element => {\r\n            for (var index = 0; index < Values.length; index++) {\r\n              if (Values[index] === element) {\r\n                NewFirebaseUser[element] = newData[element]\r\n                break;\r\n              }\r\n            }\r\n          });\r\n        }else {\r\n          NewFirebaseUser = newData;\r\n        }\r\n      }\r\n      if (!data) break;\r\n      switch(path){\r\n        case DataRefs.FIREBASEUSER:\r\n          //Done above\r\n          break;\r\n        case DataRefs.USERSDATA:\r\n          Object.keys(newData).forEach(element => {\r\n            if (!NewDataStore.userData) NewDataStore.userData = {};\r\n            NewDataStore.userData[element] = newData[element]\r\n          });\r\n          break;\r\n        case DataRefs.USERS:\r\n          if (!NewDataStore.users) NewDataStore.users = {};\r\n          if (data.data) newData = data.data\r\n          if (newData.users) newData = newData.users\r\n          Object.keys(newData).forEach(element => {\r\n            NewDataStore.users[element] = newData[element]\r\n          });\r\n          break;\r\n        case DataRefs.FARMS:\r\n          if (!NewDataStore.farms) NewDataStore.farms = {};\r\n          if (data.farms) newData = data.farms\r\n          Object.keys(newData).forEach(element => {\r\n            NewDataStore.farms[element] = newData[element]\r\n          });\r\n          break;\r\n        case DataRefs.BATCHS:\r\n          if (!NewDataStore.batchs) NewDataStore.batchs = {};\r\n          if (data.batchs) newData = data.batchs\r\n          Object.keys(newData).forEach(element => {\r\n            NewDataStore.batchs[element] = newData[element]\r\n          });\r\n          break;\r\n        case DataRefs.SECTIONS:\r\n          if (!NewDataStore.sections) NewDataStore.sections = {};\r\n          if (data.sections) newData = data.sections\r\n          Object.keys(newData).forEach(element => {\r\n            NewDataStore.sections[element] = newData[element]\r\n          });\r\n          break;\r\n        case DataRefs.PENS:\r\n          if (!NewDataStore.pens) NewDataStore.pens = {};\r\n          if (data.pens) newData = data.pens\r\n          Object.keys(newData).forEach(element => {\r\n            NewDataStore.pens[element] = newData[element]\r\n          });\r\n          break;\r\n        case DataRefs.PIGS:\r\n          if (!NewDataStore.pigs) NewDataStore.pigs = {};\r\n          if (data.pigs) newData = data.pigs\r\n          Object.keys(newData).forEach(element => {\r\n            NewDataStore.pigs[element] = newData[element]\r\n          });\r\n          break;\r\n        case DataRefs.COMMENTS:\r\n          if (!NewDataStore.comments) NewDataStore.comments = {};\r\n          if (data.comments) newData = data.comments\r\n          Object.keys(newData).forEach(element => {\r\n            NewDataStore.comments[element] = newData[element]\r\n          });\r\n          break;\r\n        case DataRefs.GRAPH:\r\n          if (!NewDataStore.graphs) NewDataStore.graphs = {};\r\n          if (data.graphs) newData = data.graphs\r\n          Object.keys(newData).forEach(element => {\r\n            NewDataStore.graphs[element] = newData[element]\r\n          });\r\n          break;\r\n        case DataRefs.WEIGHING:\r\n          if (!NewDataStore.weighings) NewDataStore.weighings = {};\r\n          if (data.weighings) newData = data.weighings\r\n          Object.keys(newData).forEach(element => {\r\n            NewDataStore.weighings[element] = newData[element]\r\n          });\r\n          break;\r\n        case DataRefs.CONSYS:\r\n          if (!NewDataStore.consys) NewDataStore.consys = {};\r\n          if (data.consys) newData = data.consys\r\n          Object.keys(newData).forEach(element => {\r\n            NewDataStore.consys[element] = newData[element]\r\n          });\r\n          break;\r\n      }\r\n      //console.log(path, data)\r\n      break;\r\n    case Actions.CLEAR:\r\n      switch(path){\r\n        case DataRefs.USERS:\r\n          if (!NewDataStore.userData) NewDataStore.userData = {};\r\n          NewDataStore.userData.action = \"CLEAR\";\r\n          break;\r\n        case DataRefs.USERSDATA:\r\n          console.log(\"CLEAR\")\r\n          if (NewDataStore.batchs) NewDataStore.batchs = {}\r\n          if (NewDataStore.sections) NewDataStore.sections = {}\r\n          if (NewDataStore.pens) NewDataStore.pens = {}\r\n          if (NewDataStore.pigs) NewDataStore.pigs = {}\r\n          if (NewDataStore.graphs) NewDataStore.graphs = {}\r\n          if (NewDataStore.weighings) NewDataStore.weighings = {}\r\n          if (NewDataStore.consys) NewDataStore.consys = {}\r\n          if (NewDataStore.userData && NewDataStore.userData.action) {\r\n            NewDataStore.userData.action = {}\r\n            //NewDataStore.userData = {}\r\n          }\r\n          break;\r\n      }\r\n      break;\r\n    default:\r\n      console.log(\"DataFetch Not created / default\")\r\n      break;\r\n  }\r\n  return({\r\n    ...state,\r\n    firebaseUser: NewFirebaseUser,\r\n    localDataStore: NewDataStore,\r\n    firebaseIsLoading: false,\r\n    firebaseErrorMessage: null,\r\n    viewIsLoading: false,\r\n  })\r\n}\r\n\r\nexport const fetchSuccess = (state, { data }) => {\r\n  var newlocalDataStore = {...state.localDataStore}\r\n  var newState = {...state}\r\n\r\n  if (data) {\r\n    let {localDataStore, ..._newState} = data;\r\n\r\n    if (localDataStore) {\r\n      if (Object.keys(localDataStore).length !== 0) {\r\n        newlocalDataStore = mergeDeep(localDataStore, newlocalDataStore)\r\n      }\r\n      else {\r\n        newlocalDataStore = {...localDataStore}\r\n      }\r\n    }\r\n    newState = append(state,_newState)\r\n  }\r\n  return({\r\n    ...newState,\r\n    localDataStore: newlocalDataStore,\r\n    firebaseIsLoading: false,\r\n    firebaseErrorMessage: null,\r\n    viewIsLoading: false,\r\n  })\r\n}\r\n\r\nexport const fetchFailure = (state, { errorMessage }) => ({\r\n  ...state,\r\n  firebaseIsLoading: false,\r\n  firebaseErrorMessage: errorMessage,\r\n  viewIsLoading: false,\r\n})\r\n\r\n/**\r\n * @see https://github.com/infinitered/reduxsauce#createreducer\r\n */\r\nexport const HANDLERS = {\r\n  //Response...\r\n  [FirebaseTypes.FIREBASE_IS_LOADING]: firebaseIsLoading,\r\n  [FirebaseTypes.SET_FIREBASE_ERROR]: setFirebaseError,\r\n\r\n  [FirebaseTypes.SET_VIEW_ERROR]: setViewError,\r\n  [FirebaseTypes.VIEW_IS_LOADING]: viewIsLoading,\r\n\r\n  [FirebaseTypes.SET_CURRENT_DATA]: setCurrentData,\r\n\r\n  [FirebaseTypes.ACTION_STARTING]: actionStarting,\r\n  [FirebaseTypes.FETCH_STARTING]: fetchStarting,\r\n  [FirebaseTypes.DATA_FETCH_SUCCESS]: dataFetchSuccess,\r\n  [FirebaseTypes.FETCH_SUCCESS]: fetchSuccess,\r\n  [FirebaseTypes.FETCH_FAILURE]: fetchFailure,\r\n}\r\n\r\nexport const reducer = createReducer(INITIAL_STATE, HANDLERS)","import { UserStates } from './Selectors'\r\n\r\n/**\r\n * The initial values for the redux state.\r\n */\r\nexport const INITIAL_STATE = {\r\n  firebaseIsLoading: false,     //SystemLoading\r\n  firebaseErrorMessage: null,   //SystemError\r\n\r\n  firebaseUser: null,           //UserData\r\n\r\n  localDataStore: {},           //Full DataStore\r\n  currentData: null,            //State DataStore\r\n\r\n  viewIsLoading: false,         //View / state - waiting for action\r\n  viewError: null,              //View / state - error display\r\n}","import React, { useEffect } from 'react'\r\nimport { View } from 'react-native'\r\nimport { useDispatch } from 'react-redux'\r\n\r\nimport NavigationService from '../../Services/NavigationService'\r\nimport AppNavigator from '../../Navigators/AppNavigator'\r\n\r\nimport StartupActions from '../../Stores/Startup/Actions'\r\nimport { Helpers } from '../../Theme'\r\n\r\nconst RootScreen = () => {\r\n  // Deep linking prefix\r\n  const prefix = ['https://agrisysdje.github.io/','agrisysapp://'];\r\n  \r\n  const dispatch = useDispatch()\r\n\r\n  useEffect(() => {\r\n    dispatch(StartupActions.startup())\r\n  }, [])\r\n\r\n  return (\r\n    <View style={Helpers.fill}>\r\n      <AppNavigator\r\n        // Initialize the NavigationService (see https://reactnavigation.org/docs/en/navigating-without-navigation-prop.html)\r\n        ref={(navigatorRef) => {\r\n          NavigationService.setTopLevelNavigator(navigatorRef)\r\n        }}\r\n        uriPrefix={prefix}\r\n      />\r\n    </View>\r\n  )\r\n}\r\n\r\nexport default RootScreen\r\n","import React from 'react'\r\nimport { createAppContainer } from 'react-navigation'\r\nimport { createStackNavigator } from 'react-navigation-stack'\r\nimport { TouchableOpacity, Icon, View, Text } from 'react-native'\r\n\r\nimport SplashScreen from '../Containers/SplashScreen/SplashScreen'\r\nimport DeepLinkingScreen from '../Containers/DeepLinking/DeepLinkingScreen'\r\n\r\nimport FrontNavigation from '../Navigators/FrontNavigator'\r\nimport AuthNavigation from '../Navigators/AuthNavigator'\r\n\r\nimport UserPanelNavigation from '../Navigators/UserPanelNavigator'\r\nimport AdminPanelNavigator from '../Navigators/AdminPanelNavigator'\r\nimport { ApplicationStyles } from '../Theme'\r\n\r\n/**\r\n * The root screen contains the application's navigation.\r\n *\r\n * @see https://reactnavigation.org/docs/en/hello-react-navigation.html#creating-a-stack-navigator\r\n */\r\nconst StackNavigator = createStackNavigator(\r\n  {\r\n    // Create the application routes here (the key is the route name, the value is the target screen)\r\n    // See https://reactnavigation.org/docs/en/stack-navigator.html#routeconfigs\r\n    SplashScreen: {\r\n      screen: SplashScreen,\r\n      navigationOptions: () => ({\r\n        headerShown: false,\r\n      }),\r\n    },\r\n\r\n    MainStack: {\r\n      screen: FrontNavigation, // Called By StartupSaga.js\r\n      path: 'Front',\r\n    },\r\n    \r\n    AuthStack: AuthNavigation, // All user pages\r\n\r\n    UserPanel: UserPanelNavigation, // 'Free' Users Pages... \r\n\r\n    AdminPanel: AdminPanelNavigator, // Admin Pages\r\n\r\n    DeepLinkingScreen: {\r\n      screen: DeepLinkingScreen,\r\n      path: 'deeplink',\r\n    },\r\n  },\r\n  {\r\n    // By default the application will show the splash screen\r\n    initialRouteName: 'SplashScreen',\r\n    // See https://reactnavigation.org/docs/en/stack-navigator.html#stacknavigatorconfig\r\n    headerMode: 'none',\r\n    defaultNavigationOptions:{\r\n      headerTitleAlign: 'center',\r\n      headerRight: () => (<View style={{padding:6}}></View>),\r\n    },\r\n  }\r\n)\r\n\r\nexport default createAppContainer(StackNavigator)\r\n","import React, { useEffect, Component } from 'react'\r\nimport { Text, View, Image, Platform } from 'react-native'\r\nimport { useDispatch, useSelector, connect } from 'react-redux'\r\nimport { bindActionCreators } from 'redux';\r\n\r\nimport NavigationService from '../../Services/NavigationService'\r\n\r\nlet messaging;\r\nif (Platform.OS === 'ios' || Platform.OS === 'android') {\r\n  //#region App version imports\r\n  messaging = require('@react-native-firebase/messaging').default;\r\n  //#endregion\r\n} else {\r\n  //#region Web Version imports\r\n  var firebase = require('firebase/app').default;\r\n  require('firebase/messaging').default;\r\n\r\n  if (firebase.messaging.isSupported()) {\r\n    messaging = firebase.messaging();\r\n  }\r\n  //#endregion\r\n}\r\n\r\nimport Style from './SplashScreenStyle'\r\nimport { Helpers, Images } from '../../Theme'\r\n\r\nclass SplashScreen extends Component {\r\n  constructor(props){\r\n    super(props);\r\n    /*this.state = {\r\n    }*/\r\n  }\r\n\r\n  getData(){\r\n    if ((Platform.OS === \"android\" || Platform.OS === \"ios\") && messaging) {\r\n      messaging().onNotificationOpenedApp(remoteMessage => {\r\n        console.log(\r\n          'Notification caused app to open from background state:',\r\n          remoteMessage.notification,\r\n        );\r\n        NavigationService.navigate(remoteMessage.data.type);\r\n      });\r\n\r\n      // Check whether an initial notification is available\r\n      messaging().getInitialNotification().then(remoteMessage => {\r\n        if (remoteMessage) {\r\n          console.log(\r\n            'Notification caused app to open from quit state:',\r\n            remoteMessage.notification,\r\n          );\r\n          NavigationService.navigate(remoteMessage.data.type); // e.g. \"Settings\"\r\n        }\r\n      });\r\n    }\r\n  }\r\n\r\n  checkData(props){\r\n  }\r\n\r\n  componentDidMount(){\r\n    //this.props.setFirebaseError(null)\r\n    this.checkData(this.props);\r\n    this.getData();\r\n  }\r\n\r\n  componentDidUpdate(prevProps, prevState) {\r\n    if (this.props !== prevProps){\r\n      this.checkData(this.props);\r\n    }\r\n  }\r\n\r\n  render() {\r\n    return(\r\n      <View style={[Helpers.fillRowCenter, Style.container]}>\r\n        <View style={[Helpers.center, Helpers.logoContainer]}>\r\n          <Image style={Helpers.fullSize} source={Images.Hexa_icon} resizeMode={'contain'} />\r\n        </View>\r\n      </View>\r\n    )\r\n  }\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n  const { firebase } = state\r\n  return { firebase }\r\n};\r\n\r\nconst mapDispatchToProps  = (dispatch) => {\r\n  return {\r\n    //setFirebaseError: error => dispatch(FirebaseActions.setFirebaseError(error)),\r\n  }\r\n};\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(SplashScreen);\r\n//export default SplashScreen;\r\n","import { StyleSheet } from 'react-native'\r\nimport { Helpers, Metrics, Fonts, Colors } from '../../Theme'\r\n\r\nexport default StyleSheet.create({\r\n  container: {\r\n    backgroundColor: Colors.primary,\r\n  },\r\n})\r\n","/**\r\n * This file contains the application's colors.\r\n *\r\n * Define color here instead of duplicating them throughout the components.\r\n * That allows to change them more easily later on.\r\n */\r\n\r\nexport default {\r\n  transparent: 'rgba(0,0,0,0)',\r\n  white: '#ffffff',\r\n  gray: '#a6a6a6',\r\n\r\n  text: '#4a4a49',\r\n  secountText: '#ffffff',\r\n\r\n  primary: '#a3b9cf',\r\n\r\n  success: '#03a489',\r\n  error: '#dc3545',\r\n  overest: '#4cafea',\r\n  pigpink: '#FFAA95',\r\n\r\n  input: '#86939e',\r\n\r\n  AgriGreen: '#03a489',\r\n  AgriDarkblue: '#4463ab',\r\n  AgriLightblue: '#a3b9cf',\r\n  AgriDark: '#4a4a49',\r\n}\r\n","import { StyleSheet } from 'react-native'\r\n\r\nconst size = {\r\n  h1: 38,\r\n  h2: 34,\r\n  h3: 30,\r\n  input: 18,\r\n  regular: 17,\r\n  medium: 14,\r\n  small: 12,\r\n}\r\n\r\nexport default {\r\n  h1: {\r\n    fontSize: size.h1,\r\n  },\r\n  h2: {\r\n    fontSize: size.h2,\r\n  },\r\n  h3: {\r\n    fontSize: size.h3,\r\n  },\r\n  normal: {\r\n    fontSize: size.regular,\r\n  },\r\n}","/**\r\n * This file contains metric values that are global to the application.\r\n */\r\n\r\n// Examples of metrics you can define:\r\nexport const tiny = 5\r\nexport const small = tiny * 2 // 10\r\nexport const normal = tiny * 3 // 15\r\nexport const medium = normal * 2 // 30\r\n\r\nexport default {\r\n  tiny,\r\n  small,\r\n  normal,\r\n  medium,\r\n  \r\n  tinyBottomMargin: {\r\n    marginBottom: tiny,\r\n  },\r\n  smallBottomMargin: {\r\n    marginBottom: small,\r\n  },\r\n  bottomMargin: {\r\n    marginBottom: normal,\r\n  },\r\n  mediumBottomMargin: {\r\n    marginBottom: medium,\r\n  },\r\n\r\n  tinyVerticalMargin: {\r\n    marginVertical: tiny,\r\n  },\r\n  smallVerticalMargin: {\r\n    marginVertical: small,\r\n  },\r\n  verticalMargin: {\r\n    marginVertical: normal,\r\n  },\r\n  mediumVerticalMargin: {\r\n    marginVertical: medium,\r\n  },\r\n\r\n  tinyHorizontalMargin: {\r\n    marginHorizontal: tiny,\r\n  },\r\n  smallHorizontalMargin: {\r\n    marginHorizontal: small,\r\n  },\r\n  horizontalMargin: {\r\n    marginHorizontal: normal,\r\n  },\r\n  mediumHorizontalMargin: {\r\n    marginHorizontal: medium,\r\n  },\r\n\r\n  tinyHorizontalPadding: {\r\n    paddingHorizontal: tiny,\r\n  },\r\n  smallHorizontalPadding: {\r\n    paddingHorizontal: small,\r\n  },\r\n  horizontalPadding: {\r\n    paddingHorizontal: normal,\r\n  },\r\n  mediumHorizontalPadding: {\r\n    paddingHorizontal: medium,\r\n  },\r\n\r\n  tinyVerticalPadding: {\r\n    paddingVertical: tiny,\r\n  },\r\n  smallVerticalPadding: {\r\n    paddingVertical: small,\r\n  },\r\n  verticalPadding: {\r\n    paddingVertical: normal,\r\n  },\r\n  mediumVerticalPadding: {\r\n    paddingVertical: medium,\r\n  },\r\n}\r\n","/**\r\n * Images should be stored in the `App/Images` directory and referenced using variables defined here.\r\n */\r\n\r\nexport default {\r\n  Home: require('../Assets/Images/Home.png'),\r\n\r\n  DashBoard: require('../Assets/Images/Dashboard.png'),\r\n  System: require('../Assets/Images/System.png'),\r\n  Curves: require('../Assets/Images/Feed-Curves.png'),\r\n  GCurves: require('../Assets/Images/Growth-curve.png'),\r\n\r\n  User: require('../Assets/Images/User.png'),\r\n  Sow: require('../Assets/Images/Sow.png'),\r\n  Section: require('../Assets/Images/Section.png'),\r\n  Pens: require('../Assets/Images/Area_Colour.png'),\r\n  AutoPig: require('../Assets/Images/AutoPig.png'),\r\n  Feed: require('../Assets/Images/Feed-Components.png'),\r\n\r\n  Haxa_globe: require('../Assets/Images/Hexagon-globe.png'),\r\n  Hexa_icon: require('../Assets/Images/Hexa-icon.png'),\r\n  Logo: require('../Assets/Images/Logo.png'),\r\n\r\n  logo: require('../Assets/Images/TOM.png'),\r\n}\r\n","module.exports = __webpack_public_path__ + \"static/media/Home.1fff8434.png\";","module.exports = __webpack_public_path__ + \"static/media/Dashboard.26766c7a.png\";","module.exports = __webpack_public_path__ + \"static/media/System.7e4af00c.png\";","module.exports = __webpack_public_path__ + \"static/media/Feed-Curves.da739887.png\";","module.exports = __webpack_public_path__ + \"static/media/Growth-curve.7f9a7fea.png\";","module.exports = __webpack_public_path__ + \"static/media/User.d73be9fd.png\";","module.exports = __webpack_public_path__ + \"static/media/Sow.beff0aff.png\";","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAFMAAABRCAYAAACuepoLAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAq9JREFUeNrsnT1Lw1AUhk9FRFEhDhV0qgouLlrcjYOLi3XpasEfYjo62X/Quorg5iS0P0D8GBzVOAkWP6CVigg1197E0Naa3ER7b/K+cLig3tP4eJJz8g5XIig0JRS8Zr3Pn1+JUgE0JYgjK1JRqEz2y9DE1IJwgrdalRr1BxoZm6Th8aTvfVwvVqxacaE8zLXtQ+EEN+cHdH12QHPpLM0uZX3tbdSrdHmyS7VH0wY6w1caQNvwp5GxJC2v57+q2pJmRc7+HmAKaHBolGbTTkVvAGYIFdoBucfPp7p1rH8efwr280iJiu3ytUUr9iSY5+yZrqIqTAayzB+sIgOqHtJgq7vGD1IRpsaHUY3PTptWmCJjC5+/Ao8/7hlONZgZ/ow0OQylqkIGubv5Cl/3ATI4zFQUX+T7BRMCTMCM5mumqhf+fH8lvLdRqzqraJ7aU++pscznuyBvPk3XjEh/lKcpWZSVr8x+mMNufby/2p6m+rc58xRFZZvD0/O6b3PY/Zg5Pd5BA0I3B0yMRlsU3Ms0ALOlXAh5dwCzpZIVdwEh5uP4x+gGk1lwlYAQjDjCRAMCTMAETAgwARMwoZ5zphJiNpqonri73lrF8thu/U+C0x5Dpz0v2fWYKlcmGhC6OQSYMo1GMjnthkSsfr2WRFsD0lFfnlh5rswSyeO0y5BHyKiO4mgURh7POdCA0M0BEzAhwARMwIQAEzABEzAhwARMwIQ6FRen3fgPmHDaxVh5rswSwWnvlsOX4LQHzIEGhG4OmIAJASZgAiYEmIAJmPGEafJVBxZHi21sPCvH30Fv8W7uqMj3F/1uZCe6PtP3vxvQYg7TcO33dLe6LTh2ACk7Gpe5RxkeFcELKYd0m/UrT4q+zxMtBODgHOLcjHnc8oLyrMQvUDWKr3xX46cAAwCxt3YCfnN46AAAAABJRU5ErkJggg==\"","module.exports = __webpack_public_path__ + \"static/media/Area_Colour.f4a4e098.png\";","module.exports = __webpack_public_path__ + \"static/media/AutoPig.ec16c410.png\";","module.exports = __webpack_public_path__ + \"static/media/Feed-Components.224ca1b3.png\";","module.exports = __webpack_public_path__ + \"static/media/Hexagon-globe.fce26805.png\";","module.exports = __webpack_public_path__ + \"static/media/Hexa-icon.5129d536.png\";","module.exports = __webpack_public_path__ + \"static/media/Logo.9b051259.png\";","module.exports = __webpack_public_path__ + \"static/media/TOM.c88886f3.png\";","import { StyleSheet } from 'react-native'\r\nimport { Colors, Fonts, Metrics, } from '../Theme'\r\n\r\nexport default {\r\n  //********************** col sets */\r\n  column: {\r\n    flexDirection: 'column',\r\n  },\r\n  colMain: {\r\n    flexDirection: 'column',\r\n    justifyContent: 'center',\r\n  },\r\n  colCenter: {\r\n    flexDirection: 'column',\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  colCross: {\r\n    flexDirection: 'column',\r\n    alignItems: 'center',\r\n  },\r\n  columnReverse: {\r\n    flexDirection: 'column-reverse',\r\n  },\r\n\r\n  //********************** Row sets */\r\n  row: {\r\n    flexDirection: 'row',\r\n  },\r\n  rowMain: {\r\n    flexDirection: 'row',\r\n    justifyContent: 'center',\r\n  },\r\n  rowCenter: {\r\n    flexDirection: 'row',\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  rowCross: {\r\n    flexDirection: 'row',\r\n    alignItems: 'center',\r\n  },\r\n  rowReverse: {\r\n    flexDirection: 'row-reverse',\r\n  },\r\n\r\n  //********************** Cross sets */\r\n  center: {\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  crossCenter: {\r\n    alignItems: 'center',\r\n  },\r\n  crossEnd: {\r\n    alignItems: 'flex-end',\r\n  },\r\n  crossStart: {\r\n    alignItems: 'flex-start',\r\n  },\r\n  crossStretch: {\r\n    alignItems: 'stretch',\r\n  },\r\n\r\n  //********************** Fill sets */\r\n  fill: {\r\n    flex: 1,\r\n  },\r\n  fillCenter: {\r\n    flex: 1,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  fillCol: {\r\n    flex: 1,\r\n    flexDirection: 'column',\r\n  },\r\n  fillColCenter: {\r\n    flex: 1,\r\n    flexDirection: 'column',\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  fillColCross: {\r\n    flex: 1,\r\n    flexDirection: 'column',\r\n    alignItems: 'center',\r\n  },\r\n  fillColMain: {\r\n    flex: 1,\r\n    flexDirection: 'column',\r\n    justifyContent: 'center',\r\n  },\r\n  fillColReverse: {\r\n    flex: 1,\r\n    flexDirection: 'column-reverse',\r\n  },\r\n  fillRow: {\r\n    flex: 1,\r\n    flexDirection: 'row',\r\n  },\r\n  fillRowCenter: {\r\n    flex: 1,\r\n    flexDirection: 'row',\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  fillRowCross: {\r\n    flex: 1,\r\n    flexDirection: 'row',\r\n    alignItems: 'center',\r\n  },\r\n  fillRowMain: {\r\n    flex: 1,\r\n    flexDirection: 'row',\r\n    justifyContent: 'center',\r\n  },\r\n  fillRowReverse: {\r\n    flex: 1,\r\n    flexDirection: 'row-reverse',\r\n  },\r\n\r\n  //********************** Size sets */\r\n  fullSize: {\r\n    height: '100%',\r\n    width: '100%',\r\n  },\r\n  halvWidth: {\r\n    width: '50%',\r\n  },\r\n  midWidth: {\r\n    width: '75%',\r\n  },\r\n  fullWidth: {\r\n    width: '100%',\r\n  },\r\n\r\n  //********************** Main sets */\r\n  mainCenter: {\r\n    justifyContent: 'center',\r\n  },\r\n  mainEnd: {\r\n    justifyContent: 'flex-end',\r\n  },\r\n  mainSpaceAround: {\r\n    justifyContent: 'space-around',\r\n  },\r\n  mainSpaceBetween: {\r\n    justifyContent: 'space-between',\r\n  },\r\n  mainStart: {\r\n    justifyContent: 'flex-start',\r\n  },\r\n\r\n  //********************** Container sets */\r\n  mainContainer:{\r\n    flex: 1,\r\n    flexDirection: 'column',\r\n    alignItems: 'center',\r\n    ...Metrics.mediumHorizontalMargin,\r\n  },\r\n  contentContainer:{\r\n    flex:1,\r\n    flexDirection: 'column',\r\n    alignItems: 'center',\r\n    ...Metrics.mediumHorizontalMargin,\r\n    marginTop: Metrics.small,\r\n    ...Metrics.bottomMargin,\r\n  },\r\n  borderContainer: {\r\n    borderWidth: 1,\r\n    borderColor: '#000',\r\n    borderRadius: 15,\r\n    ...Metrics.tinyHorizontalPadding,\r\n    ...Metrics.tinyVerticalPadding,\r\n    maxWidth:450,\r\n    zIndex: 1,\r\n  },\r\n  textContainer:{\r\n    ...Fonts.normal,\r\n    marginBottom: Metrics.normal,\r\n    alignItems: 'center',\r\n  },\r\n  buttonContainer: {\r\n    marginBottom: Metrics.small,\r\n    maxWidth:450,\r\n  },\r\n  loadingContainer: {\r\n    position: 'absolute',\r\n    left: 0,\r\n    right: 0,\r\n    top: 0,\r\n    bottom: 0,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n    backgroundColor: '#F5FCFF88',\r\n  },\r\n  logoContainer: {\r\n    width: '100%',\r\n    height: 220,\r\n  },\r\n\r\n  //**********************  */\r\n  backgroundReset: {\r\n    backgroundColor: Colors.transparent,\r\n  },\r\n\r\n  rotate90: {\r\n    transform: [{ rotate: '90deg' }],\r\n  },\r\n  rotate90Inverse: {\r\n    transform: [{ rotate: '-90deg' }],\r\n  },\r\n  mirror: {\r\n    transform: [{ scaleX: -1 }],\r\n  },\r\n\r\n  scrollSpaceAround: {\r\n    flexGrow: 1,\r\n    justifyContent: 'space-around',\r\n  },\r\n  scrollSpaceBetween: {\r\n    flexGrow: 1,\r\n    justifyContent: 'space-between',\r\n  },\r\n\r\n  selfStretch: {\r\n    alignSelf: 'stretch',\r\n  },\r\n\r\n  textCenter: {\r\n    textAlign: 'center',\r\n  },\r\n  textJustify: {\r\n    textAlign: 'justify',\r\n  },\r\n  textLeft: {\r\n    textAlign: 'left',\r\n  },\r\n  textRight: {\r\n    textAlign: 'right',\r\n  },\r\n};\r\n","/**\r\n * This file defines the base application styles.\r\n *\r\n * Use it to define generic component styles (e.g. the default text styles, default button styles...).\r\n */\r\nimport { StyleSheet } from 'react-native'\r\nimport { Colors, Fonts, Metrics, } from '../Theme'\r\n\r\nexport default {\r\n  button: {\r\n    backgroundColor: Colors.primary,\r\n    color: Colors.secountText,\r\n  },\r\n  buttonText: {\r\n    color: Colors.secountText,\r\n  },\r\n\r\n  error: {\r\n    ...Fonts.normal,\r\n    color: Colors.error,\r\n    marginBottom: Metrics.tiny,\r\n    textAlign: 'center',\r\n  },\r\n  result: {\r\n    ...Fonts.normal,\r\n    marginBottom: Metrics.tiny,\r\n    textAlign: 'center',\r\n  },\r\n  text: {\r\n    ...Fonts.normal,\r\n    marginBottom: Metrics.tiny,\r\n    textAlign: 'center',\r\n  },\r\n  input: {\r\n    ...Fonts.normal,\r\n    height: 24, \r\n  },\r\n\r\n  navigationHeader:{\r\n    textAlign: 'center',\r\n    alignSelf:'center',\r\n    flexGrow:1,\r\n  }\r\n};\r\n","import React from 'react'\r\nimport { Text, View } from 'react-native'\r\nimport { Helpers, Metrics } from '../../Theme'\r\n\r\n/**\r\n * This is an example of a container component with a deep link.\r\n */\r\nconst DeepLinkingScreen = () => (\r\n  <View style={[Helpers.fillCenter, Helpers.rowMain, Metrics.mediumHorizontalMargin]}>\r\n    <Text>\r\n      This is deep linking example screen which can be accessed using agrissysapp://deeplink scheme!\r\n    </Text>\r\n  </View>\r\n)\r\n\r\nexport default DeepLinkingScreen\r\n","import React from 'react'\r\nimport { createAppContainer } from 'react-navigation'\r\nimport { createStackNavigator } from 'react-navigation-stack'\r\nimport { TouchableOpacity, Icon, View, Text } from 'react-native'\r\n\r\nimport Front from '../Containers/Agrisys/FrontScreen'\r\nimport Example from '../Containers/Example/ExampleScreen'\r\nimport Device from '../Containers/Device/DeviceScreen'\r\n\r\nimport { ApplicationStyles } from '../Theme'\r\n/**\r\n * The root screen contains the application's navigation.\r\n *\r\n * @see https://reactnavigation.org/docs/en/hello-react-navigation.html#creating-a-stack-navigator\r\n */\r\nconst StackNavigator = createStackNavigator(\r\n  {\r\n    // The main application screen is our \"ExampleScreen\". Feel free to replace it with your\r\n    // own screen and remove the example.\r\n    FrontScreen: {\r\n      screen: Front,\r\n      navigationOptions: () => ({\r\n        headerMode: 'none',\r\n        headerShown: false,\r\n      }),\r\n      path: 'main',\r\n    },\r\n    \r\n    DeviceScreen: {\r\n      screen: Device,\r\n      navigationOptions: () => ({\r\n        title: 'Device',\r\n        headerTitleStyle:{\r\n          ...ApplicationStyles.navigationHeader\r\n        },\r\n      }),\r\n    },\r\n\r\n    ExampleScreen: {\r\n      screen: Example,\r\n      navigationOptions: () => ({\r\n        headerMode: 'none',\r\n      }),\r\n      path: 'example',\r\n    }\r\n  },\r\n  {\r\n    initialRouteName: 'FrontScreen',\r\n    // See https://reactnavigation.org/docs/en/stack-navigator.html#stacknavigatorconfig\r\n    headerMode: 'float',\r\n    defaultNavigationOptions:{\r\n      headerTitleAlign: 'center',\r\n      headerRight: () => (<View style={{padding:6}}></View>),\r\n    },\r\n  }\r\n)\r\n\r\nexport default StackNavigator\r\n","import React, { useEffect, useState, Component } from 'react'\r\nimport { Platform, Text, View, ActivityIndicator, Image } from 'react-native'\r\nimport { useDispatch, useSelector, connect } from 'react-redux'\r\nimport { bindActionCreators } from 'redux';\r\n\r\nimport NavigationService from '../../Services/NavigationService'\r\n\r\n//import DeviceActions from '../../Stores/Device/Actions'\r\nimport FirebaseActions from '../../Stores/Firebase/Actions'\r\n\r\nimport { Button_Panel } from '../../Components'\r\nimport Style from './FrontScreenStyle'\r\nimport { ApplicationStyles, Helpers, Images } from '../../Theme'\r\n\r\nclass FrontScreen extends Component {\r\n  constructor(props){\r\n    super(props);\r\n\r\n    this.state = {\r\n      ShowMainError: false,\r\n      FocusSubscription: null,\r\n    }\r\n  }\r\n\r\n  setData(Props) {\r\n  }\r\n\r\n  getData() {\r\n  }\r\n\r\n  checkData(props) {\r\n  }\r\n\r\n  componentDidUpdate(prevProps, prevState) {\r\n    if (this.props !== prevProps) {\r\n      this.checkData(this.props);\r\n      if (this.props.firebase.viewError != prevProps.firebase.viewError) {\r\n        this.forceUpdate()\r\n      }\r\n    }\r\n  }\r\n\r\n  componentDidMount() {\r\n    this.props.setFirebaseError(null)\r\n    this.checkData(this.props);\r\n    this.getData();\r\n\r\n    const FocusSubscription = this.props.navigation.addListener(\r\n      'willFocus',\r\n      payload => {\r\n        this.props.setViewLoading(false)\r\n        this.props.setViewError(null)\r\n      }\r\n    );\r\n    this.setState({\r\n      FocusSubscription: FocusSubscription\r\n    })\r\n  }\r\n  componentWillUnmount() {\r\n    if (this.state.FocusSubscription) {\r\n      this.state.FocusSubscription.remove()\r\n    }\r\n  }\r\n\r\n  render() {\r\n    const ErrorMessage = this.props.firebase.viewError\r\n    const firebaseErrorMessage = this.props.firebase.firebaseErrorMessage\r\n\r\n    return(\r\n      <View\r\n        style={[\r\n          Helpers.mainContainer,\r\n        ]}\r\n      >\r\n        <View style={[Style.logoContainer]}>\r\n          <Image style={[Helpers.fullSize]} source={Images.Logo} resizeMode={'contain'} />\r\n        </View>\r\n\r\n        <View style={[Helpers.contentContainer, Helpers.fullSize]}>\r\n          <View style={[Helpers.textContainer, Helpers.fullWidth]}>\r\n            {this.state.ShowMainError && firebaseErrorMessage ? (\r\n              <Text style={ApplicationStyles.error}>{firebaseErrorMessage}</Text>\r\n            ):(<></>)}\r\n            {ErrorMessage ? (\r\n              <Text style={ApplicationStyles.error}>{ErrorMessage}</Text>\r\n            ):(<></>)}\r\n            <Text style={ApplicationStyles.text}>Welcome to Agrisys App</Text>\r\n            <Text style={ApplicationStyles.text}>Please choose your action</Text>\r\n          </View>\r\n\r\n          <Button_Panel \r\n            Texts={[\"Connect to Agrisys Cloud\", \"Connect to Device\"]}\r\n            Images={[Images.Haxa_globe, null]}\r\n            onPress={(ele) => {\r\n              switch(ele.index){\r\n                case 0:\r\n                  NavigationService.navigate('AuthStack')\r\n                  break;\r\n                case 1:\r\n                  if (Platform.OS === 'ios' || Platform.OS === 'android') {\r\n                    NavigationService.navigate(\"DeviceScreen\")\r\n                  }\r\n                  break;\r\n              }\r\n              /*<Button Text=\"Example\"\r\n              onPress={() => NavigationService.navigate(\"ExampleScreen\")}/>*/\r\n            }}\r\n          />\r\n        </View>\r\n      </View>\r\n    )\r\n  }\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n  const { firebase } = state\r\n  return { firebase }\r\n};\r\n\r\nconst mapDispatchToProps  = (dispatch) => {\r\n  return {\r\n    setFirebaseError: error => dispatch(FirebaseActions.setFirebaseError(error)),\r\n    setViewLoading: state => dispatch(FirebaseActions.viewIsLoading(state)),\r\n    setViewError: error => dispatch(FirebaseActions.setViewError(error)),\r\n  }\r\n};\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(FrontScreen);\r\n//export default FrontScreen;\r\n","import React from 'react';\r\nimport { View, Text, Image} from 'react-native';\r\nimport Button from './Button'\r\n\r\nimport { ApplicationStyles, Helpers, Metrics } from '../Theme'\r\n\r\nconst Button_Panel = props => {\r\n  const Texts = props.Texts;\r\n  const Images = props.Images;\r\n\r\n  const onPress = props.onPress;\r\n\r\n  var Buttons = []\r\n\r\n  Texts.forEach((element, index) => {\r\n    var image = null\r\n    if (Images && Images[index]){\r\n      image = Images[index]\r\n    }\r\n    Buttons.push(\r\n      <Button key={index} Text={element} icon={image}\r\n        iconStyle={props.iconStyle} itemStyle={props.itemStyle}\r\n        onPress={() => {\r\n          if (onPress) {\r\n            onPress({index: index, text: element})\r\n          }\r\n        }}/>\r\n    )\r\n  });\r\n\r\n  return(\r\n    <View style={[Helpers.buttonContainer, Helpers.midWidth, {marginBottom:30}, props.style] }>\r\n      {Buttons}\r\n    </View>\r\n  )\r\n};\r\n\r\nexport default Button_Panel;","import React from 'react';\r\nimport { StyleSheet, View, TouchableOpacity, Text, Image} from 'react-native';\r\n\r\nimport Button from './Button';\r\n\r\nimport { ApplicationStyles, Helpers, Metrics, Fonts, Colors, Images } from '../Theme'\r\n\r\nconst TitleElement = props => {\r\n  return(\r\n    <View style={[Helpers.buttonContainer, Helpers.midWidth, Metrics.bottomMargin,] }>\r\n      <Button Text={props.Text} icon={props.icon} buttonStyle={{backgroundColor: Colors.AgriDarkblue}}\r\n        onPress={() => {\r\n          if (props.onPress){\r\n            props.onPress()\r\n          }\r\n        } }/>\r\n    </View>\r\n  )\r\n};\r\n\r\nexport default TitleElement;","import React from 'react';\r\nimport { StyleSheet, View, TouchableOpacity, Text} from 'react-native';\r\nimport { ListItem } from 'react-native-elements'\r\n\r\nimport { ApplicationStyles, Helpers, Metrics, Fonts, Colors } from '../Theme'\r\n\r\nconst CustomListItem = props => {\r\n  const key = props.key? props.key : 0\r\n  return (\r\n    <ListItem key={key} containerStyle={[styles.listitem, {flexDirection:\"column\", borderRadius:0}, props.itemStyle]} button onPress={props.onPress}>\r\n      <ListItem.Content>\r\n        <ListItem.Title>{props.Title}</ListItem.Title>\r\n        {props.hasOwnProperty(\"Subtitle\") ? <ListItem.Subtitle>{props.Subtitle}</ListItem.Subtitle>\r\n        :(<></>)}\r\n      </ListItem.Content>\r\n    </ListItem>\r\n  )\r\n};\r\n\r\nconst styles = StyleSheet.create({\r\n  listitem: {\r\n    flex: 1,\r\n    ...Helpers.borderContainer,\r\n    ...Helpers.center,\r\n    backgroundColor: '#fff',\r\n    paddingVertical: 5,\r\n    paddingHorizontal: 5,\r\n  },\r\n});\r\n\r\nexport default CustomListItem;","import { createActions } from 'reduxsauce'\r\n\r\nimport BleCreators, {BleTypes} from './BLE/Actions'\r\nimport BlueToothCreators, {BluetoothTypes} from './BlueTooth/Actions'\r\n\r\n/**\r\n * We use reduxsauce's `createActions()` helper to easily create redux actions.\r\n *\r\n * Keys are action names and values are the list of parameters for the given action.\r\n *\r\n * Action names are turned to SNAKE_CASE into the `Types` variable. This can be used\r\n * to listen to actions:\r\n *\r\n * - to trigger reducers to update the state, for example in App/Stores/Example/Reducers.js\r\n * - to trigger sagas, for example in App/Sagas/index.js\r\n *\r\n * Actions can be dispatched:\r\n *\r\n * - in React components using `dispatch(...)`, for example in App/App.js\r\n * - in sagas using `yield put(...)`, for example in App/Sagas/ExampleSaga.js\r\n *\r\n * @see https://github.com/infinitered/reduxsauce#createactions\r\n */\r\nconst { Types, Creators } = createActions({\r\n  //Device Saga\r\n  deviceStartup: null,\r\n  setDeviceError: ['errorMessage'], // Device-saga error occurred\r\n\r\n  scannerStateUpdated: ['scannerState'],\r\n\r\n  addDevice: ['device'],\r\n  removeDevice: ['device'],\r\n  clearDevices: null,\r\n\r\n  connectedDeviceUpdated: ['connectedDevice'], \r\n\r\n  connectionStateUpdated: ['connectionState'],\r\n  connectionMethodeUpdated: ['connectionMethode'],\r\n\r\n  setDeviceData: ['data'],\r\n  updateDeviceData: ['data'],\r\n\r\n  connectDevice: ['device'],\r\n  disconnectDevice: ['methode'],\r\n  readDeviceData: null,\r\n\r\n  fetchDevice: null, // Fetch device informations\r\n})\r\n\r\nexport const DeviceTypes = {...Types, ...BleTypes, ...BluetoothTypes}\r\nexport default {...Creators, ...BleCreators, ...BlueToothCreators}","import React from 'react';\r\nimport { StyleSheet, View, TouchableOpacity, Text, FlatList} from 'react-native';\r\n\r\nimport { ApplicationStyles, Helpers, Metrics, Fonts, Colors } from '../Theme'\r\n\r\nconst ContentProp = props => {\r\n  var texts = [];\r\n  if (props.texts){\r\n    props.texts.forEach((element,i) => {\r\n      texts.push(\r\n        (<View style={[styles.contentBox, props.textsStyle]} key={\"text_\" + i}>\r\n          <Text>{element}</Text>\r\n        </View>)\r\n      )\r\n    });\r\n  }\r\n\r\n  var datas = [];\r\n  if (props.datas) {\r\n    props.datas.forEach((element,i) => {\r\n      datas.push(\r\n        (<TouchableOpacity style={[styles.contentBox, props.datasStyle]} onLongPress={() => {\r\n          if (props.onPress){\r\n            props.onPress({data: element, index: i})\r\n          }\r\n        }} key={\"data_\" + i}>\r\n          <Text>{element}</Text>\r\n        </TouchableOpacity>)\r\n      )\r\n    });\r\n  }\r\n\r\n  var length = texts.length > datas.length? texts.length : datas.length\r\n  \r\n  var view = [];\r\n  for(var i = 0; i < length; i++) {\r\n    var dataRow = [];\r\n    if (i < texts.length) {\r\n      dataRow.push(texts[i])\r\n    } else {\r\n      dataRow.push((<View style={[Helpers.fill, Helpers.colCenter]} key={\"leftSpace_\" + i}/>))\r\n    }\r\n\r\n    if (datas.length > 0) {\r\n      dataRow.push((<View style={[Helpers.fill, Helpers.colCenter, {maxWidth:20}]} key={\"seperator_\" + view.length}/>))\r\n\r\n      if (i < datas.length) {\r\n        dataRow.push(datas[i])\r\n      } else {\r\n        dataRow.push((<View style={[Helpers.fill, Helpers.colCenter]} key={\"rightSpace_\" + i}/>))\r\n      }\r\n    }\r\n\r\n    view.push(\r\n      (<View style={[props.datas?Helpers.rowCenter:Helpers.halvWidth, Metrics.tinyVerticalMargin]} key={\"row_\" + view.length}>\r\n        {dataRow}\r\n      </View>)\r\n    )\r\n  }\r\n  \r\n  return (view);\r\n};\r\n\r\nconst styles = StyleSheet.create({\r\n  contentBox: {\r\n    ...Helpers.fill,\r\n    ...Helpers.colCenter,\r\n    ...Helpers.borderContainer,\r\n    borderRadius: 0,\r\n    minHeight:30,\r\n  }\r\n});\r\n\r\n\r\nexport default ContentProp;","import React, { useEffect } from 'react'\r\nimport { StyleSheet, Text, View, Image, ActivityIndicator } from 'react-native'\r\n\r\nimport { Helpers, Images, Colors } from '../Theme'\r\n\r\nconst Loading = props => {\r\n  if (props.loading){\r\n    var styles = props.back ? styles.container: {}\r\n    return (\r\n      <View style={[Helpers.fillRowCenter, Helpers.center, Helpers.logoContainer, styles]}>\r\n        <View style={[Helpers.center, Helpers.logoContainer]}>\r\n          <Image style={Helpers.fullSize} source={Images.Hexa_icon} resizeMode={'contain'} />\r\n        </View>\r\n      </View>\r\n    )\r\n  } else return null;\r\n}\r\n\r\nconst styles = StyleSheet.create({\r\n  container: {\r\n    backgroundColor: Colors.primary,\r\n  },\r\n});\r\n\r\nexport default Loading\r\n","import React, { Component } from 'react'\r\nimport { Platform, Text, View, ActivityIndicator, ScrollView } from 'react-native'\r\nimport { useDispatch, useSelector, connect } from 'react-redux'\r\nimport { bindActionCreators } from 'redux';\r\nimport NavigationService from '../Services/NavigationService'\r\n\r\nimport FirebaseActions from '../Stores/Firebase/Actions'\r\nimport { Actions, DataRefs, sortObject, Operations } from '../Stores/Firebase/Selectors'\r\n\r\nimport { Button, Comment_Module } from '../Components'\r\nimport { ApplicationStyles, Helpers, Metrics } from '../Theme'\r\n\r\nclass OperationsPanel extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.state = {\r\n      View:1,\r\n    }\r\n  }\r\n\r\n  getPenAndSection() {\r\n    var Section, Pen = undefined\r\n    if (this.props.pig && this.props.pigTag && this.props.PigsList) {\r\n      if (this.props.PigsList[this.props.pigTag] && this.props.PigsList[this.props.pigTag].pen && this.props.PigsList[this.props.pigTag].pen != 0) {\r\n        Pen = this.props.PigsList[this.props.pigTag].pen\r\n\r\n        const localDataStore = this.props.firebase.localDataStore\r\n        if (localDataStore && localDataStore.pens && localDataStore.pens[Pen]) {\r\n          var PenData = localDataStore.pens[Pen];\r\n          Section = PenData.section;\r\n        }\r\n      }\r\n    }\r\n    return {Section, Pen}\r\n  }\r\n\r\n  getData() {\r\n  }\r\n\r\n  componentDidMount() {\r\n    this.getData();\r\n  }\r\n\r\n  componentDidUpdate(prevProps, prevState) {\r\n    if (this.props !== prevProps) {\r\n    }\r\n  }\r\n\r\n  render() {\r\n    const CurrentData = this.props.firebase.currentData\r\n\r\n    if (this.props.pig) {\r\n      return(\r\n        <View style={[Helpers.buttonContainer]}>\r\n          <Button Text=\"Add Pig\"\r\n            onPress={() => {\r\n              if (this.props.pigTag !== \"\" ) {\r\n                if (Object.keys(this.props.PigsList).filter(e => e === this.props.pigTag).length > 0){\r\n                  this.props.setFirebaseError(\"Can not add Tag already exist\")\r\n                } else {\r\n                  this.props.setFirebaseError(\"\")\r\n                  this.props.newPig(this.props.pigTag)\r\n                }\r\n              }\r\n              else this.props.setFirebaseError(\"A Tag is needed\")\r\n            } }/>\r\n          <Button Text=\"Move Pig\"\r\n            onPress={() => {\r\n              var {Section, Pen} = this.getPenAndSection()\r\n              this.props.setCurrentPig(this.props.pigTag, Section, Pen)\r\n              NavigationService.navigate(\"DataEditor\")\r\n            } }/>\r\n        </View>\r\n      )\r\n    } else if (this.props.section) {\r\n      return(\r\n        <View style={[Helpers.buttonContainer]}>\r\n          <Button Text=\"Weight\"\r\n              onPress={() => {\r\n                NavigationService.navigate(\"WeighingOperations\")\r\n              }}/>\r\n          <View style={[{marginTop:40}]}>\r\n            <Button Text=\"Add Pen\"\r\n              onPress={() => {\r\n                this.props.editPens(Actions.CREATE)\r\n                NavigationService.navigate(\"DataEditor\")\r\n              } }/>\r\n            <Button Text=\"Remove Pen\"\r\n              onPress={() => {\r\n                this.props.editPens(Actions.DELETE)\r\n                NavigationService.navigate(\"DataEditor\")\r\n              } }/>\r\n          </View>\r\n        </View>\r\n      )\r\n    } else {\r\n      var Action = 1;\r\n      switch(this.state.View) {\r\n        case Operations.MOVE:\r\n        case Operations.LOST:\r\n        case Operations.SOLD:\r\n          Action = -1\r\n        case Operations.ADD:\r\n          return(\r\n            <Comment_Module Title={\"Operations comment:\"} Quantity={true} Weight={true} onDone={(res) => {\r\n              if (res.res) {\r\n                var action = this.state.View\r\n                action = action.charAt(0).toUpperCase() + action.slice(1)\r\n                var quantity = res.quantity\r\n                if (isNaN(quantity)) quantity = 1\r\n                Action = Action * quantity\r\n                if (res.weight && res.weight !== \"\") {\r\n                  var weight = res.weight\r\n                  if (this.state.View === Operations.ADD) {\r\n                    this.props.newWeight(CurrentData.penId, weight, Date.now(),1)\r\n                  }\r\n                }\r\n\r\n                this.props.newComment(CurrentData.penId, action, res.data, quantity, weight)\r\n                this.props.newPigCount(CurrentData.penId, Action)\r\n              }\r\n\r\n              this.setState({\r\n                View: 1\r\n              })\r\n            }}/>\r\n          )\r\n          //this.props.newPigCount(CurrentData.penId, Action * \"count_input\", comment)\r\n        case Operations.NOTE:\r\n          return(\r\n            <Comment_Module Title={\"Pen Note:\"} onDone={(res) => {\r\n              if (res.res && res.data) {\r\n                var action = this.state.View\r\n                action = action.charAt(0).toUpperCase() + action.slice(1)\r\n                \r\n                this.props.newComment(CurrentData.penId, action, res.data)\r\n              }\r\n              \r\n              this.setState({\r\n                View: 1\r\n              })\r\n            }}/>\r\n          )\r\n          break;\r\n        default:\r\n          return(\r\n            <ScrollView style={{paddingRight: 5}}>\r\n              <View style={[Helpers.buttonContainer]}>\r\n                <Button Text=\"Weight\"\r\n                    onPress={() => {\r\n                      NavigationService.navigate(\"WeighingOperations\")\r\n                    }}/>\r\n                <Button Text=\"Note\"\r\n                    onPress={() => {\r\n                      this.setState({\r\n                        View: Operations.NOTE,\r\n                      })\r\n                    }\r\n                  }/>\r\n                <View style={[{marginTop:10}]}>\r\n                  <Button Text=\"Add Pig\"\r\n                    onPress={() => {\r\n                      this.setState({\r\n                        View: Operations.ADD,\r\n                      })\r\n                    } }/>\r\n                  <Button Text=\"Move Pig\"\r\n                    onPress={() => {\r\n                      this.setState({\r\n                        View: Operations.MOVE,\r\n                      })\r\n                    } }/>\r\n                  <Button Text=\"Lost Pig\"\r\n                    onPress={() => {\r\n                      this.setState({\r\n                        View: Operations.LOST,\r\n                      })\r\n                    } }/>\r\n                  <Button Text=\"Sold Pig\"\r\n                    onPress={() => {\r\n                      this.setState({\r\n                        View: Operations.SOLD,\r\n                      })\r\n                    } }/>\r\n                </View>\r\n              </View>\r\n            </ScrollView>\r\n          )\r\n      }\r\n    }\r\n  }\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n  const { firebase } = state\r\n  return { firebase }\r\n};\r\n\r\nconst mapDispatchToProps  = (dispatch) => {\r\n  return {\r\n    setFirebaseError: error => dispatch(FirebaseActions.setFirebaseError(error)),\r\n\r\n    setCurrentData: penId => dispatch(FirebaseActions.setCurrentData({type:DataRefs.PENS, penId: penId})),\r\n    setCurrentDataElement: element => dispatch(FirebaseActions.setCurrentData(element)),\r\n\r\n    editPens: (action) => dispatch(FirebaseActions.setCurrentData({type:DataRefs.PENS, action:action})),\r\n\r\n    setCurrentPig: (pigTag, Section, Pen) => dispatch(FirebaseActions.setCurrentData({type:DataRefs.PIGS, action:Actions.CREATE, pigtag:pigTag, data:{section:Section}, dataId:Pen})),\r\n    newPig: (pigTag) => dispatch(FirebaseActions.actionStarting(Actions.CREATE, DataRefs.PIGS, {TagId: pigTag})),\r\n    newPigCount: (penId, countChange) => dispatch(FirebaseActions.actionStarting(Actions.CREATE, DataRefs.PIGS, {PenId: penId, Action:countChange})),\r\n\r\n    newComment: (penId, action, data, quantity=null, weight=null) => dispatch(FirebaseActions.actionStarting(Actions.CREATE, DataRefs.COMMENTS, {PenId: penId, Action: action, Data: data, Quantity:quantity, Weight:weight})),\r\n    newWeight: (penId, weight, date, quantity) => dispatch(FirebaseActions.actionStarting(Actions.CREATE, DataRefs.WEIGHING, {PenId: penId, Weight:weight, Quantity:quantity, Date:date})),\r\n  }\r\n};\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(OperationsPanel);\r\n//export default OperationsPanel","import React, {useRef, useState, useEffect} from 'react';\r\nimport { Text, View, StyleSheet, Animated } from 'react-native';\r\n\r\nimport { ApplicationStyles, Helpers, Metrics } from '../Theme'\r\n\r\nconst ProgressBar = props => {\r\n  let animation = useRef(new Animated.Value(0));\r\n  const progress = props.progress\r\n  const Color = props.color?props.color:\"#8BED4F\"\r\n  \r\n  useEffect(() => {\r\n    Animated.timing(animation.current, {\r\n      toValue: progress,\r\n      duration: 100\r\n    }).start();\r\n  },[progress])\r\n\r\n  const width = animation.current.interpolate({\r\n    inputRange: [0, 100],\r\n    outputRange: [\"0%\", \"100%\"],\r\n    extrapolate: \"clamp\"\r\n  })\r\n  return (\r\n    <View style={[Helpers.borderContainer, Helpers.fullWidth, {borderWidth:0, minHeight:45, paddingBottom:10}]}>\r\n      <View style={[Helpers.fill, Helpers.fullWidth, Helpers.colMain, {alignContent:'center'}]}>\r\n        {props.text?(\r\n        <Text style={{alignSelf:'flex-start', minHeight:20}}>\r\n          {props.text}\r\n        </Text>):(<></>)}\r\n        <View style={styles.progressBar}>\r\n          <Animated.View style={[StyleSheet.absoluteFill], {backgroundColor: Color, width }}/>\r\n        </View>\r\n      </View>\r\n    </View>\r\n  )\r\n}\r\n\r\nexport default ProgressBar;\r\n\r\nconst styles = StyleSheet.create({\r\n  container: {\r\n    flex: 1,\r\n    flexDirection: 'column',\r\n    justifyContent: 'center',\r\n    alignItems: 'center',\r\n    paddingTop: 5,\r\n    padding: 8,\r\n  },\r\n  progressBar: {\r\n    flexDirection: 'row',\r\n    height: 20,\r\n    width: '100%',\r\n    borderColor: '#000',\r\n    borderWidth: 2,\r\n    borderRadius: 5\r\n  }\r\n});\r\n","import React, { Component } from 'react'\r\nimport { StyleSheet, View, TouchableOpacity, Picker, Text, Image} from 'react-native';\r\n\r\nimport { ApplicationStyles, Helpers, Metrics, Fonts, Colors, Images } from '../Theme'\r\n\r\nconst monthNames = [\"January\", \"February\", \"March\", \"April\", \"May\", \"June\",\r\n  \"July\", \"August\", \"September\", \"October\", \"November\", \"December\"\r\n];\r\n\r\nclass DateTime_Picker extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n      \r\n    const {year, month, day} = this.getStates(props)\r\n    this.state = {\r\n      year: year,\r\n      month: month,\r\n      day: day,\r\n    }\r\n  }\r\n\r\n  getStates(props) {\r\n    var Today = new Date();\r\n    var Selected = new Date();\r\n    if (props.Selected) {\r\n      Selected = new Date(props.Selected)\r\n    }\r\n\r\n    var year, month, day;\r\n    year = Selected.getFullYear()\r\n    month = Selected.getMonth()\r\n    day = Selected.getDate()\r\n\r\n    if (!props.Selected) {\r\n      if (props.Year){\r\n        year = this.props.Year\r\n      }\r\n      if (props.Month){\r\n        month = this.props.Month\r\n      }\r\n      if (props.Day){\r\n        day = this.props.Day\r\n      }\r\n    }\r\n    return {year, month, day}\r\n  }\r\n\r\n  componentDidUpdate(prevProps, prevState) {\r\n    if (prevProps.Selected){\r\n      if (prevProps.Selected != this.props.Selected){\r\n        const {year, month, day} = this.getStates(this.props)\r\n        this.setState({\r\n          year: year,\r\n          month: month,\r\n          day: day,\r\n        }, this.forceUpdate())\r\n      }\r\n    } else {\r\n      var changed = false;\r\n      if (prevProps.Year != this.props.Year) changed = true\r\n      if (prevProps.Month != this.props.Month) changed = true\r\n      if (prevProps.Day != this.props.Day) changed = true\r\n      if (changed) {\r\n        this.forceUpdate()\r\n      }\r\n    }\r\n  }\r\n\r\n  render() {\r\n    var Today = new Date();\r\n\r\n    var year = Today.getFullYear()\r\n    var YearItems = []\r\n    for (let index = year + 25; index > year - 25; index--) {\r\n      var val = String(index)\r\n      YearItems.push(<Picker.Item key={\"Year_\" + index} value={index} label={val} />)\r\n    }\r\n      \r\n    var MonthItems = []\r\n    var month = Today.getMonth()\r\n    for (let index = 0; index < monthNames.length; index++) {\r\n      var val = String(index)\r\n      MonthItems.push(<Picker.Item key={\"Month_\" + index} value={index} label={monthNames[index]} />)\r\n    }\r\n  \r\n    var DayItems = []\r\n    var days = new Date(year, month + 1, 0).getDate()\r\n    for (let index = 1; index <= days; index++) {\r\n      var val = String(index)\r\n      DayItems.push(<Picker.Item key={\"Day_\" + index} value={index} label={val} />)\r\n    }\r\n\r\n    return(\r\n      <View style={[Helpers.fullWidth, Helpers.row, {marginBottom:-10,}, this.props.style]}>\r\n        <Picker selectedValue={this.state.year} style={[{minWidth: 101, marginRight:5}]}\r\n          onValueChange={(_year) => {\r\n            year = _year\r\n            this.props.onValueChange(new Date(year, this.state.month, this.state.day))\r\n          }}>\r\n          {YearItems}\r\n        </Picker>\r\n\r\n        <Picker selectedValue={this.state.month} style={[{minWidth: 110, marginRight:5}]}\r\n          onValueChange={(_month) => {\r\n            month = _month\r\n            this.props.onValueChange(new Date(this.state.year, month, this.state.day))\r\n          }}>\r\n          {MonthItems}\r\n        </Picker>\r\n\r\n        <Picker selectedValue={this.state.day} style={[{minWidth: 83}]}\r\n          onValueChange={(_day) => {\r\n            days = parseInt(_day)\r\n            this.props.onValueChange(new Date(this.state.year, this.state.month, days))\r\n          }}>\r\n          {DayItems}\r\n        </Picker>\r\n      </View>\r\n    )\r\n  }\r\n}\r\nexport default DateTime_Picker;","import React, { useState } from 'react';\r\nimport { Platform, View, Text, TextInput, Image, StyleSheet, RecyclerViewBackedScrollViewComponent} from 'react-native';\r\nimport Button from './Button'\r\nimport { Icon, Input } from 'react-native-elements'\r\nimport { Operations } from '../Stores/Firebase/Selectors'\r\n\r\nimport { ApplicationStyles, Helpers, Metrics, Fonts, Colors } from '../Theme'\r\n\r\nconst Comment_Module = props => {\r\n  const Title = props.Title;\r\n  const Quantity = props.Quantity?props.Quantity:false\r\n  const Weight = props.Weight?props.Weight:false\r\n  \r\n  const onDone = props.onDone;\r\n  var Button1 = \"Done\";\r\n  var Button2 = \"Cancel\";\r\n  const [InputText, setInputText] = useState(\"\");\r\n  const [QuantityText, setQuantityText] = useState(\"1\");\r\n  const [WeightText, setWeightText] = useState(\"\");\r\n\r\n  var App = Platform.OS === \"android\" || Platform.OS === \"ios\" ? true: false\r\n  return(\r\n    <View style={[Helpers.buttonContainer, props.style] }>\r\n      <View style={styles.textAreaContainer} >\r\n        <View style={[App?{}:Helpers.row]}>\r\n          {Title?(<Text style={[Fonts.normal, {height: 24, color:Colors.input}]}>{Title}</Text>):(<></>)}\r\n          {Quantity?(\r\n            <View style={[Helpers.row, App?{}:{marginLeft:50, marginBottom:4}]}>\r\n              <Text style={[Fonts.normal, {height: 24, color:Colors.input}]}>Quantity:</Text>\r\n              <TextInput style={[styles.textArea, {marginLeft: 10, height:22, width:80, paddingBottom:-10}]} \r\n                multiline={false}\r\n                onChangeText={(text) => {\r\n                  if (text === \"\" || !isNaN(text)) setQuantityText(text)\r\n                }}\r\n                value={QuantityText}\r\n              />\r\n            </View>\r\n          ):(<></>)}\r\n        </View>\r\n        {Weight?(\r\n          <View style={[Helpers.row, App?{}:{marginBottom:4}]}>\r\n            <Text style={[Fonts.normal, {height: 24, color:Colors.input}]}>Average Weight:</Text>\r\n            <TextInput style={[styles.textArea, {marginLeft: 10, height:22, width:80, paddingBottom:-10}]} \r\n              multiline={false}\r\n              onChangeText={(text) => {\r\n                if (text === \"\" || !isNaN(text)) setWeightText(text)\r\n              }}\r\n              value={WeightText}\r\n            />\r\n          </View>\r\n        ):(<></>)}\r\n        <TextInput\r\n          style={styles.textArea}\r\n          underlineColorAndroid=\"transparent\"\r\n          placeholder=\"Note context..\"\r\n          placeholderTextColor=\"grey\"\r\n          numberOfLines={10}\r\n          multiline={true}\r\n          onChangeText={(text) => setInputText(text)}\r\n          value={InputText}\r\n        />\r\n      </View>\r\n      <Button key={\"_Done\"} Text={Button1}\r\n        onPress={() => {\r\n          if (onDone) {\r\n            onDone({res: true, data: InputText, quantity: QuantityText, weight: WeightText})\r\n          }\r\n        }}/>\r\n      <Button key={\"_Cancel\"} Text={Button2}\r\n        onPress={() => {\r\n          if (onDone) {\r\n            onDone({res: false, data: InputText})\r\n          }\r\n        }}/>\r\n    </View>\r\n  )\r\n};\r\n\r\nconst styles = StyleSheet.create({\r\n  textAreaContainer: {\r\n    borderColor: Colors.gray,\r\n    borderWidth: 1,\r\n    padding: 5\r\n  },\r\n  textArea: {\r\n    height: 150,\r\n    justifyContent: \"flex-start\",\r\n    borderColor: \"black\",\r\n    borderWidth: 0.5,\r\n    padding: 5,\r\n  }\r\n})\r\n\r\nexport default Comment_Module;","import { StyleSheet } from 'react-native'\r\nimport { Helpers, Metrics, Fonts, Colors } from '../../Theme'\r\n\r\nexport default StyleSheet.create({\r\n  logoContainer: {\r\n    ...Helpers.fullWidth,\r\n    height: 190,\r\n    marginTop: Metrics.medium * 2, \r\n    marginBottom: Metrics.medium,\r\n  },\r\n})\r\n","import React, { useEffect } from 'react'\r\nimport { Platform, Text, View, Button, ActivityIndicator, Image } from 'react-native'\r\nimport { useDispatch, useSelector } from 'react-redux'\r\n\r\nimport NavigationService from '../../Services/NavigationService'\r\n\r\nimport ExampleActions from '../../Stores/Example/Actions'\r\nimport { liveInEurope } from '../../Stores/Example/Selectors'\r\n\r\nimport Style from './ExampleScreenStyle'\r\nimport { ApplicationStyles, Helpers, Images, Metrics } from '../../Theme'\r\n\r\n/**\r\n * This is an example of a container component.\r\n *\r\n * This screen displays a little help message and informations about a fake user.\r\n * Feel free to remove it.\r\n */\r\nconst instructions = Platform.select({\r\n  ios: 'Press Cmd+R to reload,\\nCmd+D or shake for dev menu.',\r\n  android: 'Double tap R on your keyboard to reload,\\nShake or press menu button for dev menu.',\r\n})\r\n\r\nconst ExampleScreen = () => {\r\n  const dispatch = useDispatch()\r\n\r\n  const user = useSelector((state) => state.example.user)\r\n  const userIsLoading = useSelector((state) => state.example.userIsLoading)\r\n  const userErrorMessage = useSelector((state) => state.example.userErrorMessage)\r\n\r\n  useEffect(() => {\r\n    dispatch(ExampleActions.fetchUser())\r\n  }, [])\r\n\r\n  return (\r\n    <View\r\n      style={[\r\n        Helpers.fillCenter,\r\n        Helpers.rowMain,\r\n        Metrics.mediumHorizontalMargin,\r\n        Metrics.mediumVerticalMargin,\r\n      ]}\r\n    >\r\n      {userIsLoading ? (\r\n        <ActivityIndicator size=\"large\" color=\"#0000ff\" />\r\n      ) : (\r\n        <View>\r\n          <View style={Style.logoContainer}>\r\n            <Image style={Helpers.fullSize} source={Images.logo} resizeMode={'contain'} />\r\n          </View>\r\n          <Text style={Style.text}>To get started, edit App.js</Text>\r\n          <Text style={Style.instructions}>{instructions}</Text>\r\n          {userErrorMessage ? (\r\n            <Text style={Style.error}>{userErrorMessage}</Text>\r\n          ) : (\r\n            <View>\r\n              <Text style={Style.result}>\r\n                {\"I'm a fake user, my name is \"}\r\n                {user.name}\r\n              </Text>\r\n              <Text style={Style.result}>\r\n                {liveInEurope ? 'I live in Europe !' : \"I don't live in Europe.\"}\r\n              </Text>\r\n            </View>\r\n          )}\r\n          <Button\r\n            style={ApplicationStyles.button}\r\n            onPress={() => dispatch(ExampleActions.fetchUser())}\r\n            title=\"Refresh\"\r\n          />\r\n          <Button\r\n            style={ApplicationStyles.button}\r\n            onPress={() => NavigationService.navigate(\"TestScreen\") }\r\n            title=\"Test\"\r\n          />\r\n        </View>\r\n      )}\r\n    </View>\r\n  )\r\n}\r\n\r\nexport default ExampleScreen\r\n"],"sourceRoot":""}