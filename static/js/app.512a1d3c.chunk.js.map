{"version":3,"sources":["Src/Stores/CreateStore.js","Src/Stores/Startup/Actions.js","Src/Stores/Example/Actions.js","Src/Stores/Device/BLE/Actions.js","Src/Stores/Device/BlueTooth/Actions.js","Src/Stores/Device/Actions.js","Src/Stores/Firebase/Actions.js","Src/Services/NavigationService.js","Src/Sagas/StartupSaga.js","Src/Config/index.js","Src/Services/UserService.js","Src/Sagas/Example/ExampleSaga.js","Src/Services/DeviceService.js","Src/Stores/Device/Selectors.js","Src/Sagas/Device/BLE/BLESaga.js","Src/Sagas/Device/BlueTooth/BlueToothSaga.js","Src/Sagas/Device/DeviceSaga.js","Src/Stores/Firebase/Selectors.js","Src/Services/FirebaseService.js","Src/Services/ConsysService.js","Src/Sagas/Firebase/FirebaseSaga.js","Src/Sagas/index.js","Src/Stores/Example/InitialState.js","Src/Stores/Example/Reducers.js","Src/Stores/Device/BLE/InitialState.js","Src/Stores/Device/BlueTooth/InitialState.js","Src/Stores/Device/InitialState.js","Src/Stores/Device/BLE/Reducers.js","Src/Stores/Device/BlueTooth/Reducers.js","Src/Stores/Device/Reducers.js","Src/Stores/Firebase/InitialState.js","Src/Stores/Firebase/Reducers.js","Src/Stores/index.js","Src/Theme/Colors.js","Src/Theme/Fonts.js","Src/Theme/Metrics.js","Src/Theme/Images.js","Src/Theme/Helpers.js","Src/Theme/ApplicationStyles.js","Src/Containers/SplashScreen/SplashScreenStyle.js","Src/Containers/SplashScreen/SplashScreen.js","Src/Containers/DeepLinking/DeepLinkingScreen.js","Src/Components/Button.js","Src/Components/Button_Panel.js","Src/Components/TitleElement.js","Src/Components/CustomListItem.js","Src/Components/ContentProp.js","Src/Components/Loading.js","Src/Components/OperationsPanel.js","Src/Components/Progressbar.js","Src/Components/DateTime_Picker.js","Src/Components/Comment_Module.js","Src/Containers/Agrisys/FrontScreenStyle.js","Src/Containers/Agrisys/FrontScreen.js","Src/Stores/Example/Selectors.js","Src/Containers/Example/ExampleScreenStyle.js","Src/Containers/Example/ExampleScreen.js","Src/Containers/Device/DeviceScreenStyle.js","Src/Containers/Device/DeviceScreen.js","Src/Navigators/FrontNavigator.js","Src/Containers/Cloud/AuthScreens/AuthStyle.js","Src/Containers/Cloud/AuthScreens/UserLoadingScreen.js","Src/Containers/Cloud/AuthScreens/UserLoginScreen.js","Src/Containers/Cloud/AuthScreens/VerifyScreen.js","Src/Containers/Cloud/UserPanel/UserPanelStyle.js","Src/Containers/Cloud/UserPanel/UserInformation.js","Src/Containers/Cloud/UserPanel/Subscription.js","Src/Containers/Cloud/UserPanel/FarmInformation.js","Src/Containers/Cloud/AuthScreens/CreateUserDataScreen.js","Src/Navigators/AuthNavigator.js","Src/Containers/Cloud/UserPanel/FrontScreen.js","Src/Containers/Cloud/UserPanel/Dashboard.js","Src/Containers/Cloud/CloudScreenStyle.js","Src/Containers/Cloud/UserPanel/Pigs.js","Src/Containers/Cloud/UserPanel/Pens.js","Src/Containers/Cloud/UserPanel/Batchs.js","Src/Containers/Cloud/UserPanel/CurveElement.js","Src/Containers/Cloud/UserPanel/GrowthCurves.js","Src/Containers/Cloud/UserPanel/AutoPig.js","Src/Containers/Cloud/UserPanel/Operations.js","Src/Containers/Cloud/UserPanel/Weighing.js","Src/Containers/Cloud/UserPanel/DataEditor.js","Src/Containers/Cloud/UserPanel/DataDisplay_Pens.js","Src/Containers/Cloud/UserPanel/DataDisplay_Pigs.js","Src/Containers/Cloud/UserPanel/DataDisplay.js","Src/Containers/Cloud/UserPanel/DataPlotter.js","Src/Navigators/WebViewer.js","Src/Navigators/UserPanelNavigator.js","Src/Containers/Cloud/AdminPanel/AdminPanelStyle.js","Src/Containers/Cloud/AdminPanel/FrontScreen.js","Src/Containers/Cloud/AdminPanel/UserBoard.js","Src/Containers/Cloud/AdminPanel/SystemBoard.js","Src/Containers/Cloud/AdminPanel/Tools.js","Src/Navigators/AdminPanelNavigator.js","Src/Navigators/AppNavigator.js","Src/Containers/Root/RootScreen.js","App.tsx","Src/Assets/Images/Home.png","Src/Assets/Images/Dashboard.png","Src/Assets/Images/System.png","Src/Assets/Images/Feed-Curves.png","Src/Assets/Images/Growth-curve.png","Src/Assets/Images/User.png","Src/Assets/Images/Sow.png","Src/Assets/Images/Section.png","Src/Assets/Images/Area_Colour.png","Src/Assets/Images/AutoPig.png","Src/Assets/Images/Feed-Components.png","Src/Assets/Images/Hexagon-globe.png","Src/Assets/Images/Hexa-icon.png","Src/Assets/Images/Logo.png","Src/Assets/Images/TOM.png"],"names":["JSOGTransform","createTransform","inboundState","key","JSOG","encode","outboundState","decode","persistConfig","storage","transforms","blacklist","rootReducer","rootSaga","middleware","enhancers","sagaMiddleware","createSagaMiddleware","push","applyMiddleware","persistedReducer","persistReducer","store","createStore","compose","persistor","persistStore","Platform","OS","blemanager","BleManager","setLogLevel","LogLevel","Verbose","bluemanager","NativeModules","BlueToothControl","sagaArgs","BLEManager","BlueManager","run","createActions","startup","Types","Creators","StartupTypes","fetchUser","fetchUserLoading","fetchUserSuccess","fetchUserFailure","ExampleTypes","bleStartup","bleStateUpdated","startBleScan","stopBleScan","readBleDeviceData","BleTypes","bluetoothStartup","startBluetoothScan","stopBluetoothScan","bluetoothScanAble","readBlueDeviceData","BluetoothTypes","deviceStartup","setDeviceError","scannerStateUpdated","addDevice","removeDevice","clearDevices","connectedDeviceUpdated","connectionStateUpdated","connectionMethodeUpdated","setDeviceData","updateDeviceData","connectDevice","disconnectDevice","readDeviceData","fetchDevice","DeviceTypes","BleCreators","BlueToothCreators","firebaseStartup","firebaseIsLoading","setFirebaseError","setViewError","viewIsLoading","setCurrentData","actionStarting","fetchStarting","dataFetchSuccess","fetchSuccess","fetchFailure","FirebaseTypes","navigator","LastPage","setTopLevelNavigator","navigatorRef","replace","routeName","params","dispatch","StackActions","navigate","NavigationActions","navigateAndReset","reset","index","actions","nacigationPop","back","console","log","put","DeviceActions","FirebaseActions","NavigationService","HTTPS_START","Config","API_URL","CONSYS_CLIENT_ID","CONSYS_CLIENT_SECRET","CONSYS_AUTH","CONSYS_API","GetToken_URL","Site_URL","Refresh_Token","res","GetCheckToken_URL","GetConsumtion_URL","GetConsumtionData_URL","Consumptiontype","SystemId","Offset","Limit","Starttime","Stoptime","Lastid","GetConsumtionData_Var","isWithin","curryN","min","max","value","isNumber","is","Number","gte","in200s","userApiClient","axios","create","baseURL","headers","Accept","timeout","Math","random","Promise","resolve","reject","number","floor","get","toString","then","response","status","data","userService","ExampleActions","call","user","isPermit_Android","Version","PermissionsAndroid","check","PERMISSIONS","ACCESS_COARSE_LOCATION","Have_Coarse_Location","request","Got_Access","RESULTS","GRANTED","isBlePermitted","deviceService","ScannerState","IDLE","AVAILABLE","SCANNING","ConnectionState","DISCONNECTED","CONNECTING","DISCOVERING","CONNECTED","DISCONNECTING","ConnectionMethode","NONE","BLE","SERIAL","BLUETOOTH","WIFI","handleBleState","connectBle","handleConnection","handleScanning","scanBle","setBleScannerStart","permitError","fork","manager","eventChannel","emit","subscription","onStateChange","state","remove","buffers","expanding","stateChannel","take","newState","BleActions","cancelled","close","device","select","connectionMethode","connectedDevice","_manager","isConnected","onDisconnected","error","type","disconnectedChannel","actionChannel","deviceActionChannel","connect","discoverAllServicesAndCharacteristics","_device","race","deviceAction","disconnected","cancelConnection","KnownUUIDS","services","_services","serviceUUIDs","filter","service","includes","uuid","monitor","characteristics","characteristic","forEach","i","monitorCharacteristicForService","readingChannel","TempData_Reading","Buffer","from","length","PacketId","BatteryLevel","base64","charCodeAt","Battery","RawData","header","slice","compare","parseInt","NewData","concat","TagId","tagid","FatLayers","FatL1","FatL2","FatL3","layers","layer1","layer2","layer3","scanTask","bleState","scannerState","connectionState","channel","action","enableScanning","State","PoweredOn","cancel","startDeviceScan","allowDuplicates","scannedDevice","localName","stopDeviceScan","scanningChannel","scanBluetooth","setBlueScannerStart","testTask","PairDevice","id","receiveData","Message","TAGId","Discover","blueTootControlEmitter","NativeEventEmitter","addListener","Device","address","name","alias","bluetoothChannel","StopDiscovery","BluetoothSearchAble","methode","UserStates","STARTER","FREE","WORKER","OWNER","ADMIN","DataStates","CLOSED","DataRefs","FIREBASEUSER","USERSDATA","USERS","FARMS","SECTIONS","PENS","PIGS","BATCHS","WEIGHING","GRAPH","COMMENTS","FARMDATAS","SHARES","CONSYS","ConsysRefs","VALVEFEED","SCALE","Actions","SIGN","FETCH","CREATE","UPDATE","MOVE","DELETE","CLEAR","ADD","Operations","LOST","SOLD","NOTE","ErrorTypes","SYSTEM","EMAIL","PASSWORD","FORMAT","format_num","num","format_Time","time","s","Date","datetime","getDate","getMonth","getFullYear","getHours","getMinutes","getSeconds","reA","reN","sortAlphaNum","a","b","aA","bA","aN","bN","sortObject","o","sorted","hasOwnProperty","sort","DataStringCheck","Check_num","first","numbers","specialChars","indexOf","GetWeight_FromPen","PenId","WeighingsStore","AfterTime","BeforeTime","Weighing","_weighing","weighing","GetBatch_FromPen","localDataStore","batchs","_batch","batch","pens","GetStats_FromPen","PenData","StartDate","EndDate","PenWeighings","Animals","PenWeight","PenGrowth","AveragePenGrowth","datas","count","weighings","GrowthCount","lastDate","LastWeight","undefined","LastWeightDay","FirstWeight","Object","keys","weight","Weight","now","getTime","isVirtual","Batch","TempGraph","GetCurve_FromBatch","graphs","BatchEndDate","Predict","CurvePredict","Now","_date","lastWeighing","Addition","setDate","days","tempEnd","date","Growth","GetStats_FromBatch","Closed","PenCount","CollectedWeight","CollectedGrowth","isClosed","TargetWeight","target","GetBatchEnd","PenEnds","reverse","e","Batch_Pen","Pen","closed","PenStats","AverageWeight","parseFloat","toFixed","AverageGrowth","GraphsStore","CurrentData","Garph","gcurve","curveId","Id","DataPoints","_index","map","TempCurve","currentTime","AccumulateTime","periode","Time","PeriodeLength","NewTime","setMonth","get_DataSpot_FromData","isNaN","Curve","WeighingTime","StartTime","EndTime","Keys","DataSpot","get_DataSpot","MinMax_Time","MinMax_Data","FindTime","Data","DataTime","ExValue","VirData","ExTime","slope","GetSlope_Between","FindX","Findx2","ExData","DataDiff","minX","maxX","minY","maxY","Weighing2","weight2","StartIndex","PredictCurve","CurrentTime","Temp_CurrentIndex","unshift","PredictStart","TempEx","FirstSpot","Temp_CurrentTime","CurrentIndex","WeightNow","auth","messaging","database","firebase","require","default","_firebase","apps","Constants","manifest","web","config","initializeApp","isSupported","isPermit_UserPermission","requestPermission","authStatus","enabled","AuthorizationStatus","AUTHORIZED","PROVISIONAL","requestUserPermission","is_getToken","fcmToken","getToken","requestFirebaseToken","token","wrappedAlert","title","message","okText","_cancelable","Alert","alert","text","onPress","cancelable","onDismiss","createFirebaseUserWithemailandpassword","Email","Pass","createUserWithEmailAndPassword","User","currentUser","Name","displayName","email","UserId","uid","_data","updateProfile","sendEmailVerification","catch","code","viewError","signinWithemailandpassword","logoutUser","signInWithEmailAndPassword","sendResetPassword","sendPasswordResetEmail","signOut","path","refreshUser","reload","ref","CurrentUser","createFarm","Farms","farmid","updateFarmData","FarmId","sections","Sections","Pens","updateUserData","UserData","farms","fetchFarm","updateFarm","fetchSections","fetchPens","createNewPen","deletePen","updatePen","fetchPigs","updatePigdata","fetchBatchs","createBatchs","updateBatchs","fetchWeights","createWeight","fetchComments","createComment","fetchGraphData","updateGraphData","SetUpdateTime","DataRef","update","update_time","ServerValue","TIMESTAMP","CheckDataTime","once","_Time","UpdateTime","val","List","userData","_farmData","farm","set","SectionId","DoFetch","_sectionidData","_pensData","penData","pen","ref2","section","_Pen","Datas","_pigsData","pigData","pig","updatePigPen","Action","counts","pigs","BatchId","_batchdata","batchdata","curve","devianceMin","devianceMax","BatchPens","JSON","stringify","RemovedPens","x","enddate","NewPens","SamePens","pendata","startdate","CurveId","comments","p","_","_resolve","setTimeout","weights","limitStart","limitTo","MemSections","orderByChild","limitToLast","snapshot","c","_weighingTime","Weighings_Time","itemsProcessed","newWeights","Quantity","weightRef","weightId","comment","commentRef","commentId","quantity","GraphId","graph","Graphs","GraphVal","newGraph","Agraph","AgraphVal","Graph","_Graph","firebaseService","Create_Axios","Acc_Token","Consys_ApiClient","getAccessToken","SiteUrl","Ref_Token","access_token","checkRenew_AccessToken","fetch_ValveConsumption","limit","starttime","stoptime","offset","lastid","Token","Feed_Data","ResData","result","consumptiondata","element","amount","dataid","valve","unit","silono","timestamp","fetch_AutoPig","Scale_Data","consysService","handleAuthState","handleActions","onMessageHandler","onBackgroundMessageHandler","disableYellowBox","onAuthStateChanged","authChannel","newAuth","firebaseUser","values","FirebaseUser","FarmsData","FarmData","site","refToken","Params","sysId","start","stop","lastId","feedData","scaleData","messageListener","onMessage","remoteMessage","onMessageChannel","notification","body","onNotificationOpenedApp","setBackgroundMessageHandler","root","all","takeLatest","STARTUP","StartupSaga","FETCH_USER","ExampleSaga","DEVICE_STARTUP","DeviceSaga","CONNECT_DEVICE","DISCONNECT_DEVICE","READ_DEVICE_DATA","FETCH_DEVICE","BLE_STARTUP","START_BLE_SCAN","STOP_BLE_SCAN","READ_BLE_DEVICE_DATA","BLUETOOTH_STARTUP","START_BLUETOOTH_SCAN","STOP_BLUETOOTH_SCAN","BLUETOOTH_SCAN_ABLE","READ_BLUE_DEVICE_DATA","FIREBASE_STARTUP","FirebaseSaga","INITIAL_STATE","userIsLoading","userErrorMessage","errorMessage","reducer","createReducer","FETCH_USER_LOADING","FETCH_USER_SUCCESS","FETCH_USER_FAILURE","PoweredOff","deviceIsLoading","deviceErrorMessage","DeviceList","deviceData","BLE_INITIAL_STATE","BLUETOOTH_INITIAL_STATE","HANDLERS","BLE_STATE_UPDATED","some","NewList","splice","newData","SET_DEVICE_ERROR","SCANNER_STATE_UPDATED","ADD_DEVICE","REMOVE_DEVICE","CLEAR_DEVICES","CONNECTED_DEVICE_UPDATED","CONNECTION_STATE_UPDATED","CONNECTION_METHODE_UPDATED","SET_DEVICE_DATA","UPDATE_DEVICE_DATA","BLEReducers","BluetoothReducers","firebaseErrorMessage","currentData","loadingstate","IDGenerate","substr","mergeDeep","source","isObject","obj","targetValue","sourceValue","Array","isArray","NewDataStore","NewFirebaseUser","_user","_auth","Values","users","consys","newlocalDataStore","_newState","append","FIREBASE_IS_LOADING","SET_FIREBASE_ERROR","SET_VIEW_ERROR","VIEW_IS_LOADING","SET_CURRENT_DATA","ACTION_STARTING","FETCH_STARTING","DATA_FETCH_SUCCESS","FETCH_SUCCESS","FETCH_FAILURE","combineReducers","example","ExampleReducer","DeviceReducer","FirebaseReducer","configureStore","transparent","white","gray","secountText","primary","success","overest","pigpink","input","AgriGreen","AgriDarkblue","AgriLightblue","AgriDark","size","h1","h2","h3","regular","medium","small","fontSize","normal","tiny","tinyBottomMargin","marginBottom","smallBottomMargin","bottomMargin","mediumBottomMargin","tinyVerticalMargin","marginVertical","smallVerticalMargin","verticalMargin","mediumVerticalMargin","tinyHorizontalMargin","marginHorizontal","smallHorizontalMargin","horizontalMargin","mediumHorizontalMargin","tinyHorizontalPadding","paddingHorizontal","smallHorizontalPadding","horizontalPadding","mediumHorizontalPadding","tinyVerticalPadding","paddingVertical","smallVerticalPadding","verticalPadding","mediumVerticalPadding","Home","DashBoard","System","Curves","GCurves","Sow","Section","AutoPig","Feed","Haxa_globe","Hexa_icon","Logo","logo","column","flexDirection","colMain","justifyContent","colCenter","alignItems","colCross","columnReverse","row","rowMain","rowCenter","rowCross","rowReverse","center","crossCenter","crossEnd","crossStart","crossStretch","fill","flex","fillCenter","fillCol","fillColCenter","fillColCross","fillColMain","fillColReverse","fillRow","fillRowCenter","fillRowCross","fillRowMain","fillRowReverse","fullSize","height","width","halvWidth","midWidth","fullWidth","mainCenter","mainEnd","mainSpaceAround","mainSpaceBetween","mainStart","mainContainer","Metrics","contentContainer","marginTop","borderContainer","borderWidth","borderColor","borderRadius","maxWidth","zIndex","textContainer","Fonts","buttonContainer","loadingContainer","position","left","right","top","bottom","backgroundColor","logoContainer","backgroundReset","Colors","rotate90","transform","rotate","rotate90Inverse","mirror","scaleX","scrollSpaceAround","flexGrow","scrollSpaceBetween","selfStretch","alignSelf","textCenter","textAlign","textJustify","textLeft","textRight","button","color","buttonText","navigationHeader","StyleSheet","container","SplashScreen","props","getInitialNotification","checkData","getData","prevProps","prevState","Helpers","Style","Images","Component","mapStateToProps","mapDispatchToProps","DeepLinkingScreen","Button","TextView","styles","textStyle","Text","ImageView","icon","_Image","iconStyle","boxContainer","boxStyle","buttonStyle","ApplicationStyles","Button_Panel","Texts","Buttons","image","itemStyle","style","TitleElement","CustomListItem","listitem","Title","Subtitle","ContentProp","texts","contentBox","textsStyle","datasStyle","view","dataRow","minHeight","Loading","loading","OperationsPanel","View","pigTag","PigsList","newPig","getPenAndSection","setCurrentPig","editPens","charAt","toUpperCase","newWeight","penId","newComment","newPigCount","setState","paddingRight","setCurrentDataElement","pigtag","dataId","countChange","ProgressBar","animation","useRef","Animated","Value","progress","Color","useEffect","timing","current","toValue","duration","interpolate","inputRange","outputRange","extrapolate","paddingBottom","alignContent","progressBar","absoluteFill","paddingTop","padding","monthNames","DateTime_Picker","getStates","year","month","day","Today","Selected","Year","Month","Day","forceUpdate","changed","YearItems","String","MonthItems","DayItems","minWidth","marginRight","_year","onValueChange","_month","_day","Comment_Module","onDone","Button1","Button2","useState","InputText","setInputText","QuantityText","setQuantityText","WeightText","setWeightText","App","textAreaContainer","marginLeft","textArea","FrontScreen","ShowMainError","FocusSubscription","Props","navigation","payload","setViewLoading","ErrorMessage","ele","liveInEurope","entries","europeanCities","city","instructions","fontStyle","ios","android","ExampleScreen","useDispatch","useSelector","deviceContainer","deviceDataContainer","text2","BLEButton","Active","ConnectedDevice_View","DeviceData","Unknown","DeviceScreen","Devices","Dev","StackNavigator","createStackNavigator","screen","Front","navigationOptions","headerMode","headerShown","headerTitleStyle","Example","initialRouteName","defaultNavigationOptions","headerTitleAlign","headerRight","PanelsSorter","userType","UserLoadingScreen","ISLOADPAGE","firebaseData","page","emailVerified","prev","getUser","IsLoading","clearDataMem","UserLoginScreen","CreateUser","signIN","resetPass","createUser","VerifyScreen","setUser","Verified","UserInformation","setData","FirstN","LastN","Contact","ContactP","Address","Country","lastN","contact","phoneNumber","F_FirstN","React","createRef","F_LastN","F_Contact","F_ContactP","F_Address","test","_UserData","phone","country","updateUser","OnDone","window","Dimensions","Subscription","dimensions","CurrentSub","Billing","addEventListener","onChange","removeEventListener","wide","fontWeight","FarmInformation","FarmName","Cvr","Manager","cvr","getFarm","_FarmData","_sections","_pens","i2","sectionPens","CreateNewUserData","ViewState","Display","precreateUserData","Subsc","LoadingUserScreen","LoginUser","LoginUserScreen","headerLeft","paddingLeft","CreateUserData","CreateUserDataScreen","logOut","Dashboard","Mail","SectionsList","BatchList","MaxCap","CurCap","farmName","farmManager","farmMail","Farm","BatchID","End","getSections","getPens","getBatch","getWeights","getCurve","FarmProgress","item","inputContainer","Pigs","PigTag","getPigs","connectedState","tagId","pigId","Device_Display","circle","Scanner_Display","known","Weighings","Mid","property","displayWeight","devianceValMin","devianceValMax","round","Batchs","items","xorBy","selectedPens","freePens","BatchName","ShowPicker","StartD","DevianceMin","DevianceMax","avaiblePens","add","batchName","_pen","itemValue","itemIndex","endsWith","split","onMultiChange","newBatch","updateBatch","_Date","setBatch","batchId","getRandomNumber","low","high","r","getRandomColor","red_range","green_range","blue_range","a_range","red","green","blue","alpha","g","rgbaValue","WeightsToGraphData","_EndDate","Prediction","DataSets","DoPredict","Legends","BatchPen","DataSet","DataSetX","dataX","opacity","CurveElement","Labels","ActiveIndex","ActiveLength","ActiveDataSets","ActiveStartDate","ActiveEndDate","ViewPoint","D","DataX","TempData","TempEndDate","NextEnd","TemplatePeriode","CurrentDate","TempActiveDataSet","getNewDate","last","setGraphPeriode","BatchIsOpen","Height","Width","point","maxHeight","labels","xMinMax","legend","datasets","backgroundGradientFrom","backgroundGradientTo","decimalPlaces","labelColor","propsForDots","strokeWidth","stroke","CurveEditor","TimeText","dataset","Point","setPoint","evt","control","getPen","curveid","setCurve","GrowthCurve","CurveList","CurveName","Periode","dataindex","CurveData","AppStyle","WebStyle","_Selected","FirstData","pop","nativeEvent","lastDataIndex","Eindex","newCurve","updateCurve","VictoryZoomVoronoiContainer","createContainer","ValveData","ScaleData","categories","series","Domain","SysId","STime","ETime","LastId","entireDomain","zoomedDomain","Site","accessToken","_DataSet","find","y","symbol","DataSet2","getEntireDomain","MinMax","minBy","d","maxBy","zoomedXDomain","Serie","maxPoints","filteredSeries","filtered","domain","renderData","getZoomDomain","getAutoPig","getValveFeed","onDomainChange","bind","datum","childName","DateTime","format","VictoryTheme","material","t","grid","deactivate","active","border","eventHandlers","onClick","mutation","findIndex","actionType","DataEditor","NewSection","DataView","PenEditor_View_Creator","PigEditor_View_Creator","Control","exists","penAction","PenEditor_Titles","CurrentAction","pigAction","Section_Picker","senctionId","DataDisplay_Pens","WeighingsList","CommentsList","Comments","object","MemTime","getComments","localDataStoree","pigcount","penWeight","batch_name","age","onPageSwipe","onDataPress","Comment","dir","sender","DataDisplay_Pigs","DataDisplay","PigData_View","Comments_List","batchData","PenMemTime","Dif_Time","Days","Virtual","ViewContainer","viewState","NaviParams","Menu","Main","borderRightWidth","ViewTransformer","NavComponent","WebViewer","UserFront","label","UserFrontScreen","UserDashBoardScreen","UserDashBoard","UserPigs","UserPigsScreen","UserPens","UserPensScreen","UserBatchs","UserBatchsScreen","UserCurves","UserCurvesScreen","AutoPigScreen","UserOperations","UserOperationsScreen","WeighingOperations","UserDataEditor","UserDataDisplay","DataPlotter","UserDataPlotter","UserListBoard","UserList","getUsers","SystemListBoard","FarmList","getFarms","setUserFarm","Tools","AdminFront","AdminFrontScreen","UserBoard","AdminUserBoard","SystemBoard","AdminSystemBoard","ToolsBoard","AdminTools","UserPanel","UserPanelNavigation","MainStack","FrontNavigation","AuthStack","AuthNavigation","AdminPanel","AdminPanelNavigator","createAppContainer","RootScreen","prefix","StartupActions"],"mappings":"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","file":"static/js/app.512a1d3c.chunk.js","sourcesContent":["import { Platform } from 'react-native'\r\n\r\nimport { applyMiddleware, compose, createStore } from 'redux'\r\nimport createSagaMiddleware from 'redux-saga'\r\nimport { persistReducer, persistStore, createTransform } from 'redux-persist'\r\n\r\nimport { NativeModules } from 'react-native'\r\nimport { BleManager, BleError, LogLevel } from 'react-native-ble-plx'\r\n\r\n//** fix: error serializing state TypeError: Converting circular structure to JSON  */\r\n// https://www.npmjs.com/package/jsog\r\n// https://www.npmjs.com/package/flatted\r\nimport JSOG from 'jsog';\r\nexport const JSOGTransform = createTransform(\r\n  (inboundState, key) => JSOG.encode(inboundState),\r\n  (outboundState, key) => JSOG.decode(outboundState),\r\n)\r\n\r\n/**\r\n * This import defaults to localStorage for web and AsyncStorage for react-native.\r\n *\r\n * Keep in mind this storage *is not secure*. Do not use it to store sensitive information\r\n * (like API tokens, private and sensitive data, etc.).\r\n *\r\n * If you need to store sensitive information, use redux-persist-sensitive-storage.\r\n * @see https://github.com/CodingZeal/redux-persist-sensitive-storage\r\n */\r\nimport storage from 'redux-persist/lib/storage'\r\n\r\nconst persistConfig = {\r\n  key: 'root',\r\n  storage: storage,\r\n  transforms: [JSOGTransform],\r\n  /**\r\n   * Blacklist state that we do not need/want to persist\r\n   */\r\n  blacklist: [\r\n    // 'auth',\r\n  ],\r\n}\r\n\r\nexport default (rootReducer, rootSaga) => {\r\n  const middleware = []\r\n  const enhancers = []\r\n\r\n  // Connect the sagas to the redux store\r\n  const sagaMiddleware = createSagaMiddleware()\r\n  middleware.push(sagaMiddleware)\r\n\r\n  enhancers.push(applyMiddleware(...middleware))\r\n\r\n  // Redux persist\r\n  const persistedReducer = persistReducer(persistConfig, rootReducer)\r\n\r\n  const store = createStore(persistedReducer, compose(...enhancers))\r\n  const persistor = persistStore(store)\r\n\r\n  if (Platform.OS === 'ios' || Platform.OS === 'android') {\r\n    // First step is to create BleManager which should be used as an entry point\r\n    // to all BLE related functionalities\r\n    const blemanager = new BleManager();\r\n    blemanager.setLogLevel(LogLevel.Verbose);\r\n\r\n    const bluemanager = NativeModules.BlueToothControl;\r\n\r\n    // SagaArgs Construcktor\r\n    const sagaArgs = {BLEManager: blemanager, BlueManager: bluemanager}\r\n\r\n    // Kick off the root saga\r\n    sagaMiddleware.run(rootSaga, sagaArgs)\r\n  }else {\r\n    sagaMiddleware.run(rootSaga)\r\n  }\r\n  \r\n  return { store, persistor }\r\n}\r\n","import { createActions } from 'reduxsauce'\r\n\r\nconst { Types, Creators } = createActions({\r\n  // This action is triggered when the application starts\r\n  startup: null,\r\n})\r\n\r\nexport const StartupTypes = Types\r\nexport default Creators\r\n","import { createActions } from 'reduxsauce'\r\n\r\n/**\r\n * We use reduxsauce's `createActions()` helper to easily create redux actions.\r\n *\r\n * Keys are action names and values are the list of parameters for the given action.\r\n *\r\n * Action names are turned to SNAKE_CASE into the `Types` variable. This can be used\r\n * to listen to actions:\r\n *\r\n * - to trigger reducers to update the state, for example in App/Stores/Example/Reducers.js\r\n * - to trigger sagas, for example in App/Sagas/index.js\r\n *\r\n * Actions can be dispatched:\r\n *\r\n * - in React components using `dispatch(...)`, for example in App/App.js\r\n * - in sagas using `yield put(...)`, for example in App/Sagas/ExampleSaga.js\r\n *\r\n * @see https://github.com/infinitered/reduxsauce#createactions\r\n */\r\nconst { Types, Creators } = createActions({\r\n  // Fetch user informations\r\n  fetchUser: null,\r\n  // The operation has started and is loading\r\n  fetchUserLoading: null,\r\n  // User informations were successfully fetched\r\n  fetchUserSuccess: ['user'],\r\n  // An error occurred\r\n  fetchUserFailure: ['errorMessage'],\r\n})\r\n\r\nexport const ExampleTypes = Types\r\nexport default Creators\r\n","import { createActions } from 'reduxsauce'\r\n\r\n/**\r\n * We use reduxsauce's `createActions()` helper to easily create redux actions.\r\n *\r\n * Keys are action names and values are the list of parameters for the given action.\r\n *\r\n * Action names are turned to SNAKE_CASE into the `Types` variable. This can be used\r\n * to listen to actions:\r\n *\r\n * - to trigger reducers to update the state, for example in App/Stores/Example/Reducers.js\r\n * - to trigger sagas, for example in App/Sagas/index.js\r\n *\r\n * Actions can be dispatched:\r\n *\r\n * - in React components using `dispatch(...)`, for example in App/App.js\r\n * - in sagas using `yield put(...)`, for example in App/Sagas/ExampleSaga.js\r\n *\r\n * @see https://github.com/infinitered/reduxsauce#createactions\r\n */\r\nconst { Types, Creators } = createActions({\r\n  bleStartup: null,\r\n  bleStateUpdated: ['bleState'],\r\n\r\n  startBleScan: null,\r\n  stopBleScan: null,\r\n\r\n  readBleDeviceData: null,\r\n})\r\n\r\nexport const BleTypes = Types\r\nexport default Creators","import { createActions } from 'reduxsauce'\r\n\r\n/**\r\n * We use reduxsauce's `createActions()` helper to easily create redux actions.\r\n *\r\n * Keys are action names and values are the list of parameters for the given action.\r\n *\r\n * Action names are turned to SNAKE_CASE into the `Types` variable. This can be used\r\n * to listen to actions:\r\n *\r\n * - to trigger reducers to update the state, for example in App/Stores/Example/Reducers.js\r\n * - to trigger sagas, for example in App/Sagas/index.js\r\n *\r\n * Actions can be dispatched:\r\n *\r\n * - in React components using `dispatch(...)`, for example in App/App.js\r\n * - in sagas using `yield put(...)`, for example in App/Sagas/ExampleSaga.js\r\n *\r\n * @see https://github.com/infinitered/reduxsauce#createactions\r\n */\r\nconst { Types, Creators } = createActions({\r\n  bluetoothStartup: null,\r\n\r\n  startBluetoothScan: null,\r\n  stopBluetoothScan: null,\r\n  \r\n  bluetoothScanAble: null,\r\n\r\n  readBlueDeviceData: null,\r\n})\r\n\r\nexport const BluetoothTypes = Types\r\nexport default Creators","import { createActions } from 'reduxsauce'\r\n\r\nimport BleCreators, {BleTypes} from './BLE/Actions'\r\nimport BlueToothCreators, {BluetoothTypes} from './BlueTooth/Actions'\r\n\r\n/**\r\n * We use reduxsauce's `createActions()` helper to easily create redux actions.\r\n *\r\n * Keys are action names and values are the list of parameters for the given action.\r\n *\r\n * Action names are turned to SNAKE_CASE into the `Types` variable. This can be used\r\n * to listen to actions:\r\n *\r\n * - to trigger reducers to update the state, for example in App/Stores/Example/Reducers.js\r\n * - to trigger sagas, for example in App/Sagas/index.js\r\n *\r\n * Actions can be dispatched:\r\n *\r\n * - in React components using `dispatch(...)`, for example in App/App.js\r\n * - in sagas using `yield put(...)`, for example in App/Sagas/ExampleSaga.js\r\n *\r\n * @see https://github.com/infinitered/reduxsauce#createactions\r\n */\r\nconst { Types, Creators } = createActions({\r\n  //Device Saga\r\n  deviceStartup: null,\r\n  setDeviceError: ['errorMessage'], // Device-saga error occurred\r\n\r\n  scannerStateUpdated: ['scannerState'],\r\n\r\n  addDevice: ['device'],\r\n  removeDevice: ['device'],\r\n  clearDevices: null,\r\n\r\n  connectedDeviceUpdated: ['connectedDevice'], \r\n\r\n  connectionStateUpdated: ['connectionState'],\r\n  connectionMethodeUpdated: ['connectionMethode'],\r\n\r\n  setDeviceData: ['data'],\r\n  updateDeviceData: ['data'],\r\n\r\n  connectDevice: ['device'],\r\n  disconnectDevice: ['methode'],\r\n  readDeviceData: null,\r\n\r\n  fetchDevice: null, // Fetch device informations\r\n})\r\n\r\nexport const DeviceTypes = {...Types, ...BleTypes, ...BluetoothTypes}\r\nexport default {...Creators, ...BleCreators, ...BlueToothCreators}","import { createActions } from 'reduxsauce'\r\n\r\n/**\r\n * We use reduxsauce's `createActions()` helper to easily create redux actions.\r\n *\r\n * Keys are action names and values are the list of parameters for the given action.\r\n *\r\n * Action names are turned to SNAKE_CASE into the `Types` variable. This can be used\r\n * to listen to actions:\r\n *\r\n * - to trigger reducers to update the state, for example in App/Stores/Example/Reducers.js\r\n * - to trigger sagas, for example in App/Sagas/index.js\r\n *\r\n * Actions can be dispatched:\r\n *\r\n * - in React components using `dispatch(...)`, for example in App/App.js\r\n * - in sagas using `yield put(...)`, for example in App/Sagas/ExampleSaga.js\r\n *\r\n * @see https://github.com/infinitered/reduxsauce#createactions\r\n */\r\nconst { Types, Creators } = createActions({\r\n  //Firebase Saga events\r\n  firebaseStartup: null,\r\n  //Firebase Saga and service\r\n  firebaseIsLoading: ['loadingstate'],\r\n  setFirebaseError: ['errorMessage'], // Firebase-saga error occurred\r\n\r\n  setViewError: ['errorMessage'], // view error\r\n  viewIsLoading: ['loadingstate'],\r\n  \r\n  setCurrentData: ['data'],\r\n\r\n  //Firebase Data fetches\r\n  actionStarting: ['action', 'ref', 'params'], // Data action (create, singin, share)\r\n  fetchStarting: ['action', 'ref', 'params'], // Fetch data informations\r\n  dataFetchSuccess: ['params'],\r\n  fetchSuccess: ['data'], // Informations were successfully fetched\r\n  fetchFailure: ['errorMessage'], // An error occurred\r\n})\r\n\r\nexport const FirebaseTypes = {...Types }\r\nexport default {...Creators }","import React from 'react'\r\nimport { BackHandler } from 'react-native'\r\nimport { NavigationActions, StackActions } from 'react-navigation'\r\n\r\n/**\r\n * The navigation is implemented as a service so that it can be used outside of components, for example in sagas.\r\n *\r\n * @see https://reactnavigation.org/docs/en/navigating-without-navigation-prop.html\r\n */\r\n\r\nlet navigator\r\nvar LastPage\r\n/**\r\n * This function is called when the RootScreen is created to set the navigator instance to use.\r\n */\r\nfunction setTopLevelNavigator(navigatorRef) {\r\n  navigator = navigatorRef\r\n\r\n  /*BackHandler.addEventListener('hardwareBackPress', () => {\r\n    console.log(navigator._navigation)\r\n    if (navigator && navigator._navigation && navigator._navigation.state) {\r\n      var Stackindex = navigator._navigation.state.index\r\n      var Stack = navigator._navigation.state.routes[Stackindex]\r\n      if (Stack.routes){\r\n        var index = Stack.index;\r\n        var routeName = Stack.routes[index].routeName;\r\n        if (routeName === 'UserFront' || routeName === 'LoginUser'){\r\n          navigator.dispatch(\r\n            NavigationActions.back()\r\n          )\r\n          //navigate('FrontScreen');\r\n          //return true;\r\n        }\r\n      }\r\n    }\r\n  });*/\r\n}\r\n\r\nfunction replace(routeName, params){\r\n  //if (LastPage === routeName) return null\r\n  //else {\r\n    LastPage = routeName;\r\n    navigator.dispatch(\r\n      StackActions.replace({\r\n        routeName,\r\n        params,\r\n      })\r\n    )\r\n  //}\r\n}\r\n\r\n/**\r\n * Call this function when you want to navigate to a specific route.\r\n *\r\n * @param routeName The name of the route to navigate to. Routes are defined in RootScreen using createStackNavigator()\r\n * @param params Route parameters.\r\n */\r\nfunction navigate(routeName, params) {\r\n  //if (LastPage === routeName) return null\r\n  //else {\r\n    LastPage = routeName;\r\n    navigator.dispatch(\r\n      NavigationActions.navigate({\r\n        routeName,\r\n        params,\r\n      })\r\n    )\r\n  //}\r\n}\r\n\r\n/**\r\n * Call this function when you want to navigate to a specific route AND reset the navigation history.\r\n *\r\n * That means the user cannot go back. This is useful for example to redirect from a splashscreen to\r\n * the main screen: the user should not be able to go back to the splashscreen.\r\n *\r\n * @param routeName The name of the route to navigate to. Routes are defined in RootScreen using createStackNavigator()\r\n * @param params Route parameters.\r\n */\r\nfunction navigateAndReset(routeName, params) {\r\n  //if (LastPage === routeName) return null\r\n  //else {\r\n    LastPage = routeName;\r\n    navigator.dispatch(\r\n      StackActions.reset({\r\n        index: 0,\r\n        key: null,\r\n        actions: [\r\n          NavigationActions.navigate({\r\n            routeName,\r\n            params,\r\n          }),\r\n        ],\r\n      })\r\n    )\r\n  //}\r\n}\r\n\r\nfunction nacigationPop() {\r\n  LastPage = \"\";\r\n  navigator.dispatch(NavigationActions.back())\r\n}\r\n\r\nexport default {\r\n  navigate,\r\n  replace,\r\n  navigateAndReset,\r\n  setTopLevelNavigator,\r\n  nacigationPop,\r\n}\r\n","import { Platform } from 'react-native';\r\n\r\nimport { put, call } from 'redux-saga/effects'\r\n\r\nimport NavigationService from '../Services/NavigationService'\r\n\r\nimport ExampleActions from '../Stores/Example/Actions'\r\nimport DeviceActions from '../Stores/Device/Actions'\r\nimport FirebaseActions from '../Stores/Firebase/Actions'\r\n\r\n/**\r\n * The startup saga is the place to define behavior to execute when the application starts.\r\n */\r\nexport function* startup() {\r\n  // Dispatch a redux action using `put()`\r\n  // @see https://redux-saga.js.org/docs/basics/DispatchingActions.html\r\n  console.log(\"Starting sagas\")\r\n  \r\n  // Add more operations you need to do at startup here\r\n  //yield put(ExampleActions.fetchUser())\r\n  if (Platform.OS === 'ios' || Platform.OS === 'android') {\r\n    yield put(DeviceActions.deviceStartup())\r\n  }\r\n  yield put(FirebaseActions.firebaseStartup())\r\n\r\n  // When those operations are finished we redirect to the main screen\r\n  NavigationService.navigateAndReset('MainStack')\r\n}\r\n","const HTTPS_START = 'https://';\r\nexport const Config = {\r\n  API_URL: HTTPS_START+ 'jsonplaceholder.typicode.com/users/',\r\n\r\n  CONSYS_CLIENT_ID: 'consysapp',\r\n  CONSYS_CLIENT_SECRET: 'Kjsd832n8DIO32kmsdds3',\r\n  CONSYS_AUTH: '.agrisys.cloud/oauthserver/getaccesstoken/?redirect_uri=urn:ietf:wg:oauth:2.0:oob',\r\n  CONSYS_API: '.agrisys.cloud/consys-api-v1/',\r\n}\r\n\r\nexport function GetToken_URL(Site_URL, Refresh_Token) {\r\n  var res = HTTPS_START + Site_URL + Config.CONSYS_AUTH\r\n  res = res + '&client_id='+Config.CONSYS_CLIENT_ID+'&client_secret='+Config.CONSYS_CLIENT_SECRET+'&refresh_token=' + Refresh_Token\r\n  return res;\r\n}\r\n\r\nexport function GetCheckToken_URL(Site_URL) {\r\n  var res = HTTPS_START + Site_URL + Config.CONSYS_API + 'checkaccesstoken'\r\n  return res;\r\n}\r\n\r\nexport function GetConsumtion_URL(Site_URL) {\r\n  var res = HTTPS_START + Site_URL + Config.CONSYS_API + 'getconsumptiondata?'\r\n  return res;\r\n}\r\n\r\nexport function GetConsumtionData_URL(Site_URL, Consumptiontype, SystemId, Offset=null, Limit=null, Starttime=null, Stoptime=null, Lastid=null){\r\n  var res = GetConsumtion_URL(Site_URL)\r\n  res = res + GetConsumtionData_Var(Consumptiontype, SystemId, Offset, Limit, Starttime, Stoptime, Lastid)\r\n  return res;\r\n}\r\n\r\nexport function GetConsumtionData_Var(Consumptiontype, SystemId, Offset=null, Limit=null, Starttime=null, Stoptime=null, Lastid=null){\r\n  var res = 'consumptiontype=' + Consumptiontype + '&systemid=' + SystemId;\r\n  if (Offset) res = res + '&offset=' + Offset;\r\n  if (Limit) res = res + '&limit=' + Limit;\r\n  if (Starttime) res = res + '&starttime=' + Starttime;\r\n  if (Stoptime) res = res + '&stoptime=' + Stoptime;\r\n  if (Lastid) res = res + '&lastid=' + Lastid;\r\n  return res;\r\n}","import axios from 'axios'\r\nimport { Config } from '../Config'\r\nimport { is, curryN, gte } from 'ramda'\r\n\r\nconst isWithin = curryN(3, (min, max, value) => {\r\n  const isNumber = is(Number)\r\n  return isNumber(min) && isNumber(max) && isNumber(value) && gte(value, min) && gte(max, value)\r\n})\r\nconst in200s = isWithin(200, 299)\r\n\r\n/**\r\n * This is an example of a service that connects to a 3rd party API.\r\n *\r\n * Feel free to remove this example from your application.\r\n */\r\nconst userApiClient = axios.create({\r\n  /**\r\n   * Import the config from the App/Config/index.js file\r\n   */\r\n  baseURL: Config.API_URL,\r\n  headers: {\r\n    Accept: 'application/json',\r\n    'Content-Type': 'application/json',\r\n  },\r\n  timeout: 3000,\r\n})\r\n\r\nfunction fetchUser() {\r\n  // Simulate an error 50% of the time just for testing purposes\r\n  console.log(\"user fetch test\");\r\n  if (Math.random() > 0.5) {\r\n    return new Promise((resolve, reject) => {\r\n      console.log(\"error\");\r\n      resolve(null)\r\n    })\r\n  }\r\n\r\n  const number = Math.floor(Math.random() / 0.1) + 1\r\n\r\n  return userApiClient.get(number.toString()).then((response) => {\r\n    if (in200s(response.status)) {\r\n      return response.data\r\n    }\r\n\r\n    return null\r\n  })\r\n}\r\n\r\nexport const userService = {\r\n  fetchUser,\r\n}\r\n","import { put, call } from 'redux-saga/effects'\r\n\r\nimport ExampleActions from '../../Stores/Example/Actions'\r\nimport { userService } from '../../Services/UserService'\r\n\r\n/**\r\n * A saga can contain multiple functions.\r\n *\r\n * This example saga contains only one to fetch fake user informations.\r\n * Feel free to remove it.\r\n */\r\nexport function* fetchUser() {\r\n  // Dispatch a redux action using `put()`\r\n  // @see https://redux-saga.js.org/docs/basics/DispatchingActions.html\r\n  yield put(ExampleActions.fetchUserLoading())\r\n\r\n  // Fetch user informations from an API\r\n  const user = yield call(userService.fetchUser)\r\n  if (user) {\r\n    yield put(ExampleActions.fetchUserSuccess(user))\r\n  } else {\r\n    yield put(\r\n      ExampleActions.fetchUserFailure('There was an error while fetching user informations.')\r\n    )\r\n  }\r\n}\r\n","import { Platform, PermissionsAndroid } from 'react-native'\r\nimport { Config } from '../Config'\r\n\r\nasync function isPermit_Android() {\r\n  if (Platform.OS === 'android' && Platform.Version >= 23) {\r\n    const Have_Coarse_Location = await PermissionsAndroid.check(PermissionsAndroid.PERMISSIONS.ACCESS_COARSE_LOCATION);\r\n   if (!Have_Coarse_Location) {\r\n      const Got_Access = await PermissionsAndroid.request(PermissionsAndroid.PERMISSIONS.ACCESS_COARSE_LOCATION);\r\n      if (Got_Access !== PermissionsAndroid.RESULTS.GRANTED) {\r\n        console.log(\"No Ble Permission granted : Android\");\r\n        return false;\r\n      }\r\n    }\r\n  }\r\n  return true;\r\n}\r\n\r\nfunction isBlePermitted() {\r\n  return new Promise((resolve, reject) => {\r\n    if (Platform.OS === 'android' && Platform.Version >= 23) {\r\n      if (!isPermit_Android()){\r\n        resolve('This application needs premissions to be using BLE');\r\n      }\r\n    }\r\n    resolve(null)\r\n  })\r\n}\r\n\r\nexport const deviceService = {\r\n  isBlePermitted,\r\n  //isPermit_Android,\r\n}\r\n","export const ScannerState = {\r\n  IDLE: 'IDLE',\r\n  AVAILABLE: 'AVAILABLE',\r\n  SCANNING: 'SCANNING',\r\n};\r\n\r\nexport const ConnectionState = {\r\n  DISCONNECTED: 'DISCONNECTED',\r\n  CONNECTING: 'CONNECTING',\r\n  DISCOVERING: 'DISCOVERING',\r\n  CONNECTED: 'CONNECTED',\r\n  DISCONNECTING: 'DISCONNECTING',\r\n};\r\n\r\nexport const ConnectionMethode = {\r\n  NONE: 'NONE',\r\n  BLE: 'BLE',\r\n  SERIAL: 'SERIAL',\r\n  BLUETOOTH: 'BLUETOOTH',\r\n  WIFI: 'WIFI',\r\n};","import {buffers, eventChannel} from 'redux-saga'\r\nimport { put, call, fork, take, cancelled, cancel, actionChannel, race, select } from 'redux-saga/effects'\r\nimport base64 from 'react-native-base64'\r\nimport { Buffer } from 'buffer'\r\n\r\nimport DeviceActions from '../../../Stores/Device/Actions'\r\nimport { deviceService } from '../../../Services/DeviceService'\r\n\r\nimport BleActions from '../../../Stores/Device/BLE/Actions'\r\n\r\nimport { ScannerState, ConnectionState, ConnectionMethode } from '../../../Stores/Device/Selectors'\r\n\r\nimport { BleManager, BleError, Device, State, Service, Characteristic, Descriptor } from 'react-native-ble-plx'\r\n\r\nexport function* bleStartup(sagaArgs) {\r\n  //Check and setup BLE....\r\n  const permitError = yield call(deviceService.isBlePermitted)\r\n  if (permitError) {\r\n    yield put( DeviceActions.setDeviceError(permitError))\r\n  } else {\r\n    // All below generators are described below...\r\n    yield fork(handleScanning, sagaArgs.BLEManager)\r\n    yield fork(handleBleState, sagaArgs.BLEManager)\r\n    yield fork(handleConnection, sagaArgs.BLEManager)\r\n  }\r\n  \r\n  console.log('BLE Startup : Done');\r\n}\r\n\r\n// This generator tracks our BLE state. Based on that we can enable scanning, get rid of devices etc.\r\n// eventChannel allows us to wrap callback based API which can be then conveniently used in sagas.\r\nfunction* handleBleState(manager: BleManager) {\r\n  console.log(\"Handle BLE State...\")\r\n\r\n  const stateChannel = yield eventChannel((emit) => {\r\n    const subscription = manager.onStateChange((state) => {\r\n      emit(state)\r\n    }, true)\r\n    return () => {\r\n      subscription.remove()\r\n    };\r\n  }, buffers.expanding(1))\r\n\r\n  try {\r\n    for (;;) {\r\n      const newState = yield take(stateChannel)\r\n      console.log(\"New BLE state: \" + newState)\r\n      yield put(BleActions.bleStateUpdated(newState))\r\n    }\r\n  } finally {\r\n    if (yield cancelled()) {\r\n      stateChannel.close()\r\n    }\r\n  }\r\n}\r\n\r\nexport function* connectBle(device: Device) {\r\n  //dummy function\r\n}\r\n\r\nfunction* handleConnection(manager: BleManager) {\r\n  console.log(\"Handle BLE Connection...\")\r\n  \r\n  for (; ;) {\r\n    // Take action\r\n    var { device }: ConnectAction = yield take('CONNECT_DEVICE');\r\n\r\n    var connectionMethode: $Keys<typeof ConnectionMethode> = yield select((state) => state.device.connectionMethode)\r\n    if (connectionMethode != ConnectionMethode.BLE) continue;\r\n\r\n    var connectedDevice = yield select((state) => state.device.connectedDevice)\r\n    //if (connectedDevice != null) return;  // TODO: Allready connected ? if problem\r\n\r\n    if (device === null || device._manager === null) {\r\n      yield put(DeviceActions.setDeviceError(\"Could not find device..\"));\r\n      yield put(DeviceActions.connectionStateUpdated(ConnectionState.DISCONNECTED));\r\n      return;\r\n    }\r\n    if (device.isConnected()) {\r\n      console.log(\"is connected ??\");\r\n    }\r\n    console.log(\"Connect device\");\r\n\r\n    try {\r\n      const disconnectedChannel = yield eventChannel((emit) => {\r\n          const subscription = device.onDisconnected((error) => {\r\n            emit({ type: 'DISCONNECT_DEVICE', error: error });\r\n          });\r\n        return () => {\r\n          subscription.remove();\r\n        };\r\n      }, buffers.expanding(1));\r\n    \r\n      const deviceActionChannel = yield actionChannel([\r\n        'DISCONNECT_DEVICE',\r\n      ]);\r\n\r\n      try {\r\n        yield put(DeviceActions.connectionStateUpdated(ConnectionState.CONNECTING));\r\n        yield call([device, device.connect]);\r\n        yield put(DeviceActions.connectionStateUpdated(ConnectionState.DISCOVERING));\r\n        yield call([device, device.discoverAllServicesAndCharacteristics]);\r\n        yield put(DeviceActions.connectionStateUpdated(ConnectionState.CONNECTED));\r\n        yield put(DeviceActions.connectionMethodeUpdated(ConnectionMethode.BLE));\r\n\r\n        yield put(DeviceActions.connectedDeviceUpdated(device));\r\n\r\n        var _device = device;\r\n\r\n        yield fork(readBleDeviceData, manager)\r\n\r\n        for (; ;) {\r\n          const { deviceAction, disconnected } = yield race({\r\n            deviceAction: take(deviceActionChannel),\r\n            disconnected: take(disconnectedChannel),\r\n          });\r\n\r\n          if (deviceAction) {\r\n            if (deviceAction.type === 'DISCONNECT_DEVICE') {\r\n              console.log('Disconnected by user...');\r\n              yield call([_device, _device.cancelConnection]);\r\n              yield put(DeviceActions.connectionStateUpdated(ConnectionState.DISCONNECTING));\r\n              //TODO: search for lost \"connected\" device..\r\n              break;\r\n            }\r\n          } else if (disconnected) {\r\n            console.log('Disconnected by device...');\r\n            if (disconnected.error != null) {\r\n              console.log(\"Error \", disconnected.error);\r\n            }\r\n            break;\r\n          }\r\n        }\r\n      } catch (error) {\r\n        /*yield put(\r\n            DeviceActions.setDeviceError(error)\r\n        )*/\r\n      } finally {\r\n        disconnectedChannel.close();\r\n        yield put(DeviceActions.connectedDeviceUpdated(null))\r\n        yield put(DeviceActions.connectionStateUpdated(ConnectionState.DISCONNECTED));\r\n      }\r\n    } catch (error) {\r\n      console.log('Error on device actions...');\r\n      yield put(DeviceActions.removeDevice(device));\r\n      yield put(DeviceActions.connectionStateUpdated(ConnectionState.DISCONNECTING));\r\n    }\r\n  }\r\n}\r\n\r\nexport function* readBleDeviceData(manager: BleManager) {\r\n  // TODO: read service .... se Tests SensorTag-master project ... or try following\r\n  // or https://stackoverflow.com/questions/50137867/send-data-using-react-native-ble-plx-package\r\n  // or https://github.com/Polidea/react-native-ble-plx/issues/392\r\n  // or https://stackoverflow.com/questions/63012926/how-to-read-ble-peripheral-characteristics-in-react-native-using-react-native-bl\r\n  \r\n  // Better jet: https://www.polidea.com/blog/ReactNative_and_Bluetooth_to_An_Other_level/\r\n\r\n  \r\n  // Explanation of plx ble.. notify changes for characteristics and reading / writing\r\n  //https://github.com/Polidea/react-native-ble-plx/wiki/Characteristic-Notifying\r\n  //https://github.com/Polidea/react-native-ble-plx/wiki/Characteristic-Reading\r\n  \r\n  const KnownUUIDS = [\r\n    '0000fff0-0000-1000-8000-00805f9b34fb', //* BF-8 EarTag reader Service's\r\n    '0000fff1-0000-1000-8000-00805f9b34fb',\r\n\r\n    '0000180f-0000-1000-8000-00805f9b34fb', //* Battery service (General BLE)\r\n    '00002a19-0000-1000-8000-00805f9b34fb',\r\n  ];\r\n\r\n  var device: Device = yield select((state) => state.device.connectedDevice)\r\n  if (device === null) return;\r\n\r\n  const _services: Array<Service> = yield call([device, device.services]);\r\n  const serviceUUIDs = device.serviceUUIDs;\r\n\r\n  const services: Array<Service> = _services.filter(service => serviceUUIDs.includes(service.uuid))\r\n\r\n  var monitor = [];\r\n\r\n  for (const service of services) {\r\n    console.log('Device had service: ' + service.uuid);\r\n\r\n    const characteristics: Array<Characteristic> = yield call([service, service.characteristics]);\r\n    for (const characteristic of characteristics) {\r\n      console.log('  characteristic: ' + characteristic.uuid);\r\n\r\n      if (KnownUUIDS.includes(service.uuid) && KnownUUIDS.includes(characteristic.uuid)) {\r\n        monitor.push([service.uuid, characteristic.uuid])\r\n      }\r\n    }\r\n  }\r\n\r\n  //const services: Array<Service> = yield call([device, device.services]);\r\n  //TODO: merch with KnownUUIDS and withouth monitor.. (append services)\r\n  /*for (const service of services) {\r\n    console.log('Found service: ' + service.uuid);\r\n\r\n    const characteristics: Array<Characteristic> = yield call([service, service.characteristics]);\r\n    for (const characteristic of characteristics) {\r\n      const descriptors: Array<Descriptor> = yield call([characteristic, characteristic.descriptors]);\r\n\r\n      for (const descriptor of descriptors) {\r\n        //Can contain value...\r\n        console.log('* Found descriptor: ' + descriptor.uuid);\r\n        const d: Descriptor = yield call([descriptor, descriptor.read]);\r\n        console.log('  ** Descriptor value: ' + (d.value || 'null'));\r\n\r\n        //yield call([descriptor, descriptor.write], 'AAA=');\r\n      }\r\n      if (characteristic.isReadable) {\r\n        //Can contain value...\r\n        var c = yield call([characteristic, characteristic.read]);\r\n        console.log('? characteristic: ' + characteristic.uuid);\r\n        if (characteristic.isNotifiable) {\r\n          console.log('  Is Notifiable');\r\n        }\r\n        //var basevalue = base64.decode(c.value);\r\n        //basevalue = basevalue.charCodeAt(0);\r\n        console.log('  ** Got base64 value: ' + c.value);\r\n        //if (characteristic.isWritableWithResponse) {\r\n      }\r\n    }\r\n  }*/\r\n\r\n  const readingChannel = yield eventChannel((emit) => {\r\n    monitor.forEach((service, i) => {\r\n      device.monitorCharacteristicForService(\r\n        service[0], service[1],\r\n        (error, characteristic) => {\r\n          if (error) {\r\n            emit([error, characteristic]);\r\n            return;\r\n          }\r\n          // ************************\r\n          if (characteristic != null) {\r\n            emit([error, characteristic]);\r\n          }\r\n          // *************************\r\n        },\r\n      );\r\n    });\r\n    \r\n    return () => {\r\n      // ****\r\n    };\r\n  }, buffers.expanding(1));\r\n\r\n  try {\r\n    // Used to receive multiple data packets\r\n    var TempData_Reading = Buffer.from([]);\r\n    var length = 0;\r\n    var PacketId = 0;\r\n\r\n    for (; ;) {\r\n      if (readingChannel != null) {\r\n        const [error, characteristic] = yield take(readingChannel);\r\n        if (error != null) {\r\n          yield put(DeviceActions.setDeviceError(error))\r\n        }\r\n        if (characteristic != null) {\r\n          //console.log(characteristic.uuid);\r\n          // Handler for Battery state Change\r\n          if (characteristic.uuid == \"00002a19-0000-1000-8000-00805f9b34fb\") {\r\n            var BatteryLevel = base64.decode(characteristic.value);\r\n            BatteryLevel = BatteryLevel.charCodeAt(0);\r\n            yield put(DeviceActions.updateDeviceData({Battery: BatteryLevel}))\r\n          } \r\n          // Handler for BF-8 EarTag reader Data\r\n          else if (characteristic.uuid == \"0000fff1-0000-1000-8000-00805f9b34fb\") {\r\n            //console.log(\"Raw \", characteristic.value);                        //Display data raw\r\n            var RawData = Buffer.from(characteristic.value, 'base64');    \r\n            //console.log(\"Base64 Decoded Buffer: \", RawData)               //Display data base64 decoded\r\n            //console.log(\"ascii: \", RawData.toString('ascii'));            //Display string\r\n\r\n            if (PacketId === 0) {                                         // If no data is processing (New Data read)\r\n              var header = RawData.slice(0,4)\r\n              if (Buffer.compare(header, Buffer.from([170,170,170,170])) == 0) {  // Data Read header [AA AA AA AA / -1431655766]\r\n                length = (parseInt(RawData.slice(4,8).toString(\"hex\"), 16) - 8)   // Next int is the data length (-8 for PacketId 8 bit)\r\n                PacketId = parseInt(RawData.slice(8,12).toString(\"hex\"), 16)      // Packet type id [Recv RFID Packet / Recv Fat Layers ID] = [251658240 / 2315255808]\r\n                RawData = RawData.slice(12,RawData.length)                        // Last of packet is filled with data\r\n\r\n                //console.log(\"Id = \", PacketId);\r\n                //console.log(\"data length = \", length);\r\n              }\r\n            }\r\n\r\n            var NewData = Buffer.concat([TempData_Reading, RawData])     // else append data string\r\n            //console.log(\"NewData: \", NewData);\r\n            //console.log(\"NewData base64: \", NewData.toString('base64'));\r\n            //console.log(\"ascii: \", NewData.toString('ascii'));\r\n            \r\n            //console.log(\"new length \", (NewData.length * 8));\r\n            if (NewData.length < 4 || Buffer.compare(NewData.slice(NewData.length -4, NewData.length), Buffer.from([85,85,85,85])) != 0) { // Data Read End [55 55 55 55]\r\n              TempData_Reading = NewData;\r\n            }\r\n            else {\r\n              while (NewData.length * 8 > length || Buffer.compare(NewData.slice(NewData.length-1, NewData.length), Buffer.from([85])) == 0){\r\n                NewData = NewData.slice(0, NewData.length -1)\r\n              }\r\n              if (PacketId == 251658240) { // Recv RFID Packet\r\n                var TagId = NewData.toString('ascii')\r\n                TagId = TagId.slice(0,3) + \"-\" + TagId.slice(3,TagId.length)\r\n                console.log(\"Read Tag: \", TagId);\r\n                yield put(DeviceActions.updateDeviceData({tagid: TagId, FatLayers: 0, FatL1: 0, FatL2: 0, FatL3: 0}))\r\n              } \r\n              else if (PacketId == 2315255808) { //Recv Fat Layers ID\r\n                console.log(\"Fat done\");\r\n                var layers = parseInt(NewData.slice(0,1).toString(\"hex\"), 16);    // First byte is Layer count\r\n                var layer1 = parseInt(NewData.slice(3,4).toString(\"hex\"), 16);    // 4th. byte is layer one fat layer (data is value in mm)\r\n                var layer2 = parseInt(NewData.slice(5,6).toString(\"hex\"), 16);    // 6th. byte is layer two fat layer (data is value in mm)\r\n                var layer3 = parseInt(NewData.slice(7,8).toString(\"hex\"), 16);    // 8th. byte is layer third fat layer (data is value in mm)\r\n\r\n                console.log(\"layers: \" + layers + \" layer1: \" + layer1);\r\n                console.log(\"layer2: \" + layer2 + \" layer3: \" + layer3);\r\n                console.log(\"NewData: \", NewData);\r\n\r\n                yield put(DeviceActions.updateDeviceData({FatLayers: layers, FatL1: layer1, FatL2: layer2, FatL3: layer3}))\r\n                /*var FatData = NewData.toString('ascii')\r\n                console.log(\"Read Data: \", FatData);*/\r\n\r\n                /*\r\n                getRealLayerDepthMM_1() {\r\n                return (((float) this.mRawLayerData1) * 1.0f) / 256.0f;\r\n                */\r\n              }\r\n\r\n              PacketId = 0;\r\n              length = 0;\r\n              TempData_Reading = Buffer.from([]);\r\n            }\r\n\r\n            /*const TestValue = Buffer.from(characteristic.value, 'base64').readUInt16LE(0);\r\n            console.log(\"Test Value: \" + TestValue);*/\r\n            \r\n            /*if (value.startsWith(\"****\")) {\r\n              var TagType = value.slice(value.length - 8, value.length - 5);\r\n              var TagId = value.slice(value.length - 5, value.length);\r\n\r\n              yield put(DeviceActions.updateDeviceData({TAGType: TagType}))\r\n              yield put(DeviceActions.updateDeviceData({TAGId: TagId}))\r\n            } else if (value.endsWith(\"UUUU\")){\r\n              var TagId = yield select((state) => state.device.deviceData)\r\n              TagId = TagId.TAGId + value;\r\n\r\n              while (TagId.startsWith('0')){\r\n                TagId = TagId.slice(1, TagId.length);\r\n              }\r\n              while (TagId.endsWith('U')){\r\n                TagId = TagId.slice(0, TagId.length -1)\r\n              }\r\n\r\n              yield put(DeviceActions.updateDeviceData({TAGId: TagId}))\r\n            }\r\n            else {\r\n              console.log(value);\r\n              yield put(DeviceActions.updateDeviceData({Unknown: value}))\r\n            }*/\r\n          } else {\r\n            console.log(\"unknown char: \", characteristic.uuid);\r\n          }\r\n        }\r\n      }\r\n    }\r\n  } catch (error) {\r\n    //yield put(DeviceActions.setDeviceError(error))\r\n  } finally {\r\n    if (yield cancelled()) {\r\n      if (readingChannel != null) readingChannel.close();\r\n    }\r\n  }\r\n}\r\n\r\n// This generator decides if we want to start or stop scanning depending on specific\r\n// events:\r\n// * BLE state is in PoweredOn state\r\n// * SCANNER is currently AVAILABLE or allready SCANNING\r\n// * ConnectionMethode is on BLE\r\n// * We are not allready Connected to a device..\r\nfunction* handleScanning(manager: BleManager) {\r\n  console.log(\"Handle BLE Scanning...\")\r\n\r\n  var scanTask = null\r\n  var bleState: $Keys<typeof State> = yield select((state) => state.device.bleState);\r\n  var scannerState: $Keys<typeof ScannerState> = yield select((state) => state.device.scannerState)\r\n  var connectionMethode: $Keys<typeof ConnectionMethode> = yield select((state) => state.device.connectionMethode)\r\n  var connectionState: $Keys<typeof ConnectionState> = yield select((state) => state.device.connectionState)\r\n\r\n  const channel = yield actionChannel([\r\n    'BLE_STATE_UPDATED',\r\n    'SCANNER_STATE_UPDATED',\r\n    'CONNECTION_METHODE_UPDATED',\r\n    'CONNECTION_STATE_UPDATED',\r\n  ])\r\n\r\n  for (;;) {\r\n    const action:\r\n      | BLE_STATE_UPDATED\r\n      | SCANNER_STATE_UPDATED\r\n      | CONNECTION_METHODE_UPDATED \r\n      | CONNECTION_STATE_UPDATED = yield take(channel)\r\n\r\n    switch (action.type) {\r\n      case 'BLE_STATE_UPDATED':\r\n        bleState = action.bleState\r\n        break;\r\n      case 'SCANNER_STATE_UPDATED':\r\n        scannerState = action.scannerState\r\n        break;\r\n      case 'CONNECTION_METHODE_UPDATED':\r\n        connectionMethode = action.connectionMethode\r\n        break;\r\n      case 'CONNECTION_STATE_UPDATED':\r\n        connectionState = action.connectionState\r\n        break;\r\n    }\r\n\r\n    const enableScanning =\r\n      bleState === State.PoweredOn && \r\n      (scannerState === ScannerState.AVAILABLE ||\r\n        scannerState === ScannerState.SCANNING) &&\r\n      connectionMethode === ConnectionMethode.BLE &&\r\n      (connectionState === ConnectionState.DISCONNECTING ||\r\n        connectionState === ConnectionState.DISCONNECTED)\r\n    \r\n    if (enableScanning) {\r\n      if (scannerState != ScannerState.SCANNING) { //Dount need to start scanner if allready Scanning\r\n        if (scanTask != null) {\r\n          yield cancel(scanTask)\r\n        }\r\n        scanTask = yield fork(scanBle, manager);\r\n      }\r\n    } else {\r\n      if (scanTask != null) {\r\n        yield cancel(scanTask)\r\n        scanTask = null\r\n      }\r\n    }\r\n  }\r\n}\r\n\r\n// As long as this generator is working we have enabled scanning functionality.\r\n// **\r\n// When we detect Tag-device, Device with localName or Name, We send device to device list\r\n// Testing with isConnectable\r\nfunction* scanBle(manager: BleManager) {\r\n  yield put(DeviceActions.scannerStateUpdated(ScannerState.SCANNING))\r\n  yield put(DeviceActions.clearDevices())\r\n  \r\n  console.log(\"Scanning started\");\r\n\r\n  const scanningChannel = yield eventChannel((emit) => {\r\n    manager.startDeviceScan(\r\n      null,\r\n      { allowDuplicates: true },\r\n      (error, scannedDevice) => {\r\n        if (error) {\r\n          emit([error, scannedDevice]);\r\n          return;\r\n        }\r\n        // ************************\r\n        if (scannedDevice != null) {\r\n          if (scannedDevice.localName != null) {\r\n            //TODO: auto list only supported devices...\r\n            //TODO: auto connect \"missing / disconnected\" divece..\r\n\r\n            /*if (scannedDevice.id === TagId && TagId != null) { // Catch Specefic SensorTag\r\n              emit([error, scannedDevice]);\r\n            } else { //Else if not ....*/\r\n              emit([error, scannedDevice]);\r\n            //}\r\n          } \r\n          /*else if (scannedDevice.name != null && scannedDevice.name != \"\"){\r\n            console.log(\"Device found Name: \" + scannedDevice.name);\r\n          }\r\n          // Test\r\n          if (scannedDevice.isConnectable != null && scannedDevice.id != null){\r\n            console.log(\"Connect ??: \" + scannedDevice.id);\r\n          }*/\r\n        }\r\n        // *************************\r\n      },\r\n    );\r\n    return () => {\r\n      manager.stopDeviceScan();\r\n    };\r\n  }, buffers.expanding(1));\r\n\r\n  try {\r\n    for (; ;) {\r\n      const [error, scannedDevice]: [?BleError,?Device] = yield take(scanningChannel);\r\n      if (error != null) {\r\n        console.log(\"Ble Scan Error: \", error);\r\n        yield put(DeviceActions.setDeviceError(error))\r\n      }\r\n      if (scannedDevice != null) {\r\n        //console.log(\"Interest Device Found: \" + scannedDevice.localName);\r\n        yield put(DeviceActions.addDevice(scannedDevice));\r\n      }\r\n    }\r\n  } catch (error) {\r\n    console.log(\"Ble Scan Error: \", error);\r\n    yield put(DeviceActions.setDeviceError(error))\r\n  } finally {\r\n    if (yield cancelled()) {\r\n      yield put(DeviceActions.scannerStateUpdated(ScannerState.IDLE))\r\n      console.log('Scanning stopped...');\r\n      scanningChannel.close();\r\n    }\r\n  }\r\n}\r\n\r\nexport function* startBleScan(){\r\n  var connectionMethode = yield select((state) => state.device.connectionMethode);\r\n  const scannerState = yield select((state) => state.device.scannerState);\r\n  \r\n  if (connectionMethode !== ConnectionMethode.BLE) {\r\n    yield put(DeviceActions.connectionMethodeUpdated(ConnectionMethode.BLE)) // rem, handleScanning should contain ConnectionMethode check and shutof scanning on change\r\n  } \r\n  yield call(setBleScannerStart);\r\n}\r\n// Aparently functions cannot call itself... so..\r\nfunction* setBleScannerStart(){\r\n  var connectionMethode = yield select((state) => state.device.connectionMethode);\r\n  const scannerState = yield select((state) => state.device.scannerState);\r\n\r\n  if (scannerState === ScannerState.IDLE && connectionMethode === ConnectionMethode.BLE) {\r\n    yield put(DeviceActions.scannerStateUpdated(ScannerState.AVAILABLE));\r\n  }\r\n}\r\n\r\nexport function* stopBleScan(){\r\n  const connectionMethode = yield select((state) => state.device.connectionMethode);\r\n  if (connectionMethode === ConnectionMethode.BLE) {\r\n    yield put(DeviceActions.scannerStateUpdated(ScannerState.IDLE));\r\n  }\r\n}","import { PermissionsAndroid, NativeModules, NativeEventEmitter } from 'react-native'\r\nimport {buffers, eventChannel} from 'redux-saga'\r\nimport { put, call, fork, take, cancelled, cancel, actionChannel, race, select } from 'redux-saga/effects'\r\n\r\nimport DeviceActions from '../../../Stores/Device/Actions'\r\nimport { deviceService } from '../../../Services/DeviceService'\r\n\r\nimport BluetoothActions from '../../../Stores/Device/BlueTooth/Actions'\r\n\r\nimport { ScannerState, ConnectionState, ConnectionMethode } from '../../../Stores/Device/Selectors'\r\n\r\nimport { Device } from 'react-native-ble-plx'\r\n\r\nexport function* bluetoothStartup(sagaArgs) {\r\n  //Check and setup Bluetooth....\r\n  const permitError = yield call(deviceService.isBlePermitted) //BLE permits is same for bluetooth\r\n  if (permitError) {\r\n    yield put( DeviceActions.setDeviceError(permitError))\r\n  } else {\r\n    // All below generators are described below...\r\n    yield fork(handleScanning, sagaArgs.BlueManager)\r\n    yield fork(handleConnection, sagaArgs.BlueManager)\r\n  }\r\n  \r\n  console.log('BlueTooth Startup : Done');\r\n}\r\n\r\n// This generator decides if we want to start or stop scanning depending on specific\r\n// events:\r\n// * SCANNER is currently AVAILABLE or allready SCANNING\r\n// * ConnectionMethode is on BLUETOOTH\r\n// * We are not allready Connected to a device..\r\nfunction* handleScanning(manager) {\r\n  console.log(\"Handle Bluetooh Scanning...\")\r\n\r\n  var scanTask = null\r\n  var scannerState: $Keys<typeof ScannerState> = yield select((state) => state.device.scannerState)\r\n  var connectionMethode: $Keys<typeof ConnectionMethode> = yield select((state) => state.device.connectionMethode)\r\n  var connectionState: $Keys<typeof ConnectionState> = yield select((state) => state.device.connectionState)\r\n\r\n  const channel = yield actionChannel([\r\n    'SCANNER_STATE_UPDATED',\r\n    'CONNECTION_METHODE_UPDATED',\r\n    'CONNECTION_STATE_UPDATED',\r\n  ])\r\n\r\n  for (;;) {\r\n    const action:\r\n      | SCANNER_STATE_UPDATED\r\n      | CONNECTION_METHODE_UPDATED \r\n      | CONNECTION_STATE_UPDATED = yield take(channel)\r\n\r\n    switch (action.type) {\r\n      case 'SCANNER_STATE_UPDATED':\r\n        scannerState = action.scannerState\r\n        break;\r\n      case 'CONNECTION_METHODE_UPDATED':\r\n        connectionMethode = action.connectionMethode\r\n        break;\r\n      case 'CONNECTION_STATE_UPDATED':\r\n        connectionState = action.connectionState\r\n        break;\r\n    }\r\n\r\n    const enableScanning =\r\n      (scannerState === ScannerState.AVAILABLE ||\r\n        scannerState === ScannerState.SCANNING) &&\r\n      connectionMethode === ConnectionMethode.BLUETOOTH &&\r\n      (connectionState === ConnectionState.DISCONNECTING ||\r\n        connectionState === ConnectionState.DISCONNECTED)\r\n\r\n    if (enableScanning) {\r\n      if (scannerState != ScannerState.SCANNING) { //Dount need to start scanner if allready Scanning\r\n        if (scanTask != null) {\r\n          yield cancel(scanTask)\r\n        }\r\n        scanTask = yield fork(scanBluetooth, manager);\r\n      }\r\n    } else {\r\n      if (scanTask != null) {\r\n        yield cancel(scanTask)\r\n        scanTask = null\r\n      }\r\n    }\r\n  }\r\n}\r\n\r\n//** Todo: Be done... (code is not touched... can contain lots of error) */\r\nfunction* handleConnection(manager) {\r\n  console.log(\"Handle Bluetooth Connection...\")\r\n\r\n  var testTask = null;\r\n  for (; ;) {\r\n    // Take action\r\n    var { device }: ConnectAction = yield take('CONNECT_BLUETOOTH');\r\n\r\n    var connectionMethode: $Keys<typeof ConnectionMethode> = yield select((state) => state.device.connectionMethode)\r\n    if (connectionMethode != ConnectionMethode.BLUETOOTH) continue;\r\n\r\n    if (device === null) {\r\n      yield put(DeviceActions.setDeviceError(\"Could not find device..\"));\r\n      yield put(DeviceActions.connectionStateUpdated(ConnectionState.DISCONNECTED));\r\n      return;\r\n    }\r\n    console.log(\"Connect device\");\r\n\r\n    try {\r\n      // TODO: handle disconnect\r\n\r\n      /*const disconnectedChannel = yield eventChannel((emit) => {\r\n          const subscription = device.onDisconnected((error) => {\r\n            emit({ type: 'DISCONNECT_DEVICE', error: error });\r\n          });\r\n        return () => {\r\n          subscription.remove();\r\n        };\r\n      }, buffers.expanding(1));\r\n    \r\n      const deviceActionChannel = yield actionChannel([\r\n        'DISCONNECT_DEVICE',\r\n      ]);*/\r\n\r\n      try {\r\n        yield put(DeviceActions.connectionStateUpdated(ConnectionState.CONNECTING));\r\n        const res = yield call(manager.PairDevice, device.id);\r\n        console.log(\"\",res);\r\n        //yield put(DeviceActions.connectionStateUpdated(ConnectionState.DISCOVERING));\r\n        //yield call([device, device.discoverAllServicesAndCharacteristics]);\r\n\r\n        yield put(DeviceActions.connectionStateUpdated(ConnectionState.CONNECTED));\r\n        yield put(DeviceActions.connectionMethodeUpdated(ConnectionMethode.BLE));\r\n\r\n        yield put(DeviceActions.connectedDeviceUpdated(device));\r\n\r\n        //for (; ;) {\r\n          /*const { deviceAction, disconnected } = yield race({\r\n            deviceAction: take(deviceActionChannel),\r\n            disconnected: take(disconnectedChannel),\r\n          });*/\r\n\r\n          /*if (deviceAction) {\r\n            if (deviceAction.type === 'DISCONNECT_DEVICE') {\r\n              console.log('Disconnected by user...');\r\n              yield put(DeviceActions.connectionStateUpdated(ConnectionState.DISCONNECTING));\r\n              yield call([device, device.cancelConnection]);\r\n              break;\r\n            }\r\n          } else if (disconnected) {\r\n            console.log('Disconnected by device...');\r\n            if (disconnected.error != null) {\r\n              console.log(\"Error \", disconnected.error);\r\n            }\r\n            break;\r\n          }*/\r\n\r\n        //}\r\n      } catch (error) {\r\n        console.log(\"?: \", error);\r\n        //yield put(DeviceActions.setDeviceError(error))\r\n      } finally {\r\n        //disconnectedChannel.close();\r\n        yield put(DeviceActions.connectedDeviceUpdated(null))\r\n        yield put(DeviceActions.connectionStateUpdated(ConnectionState.DISCONNECTED));\r\n      }\r\n    } catch (error) {\r\n      console.log('Error on device actions... ', error);\r\n      yield put(DeviceActions.removeDevice(device));\r\n      yield put(DeviceActions.connectionStateUpdated(ConnectionState.DISCONNECTING));\r\n    }\r\n  }\r\n}\r\n\r\nexport function* readBlueDeviceData(sagaArgs) {\r\n  console.log(\"Blue Read\");\r\n  const manager = sagaArgs.BlueManager;\r\n\r\n  var device: Device = yield select((state) => state.device.connectedDevice)\r\n  if (device === null) return;\r\n\r\n  const Message = yield call(manager.receiveData, device.id);\r\n  console.log(Message);\r\n  if (Message != \"\") {\r\n    yield put(DeviceActions.updateDeviceData({TAGId: Message}))\r\n  }\r\n}\r\n\r\n// As long as this generator is working we have enabled scanning functionality.\r\n// **\r\n// When we detect Tag-device, Device with localName or Name, We send device to device list\r\n// Testing with isConnectable\r\nfunction* scanBluetooth(manager) {\r\n  yield put(DeviceActions.scannerStateUpdated(ScannerState.SCANNING))\r\n  yield put(DeviceActions.clearDevices())\r\n\r\n  console.log(\"Scanning started\");\r\n\r\n  yield call(manager.Discover);\r\n  const bluetoothChannel = yield eventChannel((emit) => {\r\n    const blueTootControlEmitter = new NativeEventEmitter(manager);\r\n    const subscription = blueTootControlEmitter.addListener('blueToothDeviceFound', (device) => {\r\n      if (device != null){\r\n        var scannedDevice = new Device();\r\n        scannedDevice.id = device.address\r\n        scannedDevice.localName = (device.name != null ? device.name : \"NONE\");\r\n        scannedDevice.name = device.alias\r\n        \r\n        if (scannedDevice.localName != null) {\r\n          if (scannedDevice.localName === 'SensorTag') { // Catch Specefic SensorTag\r\n            //console.log(\"Device with Tag found: \" + scannedDevice.localName + \" : \" + scannedDevice.id);\r\n            emit(scannedDevice);\r\n          } else { //Else if not ....\r\n            //console.log(\"Device found localName: \" + scannedDevice.localName + \" : \" + scannedDevice.id);\r\n            emit(scannedDevice);\r\n          }\r\n        } \r\n        else if (device.alias != null && device.alias != \"\"){\r\n          scannedDevice.name = device.alias\r\n          emit(scannedDevice);\r\n          //console.log(\"Device found Name: \" + scannedDevice.name);\r\n        }\r\n      }\r\n    })\r\n    return () => {\r\n      subscription.remove();\r\n    };\r\n  }, buffers.expanding(1))\r\n\r\n  try {\r\n    for (;;) {\r\n      const scannedDevice: Device = yield take(bluetoothChannel);\r\n      if (scannedDevice != null) {\r\n        console.log(\"Interest Device Found: \" + scannedDevice.localName + \" : \" + scannedDevice.id);\r\n        yield put(DeviceActions.addDevice(scannedDevice))\r\n      }\r\n    }\r\n  } finally {\r\n    if (yield cancelled()) {\r\n      yield call(manager.StopDiscovery);\r\n      yield put(DeviceActions.scannerStateUpdated(ScannerState.IDLE))\r\n      console.log('Scanning stopped...');\r\n      bluetoothChannel.close()\r\n    }\r\n  }\r\n}\r\n\r\nexport function* startBluetoothScan(){\r\n  var connectionMethode = yield select((state) => state.device.connectionMethode);\r\n  const scannerState = yield select((state) => state.device.scannerState);\r\n  \r\n  if (connectionMethode !== ConnectionMethode.BLUETOOTH) {\r\n    yield put(DeviceActions.connectionMethodeUpdated(ConnectionMethode.BLUETOOTH)) // rem, handleScanning should contain ConnectionMethode check and shutof scanning on change\r\n  } \r\n  yield call(setBlueScannerStart);\r\n}\r\n// Aparently functions cannot call itself... so..\r\nfunction* setBlueScannerStart(){\r\n  var connectionMethode = yield select((state) => state.device.connectionMethode);\r\n  const scannerState = yield select((state) => state.device.scannerState);\r\n\r\n  if (scannerState === ScannerState.IDLE && connectionMethode === ConnectionMethode.BLUETOOTH) {\r\n    yield put(DeviceActions.scannerStateUpdated(ScannerState.AVAILABLE));\r\n  }\r\n}\r\nexport function* stopBluetoothScan(){\r\n  const connectionMethode = yield select((state) => state.device.connectionMethode);\r\n  if (connectionMethode === ConnectionMethode.BLUETOOTH) {\r\n    yield put(DeviceActions.scannerStateUpdated(ScannerState.IDLE));\r\n  }\r\n}\r\n\r\nexport function* bluetoothScanAble(sagaArgs){\r\n  yield call(sagaArgs.BlueManager.BluetoothSearchAble);\r\n}","import {buffers, eventChannel} from 'redux-saga'\r\nimport { put, call, fork, take, cancelled, cancel, actionChannel, race, select } from 'redux-saga/effects'\r\n\r\nimport DeviceActions from '../../Stores/Device/Actions'\r\nimport { deviceService } from '../../Services/DeviceService'\r\n\r\nimport { ScannerState, ConnectionState, ConnectionMethode } from '../../Stores/Device/Selectors'\r\n\r\nimport { BleManager, BleError, Device} from 'react-native-ble-plx'\r\n//Include BLE Saga\r\nimport * as BLE from './BLE/BLESaga'\r\nexport {BLE}\r\n//Include BlueTooth Saga\r\nimport * as BlueTooth from './BlueTooth/BlueToothSaga'\r\nexport {BlueTooth}\r\n\r\nexport function* deviceStartup() {\r\n  //Check and setup BLE.... / Bluetooth\r\n  yield put(DeviceActions.setDeviceError(\"\"))\r\n  yield put(DeviceActions.clearDevices());\r\n  yield put(DeviceActions.connectedDeviceUpdated(null)); // TODO: load connected device if possible\r\n  yield put(DeviceActions.connectionStateUpdated(ConnectionState.DISCONNECTED));\r\n\r\n  yield put(DeviceActions.bleStartup());\r\n  yield put(DeviceActions.bluetoothStartup());\r\n  \r\n  console.log('Device Startup : Done');\r\n}\r\n\r\nexport function* connectDevice(device: Device){\r\n  yield put(DeviceActions.scannerStateUpdated(ScannerState.IDLE))\r\n  //console.log(\"Device: \", device); // dummy call to connect...\r\n}\r\n\r\nexport function* disconnectDevice(methode){\r\n  //console.log(\"Device: \", device); // dummy call to disconnect...\r\n}\r\n\r\nexport function* readDeviceData(){\r\n  var connectedDevice = yield select((state) => state.device.connectedDevice)\r\n  if (connectedDevice != null) {\r\n    var connectionMethode: $Keys<typeof ConnectionMethode> = yield select((state) => state.device.connectionMethode)\r\n    if (connectionMethode == ConnectionMethode.BLE) {\r\n      yield put(DeviceActions.readBleDeviceData())\r\n    } else if (connectionMethode == ConnectionMethode.BLUETOOTH) {\r\n      yield put(DeviceActions.readBlueDeviceData())\r\n    }\r\n  }\r\n}\r\n\r\nexport function* fetchDevice(sagaArgs) {\r\n  console.log(\"??\");\r\n  //yield put(DeviceActions.fetchDeviceLoading())\r\n  //yield call(scan_BLE, sagaArgs);\r\n}","//#region Defines\r\nexport const UserStates = {\r\n  STARTER: 'starter',\r\n  FREE: 'free',\r\n  WORKER: 'worker',\r\n  OWNER: 'owner',\r\n  ADMIN: 'admin',\r\n}\r\n\r\nexport const DataStates = {\r\n  CLOSED: 'Closed'\r\n}\r\n\r\nexport const DataRefs = {\r\n  FIREBASEUSER: 'firebaseuser',\r\n  USERSDATA: 'usersdata',\r\n  USERS: 'users',\r\n  FARMS: 'farms',\r\n  SECTIONS: 'farms_data/$farmid/sections',\r\n  PENS: 'farms_data/$farmid/pens',\r\n  PIGS: 'farms_data/$farmid/pigs',\r\n  BATCHS: 'farms_data/$farmid/batchs',\r\n\r\n  WEIGHING: 'farms_data/$farmid/pens/$penid/weighings/',\r\n  GRAPH: 'farms_data/$farmid/Graph/$graphid/',\r\n\r\n  COMMENTS: 'farms_data/$farmid/datas/comments/',\r\n  FARMDATAS: 'farms_data/$farmid/datas/',\r\n  SHARES: 'shareData',\r\n  \r\n  CONSYS: 'consys',\r\n}\r\n\r\nexport const ConsysRefs = {\r\n  VALVEFEED: 100,\r\n  SCALE: 700,\r\n}\r\n\r\nexport const Actions = {\r\n  SIGN: 'sign',\r\n\r\n  FETCH: 'fetch',\r\n  CREATE: 'create',\r\n  UPDATE: 'update',\r\n  MOVE: 'move',\r\n  DELETE: 'delete',\r\n  CLEAR: 'clear',\r\n  ADD: 'add',\r\n}\r\n\r\nexport const Operations = {\r\n  ADD: 'Add pig',\r\n  MOVE: 'Move pig',\r\n  LOST: 'Lost pig',\r\n  SOLD: 'Sold pig',\r\n  NOTE: 'Pen Note',\r\n}\r\n\r\nexport const ErrorTypes = {\r\n  SYSTEM: 'System',\r\n  EMAIL: 'Email',\r\n  PASSWORD: 'Password',\r\n  FORMAT: 'Format',\r\n}\r\n//#endregion\r\n\r\n//#region Formaters\r\nfunction format_num(num) {\r\n  if (num < 10){\r\n    num = \"0\"+num\r\n  }\r\n  return num;\r\n}\r\nexport function format_Time(time) {\r\n  var s = new Date(parseInt(time));\r\n  var datetime = format_num(s.getDate()) + \"/\" + format_num(s.getMonth() +1) + \"/\" + s.getFullYear() + \" \" \r\n                  + format_num(s.getHours()) + \":\" + format_num(s.getMinutes()) + \":\" + format_num(s.getSeconds());\r\n  return datetime\r\n}\r\n\r\nvar reA = /[^a-zA-Z]/g;\r\nvar reN = /[^0-9]/g;\r\nfunction sortAlphaNum(a, b) {\r\n  var aA = a.replace(reA, \"\");\r\n  var bA = b.replace(reA, \"\");\r\n  if (aA === bA) {\r\n    var aN = parseInt(a.replace(reN, \"\"), 10);\r\n    var bN = parseInt(b.replace(reN, \"\"), 10);\r\n    return aN === bN ? 0 : aN > bN ? 1 : -1;\r\n  } else {\r\n    return aA > bA ? 1 : -1;\r\n  }\r\n}\r\n\r\nexport function sortObject(o) {\r\n  var sorted = {},\r\n  key, a = [];\r\n\r\n  for (key in o) {\r\n    if (o.hasOwnProperty(key) && key !== \"__jsogObjectId\" && key !== \"update_time\") {\r\n      a.push(key);\r\n    }\r\n  }\r\n  a.sort(sortAlphaNum);\r\n\r\n  for (key = 0; key < a.length; key++) {\r\n    sorted[a[key]] = o[a[key]];\r\n  }\r\n  return sorted;\r\n}\r\n\r\nexport function DataStringCheck(data, Check_num = true) {\r\n  if (!data || data === \"\"){\r\n    return false\r\n  }\r\n  if (!typeof(data) === 'string'){\r\n    return false\r\n  }else {\r\n    if (Check_num) {\r\n      var first = data[0]\r\n      var numbers = '0123456789';\r\n      for(var i = 0; i < numbers.length;i++){\r\n        if(first === numbers[i]){\r\n          return false\r\n        }\r\n      }\r\n    }\r\n\r\n    var specialChars = '/[`!@#$%^&*()+\\-=\\[\\]{};\\':\"\\\\|,.<>\\/?~]/¨´';\r\n    for(var i = 0; i < specialChars.length;i++){\r\n      if(data.indexOf(specialChars[i]) > -1){\r\n        return false\r\n      }\r\n    }\r\n  }\r\n  return true\r\n}\r\n//#endregion\r\n\r\n//#region Data gets\r\nexport function GetWeight_FromPen(PenId, WeighingsStore = null, AfterTime = null, BeforeTime = null) {\r\n  //PenId: Parrent Get ellement (ID),\r\n  //WeighingsStore: LocalDataStore.weighings,\r\n  //AfterTime: Only data after specefied Time,\r\n  //BeforeTime: Only data before specefied Time\r\n  var Weighing = null;\r\n\r\n  if (PenId, WeighingsStore){\r\n    for (const _weighing in WeighingsStore[PenId]) {\r\n      var weighing = WeighingsStore[PenId][_weighing]\r\n      if (weighing && (!Weighing || Weighing.time < weighing.time)) {\r\n        if ((!AfterTime || weighing.time >= AfterTime) &&\r\n          (!BeforeTime || weighing.time <= BeforeTime)) {\r\n          Weighing = weighing\r\n        }\r\n      }\r\n    }\r\n  }\r\n  return Weighing;\r\n}\r\n\r\nexport function GetBatch_FromPen(localDataStore, PenId) {\r\n  if (localDataStore.batchs) {\r\n    //Get batch form pen\r\n    for (const _batch in localDataStore.batchs) {\r\n      var batch = localDataStore.batchs[_batch]\r\n      if (batch.hasOwnProperty(\"pens\") && batch.pens[PenId] != null) {\r\n        return localDataStore.batchs[_batch]\r\n      }\r\n    }\r\n  }\r\n  return null;\r\n}\r\n\r\nexport function GetStats_FromPen(PenId, PenData, localDataStore, StartDate, EndDate, PenWeighings = null){\r\n  var Animals = 0;\r\n  var PenWeight = 0\r\n  var PenGrowth = 0\r\n  var AveragePenGrowth = 0;\r\n\r\n  if (PenData.datas && PenData.datas.count || PenData.count) {\r\n    if (PenData.count) Animals += PenData.count\r\n    else Animals += PenData.datas.count\r\n  }\r\n  \r\n  if (localDataStore.weighings && localDataStore.weighings[PenId]) {\r\n    var GrowthCount = 0\r\n\r\n    var lastDate = 0\r\n    var LastWeight = undefined;\r\n    var LastWeightDay = undefined;\r\n    var FirstWeight = undefined;\r\n\r\n    if (!PenWeighings) PenWeighings = localDataStore.weighings[PenId]\r\n    if (PenWeighings) {\r\n      Object.keys(PenWeighings).forEach((weight) => {\r\n        var Weight = PenWeighings[weight]\r\n        if (Weight.time >= StartDate && Weight.time <= EndDate && Weight.time > lastDate) {\r\n          PenWeight = Weight.weight\r\n          if (Weight.count) PenWeight = Weight.weight / Weight.count;\r\n\r\n          if (LastWeight !== undefined) {\r\n            PenGrowth = PenWeight - LastWeight\r\n            GrowthCount++;\r\n          }\r\n\r\n          lastDate = Weight.time\r\n          LastWeight = PenWeight\r\n          LastWeightDay = Weight.time\r\n          if (!FirstWeight) FirstWeight = Weight.time;\r\n        }\r\n      })\r\n    }\r\n\r\n    var now = new Date().getTime()\r\n    var isVirtual = false;\r\n    if (StartDate && EndDate) {\r\n      var Batch = GetBatch_FromPen(localDataStore,PenId)\r\n      var TempGraph = GetCurve_FromBatch(Batch, localDataStore.graphs)\r\n      var BatchEndDate = EndDate;\r\n      var Predict = CurvePredict(localDataStore, PenId, Batch, TempGraph)\r\n      if (Predict != null && Predict.Now && now > new Date(lastDate).getDate()) {\r\n        PenWeight = Predict.Now\r\n        if (LastWeight !== undefined) {\r\n          PenGrowth += PenWeight - LastWeight\r\n          GrowthCount++;\r\n        }\r\n        var _date = new Date(Predict.lastWeighing.time + Predict.Addition)\r\n        _date.setDate(_date.getDate() + Predict.days)\r\n        LastWeightDay = _date.getTime()\r\n        isVirtual = true\r\n      }\r\n      if (Predict && Predict.lastWeighing && Predict.days) {\r\n        var tempEnd = new Date(EndDate).getTime()\r\n        var date = new Date(Predict.lastWeighing.time)\r\n        date.setDate(date.getDate() + Predict.days)\r\n        tempEnd = date.getTime()\r\n        if (Predict.Addition) {\r\n          tempEnd += Predict.Addition\r\n        }\r\n        if (EndDate === BatchEndDate || EndDate < tempEnd) {\r\n          EndDate = tempEnd;\r\n        }\r\n      }\r\n    }\r\n    if (GrowthCount > 0) {\r\n      var Growth = (PenGrowth / GrowthCount)\r\n      var days = (LastWeightDay - FirstWeight) / 86400000\r\n      Growth = Growth / days\r\n      AveragePenGrowth += Growth //AverageGrowth for specefic pen\r\n    }\r\n  }\r\n  return { Animals, PenWeight, AveragePenGrowth, EndDate, isVirtual }\r\n}\r\n\r\nexport function GetStats_FromBatch(Batch, localDataStore, Closed=true) {\r\n  if (!Batch) return null;\r\n  var isVirtual = false;\r\n  var PenCount = 0;\r\n  var Animals = 0\r\n  var CollectedWeight = 0;\r\n  var CollectedGrowth = 0;\r\n  \r\n  var isClosed = (Batch.state && Batch.state === \"Closed\")?true:false\r\n\r\n  var TempGraph = GetCurve_FromBatch(Batch, localDataStore.graphs)\r\n  if (!TempGraph) return null;\r\n  var TargetWeight = (Batch && Batch.datas && Batch.datas.target)?Batch.datas.target:TempGraph.data[TempGraph.data.length -1]\r\n  var EndDate = GetBatchEnd(Batch, TempGraph)\r\n  var StartDate = Batch.time;\r\n\r\n  var PenEnds = 0\r\n  if (Batch && Batch.pens && localDataStore.pens) {\r\n    Object.keys(Batch.pens).reverse().filter(e => (e !== '__jsogObjectId')).forEach(Batch_Pen => {\r\n      if (localDataStore && localDataStore.pens && localDataStore.pens[Batch_Pen] && localDataStore.weighings && localDataStore.weighings[Batch_Pen] || isClosed) {\r\n        var Pen = isClosed?Batch.pens[Batch_Pen]:localDataStore.pens[Batch_Pen]\r\n        PenCount++\r\n        \r\n        var PenWeighings = isClosed?Batch.closed.weighings[Batch_Pen]:localDataStore.weighings[Batch_Pen]\r\n        if (PenWeighings) {\r\n          var PenStats = GetStats_FromPen(Batch_Pen, Pen, localDataStore, StartDate, EndDate, PenWeighings)\r\n          Animals += PenStats.Animals;\r\n          var PenWeight = PenStats.PenWeight\r\n          if (PenWeight === 0) {\r\n            PenCount--\r\n          } else {\r\n            CollectedWeight += PenWeight\r\n            CollectedGrowth += PenStats.AveragePenGrowth\r\n            if (PenEnds < PenStats.EndDate) PenEnds = PenStats.EndDate\r\n            if (!isVirtual) isVirtual = PenStats.isVirtual\r\n          }\r\n        }\r\n      }\r\n    });\r\n  }\r\n\r\n  if (PenEnds > 0) EndDate = PenEnds\r\n  var AverageWeight = CollectedWeight / PenCount\r\n  AverageWeight = parseFloat(AverageWeight).toFixed(2)\r\n  var AverageGrowth = CollectedGrowth / PenCount\r\n  AverageGrowth = parseFloat(AverageGrowth).toFixed(2)\r\n\r\n  return {StartDate, EndDate, TargetWeight, PenCount, Animals, AverageWeight, AverageGrowth, isClosed, isVirtual}\r\n}\r\n\r\nexport function GetCurve_FromBatch(Batch, GraphsStore = null, CurrentData = null) {\r\n  //Batch: Parrent Get ellement,\r\n  //GraphsStore: LocalDataStore.graphs,\r\n  //CurrentData: Data state get,\r\n  if (Batch) {\r\n    var Garph = null\r\n    if (Batch.gcurve && Batch.state && Batch.state === DataStates.CLOSED) {\r\n      Garph = Batch.gcurve;\r\n    } else if (GraphsStore) {\r\n      if (CurrentData && (typeof CurrentData === 'string' || CurrentData.curveId)) {\r\n        var Id = (typeof CurrentData === 'string')? CurrentData: CurrentData.curveId\r\n        Garph = GraphsStore[Id]\r\n      }\r\n      if (Batch.gcurve) {\r\n        Garph = GraphsStore[Batch.gcurve];\r\n      }\r\n    }\r\n    if (Garph) {\r\n      var DataPoints = []\r\n      var _index = 0;\r\n      Object.keys(Garph.data).filter(e => e !== '__jsogObjectId').map((index) => {\r\n        DataPoints[index] = Garph.data[index]\r\n        for(var i = index-1; i > _index;i--) {\r\n          DataPoints[i] = null\r\n        }\r\n        _index = index\r\n      })\r\n      Garph.data = DataPoints\r\n      return Garph;\r\n    }\r\n  }\r\n  return null;\r\n}\r\n\r\nexport function GetBatchEnd(Batch, TempCurve) {\r\n  if (Batch && Batch.time && TempCurve) {\r\n    var currentTime = new Date(Batch.time) //Does not allow weight's after Batch end\r\n    for (var i = 0; i < TempCurve.data.length; i++) {\r\n      if (i < TempCurve.data.length -1) {\r\n        currentTime = new Date(AccumulateTime(currentTime, TempCurve.periode))\r\n      }\r\n    }\r\n    return currentTime.getTime();\r\n  }\r\n  return null\r\n}\r\n//#endregion\r\n\r\n//#region Curve Functions\r\nexport function AccumulateTime(Time, PeriodeLength) {\r\n  var NewTime = new Date(Time.getTime())\r\n  switch(PeriodeLength) {\r\n    case \"Days\":\r\n    //86.400.000 ms\r\n    NewTime.setDate(NewTime.getDate() + 1)\r\n    break;\r\n    case \"Month\":\r\n    NewTime.setMonth(NewTime.getMonth() + 1)\r\n    break;\r\n    case \"Weeks\":\r\n    default:\r\n    NewTime.setDate(NewTime.getDate() + 7)\r\n    break;\r\n  }\r\n  return NewTime;\r\n}\r\n\r\n//Get Today-point expected data and virtual simulation For PenId with Batch / or given\r\nexport function get_DataSpot_FromData(localDataStore, PenId, Batch, Closed = false) {\r\n  if (localDataStore.weighings && localDataStore.weighings[PenId]) {\r\n    var Weighing = null;\r\n\r\n    //get newest weighing\r\n    for (const _weighing in localDataStore.weighings[PenId]) {\r\n      var weighing = localDataStore.weighings[PenId][_weighing]\r\n      if (weighing && (!Weighing || Weighing.time < weighing.time)) { \r\n        Weighing = weighing\r\n      }\r\n    }\r\n\r\n    if (Weighing) {\r\n      var weight = Weighing.weight\r\n      weight = weight / Weighing.count\r\n      if (weight && !isNaN(weight)) {\r\n        if (!Batch) {\r\n          //Get batch form pen\r\n          for (const _batch in localDataStore.batchs) {\r\n            var batch = localDataStore.batchs[_batch]\r\n            if (batch.hasOwnProperty(\"pens\") && batch.pens[PenId] != null) {\r\n              Batch = localDataStore.batchs[_batch]\r\n              //break; //diffrenc from web ??? (needed in mobile..)\r\n            }\r\n          }\r\n        }\r\n\r\n        if (Batch && Batch.time && Batch.datas \r\n          && localDataStore.graphs && localDataStore.graphs[Batch.gcurve]) {\r\n          var Curve = localDataStore.graphs[Batch.gcurve]\r\n          var WeighingTime = Weighing.time\r\n\r\n          if (Closed || (WeighingTime > Batch.time && (!Batch.state || Batch.state !== \"Closed\"))) {\r\n            var StartTime = Batch.time\r\n            var EndTime = Batch.time\r\n            var index = 0;\r\n            var currentTime = new Date(StartTime)\r\n            for (index = 0; index < Curve.data.length-1; index++) {\r\n              currentTime = new Date(AccumulateTime(currentTime, Curve.periode))\r\n              EndTime = currentTime.getTime()\r\n              if (EndTime >= WeighingTime) {\r\n                break;\r\n              } else {\r\n                StartTime = EndTime\r\n              }\r\n            }\r\n            //var EndDate = EndDate = currentTime.getTime();\r\n            \r\n            var Keys = Object.keys(Curve.data);\r\n            var DataSpot = get_DataSpot([StartTime, EndTime], [Curve.data[Keys[index]], Curve.data[index +1]], new Date().getTime(), weight, WeighingTime)\r\n            DataSpot.Batch = Batch\r\n            return DataSpot\r\n          }\r\n        }\r\n      }\r\n    }\r\n  }\r\n  return null\r\n}\r\n\r\n//Get point expected data and virtual simulation from data.\r\n//ExValue = Expected value if slope continues, for spots given (or inbetween).\r\n//VirData = Virtual calculation for Data progress to DataTime, if slope continues.\r\nexport function get_DataSpot(MinMax_Time, MinMax_Data, FindTime, Data, DataTime) {\r\n  var ExValue = null\r\n  var VirData = null\r\n  var ExTime = null\r\n  if (FindTime) {\r\n    var slope = GetSlope_Between(MinMax_Time, MinMax_Data)\r\n    var FindX = FindTime- MinMax_Time[0]\r\n    // ExValue = (FindX * Slope) + MinY             // Setting FindTime, due b then = Min data.. (b is y = 0)\r\n    ExValue = (FindX * slope) + MinMax_Data[0]          // ( X * a ) + b = Expeted data for spot on CalcTime\r\n    \r\n    if (Data && DataTime) {\r\n      var Findx2 = DataTime- MinMax_Time[0]\r\n      var ExData = (Findx2 * slope) + MinMax_Data[0]    //Expeted data for given Time 2\r\n      \r\n      var DataDiff = ExData - Data;\r\n      VirData = ExValue + DataDiff;\r\n\r\n      ExTime = (Data - MinMax_Data[0]) / slope          // (y-b)/a = Expeted time for data\r\n      ExTime = MinMax_Time[0] + ExTime\r\n      ExTime = Math.floor(ExTime)\r\n    }\r\n  }\r\n  return {ExValue, VirData, ExTime}\r\n}\r\n\r\n//Get Slope Between two points\r\nfunction GetSlope_Between(MinMax_Time, MinMax_Data){\r\n  var minX = MinMax_Time[0]\r\n  var maxX = MinMax_Time[1]\r\n  var minY = MinMax_Data[0]\r\n  var maxY = MinMax_Data[1]\r\n\r\n  //Slope = DeltaY / DeltaX\r\n  var slope = (maxY - minY) / (maxX - minX)\r\n  if (minY > minX) slope = -slope;\r\n  return slope\r\n}\r\n\r\nexport function CurvePredict(localDataStore, PenId, Batch, TempCurve) {\r\n  if (localDataStore) {\r\n    /* Get data */\r\n    if (!PenId && Batch && Batch.pens){\r\n      PenId = Object.keys(Batch.pens).filter(e => (e !== '__jsogObjectId'))[0]\r\n    }\r\n    if (!Batch) {\r\n      Batch = GetBatch_FromPen(localDataStore, PenId)\r\n    }\r\n    if (Batch && Batch.time) {\r\n      if (!TempCurve) {\r\n          TempCurve = GetCurve_FromBatch(Batch, localDataStore.graphs)\r\n      }\r\n      if (TempCurve && TempCurve.data) {\r\n        var BatchEndDate = GetBatchEnd(Batch, TempCurve)\r\n        var Weighing = GetWeight_FromPen(PenId, localDataStore.weighings, Batch.time, BatchEndDate);\r\n        if (Weighing && Weighing.weight) {\r\n          var weight = Weighing.weight\r\n          if (Weighing.count) weight = weight / Weighing.count\r\n          var Weighing2 = GetWeight_FromPen(PenId, localDataStore.weighings, Batch.time, Weighing.time -1);\r\n          var weight2 = Weighing2?Weighing2.weight:0\r\n          if (Weighing2 && Weighing2.count) weight2 = weight2 / Weighing2.count\r\n\r\n          var StartIndex = \"none\";\r\n          var PredictCurve = { periode: TempCurve.periode, data: [] }\r\n          var now = new Date(Date.now())\r\n          now = new Date(now.getFullYear(), now.getMonth(), now.getDate()).getTime()\r\n          var CurrentTime = new Date(Batch.time)\r\n          var Temp_CurrentIndex = 0;\r\n\r\n          /* find template fit */\r\n          for (var index = 0; index < TempCurve.data.length; index++) {\r\n            if (CurrentTime.getTime() <= now) {\r\n              CurrentTime = new Date(AccumulateTime(CurrentTime, TempCurve.periode))\r\n              Temp_CurrentIndex++;\r\n            }\r\n\r\n            if (weight <= TempCurve.data[index]) {\r\n              if (StartIndex === \"none\") {\r\n                StartIndex = index\r\n                if (index === 0) {\r\n                  var slope = GetSlope_Between([Weighing.time,AccumulateTime(new Date(Weighing.time), TempCurve.periode)],[TempCurve.data[0], TempCurve.data[1]])\r\n                  var time = (TempCurve.data[0]- weight)/slope\r\n                  Weighing2 = Weighing\r\n                  weight2 = weight\r\n                  Weighing = {weight: TempCurve.data[0], time: Math.floor(Weighing.time + time)}\r\n                  weight = TempCurve.data[0]\r\n                }\r\n              }\r\n              PredictCurve.data.push(TempCurve.data[index])\r\n            }\r\n          }\r\n\r\n          if (weight < weight2) {\r\n            StartIndex = StartIndex -1\r\n            PredictCurve.data.unshift(TempCurve.data[StartIndex])\r\n          }\r\n\r\n          var PredictStart = new Date(Batch.time)\r\n          for (let index = 0; index < StartIndex; index++) {\r\n            PredictStart = new Date(AccumulateTime(PredictStart, TempCurve.periode))\r\n          }\r\n\r\n          PredictCurve.Now = weight\r\n          PredictCurve.TempEx = TempCurve.data[Temp_CurrentIndex]\r\n          if (StartIndex !== \"none\") {\r\n            var DataSpot = null\r\n            if (Weighing2) {\r\n              DataSpot = get_DataSpot([Weighing2.time, Weighing.time], [weight2, weight], Weighing.time, TempCurve.data[StartIndex], PredictStart.getTime())\r\n            }\r\n            if (DataSpot && DataSpot.ExTime) {\r\n              PredictCurve.FirstSpot = DataSpot.ExTime \r\n              PredictCurve.Addition = DataSpot.ExTime - Weighing.time\r\n            } else {\r\n              PredictCurve.FirstSpot = new Date(Weighing.time + 86400000)\r\n              PredictCurve.Addition = 86400000\r\n            }\r\n\r\n            if (BatchEndDate) {\r\n              var now = new Date(Date.now())\r\n              /*if (BatchEndDate <= now) {\r\n                now = new Date(BatchEndDate)\r\n              }*/\r\n\r\n              now = new Date(now.getFullYear(), now.getMonth(), now.getDate()).getTime()\r\n              var Temp_CurrentTime\r\n              CurrentTime = new Date(Weighing.time)\r\n              var CurrentIndex = 0;\r\n              for (var index = 0; index < PredictCurve.data.length; index++) {\r\n                if (CurrentTime.getTime() < now) {\r\n                  Temp_CurrentTime = CurrentTime\r\n                  CurrentTime = new Date(AccumulateTime(CurrentTime, TempCurve.periode))\r\n                  CurrentIndex ++;\r\n                }\r\n              }\r\n              var WeightNow\r\n              if (CurrentIndex >= PredictCurve.data.length) {\r\n                DataSpot = get_DataSpot([Temp_CurrentTime, CurrentTime], [PredictCurve.data[PredictCurve.data.length-2], PredictCurve.data[PredictCurve.data.length-1]], Date.now())\r\n                WeightNow = DataSpot.ExValue\r\n              } else {\r\n                CurrentIndex--\r\n                WeightNow = PredictCurve.data[CurrentIndex];\r\n              }\r\n              if (WeightNow) PredictCurve.Now = WeightNow\r\n              else PredictCurve.Now = weight\r\n            }\r\n          }\r\n\r\n          var days = 0;\r\n          if (TempCurve.periode === \"Days\") days = PredictCurve.data.length\r\n          else if (TempCurve.periode === \"Weeks\") days = (PredictCurve.data.length) * 7\r\n          PredictCurve.days = days\r\n          PredictCurve.lastWeighing = Weighing\r\n\r\n          Batch.datas.target = (Batch.datas.target)?Batch.datas.target:TempCurve.data[TempCurve.data.length-1]\r\n          PredictCurve.Batch = Batch;\r\n          return PredictCurve;\r\n        }\r\n      }\r\n    }\r\n  }\r\n  return null;\r\n}\r\n//#endregion","import { Platform, Alert } from 'react-native'\r\n\r\nimport { UserStates } from '../Stores/Firebase/Selectors'\r\nimport { Actions, DataRefs, format_Time } from '../Stores/Firebase/Selectors';\r\n\r\nlet auth, messaging, database, firebase;\r\nif (Platform.OS === 'ios' || Platform.OS === 'android') {\r\n  //#region App version imports\r\n  auth = require('@react-native-firebase/auth').default;\r\n  messaging = require('@react-native-firebase/messaging').default;\r\n  database = require('@react-native-firebase/database').default;\r\n  //#endregion\r\n} else {\r\n  console.log(\"firebase load\")\r\n  //#region Web Version imports\r\n  var _firebase = require('firebase/app').default;\r\n  require('firebase/auth').default;\r\n  require('firebase/messaging').default;\r\n  require('firebase/database').default;\r\n\r\n  firebase = _firebase\r\n\r\n  if (!firebase.apps.length) {\r\n    console.log(\"Starting\")\r\n    var Constants = require('expo-constants').default;\r\n    console.log(Constants.manifest.web.config.firebase)\r\n    _firebase.initializeApp(Constants.manifest.web.config.firebase);\r\n  }\r\n\r\n  auth = _firebase.auth;\r\n  if (_firebase.messaging.isSupported()){\r\n    messaging = _firebase.messaging;\r\n  }\r\n  database = _firebase.database;\r\n  console.log(\"Started\")\r\n  //#endregion\r\n}\r\n\r\n//#region Firebase specefic services\r\nasync function isPermit_UserPermission() {\r\n  console.log(\"permit test\")\r\n  if (messaging) {\r\n    const authStatus = await messaging().requestPermission();\r\n    const enabled =\r\n      authStatus === messaging.AuthorizationStatus.AUTHORIZED ||\r\n      authStatus === messaging.AuthorizationStatus.PROVISIONAL;\r\n\r\n    if (!enabled) {\r\n      console.log('Authorization status:', authStatus);\r\n      return false;\r\n    }\r\n  }\r\n  return true;\r\n}\r\n\r\nfunction requestUserPermission() {\r\n  return new Promise((resolve, reject) => {\r\n    if ((Platform.OS === \"ios\" || Platform.OS == \"android\") && !isPermit_UserPermission()) {\r\n      resolve('This application needs premissions to be using notifications')\r\n    }\r\n    resolve(null)\r\n  })\r\n}\r\n\r\nasync function is_getToken() {\r\n  var fcmToken = \"\"\r\n  if (messaging) {\r\n    try{\r\n      fcmToken = await messaging().getToken();\r\n      console.log('Device_token: ', fcmToken)\r\n    }catch(error){\r\n      console.log(error)\r\n    }\r\n  }\r\n  return fcmToken;\r\n}\r\n\r\nfunction requestFirebaseToken() {\r\n  return new Promise((resolve, reject) => {\r\n    var token;\r\n    if (Platform.OS === 'ios' || Platform.OS === 'android') {\r\n      try {\r\n        token = is_getToken();\r\n      } catch{}\r\n    } else if (messaging && messaging.isSupported()) {\r\n      try {\r\n        token = is_getToken();\r\n      } catch{}\r\n    }\r\n    if (!token) {\r\n      resolve('Could not find Firebase messaging Token')\r\n    }\r\n    resolve(token)\r\n  })\r\n}\r\n\r\nfunction wrappedAlert(title, message, okText, _cancelable) {\r\n  return new Promise(resolve => {\r\n    Alert.alert(\r\n      title,\r\n      message,\r\n      [{text: okText, onPress: function() { resolve(); }}],\r\n      {cancelable: _cancelable, onDismiss: function() {resolve(); }},\r\n    );\r\n  });\r\n}\r\n//#endregion\r\n\r\n//#region Firebase Auth services\r\nfunction createFirebaseUserWithemailandpassword({Email, Pass}) {\r\n  return new Promise((resolve, reject) => {\r\n    auth().createUserWithEmailAndPassword(Email,Pass).then(() => {\r\n      var User = auth().currentUser;\r\n      var Name = User.displayName ? User.displayName : User.email\r\n      actionStarting(DataRefs.USERSDATA, Actions.UPDATE, {UserId: User.uid, Data: {\r\n        name: Name,\r\n        state: UserStates.STARTER,\r\n      }}).then((_data) => {\r\n        User.updateProfile({\r\n          displayName: Name\r\n        }).then((data) => {\r\n          User.sendEmailVerification().then(function() {\r\n            // Email sent.\r\n            resolve(null)\r\n          }).catch(function(error) {\r\n            console.log(\"error in send EmailVerification\", error)\r\n            resolve({error:error.code, viewError:'Verification could not be send'})\r\n          });\r\n        }).catch(function(error) {\r\n          console.log(\"update profile\")\r\n          resolve({error:error.code, viewError:'Update error, please refresh'})\r\n        });\r\n      })\r\n      \r\n    }).catch(error => {\r\n      console.log(\"UserCreate Error: \", error);\r\n      if (error.code === 'auth/email-already-in-use') {\r\n        resolve({error:error.code, viewError:'The email address is already in use.'})\r\n        //Should not exploid the users... (this could be used as a find user-mails) ???\r\n      }\r\n      else if (error.code === 'auth/invalid-email') {\r\n        resolve({error:error.code, viewError:'The email addres is invalid.'})\r\n      }\r\n      else if (error.code === 'auth/weak-password') {\r\n        resolve({error:error.code, viewError: error.message})\r\n      } else {\r\n        resolve({error:error.code, viewError: 'Something went wrong'})\r\n      }\r\n    })\r\n  })\r\n}\r\n\r\nfunction signinWithemailandpassword({Email, Pass}){\r\n  if (auth().currentUser){\r\n    if (auth().currentUser.email != Email){\r\n      const res = logoutUser()\r\n    }\r\n    else {\r\n      return new Promise((resolve, reject) => {\r\n        resolve(true)\r\n      })\r\n    }\r\n  }\r\n  return new Promise((resolve, reject) => {\r\n    auth().signInWithEmailAndPassword(Email,Pass).then(() => {\r\n      resolve(true)\r\n    }).catch(error => {\r\n      console.log(\"User Signin Error: \", error);\r\n\r\n      if (error.code === 'auth/invalid-email') {\r\n        resolve({error:error.code, viewError:'The email addres is invalid.'})\r\n      }\r\n      else {\r\n        resolve({error:'Could not singin', viewError:'Could not singin'})\r\n      }\r\n    })\r\n  })\r\n}\r\n\r\nfunction sendResetPassword({Email}){\r\n  return new Promise((resolve, reject) => {\r\n    auth().sendPasswordResetEmail(Email).then(() => {\r\n      resolve(true)\r\n    }).catch(error => {\r\n      console.log(\"User resetPass error:\", error);\r\n      if (error.code === 'auth/user-not-found'){\r\n        //Should not exploid the users... (this could be used as a find user-mails)\r\n      }\r\n      resolve(null)\r\n    })\r\n  })\r\n}\r\n\r\nfunction logoutUser(){\r\n  return new Promise((resolve, reject) => {\r\n    auth().signOut().then(() => {\r\n      resolve({type:Actions.UPDATE, path:DataRefs.FIREBASEUSER, data:null })\r\n    }).catch(error => {\r\n      console.log(\"User logout error:\", error);\r\n      resolve({type:Actions.UPDATE, path:DataRefs.FIREBASEUSER, data:null })\r\n    })\r\n  })\r\n}\r\n\r\nfunction refreshUser(){\r\n  return new Promise((resolve, reject) => {\r\n    var user = auth().currentUser\r\n    if (user){\r\n      auth().currentUser.reload().then((data) => {\r\n        user = auth().currentUser\r\n        console.log(data, user)\r\n        //resolve({type:Actions.UPDATE, path:DataRefs.FIREBASEUSER, data:null })\r\n      })\r\n    }\r\n    resolve(null)\r\n  })\r\n}\r\n//#endregion\r\n\r\n//#region Master Control\r\nfunction actionStarting(ref, action, params = null){\r\n  const CurrentUser = auth().currentUser;\r\n  switch(ref){\r\n    case DataRefs.USERSDATA:\r\n      switch(action){\r\n        case Actions.FETCH:\r\n          return fetchUser(params)\r\n        case Actions.CREATE:\r\n          if (params.hasOwnProperty(\"UserData\")) {\r\n            return new Promise((resolve, reject) => {\r\n              var Data = params[0]\r\n              createFarm({Data:{name: params.Farms.name}}).then((farmid) => {\r\n                updateFarmData({FarmId:farmid, Data:{sections:params.Sections, pens: params.Pens}}).then(() => {\r\n                  updateUserData({Data:{state: params.UserData.state, farms: {[farmid]: true}}}).then(() => {\r\n                    fetchUser(CurrentUser.uid).then((data) => {\r\n                      var Data = data.data\r\n                      resolve({type:Actions.UPDATE, path:DataRefs.FIREBASEUSER, data:Data })\r\n                    });\r\n                  })\r\n                })\r\n              })\r\n            })\r\n          }\r\n          break;\r\n        case Actions.UPDATE:\r\n          return updateUserData(params)\r\n        case Actions.SIGN:\r\n          if (!params){\r\n            return logoutUser()\r\n          }else {\r\n            if (params.hasOwnProperty(\"refresh\")){ // TODO: verify\r\n              return refreshUser()\r\n            } else return signinWithemailandpassword(params)\r\n          }\r\n          break;\r\n        case Actions.CLEAR:\r\n          if (!CurrentUser) {\r\n            return {type:Actions.CLEAR, path:DataRefs.USERS, data:{}}\r\n          } else {\r\n            return {type:Actions.CLEAR, path:DataRefs.USERSDATA, data:{}}\r\n          }\r\n          break;\r\n      }\r\n      break;\r\n\r\n    case DataRefs.USERS:\r\n      switch(action){\r\n        case Actions.FETCH:\r\n          return fetchUser(params, true)\r\n        case Actions.CREATE:\r\n          if (params.hasOwnProperty(\"Email\") && params.hasOwnProperty(\"Pass\")) return createFirebaseUserWithemailandpassword(params)\r\n          else if (params.hasOwnProperty(\"Email\")) return sendResetPassword(params)\r\n          break;\r\n        case Actions.UPDATE:\r\n          return {type:Actions.UPDATE, path:DataRefs.FIREBASEUSER, data:params}\r\n        case Actions.CLEAR:\r\n          return {type:Actions.CLEAR, path:DataRefs.USERS, data:{}}\r\n      }\r\n      break;\r\n\r\n    case DataRefs.FARMS:\r\n      switch(action){\r\n        case Actions.FETCH:\r\n          return fetchFarm(params);\r\n        case Actions.CREATE:\r\n          break;\r\n        case Actions.UPDATE:\r\n          return updateFarm(params)\r\n        case Actions.CLEAR:\r\n          return {type:Actions.CLEAR, path:DataRefs.FARMS, data:{}}\r\n      }\r\n      break;\r\n\r\n    case DataRefs.FARMDATAS:\r\n      switch(action) {\r\n        case Actions.UPDATE:\r\n          return updateFarmData(params)\r\n      }\r\n      break;\r\n\r\n    case DataRefs.SECTIONS:\r\n      switch(action){\r\n        case Actions.FETCH:\r\n          return fetchSections(params);\r\n        case Actions.CREATE:\r\n          break;\r\n        case Actions.UPDATE:\r\n          break;\r\n        case Actions.CLEAR:\r\n          return {type:Actions.CLEAR, path:DataRefs.SECTIONS, data:{}}\r\n      }\r\n      break;\r\n\r\n    case DataRefs.PENS:\r\n      switch(action){\r\n        case Actions.FETCH:\r\n          return fetchPens(params);\r\n        case Actions.CREATE:\r\n          return createNewPen(params);\r\n        case Actions.DELETE:\r\n          return deletePen(params)\r\n        case Actions.UPDATE:\r\n          return updatePen(params);\r\n        case Actions.CLEAR:\r\n          return {type:Actions.CLEAR, path:DataRefs.PENS, data:{}}\r\n      }\r\n      break;\r\n\r\n    case DataRefs.PIGS:\r\n      switch(action){\r\n        case Actions.FETCH:\r\n          return fetchPigs(params);\r\n        case Actions.CREATE:\r\n          return updatePigdata(params);\r\n        case Actions.UPDATE:\r\n          break;\r\n        case Actions.CLEAR:\r\n          return {type:Actions.CLEAR, path:DataRefs.PIGS, data:{}}\r\n      }\r\n      break;\r\n\r\n    case DataRefs.BATCHS:\r\n      switch(action){\r\n        case Actions.FETCH:\r\n          return fetchBatchs(params)\r\n        case Actions.CREATE:\r\n          return createBatchs(params)\r\n        case Actions.UPDATE:\r\n          return updateBatchs(params)\r\n        case Actions.DELETE:\r\n          //return deleteBatch(params)\r\n          break;\r\n        case Actions.CLEAR:\r\n          return {type:Actions.CLEAR, path:DataRefs.BATCHS, data:{}}\r\n      }\r\n      break;\r\n\r\n    case DataRefs.WEIGHING:\r\n      switch(action){\r\n        case Actions.FETCH:\r\n          return fetchWeights(params);\r\n        case Actions.CREATE:\r\n          return createWeight(params);\r\n        case Actions.UPDATE:\r\n          break;\r\n        case Actions.CLEAR:\r\n          return {type:Actions.CLEAR, path:DataRefs.WEIGHING, data:{}}\r\n      }\r\n      break;\r\n\r\n    case DataRefs.COMMENTS:\r\n      switch(action) {\r\n        case Actions.FETCH:\r\n          return fetchComments(params);\r\n        case Actions.CREATE:\r\n          return createComment(params);\r\n      }\r\n      break;\r\n\r\n    case DataRefs.GRAPH:\r\n      switch(action){\r\n        case Actions.FETCH:\r\n          return fetchGraphData(params);\r\n        case Actions.CREATE:\r\n          return updateGraphData(params);\r\n        case Actions.UPDATE:\r\n          return updateGraphData(params);\r\n        case Actions.CLEAR:\r\n          return {type:Actions.CLEAR, path:DataRefs.GRAPH, data:{}}\r\n      }\r\n      break;\r\n  }\r\n  return new Promise((resolve, reject) => {\r\n    resolve({error: \"Unknown Action\"})\r\n  })\r\n}\r\n//#endregion\r\n\r\nfunction SetUpdateTime(DataRef) {\r\n  return new Promise((resolve, reject) => {\r\n    console.log(\"Setting Update Time\")\r\n    database().ref(DataRef).update({\r\n      update_time: database.ServerValue.TIMESTAMP,\r\n    }).then(() => {\r\n      resolve(true)\r\n    }).catch(error => {\r\n      console.log(error)\r\n      /*if (error.code === 'database/permission-denied') {\r\n        console.log(\"Batch update was permission denied. \");\r\n      }else if (error.code) {\r\n        console.log(\"Batch update Error: \", error);\r\n      }*/\r\n      resolve(true)\r\n    });\r\n  })\r\n}\r\nfunction CheckDataTime(DataRef, DataTime) {\r\n  return new Promise((resolve, reject) => {\r\n    if (!DataTime) resolve(true)\r\n    database().ref(DataRef + \"/update_time\").once('value').then((_Time) => {\r\n      var UpdateTime = _Time.val()\r\n      if (!UpdateTime) {\r\n        SetUpdateTime(DataRef).then((res) => {\r\n          resolve(true)\r\n        })\r\n      } else {\r\n        if (DataTime) {\r\n          if (DataTime === \"SET\"){\r\n            SetUpdateTime(DataRef).then((res) => {\r\n              resolve(res)\r\n            })\r\n          } else if (DataTime < UpdateTime){\r\n            resolve(true)\r\n          }\r\n          else resolve(false)\r\n        }else resolve(true)\r\n      }\r\n    })\r\n  })\r\n}\r\n\r\n//#region User data Controls\r\nfunction fetchUser({UserId}, List = false) {\r\n  var user = \"\";\r\n  if (UserId) user = UserId\r\n  else if (!List && auth().currentUser) user = auth().currentUser.uid;\r\n\r\n  if (user || List) {\r\n    const ref = \"users/\" + user;\r\n    return new Promise((resolve, reject) => {\r\n      database().ref(ref).once('value').then((userData) => {\r\n        var data = userData.val()\r\n        if (!List) {\r\n          resolve({type:Actions.UPDATE, path:DataRefs.FIREBASEUSER, data:{data}})\r\n        } else {\r\n          resolve({type:Actions.UPDATE, path:DataRefs.USERS, data:{data}})\r\n        }\r\n      }).catch(error => {\r\n        console.log(error)\r\n        if (error.code === 'database/permission-denied') {\r\n          console.log(\"User update was permission denied. \");\r\n        }else if (error.code) {\r\n          console.log(\"User update Error: \", error);\r\n        }\r\n        resolve({error:\"An error occurred\"})\r\n      })\r\n    })\r\n  }\r\n  else return new Promise((resolve, reject) => {\r\n    console.log(\"User uid in fecth unknown\");\r\n    resolve(null)\r\n  })\r\n}\r\n\r\nfunction updateUserData({UserId, Data}) {\r\n  const user = UserId? UserId: auth().currentUser.uid;\r\n  if (user) {\r\n    const ref = \"users/\" + user;\r\n    return new Promise((resolve, reject) => {\r\n      database().ref(ref).update(\r\n        Data\r\n      ).then((data) => {\r\n        resolve(null)\r\n      }).catch(error => {\r\n        if (error.code === 'database/permission-denied') {\r\n          console.log(\"User update was permission denied. \");\r\n        }else if (error.code) {\r\n          console.log(\"User update Error: \", error);\r\n        }\r\n        resolve({error:\"An error occurred\"})\r\n      })\r\n    }) \r\n  } else return new Promise((resolve, reject) => {\r\n    console.log(\"User uid in fecth unknown\");\r\n    resolve(null)\r\n  })\r\n}\r\n//#endregion\r\n\r\n//#region Farm info data Controls\r\nfunction fetchFarm({FarmId}) {\r\n  var ref = \"farms/\" + FarmId\r\n  return database().ref(ref).once('value').then((_farmData) => {\r\n    //TODO:Multiple farms\r\n    var data = _farmData.val()\r\n    if (FarmId) {\r\n      data = {[FarmId]:data}\r\n    }\r\n    return {type:Actions.UPDATE, path:DataRefs.FARMS, data: data}\r\n  })\r\n  /*} else return new Promise((resolve, reject) => {\r\n    console.log(\"Farm uid in fecth unknown\");\r\n    resolve(null)\r\n  })*/\r\n}\r\n\r\nfunction updateFarm({FarmId, Data}) {\r\n  return new Promise((resolve, reject) => {\r\n    if (FarmId){\r\n      database().ref('farms/'+ FarmId).update({\r\n        ...Data\r\n      }).then(()=> {\r\n        resolve(null)\r\n      }).catch(error => {\r\n        console.log(\"Create Farm Error: \", error);\r\n        resolve(false)\r\n      })\r\n    } else {\r\n      const farm = database().ref('farms/').push()\r\n      const farmid = farm.key\r\n      farm.set({\r\n        Data\r\n      }).then(() => {\r\n        resolve(farmid)\r\n      }).catch(error => {\r\n        console.log(\"Create Farm Error: \", error);\r\n        resolve(false)\r\n      })\r\n    }\r\n  })\r\n}\r\n\r\nfunction createFarm({Data}){\r\n  const user = auth().currentUser;\r\n  const ref = \"users/\" + user.uid;\r\n\r\n  return new Promise((resolve, reject) => {\r\n    const farm = database().ref('farms/').push()\r\n    const farmid = farm.key\r\n    \r\n    farm.set({\r\n      email: user.email,\r\n      manager: user.displayName ? user.displayName : user.email,\r\n      name: Data.name\r\n    }).then(() => {\r\n      resolve(farmid)\r\n    }).catch(error => {\r\n      console.log(\"Create Farm Error: \", error);\r\n      resolve(false)\r\n    })\r\n  })\r\n}\r\n\r\nfunction updateFarmData({FarmId, Data}) {\r\n  if (FarmId) {\r\n    const ref = \"farms_data/\" + FarmId;\r\n    return new Promise((resolve, reject) => {\r\n      database().ref(ref).update(\r\n        Data\r\n      ).then(() => {\r\n        resolve(null)\r\n      }).catch(error => {\r\n        if (error.code === 'database/permission-denied') {\r\n          console.log(\"Farm data update was permission denied.\");\r\n        }else if (error.code) {\r\n          console.log(\"User update Error: \", error);\r\n        }\r\n\r\n        resolve(false)\r\n      })\r\n    })\r\n  } else return new Promise((resolve, reject) => {\r\n    console.log(\"Farm uid in fecth unknown\");\r\n    resolve(null)\r\n  })\r\n}\r\n//#endregion\r\n\r\n//#region Farm data Controls\r\n\r\n//#region Sections\r\nfunction fetchSections({FarmId, SectionId, DataTime}){\r\n  if (FarmId) {\r\n    var ref = \"farms_data/\" + FarmId + \"/sections\";\r\n    if (SectionId){\r\n      ref += \"/\" + SectionId\r\n    }\r\n    return new Promise((resolve, reject) => {\r\n      CheckDataTime(\"farms_data/\" + FarmId + \"/sections\", DataTime).then((DoFetch) => {\r\n        if (DoFetch) {\r\n          console.log(\"Sections fetch called\")\r\n          return database().ref(ref).once('value').then((_sectionidData) => {\r\n            resolve({type:Actions.UPDATE, path:DataRefs.SECTIONS, data:_sectionidData.val()})\r\n          })\r\n        }\r\n        else {\r\n          resolve(null)\r\n        }\r\n      })\r\n    })\r\n  }\r\n  return new Promise((resolve, reject) => {\r\n    console.log(\"Fecth Sections Error\");\r\n    resolve(null)\r\n  })\r\n}\r\n//#endregion\r\n\r\n//#region Pens\r\nfunction fetchPens({FarmId, PenId, DataTime}){\r\n  if (FarmId) {\r\n    var ref = \"farms_data/\" + FarmId + \"/pens\";\r\n    if (PenId){\r\n      ref += \"/\" + PenId\r\n    }\r\n    return new Promise((resolve, reject) => {\r\n      CheckDataTime(\"farms_data/\" + FarmId + \"/pens\", DataTime).then((DoFetch) => {\r\n        if (DoFetch){\r\n          console.log(\"Pens fetch Called\")\r\n\r\n          database().ref(ref).once('value').then((_pensData) => {\r\n            if (PenId) {\r\n              var penData = _pensData.val()\r\n              if (!penData) penData = {}\r\n              if (!penData.datas) penData.datas = {}\r\n              //if (!penData.datas.gcurve) penData.datas.gcurve = \"default\";\r\n      \r\n              var pen = {[PenId]: penData};\r\n              resolve({type:Actions.UPDATE, path:DataRefs.PENS, data:pen})\r\n            } else {\r\n              resolve({type:Actions.UPDATE, path:DataRefs.PENS, data:_pensData.val()})\r\n            }\r\n          })\r\n        }\r\n        else {\r\n          resolve(null)\r\n        }\r\n      })\r\n    })\r\n  } \r\n  return new Promise((resolve, reject) => {\r\n    console.log(\"Fecth Pens Error\");\r\n    resolve(null)\r\n  })\r\n}\r\n\r\nfunction createNewPen({FarmId, PenId, SectionId}){\r\n  if (FarmId) {\r\n    var ref = \"farms_data/\" + FarmId + \"/\";\r\n    return new Promise((resolve, reject) => {\r\n      if (PenId) {\r\n        var ref2 = ref + \"pens/\" + PenId + \"/\"\r\n        database().ref(ref2).set({\r\n          section: SectionId,\r\n        }).then(() => {\r\n          database().ref(ref + \"sections/\" + SectionId + \"/pens\").update({\r\n            [PenId]: true,\r\n          }).then(() => {\r\n            database().ref(ref + \"sections/\").update({\r\n              update_time: database.ServerValue.TIMESTAMP,\r\n            }).then(() => {\r\n              fetchPens({FarmId: FarmId, PenId: PenId, DataTime: \"SET\"}).then((_Pen) => {\r\n                resolve({type:Actions.UPDATE, path:DataRefs.PENS, data:_Pen.data})\r\n              });\r\n            });\r\n          });\r\n        });\r\n      }\r\n    })\r\n  }\r\n}\r\n\r\nfunction deletePen({FarmId, PenId, SectionId}){\r\n  if (FarmId && PenId){\r\n    var ref = \"farms_data/\" + FarmId + \"/\";\r\n    return new Promise((resolve, reject) => {\r\n      database().ref(ref + \"pens/\" + PenId).remove().then(() => {\r\n        if (SectionId){\r\n          database().ref(ref + \"sections/\" + SectionId + \"/pens/\" + PenId).remove().then(() => {\r\n            database().ref(ref + \"sections/\").update({\r\n              update_time: database.ServerValue.TIMESTAMP,\r\n            }).then(() => {\r\n              fetchPens({FarmId: FarmId, PenId: PenId, DataTime: \"SET\"}).then((_Pen) => {\r\n                resolve({type:Actions.UPDATE, path:DataRefs.PENS, data:_Pen.data})\r\n              })\r\n            });\r\n          })\r\n        }else {\r\n          resolve(null)\r\n        }\r\n      })\r\n    })\r\n  }\r\n}\r\n\r\nfunction updatePen({FarmId, PenId, Pen}){\r\n  if (FarmId) {\r\n    var ref = \"farms_data/\" + FarmId + \"/\";\r\n    return new Promise((resolve, reject) => {\r\n      if (PenId){\r\n        fetchPens({FarmId: FarmId, PenId: PenId}).then((_Pen) => {\r\n          var ref2 = ref + \"pens/\" + PenId + \"/\"\r\n          var data = Pen.datas\r\n          var Datas = {..._Pen.data[PenId].datas, ...data}\r\n          database().ref(ref2).update({\r\n            ...Pen,\r\n            datas: Datas\r\n          }).then(() => {\r\n            if (Pen.section) {\r\n              database().ref(ref + \"sections/\" + SectionId + \"/pens\").update({\r\n                [PenId]: true,\r\n              }).then(() => {\r\n                database().ref(ref + \"sections/\").update({\r\n                  update_time: database.ServerValue.TIMESTAMP,\r\n                }).then(() => {\r\n                  resolve(null)\r\n                });\r\n              });\r\n            }\r\n          });\r\n        })\r\n      }\r\n    })\r\n  }\r\n}\r\n//#endregion\r\n\r\n//#region Pigs\r\nfunction fetchPigs({FarmId, TagId}){\r\n  if (FarmId) {\r\n    var ref = \"farms_data/\" + FarmId + \"/pigs\";\r\n    if (TagId){\r\n      ref += \"/\" + TagId\r\n    }\r\n\r\n    return database().ref(ref).once('value').then((_pigsData) => {\r\n      if (TagId) {\r\n        var pigData = _pigsData.val()\r\n        if (!pigData) return null;\r\n        if (!pigData.datas) pigData.datas = {}\r\n        if (!pigData.datas.gcurve) pigData.datas.gcurve = \"default\";\r\n\r\n        var pig = {[TagId]: pigData};\r\n        return {type:Actions.UPDATE, path:DataRefs.PIGS, data:pig}\r\n      } else {\r\n        return {type:Actions.UPDATE, path:DataRefs.PIGS, data:_pigsData.val()}\r\n      }\r\n    })\r\n  }\r\n  return new Promise((resolve, reject) => {\r\n    console.log(\"Fecth Pigs Error\");\r\n    resolve(null)\r\n  })\r\n}\r\n\r\nfunction updatePigPen({FarmId, TagId, PenId, Action}) {\r\n  if (PenId) {\r\n    var ref2 = \"farms_data/\" + FarmId + \"/\" + \"pens/\" + PenId + \"/datas\"\r\n    return new Promise((resolve, reject) => {\r\n      database().ref(ref2 + \"/count\").once('value').then((counts) => {\r\n        var val = counts.val()\r\n        if (!val) val = 0\r\n        if (Action && !isNaN(Action)) {\r\n          val = parseInt(val) + parseInt(Action)\r\n        } else {\r\n          val = parseInt(val) +1\r\n        }\r\n        database().ref(ref2).update({\r\n          count: val,\r\n        }).then(() => {\r\n          fetchPens({FarmId: FarmId, PenId: PenId}).then((pen) => {\r\n            resolve({type:Actions.UPDATE, path:DataRefs.PENS, data:pen.data})\r\n          })\r\n        });\r\n      }).catch(error => {\r\n        console.log(\"Update pig pen Error: \", error);\r\n        resolve(null)\r\n      })\r\n    })\r\n  }else {\r\n    return new Promise((resolve, reject) => {\r\n      resolve(null)\r\n    })\r\n  }\r\n}\r\n\r\nfunction updatePigdata({FarmId, TagId, PenId, Action}) {\r\n  if (FarmId) {\r\n    var ref = \"farms_data/\" + FarmId + \"/\";\r\n    if (TagId) {\r\n      return new Promise((resolve, reject) => {\r\n        var ref2 = ref + \"pigs/\" + TagId + \"/\"\r\n        fetchPigs({FarmId: FarmId, TagId: TagId}).then((pig) => {\r\n          if (pig && pig.data) {\r\n            pig = pig.data[TagId]?pig.data[TagId]:null\r\n          }\r\n          if (!pig || !pig.hasOwnProperty('pen')){\r\n            database().ref(ref2).update({\r\n              pen: 0,\r\n            }).then(() => {\r\n              fetchPigs({FarmId: FarmId}).then((pigs) => {\r\n                console.log(\"?\", pigs)\r\n                resolve(null)\r\n                //resolve({type:Actions.UPDATE, path:DataRefs.PIGS, data:pigs})\r\n              })\r\n            })\r\n          }\r\n          else if (PenId && PenId != pig.pen) {\r\n            updatePigPen({FarmId: FarmId, TagId: TagId, PenId: pig.pen, Action:-1}).then((data)=>{\r\n              updatePigPen({FarmId: FarmId, TagId: TagId, PenId: PenId, Action:+1}).then((data)=>{\r\n                database().ref(ref2).update({\r\n                  pen: PenId\r\n                }).then(() => {\r\n                  fetchPigs({FarmId: FarmId}).then((pigs)=> {\r\n                    resolve({type:Actions.UPDATE, path:DataRefs.PIGS, data:pigs.data})\r\n                  })\r\n                })\r\n              })\r\n            })\r\n          } else {\r\n            resolve(null)\r\n          }\r\n        })\r\n      })\r\n    } else {\r\n      return new Promise((resolve, reject) => {\r\n        updatePigPen({FarmId: FarmId, TagId: TagId, PenId: PenId, Action:Action}).then((data) => {\r\n          resolve({type:Actions.UPDATE, path:DataRefs.PENS, data:data.data})\r\n        })\r\n      })\r\n    }\r\n  }\r\n}\r\n//#endregion\r\n\r\n//#region Batchs\r\nfunction fetchBatchs({FarmId, BatchId, Data, DataTime}) {\r\n  if (FarmId) {\r\n    var ref = \"farms_data/\" + FarmId + \"/batchs\";\r\n    if (BatchId){\r\n      ref += \"/\" + BatchId\r\n    }\r\n\r\n    return new Promise((resolve, reject) => {\r\n      CheckDataTime(\"farms_data/\" + FarmId + \"/batchs\", DataTime).then((DoFetch) => {\r\n        if (DoFetch) {\r\n          if (!Data) {\r\n            database().ref(ref).once('value').then((_batchdata) => {\r\n              if (BatchId) {\r\n                var batchdata = _batchdata.val()\r\n                if (!batchdata) return null;\r\n                if (!batchdata.datas) batchdata.datas = {}\r\n                if (!batchdata.pens) batchdata.pens = []\r\n                if (!batchdata.datas.gcurve) batchdata.datas.gcurve = \"default\";\r\n\r\n                var batch = {[BatchId]: batchdata};\r\n                resolve({type:Actions.UPDATE, path:DataRefs.BATCHS, data:batch})\r\n              } else {\r\n                resolve({type:Actions.UPDATE, path:DataRefs.BATCHS, data:_batchdata.val()})\r\n              }\r\n            })\r\n          }\r\n          else if (BatchId) {\r\n            switch(Data){\r\n              case DataRefs.BATCHS:\r\n                ref += \"/\" + \"datas\"\r\n                return database().ref(ref).once('value').then((_batchdata) => {\r\n                  var data = {[BatchId]: {datas: _batchdata.val()}}\r\n                  resolve({type:Actions.UPDATE, path:DataRefs.BATCHS, data:data})\r\n                })\r\n              case DataRefs.PENS:\r\n                ref += \"/\" + \"pens\"\r\n                return database().ref(ref).once('value').then((_batchdata) => {\r\n                  var pens = {[BatchId]: {pens: _batchdata.val()}}\r\n                  resolve({type:Actions.UPDATE, path:DataRefs.BATCHS, data:pens})\r\n                })\r\n              case DataRefs.GRAPH:\r\n                ref += \"/\" + \"gcurve\"\r\n                return database().ref(ref).once('value').then((_batchdata) => {\r\n                  var curve = {[BatchId]: {gcurve: _batchdata.val()}}\r\n                  resolve({type:Actions.UPDATE, path:DataRefs.BATCHS, data:curve})\r\n                })\r\n            }\r\n          }\r\n\r\n        } else {\r\n          resolve(null)\r\n        }\r\n      })\r\n    })\r\n  }\r\n  return new Promise((resolve, reject) => {\r\n    console.log(\"Fecth Batchs Error\");\r\n    resolve(null)\r\n  })\r\n}\r\n\r\nfunction createBatchs({FarmId, BatchId, Batch}) {\r\n  if (FarmId) {\r\n    var ref = \"farms_data/\" + FarmId + \"/batchs\";\r\n    return new Promise((resolve, reject) => {\r\n      if (Batch && Batch.name) {\r\n        BatchId = Batch.name;\r\n        ref += \"/\" + Batch.name + \"/\"\r\n        delete Batch.name;\r\n        database().ref(ref).set({\r\n          ...Batch,\r\n        }).then(() => {\r\n          Object.keys(Batch.pens).forEach(pen => {\r\n            updatePen({FarmId:FarmId, PenId:pen, Pen:{datas:{batch:BatchId}}})\r\n          })\r\n          resolve(fetchBatchs({FarmId: FarmId, DataTime: \"SET\"}))\r\n        }).catch(error => {\r\n          if (error.code === 'database/permission-denied') {\r\n            console.log(\"Batch update was permission denied. \");\r\n          }else if (error.code) {\r\n            console.log(\"Batch update Error: \", error);\r\n          }\r\n          resolve({error:\"An error occurred\"})\r\n        })\r\n      } else if (BatchId) { //added else ??? still cleanup ??\r\n        console.log(\"???\") //TODO: why id.. mabye cleanup\r\n        ref += \"/\" + BatchId + \"/\"\r\n        database().ref(ref).set({\r\n          time: database.ServerValue.TIMESTAMP,\r\n          pens:[],\r\n          datas:{\r\n            devianceMin:1,\r\n            devianceMax:2,\r\n          }\r\n        }).then(() => {\r\n          resolve(fetchBatchs({FarmId: FarmId, DataTime: \"SET\"}))\r\n        });\r\n      }\r\n    })\r\n  }\r\n}\r\n\r\nfunction updateBatchs({FarmId, BatchId, Batch, Data}) {\r\n  if (FarmId) {\r\n    var ref = \"farms_data/\" + FarmId + \"/batchs\";\r\n    return new Promise((resolve, reject) => {\r\n      if (BatchId && Batch) {\r\n        ref += \"/\" + BatchId\r\n        fetchBatchs({FarmId: FarmId, BatchId: BatchId, Data:DataRefs.PENS}).then((_batch) => {\r\n          var Pens = _batch.data[BatchId].pens\r\n          if (Batch.name) delete Batch.name\r\n\r\n          var BatchPens = {}\r\n          if (Batch.pens && JSON.stringify(Batch.pens)!==JSON.stringify(Pens)) {\r\n            if (!Pens) Pens = []\r\n            var RemovedPens = Object.keys(Pens).filter(x => !Object.keys(Batch.pens).includes(x) && !Pens[x].enddate);\r\n            var NewPens = Object.keys(Batch.pens).filter(x => !Object.keys(Pens).includes(x) || Pens[x].enddate);\r\n            var SamePens = Object.keys(Pens).filter(x => !Object.keys(RemovedPens).includes(x) && !Object.keys(NewPens).includes(x));\r\n\r\n            if (RemovedPens && RemovedPens.length > 0) {\r\n              RemovedPens.forEach(pen => {\r\n                if (Pens[pen]) {\r\n                  var Pen = Pens[pen]\r\n                  Pen.enddate = Date.now()\r\n                  BatchPens[pen] = Pen\r\n                  fetchPens({FarmId: FarmId, PenId:pen}).then((pendata) => {\r\n                    var count = 0\r\n                    if (pendata.data[pen] && pendata.data[pen].datas && pendata.data[pen].datas.count)count=pendata.data[pen].datas.count\r\n                    BatchPens[pen].count = count\r\n                  })\r\n                  updatePen({FarmId:FarmId, PenId:pen, Pen:{datas:{batch:\"\"}}})\r\n                }\r\n              })\r\n            }\r\n            if (NewPens && NewPens.length > 0) {\r\n              NewPens.forEach(pen => {\r\n                var Pen = Pens[pen]?Pens[pen]:{startdate:Date.now()}\r\n                if (Pen.enddate) delete Pen.enddate\r\n                BatchPens[pen] = Pen\r\n                updatePen({FarmId:FarmId, PenId:pen, Pen:{datas:{batch:BatchId}}})\r\n              })\r\n            }\r\n\r\n            if (SamePens && SamePens.length > 0) {\r\n              SamePens.forEach(pen => {\r\n                BatchPens[pen] = Pens[pen]\r\n              })\r\n            }\r\n          }\r\n          Batch.pens = BatchPens\r\n\r\n          if (Batch.state && Batch.state === \"Closed\") {\r\n            fetchBatchs({FarmId: FarmId, BatchId: BatchId, Data:DataRefs.GRAPH}).then((curve) => {\r\n              var CurveId = curve.data[BatchId].gcurve\r\n              fetchGraphData({FarmId: FarmId}).then((curve) => {\r\n                Batch.gcurve = curve.data[CurveId]\r\n                Batch.closed = {comments: [], weighings: []}\r\n                \r\n                for (let i = 0, p = Promise.resolve(); i <= Object.keys(Pens).length; i++) {\r\n                  p = p.then(_ => new Promise(_resolve => {\r\n                    setTimeout(function () {\r\n                      if (i !== Object.keys(Pens).length) {\r\n                        var PenId = Object.keys(Pens)[i]\r\n                        Batch.pens[PenId] = Pens[PenId]\r\n                        fetchPens({FarmId: FarmId, PenId:PenId}).then((pendata) => {\r\n                          var count = 0\r\n                          if (pendata.data[PenId] && pendata.data[PenId].datas && pendata.data[PenId].datas.count)count=pendata.data[PenId].datas.count\r\n                          Batch.pens[PenId].count = count\r\n                        })\r\n                        if (!Batch.pens[PenId].enddate) {\r\n                          Batch.pens[PenId].enddate = Date.now()\r\n                        }\r\n                        updatePen({FarmId:FarmId, PenId:PenId, Pen:{datas:{batch:\"\", count:0}}})\r\n\r\n                        fetchComments({FarmId: FarmId, PenId: PenId}).then((comments) => {\r\n                          Batch.closed.comments[PenId] = comments.data[PenId]\r\n                          database().ref(\"farms_data/\" + FarmId + \"/datas/comments/\" + PenId).remove()\r\n                          \r\n                          fetchWeights({FarmId: FarmId, PenId: PenId}).then((weights) => {\r\n                            Batch.closed.weighings[PenId] = weights.data[PenId]\r\n                            database().ref(\"farms_data/\" + FarmId + \"/weighings/\" + PenId).remove()\r\n                            _resolve();\r\n                          })\r\n                        })\r\n                      }\r\n                      else {\r\n                        database().ref(ref).update({\r\n                          ...Batch\r\n                        }).then(()=>{\r\n                          database().ref(ref + \"/closed\").set(\r\n                            Batch.closed\r\n                          ).then(() => {\r\n                            fetchBatchs({FarmId: FarmId, BatchId: BatchId, DataTime: \"SET\"}).then((data)=>{\r\n                              resolve(data)\r\n                            })\r\n                          }).catch(error => {\r\n                            if (error.code === 'database/permission-denied') {\r\n                              console.log(\"Batch update was permission denied. \");\r\n                            }else if (error.code) {\r\n                              console.log(\"Batch update Error: \", error);\r\n                            }\r\n                            console.log(error)\r\n                            resolve({error:\"An error occurred\"})\r\n                          })\r\n                        })\r\n                      }\r\n                    })\r\n                  }));\r\n                }\r\n              })\r\n            })\r\n          } else {\r\n            database().ref(ref).update({\r\n              ...Batch,\r\n            }).then(() => {\r\n              fetchBatchs({FarmId: FarmId, BatchId: BatchId, DataTime: \"SET\"}).then((data)=>{\r\n                resolve(data)\r\n              })\r\n            }).catch(error => {\r\n              if (error.code === 'database/permission-denied') {\r\n                console.log(\"Batch update was permission denied. \");\r\n              }else if (error.code) {\r\n                console.log(\"Batch update Error: \", error);\r\n              }\r\n              console.log(error)\r\n              resolve({error:\"An error occurred\"})\r\n            })\r\n          }\r\n        })\r\n      }else {\r\n        console.log(\"Update Batchs Error\");\r\n        resolve(null)\r\n      }\r\n    })\r\n  }\r\n}\r\n//#endregion\r\n\r\n//#region Weights\r\nfunction fetchWeights({FarmId, PenId, SectionId, limitStart = 0, limitTo = 9999, DataTime, MemSections}) {\r\n  if (FarmId) {\r\n    var ref = \"farms_data/\" + FarmId + \"/weighings\";\r\n    return new Promise((resolve, reject) => {\r\n      CheckDataTime(\"farms_data/\" + FarmId + \"/weighings\", DataTime).then((DoFetch) => {\r\n        if (DoFetch) {\r\n          if (PenId) {\r\n            console.log(\"Weight fetch called, getting Pen\")\r\n            ref += \"/\" + PenId\r\n            database().ref(ref).orderByChild('time').limitToLast(limitTo).once('value', snapshot => {\r\n              var weighing = {[snapshot.key]:{}}\r\n              snapshot.forEach(c => {\r\n                weighing[snapshot.key][c.key] = c.val()\r\n              })\r\n              resolve({type:Actions.UPDATE, path:DataRefs.WEIGHING, data:weighing})\r\n            })\r\n          } else {\r\n            console.log(\"Weight fetch called, getting Sections\")\r\n            database().ref(ref + \"/update_time\").once('value').then((_weighingTime) => {\r\n              //TODO: Section fetch cast :: in mem check ??\r\n              var Weighings_Time = _weighingTime.val()\r\n              fetchSections({FarmId, SectionId, DataTime: MemSections?MemSections.update_time:null}).then((sections) => {\r\n                var itemsProcessed = 0;\r\n                var length = 0;\r\n                var newWeights = {}\r\n                var Sections = sections?sections.data:MemSections\r\n                Object.keys(Sections).forEach(section => {\r\n                  if (Sections[section] && Sections[section].pens) {\r\n                    length += Object.keys(Sections[section].pens).filter(e => e !== '__jsogObjectId').length\r\n                    Object.keys(Sections[section].pens).filter(e => e !== '__jsogObjectId').forEach(pen => {\r\n                      fetchWeights({FarmId:FarmId, PenId:pen, limitStart:0, limitTo:limitTo}).then((weights) => {\r\n                        itemsProcessed++\r\n                        newWeights = {...newWeights, ...weights.data}\r\n                        if (itemsProcessed === length) {\r\n                          newWeights.update_time = Weighings_Time\r\n                          resolve({type:Actions.UPDATE, path:DataRefs.WEIGHING, data:newWeights})\r\n                        }\r\n                      }).catch(error => {\r\n                        console.log(error)\r\n                        resolve({type:Actions.UPDATE, path:DataRefs.WEIGHING, data:newWeights})\r\n                      })\r\n                    })\r\n                  }\r\n                })\r\n              }).catch(error => {\r\n                console.log(error)\r\n              })\r\n            })\r\n          }\r\n\r\n        }\r\n        else {\r\n          resolve(null)\r\n        }\r\n      })\r\n    })\r\n  }\r\n  return new Promise((resolve, reject) => {\r\n    console.log(\"Fecth Weights Error\");\r\n    resolve(null)\r\n  })\r\n}\r\n\r\nfunction createWeight({FarmId, PenId, Weight, Quantity, Date}) {\r\n  if (FarmId) {\r\n    var ref = \"farms_data/\" + FarmId + \"/weighings\";\r\n    if (PenId){\r\n      ref += \"/\" + PenId + \"/\"\r\n\r\n      return new Promise((resolve, reject) => {\r\n        const weightRef = database().ref(ref).push()\r\n        const weightId = weightRef.key\r\n        weightRef.set({\r\n          time: Date,\r\n          weight: Weight,\r\n          count: Quantity,\r\n        }).then(() => {\r\n          fetchWeights({FarmId:FarmId, PenId:PenId, DataTime: \"SET\"}).then((weights)=>{\r\n            resolve(weights)\r\n          })\r\n        }).catch(error => {\r\n          console.log(\"Create Weight Error: \", error);\r\n          resolve(null)\r\n        })\r\n      })\r\n    }\r\n  }\r\n}\r\n//#endregion\r\n\r\n//#region Comments\r\nfunction fetchComments({FarmId, PenId, limitStart = 0, limitTo = 5}) {\r\n  if (FarmId) {\r\n    var ref = \"farms_data/\" + FarmId + \"/datas/comments\";\r\n    return new Promise((resolve, reject) => {\r\n      if (PenId) {\r\n        ref += \"/\" + PenId\r\n        database().ref(ref).orderByChild('time').limitToLast(limitTo).once('value', snapshot => {\r\n          var comment = {[snapshot.key]:{}}\r\n          snapshot.forEach(c => {\r\n            comment[snapshot.key][c.key] = c.val()\r\n          }) \r\n          resolve({type:Actions.UPDATE, path:DataRefs.COMMENTS, data:comment})\r\n        })\r\n      } else {\r\n        //TODO: ...Comment other than PenId\r\n      }\r\n    })\r\n  }\r\n  return new Promise((resolve, reject) => {\r\n    console.log(\"Fecth Weights Error\");\r\n    resolve(null)\r\n  })\r\n}\r\n\r\nfunction createComment({FarmId, PenId, Action, Data, Quantity, Weight}) {\r\n  if (FarmId) {\r\n    var ref = \"farms_data/\" + FarmId + \"/datas/comments\";\r\n    if (PenId){\r\n      ref += \"/\" + PenId + \"/\"\r\n\r\n      return new Promise((resolve, reject) => {\r\n        const commentRef = database().ref(ref).push()\r\n        const commentId = commentRef.key\r\n\r\n        commentRef.set({\r\n          time: database.ServerValue.TIMESTAMP,\r\n          user: auth().currentUser.email,\r\n          action: Action,\r\n          quantity: Quantity,\r\n          weight: Weight,\r\n          data: Data,\r\n        }).then(() => {\r\n          fetchComments({FarmId:FarmId, PenId:PenId}).then((weights)=>{\r\n            resolve(weights)\r\n          })\r\n        }).catch(error => {\r\n          console.log(\"Create Comment Error: \", error);\r\n          resolve(null)\r\n        })\r\n      })\r\n    } else {\r\n      //TODO: ...Comment other than PenId\r\n    }\r\n  }\r\n  return new Promise((resolve, reject) => {\r\n    console.log(\"Fecth Graph Error\");\r\n    resolve(null)\r\n  })\r\n}\r\n//#endregion\r\n\r\n//#region Graphs\r\nfunction fetchGraphData({FarmId, GraphId, DataTime}) {\r\n  if (FarmId) {\r\n    var ref = \"farms_data/\" + FarmId + \"/graph\";\r\n    ref = ref + \"/\" + GraphId;\r\n    return new Promise((resolve, reject) => {\r\n      CheckDataTime(\"farms_data/\" + FarmId + \"/graph\", DataTime).then((DoFetch) => {\r\n        console.log(\"Doing Graphs fetch\", DoFetch, \"Always..\")\r\n        //if (DoFetch){\r\n\r\n          database().ref(ref).once('value').then((graph) => {\r\n            var Graphs = null\r\n            var GraphVal = graph.val()\r\n            if (GraphVal) {\r\n              if (GraphId) {\r\n                var newGraph = {[graph.key]: GraphVal}\r\n                Graphs = {...Graphs, ...newGraph}\r\n              }else {\r\n                Graphs = {...Graphs, ...GraphVal}\r\n              }\r\n            }\r\n            if (!GraphId) {\r\n              database().ref(\"farms_data/Agrisys/graph\").once('value').then((Agraph) => {\r\n                var AgraphVal = Agraph.val();\r\n                if (AgraphVal) {\r\n                  Graphs = {...AgraphVal, ...Graphs}\r\n                }\r\n                resolve({type:Actions.UPDATE, path:DataRefs.GRAPH, data:Graphs})\r\n              }).catch(error => {\r\n                console.log(\"Get Agrisys graph Error: \", error);\r\n                resolve({type:Actions.UPDATE, path:DataRefs.GRAPH, data:Graphs})\r\n              })\r\n            }else {\r\n              resolve({type:Actions.UPDATE, path:DataRefs.GRAPH, data:Graphs})\r\n            }\r\n          }).catch(error => {\r\n            console.log(\"Get farm graph Error: \", error);\r\n            resolve(null)\r\n          })\r\n\r\n        /*}\r\n        else {\r\n          resolve({type:Actions.UPDATE, path:DataRefs.GRAPH, data:{}})\r\n        }*/\r\n      })\r\n    })\r\n  }\r\n  return new Promise((resolve, reject) => {\r\n    console.log(\"Fecth Graph Error\");\r\n    resolve(null)\r\n  })\r\n}\r\n\r\nfunction updateGraphData({FarmId, Graph}) {\r\n  if (FarmId) {\r\n    var ref = \"farms_data/\" + FarmId + \"/graph\";\r\n    if (Graph.name) {\r\n      ref += \"/\" + Graph.name + \"/\"\r\n      return new Promise((resolve, reject) => {\r\n        database().ref(ref).update({\r\n          data: Graph.data,\r\n          periode: Graph.periode\r\n        }).then(() => {\r\n          fetchGraphData({FarmId: FarmId, GraphId: Graph.name}).then((_Graph)=>{\r\n            resolve(_Graph)\r\n          })\r\n        }).catch(error => {\r\n          console.log(\"Create Graph Error: \", error);\r\n          resolve(null)\r\n        })\r\n      })\r\n    }\r\n  }\r\n}\r\n//#endregion\r\n//#endregion\r\n\r\nexport const firebaseService = {\r\n  //Firebase\r\n  requestUserPermission,\r\n  requestFirebaseToken,\r\n  wrappedAlert,\r\n\r\n  //Firebase Auth (could be moved to fetch / action)\r\n  createFirebaseUserWithemailandpassword,\r\n  signinWithemailandpassword,\r\n  sendResetPassword,\r\n  logoutUser,\r\n  refreshUser,\r\n\r\n  //Commnads\r\n  actionStarting,\r\n}\r\n","import axios from 'axios'\r\nimport { Config, GetToken_URL, GetCheckToken_URL, GetConsumtionData_URL } from '../Config'\r\nimport { is, curryN, gte } from 'ramda'\r\n\r\nconst isWithin = curryN(3, (min, max, value) => {\r\n  const isNumber = is(Number)\r\n  return isNumber(min) && isNumber(max) && isNumber(value) && gte(value, min) && gte(max, value)\r\n})\r\nconst in200s = isWithin(200, 299)\r\n\r\nfunction Create_Axios(baseURL, Acc_Token = null) {\r\n  var Consys_ApiClient;\r\n  if (Acc_Token){\r\n    Consys_ApiClient = axios.create({\r\n      /**\r\n       * Import the config from the App/Config/index.js file\r\n       */\r\n      baseURL: baseURL,\r\n      headers: {\r\n        Accept: 'application/json',\r\n        'Content-Type': 'application/json',\r\n        'Authorization': `Bearer ${Acc_Token}`\r\n      },\r\n      timeout: 3000,\r\n    })\r\n  }else {\r\n    Consys_ApiClient = axios.create({\r\n      /**\r\n       * Import the config from the App/Config/index.js file\r\n       */\r\n      baseURL: baseURL,\r\n      headers: {\r\n        Accept: 'application/json',\r\n        'Content-Type': 'application/json',\r\n      },\r\n      timeout: 3000,\r\n    })\r\n  }\r\n  return Consys_ApiClient\r\n}\r\n\r\nfunction getAccessToken(SiteUrl, Ref_Token){\r\n  return new Promise((resolve, reject) => {\r\n    Create_Axios(GetToken_URL(SiteUrl, Ref_Token)).get().then((response) => {\r\n      if (response && response.data && response.data.access_token) {\r\n        resolve(response.data.access_token)\r\n      }else {\r\n        resolve(null)\r\n      }\r\n    })\r\n  })\r\n}\r\n\r\nfunction checkRenew_AccessToken(SiteUrl, Ref_Token, Acc_Token=null) {\r\n  return new Promise((resolve, reject) => {\r\n    if (Acc_Token) {\r\n      Create_Axios(GetCheckToken_URL(SiteUrl),Acc_Token).get().then((response) => {\r\n        if (response.status === 200){\r\n          resolve(Acc_Token)\r\n        } else {\r\n          resolve(getAccessToken(SiteUrl, Ref_Token))\r\n        }\r\n      })\r\n    }else {\r\n      resolve(getAccessToken(SiteUrl, Ref_Token))\r\n    }\r\n  })\r\n}\r\n\r\nfunction fetch_ValveConsumption(SiteUrl, Ref_Token, limit, SystemId=1, starttime=null, stoptime=null, offset=null, lastid=null, Acc_Token=null){\r\n  return new Promise((resolve, reject) => {\r\n    if (!SystemId) SystemId = 1\r\n    checkRenew_AccessToken(SiteUrl, Ref_Token, Acc_Token).then((Token)=>{\r\n      if (Token) {\r\n        var baseURL = GetConsumtionData_URL(SiteUrl, 100, SystemId, offset, limit, starttime, stoptime, lastid)\r\n        console.log(\"fetch\", baseURL, Token)\r\n        Create_Axios(baseURL, Token).get().then((response)=>{\r\n          if (response && response.data) {\r\n            var Feed_Data = {}\r\n            var ResData = response.data\r\n            if (ResData.result === \"OK\"){\r\n              //console.log(ResData)\r\n              if (ResData.consumptiondata) {\r\n                ResData.consumptiondata.forEach(element => {\r\n                  var weight = element.amount /1000\r\n                  Feed_Data[element.dataid] = {valve:element.valve, unit:element.unit, silono:element.silono, amount: weight, timestamp: element.timestamp}\r\n                });\r\n              }\r\n            }\r\n\r\n            resolve({data: Feed_Data, token:Token})\r\n          } else {\r\n            resolve(null)\r\n          }\r\n        }).catch(error => {\r\n          console.log(\"fetch consumption Error: \", error);\r\n          resolve(null)\r\n        })\r\n      }else {\r\n        resolve(null)\r\n      }\r\n    })\r\n  })\r\n}\r\n\r\nfunction fetch_AutoPig(SiteUrl, Ref_Token, limit, SystemId=1, starttime=null, stoptime=null, offset=null, lastid=null, Acc_Token=null) {\r\n  return new Promise((resolve, reject) => {\r\n    if (!SystemId) SystemId = 1\r\n    checkRenew_AccessToken(SiteUrl, Ref_Token, Acc_Token).then((Token)=>{\r\n      if (Token) {\r\n        var baseURL = GetConsumtionData_URL(SiteUrl, 700, SystemId, offset, limit, starttime, stoptime, lastid)\r\n        console.log(\"fetch\", baseURL, Token)\r\n        Create_Axios(baseURL, Token).get().then((response)=>{\r\n          console.log(response)\r\n          if (response && response.data) {\r\n            var Scale_Data = {}\r\n            var ResData = response.data\r\n            console.log(ResData)\r\n            if (ResData.result === \"OK\"){\r\n              //console.log(ResData)\r\n              if (ResData.consumptiondata) {\r\n                ResData.consumptiondata.forEach(element => {\r\n                  var weight = element.amount /1000\r\n                  Scale_Data[element.dataid] = {amount: weight, timestamp: element.timestamp}\r\n                });\r\n              }\r\n            }\r\n\r\n            resolve({data: Scale_Data, token:Token})\r\n          } else {\r\n            resolve(null)\r\n          }\r\n        }).catch(error => {\r\n          console.log(\"fetch AutoPig Error: \", error);\r\n          resolve(null)\r\n        })\r\n      }else {\r\n        resolve(null)\r\n      }\r\n    })\r\n  })\r\n}\r\n\r\nexport const consysService = {\r\n  fetch_ValveConsumption,\r\n  fetch_AutoPig,\r\n}\r\n","import { Platform, Alert } from 'react-native'\r\nimport {buffers, eventChannel} from 'redux-saga'\r\nimport { put, call, fork, take, cancelled, cancel, actionChannel, race, select } from 'redux-saga/effects'\r\n\r\nimport FirebaseActions from '../../Stores/Firebase/Actions'\r\nimport { firebaseService } from '../../Services/FirebaseService'\r\nimport { consysService } from '../../Services/ConsysService'\r\n\r\nvar auth, messaging, database, firebase;\r\nif (Platform.OS === 'ios' || Platform.OS === 'android') {\r\n  //#region App version imports\r\n  auth = require('@react-native-firebase/auth').default;\r\n  messaging = require( '@react-native-firebase/messaging').default;\r\n  database = require('@react-native-firebase/database').default;\r\n  //#endregion\r\n} else {\r\n  //#region Web Version imports\r\n  var _firebase = require('firebase/app').default;\r\n  require('firebase/auth').default;\r\n  require('firebase/messaging').default;\r\n  require('firebase/database').default;\r\n\r\n  firebase = _firebase;\r\n  \r\n  if (!firebase.apps.length) {\r\n    console.log(\"Starting\")\r\n    var Constants = require('expo-constants').default;\r\n    console.log(Constants.manifest.web.config.firebase)\r\n    _firebase.initializeApp(Constants.manifest.web.config.firebase);\r\n  }\r\n  \r\n  auth = _firebase.auth;\r\n  if (_firebase.messaging.isSupported()) {\r\n    messaging = _firebase.messaging;\r\n  }\r\n  database = _firebase.database;\r\n  console.log(\"Started\")\r\n  //#endregion\r\n}\r\n\r\nimport { UserStates, DataRefs, Actions, ConsysRefs } from '../../Stores/Firebase/Selectors'\r\n\r\nexport function* firebaseStartup() {\r\n  console.log(\"Starting firebase saga\")\r\n  //Check and setup Firebase and permissions\r\n  yield put(FirebaseActions.setFirebaseError(null))\r\n\r\n  /*console.log(\"test\")\r\n  if (Platform.OS !== 'ios' && Platform.OS !== 'android') {\r\n    console.log(\"Starting\")\r\n    console.log(Constants.manifest.web.config.firebase)\r\n    firebase.initializeApp(Constants.manifest.web.config.firebase);\r\n  }*/\r\n\r\n  const permitError = yield call(firebaseService.requestUserPermission)\r\n  if (permitError) {\r\n    yield put(FirebaseActions.fetchFailure(permitError))\r\n  }else {\r\n    //yield put(FirebaseActions.firebaseIsLoading(true))\r\n    console.log(\"Starting handlers\")\r\n    //yield put(FirebaseActions.firebaseIsLoading(true))\r\n    yield fork(handleAuthState)\r\n    yield fork(handleActions)\r\n    console.log(\"auth & actions\")\r\n\r\n    if (messaging && messaging.isSupported && messaging.isSupported()) {\r\n      if (Platform.OS === 'ios' || Platform.OS === 'android') {\r\n        yield fork(onMessageHandler)\r\n        yield fork(onBackgroundMessageHandler)\r\n      }\r\n      else {\r\n        yield fork(onMessageHandler)\r\n        yield fork(onBackgroundMessageHandler)\r\n      }\r\n    }\r\n\r\n    //var FirebaseToken = yield call(firebaseService.requestFirebaseToken);\r\n    //console.log('Firebase Token: ', FirebaseToken);\r\n    \r\n    //yield fork(testmessage,FirebaseToken)\r\n  }\r\n\r\n  console.log('Firebase Startup : Done');\r\n  if (Platform.OS === 'ios' || Platform.OS === 'android') {\r\n    console.log('Firebase will disable yellow box debug')\r\n    console.disableYellowBox = true;\r\n  }\r\n}\r\n\r\n//Somehow works ??? but should only work at server hosting XMPP, try firebase functions insted if nessasary\r\n//TODO: check this more... SendNotification to device\r\n//it seams to work ... but slow ???\r\n/*function* testmessage(token) {\r\n  if (messaging) {\r\n    ///////\r\n    messaging().sendMessage({\r\n        to: '11111111111111@fcm.googleapis.com',\r\n        messageId: 'test1',\r\n        messageType: 'test2',\r\n        notification: {\r\n            title: 'Foo',\r\n            body: 'Bar',\r\n        }\r\n      });\r\n    ///////\r\n      //to: 'worker@agrisys.dk',\r\n    var message = {\r\n      to: token,\r\n      messageId: 'test1',\r\n      messageType: 'test2',\r\n      notification: {\r\n          title: 'Foo',\r\n          body: 'Bar',\r\n      }\r\n    }\r\n    messaging().sendMessage(message).then(msg => {\r\n      console.log(msg)\r\n    })\r\n  }\r\n}*/\r\n\r\nexport function* handleAuthState() {\r\n  const authChannel = yield eventChannel((emit) => {\r\n    const subscription = auth().onAuthStateChanged((user) => {\r\n      if (user == null){\r\n        emit(\"NONE\")\r\n      }else {\r\n        emit(user)\r\n      }\r\n    })\r\n    return () => {\r\n      subscription()\r\n    };\r\n  }, buffers.expanding(1))\r\n\r\n  try {\r\n    for (;;) {\r\n      const newAuth = yield take(authChannel)\r\n      var firebaseUser = newAuth === \"NONE\"?null:newAuth;\r\n      if (firebaseUser) {\r\n        const userData = yield call(firebaseService.actionStarting, DataRefs.USERSDATA, Actions.FETCH, {UserId: firebaseUser.uid})\r\n        if (userData.data) {\r\n          firebaseUser.farms = userData.data.data.farms\r\n          firebaseUser.state = userData.data.data.state\r\n          yield put(FirebaseActions.dataFetchSuccess({type:Actions.UPDATE, path:DataRefs.FIREBASEUSER, data: firebaseUser}))\r\n          //yield put(FirebaseActions.dataFetchSuccess({type:Actions.UPDATE, path:DataRefs.USERSDATA, data: userData.data}))    //TODO: mabye moved to firebaseUser..\r\n        }\r\n      } else {\r\n        yield put(FirebaseActions.dataFetchSuccess({type:Actions.UPDATE, path:DataRefs.FIREBASEUSER, data: {}}))\r\n        //yield put(FirebaseActions.dataFetchSuccess({type:Actions.UPDATE, path:DataRefs.USERSDATA, data: {}}))    //TODO: mabye moved to firebaseUser..\r\n      }\r\n    }\r\n  } finally {\r\n    if (yield cancelled()) {\r\n      authChannel.close()\r\n    }\r\n  }\r\n}\r\n\r\nexport function* handleActions() {\r\n  const channel = yield actionChannel([\r\n    'ACTION_STARTING',\r\n  ])\r\n\r\n  for (;;) {\r\n    const action: ACTION_STARTING = yield take(channel)\r\n\r\n    //console.log(action.ref, action.action, action.params)\r\n\r\n    if (action.ref === DataRefs.CONSYS && Object.values(ConsysRefs).includes(action.action)) {\r\n      const FirebaseUser = yield select((state) => state.firebase.firebaseUser);\r\n      if (FirebaseUser && FirebaseUser.farms) {\r\n        const FarmsData = yield select((state) => state.firebase.localDataStore.farms);\r\n        if (FarmsData && FarmsData[Object.keys(FirebaseUser.farms)[0]]) {\r\n          const FarmData = FarmsData[Object.keys(FirebaseUser.farms)[0]]\r\n          if (FarmData.site && FarmData.refToken) {\r\n            var Token = FarmData.token?FarmData.token:null\r\n            var Params = action.params\r\n\r\n            var ResData = {};\r\n            switch (action.action) {\r\n              case ConsysRefs.VALVEFEED:\r\n                ResData = yield call(consysService.fetch_ValveConsumption, FarmData.site,FarmData.refToken, Params.limit, Params.sysId, Params.start, Params.stop, Params.offset, Params.lastId, Token)\r\n                if (ResData && ResData.data) {\r\n                  yield put(FirebaseActions.dataFetchSuccess({type:Actions.UPDATE, path:DataRefs.CONSYS, data: {feedData: ResData.data}}))\r\n                }\r\n                break;\r\n              case ConsysRefs.SCALE:\r\n                ResData = yield call(consysService.fetch_AutoPig, FarmData.site,FarmData.refToken, Params.limit, Params.sysId, Params.start, Params.stop, Params.offset, Params.lastId, Token)\r\n                if (ResData && ResData.data) {\r\n                  yield put(FirebaseActions.dataFetchSuccess({type:Actions.UPDATE, path:DataRefs.CONSYS, data: {scaleData: ResData.data}}))\r\n                }\r\n                break;\r\n              default:\r\n                break;\r\n            }\r\n            if (ResData && ResData.token) {\r\n              FarmData.token = ResData.token\r\n              yield put(FirebaseActions.dataFetchSuccess({type:Actions.UPDATE, path:DataRefs.FARMS, data: {FarmData}}))\r\n            }\r\n          }\r\n        }\r\n      }\r\n    } else if (Object.values(Actions).includes(action.action) && Object.values(DataRefs).includes(action.ref)) {\r\n      const FirebaseUser = yield select((state) => state.firebase.firebaseUser);\r\n      if (action.action != Actions.SIGN && FirebaseUser && FirebaseUser.farms) {\r\n        if (!action.params) action.params = {}\r\n        if (!action.params.FarmId) action.params.FarmId = [Object.keys(FirebaseUser.farms)[0]]\r\n      }\r\n\r\n      const NewData = yield call(firebaseService.actionStarting, action.ref, action.action, action.params)\r\n      if (NewData && (NewData.error || NewData.viewError)) {\r\n        yield put(FirebaseActions.fetchFailure(NewData.error))\r\n        yield put(FirebaseActions.setViewError(NewData.viewError))\r\n      } else {\r\n        //console.log(\"resCall: \", NewData)\r\n        if (NewData && NewData.hasOwnProperty(\"type\") && NewData.hasOwnProperty(\"path\") && NewData.hasOwnProperty(\"data\")) {\r\n          yield put(FirebaseActions.dataFetchSuccess(NewData))\r\n        }\r\n        else {\r\n          //console.log(\"Old Path: \", action.ref, action.action, params, NewData)\r\n          yield put(FirebaseActions.fetchSuccess({localDataStore:NewData}))\r\n        }\r\n      }\r\n    }\r\n  }\r\n}\r\n\r\n// Notification Handler for then App is in Foreground State\r\nexport function* onMessageHandler() {\r\n  if (messaging) {\r\n    const onMessageChannel = yield eventChannel((emit) => {\r\n      const messageListener = messaging().onMessage((remoteMessage) => {\r\n        //console.log(\"message ? \", remoteMessage);\r\n        emit(remoteMessage);\r\n      });\r\n      return () => {\r\n        messageListener();\r\n      };\r\n    }, buffers.expanding(1));\r\n\r\n    try {\r\n      for (;;) {\r\n        const remoteMessage = yield take(onMessageChannel)\r\n        console.log(\"New Firebase message: \", remoteMessage)\r\n        if (remoteMessage.notification && remoteMessage.notification.title && remoteMessage.notification.body){\r\n          yield call(firebaseService.wrappedAlert, remoteMessage.notification.title, remoteMessage.notification.body, \"Ok\", false)\r\n        }else {\r\n          console.log(\"New Firebase data message: \", remoteMessage)\r\n        }\r\n      }\r\n    } finally {\r\n      if (yield cancelled()) {\r\n        onMessageChannel.close()\r\n      }\r\n    }\r\n  }\r\n}\r\n\r\n// Notification Handler for then App is in Background & Quit state\r\nexport function* onBackgroundMessageHandler() {\r\n  if ((Platform.OS === 'ios' || Platform.OS === 'android') && messaging) {\r\n    // Assume a message-notification contains a \"type\" property in the data payload of the screen to open\r\n    messaging().onNotificationOpenedApp(remoteMessage => {\r\n      console.log(\r\n        'Notification caused app to open from background state:',\r\n        remoteMessage.notification,\r\n      );\r\n      //NavigationService.navigate(remoteMessage.data.type); // this is not view..\r\n    });\r\n\r\n    const onMessageChannel = yield eventChannel((emit) => {\r\n      messaging().setBackgroundMessageHandler((remoteMessage) => {\r\n        emit(remoteMessage);\r\n      });\r\n      return () => {\r\n        //\r\n      };\r\n    }, buffers.expanding(1));\r\n\r\n    try {\r\n      for (;;) {\r\n        const remoteMessage = yield take(onMessageChannel)\r\n        console.log(\"New background Firebase message: \", remoteMessage)\r\n      }\r\n    } finally {\r\n      if (yield cancelled()) {\r\n        onMessageChannel.close()\r\n      }\r\n    }\r\n  }\r\n}","import { takeLatest, all, take } from 'redux-saga/effects'\r\n\r\nimport { StartupTypes } from '../Stores/Startup/Actions'\r\nimport { ExampleTypes } from '../Stores/Example/Actions'\r\nimport { DeviceTypes } from '../Stores/Device/Actions'\r\nimport { FirebaseTypes } from '../Stores/Firebase/Actions'\r\n\r\nimport * as StartupSaga from './StartupSaga'\r\nimport * as ExampleSaga from './Example/ExampleSaga'\r\nimport * as DeviceSaga from './Device/DeviceSaga'\r\nimport * as FirebaseSaga from './Firebase/FirebaseSaga'\r\n\r\nexport default function* root(sagaArgs) {\r\n  yield all([\r\n    /**\r\n     * @see https://redux-saga.js.org/docs/basics/UsingSagaHelpers.html\r\n     */\r\n    // Run the startup saga when the application starts\r\n    takeLatest(StartupTypes.STARTUP, StartupSaga.startup), //Initer\r\n    \r\n\r\n    //Example\r\n    takeLatest(ExampleTypes.FETCH_USER, ExampleSaga.fetchUser), // Call `fetchUser()` when a `FETCH_USER` action is triggered\r\n    \r\n    //Device Main Saga\r\n    takeLatest(DeviceTypes.DEVICE_STARTUP, DeviceSaga.deviceStartup), //Initer\r\n\r\n    takeLatest(DeviceTypes.CONNECT_DEVICE, DeviceSaga.connectDevice),\r\n    takeLatest(DeviceTypes.DISCONNECT_DEVICE, DeviceSaga.disconnectDevice),\r\n    takeLatest(DeviceTypes.READ_DEVICE_DATA, DeviceSaga.readDeviceData),\r\n\r\n    takeLatest(DeviceTypes.FETCH_DEVICE, DeviceSaga.fetchDevice, sagaArgs),\r\n\r\n    //BLE Saga\r\n    takeLatest(DeviceTypes.BLE_STARTUP, DeviceSaga.BLE.bleStartup, sagaArgs), //Initer\r\n    takeLatest(DeviceTypes.START_BLE_SCAN, DeviceSaga.BLE.startBleScan),\r\n    takeLatest(DeviceTypes.STOP_BLE_SCAN, DeviceSaga.BLE.stopBleScan),\r\n    takeLatest(DeviceTypes.READ_BLE_DEVICE_DATA, DeviceSaga.BLE.readBleDeviceData, sagaArgs),\r\n    \r\n    //Android BlueThooth Saga\r\n    takeLatest(DeviceTypes.BLUETOOTH_STARTUP, DeviceSaga.BlueTooth.bluetoothStartup, sagaArgs), //Initer\r\n    takeLatest(DeviceTypes.START_BLUETOOTH_SCAN, DeviceSaga.BlueTooth.startBluetoothScan),\r\n    takeLatest(DeviceTypes.STOP_BLUETOOTH_SCAN, DeviceSaga.BlueTooth.stopBluetoothScan),\r\n    takeLatest(DeviceTypes.BLUETOOTH_SCAN_ABLE, DeviceSaga.BlueTooth.bluetoothScanAble, sagaArgs),\r\n    takeLatest(DeviceTypes.READ_BLUE_DEVICE_DATA, DeviceSaga.BlueTooth.readBlueDeviceData, sagaArgs),\r\n    \r\n\r\n    //Firebase Saga\r\n    takeLatest(FirebaseTypes.FIREBASE_STARTUP, FirebaseSaga.firebaseStartup), //Initer\r\n  ])\r\n}\r\n","/**\r\n * The initial values for the redux state.\r\n */\r\nexport const INITIAL_STATE = {\r\n  user: {},\r\n  userIsLoading: false,\r\n  userErrorMessage: null,\r\n}\r\n","/**\r\n * Reducers specify how the application's state changes in response to actions sent to the store.\r\n *\r\n * @see https://redux.js.org/basics/reducers\r\n */\r\n\r\nimport { INITIAL_STATE } from './InitialState'\r\nimport { createReducer } from 'reduxsauce'\r\nimport { ExampleTypes } from './Actions'\r\n\r\nexport const fetchUserLoading = (state) => ({\r\n  ...state,\r\n  userIsLoading: true,\r\n  userErrorMessage: null,\r\n})\r\n\r\nexport const fetchUserSuccess = (state, { user }) => ({\r\n  ...state,\r\n  user: user,\r\n  userIsLoading: false,\r\n  userErrorMessage: null,\r\n})\r\n\r\nexport const fetchUserFailure = (state, { errorMessage }) => ({\r\n  ...state,\r\n  user: {},\r\n  userIsLoading: false,\r\n  userErrorMessage: errorMessage,\r\n})\r\n\r\n/**\r\n * @see https://github.com/infinitered/reduxsauce#createreducer\r\n */\r\nexport const reducer = createReducer(INITIAL_STATE, {\r\n  [ExampleTypes.FETCH_USER_LOADING]: fetchUserLoading,\r\n  [ExampleTypes.FETCH_USER_SUCCESS]: fetchUserSuccess,\r\n  [ExampleTypes.FETCH_USER_FAILURE]: fetchUserFailure,\r\n})\r\n","import { ConnectionState, ConnectionMethode, ScannerState } from '../Selectors'\r\nimport { State } from 'react-native-ble-plx';\r\n\r\n/**\r\n * The initial values for the redux state.\r\n */\r\nexport const INITIAL_STATE = {\r\n  //Managers States\r\n  bleState: State.PoweredOff, // status of the BLE manger\r\n}","import { ConnectionState, ConnectionMethode, ScannerState } from '../Selectors'\r\nimport { State } from 'react-native-ble-plx';\r\n\r\n/**\r\n * The initial values for the redux state.\r\n */\r\nexport const INITIAL_STATE = {\r\n  //Managers States\r\n}","import { ConnectionState, ConnectionMethode, ScannerState } from './Selectors'\r\nimport { State } from 'react-native-ble-plx';\r\n\r\n//BLE Saga's\r\nimport { INITIAL_STATE as BLE_INITIAL_STATE } from './BLE/InitialState'\r\n//BlueTooth Saga's\r\nimport { INITIAL_STATE as BLUETOOTH_INITIAL_STATE} from './BlueTooth/InitialState'\r\n\r\n/**\r\n * The initial values for the redux state.\r\n */\r\nexport const INITIAL_STATE = {\r\n  //Device Main Info\r\n  deviceIsLoading: false,\r\n  deviceErrorMessage: null,\r\n\r\n  //Device list Info... (only one ???)\r\n  scannerState: ScannerState.IDLE, // status of BLE scanner\r\n  DeviceList: [], //An Array of Discovered Devices\r\n\r\n  //Connection info...\r\n  connectedDevice: {}, // the current connected device element\r\n  connectionState: ConnectionState.DISCONNECTED, // the status of the current device connection\r\n  connectionMethode: ConnectionMethode.NONE,  //the current connected Methode\r\n\r\n  deviceData: {}, // Something\r\n\r\n  //BLE specefic\r\n  ...BLE_INITIAL_STATE,\r\n  //BlueTooth specefic\r\n  ...BLUETOOTH_INITIAL_STATE,\r\n}","/**\r\n * Reducers specify how the application's state changes in response to actions sent to the store.\r\n *\r\n * @see https://redux.js.org/basics/reducers\r\n */\r\n\r\nimport { createReducer } from 'reduxsauce'\r\n\r\nimport { ConnectionState, ConnectionMethode } from '../Selectors'\r\nimport { BleTypes } from './Actions'\r\n\r\nimport { INITIAL_STATE } from './InitialState'\r\n\r\nexport const bleStateUpdated = (state, {bleState}) => {\r\n  return({\r\n    ...state,\r\n    bleState: bleState,\r\n  })\r\n}\r\n\r\n/**\r\n * @see https://github.com/infinitered/reduxsauce#createreducer\r\n */\r\nexport const HANDLERS = {\r\n  //Managers...\r\n  [BleTypes.BLE_STATE_UPDATED]: bleStateUpdated,\r\n}\r\n\r\nexport const reducer = createReducer(INITIAL_STATE, HANDLERS)\r\n","/**\r\n * Reducers specify how the application's state changes in response to actions sent to the store.\r\n *\r\n * @see https://redux.js.org/basics/reducers\r\n */\r\n\r\nimport { createReducer } from 'reduxsauce'\r\n\r\nimport { ConnectionState, ConnectionMethode } from '../Selectors'\r\nimport { BluetoothTypes } from './Actions'\r\n\r\nimport { INITIAL_STATE } from './InitialState'\r\n\r\n/**\r\n * @see https://github.com/infinitered/reduxsauce#createreducer\r\n */\r\nexport const HANDLERS = {\r\n  //Managers...\r\n}\r\n\r\nexport const reducer = createReducer(INITIAL_STATE, HANDLERS)\r\n","/**\r\n * Reducers specify how the application's state changes in response to actions sent to the store.\r\n *\r\n * @see https://redux.js.org/basics/reducers\r\n */\r\n\r\nimport { createReducer } from 'reduxsauce'\r\n\r\nimport { ConnectionState, ConnectionMethode } from './Selectors'\r\nimport { DeviceTypes } from './Actions'\r\n\r\nimport { INITIAL_STATE } from './InitialState'\r\n\r\n//BLE Saga's\r\nimport * as BLEReducers from './BLE/Reducers'\r\n//BlueTooth Saga's\r\nimport * as BluetoothReducers from './BlueTooth/Reducers'\r\n\r\nexport const setDeviceError = (state, { errorMessage }) => ({\r\n  ...state,\r\n  deviceErrorMessage: errorMessage,\r\n})\r\n\r\nexport const scannerStateUpdated = (state, {scannerState}) => {\r\n  return({\r\n    ...state,\r\n    scannerState: scannerState,\r\n  })\r\n}\r\n\r\nexport const addDevice = (state, {device}) => {\r\n  if (state.DeviceList.some(Device => Device.id === device.id )) { //&& device.isConnectable)){\r\n    return({...state});\r\n  } else {\r\n    //device._manager = null; // Type.script Stringify ... not allowing function callback (fix see CreateStore.js)\r\n    var NewList = [...state.DeviceList];\r\n    NewList.push(device);\r\n\r\n    return({\r\n      ...state,\r\n      DeviceList: NewList,\r\n    });\r\n  }\r\n}\r\n\r\nexport const removeDevice = (state, {device}) => {\r\n  var NewList = [...state.DeviceList];\r\n  for( var i = 0; i < NewList.length; i++){ \r\n    if ( NewList[i] === device) {\r\n      NewList.splice(i, 1); \r\n    }\r\n  }\r\n\r\n  return ({\r\n    ...state,\r\n    DeviceList: NewList,\r\n  });\r\n}\r\n\r\nexport const clearDevices = (state) => ({\r\n  ...state,\r\n  DeviceList: [],\r\n  deviceData: {}\r\n})\r\n\r\nexport const connectedDeviceUpdated = (state, {connectedDevice}) => {\r\n  if (!connectedDevice) {\r\n    return ({\r\n      ...state,\r\n      connectedDevice: connectedDevice,\r\n      //deviceData: {}\r\n    })\r\n  } else {\r\n    return ({\r\n      ...state,\r\n      connectedDevice: connectedDevice\r\n    })\r\n  }\r\n}\r\n\r\n// Connections *******************************************\r\nexport const connectionStateUpdated = (state, {connectionState}) => ({\r\n  ...state,\r\n  connectionState: connectionState\r\n})\r\nexport const connectionMethodeUpdated = (state, {connectionMethode}) => ({\r\n  ...state,\r\n  connectionMethode: connectionMethode\r\n})\r\n\r\nexport const setDeviceData = (state, {data}) => ({\r\n  ...state,\r\n  deviceData: data\r\n})\r\nexport const updateDeviceData = (state, {data}) => {\r\n  const newData = {...state.deviceData, ...data}\r\n  return({\r\n  ...state,\r\n  deviceData: newData\r\n})}\r\n\r\n/**\r\n * @see https://github.com/infinitered/reduxsauce#createreducer\r\n */\r\nexport const HANDLERS = {\r\n  //Response...\r\n  [DeviceTypes.SET_DEVICE_ERROR]: setDeviceError,\r\n  \r\n  //Managers...\r\n  [DeviceTypes.SCANNER_STATE_UPDATED]: scannerStateUpdated,\r\n\r\n  [DeviceTypes.ADD_DEVICE]: addDevice,\r\n  [DeviceTypes.REMOVE_DEVICE]: removeDevice,\r\n  [DeviceTypes.CLEAR_DEVICES]: clearDevices,\r\n\r\n  [DeviceTypes.CONNECTED_DEVICE_UPDATED]: connectedDeviceUpdated,\r\n  \r\n  //Connection...\r\n  [DeviceTypes.CONNECTION_STATE_UPDATED]: connectionStateUpdated,\r\n  [DeviceTypes.CONNECTION_METHODE_UPDATED]: connectionMethodeUpdated,\r\n\r\n  //Data...\r\n  [DeviceTypes.SET_DEVICE_DATA]: setDeviceData,\r\n  [DeviceTypes.UPDATE_DEVICE_DATA]: updateDeviceData,\r\n\r\n  //BLE Saga\r\n  ...BLEReducers.HANDLERS,\r\n\r\n  //Android BlueTooth Saga\r\n  ...BluetoothReducers.HANDLERS,\r\n}\r\n\r\nexport const reducer = createReducer(INITIAL_STATE, HANDLERS)","import { UserStates } from './Selectors'\r\n\r\n/**\r\n * The initial values for the redux state.\r\n */\r\nexport const INITIAL_STATE = {\r\n  firebaseIsLoading: false,     //SystemLoading\r\n  firebaseErrorMessage: null,   //SystemError\r\n\r\n  firebaseUser: null,           //UserData\r\n\r\n  localDataStore: {},           //Full DataStore\r\n  currentData: null,            //State DataStore\r\n\r\n  viewIsLoading: false,         //View / state - waiting for action\r\n  viewError: null,              //View / state - error display\r\n}","/**\r\n * Reducers specify how the application's state changes in response to actions sent to the store.\r\n *\r\n * @see https://redux.js.org/basics/reducers\r\n */\r\n\r\nimport { createReducer } from 'reduxsauce'\r\nimport { append } from 'funcadelic';\r\n\r\nimport { Actions, DataRefs } from './Selectors'\r\nimport { FirebaseTypes } from './Actions'\r\n\r\nimport { INITIAL_STATE } from './InitialState'\r\n\r\nexport const firebaseIsLoading = (state, { loadingstate }) => ({\r\n  ...state,\r\n  firebaseIsLoading: loadingstate,\r\n})\r\n\r\nexport const setFirebaseError = (state, { errorMessage }) => ({\r\n  ...state,\r\n  firebaseErrorMessage: errorMessage,\r\n})\r\n\r\nexport const setViewError = (state, { errorMessage }) => {\r\n  return({\r\n    ...state,\r\n    viewError: errorMessage,\r\n  })\r\n}\r\n\r\nexport const viewIsLoading = (state, { loadingstate }) => ({\r\n  ...state,\r\n  viewIsLoading: loadingstate,\r\n})\r\n\r\nexport const setCurrentData = (state, {data}) => {\r\n  return({\r\n    ...state,\r\n    currentData: data\r\n  })\r\n}\r\n\r\nfunction IDGenerate(){\r\n  return Math.random().toString(36).substr(2, 9);\r\n}\r\n\r\nexport const actionStarting = (state) => ({\r\n  ...state,\r\n  //firebaseIsLoading: true,\r\n  firebaseErrorMessage: null,\r\n})\r\n\r\nexport const fetchStarting = (state) => ({\r\n  ...state,\r\n  //firebaseIsLoading: true,\r\n  firebaseErrorMessage: null,\r\n})\r\n\r\nfunction mergeDeep(target, source) {\r\n  const isObject = (obj) => obj && typeof obj === 'object';\r\n\r\n  if (!isObject(target) || !isObject(source)) {\r\n    return source;\r\n  }\r\n\r\n  Object.keys(source).forEach(key => {\r\n    const targetValue = target[key];\r\n    const sourceValue = source[key];\r\n\r\n    if (Array.isArray(targetValue) && Array.isArray(sourceValue)) {\r\n      //target[key] = targetValue.concat(sourceValue);  //Mercing value of arrays would creates doubles.. like curve data..\r\n    } else if (isObject(targetValue) && isObject(sourceValue)) {\r\n      target[key] = mergeDeep(Object.assign({}, targetValue), sourceValue);\r\n    } else {\r\n      target[key] = sourceValue;\r\n    }\r\n  });\r\n\r\n  return target;\r\n}\r\n\r\nexport const dataFetchSuccess = (state, { params }) => {\r\n  const {type, path, data} = params\r\n  var NewDataStore = state.localDataStore;\r\n  var NewFirebaseUser = {...state.firebaseUser};\r\n  switch(type) {\r\n    case Actions.UPDATE:\r\n    case Actions.ADD:\r\n      var newData = {...data}\r\n      if (path === DataRefs.FIREBASEUSER) {\r\n        if (data && data.data) newData = {...data.data}\r\n        if (data && data._user) {\r\n          Object.keys(data._user).forEach(element => {\r\n            newData[element] = data._user[element]\r\n          })\r\n          delete newData._user\r\n          delete newData._auth\r\n        }\r\n        if (newData && Object.keys(newData).length > 0) {\r\n          var Values = [\"displayName\", \"name\", \"lastN\", \"email\", \"emailVerified\", \"address\", \"country\", \"farms\", \"isAnonymous\", \"phoneNumber\", \"photoURL\", \"refreshToken\", \"state\", \"uid\"]\r\n          Object.keys(newData).forEach(element => {\r\n            for (var index = 0; index < Values.length; index++) {\r\n              if (Values[index] === element) {\r\n                NewFirebaseUser[element] = newData[element]\r\n                break;\r\n              }\r\n            }\r\n          });\r\n        }else {\r\n          NewFirebaseUser = newData;\r\n        }\r\n      }\r\n      if (!data) break;\r\n      switch(path){\r\n        case DataRefs.FIREBASEUSER:\r\n          //Done above\r\n          break;\r\n        case DataRefs.USERSDATA:\r\n          Object.keys(newData).forEach(element => {\r\n            if (!NewDataStore.userData) NewDataStore.userData = {};\r\n            NewDataStore.userData[element] = newData[element]\r\n          });\r\n          break;\r\n        case DataRefs.USERS:\r\n          if (!NewDataStore.users) NewDataStore.users = {};\r\n          if (data.data) newData = data.data\r\n          if (newData.users) newData = newData.users\r\n          Object.keys(newData).forEach(element => {\r\n            NewDataStore.users[element] = newData[element]\r\n          });\r\n          break;\r\n        case DataRefs.FARMS:\r\n          if (!NewDataStore.farms) NewDataStore.farms = {};\r\n          if (data.farms) newData = data.farms\r\n          Object.keys(newData).forEach(element => {\r\n            NewDataStore.farms[element] = newData[element]\r\n          });\r\n          break;\r\n        case DataRefs.BATCHS:\r\n          if (!NewDataStore.batchs) NewDataStore.batchs = {};\r\n          if (data.batchs) newData = data.batchs\r\n          Object.keys(newData).forEach(element => {\r\n            NewDataStore.batchs[element] = newData[element]\r\n          });\r\n          break;\r\n        case DataRefs.SECTIONS:\r\n          if (!NewDataStore.sections) NewDataStore.sections = {};\r\n          if (data.sections) newData = data.sections\r\n          Object.keys(newData).forEach(element => {\r\n            NewDataStore.sections[element] = newData[element]\r\n          });\r\n          break;\r\n        case DataRefs.PENS:\r\n          if (!NewDataStore.pens) NewDataStore.pens = {};\r\n          if (data.pens) newData = data.pens\r\n          Object.keys(newData).forEach(element => {\r\n            NewDataStore.pens[element] = newData[element]\r\n          });\r\n          break;\r\n        case DataRefs.PIGS:\r\n          if (!NewDataStore.pigs) NewDataStore.pigs = {};\r\n          if (data.pigs) newData = data.pigs\r\n          Object.keys(newData).forEach(element => {\r\n            NewDataStore.pigs[element] = newData[element]\r\n          });\r\n          break;\r\n        case DataRefs.COMMENTS:\r\n          if (!NewDataStore.comments) NewDataStore.comments = {};\r\n          if (data.comments) newData = data.comments\r\n          Object.keys(newData).forEach(element => {\r\n            NewDataStore.comments[element] = newData[element]\r\n          });\r\n          break;\r\n        case DataRefs.GRAPH:\r\n          if (!NewDataStore.graphs) NewDataStore.graphs = {};\r\n          if (data.graphs) newData = data.graphs\r\n          Object.keys(newData).forEach(element => {\r\n            NewDataStore.graphs[element] = newData[element]\r\n          });\r\n          break;\r\n        case DataRefs.WEIGHING:\r\n          if (!NewDataStore.weighings) NewDataStore.weighings = {};\r\n          if (data.weighings) newData = data.weighings\r\n          Object.keys(newData).forEach(element => {\r\n            NewDataStore.weighings[element] = newData[element]\r\n          });\r\n          break;\r\n        case DataRefs.CONSYS:\r\n          if (!NewDataStore.consys) NewDataStore.consys = {};\r\n          if (data.consys) newData = data.consys\r\n          Object.keys(newData).forEach(element => {\r\n            NewDataStore.consys[element] = newData[element]\r\n          });\r\n          break;\r\n      }\r\n      //console.log(path, data)\r\n      break;\r\n    case Actions.CLEAR:\r\n      switch(path){\r\n        case DataRefs.USERS:\r\n          if (!NewDataStore.userData) NewDataStore.userData = {};\r\n          NewDataStore.userData.action = \"CLEAR\";\r\n          break;\r\n        case DataRefs.USERSDATA:\r\n          console.log(\"CLEAR\")\r\n          if (NewDataStore.batchs) NewDataStore.batchs = {}\r\n          if (NewDataStore.sections) NewDataStore.sections = {}\r\n          if (NewDataStore.pens) NewDataStore.pens = {}\r\n          if (NewDataStore.pigs) NewDataStore.pigs = {}\r\n          if (NewDataStore.graphs) NewDataStore.graphs = {}\r\n          if (NewDataStore.weighings) NewDataStore.weighings = {}\r\n          if (NewDataStore.consys) NewDataStore.consys = {}\r\n          if (NewDataStore.userData && NewDataStore.userData.action) {\r\n            NewDataStore.userData.action = {}\r\n            //NewDataStore.userData = {}\r\n          }\r\n          break;\r\n      }\r\n      break;\r\n    default:\r\n      console.log(\"DataFetch Not created / default\")\r\n      break;\r\n  }\r\n  return({\r\n    ...state,\r\n    firebaseUser: NewFirebaseUser,\r\n    localDataStore: NewDataStore,\r\n    firebaseIsLoading: false,\r\n    firebaseErrorMessage: null,\r\n    viewIsLoading: false,\r\n  })\r\n}\r\n\r\nexport const fetchSuccess = (state, { data }) => {\r\n  var newlocalDataStore = {...state.localDataStore}\r\n  var newState = {...state}\r\n\r\n  if (data) {\r\n    let {localDataStore, ..._newState} = data;\r\n\r\n    if (localDataStore) {\r\n      if (Object.keys(localDataStore).length !== 0) {\r\n        newlocalDataStore = mergeDeep(localDataStore, newlocalDataStore)\r\n      }\r\n      else {\r\n        newlocalDataStore = {...localDataStore}\r\n      }\r\n    }\r\n    newState = append(state,_newState)\r\n  }\r\n  return({\r\n    ...newState,\r\n    localDataStore: newlocalDataStore,\r\n    firebaseIsLoading: false,\r\n    firebaseErrorMessage: null,\r\n    viewIsLoading: false,\r\n  })\r\n}\r\n\r\nexport const fetchFailure = (state, { errorMessage }) => ({\r\n  ...state,\r\n  firebaseIsLoading: false,\r\n  firebaseErrorMessage: errorMessage,\r\n  viewIsLoading: false,\r\n})\r\n\r\n/**\r\n * @see https://github.com/infinitered/reduxsauce#createreducer\r\n */\r\nexport const HANDLERS = {\r\n  //Response...\r\n  [FirebaseTypes.FIREBASE_IS_LOADING]: firebaseIsLoading,\r\n  [FirebaseTypes.SET_FIREBASE_ERROR]: setFirebaseError,\r\n\r\n  [FirebaseTypes.SET_VIEW_ERROR]: setViewError,\r\n  [FirebaseTypes.VIEW_IS_LOADING]: viewIsLoading,\r\n\r\n  [FirebaseTypes.SET_CURRENT_DATA]: setCurrentData,\r\n\r\n  [FirebaseTypes.ACTION_STARTING]: actionStarting,\r\n  [FirebaseTypes.FETCH_STARTING]: fetchStarting,\r\n  [FirebaseTypes.DATA_FETCH_SUCCESS]: dataFetchSuccess,\r\n  [FirebaseTypes.FETCH_SUCCESS]: fetchSuccess,\r\n  [FirebaseTypes.FETCH_FAILURE]: fetchFailure,\r\n}\r\n\r\nexport const reducer = createReducer(INITIAL_STATE, HANDLERS)","import { combineReducers } from 'redux'\r\nimport configureStore from './CreateStore'\r\nimport rootSaga from '../Sagas'\r\n\r\nimport { reducer as ExampleReducer } from './Example/Reducers'\r\nimport { reducer as DeviceReducer } from './Device/Reducers'\r\nimport { reducer as FirebaseReducer } from './Firebase/Reducers'\r\n\r\nexport default () => {\r\n  const rootReducer = combineReducers({\r\n    /**\r\n     * Register your reducers here.\r\n     * @see https://redux.js.org/api-reference/combinereducers\r\n     */\r\n    example: ExampleReducer,\r\n    device: DeviceReducer,\r\n    firebase: FirebaseReducer,\r\n  })\r\n\r\n  return configureStore(rootReducer, rootSaga)\r\n}\r\n","/**\r\n * This file contains the application's colors.\r\n *\r\n * Define color here instead of duplicating them throughout the components.\r\n * That allows to change them more easily later on.\r\n */\r\n\r\nexport default {\r\n  transparent: 'rgba(0,0,0,0)',\r\n  white: '#ffffff',\r\n  gray: '#a6a6a6',\r\n\r\n  text: '#4a4a49',\r\n  secountText: '#ffffff',\r\n\r\n  primary: '#a3b9cf',\r\n\r\n  success: '#03a489',\r\n  error: '#dc3545',\r\n  overest: '#4cafea',\r\n  pigpink: '#FFAA95',\r\n\r\n  input: '#86939e',\r\n\r\n  AgriGreen: '#03a489',\r\n  AgriDarkblue: '#4463ab',\r\n  AgriLightblue: '#a3b9cf',\r\n  AgriDark: '#4a4a49',\r\n}\r\n","import { StyleSheet } from 'react-native'\r\n\r\nconst size = {\r\n  h1: 38,\r\n  h2: 34,\r\n  h3: 30,\r\n  input: 18,\r\n  regular: 17,\r\n  medium: 14,\r\n  small: 12,\r\n}\r\n\r\nexport default {\r\n  h1: {\r\n    fontSize: size.h1,\r\n  },\r\n  h2: {\r\n    fontSize: size.h2,\r\n  },\r\n  h3: {\r\n    fontSize: size.h3,\r\n  },\r\n  normal: {\r\n    fontSize: size.regular,\r\n  },\r\n}","/**\r\n * This file contains metric values that are global to the application.\r\n */\r\n\r\n// Examples of metrics you can define:\r\nexport const tiny = 5\r\nexport const small = tiny * 2 // 10\r\nexport const normal = tiny * 3 // 15\r\nexport const medium = normal * 2 // 30\r\n\r\nexport default {\r\n  tiny,\r\n  small,\r\n  normal,\r\n  medium,\r\n  \r\n  tinyBottomMargin: {\r\n    marginBottom: tiny,\r\n  },\r\n  smallBottomMargin: {\r\n    marginBottom: small,\r\n  },\r\n  bottomMargin: {\r\n    marginBottom: normal,\r\n  },\r\n  mediumBottomMargin: {\r\n    marginBottom: medium,\r\n  },\r\n\r\n  tinyVerticalMargin: {\r\n    marginVertical: tiny,\r\n  },\r\n  smallVerticalMargin: {\r\n    marginVertical: small,\r\n  },\r\n  verticalMargin: {\r\n    marginVertical: normal,\r\n  },\r\n  mediumVerticalMargin: {\r\n    marginVertical: medium,\r\n  },\r\n\r\n  tinyHorizontalMargin: {\r\n    marginHorizontal: tiny,\r\n  },\r\n  smallHorizontalMargin: {\r\n    marginHorizontal: small,\r\n  },\r\n  horizontalMargin: {\r\n    marginHorizontal: normal,\r\n  },\r\n  mediumHorizontalMargin: {\r\n    marginHorizontal: medium,\r\n  },\r\n\r\n  tinyHorizontalPadding: {\r\n    paddingHorizontal: tiny,\r\n  },\r\n  smallHorizontalPadding: {\r\n    paddingHorizontal: small,\r\n  },\r\n  horizontalPadding: {\r\n    paddingHorizontal: normal,\r\n  },\r\n  mediumHorizontalPadding: {\r\n    paddingHorizontal: medium,\r\n  },\r\n\r\n  tinyVerticalPadding: {\r\n    paddingVertical: tiny,\r\n  },\r\n  smallVerticalPadding: {\r\n    paddingVertical: small,\r\n  },\r\n  verticalPadding: {\r\n    paddingVertical: normal,\r\n  },\r\n  mediumVerticalPadding: {\r\n    paddingVertical: medium,\r\n  },\r\n}\r\n","/**\r\n * Images should be stored in the `App/Images` directory and referenced using variables defined here.\r\n */\r\n\r\nexport default {\r\n  Home: require('../Assets/Images/Home.png'),\r\n\r\n  DashBoard: require('../Assets/Images/Dashboard.png'),\r\n  System: require('../Assets/Images/System.png'),\r\n  Curves: require('../Assets/Images/Feed-Curves.png'),\r\n  GCurves: require('../Assets/Images/Growth-curve.png'),\r\n\r\n  User: require('../Assets/Images/User.png'),\r\n  Sow: require('../Assets/Images/Sow.png'),\r\n  Section: require('../Assets/Images/Section.png'),\r\n  Pens: require('../Assets/Images/Area_Colour.png'),\r\n  AutoPig: require('../Assets/Images/AutoPig.png'),\r\n  Feed: require('../Assets/Images/Feed-Components.png'),\r\n\r\n  Haxa_globe: require('../Assets/Images/Hexagon-globe.png'),\r\n  Hexa_icon: require('../Assets/Images/Hexa-icon.png'),\r\n  Logo: require('../Assets/Images/Logo.png'),\r\n\r\n  logo: require('../Assets/Images/TOM.png'),\r\n}\r\n","import { StyleSheet } from 'react-native'\r\nimport { Colors, Fonts, Metrics, } from '../Theme'\r\n\r\nexport default {\r\n  //********************** col sets */\r\n  column: {\r\n    flexDirection: 'column',\r\n  },\r\n  colMain: {\r\n    flexDirection: 'column',\r\n    justifyContent: 'center',\r\n  },\r\n  colCenter: {\r\n    flexDirection: 'column',\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  colCross: {\r\n    flexDirection: 'column',\r\n    alignItems: 'center',\r\n  },\r\n  columnReverse: {\r\n    flexDirection: 'column-reverse',\r\n  },\r\n\r\n  //********************** Row sets */\r\n  row: {\r\n    flexDirection: 'row',\r\n  },\r\n  rowMain: {\r\n    flexDirection: 'row',\r\n    justifyContent: 'center',\r\n  },\r\n  rowCenter: {\r\n    flexDirection: 'row',\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  rowCross: {\r\n    flexDirection: 'row',\r\n    alignItems: 'center',\r\n  },\r\n  rowReverse: {\r\n    flexDirection: 'row-reverse',\r\n  },\r\n\r\n  //********************** Cross sets */\r\n  center: {\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  crossCenter: {\r\n    alignItems: 'center',\r\n  },\r\n  crossEnd: {\r\n    alignItems: 'flex-end',\r\n  },\r\n  crossStart: {\r\n    alignItems: 'flex-start',\r\n  },\r\n  crossStretch: {\r\n    alignItems: 'stretch',\r\n  },\r\n\r\n  //********************** Fill sets */\r\n  fill: {\r\n    flex: 1,\r\n  },\r\n  fillCenter: {\r\n    flex: 1,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  fillCol: {\r\n    flex: 1,\r\n    flexDirection: 'column',\r\n  },\r\n  fillColCenter: {\r\n    flex: 1,\r\n    flexDirection: 'column',\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  fillColCross: {\r\n    flex: 1,\r\n    flexDirection: 'column',\r\n    alignItems: 'center',\r\n  },\r\n  fillColMain: {\r\n    flex: 1,\r\n    flexDirection: 'column',\r\n    justifyContent: 'center',\r\n  },\r\n  fillColReverse: {\r\n    flex: 1,\r\n    flexDirection: 'column-reverse',\r\n  },\r\n  fillRow: {\r\n    flex: 1,\r\n    flexDirection: 'row',\r\n  },\r\n  fillRowCenter: {\r\n    flex: 1,\r\n    flexDirection: 'row',\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  fillRowCross: {\r\n    flex: 1,\r\n    flexDirection: 'row',\r\n    alignItems: 'center',\r\n  },\r\n  fillRowMain: {\r\n    flex: 1,\r\n    flexDirection: 'row',\r\n    justifyContent: 'center',\r\n  },\r\n  fillRowReverse: {\r\n    flex: 1,\r\n    flexDirection: 'row-reverse',\r\n  },\r\n\r\n  //********************** Size sets */\r\n  fullSize: {\r\n    height: '100%',\r\n    width: '100%',\r\n  },\r\n  halvWidth: {\r\n    width: '50%',\r\n  },\r\n  midWidth: {\r\n    width: '75%',\r\n  },\r\n  fullWidth: {\r\n    width: '100%',\r\n  },\r\n\r\n  //********************** Main sets */\r\n  mainCenter: {\r\n    justifyContent: 'center',\r\n  },\r\n  mainEnd: {\r\n    justifyContent: 'flex-end',\r\n  },\r\n  mainSpaceAround: {\r\n    justifyContent: 'space-around',\r\n  },\r\n  mainSpaceBetween: {\r\n    justifyContent: 'space-between',\r\n  },\r\n  mainStart: {\r\n    justifyContent: 'flex-start',\r\n  },\r\n\r\n  //********************** Container sets */\r\n  mainContainer:{\r\n    flex: 1,\r\n    flexDirection: 'column',\r\n    alignItems: 'center',\r\n    ...Metrics.mediumHorizontalMargin,\r\n  },\r\n  contentContainer:{\r\n    flex:1,\r\n    flexDirection: 'column',\r\n    alignItems: 'center',\r\n    ...Metrics.mediumHorizontalMargin,\r\n    marginTop: Metrics.small,\r\n    ...Metrics.bottomMargin,\r\n  },\r\n  borderContainer: {\r\n    borderWidth: 1,\r\n    borderColor: '#000',\r\n    borderRadius: 15,\r\n    ...Metrics.tinyHorizontalPadding,\r\n    ...Metrics.tinyVerticalPadding,\r\n    maxWidth:450,\r\n    zIndex: 1,\r\n  },\r\n  textContainer:{\r\n    ...Fonts.normal,\r\n    marginBottom: Metrics.normal,\r\n    alignItems: 'center',\r\n  },\r\n  buttonContainer: {\r\n    marginBottom: Metrics.small,\r\n    maxWidth:450,\r\n  },\r\n  loadingContainer: {\r\n    position: 'absolute',\r\n    left: 0,\r\n    right: 0,\r\n    top: 0,\r\n    bottom: 0,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n    backgroundColor: '#F5FCFF88',\r\n  },\r\n  logoContainer: {\r\n    width: '100%',\r\n    height: 220,\r\n  },\r\n\r\n  //**********************  */\r\n  backgroundReset: {\r\n    backgroundColor: Colors.transparent,\r\n  },\r\n\r\n  rotate90: {\r\n    transform: [{ rotate: '90deg' }],\r\n  },\r\n  rotate90Inverse: {\r\n    transform: [{ rotate: '-90deg' }],\r\n  },\r\n  mirror: {\r\n    transform: [{ scaleX: -1 }],\r\n  },\r\n\r\n  scrollSpaceAround: {\r\n    flexGrow: 1,\r\n    justifyContent: 'space-around',\r\n  },\r\n  scrollSpaceBetween: {\r\n    flexGrow: 1,\r\n    justifyContent: 'space-between',\r\n  },\r\n\r\n  selfStretch: {\r\n    alignSelf: 'stretch',\r\n  },\r\n\r\n  textCenter: {\r\n    textAlign: 'center',\r\n  },\r\n  textJustify: {\r\n    textAlign: 'justify',\r\n  },\r\n  textLeft: {\r\n    textAlign: 'left',\r\n  },\r\n  textRight: {\r\n    textAlign: 'right',\r\n  },\r\n};\r\n","/**\r\n * This file defines the base application styles.\r\n *\r\n * Use it to define generic component styles (e.g. the default text styles, default button styles...).\r\n */\r\nimport { StyleSheet } from 'react-native'\r\nimport { Colors, Fonts, Metrics, } from '../Theme'\r\n\r\nexport default {\r\n  button: {\r\n    backgroundColor: Colors.primary,\r\n    color: Colors.secountText,\r\n  },\r\n  buttonText: {\r\n    color: Colors.secountText,\r\n  },\r\n\r\n  error: {\r\n    ...Fonts.normal,\r\n    color: Colors.error,\r\n    marginBottom: Metrics.tiny,\r\n    textAlign: 'center',\r\n  },\r\n  result: {\r\n    ...Fonts.normal,\r\n    marginBottom: Metrics.tiny,\r\n    textAlign: 'center',\r\n  },\r\n  text: {\r\n    ...Fonts.normal,\r\n    marginBottom: Metrics.tiny,\r\n    textAlign: 'center',\r\n  },\r\n  input: {\r\n    ...Fonts.normal,\r\n    height: 24, \r\n  },\r\n\r\n  navigationHeader:{\r\n    textAlign: 'center',\r\n    alignSelf:'center',\r\n    flexGrow:1,\r\n  }\r\n};\r\n","import { StyleSheet } from 'react-native'\r\nimport { Helpers, Metrics, Fonts, Colors } from '../../Theme'\r\n\r\nexport default StyleSheet.create({\r\n  container: {\r\n    backgroundColor: Colors.primary,\r\n  },\r\n})\r\n","import React, { useEffect, Component } from 'react'\r\nimport { Text, View, Image, Platform } from 'react-native'\r\nimport { useDispatch, useSelector, connect } from 'react-redux'\r\nimport { bindActionCreators } from 'redux';\r\n\r\nimport NavigationService from '../../Services/NavigationService'\r\n\r\nlet messaging;\r\nif (Platform.OS === 'ios' || Platform.OS === 'android') {\r\n  //#region App version imports\r\n  messaging = require('@react-native-firebase/messaging').default;\r\n  //#endregion\r\n} else {\r\n  //#region Web Version imports\r\n  var firebase = require('firebase/app').default;\r\n  require('firebase/messaging').default;\r\n\r\n  if (firebase.messaging.isSupported()) {\r\n    messaging = firebase.messaging();\r\n  }\r\n  //#endregion\r\n}\r\n\r\nimport Style from './SplashScreenStyle'\r\nimport { Helpers, Images } from '../../Theme'\r\n\r\nclass SplashScreen extends Component {\r\n  constructor(props){\r\n    super(props);\r\n    /*this.state = {\r\n    }*/\r\n  }\r\n\r\n  getData(){\r\n    if ((Platform.OS === \"android\" || Platform.OS === \"ios\") && messaging) {\r\n      messaging().onNotificationOpenedApp(remoteMessage => {\r\n        console.log(\r\n          'Notification caused app to open from background state:',\r\n          remoteMessage.notification,\r\n        );\r\n        NavigationService.navigate(remoteMessage.data.type);\r\n      });\r\n\r\n      // Check whether an initial notification is available\r\n      messaging().getInitialNotification().then(remoteMessage => {\r\n        if (remoteMessage) {\r\n          console.log(\r\n            'Notification caused app to open from quit state:',\r\n            remoteMessage.notification,\r\n          );\r\n          NavigationService.navigate(remoteMessage.data.type); // e.g. \"Settings\"\r\n        }\r\n      });\r\n    }\r\n  }\r\n\r\n  checkData(props){\r\n  }\r\n\r\n  componentDidMount(){\r\n    //this.props.setFirebaseError(null)\r\n    this.checkData(this.props);\r\n    this.getData();\r\n  }\r\n\r\n  componentDidUpdate(prevProps, prevState) {\r\n    if (this.props !== prevProps){\r\n      this.checkData(this.props);\r\n    }\r\n  }\r\n\r\n  render() {\r\n    return(\r\n      <View style={[Helpers.fillRowCenter, Style.container]}>\r\n        <View style={[Helpers.center, Helpers.logoContainer]}>\r\n          <Image style={Helpers.fullSize} source={Images.Hexa_icon} resizeMode={'contain'} />\r\n        </View>\r\n      </View>\r\n    )\r\n  }\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n  const { firebase } = state\r\n  return { firebase }\r\n};\r\n\r\nconst mapDispatchToProps  = (dispatch) => {\r\n  return {\r\n    //setFirebaseError: error => dispatch(FirebaseActions.setFirebaseError(error)),\r\n  }\r\n};\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(SplashScreen);\r\n//export default SplashScreen;\r\n","import React from 'react'\r\nimport { Text, View } from 'react-native'\r\nimport { Helpers, Metrics } from '../../Theme'\r\n\r\n/**\r\n * This is an example of a container component with a deep link.\r\n */\r\nconst DeepLinkingScreen = () => (\r\n  <View style={[Helpers.fillCenter, Helpers.rowMain, Metrics.mediumHorizontalMargin]}>\r\n    <Text>\r\n      This is deep linking example screen which can be accessed using agrissysapp://deeplink scheme!\r\n    </Text>\r\n  </View>\r\n)\r\n\r\nexport default DeepLinkingScreen\r\n","import React from 'react';\r\nimport { StyleSheet, View, TouchableOpacity, Text, Image} from 'react-native';\r\n\r\nimport { ApplicationStyles, Helpers, Metrics, Fonts, Colors, Images } from '../Theme'\r\n\r\nconst Button = props => {\r\n  var TextView = [<Text style={[styles.text, props.textStyle]} key={0}>{props.Text}</Text>]\r\n\r\n  var ImageView = []\r\n  if (props.icon) {\r\n    var _Image = <Image style={Helpers.fullSize} source={props.icon} resizeMode={'contain'} />\r\n    ImageView = (\r\n      <View style={[styles.icon, props.iconStyle]}>\r\n        {_Image}\r\n      </View>\r\n    )\r\n  }\r\n  return (\r\n    <TouchableOpacity style={[styles.boxContainer, props.boxStyle]} onPress={props.onPress}>\r\n      {props.icon?(\r\n        <View style={[styles.button, props.buttonStyle, Helpers.rowCenter]}>\r\n          <View style={[Helpers.colCenter, Helpers.fill]}>\r\n            {TextView}\r\n          </View>\r\n            {ImageView}\r\n        </View>\r\n      ):(\r\n        <View style={[styles.button, props.buttonStyle]}>\r\n          {TextView}\r\n        </View>\r\n      )}\r\n    </TouchableOpacity>\r\n  );\r\n};\r\n\r\nconst styles = StyleSheet.create({\r\n  boxContainer:{\r\n    ...Helpers.center,\r\n    ...Metrics.tinyVerticalMargin,\r\n  },\r\n  button: {\r\n    borderRadius: 15,\r\n    ...Helpers.center,\r\n    ...Helpers.fullWidth,\r\n    ...Metrics.horizontalPadding,\r\n    ...ApplicationStyles.button,\r\n  },\r\n  text: {\r\n    ...ApplicationStyles.buttonText,\r\n    ...Metrics.verticalPadding,\r\n    ...Helpers.center,\r\n    textAlign:\"center\",\r\n  },\r\n  icon: {\r\n    ...Helpers.colCenter,\r\n    ...Metrics.smallVerticalMargin,\r\n    width: '25%', \r\n    height: 50,\r\n  },\r\n});\r\n\r\nexport default Button;","import React from 'react';\r\nimport { View, Text, Image} from 'react-native';\r\nimport Button from './Button'\r\n\r\nimport { ApplicationStyles, Helpers, Metrics } from '../Theme'\r\n\r\nconst Button_Panel = props => {\r\n  const Texts = props.Texts;\r\n  const Images = props.Images;\r\n\r\n  const onPress = props.onPress;\r\n\r\n  var Buttons = []\r\n\r\n  Texts.forEach((element, index) => {\r\n    var image = null\r\n    if (Images && Images[index]){\r\n      image = Images[index]\r\n    }\r\n    Buttons.push(\r\n      <Button key={index} Text={element} icon={image}\r\n        iconStyle={props.iconStyle} itemStyle={props.itemStyle}\r\n        onPress={() => {\r\n          if (onPress) {\r\n            onPress({index: index, text: element})\r\n          }\r\n        }}/>\r\n    )\r\n  });\r\n\r\n  return(\r\n    <View style={[Helpers.buttonContainer, Helpers.midWidth, {marginBottom:30}, props.style] }>\r\n      {Buttons}\r\n    </View>\r\n  )\r\n};\r\n\r\nexport default Button_Panel;","import React from 'react';\r\nimport { StyleSheet, View, TouchableOpacity, Text, Image} from 'react-native';\r\n\r\nimport Button from './Button';\r\n\r\nimport { ApplicationStyles, Helpers, Metrics, Fonts, Colors, Images } from '../Theme'\r\n\r\nconst TitleElement = props => {\r\n  return(\r\n    <View style={[Helpers.buttonContainer, Helpers.midWidth, Metrics.bottomMargin,] }>\r\n      <Button Text={props.Text} icon={props.icon} buttonStyle={{backgroundColor: Colors.AgriDarkblue}}\r\n        onPress={() => {\r\n          if (props.onPress){\r\n            props.onPress()\r\n          }\r\n        } }/>\r\n    </View>\r\n  )\r\n};\r\n\r\nexport default TitleElement;","import React from 'react';\r\nimport { StyleSheet, View, TouchableOpacity, Text} from 'react-native';\r\nimport { ListItem } from 'react-native-elements'\r\n\r\nimport { ApplicationStyles, Helpers, Metrics, Fonts, Colors } from '../Theme'\r\n\r\nconst CustomListItem = props => {\r\n  const key = props.key? props.key : 0\r\n  return (\r\n    <ListItem key={key} containerStyle={[styles.listitem, {flexDirection:\"column\", borderRadius:0}, props.itemStyle]} button onPress={props.onPress}>\r\n      <ListItem.Content>\r\n        <ListItem.Title>{props.Title}</ListItem.Title>\r\n        {props.hasOwnProperty(\"Subtitle\") ? <ListItem.Subtitle>{props.Subtitle}</ListItem.Subtitle>\r\n        :(<></>)}\r\n      </ListItem.Content>\r\n    </ListItem>\r\n  )\r\n};\r\n\r\nconst styles = StyleSheet.create({\r\n  listitem: {\r\n    flex: 1,\r\n    ...Helpers.borderContainer,\r\n    ...Helpers.center,\r\n    backgroundColor: '#fff',\r\n    paddingVertical: 5,\r\n    paddingHorizontal: 5,\r\n  },\r\n});\r\n\r\nexport default CustomListItem;","import React from 'react';\r\nimport { StyleSheet, View, TouchableOpacity, Text, FlatList} from 'react-native';\r\n\r\nimport { ApplicationStyles, Helpers, Metrics, Fonts, Colors } from '../Theme'\r\n\r\nconst ContentProp = props => {\r\n  var texts = [];\r\n  if (props.texts){\r\n    props.texts.forEach((element,i) => {\r\n      texts.push(\r\n        (<View style={[styles.contentBox, props.textsStyle]} key={\"text_\" + i}>\r\n          <Text>{element}</Text>\r\n        </View>)\r\n      )\r\n    });\r\n  }\r\n\r\n  var datas = [];\r\n  if (props.datas) {\r\n    props.datas.forEach((element,i) => {\r\n      datas.push(\r\n        (<TouchableOpacity style={[styles.contentBox, props.datasStyle]} onLongPress={() => {\r\n          if (props.onPress){\r\n            props.onPress({data: element, index: i})\r\n          }\r\n        }} key={\"data_\" + i}>\r\n          <Text>{element}</Text>\r\n        </TouchableOpacity>)\r\n      )\r\n    });\r\n  }\r\n\r\n  var length = texts.length > datas.length? texts.length : datas.length\r\n  \r\n  var view = [];\r\n  for(var i = 0; i < length; i++) {\r\n    var dataRow = [];\r\n    if (i < texts.length) {\r\n      dataRow.push(texts[i])\r\n    } else {\r\n      dataRow.push((<View style={[Helpers.fill, Helpers.colCenter]} key={\"leftSpace_\" + i}/>))\r\n    }\r\n\r\n    if (datas.length > 0) {\r\n      dataRow.push((<View style={[Helpers.fill, Helpers.colCenter, {maxWidth:20}]} key={\"seperator_\" + view.length}/>))\r\n\r\n      if (i < datas.length) {\r\n        dataRow.push(datas[i])\r\n      } else {\r\n        dataRow.push((<View style={[Helpers.fill, Helpers.colCenter]} key={\"rightSpace_\" + i}/>))\r\n      }\r\n    }\r\n\r\n    view.push(\r\n      (<View style={[props.datas?Helpers.rowCenter:Helpers.halvWidth, Metrics.tinyVerticalMargin]} key={\"row_\" + view.length}>\r\n        {dataRow}\r\n      </View>)\r\n    )\r\n  }\r\n  \r\n  return (view);\r\n};\r\n\r\nconst styles = StyleSheet.create({\r\n  contentBox: {\r\n    ...Helpers.fill,\r\n    ...Helpers.colCenter,\r\n    ...Helpers.borderContainer,\r\n    borderRadius: 0,\r\n    minHeight:30,\r\n  }\r\n});\r\n\r\n\r\nexport default ContentProp;","import React, { useEffect } from 'react'\r\nimport { StyleSheet, Text, View, Image, ActivityIndicator } from 'react-native'\r\n\r\nimport { Helpers, Images, Colors } from '../Theme'\r\n\r\nconst Loading = props => {\r\n  if (props.loading){\r\n    var styles = props.back ? styles.container: {}\r\n    return (\r\n      <View style={[Helpers.fillRowCenter, Helpers.center, Helpers.logoContainer, styles]}>\r\n        <View style={[Helpers.center, Helpers.logoContainer]}>\r\n          <Image style={Helpers.fullSize} source={Images.Hexa_icon} resizeMode={'contain'} />\r\n        </View>\r\n      </View>\r\n    )\r\n  } else return null;\r\n}\r\n\r\nconst styles = StyleSheet.create({\r\n  container: {\r\n    backgroundColor: Colors.primary,\r\n  },\r\n});\r\n\r\nexport default Loading\r\n","import React, { Component } from 'react'\r\nimport { Platform, Text, View, ActivityIndicator, ScrollView } from 'react-native'\r\nimport { useDispatch, useSelector, connect } from 'react-redux'\r\nimport { bindActionCreators } from 'redux';\r\nimport NavigationService from '../Services/NavigationService'\r\n\r\nimport FirebaseActions from '../Stores/Firebase/Actions'\r\nimport { Actions, DataRefs, sortObject, Operations } from '../Stores/Firebase/Selectors'\r\n\r\nimport { Button, Comment_Module } from '../Components'\r\nimport { ApplicationStyles, Helpers, Metrics } from '../Theme'\r\n\r\nclass OperationsPanel extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.state = {\r\n      View:1,\r\n    }\r\n  }\r\n\r\n  getPenAndSection() {\r\n    var Section, Pen = undefined\r\n    if (this.props.pig && this.props.pigTag && this.props.PigsList) {\r\n      if (this.props.PigsList[this.props.pigTag] && this.props.PigsList[this.props.pigTag].pen && this.props.PigsList[this.props.pigTag].pen != 0) {\r\n        Pen = this.props.PigsList[this.props.pigTag].pen\r\n\r\n        const localDataStore = this.props.firebase.localDataStore\r\n        if (localDataStore && localDataStore.pens && localDataStore.pens[Pen]) {\r\n          var PenData = localDataStore.pens[Pen];\r\n          Section = PenData.section;\r\n        }\r\n      }\r\n    }\r\n    return {Section, Pen}\r\n  }\r\n\r\n  getData() {\r\n  }\r\n\r\n  componentDidMount() {\r\n    this.getData();\r\n  }\r\n\r\n  componentDidUpdate(prevProps, prevState) {\r\n    if (this.props !== prevProps) {\r\n    }\r\n  }\r\n\r\n  render() {\r\n    const CurrentData = this.props.firebase.currentData\r\n\r\n    if (this.props.pig) {\r\n      return(\r\n        <View style={[Helpers.buttonContainer]}>\r\n          <Button Text=\"Add Pig\"\r\n            onPress={() => {\r\n              if (this.props.pigTag !== \"\" ) {\r\n                if (Object.keys(this.props.PigsList).filter(e => e === this.props.pigTag).length > 0){\r\n                  this.props.setFirebaseError(\"Can not add Tag already exist\")\r\n                } else {\r\n                  this.props.setFirebaseError(\"\")\r\n                  this.props.newPig(this.props.pigTag)\r\n                }\r\n              }\r\n              else this.props.setFirebaseError(\"A Tag is needed\")\r\n            } }/>\r\n          <Button Text=\"Move Pig\"\r\n            onPress={() => {\r\n              var {Section, Pen} = this.getPenAndSection()\r\n              this.props.setCurrentPig(this.props.pigTag, Section, Pen)\r\n              NavigationService.navigate(\"DataEditor\")\r\n            } }/>\r\n        </View>\r\n      )\r\n    } else if (this.props.section) {\r\n      return(\r\n        <View style={[Helpers.buttonContainer]}>\r\n          <Button Text=\"Weight\"\r\n              onPress={() => {\r\n                NavigationService.navigate(\"WeighingOperations\")\r\n              }}/>\r\n          <View style={[{marginTop:40}]}>\r\n            <Button Text=\"Add Pen\"\r\n              onPress={() => {\r\n                this.props.editPens(Actions.CREATE)\r\n                NavigationService.navigate(\"DataEditor\")\r\n              } }/>\r\n            <Button Text=\"Remove Pen\"\r\n              onPress={() => {\r\n                this.props.editPens(Actions.DELETE)\r\n                NavigationService.navigate(\"DataEditor\")\r\n              } }/>\r\n          </View>\r\n        </View>\r\n      )\r\n    } else {\r\n      var Action = 1;\r\n      switch(this.state.View) {\r\n        case Operations.MOVE:\r\n        case Operations.LOST:\r\n        case Operations.SOLD:\r\n          Action = -1\r\n        case Operations.ADD:\r\n          return(\r\n            <Comment_Module Title={\"Operations comment:\"} Quantity={true} Weight={true} onDone={(res) => {\r\n              if (res.res) {\r\n                var action = this.state.View\r\n                action = action.charAt(0).toUpperCase() + action.slice(1)\r\n                var quantity = res.quantity\r\n                if (isNaN(quantity)) quantity = 1\r\n                Action = Action * quantity\r\n                if (res.weight && res.weight !== \"\") {\r\n                  var weight = res.weight\r\n                  if (this.state.View === Operations.ADD) {\r\n                    this.props.newWeight(CurrentData.penId, weight, Date.now(),1)\r\n                  }\r\n                }\r\n\r\n                this.props.newComment(CurrentData.penId, action, res.data, quantity, weight)\r\n                this.props.newPigCount(CurrentData.penId, Action)\r\n              }\r\n\r\n              this.setState({\r\n                View: 1\r\n              })\r\n            }}/>\r\n          )\r\n          //this.props.newPigCount(CurrentData.penId, Action * \"count_input\", comment)\r\n        case Operations.NOTE:\r\n          return(\r\n            <Comment_Module Title={\"Pen Note:\"} onDone={(res) => {\r\n              if (res.res && res.data) {\r\n                var action = this.state.View\r\n                action = action.charAt(0).toUpperCase() + action.slice(1)\r\n                \r\n                this.props.newComment(CurrentData.penId, action, res.data)\r\n              }\r\n              \r\n              this.setState({\r\n                View: 1\r\n              })\r\n            }}/>\r\n          )\r\n          break;\r\n        default:\r\n          return(\r\n            <ScrollView style={{paddingRight: 5}}>\r\n              <View style={[Helpers.buttonContainer]}>\r\n                <Button Text=\"Weight\"\r\n                    onPress={() => {\r\n                      NavigationService.navigate(\"WeighingOperations\")\r\n                    }}/>\r\n                <Button Text=\"Note\"\r\n                    onPress={() => {\r\n                      this.setState({\r\n                        View: Operations.NOTE,\r\n                      })\r\n                    }\r\n                  }/>\r\n                <View style={[{marginTop:10}]}>\r\n                  <Button Text=\"Add Pig\"\r\n                    onPress={() => {\r\n                      this.setState({\r\n                        View: Operations.ADD,\r\n                      })\r\n                    } }/>\r\n                  <Button Text=\"Move Pig\"\r\n                    onPress={() => {\r\n                      this.setState({\r\n                        View: Operations.MOVE,\r\n                      })\r\n                    } }/>\r\n                  <Button Text=\"Lost Pig\"\r\n                    onPress={() => {\r\n                      this.setState({\r\n                        View: Operations.LOST,\r\n                      })\r\n                    } }/>\r\n                  <Button Text=\"Sold Pig\"\r\n                    onPress={() => {\r\n                      this.setState({\r\n                        View: Operations.SOLD,\r\n                      })\r\n                    } }/>\r\n                </View>\r\n              </View>\r\n            </ScrollView>\r\n          )\r\n      }\r\n    }\r\n  }\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n  const { firebase } = state\r\n  return { firebase }\r\n};\r\n\r\nconst mapDispatchToProps  = (dispatch) => {\r\n  return {\r\n    setFirebaseError: error => dispatch(FirebaseActions.setFirebaseError(error)),\r\n\r\n    setCurrentData: penId => dispatch(FirebaseActions.setCurrentData({type:DataRefs.PENS, penId: penId})),\r\n    setCurrentDataElement: element => dispatch(FirebaseActions.setCurrentData(element)),\r\n\r\n    editPens: (action) => dispatch(FirebaseActions.setCurrentData({type:DataRefs.PENS, action:action})),\r\n\r\n    setCurrentPig: (pigTag, Section, Pen) => dispatch(FirebaseActions.setCurrentData({type:DataRefs.PIGS, action:Actions.CREATE, pigtag:pigTag, data:{section:Section}, dataId:Pen})),\r\n    newPig: (pigTag) => dispatch(FirebaseActions.actionStarting(Actions.CREATE, DataRefs.PIGS, {TagId: pigTag})),\r\n    newPigCount: (penId, countChange) => dispatch(FirebaseActions.actionStarting(Actions.CREATE, DataRefs.PIGS, {PenId: penId, Action:countChange})),\r\n\r\n    newComment: (penId, action, data, quantity=null, weight=null) => dispatch(FirebaseActions.actionStarting(Actions.CREATE, DataRefs.COMMENTS, {PenId: penId, Action: action, Data: data, Quantity:quantity, Weight:weight})),\r\n    newWeight: (penId, weight, date, quantity) => dispatch(FirebaseActions.actionStarting(Actions.CREATE, DataRefs.WEIGHING, {PenId: penId, Weight:weight, Quantity:quantity, Date:date})),\r\n  }\r\n};\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(OperationsPanel);\r\n//export default OperationsPanel","import React, {useRef, useState, useEffect} from 'react';\r\nimport { Text, View, StyleSheet, Animated } from 'react-native';\r\n\r\nimport { ApplicationStyles, Helpers, Metrics } from '../Theme'\r\n\r\nconst ProgressBar = props => {\r\n  let animation = useRef(new Animated.Value(0));\r\n  const progress = props.progress\r\n  const Color = props.color?props.color:\"#8BED4F\"\r\n  \r\n  useEffect(() => {\r\n    Animated.timing(animation.current, {\r\n      toValue: progress,\r\n      duration: 100\r\n    }).start();\r\n  },[progress])\r\n\r\n  const width = animation.current.interpolate({\r\n    inputRange: [0, 100],\r\n    outputRange: [\"0%\", \"100%\"],\r\n    extrapolate: \"clamp\"\r\n  })\r\n  return (\r\n    <View style={[Helpers.borderContainer, Helpers.fullWidth, {borderWidth:0, minHeight:45, paddingBottom:10}]}>\r\n      <View style={[Helpers.fill, Helpers.fullWidth, Helpers.colMain, {alignContent:'center'}]}>\r\n        {props.text?(\r\n        <Text style={{alignSelf:'flex-start', minHeight:20}}>\r\n          {props.text}\r\n        </Text>):(<></>)}\r\n        <View style={styles.progressBar}>\r\n          <Animated.View style={[StyleSheet.absoluteFill], {backgroundColor: Color, width }}/>\r\n        </View>\r\n      </View>\r\n    </View>\r\n  )\r\n}\r\n\r\nexport default ProgressBar;\r\n\r\nconst styles = StyleSheet.create({\r\n  container: {\r\n    flex: 1,\r\n    flexDirection: 'column',\r\n    justifyContent: 'center',\r\n    alignItems: 'center',\r\n    paddingTop: 5,\r\n    padding: 8,\r\n  },\r\n  progressBar: {\r\n    flexDirection: 'row',\r\n    height: 20,\r\n    width: '100%',\r\n    borderColor: '#000',\r\n    borderWidth: 2,\r\n    borderRadius: 5\r\n  }\r\n});\r\n","import React, { Component } from 'react'\r\nimport { StyleSheet, View, TouchableOpacity, Picker, Text, Image} from 'react-native';\r\n\r\nimport { ApplicationStyles, Helpers, Metrics, Fonts, Colors, Images } from '../Theme'\r\n\r\nconst monthNames = [\"January\", \"February\", \"March\", \"April\", \"May\", \"June\",\r\n  \"July\", \"August\", \"September\", \"October\", \"November\", \"December\"\r\n];\r\n\r\nclass DateTime_Picker extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n      \r\n    const {year, month, day} = this.getStates(props)\r\n    this.state = {\r\n      year: year,\r\n      month: month,\r\n      day: day,\r\n    }\r\n  }\r\n\r\n  getStates(props) {\r\n    var Today = new Date();\r\n    var Selected = new Date();\r\n    if (props.Selected) {\r\n      Selected = new Date(props.Selected)\r\n    }\r\n\r\n    var year, month, day;\r\n    year = Selected.getFullYear()\r\n    month = Selected.getMonth()\r\n    day = Selected.getDate()\r\n\r\n    if (!props.Selected) {\r\n      if (props.Year){\r\n        year = this.props.Year\r\n      }\r\n      if (props.Month){\r\n        month = this.props.Month\r\n      }\r\n      if (props.Day){\r\n        day = this.props.Day\r\n      }\r\n    }\r\n    return {year, month, day}\r\n  }\r\n\r\n  componentDidUpdate(prevProps, prevState) {\r\n    if (prevProps.Selected){\r\n      if (prevProps.Selected != this.props.Selected){\r\n        const {year, month, day} = this.getStates(this.props)\r\n        this.setState({\r\n          year: year,\r\n          month: month,\r\n          day: day,\r\n        }, this.forceUpdate())\r\n      }\r\n    } else {\r\n      var changed = false;\r\n      if (prevProps.Year != this.props.Year) changed = true\r\n      if (prevProps.Month != this.props.Month) changed = true\r\n      if (prevProps.Day != this.props.Day) changed = true\r\n      if (changed) {\r\n        this.forceUpdate()\r\n      }\r\n    }\r\n  }\r\n\r\n  render() {\r\n    var Today = new Date();\r\n\r\n    var year = Today.getFullYear()\r\n    var YearItems = []\r\n    for (let index = year + 25; index > year - 25; index--) {\r\n      var val = String(index)\r\n      YearItems.push(<Picker.Item key={\"Year_\" + index} value={index} label={val} />)\r\n    }\r\n      \r\n    var MonthItems = []\r\n    var month = Today.getMonth()\r\n    for (let index = 0; index < monthNames.length; index++) {\r\n      var val = String(index)\r\n      MonthItems.push(<Picker.Item key={\"Month_\" + index} value={index} label={monthNames[index]} />)\r\n    }\r\n  \r\n    var DayItems = []\r\n    var days = new Date(year, month + 1, 0).getDate()\r\n    for (let index = 1; index <= days; index++) {\r\n      var val = String(index)\r\n      DayItems.push(<Picker.Item key={\"Day_\" + index} value={index} label={val} />)\r\n    }\r\n\r\n    return(\r\n      <View style={[Helpers.fullWidth, Helpers.row, {marginBottom:-10,}, this.props.style]}>\r\n        <Picker selectedValue={this.state.year} style={[{minWidth: 101, marginRight:5}]}\r\n          onValueChange={(_year) => {\r\n            year = _year\r\n            this.props.onValueChange(new Date(year, this.state.month, this.state.day))\r\n          }}>\r\n          {YearItems}\r\n        </Picker>\r\n\r\n        <Picker selectedValue={this.state.month} style={[{minWidth: 110, marginRight:5}]}\r\n          onValueChange={(_month) => {\r\n            month = _month\r\n            this.props.onValueChange(new Date(this.state.year, month, this.state.day))\r\n          }}>\r\n          {MonthItems}\r\n        </Picker>\r\n\r\n        <Picker selectedValue={this.state.day} style={[{minWidth: 83}]}\r\n          onValueChange={(_day) => {\r\n            days = parseInt(_day)\r\n            this.props.onValueChange(new Date(this.state.year, this.state.month, days))\r\n          }}>\r\n          {DayItems}\r\n        </Picker>\r\n      </View>\r\n    )\r\n  }\r\n}\r\nexport default DateTime_Picker;","import React, { useState } from 'react';\r\nimport { Platform, View, Text, TextInput, Image, StyleSheet, RecyclerViewBackedScrollViewComponent} from 'react-native';\r\nimport Button from './Button'\r\nimport { Icon, Input } from 'react-native-elements'\r\nimport { Operations } from '../Stores/Firebase/Selectors'\r\n\r\nimport { ApplicationStyles, Helpers, Metrics, Fonts, Colors } from '../Theme'\r\n\r\nconst Comment_Module = props => {\r\n  const Title = props.Title;\r\n  const Quantity = props.Quantity?props.Quantity:false\r\n  const Weight = props.Weight?props.Weight:false\r\n  \r\n  const onDone = props.onDone;\r\n  var Button1 = \"Done\";\r\n  var Button2 = \"Cancel\";\r\n  const [InputText, setInputText] = useState(\"\");\r\n  const [QuantityText, setQuantityText] = useState(\"1\");\r\n  const [WeightText, setWeightText] = useState(\"\");\r\n\r\n  var App = Platform.OS === \"android\" || Platform.OS === \"ios\" ? true: false\r\n  return(\r\n    <View style={[Helpers.buttonContainer, props.style] }>\r\n      <View style={styles.textAreaContainer} >\r\n        <View style={[App?{}:Helpers.row]}>\r\n          {Title?(<Text style={[Fonts.normal, {height: 24, color:Colors.input}]}>{Title}</Text>):(<></>)}\r\n          {Quantity?(\r\n            <View style={[Helpers.row, App?{}:{marginLeft:50, marginBottom:4}]}>\r\n              <Text style={[Fonts.normal, {height: 24, color:Colors.input}]}>Quantity:</Text>\r\n              <TextInput style={[styles.textArea, {marginLeft: 10, height:22, width:80, paddingBottom:-10}]} \r\n                multiline={false}\r\n                onChangeText={(text) => {\r\n                  if (text === \"\" || !isNaN(text)) setQuantityText(text)\r\n                }}\r\n                value={QuantityText}\r\n              />\r\n            </View>\r\n          ):(<></>)}\r\n        </View>\r\n        {Weight?(\r\n          <View style={[Helpers.row, App?{}:{marginBottom:4}]}>\r\n            <Text style={[Fonts.normal, {height: 24, color:Colors.input}]}>Average Weight:</Text>\r\n            <TextInput style={[styles.textArea, {marginLeft: 10, height:22, width:80, paddingBottom:-10}]} \r\n              multiline={false}\r\n              onChangeText={(text) => {\r\n                if (text === \"\" || !isNaN(text)) setWeightText(text)\r\n              }}\r\n              value={WeightText}\r\n            />\r\n          </View>\r\n        ):(<></>)}\r\n        <TextInput\r\n          style={styles.textArea}\r\n          underlineColorAndroid=\"transparent\"\r\n          placeholder=\"Note context..\"\r\n          placeholderTextColor=\"grey\"\r\n          numberOfLines={10}\r\n          multiline={true}\r\n          onChangeText={(text) => setInputText(text)}\r\n          value={InputText}\r\n        />\r\n      </View>\r\n      <Button key={\"_Done\"} Text={Button1}\r\n        onPress={() => {\r\n          if (onDone) {\r\n            onDone({res: true, data: InputText, quantity: QuantityText, weight: WeightText})\r\n          }\r\n        }}/>\r\n      <Button key={\"_Cancel\"} Text={Button2}\r\n        onPress={() => {\r\n          if (onDone) {\r\n            onDone({res: false, data: InputText})\r\n          }\r\n        }}/>\r\n    </View>\r\n  )\r\n};\r\n\r\nconst styles = StyleSheet.create({\r\n  textAreaContainer: {\r\n    borderColor: Colors.gray,\r\n    borderWidth: 1,\r\n    padding: 5\r\n  },\r\n  textArea: {\r\n    height: 150,\r\n    justifyContent: \"flex-start\",\r\n    borderColor: \"black\",\r\n    borderWidth: 0.5,\r\n    padding: 5,\r\n  }\r\n})\r\n\r\nexport default Comment_Module;","import { StyleSheet } from 'react-native'\r\nimport { Helpers, Metrics, Fonts, Colors } from '../../Theme'\r\n\r\nexport default StyleSheet.create({\r\n  logoContainer: {\r\n    ...Helpers.fullWidth,\r\n    height: 190,\r\n    marginTop: Metrics.medium * 2, \r\n    marginBottom: Metrics.medium,\r\n  },\r\n})\r\n","import React, { useEffect, useState, Component } from 'react'\r\nimport { Platform, Text, View, ActivityIndicator, Image } from 'react-native'\r\nimport { useDispatch, useSelector, connect } from 'react-redux'\r\nimport { bindActionCreators } from 'redux';\r\n\r\nimport NavigationService from '../../Services/NavigationService'\r\n\r\n//import DeviceActions from '../../Stores/Device/Actions'\r\nimport FirebaseActions from '../../Stores/Firebase/Actions'\r\n\r\nimport { Button_Panel } from '../../Components'\r\nimport Style from './FrontScreenStyle'\r\nimport { ApplicationStyles, Helpers, Images } from '../../Theme'\r\n\r\nclass FrontScreen extends Component {\r\n  constructor(props){\r\n    super(props);\r\n\r\n    this.state = {\r\n      ShowMainError: false,\r\n      FocusSubscription: null,\r\n    }\r\n  }\r\n\r\n  setData(Props) {\r\n  }\r\n\r\n  getData() {\r\n  }\r\n\r\n  checkData(props) {\r\n  }\r\n\r\n  componentDidUpdate(prevProps, prevState) {\r\n    if (this.props !== prevProps) {\r\n      this.checkData(this.props);\r\n      if (this.props.firebase.viewError != prevProps.firebase.viewError) {\r\n        this.forceUpdate()\r\n      }\r\n    }\r\n  }\r\n\r\n  componentDidMount() {\r\n    this.props.setFirebaseError(null)\r\n    this.checkData(this.props);\r\n    this.getData();\r\n\r\n    const FocusSubscription = this.props.navigation.addListener(\r\n      'willFocus',\r\n      payload => {\r\n        this.props.setViewLoading(false)\r\n        this.props.setViewError(null)\r\n      }\r\n    );\r\n    this.setState({\r\n      FocusSubscription: FocusSubscription\r\n    })\r\n  }\r\n  componentWillUnmount() {\r\n    if (this.state.FocusSubscription) {\r\n      this.state.FocusSubscription.remove()\r\n    }\r\n  }\r\n\r\n  render() {\r\n    const ErrorMessage = this.props.firebase.viewError\r\n    const firebaseErrorMessage = this.props.firebase.firebaseErrorMessage\r\n\r\n    return(\r\n      <View\r\n        style={[\r\n          Helpers.mainContainer,\r\n        ]}\r\n      >\r\n        <View style={[Style.logoContainer]}>\r\n          <Image style={[Helpers.fullSize]} source={Images.Logo} resizeMode={'contain'} />\r\n        </View>\r\n\r\n        <View style={[Helpers.contentContainer, Helpers.fullSize]}>\r\n          <View style={[Helpers.textContainer, Helpers.fullWidth]}>\r\n            {this.state.ShowMainError && firebaseErrorMessage ? (\r\n              <Text style={ApplicationStyles.error}>{firebaseErrorMessage}</Text>\r\n            ):(<></>)}\r\n            {ErrorMessage ? (\r\n              <Text style={ApplicationStyles.error}>{ErrorMessage}</Text>\r\n            ):(<></>)}\r\n            <Text style={ApplicationStyles.text}>Welcome to Agrisys App</Text>\r\n            <Text style={ApplicationStyles.text}>Please choose your action</Text>\r\n          </View>\r\n\r\n          <Button_Panel \r\n            Texts={[\"Connect to Agrisys Cloud\", \"Connect to Device\"]}\r\n            Images={[Images.Haxa_globe, null]}\r\n            onPress={(ele) => {\r\n              switch(ele.index){\r\n                case 0:\r\n                  NavigationService.navigate('AuthStack')\r\n                  break;\r\n                case 1:\r\n                  if (Platform.OS === 'ios' || Platform.OS === 'android') {\r\n                    NavigationService.navigate(\"DeviceScreen\")\r\n                  }\r\n                  break;\r\n              }\r\n              /*<Button Text=\"Example\"\r\n              onPress={() => NavigationService.navigate(\"ExampleScreen\")}/>*/\r\n            }}\r\n          />\r\n        </View>\r\n      </View>\r\n    )\r\n  }\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n  const { firebase } = state\r\n  return { firebase }\r\n};\r\n\r\nconst mapDispatchToProps  = (dispatch) => {\r\n  return {\r\n    setFirebaseError: error => dispatch(FirebaseActions.setFirebaseError(error)),\r\n    setViewLoading: state => dispatch(FirebaseActions.viewIsLoading(state)),\r\n    setViewError: error => dispatch(FirebaseActions.setViewError(error)),\r\n  }\r\n};\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(FrontScreen);\r\n//export default FrontScreen;\r\n","/**\r\n * Selectors let us factorize logic that queries the state.\r\n *\r\n * Selectors can be used in sagas or components to avoid duplicating that logic.\r\n *\r\n * Writing selectors is optional as it is not always necessary, we provide a simple example below.\r\n */\r\n\r\nexport const liveInEurope = (state) => {\r\n  if (Object.entries(state.example.user).length <= 0) return null\r\n\r\n  // For this example, we imagine this cities are european cities\r\n  const europeanCities = [\r\n    'Gwenborough',\r\n    'Wisokyburgh',\r\n    'McKenziehaven',\r\n    'South Elvis',\r\n    'Roscoeview',\r\n  ]\r\n\r\n  return europeanCities.includes(state.example.user.address.city)\r\n}\r\n","import { StyleSheet } from 'react-native'\r\nimport { Helpers, Metrics, Fonts, Colors } from '../../Theme'\r\n\r\nexport default StyleSheet.create({\r\n  error: {\r\n    ...Fonts.normal,\r\n    color: Colors.error,\r\n    marginBottom: Metrics.tiny,\r\n    textAlign: 'center',\r\n  },\r\n  instructions: {\r\n    ...Fonts.normal,\r\n    fontStyle: 'italic',\r\n    marginBottom: Metrics.tiny,\r\n    textAlign: 'center',\r\n  },\r\n  logoContainer: {\r\n    ...Helpers.fullWidth,\r\n    height: 300,\r\n    marginBottom: 25,\r\n  },\r\n  result: {\r\n    ...Fonts.normal,\r\n    marginBottom: Metrics.tiny,\r\n    textAlign: 'center',\r\n  },\r\n  text: {\r\n    ...Fonts.normal,\r\n    marginBottom: Metrics.tiny,\r\n    textAlign: 'center',\r\n  },\r\n})\r\n","import React, { useEffect } from 'react'\r\nimport { Platform, Text, View, Button, ActivityIndicator, Image } from 'react-native'\r\nimport { useDispatch, useSelector } from 'react-redux'\r\n\r\nimport NavigationService from '../../Services/NavigationService'\r\n\r\nimport ExampleActions from '../../Stores/Example/Actions'\r\nimport { liveInEurope } from '../../Stores/Example/Selectors'\r\n\r\nimport Style from './ExampleScreenStyle'\r\nimport { ApplicationStyles, Helpers, Images, Metrics } from '../../Theme'\r\n\r\n/**\r\n * This is an example of a container component.\r\n *\r\n * This screen displays a little help message and informations about a fake user.\r\n * Feel free to remove it.\r\n */\r\nconst instructions = Platform.select({\r\n  ios: 'Press Cmd+R to reload,\\nCmd+D or shake for dev menu.',\r\n  android: 'Double tap R on your keyboard to reload,\\nShake or press menu button for dev menu.',\r\n})\r\n\r\nconst ExampleScreen = () => {\r\n  const dispatch = useDispatch()\r\n\r\n  const user = useSelector((state) => state.example.user)\r\n  const userIsLoading = useSelector((state) => state.example.userIsLoading)\r\n  const userErrorMessage = useSelector((state) => state.example.userErrorMessage)\r\n\r\n  useEffect(() => {\r\n    dispatch(ExampleActions.fetchUser())\r\n  }, [])\r\n\r\n  return (\r\n    <View\r\n      style={[\r\n        Helpers.fillCenter,\r\n        Helpers.rowMain,\r\n        Metrics.mediumHorizontalMargin,\r\n        Metrics.mediumVerticalMargin,\r\n      ]}\r\n    >\r\n      {userIsLoading ? (\r\n        <ActivityIndicator size=\"large\" color=\"#0000ff\" />\r\n      ) : (\r\n        <View>\r\n          <View style={Style.logoContainer}>\r\n            <Image style={Helpers.fullSize} source={Images.logo} resizeMode={'contain'} />\r\n          </View>\r\n          <Text style={Style.text}>To get started, edit App.js</Text>\r\n          <Text style={Style.instructions}>{instructions}</Text>\r\n          {userErrorMessage ? (\r\n            <Text style={Style.error}>{userErrorMessage}</Text>\r\n          ) : (\r\n            <View>\r\n              <Text style={Style.result}>\r\n                {\"I'm a fake user, my name is \"}\r\n                {user.name}\r\n              </Text>\r\n              <Text style={Style.result}>\r\n                {liveInEurope ? 'I live in Europe !' : \"I don't live in Europe.\"}\r\n              </Text>\r\n            </View>\r\n          )}\r\n          <Button\r\n            style={ApplicationStyles.button}\r\n            onPress={() => dispatch(ExampleActions.fetchUser())}\r\n            title=\"Refresh\"\r\n          />\r\n          <Button\r\n            style={ApplicationStyles.button}\r\n            onPress={() => NavigationService.navigate(\"TestScreen\") }\r\n            title=\"Test\"\r\n          />\r\n        </View>\r\n      )}\r\n    </View>\r\n  )\r\n}\r\n\r\nexport default ExampleScreen\r\n","import { StyleSheet } from 'react-native'\r\nimport { Helpers, Metrics, Fonts, Colors } from '../../Theme'\r\n\r\nexport default StyleSheet.create({\r\n  logoContainer: {\r\n    ...Helpers.fullWidth,\r\n    height: 220,\r\n    marginBottom: Metrics.small,\r\n  },\r\n\r\n  textContainer: {\r\n    ...Fonts.normal,\r\n    marginBottom: Metrics.small,\r\n  },\r\n  buttonContainer: {\r\n    marginBottom: Metrics.normal,\r\n  },\r\n  deviceContainer: {\r\n    flex: 1,\r\n    marginBottom: Metrics.tiny,\r\n  },\r\n  deviceDataContainer: {\r\n    borderWidth: 1,\r\n    borderColor: \"#000\",\r\n    marginTop: Metrics.normal,\r\n    paddingTop: Metrics.small,\r\n    paddingHorizontal: Metrics.normal,\r\n  },\r\n\r\n  error: {\r\n    ...Fonts.normal,\r\n    color: Colors.error,\r\n    marginBottom: Metrics.tiny,\r\n    textAlign: 'center',\r\n  },\r\n  result: {\r\n    ...Fonts.normal,\r\n    marginBottom: Metrics.tiny,\r\n    textAlign: 'center',\r\n  },\r\n  text: {\r\n    ...Fonts.normal,\r\n    marginBottom: Metrics.tiny,\r\n    textAlign: 'center',\r\n  },\r\n  text2: {\r\n    ...Fonts.normal,\r\n    marginRight: Metrics.small,\r\n    marginBottom: Metrics.tiny,\r\n  },\r\n})\r\n","import React, { useEffect } from 'react'\r\nimport { Platform, Text, View, ActivityIndicator, Image, FlatList, SafeAreaView, ScrollView } from 'react-native'\r\nimport { useDispatch, useSelector } from 'react-redux'\r\nimport NavigationService from '../../Services/NavigationService'\r\n\r\nimport DeviceActions from '../../Stores/Device/Actions'\r\nimport { ScannerState, ConnectionMethode } from '../../Stores/Device/Selectors'\r\n\r\nimport { Button, CustomListItem } from '../../Components'\r\nimport Style from './DeviceScreenStyle'\r\nimport { ApplicationStyles, Helpers, Metrics } from '../../Theme'\r\n\r\nimport { Service, } from 'react-native-ble-plx'\r\n\r\nconst BLEButton = (dispatch, Active = false) => {\r\n  if (!Active) {\r\n    return (\r\n      <Button buttonStyle={ApplicationStyles.button} Text=\"Search BLE devices\"\r\n              onPress={() => dispatch(DeviceActions.startBleScan())}/>\r\n    )\r\n  } else {\r\n    return (\r\n      <Button buttonStyle={ApplicationStyles.button} Text=\"Stop BLE Search\" \r\n              onPress={() => dispatch(DeviceActions.stopBleScan())}/>\r\n    )\r\n  }\r\n} \r\n\r\nconst ConnectedDevice_View = (connectedDevice, DeviceData) => {\r\n  const dispatch = useDispatch()\r\n  return (\r\n    <View>\r\n      <CustomListItem Title={connectedDevice.localName} Subtitle={connectedDevice.id} itemStyle={{marginBottom: 10}} onPress={() => dispatch(DeviceActions.disconnectDevice())}/>\r\n      { DeviceData && Object.keys(DeviceData).length > 1 ? (\r\n        <View style={Style.deviceDataContainer}>\r\n          {/* if battery is presented */}\r\n          {DeviceData && DeviceData.Battery ? (\r\n            <View style={Style.textContainer}>\r\n              <Text>Device battery level</Text>\r\n              <Text>{DeviceData.Battery + \"%\"}</Text>\r\n            </View>\r\n          ):(<></>)}\r\n\r\n          {/* App scanners data */}\r\n          {DeviceData.tagid ? (\r\n          <View style={Style.textContainer}>\r\n            <Text>TAG Id:</Text>\r\n            <Text>{DeviceData.tagid}</Text>\r\n          </View>\r\n          ):(<></>)}\r\n          {DeviceData.FatLayers && DeviceData.FatLayers > 0 ? (\r\n            <View style={Style.textContainer}>\r\n              <Text>Layers received: {DeviceData.FatLayers}</Text>\r\n              <Text>Layer 1: {DeviceData.FatL1}</Text>\r\n              <Text>Layer 2: {DeviceData.FatL2}</Text>\r\n              <Text>Layer 3: {DeviceData.FatL3}</Text>\r\n            </View>\r\n          ):(<></>)}\r\n          {DeviceData.Unknown ? (\r\n            <View style={Style.textContainer}>\r\n              <Text>unknon Id:</Text>\r\n              <Text>{DeviceData.Unknown}</Text>\r\n            </View>\r\n          ):(<></>)}\r\n        </View>\r\n      ):(<></>)\r\n      }\r\n    </View>\r\n  )\r\n}\r\n\r\nconst DeviceScreen = () => {\r\n  const dispatch = useDispatch()\r\n\r\n  const deviceErrorMessage = useSelector((state) => state.device.deviceErrorMessage)\r\n\r\n  const connectedDevice = useSelector((state) => state.device.connectedDevice)\r\n  const DeviceData = useSelector((state) => state.device.deviceData)\r\n\r\n  const scannerState = useSelector((state) => state.device.scannerState)\r\n  const connectionMethode = useSelector((state) => state.device.connectionMethode)\r\n  const Devices = useSelector((state) => state.device.DeviceList)\r\n\r\n  useEffect(() => {\r\n    //dispatch(DeviceActions.fetchDevice())\r\n  }, [])\r\n\r\n  return (\r\n    <View\r\n      style={[\r\n        Helpers.fill,\r\n        Helpers.rowMain,\r\n        Metrics.mediumHorizontalMargin,\r\n        Metrics.mediumVerticalMargin,\r\n      ]}\r\n    >\r\n      <View>\r\n        <View style={Style.textContainer}>\r\n          {deviceErrorMessage ? (\r\n            <View>\r\n              <Text>There was a error while retrieving conected device</Text>\r\n              \r\n            </View>\r\n          ) : (\r\n            <View>\r\n              <Text style={Style.text}>Corrently connected:</Text>\r\n              <Text style={Style.text}>{connectedDevice && connectedDevice.name ? (connectedDevice.name):(\"None\") /*mabye use localname*/}</Text>\r\n            </View>\r\n          )}\r\n        </View>\r\n        <View style={Style.buttonContainer}>\r\n          {connectedDevice ? (\r\n            <View>\r\n              <Button buttonStyle={ApplicationStyles.button} Text=\"Disconnect Device\" \r\n                onPress={() => dispatch(DeviceActions.disconnectDevice(connectionMethode))}/>\r\n              {/*<Button buttonStyle={ApplicationStyles.button} Text=\"Activate device reading\"\r\n                onPress={() => {\r\n                  dispatch(DeviceActions.readDeviceData())\r\n                }}\r\n              />*/}\r\n            </View>\r\n            ): (\r\n            <View>\r\n              {connectionMethode == ConnectionMethode.BLE && scannerState != ScannerState.IDLE ? (\r\n                <Button buttonStyle={ApplicationStyles.button} Text=\"Stop BLE Search\" \r\n                  onPress={() => dispatch(DeviceActions.stopBleScan())}/>\r\n                  ) : (\r\n                <Button buttonStyle={ApplicationStyles.button} Text=\"Search BLE devices\"\r\n                  onPress={() => dispatch(DeviceActions.startBleScan())}/>\r\n                )\r\n              }\r\n              \r\n              {Platform.OS === 'ios' ? (<></>):(\r\n                <View>\r\n                  {connectionMethode == ConnectionMethode.BLUETOOTH && scannerState != ScannerState.IDLE ? (\r\n                    <Button buttonStyle={ApplicationStyles.button} Text=\"Stop Bluetooth Search\" \r\n                      onPress={() => dispatch(DeviceActions.stopBluetoothScan())}/>\r\n                      ) : (\r\n                    <Button buttonStyle={ApplicationStyles.button} Text=\"Search Bluetooth devices\" \r\n                      onPress={() => dispatch(DeviceActions.startBluetoothScan())}/>\r\n                    )\r\n                  }\r\n                  <Button buttonStyle={ApplicationStyles.button} Text=\"Make Discoverable (Blu 30sec)\" \r\n                      onPress={() => dispatch(DeviceActions.bluetoothScanAble())}/>\r\n\r\n                  <Button buttonStyle={ApplicationStyles.button} Text=\"OnDevice-serial\" \r\n                      onPress={() => {}}/>\r\n                </View>\r\n              )}\r\n            </View>\r\n          )}\r\n        </View>\r\n        <View style={Style.deviceContainer}>\r\n          <Text style={Style.text2}>Device List:</Text>\r\n            { connectedDevice ? \r\n              ConnectedDevice_View(connectedDevice, DeviceData)\r\n              : (\r\n                <ScrollView style={{paddingRight: 5}}>\r\n                  {Devices.map((Dev, i) => (\r\n                    <CustomListItem key={i} Title={Dev.localName} Subtitle={Dev.id} onPress={() => dispatch(DeviceActions.connectDevice(Dev))}/>\r\n                  ))}\r\n                </ScrollView> \r\n              )\r\n            }\r\n        </View>\r\n      </View>\r\n    </View>\r\n  );\r\n}\r\n\r\nexport default DeviceScreen;\r\n","import React from 'react'\r\nimport { createAppContainer } from 'react-navigation'\r\nimport { createStackNavigator } from 'react-navigation-stack'\r\nimport { TouchableOpacity, Icon, View, Text } from 'react-native'\r\n\r\nimport Front from '../Containers/Agrisys/FrontScreen'\r\nimport Example from '../Containers/Example/ExampleScreen'\r\nimport Device from '../Containers/Device/DeviceScreen'\r\n\r\nimport { ApplicationStyles } from '../Theme'\r\n/**\r\n * The root screen contains the application's navigation.\r\n *\r\n * @see https://reactnavigation.org/docs/en/hello-react-navigation.html#creating-a-stack-navigator\r\n */\r\nconst StackNavigator = createStackNavigator(\r\n  {\r\n    // The main application screen is our \"ExampleScreen\". Feel free to replace it with your\r\n    // own screen and remove the example.\r\n    FrontScreen: {\r\n      screen: Front,\r\n      navigationOptions: () => ({\r\n        headerMode: 'none',\r\n        headerShown: false,\r\n      }),\r\n      path: 'main',\r\n    },\r\n    \r\n    DeviceScreen: {\r\n      screen: Device,\r\n      navigationOptions: () => ({\r\n        title: 'Device',\r\n        headerTitleStyle:{\r\n          ...ApplicationStyles.navigationHeader\r\n        },\r\n      }),\r\n    },\r\n\r\n    ExampleScreen: {\r\n      screen: Example,\r\n      navigationOptions: () => ({\r\n        headerMode: 'none',\r\n      }),\r\n      path: 'example',\r\n    }\r\n  },\r\n  {\r\n    initialRouteName: 'FrontScreen',\r\n    // See https://reactnavigation.org/docs/en/stack-navigator.html#stacknavigatorconfig\r\n    headerMode: 'float',\r\n    defaultNavigationOptions:{\r\n      headerTitleAlign: 'center',\r\n      headerRight: () => (<View style={{padding:6}}></View>),\r\n    },\r\n  }\r\n)\r\n\r\nexport default StackNavigator\r\n","import { StyleSheet } from 'react-native'\r\nimport { Helpers, Metrics, Fonts, Colors } from '../../../Theme'\r\n\r\nexport default StyleSheet.create({\r\n  \r\n})\r\n","import React, { Component } from 'react'\r\nimport { Platform, Text, Image, View, ActivityIndicator } from 'react-native'\r\nimport { Input } from 'react-native-elements'\r\nimport { connect } from 'react-redux'\r\nimport { bindActionCreators } from 'redux';\r\n\r\nimport NavigationService from '../../../Services/NavigationService'\r\n\r\nimport FirebaseActions from '../../../Stores/Firebase/Actions'\r\nimport {Actions, DataRefs, UserStates} from '../../../Stores/Firebase/Selectors'\r\n\r\nimport { Loading } from '../../../Components'\r\nimport Style from './AuthStyle'\r\nimport { ApplicationStyles, Helpers, Metrics, Images } from '../../../Theme'\r\n\r\nlet auth;\r\nif (Platform.OS === 'ios' || Platform.OS === 'android') {\r\n  //#region App version imports\r\n  auth = require('@react-native-firebase/auth').default;\r\n  //#endregion\r\n} else {\r\n  //#region Web Version imports\r\n  var firebase = require('firebase/app').default;\r\n  require('firebase/auth').default;\r\n\r\n  auth = firebase.auth;\r\n  //#endregion\r\n}\r\n\r\nconst PanelsSorter = (userType) => {\r\n  switch(userType) {\r\n    case UserStates.ADMIN:\r\n      return \"AdminPanel\"\r\n    case UserStates.OWNER:\r\n      return \"ConsysPanel\"\r\n    case UserStates.FREE:\r\n      return \"UserPanel\"\r\n    case UserStates.STARTER:\r\n      return \"CreateUserData\"\r\n    default:\r\n      return \"LoginUser\"\r\n  }\r\n};\r\n\r\nclass UserLoadingScreen extends Component {\r\n  constructor(props){\r\n    super(props);\r\n    this.state = {\r\n      ISLOADPAGE: true,\r\n      FocusSubscription: null,\r\n    }\r\n  }\r\n\r\n  getData() {\r\n  }\r\n\r\n  checkData(props) {\r\n    const firebaseData = this.props.firebase;\r\n    if (!firebaseData) {\r\n      this.props.setFirebaseError(\"Internal rootdata Error\")\r\n      NavigationService.navigate('MainStack')\r\n      return;\r\n    }\r\n    \r\n    var page = \"LoginUser\";\r\n    const firebaseUser = firebaseData.firebaseUser\r\n    if (firebaseUser && Object.keys(firebaseUser).length > 1) {\r\n      if (firebaseUser.state === UserStates.STARTER && !firebaseUser.emailVerified) {\r\n        var User = auth().currentUser;\r\n        if(!User.emailVerified) {\r\n          page = \"VerifyScreen\";\r\n        }else {\r\n          page = PanelsSorter(firebaseUser.state)\r\n        }\r\n      } else {\r\n        page = PanelsSorter(firebaseUser.state)\r\n      }\r\n    }\r\n\r\n    NavigationService.navigate(page)\r\n  }\r\n\r\n  componentDidUpdate(prevProps, prevState) {\r\n    if (this.props !== prevProps){\r\n      if (this.props.firebase.firebaseUser != prevProps.firebase.firebaseUser) { //Only checking user changes\r\n        var now = this.props.firebase.firebaseUser\r\n        var prev = prevProps.firebase.firebaseUser\r\n        if (!now || now.uid !== prev.uid || (now.state !== prev.state && prev.state !== UserStates.STARTER) || now.emailVerified != prev.emailVerified) {\r\n          console.log(\"UserLoading\")\r\n          this.checkData(this.props);\r\n        }\r\n      }\r\n    }\r\n  }\r\n\r\n  componentDidMount() {\r\n    this.props.setFirebaseError(null)\r\n    this.props.getUser(null)\r\n    this.checkData(this.props);\r\n    this.getData();\r\n\r\n    const FocusSubscription = this.props.navigation.addListener(\r\n      'willFocus',\r\n      payload => {\r\n        this.props.setViewLoading(false)\r\n        this.props.setViewError(null)\r\n      }\r\n    );\r\n    this.setState({\r\n      FocusSubscription: FocusSubscription\r\n    })\r\n  }\r\n\r\n  componentWillUnmount() {\r\n    if (this.state.FocusSubscription) {\r\n      this.state.FocusSubscription.remove()\r\n    }\r\n  }\r\n\r\n  render() {\r\n    const IsLoading = this.props.firebase.firebaseIsLoading\r\n    const ISLOADPAGE = this.state.ISLOADPAGE;\r\n    \r\n    return(\r\n      <View\r\n        style={[\r\n          Helpers.mainContainer,\r\n        ]}\r\n      >\r\n        {!ISLOADPAGE ?(\r\n          <View style={[Helpers.contentContainer, Helpers.fullSize, Helpers.fillColMain]}>\r\n            <Text style={ApplicationStyles.text}>This page contains an error.</Text>\r\n            <Text style={ApplicationStyles.text}>If you are going back, please press back again.</Text>\r\n          </View>\r\n        ):(\r\n          <View style={[Helpers.fillRowCenter, Helpers.center, Helpers.logoContainer]}>\r\n            <Image style={Helpers.fullSize} source={Images.Hexa_icon} resizeMode={'contain'} />\r\n          </View>\r\n        )}\r\n        {(IsLoading || ISLOADPAGE) &&\r\n          <ActivityIndicator style={Helpers.loadingContainer} size='large' />\r\n        }\r\n      </View>\r\n    )\r\n  }\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n  const { firebase } = state\r\n  return { firebase }\r\n};\r\n\r\nconst mapDispatchToProps  = (dispatch) => {\r\n  return {\r\n    setFirebaseError: error => dispatch(FirebaseActions.setFirebaseError(error)),\r\n    setViewLoading: state => dispatch(FirebaseActions.viewIsLoading(state)),\r\n    setViewError: error => dispatch(FirebaseActions.setViewError(error)),\r\n\r\n    clearDataMem: () => dispatch(FirebaseActions.actionStarting(Actions.CLEAR, DataRefs.USERSDATA)),\r\n    getUser: (UserId) => dispatch(FirebaseActions.actionStarting(Actions.FETCH, DataRefs.USERSDATA, {UserId: UserId})), //TODO: mabye not get user \r\n  }\r\n};\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(UserLoadingScreen);\r\n//export default UserLoadingScreen;\r\n","import React, { Component } from 'react'\r\nimport { Text, View, ActivityIndicator, Image } from 'react-native'\r\nimport { Input } from 'react-native-elements'\r\nimport { connect } from 'react-redux'\r\nimport { bindActionCreators } from 'redux';\r\n\r\nimport NavigationService from '../../../Services/NavigationService'\r\n\r\nimport FirebaseActions from '../../../Stores/Firebase/Actions'\r\nimport { Actions, DataRefs } from '../../../Stores/Firebase/Selectors'\r\n\r\nimport { Button } from '../../../Components'\r\nimport Style from './AuthStyle'\r\nimport { ApplicationStyles, Helpers, Metrics, Images } from '../../../Theme'\r\n\r\nclass UserLoginScreen extends Component {\r\n  constructor(props){\r\n    super(props);\r\n    this.state = {\r\n      Email: \"\",\r\n      Pass: \"\",\r\n      CreateUser: false,\r\n    }\r\n  }\r\n\r\n  getData() {\r\n  }\r\n\r\n  checkData(props) {\r\n  }\r\n\r\n  componentDidMount() {\r\n    this.props.setViewLoading(false)\r\n    this.props.setViewError(null)\r\n    this.checkData(this.props);\r\n    this.getData();\r\n  }\r\n\r\n  componentDidUpdate(prevProps, prevState) {\r\n    if (this.props !== prevProps) {\r\n      this.checkData(this.props);\r\n      if (this.props.firebase.viewError != prevProps.firebase.viewError) {\r\n        this.forceUpdate()\r\n      }\r\n    }\r\n  }\r\n\r\n  render() {\r\n    const IsLoading = this.props.firebase.firebaseIsLoading\r\n    const ErrorMessage = this.props.firebase.viewError\r\n    \r\n    return(\r\n      <View\r\n        style={[\r\n          Helpers.mainContainer,\r\n        ]}\r\n      >\r\n        <View style={[Helpers.contentContainer, Helpers.fullSize, Helpers.fillColMain]}>\r\n          {ErrorMessage ? (\r\n            <Text style={ApplicationStyles.error}>{ErrorMessage}</Text>\r\n          ):(<></>)}\r\n\r\n          {!this.state.CreateUser?(\r\n            <View style={[Helpers.contentContainer, Helpers.fullSize, Helpers.fillColMain]}>\r\n              <View style={[Helpers.borderContainer, Helpers.midWidth, {marginBottom:20}] }>\r\n                <Input\r\n                  label=\"Username\"\r\n                  style={ApplicationStyles.input}\r\n                  onChangeText={text => {\r\n                    this.setState({Email: text})\r\n                  }}\r\n                  value={this.state.Email}\r\n                />\r\n                <Input\r\n                  label=\"Password\"\r\n                  style={ApplicationStyles.input}\r\n                  onChangeText={text => {\r\n                    this.setState({Pass:text})\r\n                  }}\r\n                  value={this.state.Pass}\r\n                  secureTextEntry={true}\r\n                />\r\n                <Button Text=\"Login\" icon={Images.User}\r\n                  onPress={() => {\r\n                    if (!this.state.Email || this.state.Email === \"\") this.props.setViewError(\"Email is needed\")\r\n                    else if (this.state.Email === \"CLEAR\") this.props.clearDataMem()\r\n                    else if (!this.state.Pass || this.state.Pass === \"\") this.props.setViewError(\"Password is needed\")\r\n                    else {\r\n                      this.props.setViewLoading(true)\r\n                      this.props.signIN(this.state.Email, this.state.Pass)\r\n                    }\r\n                  }}/>\r\n              </View>\r\n\r\n              <View style={[Helpers.buttonContainer, Helpers.midWidth] }>\r\n                <Button Text=\"Send reset password\"\r\n                  onPress={() => {\r\n                    this.props.setViewError(null)\r\n                    if (this.state.Email) {\r\n                      this.props.setViewLoading(true)\r\n                      this.props.resetPass(this.state.Email)\r\n                    } else {\r\n                      this.props.setViewError(\"Please provide an Email\")\r\n                    }\r\n                  }}/>\r\n                <Button Text=\"Create New User\"\r\n                  onPress={() => {\r\n                    this.props.setViewError(null)\r\n                    this.setState({\r\n                      Email: \"\",\r\n                      Pass: \"\",\r\n                      CreateUser: true,\r\n                    })\r\n                  }}/>\r\n              </View>\r\n            </View>\r\n          ):(\r\n            <View style={[Helpers.contentContainer, Helpers.fullSize, Helpers.fillColMain]}>\r\n              <View style={ [Helpers.borderContainer, Helpers.midWidth, {marginBottom:20}] }>\r\n                <Input\r\n                  label=\"Email\"\r\n                  style={ApplicationStyles.input}\r\n                  onChangeText={text => {this.setState({Email:text})}}\r\n                  value={this.state.Email}\r\n                />\r\n                <Input\r\n                  label=\"Password\"\r\n                  style={ApplicationStyles.input}\r\n                  onChangeText={text => {this.setState({Pass:text})}}\r\n                  value={this.state.Pass}\r\n                  secureTextEntry={true}\r\n                />\r\n              </View>\r\n              <View style={[Helpers.buttonContainer, Helpers.midWidth] }>\r\n                <Button Text=\"Create User\" \r\n                  onPress={() => { \r\n                    if (!this.state.Email || this.state.Email === \"\") this.props.setFirebaseError(\"Email is needed\")\r\n                    else if (!this.state.Pass || this.state.Pass === \"\") this.props.setFirebaseError(\"Password is needed\")\r\n                    else {\r\n                      this.props.setViewLoading(true)\r\n                      this.props.createUser(this.state.Email,this.state.Pass)\r\n                    }\r\n                  }}\r\n                />\r\n              </View>\r\n            </View>\r\n          )}\r\n\r\n          {(IsLoading || this.props.firebase.viewIsLoading) &&\r\n            <ActivityIndicator style={Helpers.loadingContainer} size='large' />\r\n          }\r\n        </View>\r\n      </View>\r\n    )\r\n  }\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n  const { firebase } = state\r\n  return { firebase }\r\n};\r\n\r\nconst mapDispatchToProps  = (dispatch) => {\r\n  return {\r\n    setViewLoading: state => dispatch(FirebaseActions.viewIsLoading(state)),\r\n    setViewError: error => dispatch(FirebaseActions.setViewError(error)),\r\n    clearDataMem: () => dispatch(FirebaseActions.actionStarting(Actions.CLEAR, DataRefs.USERSDATA)),\r\n\r\n    signIN: (Email, Pass) => dispatch(FirebaseActions.actionStarting(Actions.SIGN, DataRefs.USERSDATA, {Email: Email, Pass: Pass})),\r\n    resetPass: (Email) => dispatch(FirebaseActions.actionStarting(Actions.CREATE, DataRefs.USERS, {Email: Email})),\r\n    createUser: (Email, Pass) => dispatch(FirebaseActions.actionStarting(Actions.CREATE, DataRefs.USERS, {Email: Email, Pass: Pass})),\r\n  }\r\n};\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(UserLoginScreen);\r\n//export default UserLoginScreen;","import React, { Component } from 'react'\r\nimport { Text, View, ActivityIndicator, Platform } from 'react-native'\r\nimport { connect } from 'react-redux'\r\nimport { bindActionCreators } from 'redux';\r\nimport NavigationService from '../../../Services/NavigationService'\r\n\r\nimport FirebaseActions from '../../../Stores/Firebase/Actions'\r\nimport { Actions, DataRefs } from '../../../Stores/Firebase/Selectors'\r\n\r\nimport { Button } from '../../../Components'\r\nimport Style from './AuthStyle'\r\nimport { ApplicationStyles, Helpers, Metrics } from '../../../Theme'\r\n\r\nlet auth;\r\nif (Platform.OS === 'ios' || Platform.OS === 'android') {\r\n  //#region App version imports\r\n  auth = require('@react-native-firebase/auth').default;\r\n  //#endregion\r\n} else {\r\n  //#region Web Version imports\r\n  var firebase = require('firebase/app').default;\r\n  require('firebase/auth').default;\r\n\r\n  auth = firebase.auth;\r\n  //#endregion\r\n}\r\n\r\nclass VerifyScreen extends Component{\r\n  constructor(props){\r\n    super(props);\r\n    \r\n    this.state = {\r\n    }\r\n  }\r\n\r\n  setData(Props) {\r\n  }\r\n\r\n  getData() {\r\n  }\r\n\r\n  checkData(props) {\r\n    if (props.firebase && props.firebase.firebaseUser) {\r\n      var User = auth().currentUser;\r\n\r\n      if (User && !props.firebase.firebaseUser.emailVerified && !props.firebase.viewIsLoading){\r\n        User.reload().then((data)=>{\r\n          if(User.emailVerified) {\r\n            this.props.setViewLoading(true)\r\n            this.props.setUser(User.emailVerified)\r\n            console.log(\"Verified\")\r\n            NavigationService.navigate(\"AuthStack\")\r\n          }\r\n        })\r\n      }\r\n      \r\n      if (props.firebase.firebaseUser.emailVerified) NavigationService.navigate(\"AuthStack\")\r\n    }\r\n  }\r\n\r\n  componentDidUpdate(prevProps, prevState) {\r\n    if (this.props !== prevProps) {\r\n      this.checkData(this.props);\r\n    }\r\n  }\r\n\r\n  componentDidMount() {\r\n    this.props.setViewLoading(false)\r\n    this.props.setViewError(null)\r\n    this.checkData(this.props);\r\n    this.getData();\r\n  }\r\n\r\n  componentWillUnmount(){\r\n  }\r\n\r\n  render() {\r\n    const IsLoading = this.props.firebase.firebaseIsLoading\r\n    const firebaseUser = this.props.firebase.firebaseUser\r\n    const ErrorMessage = this.props.firebase.viewError\r\n\r\n    return(\r\n      <View\r\n        style={[\r\n          Helpers.mainContainer,\r\n        ]}\r\n      >\r\n        <View style={[Helpers.contentContainer, Helpers.fullSize, Helpers.fillColMain]}>\r\n          {ErrorMessage ? (\r\n            <Text style={ApplicationStyles.error}>{ErrorMessage}</Text>\r\n          ):(<></>)}\r\n\r\n          <View>\r\n            <Text>Please verify your account by accepting the email, sent to your current account</Text>\r\n            <Text>This page will not refresh itself...</Text>\r\n            <Button Text=\"Resend verification\"\r\n              onPress={() => {\r\n                console.log(\"send\", firebaseUser, this.state.User)\r\n                if (firebaseUser && this.state.User) {\r\n                  this.state.User.sendEmailVerification()\r\n                }\r\n              }}/>\r\n            <Button Text=\"Refresh\"\r\n              onPress={() => {\r\n                this.checkData(this.props, this.state)\r\n              }}/>\r\n          </View>\r\n          \r\n        </View>\r\n        {(IsLoading || this.props.firebase.viewIsLoading) &&\r\n          <ActivityIndicator style={Helpers.loadingContainer} size='large' />\r\n        }\r\n      </View>\r\n    )\r\n  }\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n  const { firebase } = state\r\n  return { firebase }\r\n};\r\n\r\nconst mapDispatchToProps  = (dispatch) => {\r\n  return {\r\n    setViewLoading: state => dispatch(FirebaseActions.viewIsLoading(state)),\r\n    setViewError: error => dispatch(FirebaseActions.setViewError(error)),\r\n\r\n    setFirebaseError: error => dispatch(FirebaseActions.setFirebaseError(error)),\r\n\r\n    setUser: (Verified) => dispatch(FirebaseActions.actionStarting(Actions.UPDATE, DataRefs.USERS, {emailVerified:Verified, })),\r\n  }\r\n};\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(VerifyScreen);\r\n//export default VerifyScreen;","import { StyleSheet } from 'react-native'\r\nimport { Helpers, Metrics, Fonts, Colors } from '../../../Theme'\r\n\r\nexport default StyleSheet.create({\r\n\r\n})\r\n","import React, { Component } from 'react'\r\nimport { Platform, Text, View, ScrollView, ActivityIndicator } from 'react-native'\r\nimport { Input } from 'react-native-elements'\r\nimport { connect } from 'react-redux'\r\nimport { bindActionCreators } from 'redux';\r\nimport NavigationService from '../../../Services/NavigationService'\r\n\r\nimport FirebaseActions from '../../../Stores/Firebase/Actions'\r\nimport { Actions, UserStates, DataRefs, ErrorTypes, DataStringCheck } from '../../../Stores/Firebase/Selectors'\r\n\r\nimport { Button, TitleElement } from '../../../Components'\r\nimport Style from './UserPanelStyle'\r\nimport { ApplicationStyles, Helpers, Metrics } from '../../../Theme'\r\n\r\nclass UserInformation extends Component{\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    const {FirstN, LastN, Contact, ContactP, Address} = this.setData(props)\r\n    this.state = {\r\n      FirstN: FirstN,\r\n      LastN: LastN,\r\n      Contact: Contact,\r\n      ContactP: ContactP,\r\n      Address: Address,\r\n      Country: \"\",\r\n    }\r\n  }\r\n\r\n  setData(Props) {\r\n    var FirstN = \"\"\r\n    var LastN = \"\"\r\n    var Contact = \"\"\r\n    var ContactP = \"\"\r\n    var Address = \"\"\r\n\r\n    const firebaseData = this.props.firebase;\r\n    if (firebaseData){\r\n      const firebaseUser = firebaseData.firebaseUser\r\n      if (firebaseUser) {\r\n        if (firebaseUser.name && DataStringCheck(firebaseUser.name)){\r\n          FirstN = firebaseUser.name\r\n        }\r\n        if (firebaseUser.lastN){\r\n          LastN = firebaseUser.lastN\r\n        }\r\n        if (firebaseUser.contact){\r\n          Contact = firebaseUser.contact\r\n        }\r\n        if (firebaseUser.phoneNumber) {\r\n          ContactP = firebaseUser.phoneNumber\r\n        }\r\n        if (firebaseUser.address){\r\n          Address = firebaseUser.address\r\n        }\r\n      }\r\n    }\r\n    return {FirstN, LastN, Contact, ContactP, Address}\r\n  }\r\n\r\n  getData() {\r\n    \r\n  }\r\n\r\n  checkData(props) {\r\n  }\r\n\r\n  componentDidMount() {\r\n    this.props.setViewLoading(false)\r\n    this.props.setViewError(null)\r\n\r\n    this.props.getUser(null)\r\n\r\n    this.checkData(this.props)\r\n    this.getData();\r\n  }\r\n\r\n  componentDidUpdate(prevProps, prevState) {\r\n    if (this.props !== prevProps) {\r\n      this.checkData(this.props);\r\n\r\n      if (this.props.firebase.firebaseUser) {\r\n        if ((this.props.firebase.firebaseUser.name != this.state.FirstN && this.state.FirstN === \"\") ||\r\n            (this.props.firebase.firebaseUser.lastN != this.state.lastN && this.state.lastN === \"\") ||\r\n            (this.props.firebase.firebaseUser.contact != this.state.Contact && this.state.Contact === \"\") ||\r\n            (this.props.firebase.firebaseUser.address != this.state.Address && this.state.Address === \"\")\r\n          ) {\r\n          const {FirstN, LastN, Contact, ContactP, Address} = this.setData(this.props)\r\n          this.setState({\r\n            FirstN: FirstN,\r\n            LastN: LastN,\r\n            Contact: Contact,\r\n            ContactP: ContactP,\r\n            Address: Address,\r\n          })\r\n        }\r\n      }\r\n    }\r\n  }\r\n\r\n  render() {\r\n    const IsLoading = this.props.firebase.firebaseIsLoading\r\n    const ErrorMessage = this.props.firebase.viewError\r\n\r\n    //TODO: Test more with input error display ??\r\n    const F_FirstN = React.createRef();\r\n    const F_LastN = React.createRef();\r\n    const F_Contact = React.createRef();\r\n    const F_ContactP = React.createRef();\r\n    const F_Address = React.createRef();\r\n\r\n    return(\r\n      <ScrollView style={[Metrics.verticalMargin, {paddingRight: 5}]}>\r\n        <View\r\n          style={[\r\n            Helpers.mainContainer,\r\n          ]}\r\n        >\r\n          <View style={[Helpers.contentContainer, Helpers.fullSize, Helpers.fillColMain]}>\r\n            {ErrorMessage && (!ErrorMessage.type || ErrorMessage.type === ErrorTypes.SYSTEM) ? (\r\n              <Text style={ApplicationStyles.error}>{ErrorMessage.message?ErrorMessage.message:ErrorMessage}</Text>\r\n            ):(<></>)}\r\n            <TitleElement Text=\"User Informations\"/>\r\n            <View style={ [Helpers.borderContainer, Helpers.midWidth, {marginBottom:20}] }>\r\n              <Input ref={F_FirstN}\r\n                label=\"First Name\"\r\n                style={ApplicationStyles.input}\r\n                onChangeText={text => {\r\n                  if (text){\r\n                    if (DataStringCheck(text)){\r\n                      this.setState({FirstN:text})\r\n                    }\r\n                  }else {\r\n                    this.setState({FirstN:text})\r\n                  }\r\n                }}\r\n                value={this.state.FirstN}\r\n\r\n              />\r\n              <Input ref={F_LastN}\r\n                label=\"Last Name\"\r\n                style={ApplicationStyles.input}\r\n                onChangeText={text => {\r\n                  if (text){\r\n                    if (DataStringCheck(text)){\r\n                      this.setState({LastN:text})\r\n                    }\r\n                  }else {\r\n                    this.setState({LastN:text})\r\n                  }\r\n                }}\r\n                value={this.state.LastN}\r\n              />\r\n              <Input ref={F_Contact}\r\n                label=\"Contact Email\"\r\n                style={ApplicationStyles.input}\r\n                onChangeText={text => {\r\n                  if (text){\r\n                    var test = text\r\n                    test = test.replace('@','a')\r\n                    test = test.replace('.','d')\r\n                    if (DataStringCheck(test)) {\r\n                      this.setState({Contact:text})\r\n                    }\r\n                  }else {\r\n                    this.setState({Contact:text})\r\n                  }\r\n                }}\r\n                value={this.state.Contact}\r\n              />\r\n              <Input ref={F_ContactP}\r\n                label=\"Contact Phone\"\r\n                style={ApplicationStyles.input}\r\n                onChangeText={text => {\r\n                  if (text){\r\n                    if (DataStringCheck(text, false)){\r\n                      this.setState({ContactP:text})\r\n                    }\r\n                  }else {\r\n                    this.setState({ContactP:text})\r\n                  }\r\n                }}\r\n                value={this.state.ContactP}\r\n              />\r\n              <Input ref={F_Address}\r\n                label=\"Address\"\r\n                style={ApplicationStyles.input}\r\n                onChangeText={text => {\r\n                  if (text){\r\n                    if (DataStringCheck(text)){\r\n                      this.setState({Address:text})\r\n                    }\r\n                  }else {\r\n                    this.setState({Address:text})\r\n                  }\r\n                }}\r\n                value={this.state.Address}\r\n              />\r\n              <Input\r\n                label=\"Country\"\r\n                style={ApplicationStyles.input}\r\n                onChangeText={text => {\r\n                  if (text){\r\n                    if (DataStringCheck(text)){\r\n                      this.setState({Country:text})\r\n                    }\r\n                  }else {\r\n                    this.setState({Country:text})\r\n                  }\r\n                }}\r\n                value={this.state.Country}\r\n              />\r\n            </View>\r\n            <View style={[Helpers.buttonContainer, Helpers.midWidth] }>\r\n              <Button Text=\"Save User information\" \r\n                onPress={() => {\r\n                  var _UserData = {}\r\n\r\n                  if (!this.state.FirstN || this.state.FirstN === \"\"){\r\n                    this.props.setViewError(\"First name is needed\")\r\n                    /*F_FirstN.current.setNativeProps({ errorProps:\"First name is needed\" })\r\n                    F_FirstN.current.shake();*/\r\n                  } else if (!DataStringCheck(this.state.FirstN)) {\r\n                    this.props.setViewError(\"First name contains invalid characters\")\r\n                    /*F_FirstN.current.setNativeProps({ errorProps: \"First name contains invalid characters\" })\r\n                    F_FirstN.current.shake();*/\r\n                  }\r\n                  \r\n                  else if (!this.state.LastN || this.state.LastN === \"\"){\r\n                    this.props.setViewError(\"Last name is needed\")\r\n                  } else if (!DataStringCheck(this.state.LastN)) {\r\n                    this.props.setViewError(\"Last name contains invalid characters\")\r\n                  }\r\n                  \r\n                  else {\r\n                    _UserData = {name: this.state.FirstN, lastN: this.state.LastN}\r\n                    if (this.state.Contact !== \"\") _UserData.contact = this.state.Contact\r\n                    if (this.state.ContactP !== \"\") _UserData.phone = this.state.ContactP\r\n                    if (this.state.Address !== \"\") _UserData.address = this.state.Address\r\n                    if (this.state.Country !== \"\") _UserData.country = this.state.Country\r\n\r\n                    this.props.setViewLoading(true)\r\n                    this.props.updateUser(_UserData)\r\n                    if (this.props.OnDone) {\r\n                      this.props.OnDone(true)\r\n                    }\r\n                  }\r\n                }}/>\r\n              </View>\r\n          </View>\r\n          {(IsLoading || this.props.firebase.viewIsLoading) &&\r\n            <ActivityIndicator style={Helpers.loadingContainer} size='large' />\r\n          }\r\n        </View>\r\n      </ScrollView>\r\n    )\r\n  }\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n  const { firebase } = state\r\n  return { firebase }\r\n};\r\n\r\nconst mapDispatchToProps  = (dispatch) => {\r\n  return {\r\n    setViewLoading: state => dispatch(FirebaseActions.viewIsLoading(state)),\r\n    //setViewError: (error, type) => dispatch(FirebaseActions.setViewError(error, type)),\r\n    setViewError: error => dispatch(FirebaseActions.setViewError(error)),\r\n\r\n    getUser: (UserId) => dispatch(FirebaseActions.actionStarting(Actions.FETCH, DataRefs.USERSDATA, {UserId: UserId})),\r\n    updateUser: (Data) => dispatch(FirebaseActions.actionStarting(Actions.UPDATE, DataRefs.USERSDATA, {Data: Data}))\r\n  }\r\n};\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(UserInformation);\r\n//export default UserInformation;","import React, { Component } from 'react'\r\nimport { Platform, Dimensions, Text, CheckBox, View, ScrollView, ActivityIndicator, TouchableOpacity } from 'react-native'\r\nimport { Input } from 'react-native-elements'\r\nimport { connect } from 'react-redux'\r\nimport { bindActionCreators } from 'redux';\r\nimport NavigationService from '../../../Services/NavigationService'\r\n\r\nimport FirebaseActions from '../../../Stores/Firebase/Actions'\r\nimport { Actions, UserStates, DataRefs, ErrorTypes, DataStringCheck } from '../../../Stores/Firebase/Selectors'\r\n\r\nimport { Button, TitleElement } from '../../../Components'\r\nimport Style from './UserPanelStyle'\r\nimport { ApplicationStyles, Helpers, Metrics, Colors } from '../../../Theme'\r\n\r\nconst window = Dimensions.get(\"window\");\r\nconst screen = Dimensions.get(\"screen\");\r\n\r\nclass Subscription extends Component{\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    const {CurrentSub} = this.setData(props)\r\n    this.state = {\r\n      dimensions: {window, screen},\r\n      CurrentSub: CurrentSub,\r\n\r\n      Billing: 0,\r\n    }\r\n  }\r\n\r\n  setData(Props) {\r\n    var CurrentSub = \"\"\r\n\r\n    const firebaseData = this.props.firebase;\r\n    if (firebaseData){\r\n      const firebaseUser = firebaseData.firebaseUser\r\n      if (firebaseUser) {\r\n        if (firebaseUser.state && firebaseUser.state != UserStates.STARTER){\r\n          CurrentSub = firebaseUser.state\r\n        }\r\n      }\r\n    }\r\n    return { CurrentSub }\r\n  }\r\n\r\n  getData() {\r\n    \r\n  }\r\n\r\n  checkData(props) {\r\n  }\r\n\r\n  onChange = ({ window, screen }) => {\r\n    this.setState({\r\n      dimensions: {window, screen},\r\n    })\r\n  };\r\n\r\n  componentDidMount() {\r\n    Dimensions.addEventListener(\"change\", this.onChange);\r\n    this.props.setViewLoading(false)\r\n    this.props.setViewError(null)\r\n\r\n    this.props.getUser(null)\r\n\r\n    this.checkData(this.props)\r\n    this.getData();\r\n  }\r\n\r\n  componentWillUnmount(){\r\n    Dimensions.removeEventListener(\"change\", this.onChange);\r\n  }\r\n\r\n  componentDidUpdate(prevProps, prevState) {\r\n    if (this.props !== prevProps) {\r\n      this.checkData(this.props);\r\n\r\n      if (this.props.firebase.firebaseUser) {\r\n        if ((this.props.firebase.firebaseUser.state != this.state.CurrentSub && this.state.CurrentSub === \"\")\r\n          ) {\r\n          const {CurrentSub} = this.setData(this.props)\r\n          this.setState({\r\n            CurrentSub: CurrentSub,\r\n          })\r\n        }\r\n      }\r\n    }\r\n  }\r\n\r\n  render() {\r\n    const IsLoading = this.props.firebase.firebaseIsLoading\r\n    const ErrorMessage = this.props.firebase.viewError\r\n\r\n    var wide = this.state.dimensions.window.width>900?true:false\r\n    var App = (Platform.OS === 'ios' || Platform.OS === 'android')||!wide\r\n    \r\n    return(\r\n      <ScrollView style={[Metrics.verticalMargin, {paddingRight: 5}]}>\r\n        <View\r\n          style={[\r\n            Helpers.mainContainer,\r\n          ]}\r\n        >\r\n          <View style={[Helpers.contentContainer, Helpers.fullSize, Helpers.fillColMain]}>\r\n            {ErrorMessage && (!ErrorMessage.type || ErrorMessage.type === ErrorTypes.SYSTEM) ? (\r\n              <Text style={ApplicationStyles.error}>{ErrorMessage.message?ErrorMessage.message:ErrorMessage}</Text>\r\n            ):(<></>)}\r\n            \r\n            <TitleElement Text=\"Subscription plan\"/>\r\n            <View style={[!App?Helpers.fillRowCenter:{}, {marginBottom:20}]}>\r\n              <TouchableOpacity style={[Helpers.borderContainer, {width:200, height:300}, this.state.CurrentSub===UserStates.WORKER?{backgroundColor: Colors.AgriGreen}:{}]} \r\n                onPress={() => {\r\n                  this.setState({\r\n                    CurrentSub: UserStates.WORKER\r\n                  }, this.forceUpdate())\r\n              }}>\r\n                <View style={[Helpers.row, Helpers.fullWidth, {alignContent:'center', alignItems:'center', justifyContent:'center', height:35}]}>\r\n                  <Text style={{fontWeight:\"bold\", fontSize:20}}>Farm Staff</Text>\r\n                  {this.state.CurrentSub===UserStates.WORKER?(\r\n                    <CheckBox \r\n                      value={this.state.CurrentSub===UserStates.WORKER?true:false}\r\n                    />\r\n                  ):(<></>)}\r\n                </View>\r\n                <View style={[Helpers.fill, Helpers.borderContainer]}>\r\n                  \r\n                </View>\r\n                <View style={[Helpers.borderContainer, {height:75}]}>\r\n                  <Text style={{fontWeight:\"bold\"}}>Free</Text>\r\n                  <Text>Access to assign as staff of an existing farm</Text>\r\n                </View>\r\n              </TouchableOpacity>\r\n\r\n              <TouchableOpacity style={[Helpers.borderContainer, {width:200, height:300}, this.state.CurrentSub===UserStates.FREE?{backgroundColor: Colors.AgriGreen}:{}]}\r\n                onPress={() => {\r\n                  this.setState({\r\n                    CurrentSub: UserStates.FREE\r\n                  }, this.forceUpdate())\r\n              }}>\r\n                <View style={[Helpers.row, Helpers.fullWidth, {alignContent:'center', alignItems:'center', justifyContent:'center', height:35}]}>\r\n                  <Text style={{fontWeight:\"bold\", fontSize:20}}>Farm Owner</Text>\r\n                  {this.state.CurrentSub===UserStates.FREE?(\r\n                    <CheckBox \r\n                      value={this.state.CurrentSub===UserStates.FREE?true:false}\r\n                    />\r\n                  ):(<></>)}\r\n                </View>\r\n                <View style={[Helpers.fill, Helpers.borderContainer]}>\r\n                  \r\n                </View>\r\n                <View style={[Helpers.borderContainer, {height:75}]}>\r\n                  <Text style={{fontWeight:\"bold\"}}>Free</Text>\r\n                  <Text>Access to create and manage own farm</Text>\r\n                </View>\r\n              </TouchableOpacity>\r\n\r\n              <TouchableOpacity style={[Helpers.borderContainer, {width:200, height:300}, this.state.CurrentSub===UserStates.OWNER?{backgroundColor: Colors.AgriGreen}:{}]}\r\n                onPress={() => {\r\n                  this.setState({\r\n                    CurrentSub: UserStates.OWNER\r\n                  }, this.forceUpdate())\r\n              }}>\r\n                <View style={[Helpers.row, Helpers.fullWidth, {alignContent:'center', alignItems:'center', justifyContent:'center', height:35}]}>\r\n                  <Text style={{fontWeight:\"bold\", fontSize:20}}>Farm Manager</Text>\r\n                  {this.state.CurrentSub===UserStates.OWNER?(\r\n                    <CheckBox \r\n                      value={this.state.CurrentSub===UserStates.OWNER?true:false}\r\n                    />\r\n                  ):(<></>)}\r\n                </View>\r\n                <View style={[Helpers.fill, Helpers.borderContainer]}>\r\n                  \r\n                </View>\r\n                <View style={[Helpers.borderContainer, {height:75}]}>\r\n                  <Text style={{fontWeight:\"bold\"}}>9999.99€</Text>\r\n                  <Text>Access to manage own farm, and assing staff</Text>\r\n                </View>\r\n              </TouchableOpacity>\r\n\r\n              <TouchableOpacity style={[Helpers.borderContainer, {width:200, height:300}, this.state.CurrentSub===\"Contact\"?{backgroundColor: Colors.AgriGreen}:{}]}\r\n                onPress={() => {\r\n                  this.setState({\r\n                    CurrentSub: \"Contact\"\r\n                  }, this.forceUpdate())\r\n              }}>\r\n                <View style={[Helpers.row, Helpers.fullWidth, {alignContent:'center', alignItems:'center', justifyContent:'center', height:35}]}>\r\n                  <Text style={{fontWeight:\"bold\", fontSize:20}}>Get contacted</Text>\r\n                  {this.state.CurrentSub===\"Contact\"?(\r\n                    <CheckBox \r\n                      value={this.state.CurrentSub===\"Contact\"?true:false}\r\n                    />\r\n                  ):(<></>)}\r\n                </View>\r\n                <View style={[Helpers.fill, Helpers.borderContainer]}>\r\n                  \r\n                </View>\r\n                <View style={[Helpers.borderContainer, {height:75}]}>\r\n                <Text style={{fontWeight:\"bold\", height:20}}></Text>\r\n                  <Text>We will contact you, and tell more about our offers</Text>\r\n                </View>\r\n              </TouchableOpacity>\r\n            </View>\r\n\r\n            <View style={[Helpers.buttonContainer, Helpers.midWidth] }>\r\n              <Button Text=\"Submit\" \r\n                onPress={() => {\r\n                  if (!this.state.CurrentSub || this.state.CurrentSub === \"\"){\r\n                    this.props.setViewError(\"Please choose a subscription type.\")\r\n                  }\r\n\r\n                  else if (this.props.OnDone) {\r\n                    this.props.OnDone(this.state.CurrentSub)\r\n                  } else {\r\n                    //TODO: something.. validate buy and update user state\r\n                  }\r\n                }}/>\r\n              </View>\r\n          </View>\r\n          {(IsLoading || this.props.firebase.viewIsLoading) &&\r\n            <ActivityIndicator style={Helpers.loadingContainer} size='large' />\r\n          }\r\n        </View>\r\n      </ScrollView>\r\n    )\r\n  }\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n  const { firebase } = state\r\n  return { firebase }\r\n};\r\n\r\nconst mapDispatchToProps  = (dispatch) => {\r\n  return {\r\n    setViewLoading: state => dispatch(FirebaseActions.viewIsLoading(state)),\r\n    //setViewError: (error, type) => dispatch(FirebaseActions.setViewError(error, type)),\r\n    setViewError: error => dispatch(FirebaseActions.setViewError(error)),\r\n\r\n    getUser: (UserId) => dispatch(FirebaseActions.actionStarting(Actions.FETCH, DataRefs.USERSDATA, {UserId: UserId})),\r\n\r\n    //updateUser: (Data) => dispatch(FirebaseActions.actionStarting(Actions.UPDATE, DataRefs.USERSDATA, {Data: Data}))\r\n    //createUserData: (Userdata, Farm, Sections, Pens) => dispatch(FirebaseActions.actionStarting(Actions.CREATE, DataRefs.USERSDATA, {UserData: Userdata, Farms:{name:Farm}, Sections:Sections, Pens:Pens})),\r\n  }\r\n};\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(Subscription);\r\n//export default Subscription;","import React, { Component } from 'react'\r\nimport { Platform, Text, View, ScrollView, ActivityIndicator } from 'react-native'\r\nimport { Input } from 'react-native-elements'\r\nimport { connect } from 'react-redux'\r\nimport { bindActionCreators } from 'redux';\r\nimport NavigationService from '../../../Services/NavigationService'\r\n\r\nimport FirebaseActions from '../../../Stores/Firebase/Actions'\r\nimport { Actions, UserStates, DataRefs, ErrorTypes, DataStringCheck } from '../../../Stores/Firebase/Selectors'\r\n\r\nimport { Button, TitleElement } from '../../../Components'\r\nimport Style from './UserPanelStyle'\r\nimport { ApplicationStyles, Helpers, Metrics } from '../../../Theme'\r\n\r\nclass FarmInformation extends Component{\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    const {FarmName, Address, Country, Cvr, Manager} = this.setData(props)\r\n    this.state = {\r\n      FarmName: FarmName,\r\n      Address: Address,\r\n      Country: Country,\r\n      Cvr: Cvr,\r\n      Manager: Manager,\r\n\r\n      Sections: \"0\",\r\n      Pens: \"0\",\r\n    }\r\n  }\r\n\r\n  setData(Props) {\r\n    var FarmName = \"\"\r\n    var Address = \"\"\r\n    var Country = \"\"\r\n    var Cvr = \"\"\r\n    var Manager = \"\"\r\n\r\n    const localDataStore = Props.firebase.localDataStore;\r\n    const firebaseUser = this.props.firebase.firebaseUser\r\n\r\n    if (firebaseUser) {\r\n      if (firebaseUser.lastN !== \"\") {\r\n        FarmName = firebaseUser.lastN\r\n      }\r\n      if (firebaseUser.address !== \"\") {\r\n        Address = firebaseUser.address\r\n      }\r\n      if (firebaseUser.country) {\r\n        Country = firebaseUser.country\r\n      }\r\n      if (firebaseUser.email != \"\") {\r\n        Manager = firebaseUser.email\r\n      }\r\n    }\r\n\r\n    if (localDataStore && firebaseUser && localDataStore.farms && firebaseUser.farms && localDataStore.farms[Object.keys(firebaseUser.farms)[0]]) {\r\n      var FarmData = localDataStore.farms[Object.keys(firebaseUser.farms)[0]]\r\n\r\n      if (FarmData.name) FarmName = FarmData.name\r\n      if (FarmData.address) Address = FarmData.address\r\n      if (FarmData.country) Country = FarmData.country\r\n      if (FarmData.cvr) Cvr = FarmData.cvr\r\n      if (FarmData.manager) Manager = FarmData.manager\r\n    }\r\n\r\n    return {FarmName, Address, Country, Cvr, Manager}\r\n  }\r\n\r\n  getData() {\r\n    \r\n  }\r\n\r\n  checkData(props) {\r\n  }\r\n\r\n  componentDidMount() {\r\n    this.props.setViewLoading(false)\r\n    this.props.setViewError(null)\r\n\r\n    this.props.getUser(null)\r\n    this.props.getFarm()\r\n\r\n    this.checkData(this.props)\r\n    this.getData();\r\n  }\r\n\r\n  componentDidUpdate(prevProps, prevState) {\r\n    if (this.props !== prevProps) {\r\n      this.checkData(this.props);\r\n\r\n      if (this.props.firebase.firebaseUser) {\r\n        /*if ((this.props.firebase.firebaseUser.name != this.state.FirstN && this.state.FirstN === \"\") ||\r\n            (this.props.firebase.firebaseUser.lastN != this.state.lastN && this.state.lastN === \"\") ||\r\n            (this.props.firebase.firebaseUser.contact != this.state.Contact && this.state.Contact === \"\") ||\r\n            (this.props.firebase.firebaseUser.address != this.state.Address && this.state.Address === \"\")\r\n          ) {\r\n          const {FarmName, Address, Cvr, Manager} = this.setData(this.props)\r\n          this.state = {\r\n            FarmName: FarmName,\r\n            Address: Address,\r\n            Cvr: Cvr,\r\n            Manager: Manager,\r\n          }\r\n        }*/\r\n      }\r\n    }\r\n  }\r\n\r\n  render() {\r\n    const IsLoading = this.props.firebase.firebaseIsLoading\r\n    const ErrorMessage = this.props.firebase.viewError\r\n\r\n    return(\r\n      <ScrollView style={[Metrics.verticalMargin, {paddingRight: 5}]}>\r\n        <View\r\n          style={[\r\n            Helpers.mainContainer,\r\n          ]}\r\n        >\r\n          <View style={[Helpers.contentContainer, Helpers.fullSize, Helpers.fillColMain]}>\r\n            {ErrorMessage && (!ErrorMessage.type || ErrorMessage.type === ErrorTypes.SYSTEM) ? (\r\n              <Text style={ApplicationStyles.error}>{ErrorMessage.message?ErrorMessage.message:ErrorMessage}</Text>\r\n            ):(<></>)}\r\n            <TitleElement Text=\"Farm Informations\"/>\r\n            <View style={ [Helpers.borderContainer, Helpers.midWidth, {marginBottom:20}] }>\r\n              <Input\r\n                label=\"Farm Name\"\r\n                style={ApplicationStyles.input}\r\n                onChangeText={text => {\r\n                  if (text){\r\n                    if (DataStringCheck(text)){\r\n                      this.setState({FarmName:text})\r\n                    }\r\n                  }else {\r\n                    this.setState({FarmName:text})\r\n                  }\r\n                }}\r\n                value={this.state.FarmName}\r\n              />\r\n              <Input\r\n                label=\"Address\"\r\n                style={ApplicationStyles.input}\r\n                onChangeText={text => {\r\n                  if (text){\r\n                    //if (DataStringCheck(text)){\r\n                      this.setState({Address:text})\r\n                    //}\r\n                  }else {\r\n                    this.setState({Address:text})\r\n                  }\r\n                }}\r\n                value={this.state.Address}\r\n              />\r\n              <Input\r\n                label=\"Country\"\r\n                style={ApplicationStyles.input}\r\n                onChangeText={text => {\r\n                  if (text){\r\n                    //if (DataStringCheck(text)){\r\n                      this.setState({Country:text})\r\n                    //}\r\n                  }else {\r\n                    this.setState({Country:text})\r\n                  }\r\n                }}\r\n                value={this.state.Country}\r\n              />\r\n              <Input\r\n                label=\"Cvr\"\r\n                style={ApplicationStyles.input}\r\n                onChangeText={text => {\r\n                  if (!isNaN(text)){\r\n                    this.setState({\r\n                      Cvr:text\r\n                    })\r\n                  }\r\n                }}\r\n                value={this.state.Cvr}\r\n              />\r\n              <Input\r\n                label=\"Manager contact\"\r\n                style={ApplicationStyles.input}\r\n                onChangeText={text => {\r\n                  if (text) {\r\n                    var test = text\r\n                    test = test.replace('@','a')\r\n                    test = test.replace('.','d')\r\n                    if (DataStringCheck(test)) {\r\n                      this.setState({Manager:text})\r\n                    }\r\n                  }else {\r\n                    this.setState({Manager:text})\r\n                  }\r\n                }}\r\n                value={this.state.Manager}\r\n              />\r\n              <Input\r\n                label=\"Number of Sections\"\r\n                style={ApplicationStyles.input}\r\n                onChangeText={text => {\r\n                  if (!isNaN(text)){\r\n                    this.setState({\r\n                      Sections:text\r\n                    })\r\n                  }\r\n                }}\r\n                value={this.state.Sections}\r\n              />\r\n              <Input\r\n                label=\"Number of Pens in each Sections\"\r\n                style={ApplicationStyles.input}\r\n                onChangeText={text => {\r\n                  if (!isNaN(text)){\r\n                    this.setState({\r\n                      Pens:text\r\n                    })\r\n                  }\r\n                }}\r\n                value={this.state.Pens}\r\n              />\r\n            </View>\r\n\r\n            <View style={[Helpers.buttonContainer, Helpers.midWidth] }>\r\n              <Button Text=\"Save Farm information\" \r\n                onPress={() => {\r\n                  var _FarmData = {}\r\n                  var _sections = {};\r\n                  var _pens = {};\r\n\r\n                  if (!this.state.FarmName || this.state.FarmName === \"\"){\r\n                    this.props.setViewError(\"Farm name is needed\")\r\n                  } else if (!DataStringCheck(this.state.FarmName)) {\r\n                    this.props.setViewError(\"First name contains invalid characters\")\r\n                  }\r\n                  \r\n                  else {\r\n                    _FarmData = {name: this.state.FarmName}\r\n\r\n                    if (this.state.Address !== \"\") _FarmData.address = this.state.Address\r\n                    if (this.state.Country !== \"\") _FarmData.country = this.state.Country\r\n                    if (this.state.Cvr !== \"\") _FarmData.cvr = this.state.Cvr\r\n                    if (this.state.Manager !== \"\") _FarmData.manager = this.state.Manager\r\n\r\n                    this.props.setViewLoading(true)\r\n                    this.props.updateFarm(_FarmData)\r\n\r\n                    if (this.state.Sections && this.state.Pens) {\r\n                      this.props.setViewLoading(true)\r\n                      var Pen = 1;\r\n                      var i, i2;\r\n                      for (i = 1; i <= this.state.Sections; i++) {\r\n                        var sectionPens = {};\r\n                        for (i2 = 1; i2 <= this.state.Pens; i2++) {\r\n                          _pens['Pen_' + Pen] = {section: 'Section_' + i}\r\n                          sectionPens['Pen_' + Pen] = true\r\n                          Pen++;\r\n                        }\r\n                        \r\n                        _sections['Section_' + i] = {pens: sectionPens}\r\n                      }\r\n                      console.log(\"Set\", _sections, _pens)\r\n                      this.props.updateFarmData(_sections, _pens)\r\n                    }\r\n\r\n                    if (this.props.OnDone) {\r\n                      this.props.OnDone(true)\r\n                    }\r\n                  }\r\n                }}/>\r\n              </View>\r\n          </View>\r\n          {(IsLoading || this.props.firebase.viewIsLoading) &&\r\n            <ActivityIndicator style={Helpers.loadingContainer} size='large' />\r\n          }\r\n        </View>\r\n      </ScrollView>\r\n    )\r\n  }\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n  const { firebase } = state\r\n  return { firebase }\r\n};\r\n\r\nconst mapDispatchToProps  = (dispatch) => {\r\n  return {\r\n    setViewLoading: state => dispatch(FirebaseActions.viewIsLoading(state)),\r\n    //setViewError: (error, type) => dispatch(FirebaseActions.setViewError(error, type)),\r\n    setViewError: error => dispatch(FirebaseActions.setViewError(error)),\r\n\r\n    getUser: (UserId) => dispatch(FirebaseActions.actionStarting(Actions.FETCH, DataRefs.USERSDATA, {UserId: UserId})),\r\n    getFarm: () => dispatch(FirebaseActions.actionStarting(Actions.FETCH, DataRefs.FARMS, {})),\r\n\r\n    updateFarm: (FarmData) => dispatch(FirebaseActions.actionStarting(Actions.UPDATE, DataRefs.FARMS, {Data: FarmData})),\r\n    updateFarmData: (sections, pens) => dispatch(FirebaseActions.actionStarting(Actions.UPDATE, DataRefs.FARMDATAS, {Data:{sections:sections, pens:pens}})),\r\n  }\r\n};\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(FarmInformation);\r\n//export default FarmInformation;","import React, { Component } from 'react'\r\nimport { Platform, Text, View, ScrollView, ActivityIndicator } from 'react-native'\r\nimport { Input } from 'react-native-elements'\r\nimport { connect } from 'react-redux'\r\nimport { bindActionCreators } from 'redux';\r\nimport NavigationService from '../../../Services/NavigationService'\r\n\r\nimport FirebaseActions from '../../../Stores/Firebase/Actions'\r\nimport { Actions, UserStates, DataRefs, DataStringCheck } from '../../../Stores/Firebase/Selectors'\r\n\r\nimport { Button } from '../../../Components'\r\nimport Style from './AuthStyle'\r\nimport { ApplicationStyles, Helpers, Metrics } from '../../../Theme'\r\n\r\nimport UserInformation from '../UserPanel/UserInformation'\r\nimport Subscription from '../UserPanel/Subscription'\r\nimport FarmInformation from '../UserPanel/FarmInformation'\r\n\r\nclass CreateNewUserData extends Component{\r\n  constructor(props){\r\n    super(props);\r\n    this.state = {\r\n      ViewState: 1,\r\n    }\r\n  }\r\n\r\n  getData() {\r\n  }\r\n\r\n  checkData(props) {\r\n  }\r\n\r\n  componentDidMount() {\r\n    this.props.setViewLoading(false)\r\n    //this.props.setViewError(null)\r\n\r\n    this.checkData(this.props);\r\n    this.getData();\r\n  }\r\n\r\n  componentDidUpdate(prevProps, prevState) {\r\n    if (this.props !== prevProps) {\r\n      this.checkData(this.props);\r\n      /*if (this.props.firebase.viewError != prevProps.firebase.viewError) {\r\n        this.forceUpdate()\r\n      }*/\r\n      if (this.props.firebase.firebaseUser !== prevProps.firebase.firebaseUser) {\r\n        if (prevProps.firebase.firebaseUser.state !== UserStates.STARTER && this.state.ViewState !== 3) {\r\n          NavigationService.nacigationPop()\r\n        }\r\n      }\r\n    }\r\n  }\r\n\r\n  render() {\r\n    const IsLoading = this.props.firebase.firebaseIsLoading\r\n\r\n    var Display = [];\r\n    if (this.state.ViewState === 1) {\r\n      Display = [(<UserInformation key={\"View1\"} OnDone={res => {\r\n        if (res) {\r\n          this.setState({\r\n            ViewState:2\r\n          }, this.forceUpdate())\r\n        }else {\r\n          NavigationService.nacigationPop()\r\n        }\r\n      }}/>)]\r\n    } else if (this.state.ViewState === 2) {\r\n      Display = [(<Subscription key={\"View2\"} OnDone={res => {\r\n        if (res && res != \"\") {\r\n          var FarmName = \"Not set\"\r\n          if (this.props.firebase.firebaseUser.lastN) FarmName = this.props.firebase.firebaseUser.lastN;\r\n          this.props.precreateUserData(res, FarmName)\r\n\r\n          this.setState({\r\n            ViewState:3\r\n          }, this.forceUpdate())\r\n        }else {\r\n          NavigationService.nacigationPop()\r\n        }\r\n      }}/>)]\r\n    } else if (this.state.ViewState === 3) {\r\n      Display = [(<FarmInformation key={\"View3\"} OnDone={res => {\r\n        if (res && res != \"\") {\r\n          this.props.clearDataMem()\r\n          NavigationService.navigateAndReset('AuthStack')\r\n        }\r\n      }}/>)]\r\n    } else {\r\n      this.props.clearDataMem()\r\n      NavigationService.navigateAndReset('AuthStack')\r\n    }\r\n\r\n    return(\r\n      <View>\r\n        {Display}\r\n      </View>\r\n    )\r\n  }\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n  const { firebase } = state\r\n  return { firebase }\r\n};\r\n\r\nconst mapDispatchToProps  = (dispatch) => {\r\n  return {\r\n    setViewLoading: state => dispatch(FirebaseActions.viewIsLoading(state)),\r\n\r\n    clearDataMem: () => dispatch(FirebaseActions.actionStarting(Actions.CLEAR, DataRefs.USERSDATA)),\r\n    updateUser: (Data) => dispatch(FirebaseActions.actionStarting(Actions.UPDATE, DataRefs.USERSDATA, {Data: Data})),\r\n    precreateUserData: (Subsc, FarmName) => dispatch(FirebaseActions.actionStarting(Actions.CREATE, DataRefs.USERSDATA, {UserData: {state:Subsc}, Farms:{name:FarmName}, Sections:{}, Pens:{}})),\r\n  }\r\n};\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(CreateNewUserData);\r\n//export default CreateNewUserData;","import React from 'react'\r\nimport { createStackNavigator } from 'react-navigation-stack'\r\nimport { TouchableOpacity, View, Text } from 'react-native'\r\nimport { Icon } from 'react-native-elements'\r\n\r\nimport NavigationService from '../Services/NavigationService'\r\n\r\nimport LoadingUserScreen from '../Containers/Cloud/AuthScreens/UserLoadingScreen'\r\nimport LoginUserScreen from '../Containers/Cloud/AuthScreens/UserLoginScreen'\r\nimport VerifyScreen from '../Containers/Cloud/AuthScreens/VerifyScreen'\r\nimport CreateUserDataScreen from '../Containers/Cloud/AuthScreens/CreateUserDataScreen'\r\n\r\nimport { ApplicationStyles } from '../Theme'\r\n\r\n/**\r\n * The root screen contains the application's navigation.\r\n *\r\n * @see https://reactnavigation.org/docs/en/hello-react-navigation.html#creating-a-stack-navigator\r\n */\r\nconst StackNavigator = createStackNavigator(\r\n  {\r\n    UserLoadingScreen: {\r\n      screen: LoadingUserScreen,\r\n      navigationOptions: () => ({\r\n        title: 'User loading',\r\n      }),\r\n    },\r\n    LoginUser: {\r\n      screen: LoginUserScreen,\r\n      navigationOptions: () => ({\r\n        title: 'User Login',\r\n        headerLeft: () => (\r\n          <View style={{padding:6, paddingLeft: 15}}>\r\n            <Icon name=\"md-arrow-back\" type='ionicon' size={25} color=\"black\" onPress={() => NavigationService.navigate('MainStack')}/>\r\n          </View>\r\n        ),\r\n      }),\r\n    },\r\n    VerifyScreen: {\r\n      screen: VerifyScreen,\r\n      navigationOptions: () => ({\r\n        title: 'User Verification',\r\n      }),\r\n    },\r\n    CreateUserData: {\r\n      screen: CreateUserDataScreen,\r\n      navigationOptions: () => ({\r\n        title: 'Create Data',\r\n      }),\r\n    },\r\n  },\r\n  {\r\n    initialRouteName: 'UserLoadingScreen',\r\n    // See https://reactnavigation.org/docs/en/stack-navigator.html#stacknavigatorconfig\r\n    headerMode: 'float',\r\n    defaultNavigationOptions:{\r\n      headerTitleAlign: 'center',\r\n      headerTitleStyle:{...ApplicationStyles.navigationHeader},\r\n      headerLeft: () => (\r\n        <View style={{padding:6, paddingLeft: 15}}>\r\n          <Icon type='ionicon' name=\"md-arrow-back\" size={25} color=\"black\" onPress={() => NavigationService.navigate('MainStack')}/>\r\n        </View>\r\n      ),\r\n      headerRight: () => (<View style={{padding:6}}></View>),\r\n    },\r\n  }\r\n)\r\n\r\nexport default StackNavigator\r\n","import React, { useEffect, Component } from 'react'\r\nimport { Text, View, ActivityIndicator, ScrollView } from 'react-native'\r\nimport { useDispatch, useSelector, connect } from 'react-redux'\r\nimport { bindActionCreators } from 'redux';\r\n\r\nimport NavigationService from '../../../Services/NavigationService'\r\n\r\nimport FirebaseActions from '../../../Stores/Firebase/Actions'\r\nimport { Actions, DataRefs } from '../../../Stores/Firebase/Selectors'\r\n\r\nimport { Button, Button_Panel } from '../../../Components'\r\nimport Style from './UserPanelStyle'\r\nimport { ApplicationStyles, Helpers, Metrics, Images } from '../../../Theme'\r\n\r\nclass FrontScreen extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      ISLOADPAGE: true,\r\n    }\r\n  }\r\n\r\n  getData() {\r\n    this.props.getFarm()\r\n  }\r\n\r\n  checkData(props) {\r\n  }\r\n\r\n  componentDidMount() {\r\n    this.props.setViewLoading(false)\r\n    this.props.setViewError(null)\r\n    this.checkData(this.props);\r\n    this.getData();\r\n  }\r\n\r\n  componentDidUpdate(prevProps, prevState) {\r\n    if (this.props !== prevProps) {\r\n      this.checkData(this.props);\r\n      if (this.props.firebase.viewError != prevProps.firebase.viewError) {\r\n        this.forceUpdate()\r\n      }\r\n    }\r\n  }\r\n\r\n  render() {\r\n    const firebase = this.props.firebase;\r\n\r\n    const IsLoading = firebase.firebaseIsLoading\r\n    const firebaseErrorMessage = firebase.firebaseErrorMessage\r\n    const ErrorMessage = this.props.firebase.viewError\r\n    const firebaseUser = firebase.firebaseUser\r\n\r\n    return(\r\n      <ScrollView style={[Helpers.fullSize, Helpers.fill]}>\r\n        <View\r\n          style={[\r\n            Helpers.mainContainer,\r\n          ]}\r\n        >\r\n        <View style={[Helpers.contentContainer, Helpers.fullSize, Helpers.fillColMain]}>\r\n          {firebaseErrorMessage ? (\r\n            <Text style={ApplicationStyles.error}>{firebaseErrorMessage}</Text>\r\n          ):(<></>)}\r\n          {firebaseUser?(\r\n          <View style={ Helpers.textContainer }>\r\n            <Text style={ApplicationStyles.text}>Welcome: {firebaseUser.displayName ? firebaseUser.displayName : firebaseUser.email}</Text>\r\n          </View>):(<></>)}\r\n\r\n          <Button_Panel \r\n            Texts={[\"Dashboard\", \"Pens\", \"Batchs\", \"Growth curves\", \"Operations\", \"AutoPigs\", \"Feeding\", \"Pigs\"]}\r\n            Images={[Images.DashBoard, Images.Pens, Images.Section, Images.GCurves, Images.System, Images.AutoPig, Images.Feed, Images.Sow ]}\r\n            onPress={(ele) => {\r\n              switch(ele.text){\r\n                case \"Dashboard\":\r\n                  NavigationService.navigate(\"UserDashBoard\")\r\n                  break;\r\n                case \"Pens\":\r\n                  NavigationService.navigate(\"UserPens\")\r\n                  break;\r\n                case \"Batchs\":\r\n                  NavigationService.navigate(\"UserBatchs\")\r\n                  break;\r\n                case \"Growth curves\":\r\n                  NavigationService.navigate(\"UserCurves\")\r\n                  break;\r\n                case \"Operations\":\r\n                  NavigationService.navigate(\"UserOperations\")\r\n                  break;\r\n                case \"AutoPigs\":\r\n                  const localDataStore = this.props.firebase.localDataStore;\r\n                  const FirebaseUser = this.props.firebase.firebaseUser;\r\n                  if (FirebaseUser && FirebaseUser.farms && localDataStore && localDataStore.farms) { \r\n                    const FarmsData = localDataStore.farms\r\n                    if (FarmsData && FarmsData[Object.keys(FirebaseUser.farms)[0]]) {\r\n                      const FarmData = FarmsData[Object.keys(FirebaseUser.farms)[0]]\r\n                      if (FarmData.site && FarmData.refToken) {\r\n                        NavigationService.navigate(\"AutoPig\")\r\n                      }\r\n                    }\r\n                  }\r\n                  break;\r\n                case \"Feeding\":\r\n                  break;\r\n                case \"Pigs\":\r\n                  NavigationService.navigate(\"UserPigs\")\r\n                  break;\r\n              }\r\n            }}\r\n          />\r\n          \r\n          {firebaseUser && firebaseUser.state === \"admin\"?(<></>):(\r\n          <View style={[Helpers.buttonContainer, Helpers.midWidth] }>\r\n            <Button Text=\"LogOut\"\r\n              onPress={() => {\r\n                this.props.logOut()\r\n              }}/>\r\n          </View>\r\n          )}\r\n        </View>\r\n        {(IsLoading || this.props.firebase.viewIsLoading) &&\r\n          <ActivityIndicator style={Helpers.loadingContainer} size='large' />\r\n        }\r\n      </View>\r\n      </ScrollView>\r\n    )\r\n  }\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n  const { firebase } = state\r\n  return { firebase }\r\n};\r\n\r\nconst mapDispatchToProps  = (dispatch) => {\r\n  return {\r\n    setFirebaseError: error => dispatch(FirebaseActions.setFirebaseError(error)),\r\n    setViewLoading: state => dispatch(FirebaseActions.viewIsLoading(state)),\r\n    setViewError: error => dispatch(FirebaseActions.setViewError(error)),\r\n\r\n    logOut: () => dispatch(FirebaseActions.actionStarting(Actions.SIGN, DataRefs.USERSDATA)),\r\n\r\n    getFarm: () => dispatch(FirebaseActions.actionStarting(Actions.FETCH, DataRefs.FARMS, {})),\r\n  }\r\n};\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(FrontScreen);\r\n//export default FrontScreen;\r\n","import React, { useEffect, Component } from 'react'\r\nimport { Text, View, ActivityIndicator, ScrollView, FlatList } from 'react-native'\r\nimport { Input, Icon } from 'react-native-elements'\r\nimport { useDispatch, useSelector, connect } from 'react-redux'\r\nimport { bindActionCreators } from 'redux';\r\n\r\nimport NavigationService from '../../../Services/NavigationService'\r\n\r\nimport FirebaseActions from '../../../Stores/Firebase/Actions'\r\nimport { DataRefs, Actions, GetBatchEnd, CurvePredict, GetCurve_FromBatch, GetStats_FromBatch  } from '../../../Stores/Firebase/Selectors'\r\n\r\nimport { Button, TitleElement, ContentProp, ProgressBar } from '../../../Components'\r\nimport Style from './UserPanelStyle'\r\nimport { ApplicationStyles, Helpers, Metrics, Colors } from '../../../Theme'\r\n\r\nclass Dashboard extends Component {\r\n  constructor(props){\r\n    super(props);\r\n\r\n    const {Name, Manager, Mail, SectionsList, BatchList, MaxCap, CurCap} = this.setData(props)\r\n    this.state = {\r\n      farmName: Name,\r\n      farmManager: Manager,\r\n      farmMail: Mail, \r\n\r\n      BatchList: BatchList,\r\n\r\n      MaxCap:MaxCap, \r\n      CurCap:CurCap,\r\n    }\r\n  }\r\n\r\n  setData(Props) {\r\n    const localDataStore = Props.firebase.localDataStore;\r\n    const firebaseUser = this.props.firebase.firebaseUser\r\n\r\n    var Name = \"Not set\"\r\n    var Manager = \"Not set\"\r\n    var Mail = \"Not set\"\r\n\r\n    if (localDataStore && localDataStore.farms && firebaseUser.farms && localDataStore.farms[Object.keys(firebaseUser.farms)[0]]) {\r\n      var Farm = localDataStore.farms[Object.keys(firebaseUser.farms)[0]]\r\n      Name = Farm.name?Farm.name: Name\r\n      Manager = Farm.name?Farm.manager: Manager\r\n      Mail = Farm.name?Farm.email: Mail\r\n    }\r\n\r\n    var BatchList = {}//localDataStore.batchs\r\n    var MaxCap = 0;\r\n    var CurCap = 0;\r\n\r\n    if (localDataStore.batchs) {\r\n      Object.keys(localDataStore.batchs).filter(e => e !== '__jsogObjectId' && e !== 'update_time').map((BatchID) => {\r\n        var Batch = localDataStore.batchs[BatchID]\r\n        var Data = GetStats_FromBatch(Batch, localDataStore)\r\n        if (Data) {\r\n          var {StartDate, EndDate, TargetWeight, PenCount, Animals, AverageWeight, AverageGrowth, isClosed, isVirtual} = Data\r\n          \r\n          if (Batch.pens) {\r\n            MaxCap += Object.keys(Batch.pens).reverse().filter(e => (e !== '__jsogObjectId')).length * 1;\r\n          }\r\n          CurCap += Animals;\r\n\r\n          Batch.count = Animals\r\n          Batch.weight = AverageWeight\r\n          Batch.target = TargetWeight\r\n          Batch.End = EndDate\r\n\r\n          BatchList[BatchID] = Batch\r\n        }\r\n      })\r\n    }\r\n\r\n    if (MaxCap === 0) MaxCap++;\r\n    return { Name, Manager, Mail, BatchList, MaxCap, CurCap }\r\n  }\r\n\r\n  getData() {\r\n    const localDataStore = this.props.firebase.localDataStore;\r\n\r\n    if (!localDataStore.sections) localDataStore.sections = {}\r\n    if (!localDataStore.pens) localDataStore.pens = {}\r\n\r\n    this.props.getFarm()\r\n    this.props.getSections(localDataStore.sections?localDataStore.sections.update_time:null)\r\n    this.props.getPens(localDataStore.pens?localDataStore.pens.update_time:null)\r\n    this.props.getBatch()\r\n    this.props.getWeights(localDataStore.weighings?localDataStore.weighings.update_time:null, localDataStore.sections)\r\n    this.props.getCurve()\r\n  }\r\n\r\n  checkData(props) {\r\n  }\r\n\r\n  componentDidUpdate(prevProps, prevState) {\r\n    if (this.props !== prevProps) {\r\n      this.checkData(this.props);\r\n\r\n      if (this.props.firebase.localDataStore && prevProps.firebase.localDataStore) {\r\n        const firebaseUser = this.props.firebase.firebaseUser\r\n        const localDataStore = this.props.firebase.localDataStore;\r\n\r\n        if (localDataStore.farms && firebaseUser.farms && localDataStore.farms[Object.keys(firebaseUser.farms)[0]]) {\r\n          var Farm = localDataStore.farms[Object.keys(firebaseUser.farms)[0]]\r\n\r\n          if ((this.state.farmName !== Farm.name || this.state.farmManager !== Farm.manager || this.state.farmMail !== Farm.email) ||\r\n              localDataStore.batchs && JSON.stringify(this.state.BatchList) !== JSON.stringify(localDataStore.batchs) ||\r\n              localDataStore.graphs && localDataStore.graphs !== prevProps.firebase.localDataStore.graphs) {\r\n            const {Name, Manager, Mail, BatchList, MaxCap, CurCap} = this.setData(this.props)\r\n            this.setState({\r\n              farmName: Name,\r\n              farmManager: Manager,\r\n              farmMail: Mail,\r\n        \r\n              BatchList: BatchList,\r\n\r\n              MaxCap:MaxCap, \r\n              CurCap:CurCap,\r\n            }, () => {\r\n              this.forceUpdate()\r\n            })\r\n          }\r\n        }\r\n      }\r\n    }\r\n  }\r\n\r\n  componentDidMount() {\r\n    this.props.setViewLoading(false)\r\n    this.props.setViewError(null)\r\n    this.checkData(this.props);\r\n    this.getData();\r\n  }\r\n\r\n  render() {\r\n    const IsLoading = this.props.firebase.firebaseIsLoading\r\n    const localDataStore = this.props.firebase.localDataStore\r\n\r\n    var FarmProgress = 0\r\n    if (this.state.BatchList) {\r\n      var BatchList = Object.keys(this.state.BatchList).filter(e => e !== '__jsogObjectId' && e !== 'update_time' && (!this.state.BatchList[e].state || this.state.BatchList[e].state !== \"Closed\"))\r\n      BatchList.forEach(element => {\r\n        var Batch = this.state.BatchList[element]\r\n        FarmProgress += (Batch.weight/Batch.target)*100;\r\n      });\r\n      FarmProgress = (FarmProgress/(100*BatchList.length))*100\r\n    }\r\n\r\n    return(\r\n      <ScrollView style={[Metrics.verticalMargin, {paddingRight: 5}]}>\r\n        <View\r\n          style={[\r\n            Helpers.mainContainer,\r\n          ]}\r\n        >\r\n          <View style={[Helpers.contentContainer, Helpers.fullWidth, Helpers.fill]}>\r\n            <TitleElement Text=\"Farm description\"/>\r\n\r\n            <View style={[Helpers.buttonContainer, Helpers.fullWidth, {height:110,}]}>\r\n              <ContentProp texts={[\"Farm name\", \"Manager\", \"E-mail\"]} datas={[this.state.farmName, this.state.farmManager, this.state.farmMail ]} />\r\n            </View>\r\n            <View style={{height:20}}/>\r\n            <ProgressBar text={\"Farm capacity: \" + this.state.CurCap + \" of \" + this.state.MaxCap} progress={(this.state.CurCap/this.state.MaxCap) * 100 }/>\r\n            <ProgressBar text={\"Farm performance:\"} progress={FarmProgress}/>\r\n\r\n            {this.state.BatchList?(\r\n              <View style={[Helpers.borderContainer, Helpers.fullWidth, {borderWidth:0, marginTop:10}]}>\r\n                <Text>Batches:</Text>\r\n                <FlatList\r\n                  data={Object.keys(this.state.BatchList).filter(e => e !== '__jsogObjectId' && e !== 'update_time' && \r\n                                                                (!this.state.BatchList[e].state || this.state.BatchList[e].state !== \"Closed\"))}\r\n                  renderItem={({item, i}) => {\r\n                    var Batch = this.state.BatchList[item]\r\n                    var TempCurve = GetCurve_FromBatch(Batch, localDataStore.graphs)\r\n                    var End = GetBatchEnd(Batch, TempCurve)\r\n                    var EndDate = Batch.End;\r\n                    var Color = Colors.AgriGreen\r\n                    if (EndDate > End) Color = Colors.error\r\n                    var count = Batch.count\r\n                    if (!count) count = 0\r\n                    var progress = (Batch.weight/Batch.target)*100;\r\n\r\n                    EndDate = new Date(EndDate).getDate() + \"/\" + (new Date(EndDate).getMonth() +1) + \"/\" + new Date(EndDate).getFullYear()\r\n                    var StartDate = new Date(Batch.time).getDate() + \"/\" + (new Date(Batch.time).getMonth() +1) + \"/\" + new Date(Batch.time).getFullYear()\r\n                    return(\r\n                      <ProgressBar text={item + \" Startdate: \" + StartDate + \" EndForcast: \" + EndDate + \", \" + count + \" pigs\"} progress={progress} color={Color}/>\r\n                    )\r\n                  }}\r\n                  keyExtractor={(item, index) => index.toString()}\r\n                />\r\n              </View>\r\n            ):(<></>)}\r\n            <Button Text=\"Clear local datastore\"\r\n              onPress={() => {\r\n                this.props.clearDataMem()\r\n                this.getData()\r\n              }}/>\r\n          </View>\r\n          {(IsLoading || this.props.firebase.viewIsLoading) &&\r\n            <ActivityIndicator style={Helpers.loadingContainer} size='large' />\r\n          }\r\n        </View>\r\n      </ScrollView>\r\n    )\r\n  }\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n  const { firebase } = state\r\n  return { firebase }\r\n};\r\n\r\nconst mapDispatchToProps  = (dispatch) => {\r\n  return {\r\n    setFirebaseError: error => dispatch(FirebaseActions.setFirebaseError(error)),\r\n    setViewLoading: state => dispatch(FirebaseActions.viewIsLoading(state)),\r\n    setViewError: error => dispatch(FirebaseActions.setViewError(error)),\r\n\r\n    clearDataMem: () => dispatch(FirebaseActions.actionStarting(Actions.CLEAR, DataRefs.USERSDATA)),\r\n\r\n    getFarm: () => dispatch(FirebaseActions.actionStarting(Actions.FETCH, DataRefs.FARMS, {})),\r\n    getSections: (DataTime) => dispatch(FirebaseActions.actionStarting(Actions.FETCH, DataRefs.SECTIONS, {DataTime: DataTime})),\r\n    getPens: (DataTime) => dispatch(FirebaseActions.actionStarting(Actions.FETCH, DataRefs.PENS, {DataTime: DataTime})),\r\n    getBatch: () => dispatch(FirebaseActions.actionStarting(Actions.FETCH, DataRefs.BATCHS, {})),\r\n    getCurve: () => dispatch(FirebaseActions.actionStarting(Actions.FETCH, DataRefs.GRAPH, {})),\r\n    getWeights: (DataTime, MemSections) => dispatch(FirebaseActions.actionStarting(Actions.FETCH, DataRefs.WEIGHING, {DataTime: DataTime, MemSections: MemSections})),\r\n  }\r\n};\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(Dashboard);\r\n//export default Dashboard;\r\n","import { StyleSheet } from 'react-native'\r\nimport { Helpers, Metrics, Fonts, Colors } from '../../Theme'\r\n\r\nexport default StyleSheet.create({\r\n  loading: {\r\n    position: 'absolute',\r\n    left: 0,\r\n    right: 0,\r\n    top: 0,\r\n    bottom: 0,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n    backgroundColor: '#F5FCFF88',\r\n  },\r\n\r\n  textContainer: {\r\n    ...Fonts.normal,\r\n    marginBottom: Metrics.normal,\r\n  },\r\n  inputContainer: {\r\n    marginBottom: Metrics.small,\r\n  },\r\n\r\n  input: {\r\n    ...Fonts.normal,\r\n    height: 24, \r\n  },\r\n  \r\n})\r\n","import React, { useEffect, useState, Component } from 'react'\r\nimport { Platform, Text, View, ActivityIndicator, Image, StyleSheet, ScrollView, SafeAreaView, FlatList } from 'react-native'\r\nimport { ListItem, Input } from 'react-native-elements'\r\nimport { useDispatch, useSelector, connect } from 'react-redux'\r\nimport { bindActionCreators } from 'redux';\r\n\r\nimport NavigationService from '../../../Services/NavigationService'\r\n\r\nimport { ConnectionState } from '../../../Stores/Device/Selectors'\r\n\r\nimport FirebaseActions from '../../../Stores/Firebase/Actions'\r\nimport { Actions, DataRefs, sortObject } from '../../../Stores/Firebase/Selectors'\r\n\r\nimport { Button, OperationsPanel, CustomListItem, ContentProp } from '../../../Components'\r\nimport Style from '../../../Containers/Cloud/CloudScreenStyle'\r\nimport { ApplicationStyles, Helpers, Metrics } from '../../../Theme'\r\n\r\nimport { FlatGrid, SectionGrid } from 'react-native-super-grid';\r\n\r\nclass Pigs extends Component {\r\n  constructor(props){\r\n    super(props);\r\n\r\n    const {PigsList} = this.setData(props)\r\n    this.state = {\r\n      PigsList: PigsList,\r\n      PigTag: \"\"\r\n    }\r\n  }\r\n\r\n  getData() {\r\n    const localDataStore = this.props.firebase.localDataStore\r\n    if (!localDataStore.pens) localDataStore.pens = {}\r\n    this.props.getPigs()\r\n    this.props.getPens(localDataStore.pens.update_time)\r\n  }\r\n\r\n  setData(Props) {\r\n    const localDataStore = Props.firebase.localDataStore\r\n\r\n    var PigsList = null\r\n    if (localDataStore && localDataStore.pigs) {\r\n      PigsList = sortObject(localDataStore.pigs)\r\n    }\r\n    \r\n    return {PigsList}\r\n  }\r\n\r\n  checkData(props) {\r\n  }\r\n\r\n  componentDidMount() {\r\n    this.props.setViewLoading(false)\r\n    this.props.setViewError(null)\r\n    this.checkData(this.props);\r\n    this.getData();\r\n  }\r\n\r\n  componentDidUpdate(prevProps, prevState) {\r\n    if (this.props !== prevProps){\r\n      this.checkData(this.props);\r\n\r\n      if (this.props.firebase) {\r\n        if (this.props.firebase.localDataStore) {\r\n          if (this.props.firebase.localDataStore.pigs && JSON.stringify(this.state.PigsList)!==JSON.stringify(sortObject(this.props.firebase.localDataStore.pigs))) {\r\n            const {PigsList} = this.setData(this.props)\r\n            this.setState({\r\n              PigsList: PigsList,\r\n            })\r\n          }\r\n        }\r\n      }\r\n    }\r\n  }\r\n\r\n  render() {\r\n    const IsLoading = this.props.firebase.firebaseIsLoading\r\n\r\n    const localDataStore = this.props.firebase.localDataStore\r\n\r\n    const connectedDevice = null\r\n    const connectedState = null\r\n    const DeviceData = null\r\n\r\n    return(\r\n      <View\r\n        style={[\r\n          Helpers.mainContainer,\r\n        ]}\r\n      >\r\n        <View style={[Helpers.contentContainer, Helpers.fullWidth, Helpers.fill]}>\r\n          <View style={[Helpers.fill, Helpers.buttonContainer, Helpers.fullWidth, Metrics.bottomMargin, Helpers.column]}>\r\n            <Device_Display connectedState={connectedState}/>\r\n            <Scanner_Display DeviceData={DeviceData}/>\r\n            {this.state.PigsList ? (\r\n              <View style={[Helpers.fill, Helpers.borderContainer, Metrics.smallHorizontalPadding, Metrics.smallVerticalPadding, {maxWidth:800, marginTop:10}]}>\r\n                <SafeAreaView style={styles.container}>\r\n                  <FlatList\r\n                    data={Object.keys(this.state.PigsList)}\r\n                    renderItem={({item})=>{\r\n                      var Pen = \"-\"\r\n                      var Section = \"-\"\r\n                      if (this.state.PigsList[item].pen && this.state.PigsList[item].pen != 0) {\r\n                        Pen = this.state.PigsList[item].pen\r\n                        if (localDataStore.pens && localDataStore.pens[Pen]){\r\n                          var PenData = localDataStore.pens[Pen];\r\n                          Section = PenData.section;\r\n                        }\r\n                      }\r\n                      return(\r\n                        <View style={[Helpers.fill, Helpers.rowCenter, Helpers.fullWidth, {height:35}]}>\r\n                          <CustomListItem Title={item} itemStyle={[{height:35,}]} onPress={() => {\r\n                              this.props.setData(item, Section, Pen)\r\n                              NavigationService.navigate(\"DataDisplay\")\r\n                            }}/>\r\n\r\n                          <CustomListItem itemStyle={[{width:70, height:35, justifyContent:\"center\"}]} Title={Pen} onPress={() => {\r\n                              this.setState({\r\n                                PigTag: item\r\n                              })\r\n                            }}/>\r\n\r\n                          <CustomListItem itemStyle={[{width:90, height:35}]} Title={Section} onPress={() => {\r\n                              this.setState({\r\n                                PigTag: item\r\n                              })\r\n                            }}/>\r\n                        </View>\r\n                      )\r\n                    }}\r\n                    keyExtractor={item => \"PigTag_\" + item}\r\n                  />\r\n                </SafeAreaView>\r\n              </View>\r\n            ):(<></>)} \r\n            <Input\r\n              label={\"Pig-tag:\"}\r\n              containerStyle={[{borderWidth:1, marginTop:10}]}\r\n              style={[ApplicationStyles.input, ]}\r\n              onChangeText={text => {\r\n                this.setState({\r\n                  PigTag: text\r\n                })\r\n              }}\r\n              value={\r\n                this.state.PigTag\r\n              }\r\n            />\r\n            <OperationsPanel pig={true} pigTag={this.state.PigTag} PigsList={this.state.PigsList} />\r\n          </View>\r\n        </View>\r\n        {(IsLoading || this.props.firebase.viewIsLoading) &&\r\n          <ActivityIndicator style={Helpers.loadingContainer} size='large' />\r\n        }\r\n      </View>\r\n    )\r\n  }\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n  const { firebase } = state\r\n  return { firebase }\r\n};\r\n\r\nconst mapDispatchToProps  = (dispatch) => {\r\n  return {\r\n    setViewLoading: state => dispatch(FirebaseActions.viewIsLoading(state)),\r\n    setViewError: error => dispatch(FirebaseActions.setViewError(error)),\r\n\r\n    getPens: (DataTime) => dispatch(FirebaseActions.actionStarting(Actions.FETCH, DataRefs.PENS, {DataTime: DataTime})),\r\n    getPigs: (tagId = null) => dispatch(FirebaseActions.actionStarting(Actions.FETCH, DataRefs.PIGS, {TagId: tagId})),\r\n    setData: (pigId, Section, Pen) => dispatch(FirebaseActions.setCurrentData({pigId:pigId, type:DataRefs.PIGS, section:Section, dataId:Pen})),\r\n  }\r\n};\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(Pigs);\r\n//export default Pigs;\r\n\r\n//TODO extract to own component also used in DataDisplay\r\nconst Device_Display = (props) => {\r\n  if (Platform.OS === 'ios' || Platform.OS === 'android') {\r\n    return(\r\n      <View style={[Helpers.buttonContainer, Helpers.fullWidth, Metrics.bottomMargin, Helpers.rowCenter, ]}>\r\n        <View style={[Helpers.fill, Helpers.fullWidth, Helpers.rowMain]}>\r\n          <View style={[Helpers.fill, Helpers.column, {backgroundColor:\"red\"}]}>\r\n            <View style={[Helpers.fill, Helpers.row, Helpers.fullWidth, {backgroundColor: \"blue\"}]}>\r\n              <View style={{justifyContent:'center', alignItems: 'center'}}/>\r\n            </View>\r\n            <View style={[ Helpers.fill, Helpers.row, Helpers.fullWidth,]}>\r\n              <Text>Messages</Text>\r\n              <Text>Errors</Text>\r\n            </View>\r\n          </View>\r\n          <View style={[Helpers.fill, Helpers.fullWidth, Helpers.rowCenter, {maxWidth:150}]}>\r\n            {props && props.connectedState === ConnectionState.CONNECTED ? (\r\n              <View style={{...styles.circle, backgroundColor:\"green\", justifyContent:'center', alignItems: 'center'}}>\r\n                <Text>Device is</Text>\r\n                <Text>connected</Text>\r\n              </View>\r\n            ):(\r\n              <View style={{...styles.circle, backgroundColor:\"red\", justifyContent:'center', alignItems: 'center'}}>\r\n                <Text>No Device</Text>\r\n                <Text>connected</Text>\r\n              </View>\r\n            )}\r\n          </View>\r\n        </View>\r\n      </View>\r\n    )\r\n  }else {\r\n    return(<></>)\r\n  }\r\n}\r\n\r\nconst Scanner_Display = (props) => {\r\n  if (Platform.OS === 'ios' || Platform.OS === 'android') {\r\n    const dispatch = useDispatch()\r\n    const DeviceData = (props && props.DeviceData)?props.DeviceData:null\r\n    return(\r\n      <View style={{flexDirection: 'row',justifyContent: 'space-between', borderWidth:1, borderColor:'#000', borderRadius: 25, paddingHorizontal:15, paddingVertical:10, marginBottom:10}}>\r\n        <View style={Style.textContainer, {paddingTop: 10}}>\r\n          {\r\n            // App scanners data\r\n          }\r\n          {DeviceData&&DeviceData.tagid? (\r\n          <View style={{marginBottom:5}}>\r\n            <Text>TAG Id:</Text>\r\n            <Text>{DeviceData.tagid}</Text>\r\n          </View>\r\n          ):(<></>)}\r\n          {DeviceData&& DeviceData.FatLayers && DeviceData.FatLayers > 0 ? (\r\n            <View style={{marginBottom:5}}>\r\n              <Text>Layers received: {DeviceData.FatLayers}</Text>\r\n              <Text>Layer 1: {DeviceData.FatL1}</Text>\r\n              <Text>Layer 2: {DeviceData.FatL2}</Text>\r\n              <Text>Layer 3: {DeviceData.FatL3}</Text>\r\n            </View>\r\n          ):(<></>)}\r\n        </View>\r\n        {DeviceData&& DeviceData.tagid ? (\r\n          <View style={{flexDirection: 'row',justifyContent: 'space-between'}}>\r\n            {known ?(\r\n            <Button buttonStyle={ApplicationStyles.button, {minWidth: 0}} Text=\"Open data\" onPress={() => {\r\n              dispatch(FirebaseActions.setCurrentData({pigId:known, type:DataRefs.PIGS}))\r\n              NavigationService.navigate(\"DataDisplay\")\r\n            }}/>\r\n            ):(<></>)}\r\n            <Button buttonStyle={ApplicationStyles.button, {minWidth: 0}} Text=\"Save Tag\" onPress={() => {\r\n              //dispatch(FirebaseActions.actionStarting(Actions.CREATE, DataRefs.PIGS, {FarmId: Object.keys(localDataStore.userData.farms)[0]}))\r\n            }}/>\r\n          </View>\r\n        ):(<></>)}\r\n      </View>\r\n    )\r\n  }else {\r\n    return(<></>)\r\n  }\r\n}\r\n\r\nconst styles = StyleSheet.create({\r\n  circle: {\r\n    width: 125,\r\n    height: 125,\r\n    borderRadius: 125/2,\r\n    marginTop: Metrics.tiny,\r\n    marginLeft: Metrics.tiny,\r\n  },\r\n});","import React, { useEffect, Component } from 'react'\r\nimport { Text, View, ActivityIndicator, ScrollView, FlatList, TouchableOpacity, Image } from 'react-native'\r\nimport { useDispatch, useSelector, connect } from 'react-redux'\r\nimport { bindActionCreators } from 'redux';\r\n\r\nimport NavigationService from '../../../Services/NavigationService'\r\n\r\nimport FirebaseActions from '../../../Stores/Firebase/Actions'\r\nimport { Actions, DataRefs, sortObject, CurvePredict } from '../../../Stores/Firebase/Selectors'\r\n\r\nimport { Button } from '../../../Components'\r\nimport Style from '../../../Containers/Cloud/CloudScreenStyle'\r\nimport { ApplicationStyles, Helpers, Metrics, Images, Colors } from '../../../Theme'\r\n\r\nimport { SectionGrid } from 'react-native-super-grid';\r\n\r\nclass Pens extends Component {\r\n  constructor(props){\r\n    super(props);\r\n\r\n    const {Sections, Weighings, Mid} = this.setData(props)\r\n    this.state = {\r\n      Mid: Mid,\r\n      Sections: Sections,\r\n      Weighings: Weighings\r\n    }\r\n  }\r\n\r\n  setData(Props) {\r\n    const localDataStore = Props.firebase.localDataStore;\r\n\r\n    var Sections = {}\r\n    if (localDataStore && localDataStore.sections) {\r\n      Sections = sortObject(Props.firebase.localDataStore.sections)\r\n    }\r\n\r\n    var Mid = 0;\r\n    var Weighings = {}\r\n    if (localDataStore && localDataStore.weighings) {\r\n      Weighings = localDataStore.weighings\r\n      for (const property in localDataStore.weighings) {\r\n        if (localDataStore.weighings[property] && Object.keys(localDataStore.weighings[property]).length > 0){\r\n          var weight = localDataStore.weighings[property][Object.keys(localDataStore.weighings[property])[0]].weight\r\n          if (weight){\r\n            if (Mid > 0){\r\n              Mid = ((Mid + weight)/2)\r\n            } else {\r\n              Mid = (Mid + weight)\r\n            }\r\n          }\r\n        }\r\n      }\r\n    }\r\n\r\n    return {Sections, Weighings, Mid}\r\n  }\r\n\r\n  getData() {\r\n    const localDataStore = this.props.firebase.localDataStore;\r\n\r\n    if (!localDataStore.sections) localDataStore.sections = {}\r\n    if (!localDataStore.pens) localDataStore.pens = {}\r\n    if (!localDataStore.weighings) localDataStore.weighings = {}\r\n    if (!localDataStore.batchs) localDataStore.batchs = {}\r\n    if (!localDataStore.graphs) localDataStore.graphs = {}\r\n\r\n    this.props.getSections(localDataStore.sections.update_time)\r\n    this.props.getPens(localDataStore.pens.update_time)\r\n    this.props.getWeights(localDataStore.weighings.update_time, localDataStore.sections)\r\n\r\n    this.props.getBatch(localDataStore.batchs.update_time)\r\n    this.props.getCurve(localDataStore.graphs.update_time)\r\n  }\r\n\r\n  checkData(props) {\r\n  }\r\n\r\n  componentDidMount() {\r\n    this.props.setViewLoading(false)\r\n    this.props.setViewError(null)\r\n    this.checkData(this.props);\r\n    this.getData();\r\n  }\r\n\r\n  componentDidUpdate(prevProps, prevState) {\r\n    if (this.props !== prevProps){\r\n      this.checkData(this.props);\r\n\r\n      if (this.props.firebase.localDataStore) {\r\n        if ((this.props.firebase.localDataStore.sections && JSON.stringify(this.state.Sections)!==JSON.stringify(sortObject(this.props.firebase.localDataStore.sections))) ||\r\n            (this.props.firebase.localDataStore.weighings && JSON.stringify(this.state.Weighings)!==JSON.stringify(sortObject(this.props.firebase.localDataStore.weighings)))\r\n        ) {\r\n          const {Sections, Mid} = this.setData(this.props)\r\n          this.setState({\r\n            Mid: Mid,\r\n            Sections: Sections\r\n          })\r\n        }\r\n      }\r\n    }\r\n  }\r\n\r\n  render() {\r\n    const IsLoading = this.props.firebase.firebaseIsLoading\r\n    const localDataStore = this.props.firebase.localDataStore\r\n\r\n    return(\r\n      <View\r\n      style={[\r\n        Helpers.mainContainer,\r\n      ]}\r\n      >\r\n        <View style={[Helpers.fullSize, Helpers.fill]}>\r\n          {this.state.Sections? (\r\n            <ScrollView style={[Metrics.verticalMargin, {paddingRight: 5}]}>\r\n              <SectionGrid\r\n                itemDimension={70}\r\n                spacing={10}\r\n                sections={\r\n                  Object.keys(this.state.Sections).filter(e => e !== 'update_time').map((Section) => {\r\n                    var Pens = sortObject(this.state.Sections[Section].pens)\r\n                    return(\r\n                      {\r\n                        title: Section,\r\n                        data: Object.keys(Pens)\r\n                      }\r\n                    )\r\n                  })\r\n                }\r\n\r\n                renderSectionHeader={({ section }) => (\r\n                  <View style={[Helpers.buttonContainer, Helpers.midWidth, {marginBottom:0}]}>\r\n                    <Button Text={section.title} buttonStyle={{backgroundColor: Colors.AgriDarkblue}}\r\n                      onPress={() => {} }/>\r\n                  </View>\r\n                )}\r\n\r\n                renderItem={({ item }) => {\r\n                  var color = Colors.gray\r\n                  var displayWeight = null\r\n\r\n                  var Predict = CurvePredict(localDataStore, item)\r\n                  if (Predict != null) color = Colors.pigpink\r\n                  if (Predict && Predict.Now) {\r\n                    var Batch = Predict.Batch  //Mabye optain batch self ??\r\n\r\n                    var devianceMin = 2\r\n                    var devianceMax = 5\r\n                    if (Batch.datas.devianceMin) {\r\n                      devianceMin = Batch.datas.devianceMin\r\n                    }\r\n                    if (Batch.datas.devianceMax) {\r\n                      devianceMax = Batch.datas.devianceMax\r\n                    }\r\n                    var ExValue = Predict.TempEx\r\n                    var Weight = Predict.Now;\r\n                    \r\n                    var TargetWeight = (Batch.datas.target)?Batch.datas.target:Predict.Batch.datas.target\r\n                    if (Weight >= TargetWeight) {\r\n                      color = Colors.pigpink\r\n                    } else {\r\n                      var devianceValMin = (ExValue/100)* devianceMin\r\n                      var devianceValMax = (ExValue/100)* devianceMax\r\n                      if (ExValue && Weight < ExValue && Weight < ExValue - devianceValMin) {\r\n                        color = Colors.error\r\n                      } else if (ExValue && Weight > ExValue && Weight > ExValue + devianceValMax) {\r\n                        color = Colors.overest\r\n                      } else {\r\n                        color = Colors.success\r\n                      }\r\n                    }\r\n                    displayWeight = Math.round(Weight * 100) / 100\r\n                  }\r\n\r\n                  return(\r\n                    <TouchableOpacity style={[Helpers.borderContainer, {width:70, height:70, alignItems:\"center\", justifyContent:\"center\", backgroundColor:color}]}\r\n                      onPress={() => {\r\n                        this.props.setCurrentData(item)\r\n                        NavigationService.navigate(\"DataDisplay\")\r\n                      }}>\r\n                      <Text>{item}</Text>\r\n                      {displayWeight?(<Text>{displayWeight + \" kg\"}</Text>):(<></>)}\r\n                    </TouchableOpacity>\r\n                  )\r\n                }}\r\n              />\r\n            </ScrollView>\r\n          ):(\r\n            <View style={[Helpers.fillRowCenter, Helpers.center, Helpers.logoContainer]}>\r\n              <Image style={Helpers.fullSize} source={Images.Hexa_icon} resizeMode={'contain'} />\r\n            </View>\r\n          )}\r\n        </View>\r\n        {(IsLoading || this.props.firebase.viewIsLoading) &&\r\n          <ActivityIndicator style={Helpers.loadingContainer} size='large' />\r\n        }\r\n      </View>\r\n    )\r\n  }\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n  const { firebase } = state\r\n  return { firebase }\r\n};\r\n\r\nconst mapDispatchToProps  = (dispatch) => {\r\n  return {\r\n    setViewLoading: state => dispatch(FirebaseActions.viewIsLoading(state)),\r\n    setViewError: error => dispatch(FirebaseActions.setViewError(error)),\r\n\r\n    getSections: (DataTime) => dispatch(FirebaseActions.actionStarting(Actions.FETCH, DataRefs.SECTIONS, {DataTime: DataTime})),\r\n    getPens: (DataTime) => dispatch(FirebaseActions.actionStarting(Actions.FETCH, DataRefs.PENS, {DataTime: DataTime})),\r\n    getWeights: (DataTime, MemSections) => dispatch(FirebaseActions.actionStarting(Actions.FETCH, DataRefs.WEIGHING, {DataTime: DataTime, MemSections: MemSections})),\r\n    \r\n    getBatch: (DataTime) => dispatch(FirebaseActions.actionStarting(Actions.FETCH, DataRefs.BATCHS, {DataTime: DataTime})),\r\n    getCurve: (DataTime) => dispatch(FirebaseActions.actionStarting(Actions.FETCH, DataRefs.GRAPH, {GraphId: \"\", DataTime: DataTime})),\r\n\r\n    setCurrentData: penId => dispatch(FirebaseActions.setCurrentData({type:DataRefs.PENS, penId: penId})),\r\n  }\r\n};\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(Pens);\r\n//export default Pens;\r\n","import React, { useEffect, useState, Component } from 'react'\r\nimport { Platform, Text, View, ActivityIndicator, Image, StyleSheet, ScrollView, Dimensions, SafeAreaView, FlatList, Picker } from 'react-native'\r\nimport { Input } from 'react-native-elements'\r\nimport { useDispatch, useSelector, connect } from 'react-redux'\r\nimport { bindActionCreators } from 'redux';\r\n\r\nimport NavigationService from '../../../Services/NavigationService'\r\n\r\nimport FirebaseActions from '../../../Stores/Firebase/Actions'\r\nimport { Actions, DataRefs, sortObject, GetStats_FromBatch, DataStringCheck } from '../../../Stores/Firebase/Selectors'\r\n\r\nimport { Button, CustomListItem, Datetime_Picker } from '../../../Components'\r\nimport Style from './UserPanelStyle'\r\nimport { ApplicationStyles, Helpers, Metrics, Colors } from '../../../Theme'\r\n\r\nimport Icon from 'react-native-vector-icons/MaterialIcons'\r\nimport SectionedMultiSelect from 'react-native-sectioned-multi-select'\r\n\r\n//import moment from 'moment';\r\n\r\nimport SelectBox from 'react-native-multi-selectbox'\r\nimport { xorBy } from 'lodash'\r\n\r\nconst window = Dimensions.get(\"window\");\r\nconst screen = Dimensions.get(\"screen\");\r\n\r\nclass Batchs extends Component {\r\n  constructor(props){\r\n    super(props);\r\n\r\n    const {BatchList, freePens} = this.setData(props)\r\n    this.state = {\r\n      dimensions: {window, screen},\r\n      BatchList: BatchList,\r\n\r\n      Display: 0,\r\n\r\n      BatchName: \"\",\r\n      ShowPicker: false,\r\n      StartD: new Date().getTime(),\r\n      Curve: \"\",\r\n      TargetWeight: \"\",\r\n      DevianceMin: \"\",\r\n      DevianceMax: \"\",\r\n\r\n      freePens: freePens,\r\n      avaiblePens: freePens,\r\n      selectedPens: [],\r\n    }\r\n  }\r\n\r\n  setData(Props) {\r\n    const localDataStore = Props.firebase.localDataStore;\r\n\r\n    var BatchList = localDataStore.batchs\r\n    \r\n    var freePens = []\r\n    if (BatchList && localDataStore.sections) {\r\n      Object.keys(localDataStore.sections).forEach(section => {\r\n        if (localDataStore.sections[section].pens) {\r\n          var pens = []\r\n          Object.keys(localDataStore.sections[section].pens).filter(e => e !== '__jsogObjectId'  && e !== 'update_time').forEach(pen => {\r\n            var add = true\r\n            Object.keys(BatchList).forEach(batch => {\r\n              if (!BatchList[batch].state || BatchList[batch].state !== \"Closed\") {\r\n                if (BatchList[batch].pens && BatchList[batch].pens[pen] && !BatchList[batch].pens[pen].enddate) {\r\n                  add = false;\r\n                }\r\n              }\r\n            });\r\n            if (add) {\r\n              var item = {\r\n                item: pen,\r\n                id: section + \"_\" + pen\r\n              }\r\n              freePens.push(item)\r\n            }\r\n          })\r\n        }\r\n      });\r\n    }\r\n    return { BatchList, freePens }\r\n  }\r\n\r\n  getData() {\r\n    const localDataStore = this.props.firebase.localDataStore;\r\n    if (!localDataStore.sections) localDataStore.sections = {}\r\n    if (!localDataStore.pens) localDataStore.pens = {}\r\n\r\n    this.props.getBatch(localDataStore.batchs?localDataStore.batchs.update_time:null)\r\n    this.props.getSections(localDataStore.sections?localDataStore.sections.update_time:null)\r\n    this.props.getPens(localDataStore.pens?localDataStore.pens.update_time:null)\r\n    this.props.getCurve()\r\n  }\r\n\r\n  checkData(props) {\r\n  }\r\n\r\n  onChange = ({ window, screen }) => {\r\n    this.setState({\r\n      dimensions: {window, screen},\r\n    })\r\n  };\r\n\r\n  componentDidUpdate(prevProps, prevState) {\r\n    if (this.props !== prevProps) {\r\n      this.checkData(this.props);\r\n\r\n      if (this.props.firebase.localDataStore) {\r\n        if ((this.props.firebase.localDataStore.batchs && JSON.stringify(this.state.BatchList)!==JSON.stringify(this.props.firebase.localDataStore.batchs)) ||\r\n            (this.props.firebase.localDataStore.pens && JSON.stringify(this.state.pens)!==JSON.stringify(this.props.firebase.localDataStore.pens))) {\r\n          const {BatchList, freePens} = this.setData(this.props)\r\n          this.setState({\r\n            freePens: freePens,\r\n            BatchList: BatchList,\r\n          })\r\n        }\r\n      }\r\n    }\r\n  }\r\n\r\n  componentDidMount() {\r\n    Dimensions.addEventListener(\"change\", this.onChange);\r\n    this.props.setViewLoading(false)\r\n    this.props.setViewError(null)\r\n    this.checkData(this.props);\r\n    this.getData();\r\n  }\r\n\r\n  componentWillUnmount(){\r\n    Dimensions.removeEventListener(\"change\", this.onChange);\r\n  }\r\n\r\n  onMultiChange = (item) => {\r\n    var items = xorBy(this.state.selectedPens, [item], 'id')\r\n    this.setState({\r\n      selectedPens: items\r\n    })\r\n  }\r\n\r\n  render() {\r\n    const IsLoading = this.props.firebase.firebaseIsLoading\r\n    const ErrorMessage = this.props.firebase.viewError\r\n\r\n    const localDataStore = this.props.firebase.localDataStore\r\n\r\n    var wide = this.state.dimensions.window.width>900?true:false\r\n    var App = (Platform.OS === 'ios' || Platform.OS === 'android')||!wide\r\n\r\n    return(\r\n      <ScrollView style={[Metrics.verticalMargin, {paddingRight: 5}]}>\r\n        <View\r\n          style={[\r\n            Helpers.mainContainer,\r\n          ]}\r\n        >\r\n          <View style={[Helpers.contentContainer, Helpers.fullSize, Helpers.fill]}>\r\n            {ErrorMessage ? (\r\n              <Text style={ApplicationStyles.error}>{ErrorMessage}</Text>\r\n            ):(<></>)}\r\n            {this.state.Display === 0?(\r\n              //#region Normal Front View to display all batches.\r\n              <View style={[Helpers.contentContainer, Helpers.fullSize, {marginHorizontal:0, paddingHorizontal:-20}]}>\r\n                {this.state.BatchList ? (\r\n                  <View style={[Helpers.fill, Helpers.fullWidth, Metrics.smallHorizontalPadding, Metrics.smallVerticalPadding, {maxWidth:800, marginTop:10}]}>\r\n                    <FlatList scrollEnabled={true} style={[Helpers.fill]}\r\n                      data={Object.keys(this.state.BatchList).filter(e => e !== '__jsogObjectId' && e !== 'update_time')}\r\n                      renderItem={({item, i})=>{\r\n                        var name = item;\r\n                        if (this.state.BatchList[item] && this.state.BatchList[item].state && this.state.BatchList[item].state === \"Closed\") {\r\n                          name += \"  Closed\"\r\n                        }\r\n                        return(\r\n                          <Button Text={name} onPress={() => {\r\n                            var curveId = \"default\"\r\n                            if (this.state.BatchList[item] && this.state.BatchList[item].gcurve) {\r\n                              curveId = this.state.BatchList[item].gcurve\r\n                              if (typeof curveId !== 'string') curveId = null\r\n                            }\r\n                            this.props.setCurrentData(item, curveId)\r\n                            \r\n                            NavigationService.navigate('DataPlotter')\r\n                          }}/>\r\n                        )\r\n                      }}\r\n                      keyExtractor={(item, index) => index.toString()}\r\n                    />\r\n                  </View>\r\n                ):(<></>)}\r\n                <View style={[Helpers.buttonContainer, Helpers.borderContainer, Helpers.midWidth]}>\r\n                  <Button Text={\"New Batch\"} onPress={() => {\r\n                    var graph = 0\r\n                    if (localDataStore && localDataStore.graphs) {\r\n                      graph = Object.keys(localDataStore.graphs).filter(e => e !== '__jsogObjectId'  && e !== 'update_time')[0]\r\n                    }\r\n                    this.setState({\r\n                      Display: 1,\r\n\r\n                      DevianceMin: String(2),\r\n                      DevianceMax: String(2),\r\n                      Curve: graph,\r\n\r\n                      freePens: this.state.freePens,\r\n                      avaiblePens: this.state.freePens,\r\n                      selectedPens: [],\r\n                    })\r\n                  }}/>\r\n                  {this.state.BatchList?(\r\n                  <Button Text={\"Edit or Close Batch\"} onPress={() => {\r\n                    var batchName = Object.keys(this.state.BatchList)\r\n                                      .filter(e => e !== '__jsogObjectId'  && e !== 'update_time' && \r\n                                              (!this.state.BatchList[e].state || this.state.BatchList[e].state !== \"Closed\")\r\n                                      )[0]\r\n                    var batch = this.state.BatchList[batchName]\r\n                    if (batch) {\r\n                      var Pens = []\r\n                      var pens = sortObject(batch.pens)\r\n                      Object.keys(pens).forEach(element => {\r\n                        if (!batch.pens[element].enddate) {\r\n                          if (localDataStore.pens && localDataStore.pens[element]){\r\n                            var _pen = localDataStore.pens[element]\r\n                            var item = {}\r\n                            item.item = element;\r\n                            item.id = _pen.section + \"_\" + element;\r\n                            Pens.push(item)\r\n                          }\r\n                        }\r\n                      });\r\n\r\n                      this.setState({\r\n                        Display: 2,\r\n                        BatchName: batchName,\r\n                        StartD: batch.time,\r\n                        Curve: batch.gcurve,\r\n                        TargetWeight: String(batch.datas.target),\r\n                        DevianceMin: String(batch.datas.devianceMin),\r\n                        DevianceMax: String(batch.datas.devianceMax),\r\n                        avaiblePens: this.state.freePens.concat(Pens),\r\n                        selectedPens: Pens\r\n                      })\r\n                    }\r\n                  }}/>):(<></>)}\r\n                </View>\r\n              </View>\r\n              //#endregion\r\n            ):(\r\n              //#region Edit or create\r\n              <View style={[Helpers.contentContainer, Helpers.fullSize, {marginHorizontal:0, paddingHorizontal:-20}]}>\r\n                {this.state.Display === 1?( // Create\r\n                  <Input label={\"BatchName\"}\r\n                    containerStyle={[{borderWidth:1, marginTop:10}]}\r\n                    style={[ApplicationStyles.input, ]}\r\n                    onChangeText={text => {\r\n                      if (text){\r\n                        if (DataStringCheck(text)){\r\n                          this.setState({BatchName: text})\r\n                        }\r\n                      }else {\r\n                        this.setState({BatchName: text})\r\n                      }\r\n                    }}\r\n                    value={\r\n                      this.state.BatchName\r\n                    }\r\n                  />\r\n                ):( // Edit\r\n                  <View style={[Helpers.borderContainer, Helpers.fullWidth, {height:60, borderRadius:0, alignItems:\"center\"}]}>\r\n                    <Picker\r\n                      mode=\"dropdown\"\r\n                      selectedValue={this.state.BatchName}\r\n                      style={[Helpers.fullWidth, { height: 50, justifyContent:\"flex-end\"}]}\r\n                      onValueChange={(itemValue, itemIndex) => {\r\n                        if (this.state.BatchList && this.state.BatchList[itemValue]) {\r\n                          var batch = this.state.BatchList[itemValue]\r\n\r\n                          var Pens = []\r\n                          var pens = sortObject(batch.pens)\r\n                          Object.keys(pens).forEach(element => {\r\n                            if (!batch.pens[element].enddate) {\r\n                              if (localDataStore.pens && localDataStore.pens[element]){\r\n                                var _pen = localDataStore.pens[element]\r\n                                var item = {}\r\n                                item.item = element;\r\n                                item.id = _pen.section + \"_\" + element;\r\n                                Pens.push(item)\r\n                              }\r\n                            }\r\n                          });\r\n\r\n                          this.setState({\r\n                            BatchName: itemValue,\r\n                            StartD: batch.time,\r\n                            Curve: batch.gcurve,\r\n                            DevianceMin: String(batch.datas.devianceMin),\r\n                            DevianceMax: String(batch.datas.devianceMax),\r\n                            avaiblePens: this.state.freePens.concat(Pens),\r\n                            selectedPens: Pens,\r\n                          })\r\n                        }\r\n                      }}\r\n                    >\r\n                      {Object.keys(this.state.BatchList)\r\n                                      .filter(e => e !== '__jsogObjectId'  && e !== 'update_time' && \r\n                                              (!this.state.BatchList[e].state || this.state.BatchList[e].state !== \"Closed\")\r\n                                      ).map((graph, i) => {\r\n                        return (<Picker.Item label={graph} value={graph} key={i}/>)\r\n                      })}\r\n                    </Picker>\r\n                  </View>\r\n                )}\r\n                <View style={[Helpers.fullWidth, App?{}:Helpers.row, {zIndex:999}]}>\r\n                  <View style={[App?{}:Helpers.halvWidth, {borderWidth:1 , marginTop:10, paddingHorizontal:5, paddingTop:0, borderRadius:0, alignItems:\"center\", zIndex:1}]}>\r\n                    <View style={[Helpers.fullWidth, {alignItems:\"flex-start\", marginBottom: -5}]}>\r\n                      <Text style={[ApplicationStyles.text, {marginHorizontal:5, marginTop:2, color:Colors.input, fontSize: 15, fontWeight: \"bold\"}]}>Start date:</Text>\r\n                    </View>\r\n                    <View style={[Helpers.fullWidth, App?{marginBottom:10}:{},{alignItems:'flex-start',}]}>\r\n                      <Datetime_Picker Selected={this.state.StartD}\r\n                        onValueChange={(date)=>{\r\n                          this.setState({\r\n                            StartD: date.getTime()\r\n                          })\r\n                      }}/>\r\n                    </View>\r\n                  </View>\r\n                  \r\n                  <View style={[App?{}:Helpers.halvWidth, {borderWidth:1, marginTop:10, paddingHorizontal:5, paddingTop:0, borderRadius:0, alignItems:\"center\", zIndex:1}]}>\r\n                    <View style={[Helpers.fullWidth, {alignItems:\"flex-start\", marginBottom: -5}]}>\r\n                      <Text style={[ApplicationStyles.text, {marginHorizontal:5, marginTop:2, color:Colors.input, fontSize: 15, fontWeight: \"bold\"}]}>Growth curve:</Text>\r\n                    </View>\r\n                    <View style={[Helpers.fullWidth, {alignItems:\"center\"}]}>\r\n                      <Picker\r\n                        mode=\"dropdown\"\r\n                        selectedValue={this.state.Curve}\r\n                        style={[Helpers.fullWidth, {height: 30}]}\r\n                        onValueChange={(itemValue, itemIndex) => {\r\n                          this.setState({\r\n                            Curve: itemValue\r\n                          })\r\n                        }}\r\n                      >\r\n                        {Object.keys(localDataStore.graphs).filter(e => e !== '__jsogObjectId'  && e !== 'update_time').map((graph, i) => {\r\n                          return (<Picker.Item label={graph} value={graph} key={i}/>)\r\n                        })}\r\n                      </Picker>\r\n                    </View>\r\n                  </View>\r\n                </View>\r\n                <View style={[Helpers.fullWidth, Helpers.row]}>\r\n                <Input label={\"Target weight\"}\r\n                    type='number'\r\n                    step=\"0.1\"\r\n\r\n                    containerStyle={[Helpers.halvWidth,{borderWidth:1, marginTop:10}]}\r\n                    style={[ApplicationStyles.input, {marginBottom:-10}]}\r\n                    onChangeText={text => {\r\n                      if (!isNaN(text) || text.endsWith('.') && text.split('.').length <= 2) {\r\n                        this.setState({\r\n                          TargetWeight: text\r\n                        })\r\n                      }\r\n                    }}\r\n                    value={\r\n                      this.state.TargetWeight\r\n                    }\r\n                  />\r\n                </View>\r\n                <View style={[Helpers.fullWidth, Helpers.row]}>\r\n                  <Input label={\"Deviance Min alert procentage\"}\r\n                    type='number'\r\n                    step=\"0.1\"\r\n\r\n                    containerStyle={[Helpers.halvWidth,{borderWidth:1, marginTop:10}]}\r\n                    style={[ApplicationStyles.input, {marginBottom:-10}]}\r\n                    onChangeText={text => {\r\n                      if (!isNaN(text) || text.endsWith('.') && text.split('.').length <= 2) {\r\n                        this.setState({\r\n                          DevianceMin: text\r\n                        })\r\n                      }\r\n                    }}\r\n                    value={\r\n                      this.state.DevianceMin\r\n                    }\r\n                  />\r\n                  <Input label={\"Deviance Max alert procentage\"}\r\n                    type='number'\r\n                    step=\"0.1\"\r\n\r\n                    containerStyle={[Helpers.halvWidth,{borderWidth:1, marginTop:10}]}\r\n                    style={[ApplicationStyles.input, {marginBottom:-10}]}\r\n                    onChangeText={text => {\r\n                      if (!isNaN(text) || text.endsWith('.') && text.split('.').length <= 2) {\r\n                        this.setState({\r\n                          DevianceMax: text\r\n                        })\r\n                      }\r\n                    }}\r\n                    value={\r\n                      this.state.DevianceMax\r\n                    }\r\n                  />\r\n                </View>\r\n                <View style={[Helpers.fullWidth, {borderWidth:1, marginTop:10, paddingHorizontal:10, paddingTop:5}]}>\r\n                  <SelectBox\r\n                    label=\"Pens in Batch..\"\r\n                    labelStyle={{color:Colors.input, fontSize: 15, fontWeight: \"bold\"}}\r\n                    optionsLabelStyle={{minWidth:100, color:\"black\", fontSize: 12, fontWeight: \"bold\"}}\r\n\r\n                    options={this.state.avaiblePens}\r\n                    selectedValues={this.state.selectedPens}\r\n                    onMultiSelect={this.onMultiChange}\r\n                    onTapClose={this.onMultiChange}\r\n                    isMulti\r\n                  />\r\n                </View>\r\n                <View style={[Helpers.buttonContainer, Helpers.borderContainer, Helpers.midWidth, {marginTop:10}]}>\r\n                  {this.state.Display === 2?(\r\n                    <Button Text={\"Close Batch\"} onPress={() => {\r\n                      var Batch = localDataStore.batchs[this.state.BatchName];\r\n                      if (Batch) {\r\n                        var {StartDate, EndDate, TargetWeight, PenCount, Animals, AverageWeight, AverageGrowth, isClosed, isVirtual} = GetStats_FromBatch(Batch, localDataStore)\r\n                        if (Animals){\r\n                          this.props.setViewError(\"The batch still contains active pens, please clear pens before closing the batch\")\r\n                        }else {\r\n                          var newBatch = {name:this.state.BatchName, state:\"Closed\"}\r\n                          this.props.updateBatch(newBatch)\r\n                          this.setState({\r\n                            Display: 0\r\n                          })\r\n                          this.props.getPens(localDataStore.pens.update_time)\r\n                        }\r\n                      }\r\n                    }}/>\r\n                  ):(\r\n                    <></>\r\n                  )}\r\n                  <Button Text={\"Save\"} onPress={() => {\r\n                    var update = true;\r\n\r\n                    if (this.state.BatchName !== \"\") {\r\n                      var Name = this.state.BatchName;\r\n                      if (!Object.keys(this.state.BatchList).includes(Name)){\r\n                        if (this.state.Display === 2) { // update on non existing\r\n                          update = false \r\n                          this.props.setViewError(\"BatchName error, batch does not exists\")\r\n                        }\r\n                      } \r\n                      else {\r\n                        if (this.state.Display === 1) { // create on allready existing\r\n                          update = false \r\n                          this.props.setViewError(\"BatchName error, batch allready exists\")\r\n                        }\r\n                      }\r\n                    } else {\r\n                      update = false \r\n                      this.props.setViewError(\"BatchName error\")\r\n                    }\r\n\r\n                    if (this.state.StartD !== \"\") {\r\n                      /*var StartD = this.state.StartD.split(\".\")\r\n                      if (StartD.length !== 3 || StartD[0].length !== 4 || isNaN(StartD[0]) || \r\n                                                (StartD[1].length <= 0 && StartD[1].length >= 3) || isNaN(StartD[1]) ||\r\n                                                (StartD[2].length <= 0 && StartD[2].length >= 3)|| isNaN(StartD[2])) {\r\n                        update = false \r\n                        this.props.setViewError(\"Startdate error\")\r\n                      }*/\r\n                    }else {\r\n                      update = false \r\n                      this.props.setViewError(\"Startdate error\")\r\n                    }\r\n\r\n                    if (this.state.TargetWeight !== \"\") {\r\n                      var Dev = this.state.TargetWeight\r\n                      if (Dev.length > 3 || isNaN(Dev)) {\r\n                        update = false \r\n                      }\r\n                    }else {\r\n                      update = false \r\n                      this.props.setViewError(\"Tartget weight setting error\")\r\n                    }\r\n\r\n                    if (this.state.DevianceMin !== \"\") {\r\n                      var Dev = this.state.DevianceMin\r\n                      if (Dev.length > 3 || isNaN(Dev) || Dev > 100){\r\n                        update = false \r\n                      }\r\n                    }else {\r\n                      update = false \r\n                      this.props.setViewError(\"DevianceMin setting error\")\r\n                    }\r\n\r\n                    if (this.state.DevianceMax !== \"\") {\r\n                      var Dev = this.state.DevianceMax\r\n                      if (Dev.length > 3 || isNaN(Dev) || Dev > 100){\r\n                        update = false \r\n                      }\r\n                    }else {\r\n                      update = false \r\n                      this.props.setViewError(\"DevianceMax setting error\")\r\n                    }\r\n\r\n                    if (this.state.Curve === \"\"){\r\n                      update = false \r\n                      this.props.setViewError(\"Growth curve setting error, please reselect a curve\")\r\n                    }\r\n\r\n                    var Pens = {}\r\n                    if (this.state.selectedPens && this.state.selectedPens.length > 0) {\r\n                      this.state.selectedPens.forEach(element => {\r\n                        Pens[element.item] = true\r\n                      });\r\n                    }\r\n                    if (Object.keys(Pens).length !== this.state.selectedPens.length) {\r\n                      update = false\r\n                      this.props.setViewError(\"An error occurred during Pen assigning (please update the page)\")\r\n                    }\r\n\r\n                    if (update) {\r\n                      this.props.setViewLoading(true)\r\n                      var _Date = new Date(this.state.StartD)\r\n                      var StartD = new Date(_Date.getFullYear(), _Date.getMonth(), _Date.getDate()).getTime()\r\n                      var newBatch = {name:this.state.BatchName, gcurve:this.state.Curve, pens:Pens, time: StartD, datas:{target: this.state.TargetWeight, devianceMin: this.state.DevianceMin, devianceMax: this.state.DevianceMax}}\r\n                      if (this.state.Display === 1) {\r\n                        this.props.setBatch(newBatch)\r\n                      }\r\n                      else if (this.state.Display === 2) {\r\n                        this.props.updateBatch(newBatch)\r\n                      }\r\n                      this.setState({\r\n                        Display: 0\r\n                      })\r\n                      this.props.getPens(localDataStore.pens.update_time)\r\n                      this.props.setViewError(null)\r\n                      this.props.setViewLoading(false)\r\n                    }\r\n                  }}/>\r\n                </View>\r\n              </View>\r\n              //#endregion\r\n            )}\r\n          </View>\r\n          {(IsLoading || this.props.firebase.viewIsLoading) &&\r\n            <ActivityIndicator style={Helpers.loadingContainer} size='large' />\r\n          }\r\n        </View>\r\n      </ScrollView>\r\n    )\r\n  }\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n  const { firebase } = state\r\n  return { firebase }\r\n};\r\n\r\nconst mapDispatchToProps  = (dispatch) => {\r\n  return {\r\n    setViewLoading: state => dispatch(FirebaseActions.viewIsLoading(state)),\r\n    setViewError: error => dispatch(FirebaseActions.setViewError(error)),\r\n\r\n    getCurve: () => dispatch(FirebaseActions.actionStarting(Actions.FETCH, DataRefs.GRAPH, {})),\r\n\r\n    getSections: (DataTime) => dispatch(FirebaseActions.actionStarting(Actions.FETCH, DataRefs.SECTIONS, { DataTime: DataTime})),\r\n    getPens: (DataTime) => dispatch(FirebaseActions.actionStarting(Actions.FETCH, DataRefs.PENS, {DataTime: DataTime})),\r\n    getBatch: (DataTime) => dispatch(FirebaseActions.actionStarting(Actions.FETCH, DataRefs.BATCHS, {DataTime: DataTime})),\r\n\r\n    setBatch: (batch) => dispatch(FirebaseActions.actionStarting(Actions.CREATE, DataRefs.BATCHS, {Batch: batch})),\r\n    updateBatch: (batch) => dispatch(FirebaseActions.actionStarting(Actions.UPDATE, DataRefs.BATCHS, {BatchId: batch.name, Batch: batch})),\r\n    \r\n    setCurrentData: (batchId, curveId) => dispatch(FirebaseActions.setCurrentData({type:DataRefs.PENS, batchId:batchId, curveId: curveId})),\r\n  }\r\n};\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(Batchs);\r\n//export default Batchs;\r\n","import React, { useEffect, Component } from 'react'\r\nimport { Platform, Text, View, ActivityIndicator, Image, StyleSheet, ScrollView, Dimensions } from 'react-native'\r\nimport { Input, Icon } from 'react-native-elements'\r\nimport { useDispatch, useSelector, connect } from 'react-redux'\r\nimport { bindActionCreators } from 'redux';\r\n\r\nimport NavigationService from '../../../Services/NavigationService'\r\n\r\nimport FirebaseActions from '../../../Stores/Firebase/Actions'\r\nimport { Actions, DataRefs, GetCurve_FromBatch, AccumulateTime, get_DataSpot, CurvePredict } from '../../../Stores/Firebase/Selectors'\r\n\r\nimport { LineChart } from 'react-native-chart-kit'\r\nimport { Button, TitleElement, CustomListItem, ContentProp } from '../../../Components'\r\nimport Style from './UserPanelStyle'\r\nimport { ApplicationStyles, Helpers, Metrics, Colors } from '../../../Theme'\r\n\r\nimport { FlatGrid } from 'react-native-super-grid';\r\n\r\nfunction getRandomNumber(low, high) {\r\n  var r = Math.floor(Math.random() * (high - low + 1)) + low;\r\n  return r;\r\n}\r\n\r\nfunction getRandomColor() {\r\n  var red_range = [10, 250];\r\n  var green_range = [10, 250];\r\n  var blue_range = [10, 250];\r\n  var a_range = [0.2, 1];\r\n\r\n  var red = getRandomNumber(red_range[0], red_range[1]);\r\n  var green = getRandomNumber(green_range[0], green_range[1]);\r\n  var blue = getRandomNumber(blue_range[0], blue_range[1]);\r\n\r\n  var alpha = getRandomNumber(a_range[0] * 100, a_range[1] * 100) / 100;\r\n\r\n  return {\r\n    r: red,\r\n    g: green,\r\n    b: blue,\r\n    a: alpha,\r\n    rgbaValue: 'rgba(' + red + ',' + green + ',' + blue + ',' + alpha + ')'\r\n  }\r\n}\r\n\r\nconst window = Dimensions.get(\"window\");\r\nconst screen = Dimensions.get(\"screen\");\r\n\r\nfunction WeightsToGraphData(localDataStore, Batch, TempGraph = null, StartDate = undefined, _EndDate = undefined, Prediction = false) {\r\n  var DataSets = []\r\n  var EndDate = 0;\r\n\r\n  var DoPredict = (Batch && (!Batch.state || Batch.state !== \"Closed\"))?true:false\r\n  var Legends = []\r\n  if (Batch.pens) Legends = Object.keys(Batch.pens).filter(e => (e !== '__jsogObjectId')).reverse()\r\n  Legends.forEach(Pen => {\r\n    var BatchPen = Batch.pens[Pen]\r\n    var color = getRandomColor();\r\n\r\n    var DataSet = []\r\n    var DataSetX = []\r\n\r\n    if (localDataStore.weighings[Pen] || (Batch.state && Batch.state === \"Closed\")) {\r\n      var PenWeighings = localDataStore.weighings[Pen];\r\n      if (Batch.state && Batch.state === \"Closed\") {\r\n        PenWeighings = Batch.closed.weighings[Pen]\r\n      }\r\n\r\n      if (PenWeighings && Object.keys(PenWeighings).length >= 1) {\r\n        Object.keys(PenWeighings).sort(function(a, b) {\r\n          return PenWeighings[a].time - PenWeighings[b].time;\r\n        }).forEach(key => {\r\n          var data = PenWeighings[key]\r\n          if (data.weight) {\r\n            if ((!StartDate || data.time >= StartDate) && (!_EndDate || data.time <= _EndDate)) {\r\n              if ((!BatchPen.startdate || data.time >= BatchPen.startdate) && (!BatchPen.enddate || data.time <= BatchPen.enddate)) {\r\n                var weight = data.weight\r\n                if (data.count) {\r\n                  weight = weight / data.count\r\n                }\r\n                DataSet.push(weight)\r\n                var Time = new Date(data.time)\r\n                //Time = new Date(Time.getFullYear(),Time.getMonth(),Time.getDate()).getTime() // allows midday placement\r\n                DataSetX.push(Time)\r\n                if (!_EndDate && data.time > EndDate) {\r\n                  EndDate = data.time\r\n                }\r\n              }\r\n            }\r\n          }\r\n        });\r\n\r\n        if (DoPredict && Prediction) {\r\n          var Predict = CurvePredict(localDataStore, Pen)\r\n          if (Predict && Predict.lastWeighing) {\r\n            var Time = Predict.FirstSpot?new Date(Predict.FirstSpot):new Date(Predict.lastWeighing.time)\r\n            //var DatePredict = []\r\n            //var DataPredicttX = []\r\n            Predict.data.forEach((element,index) => {\r\n              DataSet.push(element)\r\n              Time = (index===0&&Predict.FirstSpot)?Time:AccumulateTime(Time, TempGraph.periode)\r\n              DataSetX.push(Time)\r\n              //DataSetX.push(new Date(Time.getFullYear(),Time.getMonth(),Time.getDate()).getTime())\r\n            });\r\n            //if (Predict.length > 0){\r\n            //  DataSets.push({Pen: Pen + \"_Predict\", data: DatePredict, dataX: DataPredictX, color:(opacity = 0) => color.rgbaValue})\r\n            //}\r\n          }\r\n        }\r\n      }\r\n    }\r\n    \r\n    while(DataSet.length < TempGraph.data.length) {\r\n      DataSet.push(null)\r\n      DataSetX.push(null)\r\n    }\r\n    DataSets.push({Pen: Pen, data: DataSet, dataX: DataSetX, color:(opacity = 1) => color.rgbaValue})\r\n  });\r\n  return {DataSets, EndDate};\r\n}\r\n\r\nclass CurveElement extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    if (!this.props.Display) {\r\n      const {TempGraph, Legends, DataSets, StartDate, EndDate } = this.setData(props)\r\n      this.state = {\r\n        dimensions: {window, screen},\r\n\r\n        TempGraph: TempGraph,\r\n        Legends: Legends,\r\n        DataSets: DataSets,\r\n        StartDate: StartDate,\r\n        EndDate: EndDate,\r\n\r\n        Labels: [],\r\n        ActiveIndex: 0,\r\n        ActiveLength: \"Batch\",\r\n        ActiveDataSets: DataSets,\r\n        ActiveStartDate: StartDate,\r\n        ActiveEndDate: EndDate,\r\n\r\n        ViewPoint: null,\r\n      }\r\n    } else {\r\n      this.state = {\r\n        dimensions: {window, screen},\r\n      }\r\n    }\r\n  }\r\n\r\n  setData(Props) {\r\n    const localDataStore = Props.firebase.localDataStore;\r\n    const CurrentData = Props.firebase.currentData;\r\n\r\n    var TempGraph = {periode:\"Days\", data: []} //Template Graph\r\n    var Legends = []     //Name lables\r\n    var DataSets = []    //Data Points\r\n\r\n    var D = new Date()\r\n    var StartDate = D.getTime()\r\n    var EndDate = new Date(D.setDate(D.getDate()+(7*8))) //Default timespand is 2 months or 8 weeks (will be changed acording to batch)\r\n\r\n    if (localDataStore && localDataStore.batchs && CurrentData && CurrentData.batchId) {\r\n      var Batch = localDataStore.batchs[CurrentData.batchId];\r\n      TempGraph = GetCurve_FromBatch(Batch, localDataStore.graphs, CurrentData.curveId)\r\n\r\n      if (TempGraph) {\r\n        if (CurrentData.curveId) TempGraph.name = CurrentData.curveId\r\n        else TempGraph.name = \"Template\"\r\n        //Find Startdate\r\n        StartDate = Batch.time\r\n        //Find Batch Pens (Legends)\r\n        if (Batch.pens) Legends = Legends.concat(Object.keys(Batch.pens).reverse().filter(e => (e !== '__jsogObjectId')))\r\n\r\n        var DataX = []\r\n        //#region Find Template X values and EndDate\r\n        var currentTime = new Date(StartDate)\r\n        for (var i = 0; i < TempGraph.data.length; i++) {\r\n          DataX.push(currentTime.getTime())\r\n          if (i < TempGraph.data.length -1) {\r\n            currentTime = new Date(AccumulateTime(currentTime, TempGraph.periode))\r\n          }\r\n        }\r\n        EndDate = currentTime.getTime();\r\n        DataX.push(EndDate)\r\n        //#endregion\r\n        \r\n        //Set TempGraph data\r\n        DataSets.push({\r\n          data: TempGraph.data,\r\n          dataX: DataX,\r\n          color: (opacity = 0.1) => `rgba(0, 0, 0, ${opacity})`, // optional\r\n        })\r\n\r\n        //Find DataSets from Legends\r\n        if (localDataStore.weighings) {\r\n          var TempData = DataSets\r\n          var TempEndDate = EndDate\r\n          var NextEnd = new Date(AccumulateTime(new Date(TempEndDate), TempGraph.periode)).getTime()\r\n          var {DataSets, EndDate} = WeightsToGraphData(localDataStore, Batch, TempGraph, StartDate, NextEnd, this.props.Predict)\r\n          DataSets = TempData.concat(DataSets)\r\n\r\n          if (TempEndDate > EndDate) {\r\n            EndDate = TempEndDate\r\n          }\r\n\r\n          Legends = Legends.filter(e => (e !== '__jsogObjectId' && (e === TempGraph.name || DataSets.some(i => i.Pen === e))));\r\n          Legends.unshift(TempGraph.name)\r\n        }\r\n      }\r\n    }\r\n    return {TempGraph, Legends, DataSets, StartDate, EndDate }\r\n  }\r\n\r\n  setGraphPeriode(ActiveLength = this.state.ActiveLength) {\r\n    var Labels = []\r\n\r\n    var StartDate = this.state.StartDate\r\n    var EndDate = this.state.EndDate\r\n    var ActiveIndex = this.state.ActiveIndex\r\n\r\n    var TemplatePeriode = \"Weeks\"\r\n    if (this.state.TempGraph && this.state.TempGraph.periode) TemplatePeriode = this.state.TempGraph.periode\r\n    var CurrentDate = new Date(StartDate)\r\n    var TempActiveDataSet = this.state.ActiveDataSets;\r\n\r\n    var Today = new Date().getTime()\r\n    switch(this.state.ActiveLength) {\r\n      case \"Days\":\r\n        for (var i = 0; (i < ActiveIndex || ActiveIndex === -1); i++){\r\n          var getNewDate = new Date(AccumulateTime(CurrentDate, this.state.ActiveLength))\r\n          if (ActiveIndex === -1 && getNewDate > Today) {\r\n            ActiveIndex = i-1;\r\n            break;\r\n          }\r\n          CurrentDate = getNewDate;\r\n        }\r\n        StartDate = CurrentDate.getTime();\r\n        Labels.push(CurrentDate.getDate() + \"/\" + (CurrentDate.getMonth() + 1))\r\n        \r\n        CurrentDate = new Date(AccumulateTime(CurrentDate, this.state.ActiveLength))\r\n        Labels.push(CurrentDate.getDate() + \"/\" + (CurrentDate.getMonth() + 1))\r\n\r\n        EndDate = CurrentDate.getTime();\r\n        CurrentDate = new Date(AccumulateTime(CurrentDate, this.state.ActiveLength))\r\n        break;\r\n      case \"Weeks\":\r\n        for (var i = 0; (i < ActiveIndex || ActiveIndex === -1); i++){\r\n          var getNewDate = new Date(AccumulateTime(CurrentDate, this.state.ActiveLength))\r\n          if (ActiveIndex === -1 && getNewDate > Today) {\r\n            ActiveIndex = i;\r\n            break;\r\n          }\r\n          CurrentDate = getNewDate;\r\n        }\r\n        StartDate = CurrentDate.getTime();\r\n\r\n        for (var i = 0; i <= 7; i++) {\r\n          Labels.push(CurrentDate.getDate() + \"/\" + (CurrentDate.getMonth() + 1))\r\n          EndDate = CurrentDate.getTime();\r\n          CurrentDate = new Date(AccumulateTime(CurrentDate, \"Days\"))\r\n        }\r\n        break;\r\n      case \"Batch\":\r\n      default:\r\n        while (CurrentDate.getTime() <= EndDate) {\r\n          switch (TemplatePeriode){\r\n            case \"Days\":\r\n              Labels.push(CurrentDate.getDate() + \"/\" + (CurrentDate.getMonth() + 1))\r\n              break;\r\n            case \"Month\":\r\n              Labels.push(CurrentDate.getDate() + \"/\" + (CurrentDate.getMonth() + 1))\r\n              break;\r\n            case \"Weeks\":\r\n            default:\r\n              Labels.push(CurrentDate.getDate() + \"/\" + (CurrentDate.getMonth() + 1))\r\n              break;\r\n          }\r\n          CurrentDate = new Date(AccumulateTime(CurrentDate, TemplatePeriode))\r\n        }\r\n        break;\r\n    }\r\n\r\n    var ActiveDataSets = []\r\n    if (!ActiveLength || ActiveLength === \"Batch\") {\r\n      ActiveDataSets = this.state.DataSets;\r\n    }\r\n    else {\r\n      var End = AccumulateTime(new Date(EndDate), this.state.ActiveLength).getTime()\r\n      this.state.DataSets.forEach(element => {\r\n        var NewData = {...element, data:[], dataX: []}\r\n\r\n        var first = null\r\n        var last = null\r\n        if (new Date(element.dataX[0]).getTime() <= EndDate) {\r\n          for(var i = 0; i < element.data.length; i++) {\r\n            if (new Date(element.dataX[i]).getTime() >= StartDate) {\r\n              NewData.data.push(element.data[i])\r\n              NewData.dataX.push(element.dataX[i])\r\n\r\n              var time = AccumulateTime(new Date(element.dataX[i]), this.state.ActiveLength)\r\n              if (time.getTime() > End){\r\n                if (element.dataX.length -1 >= i) last = i\r\n                break;\r\n              }\r\n            } else if (element.dataX[i] !== null) {\r\n              first = i\r\n            }\r\n          }\r\n          if (first !== null && NewData.dataX[0] > StartDate && element.data.length >= first+1) {\r\n            var DataSpot = get_DataSpot([element.dataX[first], element.dataX[first+1]], [element.data[first], element.data[first +1]], StartDate, element.data[first], element.dataX[first])\r\n            console.log(DataSpot)\r\n            NewData.data.unshift(DataSpot.ExValue)\r\n            NewData.dataX.unshift(StartDate)\r\n          }\r\n          if (last != null) {\r\n            //NewData.data.push(ExValue)\r\n            //NewData.dataX.push(StartDate)\r\n          }\r\n        }\r\n\r\n        ActiveDataSets.push(NewData)\r\n      });\r\n    }\r\n\r\n    //var lastDataPoint = this.state.DataSets[0].dataX[this.state.DataSets[0].dataX.length-1]\r\n    if (this.state.ActiveIndex > 0 && ActiveDataSets[0].data.length === 0){\r\n      var i = this.state.ActiveIndex\r\n      i = i-1;\r\n      this.setState({\r\n        ActiveIndex: i\r\n      })\r\n    } else {\r\n      this.setState({\r\n        ActiveLength: ActiveLength,\r\n        \r\n        Labels: Labels,\r\n        ActiveDataSets: ActiveDataSets,\r\n        ActiveStartDate: StartDate,\r\n        ActiveEndDate: EndDate,\r\n        ActiveIndex: ActiveIndex,\r\n      }, () => {\r\n        this.forceUpdate()\r\n      })\r\n    }\r\n  }\r\n\r\n  getData() {\r\n    const localDataStore = this.props.firebase.localDataStore;\r\n    const CurrentData = this.props.firebase.currentData;\r\n\r\n    /*if (CurrentData && CurrentData.batchId && localDataStore.batchs[CurrentData.batchId]){\r\n      const batchData = localDataStore.batchs[CurrentData.batchId]\r\n      \r\n      var PenMemTime = null\r\n      if (localDataStore.pens) PenMemTime = localDataStore.pens.update_time\r\n      var WeightsMemTime = null\r\n      if (localDataStore.weighings) WeightsMemTime = localDataStore.weighings.update_time\r\n      Object.keys(batchData.pens).filter(e => e !== '__jsogObjectId').forEach(Pen => {\r\n        this.props.getPen(Pen, PenMemTime)\r\n        this.props.getWeights(Pen, WeightsMemTime, localDataStore.sections)\r\n      })\r\n\r\n      var TempGraph = \"\"\r\n      if (CurrentData.curveId) {\r\n        TempGraph = CurrentData.curveId;\r\n        this.props.getCurve(TempGraph)\r\n      }\r\n    }*/\r\n  }\r\n\r\n  onChange = ({ window, screen }) => {\r\n    this.setState({\r\n      dimensions: {window, screen},\r\n    })\r\n  };\r\n\r\n  componentDidUpdate(prevProps, prevState) {\r\n    if (!this.props.Display && this.props !== prevProps) {\r\n      if (this.props.firebase.localDataStore) {\r\n        if (JSON.stringify(prevProps.firebase.localDataStore.weighings) !== JSON.stringify(this.props.firebase.localDataStore.weighings) ||\r\n            JSON.stringify(prevProps.firebase.localDataStore.pens) !== JSON.stringify(this.props.firebase.localDataStore.pens) ||\r\n            JSON.stringify(prevProps.firebase.localDataStore.graphs) !== JSON.stringify(this.props.firebase.localDataStore.graphs) || \r\n            prevProps.Predict !== this.props.Predict || \r\n            prevProps.weighings !== this.props.weighings) {\r\n          const {TempGraph, Legends, DataSets, StartDate, EndDate } = this.setData(this.props)\r\n          if (JSON.stringify(this.state.TempGraph)!==JSON.stringify(TempGraph) ||\r\n              JSON.stringify(this.state.Legends)!==JSON.stringify(Legends) ||\r\n              JSON.stringify(this.state.DataSets)!==JSON.stringify(DataSets) ||\r\n\r\n              JSON.stringify(this.state.StartDate)!==JSON.stringify(StartDate) ||\r\n              JSON.stringify(this.state.EndDate)!==JSON.stringify(EndDate)\r\n          ) {\r\n            this.setState({\r\n              TempGraph: TempGraph,\r\n              Legends: Legends,\r\n              DataSets: DataSets,\r\n        \r\n              StartDate: StartDate,\r\n              EndDate: EndDate,\r\n            }, () => {\r\n              this.setGraphPeriode(this.state.ActiveLength)\r\n            });\r\n          }\r\n        }\r\n      }\r\n    }\r\n    if (!this.props.Display && this.state !== prevState) {\r\n      if (this.state.ActiveLength != prevState.ActiveLength || this.state.ActiveIndex != prevState.ActiveIndex) {\r\n        this.setGraphPeriode(this.state.ActiveLength)\r\n      }\r\n    }\r\n  }\r\n\r\n  componentDidMount() {\r\n    this.getData();\r\n    if (!this.props.height) Dimensions.addEventListener(\"change\", this.onChange);\r\n    if (!this.props.Display) this.setGraphPeriode(this.state.ActiveLength)\r\n  }\r\n\r\n  componentWillUnmount(){\r\n    if (!this.props.height) Dimensions.removeEventListener(\"change\", this.onChange);\r\n  }\r\n\r\n  render() {\r\n    const localDataStore = this.props.firebase.localDataStore\r\n    var BatchIsOpen = false;\r\n    if (localDataStore.batchs && this.props.firebase.currentData && this.props.firebase.currentData.batchId) {\r\n      BatchIsOpen= ((localDataStore.batchs && localDataStore.batchs[this.props.firebase.currentData.batchId]) && (!localDataStore.batchs[this.props.firebase.currentData.batchId].state || localDataStore.batchs[this.props.firebase.currentData.batchId].state !== \"Closed\"))?true:false\r\n    }\r\n    var wide = this.state.dimensions.window.width>1000?true:false\r\n    if (this.props.Display) wide = false\r\n    var App = (Platform.OS === 'ios' || Platform.OS === 'android')||!wide\r\n\r\n    var height = this.state.dimensions.window.height //Full Screen\r\n    if (this.props.Height) {\r\n      height = this.props.Height;\r\n      //height = height - 100 // ?? beautify'er\r\n    } else {\r\n      height = 500 \r\n      /*if (Platform.OS !== 'ios' && Platform.OS !== 'android') height = height - 64 //Navigation title\r\n      height = height - 49 //TitleElement\r\n      height = height - 145 //Data Props\r\n      height = height - 71 //View Selector\r\n      if (BatchIsOpen) height = height - 74 //Editor\r\n\r\n      height = height - 100 // ?? beautify'er*/\r\n    }\r\n    //height = height - parseInt(10 + 15) //Margins \r\n\r\n    var width = this.state.dimensions.window.width * 2; //Full Screen\r\n    if (this.props.Width) {\r\n      width = this.props.Width;\r\n    } else {\r\n      width = width - (Metrics.normal * 4) // Margins\r\n      width = width / (wide?2.05:1) //If not WideScreen - Split diagram in 2\r\n    }\r\n    \r\n    var DataSets = this.props.Display?[{color: (opacity = 0.1) => `rgba(0, 0, 0, ${opacity})`,data:[],dataX:[]}]:this.state.ActiveDataSets\r\n    var Legends = this.props.Display?[]:this.state.Legends.slice(0, DataSets.length)\r\n    var StartDate = this.props.Display?1:this.state.ActiveStartDate\r\n    var EndDate = this.props.Display?this.props.DataPoints.length:this.state.ActiveEndDate\r\n    var Labels = [];\r\n    if (this.props.Display) {\r\n      this.props.DataPoints.forEach((point,index)=>{\r\n        DataSets[0].data.push(point.value)\r\n        DataSets[0].dataX.push(index+1)\r\n        Labels.push(index)\r\n      })\r\n    }else Labels = this.state.Labels\r\n\r\n    return(\r\n      <View style={[Helpers.fullWidth, Helpers.fill]}>\r\n        <View style={[Helpers.fullWidth, Helpers.fill]}>\r\n          <ScrollView horizontal={true} showsHorizontalScrollIndicator={wide||this.props.Display?false:true} style={[Helpers.fullSize, App&&!this.props.Display?{maxWidth:width/2, maxHeight:540}:{}]}>\r\n            {this.state.TempGraph||this.props.Display && (Labels && Labels.length > 0) && (DataSets && DataSets.length > 0)?(\r\n            <LineChart\r\n              //bezier\r\n              style={[{marginLeft: -15, minHeight: height, minWidth: width}]}\r\n              width={width}\r\n              height={height}\r\n\r\n              data={{\r\n                labels: Labels,\r\n                xMinMax: [StartDate, EndDate, Labels.length -1],\r\n                legend: Legends,\r\n                datasets: DataSets,\r\n              }}\r\n\r\n              onDataPointClick={(data) => {\r\n                this.setState({\r\n                  ViewPoint: data\r\n                })\r\n              }}\r\n\r\n              withShadow={false}\r\n              withVerticalLines={true}\r\n              fromZero={false}\r\n              segments={15} //Horizontal-Lines\r\n              \r\n              verticalLabelRotation={0} //Not Working in browser\r\n              xLabelsOffset={0}\r\n\r\n              chartConfig={{\r\n                backgroundColor: Colors.white,\r\n                backgroundGradientFrom: Colors.white,  //#FFFFFF\r\n                backgroundGradientTo: Colors.white,     \r\n                decimalPlaces: 1, // optional, defaults to 2dp\r\n                color: (opacity = 1) => `rgba(0, 0, 0, ${opacity})`,  //Lines / Grid\r\n                labelColor: (opacity = 1) => `rgba(0, 0, 0, ${opacity})`, //Lables\r\n                style: {\r\n                  borderRadius: 16,\r\n                  height: height,\r\n                },\r\n                propsForDots: {\r\n                  r: \"5\",\r\n                  strokeWidth: \"0.5\",\r\n                  stroke: Colors.white\r\n                }\r\n              }}\r\n            />):(<></>)}\r\n          </ScrollView>\r\n        </View>\r\n        {!this.props.Display?(\r\n          <View style={[Helpers.fullWidth, Helpers.mainCenter]}>\r\n            <View style={[Helpers.fill, Helpers.fullWidth, Helpers.rowCenter, ]}>\r\n              <View style={{paddingRight: 2.5}}>\r\n                <Icon name=\"md-arrow-back\" type='ionicon' size={25} color=\"black\" onPress={() => {\r\n                  if (this.state.ActiveIndex != 0){\r\n                    var i = this.state.ActiveIndex;\r\n                    i = i-1;\r\n                    this.setState({\r\n                      ActiveIndex: i\r\n                    })\r\n                  }\r\n                }}/>\r\n              </View>\r\n              <Button Text=\"Day view\" buttonStyle={{width:wide?100:80}}\r\n                onPress={() => {\r\n                  this.setState({\r\n                    ActiveIndex: -1,\r\n                    ActiveLength: \"Days\"\r\n                  })\r\n                } }/>\r\n              <Button Text=\"Week view\" buttonStyle={{width:wide?100:80, marginLeft:2.5}}\r\n                onPress={() => {\r\n                  this.setState({\r\n                    ActiveIndex: -1,\r\n                    ActiveLength: \"Weeks\"\r\n                  })\r\n                } }/>\r\n              <Button Text=\"Full Batch\" buttonStyle={{width:wide?100:80, marginLeft:2.5}}\r\n                onPress={() => {\r\n                  this.setState({\r\n                    ActiveIndex: 0,\r\n                    ActiveLength: \"Batch\"\r\n                  })\r\n                } }/>\r\n              <View style={{paddingLeft: 2.5}}>\r\n                <Icon name=\"md-arrow-forward\" type='ionicon' size={25} color=\"black\" onPress={() => {\r\n                  var i = this.state.ActiveIndex;\r\n                  i = i+1;\r\n                  this.setState({\r\n                    ActiveIndex: i\r\n                  })\r\n                }}/>\r\n              </View>\r\n            </View>\r\n            {BatchIsOpen&&!App?(\r\n              <View style={[Helpers.fullWidth, Helpers.rowCenter]}>\r\n                  <CurveEditor control={this} props={this.props} state={this.state} />\r\n              </View>\r\n            ):(<></>)}\r\n          </View>\r\n        ):(<></>)}\r\n      </View>\r\n    )\r\n  }\r\n}\r\n\r\nconst CurveEditor = (props) => {\r\n  if (Platform.OS === 'ios' || Platform.OS === 'android') {\r\n    if (props.state.ViewPoint){\r\n      var TimeText = props.state.Labels[props.state.ViewPoint.index]\r\n      if (props.state.ViewPoint.dataset.dataX) {\r\n        var Time = new Date(props.state.ViewPoint.dataset.dataX[props.state.ViewPoint.index])\r\n        TimeText = Time.getFullYear() + \".\" + (Time.getMonth() +1) + \".\" + Time.getDate()\r\n      }\r\n\r\n      var Data = props.state.ViewPoint.value\r\n      return (\r\n        <View style={[Helpers.buttonContainer, Helpers.fullWidth, Helpers.rowCenter, {maxHeight:100}] }>\r\n          <View style={[Helpers.colCenter, Helpers.borderContainer, {borderRadius:0}]}>\r\n            <Text>{TimeText}</Text>\r\n          </View>\r\n          <View style={[Helpers.colCenter, Helpers.borderContainer, {borderRadius:0}]}>\r\n            <Text>{Data} Kg.</Text>\r\n          </View>\r\n        </View>\r\n      )\r\n    }\r\n    else return(<></>)\r\n  } else {\r\n    const [Point, setPoint] = React.useState(0)\r\n    if (!props.state.TempGraph) {\r\n      return(<></>)\r\n    }\r\n    else {\r\n      return (\r\n        <View style={[Helpers.buttonContainer, Helpers.fullWidth, Helpers.rowCenter, {maxHeight:100,marginTop:10}] }>\r\n          <View style={{padding:6, paddingRight: 15}}>\r\n            <Icon name=\"md-arrow-back\" type='ionicon' size={25} color=\"black\" onPress={() => {\r\n              var index = Point;\r\n              index = index -1\r\n              if (index < 0) {\r\n                index = props.state.TempGraph.data.length -1\r\n              }\r\n              setPoint(index)\r\n            }}/>\r\n          </View>\r\n          <Input\r\n              type='number'\r\n              step=\"0.1\"\r\n\r\n              label={props.state.Labels[Point]}\r\n              containerStyle={[{width:\"auto\", borderWidth:1}]}\r\n              style={[ApplicationStyles.input, Helpers.borderContainer, {borderRadius:0}]}\r\n\r\n              onChange= {(evt) => {\r\n                var text = evt.target.value\r\n                if (!isNaN(text) || text.endsWith('.') && text.split('.').length <= 2) {\r\n                  var NewData = props.state.TempGraph.data;\r\n                  NewData[Point] = text\r\n                  \r\n                  props.control.setState({\r\n                    state: props.state,\r\n                    TempGraph: {...props.state.TempGraph, data: NewData}\r\n                  })\r\n                  props.control.setGraphPeriode(props.state.ActiveLength)\r\n                }\r\n              }}\r\n              /*onChangeText={text => {\r\n                if (!isNaN(text) || text.endsWith('.') && text.split('.').length <= 2) {\r\n                  var NewData = props.state.TempGraph.data;\r\n                  if (text === \"\" || text === null) text = 0\r\n                  if (text.endsWith('.')) text = text + \"0\"\r\n                  NewData[Point] = parseFloat(text)\r\n                  console.log(NewData[Point], text)\r\n                  props.control.setState({\r\n                    TempGraph: {...props.state.TempGraph, data: NewData}\r\n                  })\r\n\r\n                  props.control.forceUpdate()\r\n                }\r\n              }}*/\r\n              value={\r\n                props.state.TempGraph.data[Point]\r\n              }\r\n            />\r\n          <View style={{padding:6, paddingRight: 15}}>\r\n            <Icon name=\"md-arrow-forward\" type='ionicon' size={25} color=\"black\" onPress={() => {\r\n              var index = Point;\r\n              index = index +1\r\n              if (index > props.state.TempGraph.data.length -1){\r\n                index = 0\r\n              }\r\n              setPoint(index)\r\n            }}/>\r\n          </View>\r\n          <Input\r\n              label=\"Curve Name\"\r\n              containerStyle={[{width:\"auto\", borderWidth:1}]}\r\n              style={[ApplicationStyles.input, Helpers.borderContainer, {borderRadius:0}]}\r\n              \r\n              onChangeText={text => {\r\n                /*var name = text;\r\n                name = name.replace(' ', '_')\r\n                if (isNaN(name[0])){\r\n                  var NewLegends = props.state.Legends;\r\n                  NewLegends[0] = name\r\n                  props.control.setState({\r\n                    TempGraph: {...props.state.TempGraph, name: name},\r\n                    Legends: NewLegends\r\n                  })\r\n                }*/\r\n              }}\r\n              value={\r\n                props.state.TempGraph.name\r\n              }\r\n            />\r\n        </View>\r\n      )\r\n    }\r\n  }\r\n} \r\n\r\n/*\r\n<Button Text=\"Save\" buttonStyle={{width:100, marginLeft:20}}\r\n            onPress={() => {\r\n              props.props.setCurve(props.state.TempGraph)\r\n            } }/>\r\n*/\r\n\r\nconst mapStateToProps = (state) => {\r\n  const { firebase } = state\r\n  return { firebase }\r\n};\r\n\r\nconst mapDispatchToProps  = (dispatch) => {\r\n  return {\r\n    getPen: (penId, DataTime) => dispatch(FirebaseActions.actionStarting(Actions.FETCH, DataRefs.PENS, {PenId: penId, DataTime:DataTime})),\r\n    getWeights: (penId, DataTime, MemSections) => dispatch(FirebaseActions.actionStarting(Actions.FETCH, DataRefs.WEIGHING, {PenId: penId, DataTime: DataTime, MemSections: MemSections})),\r\n    getCurve: (curveid) => dispatch(FirebaseActions.actionStarting(Actions.FETCH, DataRefs.GRAPH, {GraphId: curveid})),\r\n    setCurve: (curve) => dispatch(FirebaseActions.actionStarting(Actions.CREATE, DataRefs.GRAPH, {Graph: curve}))\r\n  }\r\n};\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(CurveElement);\r\nexport {\r\n  WeightsToGraphData,\r\n}","import React, { useEffect, useState, Component } from 'react'\r\nimport { Platform, Text, View, ActivityIndicator, Image, StyleSheet, ScrollView, Dimensions, SafeAreaView, FlatList, Picker } from 'react-native'\r\nimport { Input, Icon } from 'react-native-elements'\r\nimport { useDispatch, useSelector, connect } from 'react-redux'\r\nimport { bindActionCreators } from 'redux';\r\n\r\nimport NavigationService from '../../../Services/NavigationService'\r\n\r\nimport FirebaseActions from '../../../Stores/Firebase/Actions'\r\nimport { Actions, DataRefs, DataStringCheck } from '../../../Stores/Firebase/Selectors'\r\n\r\nimport { Button, TitleElement, CustomListItem, ContentProp } from '../../../Components'\r\nimport Style from './UserPanelStyle'\r\nimport { ApplicationStyles, Helpers, Metrics, Images } from '../../../Theme'\r\nimport CurveElement from './CurveElement'\r\n\r\nclass GrowthCurve extends Component {\r\n  constructor(props){\r\n    super(props);\r\n\r\n    const {CurveList} = this.setData(props)\r\n    var D = new Date()\r\n    this.state = {\r\n      CurveList: CurveList,\r\n\r\n      Display: 0,\r\n\r\n      CurveName: \"\",\r\n      DataPoints: [],\r\n      Periode: \"Days\",\r\n\r\n      Selected: {dataindex:null, index:null, error:false}\r\n    }\r\n  }\r\n\r\n  setData(Props) {\r\n    const localDataStore = Props.firebase.localDataStore;\r\n\r\n    var CurveList = localDataStore.graphs\r\n    return { CurveList }\r\n  }\r\n\r\n  getData(){\r\n    this.props.getCurve()\r\n  }\r\n\r\n  checkData(props){\r\n  }\r\n\r\n  componentDidMount() {\r\n    this.props.setViewLoading(false)\r\n    this.props.setViewError(null)\r\n    this.checkData(this.props);\r\n    this.getData();\r\n  }\r\n\r\n  componentDidUpdate(prevProps, prevState) {\r\n    if (this.props !== prevProps) {\r\n      this.checkData(this.props);\r\n\r\n      if (this.props.firebase.localDataStore) {\r\n        if (this.props.firebase.localDataStore.graphs && JSON.stringify(this.state.CurveList)!==JSON.stringify(this.props.firebase.localDataStore.graphs)) {\r\n          const {CurveList} = this.setData(this.props)\r\n          this.setState({\r\n            CurveList: CurveList,\r\n          })\r\n        }\r\n      }\r\n    }\r\n  }\r\n\r\n  render() {\r\n    const IsLoading = this.props.firebase.firebaseIsLoading\r\n    const ErrorMessage = this.props.firebase.viewError\r\n\r\n    var AverageGrowth = 0\r\n    for(var i = 0; i < this.state.DataPoints.length; i++) {\r\n      if (!this.state.DataPoints[i] || !this.state.DataPoints[i].hasOwnProperty(\"value\")) continue;\r\n      var value = this.state.DataPoints[i].value\r\n      if (value === \"\" || value === null) value = 0\r\n      value = parseFloat(value)\r\n\r\n      for(var i2 = i-1; i2 >= 0; i2--) {\r\n        if (this.state.DataPoints[i2] && this.state.DataPoints[i2].hasOwnProperty(\"value\")){\r\n          var Growth = value - this.state.DataPoints[i2].value\r\n          AverageGrowth = (AverageGrowth + Growth) / 2\r\n          break;\r\n        }\r\n      }\r\n    }\r\n    AverageGrowth = AverageGrowth.toFixed(3)\r\n\r\n    var App = Platform.OS === \"android\" || Platform.OS === \"ios\" ? true: false\r\n    return(\r\n      <ScrollView style={[Helpers.fullSize, Helpers.fill]} nestedScrollEnabled={true}>\r\n        <View\r\n          style={[\r\n            Helpers.mainContainer,\r\n          ]}\r\n        >\r\n        <View style={[Helpers.contentContainer, Helpers.fullSize, Helpers.fillColMain]}>\r\n          {ErrorMessage ? (\r\n            <Text style={ApplicationStyles.error}>{ErrorMessage}</Text>\r\n          ):(<></>)}\r\n          {this.state.Display === 0?(\r\n            <View style={[Helpers.contentContainer, Helpers.fullSize, {marginHorizontal:0, paddingHorizontal:-20}]}>\r\n            {this.state.CurveList ? (\r\n              <View style={[Helpers.fill, Helpers.fullWidth, Metrics.smallHorizontalPadding, Metrics.smallVerticalPadding, {maxWidth:800, marginTop:10}]}>\r\n                <FlatList nestedScrollEnabled={true}\r\n                  data={Object.keys(this.state.CurveList).filter(e => e !== '__jsogObjectId' && e !== 'update_time')}\r\n                  renderItem={({item})=>{\r\n                    return(\r\n                      <Button Text={item} onPress={() => {\r\n                        var CurveData = this.state.CurveList[item]\r\n\r\n                        var DataPoints = []\r\n                        if (!CurveData || !CurveData.hasOwnProperty(\"data\")){\r\n                          this.props.viewError(\"DataFetch error, please try to refresh\")\r\n                        }else {\r\n                          var _index = 0;\r\n                          Object.keys(CurveData.data).filter(e => e !== '__jsogObjectId').map((index) => {\r\n                            DataPoints[index] = { value: CurveData.data[index]}\r\n                            for(var i = index-1; i > _index;i--){\r\n                              DataPoints[i] = { value:null}\r\n                            }\r\n                            _index = index\r\n                          })\r\n                        }\r\n                        this.setState({\r\n                          Display: 2,\r\n                          CurveName: item,\r\n                          DataPoints: DataPoints,\r\n                          Periode: CurveData.periode\r\n                        })\r\n                      }}/>\r\n                    )\r\n                  }}\r\n                  keyExtractor={(item, index) => index.toString()}\r\n                />\r\n              </View>\r\n            ):(<></>)}\r\n            <View style={[Helpers.buttonContainer, Helpers.borderContainer, Helpers.midWidth]}>\r\n              <Button Text={\"New Curve\"} onPress={() => {\r\n                this.setState({\r\n                  Display: 1,\r\n                  DataPoints: [{value:\"0\"},{value:\"0\"}]\r\n                })\r\n              }}/>\r\n            </View>\r\n          </View>\r\n          ):(\r\n            //#region Edit or create\r\n            <View style={[Helpers.contentContainer, Helpers.fullSize, {marginHorizontal:0, paddingHorizontal:-20}]}>\r\n              {this.state.Display === 1?( // Create\r\n                <Input label={\"CurveName\"}\r\n                  containerStyle={[{borderWidth:1, marginTop:10}]}\r\n                  style={[ApplicationStyles.input, ]}\r\n                  onChangeText={text => {\r\n                    if (text){\r\n                      if (DataStringCheck(text)){\r\n                        this.setState({CurveName: text})\r\n                      }\r\n                    }else {\r\n                      this.setState({CurveName: text})\r\n                    }\r\n                  }}\r\n                  value={\r\n                    this.state.CurveName\r\n                  }\r\n                />\r\n              ):( //Edit\r\n                <TitleElement Text={this.state.CurveName}/>\r\n              )}\r\n              <View style={[Helpers.fill, Helpers.fullWidth]}>\r\n                <ContentProp texts={[\"Periode: \" + this.state.Periode]} datas={[\"Average Growth: \" + AverageGrowth]} />\r\n                <View style={[Helpers.borderContainer, Helpers.fillCenter, Helpers.fullWidth, {alignSelf:'center'}]}>\r\n                  <CurveElement Display={true} DataPoints={this.state.DataPoints} Height={200} Width={455}/>\r\n                </View>\r\n                <View>\r\n                  <FlatList nestedScrollEnabled={true}\r\n                    data={this.state.DataPoints}\r\n                    style={[App?styles.AppStyle:styles.WebStyle]}\r\n                    renderItem={({item, index}) => {\r\n                      if (!item || item.value === null || item.value === undefined) return null;\r\n                      var Selected = index===this.state.Selected.dataindex\r\n                      return(\r\n                        <View style={[Helpers.fullWidth, Helpers.row]} \r\n                          onFocus={() => {\r\n                            this.setState({\r\n                              Selected: {dataindex:index, index:index, error:false}\r\n                            })\r\n                          }}\r\n                          onBlur={() => {\r\n                            this.setState({\r\n                              Selected: {dataindex:null, index:null, error:false}\r\n                            })\r\n                          }}\r\n                        >\r\n                          <Input label={\"Day:\"}\r\n                            type='number'\r\n                            step=\"0.1\"\r\n\r\n                            containerStyle={[{width:120, borderWidth:1, marginTop:10, marginRight:10}]}\r\n                            style={[ApplicationStyles.input, {width:100}]}\r\n                            \r\n                            errorMessage={Selected&&this.state.Selected.error?\"Value error\":\"\"}\r\n                            editable={index===0?false:true}\r\n                            onChangeText={text => {\r\n                              if (!isNaN(text)) {\r\n                                var _Selected = this.state.Selected\r\n                                _Selected.index = text\r\n                                _Selected.error = false\r\n                                if (this.state.DataPoints[text] && this.state.DataPoints[text].hasOwnProperty(\"value\") && this.state.DataPoints[text].value) {\r\n                                  _Selected.error = true\r\n                                }\r\n                                this.setState({\r\n                                  Selected: _Selected\r\n                                });\r\n                              }\r\n                            }}\r\n\r\n                            onBlur={() => {\r\n                              if (!this.state.Selected.error && this.state.Selected.dataindex !== this.state.Selected.index) {\r\n                                var DataPoints = [ ...this.state.DataPoints ];\r\n                                DataPoints[this.state.Selected.index] = {value: item.value.toString()};\r\n                                DataPoints[this.state.Selected.dataindex].value = null\r\n\r\n                                var FirstData = false\r\n                                for(var i = DataPoints.length-1; i>1;i--) {\r\n                                  if (!DataPoints[i] || !DataPoints[i].hasOwnProperty(\"value\") || !DataPoints[i].value) {\r\n                                    if (FirstData) {\r\n                                      DataPoints[i] = {value: null}\r\n                                    }\r\n                                    else DataPoints.pop()\r\n                                  } else {\r\n                                    FirstData = true;\r\n                                  }\r\n                                }\r\n                                this.setState({DataPoints});\r\n                              }\r\n                            }}\r\n\r\n                            value={\r\n                              \"\" + (Selected?this.state.Selected.index:index)\r\n                            }\r\n                          />\r\n                          <Input label={\"Weight:\"}\r\n                            type='number'\r\n                            step=\"0.1\"\r\n\r\n                            containerStyle={[Helpers.fill,{borderWidth:1, marginTop:10}]}\r\n                            style={[ApplicationStyles.input]}\r\n                            \r\n                            onChangeText={text => {\r\n                              if (!isNaN(text) || text.endsWith('.') && text.split('.').length <= 2) {\r\n                                var DataPoints = [ ...this.state.DataPoints ];\r\n                                DataPoints[index].value = text;\r\n                                this.setState({DataPoints});\r\n                              }\r\n                            }}\r\n\r\n                            onBlur={(e:any) => {\r\n                              var text = e.nativeEvent.text\r\n                              if (text === undefined || text === null || text === \"\") {\r\n\r\n                                var DataPoints = [ ...this.state.DataPoints ];\r\n                                DataPoints[index].value = \"0\";\r\n                                this.setState({DataPoints});\r\n                              }\r\n                            }}\r\n\r\n                            value={\r\n                              \"\" + item.value\r\n                            }\r\n                          />\r\n                        </View>\r\n                      )\r\n                    }}\r\n                    keyExtractor={(item, index) => index.toString()}\r\n                    //Setting the number of column\r\n                    numColumns={1}\r\n                  />\r\n                </View>\r\n                <View style={{height:20}} />\r\n                <Button Text={\"New Point\"} onPress={() => {\r\n                  var DataPoints = [ ...this.state.DataPoints ];\r\n                  var value = this.state.DataPoints&&this.state.DataPoints.length >= 1?this.state.DataPoints[this.state.DataPoints.length-1].value:\"0\"\r\n                  DataPoints.push({value:value})\r\n                  this.setState({\r\n                    DataPoints\r\n                  })\r\n                }}/>\r\n              </View>\r\n\r\n              <View style={[Helpers.buttonContainer, Helpers.borderContainer, Helpers.midWidth, {marginTop:10}]}>\r\n                <Button Text={\"Save\"} onPress={() => {\r\n                  var update = true;\r\n\r\n                  if (this.state.CurveName !== \"\"){\r\n                    var Name = this.state.CurveName;\r\n                    if (!Object.keys(this.state.CurveList).includes(Name)) {\r\n                      if (this.state.Display === 2) { // update on non existing\r\n                        this.props.setViewError(\"Cannot update non-existing Curve. (Please refresh)\")\r\n                        update = false \r\n                      }\r\n                    } \r\n                    else {\r\n                      if (this.state.Display === 1) { // create on allready existing\r\n                        this.props.setViewError(\"Cannot create allready existing Curve.\")\r\n                        update = false \r\n                      }\r\n                    }\r\n                  }else {\r\n                    this.props.setViewError(\"Curve template need a name.\")\r\n                    update = false\r\n                  }\r\n\r\n                  var lastDataIndex = 0\r\n                  this.state.DataPoints.forEach((element,index) => {\r\n                    if (update && element.value !== null && element.value !== undefined){\r\n                      if (index > 0 && parseInt(element.value) <= parseInt(this.state.DataPoints[lastDataIndex].value)) {\r\n                        var Eindex = lastDataIndex\r\n                        if (element.value === this.state.DataPoints[lastDataIndex].value) Eindex = index\r\n                        this.props.setViewError(\"Curve template needs to be incremental: error at day: \" + Eindex)\r\n                        update = false;\r\n                      } else {\r\n                        lastDataIndex = index\r\n                      }\r\n                    }\r\n                  })\r\n\r\n                  if (update) {\r\n                    this.props.setViewError(null)\r\n                    this.props.setViewLoading(true)\r\n                    var newCurve = {name:this.state.CurveName, periode:this.state.Periode}\r\n                    var Data = []\r\n                    var index = 0;\r\n                    this.state.DataPoints.forEach(element => {\r\n                      if (element.value) Data[index] = parseFloat(element.value)\r\n                      index++;\r\n                    });\r\n                    newCurve.data = Data;\r\n                    this.props.updateCurve(newCurve)\r\n                    \r\n                    this.setState({\r\n                      Display: 0\r\n                    })\r\n                  }\r\n                }}/>\r\n              </View>\r\n            </View>\r\n            //#endregion\r\n          )}\r\n        </View>\r\n        {(IsLoading || this.props.firebase.viewIsLoading) &&\r\n          <ActivityIndicator style={Helpers.loadingContainer} size='large' />\r\n        }\r\n      </View>\r\n      </ScrollView>\r\n    )\r\n  }\r\n}\r\n\r\nconst styles = StyleSheet.create({\r\n  AppStyle: {\r\n    \r\n  },\r\n  WebStyle: {\r\n    height:400\r\n  },\r\n});\r\n\r\nconst mapStateToProps = (state) => {\r\n  const { firebase } = state\r\n  return { firebase }\r\n};\r\n\r\nconst mapDispatchToProps  = (dispatch) => {\r\n  return {\r\n    setViewLoading: state => dispatch(FirebaseActions.viewIsLoading(state)),\r\n    setViewError: error => dispatch(FirebaseActions.setViewError(error)),\r\n\r\n    getCurve: () => dispatch(FirebaseActions.actionStarting(Actions.FETCH, DataRefs.GRAPH, {GraphId: \"\"})),\r\n    updateCurve: (curve) => dispatch(FirebaseActions.actionStarting(Actions.UPDATE, DataRefs.GRAPH, {Graph: curve})),\r\n  }\r\n};\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(GrowthCurve);\r\n//export default GrowthCurve;\r\n","import * as React from 'react'\r\nimport { useEffect, Component } from 'react'\r\nimport { Text, View, ActivityIndicator, Image, StyleSheet, ScrollView, FlatList, SafeAreaView } from 'react-native'\r\nimport { Input, Icon } from 'react-native-elements'\r\nimport { useDispatch, useSelector, connect } from 'react-redux'\r\nimport { bindActionCreators } from 'redux';\r\n\r\nimport NavigationService from '../../../Services/NavigationService'\r\n\r\nimport FirebaseActions from '../../../Stores/Firebase/Actions'\r\nimport { Actions, DataRefs, ConsysRefs, GetCurve_FromBatch, CurvePredict, GetBatchEnd, AccumulateTime, format_Time, GetStats_FromBatch, GetStats_FromPen } from '../../../Stores/Firebase/Selectors'\r\n\r\nimport { Button, TitleElement } from '../../../Components'\r\nimport Style from './UserPanelStyle'\r\nimport { ApplicationStyles, Helpers, Metrics, Colors } from '../../../Theme'\r\n\r\nimport { VictoryBar, VictoryLine, VictoryScatter, VictoryChart, VictoryTheme, VictoryVoronoiContainer, VictoryZoomContainer, createContainer, VictoryTooltip, VictoryAxis, VictoryLegend } from \"victory-native\";\r\nconst VictoryZoomVoronoiContainer = createContainer(\"zoom\", \"voronoi\");\r\n\r\nfunction getRandomNumber(low, high) {\r\n  var r = Math.floor(Math.random() * (high - low + 1)) + low;\r\n  return r;\r\n}\r\n\r\nfunction getRandomColor() {\r\n  var red_range = [10, 250];\r\n  var green_range = [10, 250];\r\n  var blue_range = [10, 250];\r\n  var a_range = [0.2, 1];\r\n\r\n  var red = getRandomNumber(red_range[0], red_range[1]);\r\n  var green = getRandomNumber(green_range[0], green_range[1]);\r\n  var blue = getRandomNumber(blue_range[0], blue_range[1]);\r\n\r\n  var alpha = getRandomNumber(a_range[0] * 100, a_range[1] * 100) / 100;\r\n\r\n  return {\r\n    r: red,\r\n    g: green,\r\n    b: blue,\r\n    a: alpha,\r\n    rgbaValue: 'rgba(' + red + ',' + green + ',' + blue + ',' + alpha + ')'\r\n  }\r\n}\r\n\r\nclass AutoPig extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    var { FarmData, ValveData, ScaleData, categories, series, Domain } = this.setData(props)\r\n    this.state = {\r\n      FarmData: FarmData,\r\n      ValveData: ValveData,\r\n      ScaleData: ScaleData,\r\n\r\n      Limit: 300,\r\n      SysId: 2,\r\n      STime: undefined,\r\n      ETime: undefined,\r\n      LastId: undefined,\r\n\r\n      categories: categories,\r\n      series: series,\r\n\r\n      entireDomain: Domain,\r\n      zoomedDomain: Domain\r\n    }\r\n  }\r\n\r\n  setData(Props) {\r\n    const localDataStore = Props.firebase.localDataStore;\r\n    const FirebaseUser = this.props.firebase.firebaseUser;\r\n    var Site = null, refToken = null, accessToken = null;\r\n    var FarmData = null, ValveData = {}, ScaleData = {};\r\n    var categories = [], series = [];\r\n\r\n    if (FirebaseUser && FirebaseUser.farms && localDataStore && localDataStore.farms) {\r\n      const FarmsData = localDataStore.farms\r\n      if (FarmsData && FarmsData[Object.keys(FirebaseUser.farms)[0]]) {\r\n        FarmData = FarmsData[Object.keys(FirebaseUser.farms)[0]]\r\n        /*if (FarmData.site && FarmData.refToken) {\r\n          Site = FarmData.site\r\n          refToken = FarmData.refToken\r\n          if (FarmData.token) accessToken = FarmData.token\r\n        }*/\r\n      }\r\n    }\r\n    if (localDataStore && localDataStore.consys) {\r\n      if (localDataStore.consys.feedData) {\r\n        ValveData = localDataStore.consys.feedData\r\n\r\n        var DataSet = []\r\n        Object.keys(ValveData).filter(e => (e !== '__jsogObjectId')).forEach(element => {\r\n          var data = ValveData[element]\r\n\r\n          var _DataSet = DataSet.find(x => x.name === data.valve)\r\n          if (_DataSet) {\r\n\r\n            _DataSet.data.push({x:(data.timestamp*1000), y: data.amount , silono:data.silono, unit:data.unit})\r\n          } else {\r\n            //series.push({name:data.valve, type:\"column\", data:[{x:data.timestamp, y:data.amount}]})\r\n            DataSet.push({\r\n              name:data.valve,\r\n              data: [{x:(data.timestamp*1000), y:data.amount, silono:data.silono, unit:data.unit}]\r\n            })\r\n          }\r\n        });\r\n        DataSet.forEach(element => {\r\n          var color = getRandomColor().rgbaValue\r\n          series.push(\r\n            {\r\n              type: \"Bar\",\r\n              name: element.name,\r\n              color: color,\r\n              data: element.data\r\n            }\r\n          )\r\n          categories.push({name: element.name, symbol: { fill: color}})\r\n        });\r\n      }\r\n      if (localDataStore.consys.scaleData){\r\n        ScaleData = localDataStore.consys.scaleData\r\n\r\n        var DataSet2 = []\r\n        Object.keys(ScaleData).filter(e => (e !== '__jsogObjectId')).forEach(element => {\r\n          var data = ScaleData[element]\r\n          DataSet2.push({x: (data.timestamp*1000), y:data.amount})\r\n        });\r\n        if (DataSet2.length > 0) {\r\n          //series.push({name:'AutoScale', type:\"line\", data:DataSet2})\r\n          //var color = getRandomColor().rgbaValue\r\n          series.push(\r\n            {\r\n              type: 'Line',\r\n              name: 'AutoScale',\r\n              color: getRandomColor().rgbaValue,\r\n              data: DataSet2\r\n            }\r\n          )\r\n        }\r\n      }\r\n    }\r\n    //console.log(series)\r\n    var Domain = this.getEntireDomain(series)\r\n    return { FarmData, ValveData, ScaleData, categories, series, Domain }\r\n  }\r\n\r\n  getData() {\r\n    const localDataStore = this.props.firebase.localDataStore;\r\n    const FirebaseUser = this.props.firebase.firebaseUser;\r\n\r\n    this.props.getFarm()\r\n\r\n    /*if (FirebaseUser && FirebaseUser.farms && localDataStore && localDataStore.farms) { \r\n      const FarmsData = localDataStore.farms\r\n      if (FarmsData && FarmsData[Object.keys(FirebaseUser.farms)[0]]) {\r\n        const FarmData = FarmsData[Object.keys(FirebaseUser.farms)[0]]\r\n        if (FarmData.site && FarmData.refToken) {\r\n          this.props.getAutoPig()\r\n        }\r\n      }\r\n    }*/\r\n  }\r\n\r\n  checkData(props) {\r\n    const localDataStore = this.props.firebase.localDataStore;\r\n    const FirebaseUser = this.props.firebase.firebaseUser;\r\n\r\n    //THIS check is used many times and in future wil be unnessasary as this page is not shown unless all is true\r\n    //Can provoke loopback pages..\r\n    if (FirebaseUser && FirebaseUser.farms && localDataStore && localDataStore.farms) { \r\n      const FarmsData = localDataStore.farms\r\n      if (FarmsData && FarmsData[Object.keys(FirebaseUser.farms)[0]]) {\r\n        const FarmData = FarmsData[Object.keys(FirebaseUser.farms)[0]]\r\n        if (!FarmData.site || !FarmData.refToken) {\r\n          NavigationService.nacigationPop()\r\n        }\r\n      }\r\n    }\r\n  }\r\n\r\n  componentDidUpdate(prevProps, prevState) {\r\n    if (this.props !== prevProps) {\r\n      this.checkData(this.props);\r\n      if (this.props.firebase.localDataStore && prevProps.firebase.localDataStore) {\r\n        const localDataStore = this.props.firebase.localDataStore;\r\n        const firebaseUser = this.props.firebase.firebaseUser\r\n        \r\n        if (localDataStore.farms && firebaseUser.farms && localDataStore.farms[Object.keys(firebaseUser.farms)[0]]) {\r\n          var Farm = localDataStore.farms[Object.keys(firebaseUser.farms)[0]]\r\n          if ((this.state.FarmData.site !== Farm.site || this.state.FarmData.refToken !== Farm.refToken || this.state.FarmData.token !== Farm.token) ||\r\n              (localDataStore.consys && localDataStore.consys.scaleData && JSON.stringify(this.state.ScaleData) !== JSON.stringify(localDataStore.consys.scaleData)) ||\r\n              (localDataStore.consys && localDataStore.consys.feedData && JSON.stringify(this.state.ValveData) !== JSON.stringify(localDataStore.consys.feedData))) {\r\n           \r\n            var { FarmData, ValveData, ScaleData, categories, series, Domain } = this.setData(this.props)\r\n            console.log(ValveData, ScaleData)\r\n            this.setState({\r\n              FarmData: FarmData,\r\n              ValveData: ValveData,\r\n              ScaleData: ScaleData,\r\n\r\n              categories:categories,\r\n              series:series,\r\n              \r\n              entireDomain: Domain,\r\n              zoomedDomain: Domain\r\n            })\r\n          }\r\n        }\r\n      }\r\n    }\r\n  }\r\n\r\n  componentDidMount() {\r\n    this.props.setViewLoading(false)\r\n    this.props.setViewError(null)\r\n    this.checkData(this.props);\r\n    this.getData();\r\n  }\r\n\r\n  getEntireDomain(series) {\r\n    var MinMax = {y:[0,0], x: [0,0]}\r\n    series.forEach(element => {\r\n      var data = element.data\r\n      var min = _.minBy(data, d => d.y).y\r\n      var max = _.maxBy(data, d => d.y).y\r\n      if (min < MinMax.y[0]) MinMax.y[0] = min\r\n      if (max > MinMax.y[1]) MinMax.y[1] = max\r\n      min = _.minBy(data, d => d.x).x\r\n      max = _.maxBy(data, d => d.x).x\r\n      if (min < MinMax.x[0] || MinMax.x[0] === 0) MinMax.x[0] = min\r\n      if (max > MinMax.x[1]) MinMax.x[1] = max\r\n    })\r\n    return MinMax\r\n  }\r\n\r\n  getZoomDomain(){\r\n    const zoomedXDomain = this.state.zoomedDomain.x;\r\n    const Serie = this.state.series;\r\n    const maxPoints = 150;\r\n\r\n    const filteredSeries = [];\r\n    Serie.forEach(element => {\r\n      var filtered = []\r\n      if (element.type === \"Line\") {\r\n        var last = null;\r\n        element.data.forEach(data => {\r\n          if (data.x >= zoomedXDomain[0]) {\r\n            if (data.x <= zoomedXDomain[1]) {\r\n              if (filtered.length === 0 && last !== null) filtered.push(last)\r\n              filtered.push(data)\r\n            } else if (last.x <= zoomedXDomain[1]) filtered.push(data)\r\n          }\r\n          last = data\r\n        })\r\n      } else {\r\n        filtered = element.data.filter(\r\n          (d) => (d.x >= zoomedXDomain[0] && d.x <= zoomedXDomain[1])\r\n        );\r\n      }\r\n      /*if (filtered.length > maxPoints ) {\r\n        const k = Math.ceil(filtered.length / maxPoints);\r\n        return filtered.filter(\r\n          (d, i) => ((i % k) === 0)\r\n        );\r\n      }*/\r\n      if (filtered.length > 0) filteredSeries.push({...element, data: filtered})\r\n    });\r\n    return filteredSeries;\r\n  }\r\n\r\n  onDomainChange(domain) {\r\n  \tthis.setState({\r\n    \tzoomedDomain: domain,\r\n    });\r\n  }\r\n\r\n  render() {\r\n    const IsLoading = this.props.firebase.firebaseIsLoading\r\n    const ErrorMessage = this.props.firebase.viewError\r\n\r\n    const localDataStore = this.props.firebase.localDataStore\r\n\r\n    var Token = (this.state.FarmData.token)?this.state.FarmData.token:null\r\n    var test = \"\"\r\n\r\n    const renderData = this.getZoomDomain();\r\n    const Legends = [this.state.zoomedDomain.x[0]]\r\n    while(Legends[Legends.length-1] < this.state.zoomedDomain.x[1]){\r\n      Legends.push(Legends[Legends.length-1] + 3600000)\r\n    }\r\n\r\n    return(\r\n      <ScrollView style={[Helpers.fullSize, Helpers.fill]}>\r\n        <View\r\n          style={[\r\n            Helpers.mainContainer,\r\n          ]}\r\n        >\r\n          <View style={[Helpers.contentContainer, Helpers.fullSize, Helpers.fill]}>\r\n            {ErrorMessage ? (\r\n              <Text style={ApplicationStyles.error}>{ErrorMessage}</Text>\r\n            ):(<></>)}\r\n            <TitleElement Text={\"AutoPigs\"}/>\r\n            <View>\r\n              <View style={[Helpers.rowCenter]}>\r\n                <Input label=\"SysId\"\r\n                  containerStyle={[{maxWidth:100}]}\r\n                  style={[ApplicationStyles.input,{maxWidth:90}]}\r\n                  onChangeText={text => {\r\n                    if (!isNaN(text)) {\r\n                      this.setState({\r\n                        SysId:text\r\n                      })\r\n                    }\r\n                  }}\r\n                  value={this.state.SysId}\r\n                />\r\n                <Input label=\"Data Limit\"\r\n                  containerStyle={[{maxWidth:150}]}\r\n                  style={[ApplicationStyles.input,{maxWidth:140}]}\r\n                  onChangeText={text => {\r\n                    if (!isNaN(text) || text === \"\") {\r\n                      if (text === \"\") text = undefined\r\n                      this.setState({\r\n                        Limit:text\r\n                      })\r\n                    }\r\n                  }}\r\n                  value={this.state.Limit}\r\n                />\r\n                <Input label=\"LastId (Ids newer than)\"\r\n                  containerStyle={[{maxWidth:200}]}\r\n                  style={[ApplicationStyles.input,{maxWidth:190}]}\r\n                  onChangeText={text => {\r\n                    if (text === \"\") text = undefined\r\n                    if (text) {\r\n                      //if (DataStringCheck(text)){\r\n                        this.setState({LastId:text})\r\n                      //}\r\n                    }else {\r\n                      this.setState({LastId:text})\r\n                    }\r\n                  }}\r\n                  value={this.state.LastId}\r\n                />\r\n              </View>\r\n              <View style={[Helpers.rowCenter]}>\r\n                <Input label=\"Start Time : Epoch-sec (newest)\"\r\n                  containerStyle={[Helpers.halvWidth]}\r\n                  style={[ApplicationStyles.input]}\r\n                  onChangeText={text => {\r\n                    if (text === \"\") {\r\n                      this.setState({\r\n                        STime:undefined\r\n                      })\r\n                    }\r\n                    else if (!isNaN(text)) {\r\n                      this.setState({\r\n                        STime:text\r\n                      })\r\n                    }\r\n                  }}\r\n                  value={this.state.STime}\r\n                />\r\n                <Input label=\"End Time : Epoch-sec (oldest)\"\r\n                  containerStyle={[Helpers.halvWidth]}\r\n                  style={[ApplicationStyles.input]}\r\n                  onChangeText={text => {\r\n                    if (text === \"\") {\r\n                      this.setState({\r\n                        ETime:undefined\r\n                      })\r\n                    }\r\n                    else if (!isNaN(text)) {\r\n                      this.setState({\r\n                        ETime:text\r\n                      })\r\n                    }\r\n                  }}\r\n                  value={this.state.ETime}\r\n                />\r\n              </View>\r\n              <View style={[Helpers.rowCenter]}>\r\n                <Button Text=\"Fetch Scale_Data\"\r\n                  onPress={() => {\r\n                    this.props.getAutoPig(this.state.Limit, this.state.SysId, this.state.STime, this.state.ETime, null, this.state.LastId)\r\n                  }}/>\r\n                <View style={{width:20}}/>\r\n                <Button Text=\"Fetch Valve_Data\"\r\n                  onPress={() => {\r\n                    this.props.getValveFeed(this.state.Limit, this.state.SysId, this.state.STime, this.state.ETime, null, this.state.LastId)\r\n                  }}/>\r\n              </View>\r\n            </View>\r\n            <SafeAreaView style={[Helpers.borderContainer, Helpers.fullSize, {maxWidth:900, maxHeight: 600 + (this.state.categories.length?22*(this.state.categories.length%15):0)}]}>\r\n              <VictoryChart\r\n                scale={{ x: \"time\" }}\r\n                containerComponent={\r\n                  <VictoryZoomVoronoiContainer voronoiDimension=\"x\"\r\n                    zoomDimension=\"x\"\r\n                    mouseFollowTooltips\r\n                    onZoomDomainChange={this.onDomainChange.bind(this)}\r\n                    labels={({ datum }) => {\r\n                      if (datum.childName === \"none\") return;\r\n                      var DateTime = new Date(datum.x)\r\n                      var format = DateTime.getDate() + \"/\" + DateTime.getMonth() + \"/\" + DateTime.getFullYear() + \" \" + + (\"0\" + DateTime.getHours()).slice(-2) + \":\" + (\"0\" + DateTime.getMinutes()).slice(-2)\r\n                      if (datum.silono || datum.unit){\r\n                        var add = \"\\n\"\r\n                        if (datum.silono) add += 'Silo: ' + datum.silono + ' '\r\n                        if (datum.unit) add += 'Unit: ' + datum.unit\r\n                        return datum.childName + ' y: ' + datum.y + add + \"\\n\" + format\r\n                      }\r\n                      else return datum.childName + ' y: ' + datum.y + \"\\n\" + format\r\n                    }}\r\n                    labelComponent={<VictoryTooltip cornerRadius={0} flyoutStyle={{fill: \"white\"}}/>}\r\n                  />\r\n                }\r\n                width={900}\r\n                height={600}\r\n                domain={this.state.entireDomain}\r\n                theme={VictoryTheme.material}\r\n              >\r\n                <VictoryAxis crossAxis={false}\r\n                  scale={{ x: \"time\" }}\r\n                  tickCount={8}\r\n                  minDomain={{ x: 1 , y: 0}}\r\n                  tickFormat={(t) => {\r\n                    var DateTime = new Date(t)\r\n                    var format = DateTime.getDate() + \"/\" + DateTime.getMonth() + \"/\" + DateTime.getFullYear() + \" \" + (\"0\" + DateTime.getHours()).slice(-2) + \":\" + (\"0\" + DateTime.getMinutes()).slice(-2)\r\n                    if (test === format) return;\r\n                    else test = format\r\n                    return format\r\n                  }}\r\n                  theme={VictoryTheme.material}\r\n                  standalone={false}\r\n                  fixLabelOverlap\r\n                  tickValues={Legends}\r\n                  style={{\r\n                    grid: { stroke: \"#818e99\", strokeWidth: 0.5 },\r\n                  }}\r\n                />\r\n                <VictoryAxis dependentAxis crossAxis={false}\r\n                  tickCount={20}\r\n                  minDomain={{ x: 0 , y: 0}}\r\n                  tickFormat={(t) => {\r\n                    return Math.round(t * 10) / 10\r\n                  }}\r\n                  theme={VictoryTheme.material}\r\n                  standalone={false}\r\n                  style={{\r\n                    grid: { stroke: \"#818e99\", strokeWidth: 0.5 },\r\n                  }}\r\n                />\r\n                {renderData.map((Data, i) => {\r\n                  if (Data.type === \"Bar\" && !Data.deactivate){\r\n                    return (<VictoryBar key={\"Bar_\" + Data.name}\r\n                      barWidth={ 6 }\r\n                      data={ Data.data }\r\n                      style={{data: { fill: Data.color},}}\r\n                      name={ 'valve: ' + Data.name }\r\n                    />);\r\n                  } else if (Data.type === \"Line\"&& !Data.deactivate){\r\n                    return (<VictoryLine key={\"Line_\" + Data.name}\r\n                      data={ Data.data }\r\n                      style={{\r\n                        data: { stroke: Data.color, strokeWidth: ({ active }) => active ? 2 : 1},\r\n                      }}\r\n                      name={ Data.name }\r\n                    />);\r\n                  }\r\n                })}\r\n              </VictoryChart>\r\n              {this.state.categories.length > 0?(\r\n                <VictoryLegend\r\n                  width={880}\r\n                  height={22*(this.state.categories.length%15)}\r\n                  orientation=\"horizontal\"\r\n                  itemsPerRow={14}\r\n                  gutter={20}\r\n                  style={{ border: { stroke: \"black\" } }}\r\n                  data={this.state.categories}\r\n                  events={[{\r\n                    target: \"data\",\r\n                    eventHandlers: {\r\n                      onClick: () => {\r\n                        return [\r\n                          {\r\n                            target: \"data\",\r\n                            mutation: (props) => {\r\n                              var series = this.state.series;\r\n                              var index = series.findIndex(i => i.name === props.datum.name);\r\n                              if (index !== -1) {\r\n                                series[index].deactivate = !series[index].deactivate;\r\n                              }\r\n                              this.setState({\r\n                                series: series\r\n                              })\r\n                              const fill = props.style && props.style.fill;\r\n                              return fill === \"#000\" ? null : { style: { fill: \"#000\" } };\r\n                            }\r\n                          }, {\r\n                            target: \"labels\",\r\n                            mutation: (props) => {\r\n                              //return props.text === \"clicked\" ? null : { text: \"clicked\" };\r\n                            }\r\n                          }\r\n                        ];\r\n                      }\r\n                    }\r\n                  }]}\r\n                />\r\n              ):(<></>)}\r\n            </SafeAreaView>\r\n          </View>\r\n          {(IsLoading || this.props.firebase.viewIsLoading) &&\r\n            <ActivityIndicator style={Helpers.loadingContainer} size='large' />\r\n          }\r\n        </View>\r\n      </ScrollView>\r\n    )\r\n  }\r\n}\r\n//<CurveElement Display={true} DataPoints={DataSet} Height={600} Width={1250}/>\r\n//<Chart options={this.state.options} series={this.state.series} width={1240} height={700} />\r\n\r\nconst mapStateToProps = (state) => {\r\n  const { firebase } = state\r\n  return { firebase }\r\n};\r\n\r\nconst mapDispatchToProps  = (dispatch) => {\r\n  return {\r\n    setViewLoading: state => dispatch(FirebaseActions.viewIsLoading(state)),\r\n    setViewError: error => dispatch(FirebaseActions.setViewError(error)),\r\n    \r\n    getFarm: () => dispatch(FirebaseActions.actionStarting(Actions.FETCH, DataRefs.FARMS, {})),\r\n    getValveFeed: (limit, sysId, start, stop, offset, lastId) => dispatch(FirebaseActions.actionStarting(ConsysRefs.VALVEFEED, DataRefs.CONSYS, {limit:limit, sysId:sysId, start:start, stop:stop, offset:offset, lastId:lastId})),\r\n    getAutoPig: (limit, sysId, start, stop, offset, lastId) => dispatch(FirebaseActions.actionStarting(ConsysRefs.SCALE, DataRefs.CONSYS, {limit:limit, sysId:sysId, start:start, stop:stop, offset:offset, lastId:lastId})),\r\n  }\r\n};\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(AutoPig);\r\n//export default AutoPig;","import React, { useEffect, Component } from 'react'\r\nimport { Text, View, ActivityIndicator, ScrollView } from 'react-native'\r\nimport { useDispatch, useSelector, connect } from 'react-redux'\r\nimport { bindActionCreators } from 'redux';\r\n\r\nimport NavigationService from '../../../Services/NavigationService'\r\n\r\nimport FirebaseActions from '../../../Stores/Firebase/Actions'\r\nimport { Actions, DataRefs, sortObject } from '../../../Stores/Firebase/Selectors'\r\n\r\nimport { Button, OperationsPanel } from '../../../Components'\r\nimport Style from './UserPanelStyle'\r\nimport { ApplicationStyles, Helpers, Metrics } from '../../../Theme'\r\n\r\nclass Operations extends Component {\r\n  constructor(props){\r\n    super(props);\r\n\r\n    this.state = {\r\n    }\r\n  }\r\n\r\n  getData() {\r\n    this.props.setCurrentData({})\r\n  }\r\n\r\n  checkData(props) {\r\n  }\r\n\r\n  componentDidMount() {\r\n    this.props.setViewLoading(false)\r\n    this.props.setViewError(null)\r\n    this.checkData(this.props);\r\n    this.getData();\r\n  }\r\n\r\n  componentDidUpdate(prevProps, prevState) {\r\n  }\r\n\r\n  render() {\r\n    const IsLoading = this.props.firebase.firebaseIsLoading\r\n    const ErrorMessage = this.props.firebase.viewError\r\n\r\n    return(\r\n      <View\r\n        style={[\r\n          Helpers.mainContainer,\r\n        ]}\r\n      >\r\n        <View style={[Helpers.contentContainer, Helpers.fullSize, Helpers.fill]}>\r\n          {ErrorMessage ? (\r\n            <Text style={ApplicationStyles.error}>{ErrorMessage}</Text>\r\n          ):(<></>)}\r\n          <View style={[Helpers.buttonContainer, Helpers.midWidth, Metrics.bottomMargin, {marginBottom:60}] }>\r\n          </View>\r\n\r\n          <View style={[Helpers.buttonContainer, Helpers.halvWidth, Helpers.fillColMain]}>\r\n            <OperationsPanel section={true}/>\r\n          </View>\r\n        </View>\r\n        {(IsLoading || this.props.firebase.viewIsLoading) &&\r\n          <ActivityIndicator style={Helpers.loadingContainer} size='large' />\r\n        }\r\n      </View>\r\n    )\r\n  }\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n  const { firebase } = state\r\n  return { firebase }\r\n};\r\n\r\nconst mapDispatchToProps  = (dispatch) => {\r\n  return {\r\n    setViewLoading: state => dispatch(FirebaseActions.viewIsLoading(state)),\r\n    setViewError: error => dispatch(FirebaseActions.setViewError(error)),\r\n\r\n    setCurrentData: actionType => dispatch(FirebaseActions.setCurrentData({type:DataRefs.PENS, action: actionType})),\r\n  }\r\n};\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(Operations);\r\n//export default Operations;\r\n","import React, { useEffect, Component } from 'react'\r\nimport { Text, View, ActivityIndicator, Picker } from 'react-native'\r\nimport { Input } from 'react-native-elements'\r\nimport { useDispatch, useSelector, connect } from 'react-redux'\r\nimport { bindActionCreators } from 'redux';\r\n\r\nimport NavigationService from '../../../Services/NavigationService'\r\n\r\nimport FirebaseActions from '../../../Stores/Firebase/Actions'\r\nimport { Actions, DataRefs, sortObject } from '../../../Stores/Firebase/Selectors'\r\n\r\nimport { Button, Datetime_Picker } from '../../../Components'\r\nimport Style from '../CloudScreenStyle'\r\nimport { ApplicationStyles, Helpers, Metrics, Colors } from '../../../Theme'\r\n\r\nclass Weighing extends Component {\r\n  constructor(props){\r\n    super(props);\r\n\r\n    const {Sections, Section, Pens, Pen, quantity} = this.setData(this.props)\r\n    this.state = {\r\n      Sections: Sections,\r\n      Section: Section,\r\n\r\n      Pens: Pens,\r\n      Pen: Pen,\r\n      weight: \"\",\r\n      quantity: quantity,\r\n      date: new Date().getTime()\r\n    }\r\n  }\r\n\r\n  getData() {\r\n    const localDataStore = this.props.firebase.localDataStore;\r\n    if (!localDataStore.sections) localDataStore.sections = {}\r\n    this.props.getSections(localDataStore.sections.update_time)\r\n  }\r\n\r\n  setData(Props) {\r\n    //Set Sections\r\n    const localDataStore = Props.firebase.localDataStore;\r\n    var Sections = false;\r\n    if (localDataStore && localDataStore.sections && localDataStore.sections !== Sections) {\r\n      Sections = sortObject(localDataStore.sections)\r\n    }\r\n\r\n    //Set Section\r\n    const CurrentData = Props.firebase.currentData;\r\n    var Section = Sections? Object.keys(Sections)[0] : \"\"\r\n    if (CurrentData && CurrentData.data && CurrentData.data.section && Sections[CurrentData.data.section]) {\r\n      if (CurrentData.data.section != Section) {\r\n        Section = CurrentData.data.section\r\n      }\r\n    }\r\n\r\n    //Pens & Pen\r\n    var Pens = Sections? sortObject(Sections[Section].pens): {}\r\n    var Pen = Sections? Object.keys(Pens)[0]: \"\"\r\n    if (CurrentData && CurrentData.penId && Pens[CurrentData.penId] && CurrentData.penId != Pen){\r\n      Pen = CurrentData.penId\r\n    }\r\n    var quantity = 1\r\n    if (localDataStore && localDataStore.pens) {\r\n      var _Pen = localDataStore.pens[Pen]\r\n      if (_Pen && _Pen.datas && _Pen.datas.count) quantity = _Pen.datas.count\r\n    }\r\n\r\n    if (!Sections) Sections = {}\r\n    return {Sections, Section, Pens, Pen, quantity}\r\n  }\r\n\r\n  checkData(props) {\r\n  }\r\n\r\n  componentDidMount() {\r\n    this.props.setViewLoading(false)\r\n    this.props.setViewError(null)\r\n    this.checkData(this.props);\r\n    this.getData();\r\n  }\r\n\r\n  componentDidUpdate(prevProps, prevState) {\r\n    if (this.props !== prevProps){\r\n      this.checkData(this.props);\r\n\r\n      if (this.props.firebase.localDataStore) {\r\n        if (this.props.firebase.localDataStore.sections && JSON.stringify(this.state.Sections)!==JSON.stringify(sortObject(this.props.firebase.localDataStore.sections))) {\r\n\r\n          const {Sections, Section, Pens, Pen, quantity} = this.setData(this.props)\r\n\r\n          this.setState({\r\n            Sections: Sections,\r\n            Section: Section,\r\n            Pens: Pens,\r\n            Pen: Pen,\r\n\r\n            quantity: quantity,\r\n            weight: \"\",\r\n          })\r\n        }\r\n      }\r\n    }\r\n  }\r\n\r\n  render() {\r\n    const IsLoading = this.props.firebase.firebaseIsLoading\r\n    const ErrorMessage = this.props.firebase.viewError\r\n\r\n    const localDataStore = this.props.firebase.localDataStore\r\n\r\n    return(\r\n      <View\r\n      style={[\r\n        Helpers.mainContainer,\r\n      ]}\r\n      >\r\n        <View style={[Helpers.contentContainer, Helpers.fullSize, Helpers.fill]}>\r\n          {ErrorMessage ? (\r\n            <Text style={ApplicationStyles.error}>{ErrorMessage}</Text>\r\n          ):(<></>)}\r\n          <View style={[Helpers.contentContainer, Helpers.fullSize, Helpers.fill]}>\r\n            <View style={[Helpers.buttonContainer, Helpers.midWidth, Metrics.bottomMargin] }>\r\n              <Button Text=\"Weighing\" buttonStyle={{backgroundColor: Colors.AgriDarkblue}}\r\n                onPress={() => {} }/>\r\n            </View>\r\n            \r\n            <View style={[Helpers.borderContainer, Helpers.fullWidth, {marginBottom:20}] }>\r\n              <Picker\r\n                mode=\"dropdown\"\r\n                selectedValue={this.state.Section}\r\n                style={{ height: 50, width: 150 }}\r\n                onValueChange={(itemValue, itemIndex) => {\r\n                  if (this.state.Sections[itemValue]){\r\n                    const Pens = sortObject(this.state.Sections[itemValue].pens)\r\n                    var quantity = 1\r\n                    if (localDataStore && localDataStore.pens) {\r\n                      var Pen = localDataStore.pens[Object.keys(Pens)[0]]\r\n                      if (Pen && Pen.datas && Pen.datas.count) quantity = Pen.datas.count\r\n                    }\r\n                    this.setState({\r\n                      Section: itemValue,\r\n                      Pens: Pens,\r\n                      Pen: Object.keys(Pens)[0],\r\n                      quantity: quantity,\r\n                    })\r\n                  }\r\n                }}\r\n              >\r\n                {Object.keys(this.state.Sections).map((Section, i) => {\r\n                    return (<Picker.Item label={Section} value={Section} key={i}/>)\r\n                })}\r\n              </Picker>\r\n\r\n              <Picker\r\n                mode=\"dropdown\"\r\n                selectedValue={this.state.Pen}\r\n                style={{ height: 50, width: 150 }}\r\n                onValueChange={(itemValue, itemIndex) => {\r\n                  var quantity = 1\r\n                  if (localDataStore && localDataStore.pens) {\r\n                    var Pen = localDataStore.pens[itemValue]\r\n                    if (Pen && Pen.datas && Pen.datas.count) quantity = Pen.datas.count\r\n                  }\r\n                  this.setState({\r\n                    quantity: quantity,\r\n                    Pen: itemValue\r\n                  })\r\n                }}\r\n              >\r\n                {Object.keys(this.state.Pens).map((Pen, i) => {\r\n                    return (<Picker.Item label={Pen} value={Pen} key={i}/>)\r\n                })}\r\n              </Picker>\r\n\r\n              <View style={[Helpers.fullWidth, {borderWidth:0 ,height: 65, marginTop:10, paddingHorizontal:5, paddingTop:0, borderRadius:0, alignItems:\"center\"}]}>\r\n                <View style={[Helpers.fullWidth, {alignItems:\"flex-start\"}]}>\r\n                  <Text style={[ApplicationStyles.text, {marginHorizontal:5, marginTop:2, color:Colors.input, fontSize: 15, fontWeight: \"bold\"}]}>Weight date:</Text>\r\n                </View>\r\n                <View style={[Helpers.fullWidth, {alignItems:'flex-start'}]}>\r\n                  <Datetime_Picker Selected={this.state.date}\r\n                      onValueChange={(date)=>{\r\n                        this.setState({\r\n                          date: date.getTime()\r\n                        })\r\n                    }}/>\r\n                </View>\r\n              </View>\r\n              \r\n              <Input\r\n                label=\"Animal quantity\"\r\n                style={{ ...Style.input}}\r\n                onChangeText={text => {\r\n                  if (!isNaN(text)){\r\n                    this.setState({\r\n                      quantity: text\r\n                    })\r\n                  }\r\n                }}\r\n                value={this.state.quantity}\r\n              />\r\n              <Input\r\n                label=\"Total Weight\"\r\n                style={{ ...Style.input}}\r\n                onChangeText={text => {\r\n                  this.setState({\r\n                    weight: text\r\n                  })\r\n                }}\r\n                value={this.state.weight}\r\n              />\r\n            </View>\r\n\r\n            <View style={[Helpers.buttonContainer, Helpers.midWidth] }>\r\n              <Button Text=\"Submit\"\r\n                onPress={() => {\r\n                  if (!this.state.Section){\r\n                    this.props.setViewError(\"A section is needed\")\r\n                  } else if (!this.state.Pen){\r\n                    this.props.setViewError(\"A pen is needed\")\r\n                  } else if (isNaN(this.state.quantity) || this.state.quantity === \"\" || this.state.quantity <= 0){\r\n                    this.props.setViewError(\"Quantity have to be a number bigger than 0\")\r\n                  } else if (isNaN(this.state.weight) || this.state.weight === \"\") {\r\n                    this.props.setViewError(\"Weight have to be a number\")\r\n                  }\r\n                  else {\r\n                    this.props.setViewLoading(true)\r\n                    this.props.setViewError(null)\r\n                    this.props.newWeight(this.state.Pen, parseFloat(this.state.weight), this.state.date, parseFloat(this.state.quantity))\r\n                    this.setState({\r\n                      weight: \"\",\r\n                      date: new Date().getTime()\r\n                    })\r\n                  }\r\n                } }/>\r\n            </View>\r\n          </View>\r\n        </View>\r\n        {(IsLoading || this.props.firebase.viewIsLoading) &&\r\n          <ActivityIndicator style={Helpers.loadingContainer} size='large' />\r\n        }\r\n      </View>\r\n    )\r\n  }\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n  const { firebase } = state\r\n  return { firebase }\r\n};\r\n\r\nconst mapDispatchToProps  = (dispatch) => {\r\n  return {\r\n    setViewLoading: state => dispatch(FirebaseActions.viewIsLoading(state)),\r\n    setViewError: error => dispatch(FirebaseActions.setViewError(error)),\r\n\r\n    getSections: (DataTime) => dispatch(FirebaseActions.actionStarting(Actions.FETCH, DataRefs.SECTIONS, {DataTime: DataTime})),\r\n    newWeight: (penId, weight, date, quantity) => dispatch(FirebaseActions.actionStarting(Actions.CREATE, DataRefs.WEIGHING, {PenId: penId, Weight:weight, Quantity:quantity, Date:date})),\r\n  }\r\n};\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(Weighing);\r\n//export default Weighing;","import React, { useEffect, Component } from 'react'\r\nimport { Text, View, ActivityIndicator, Image, StyleSheet, ScrollView, Picker } from 'react-native'\r\nimport { Input } from 'react-native-elements'\r\nimport { useDispatch, useSelector, connect } from 'react-redux'\r\nimport { bindActionCreators } from 'redux';\r\n\r\nimport NavigationService from '../../../Services/NavigationService'\r\n\r\nimport FirebaseActions from '../../../Stores/Firebase/Actions'\r\nimport { Actions, DataRefs, sortObject, DataStringCheck } from '../../../Stores/Firebase/Selectors'\r\n\r\nimport { Button, TitleElement } from '../../../Components'\r\nimport Style from '../../../Containers/Cloud/CloudScreenStyle'\r\nimport { ApplicationStyles, Helpers, Metrics, Colors } from '../../../Theme'\r\n\r\nclass DataEditor extends Component {\r\n  constructor(props){\r\n    super(props);\r\n\r\n    const {Sections, Section, Pens, Pen} = this.setData(props)\r\n    this.state = {\r\n      Sections: Sections,\r\n      Section: Section,\r\n\r\n      Pens: Pens,\r\n      Pen: Pen,\r\n      NewSection: (Sections&&Object.keys(Sections).length > 0)?false:true,\r\n    }\r\n  }\r\n\r\n  getData() {\r\n    const localDataStore = this.props.firebase.localDataStore;\r\n    if (!localDataStore.sections) localDataStore.sections = {}\r\n    this.props.getSections(localDataStore.sections.update_time)\r\n  }\r\n\r\n  setData(Props) {\r\n    //Set Sections\r\n    const localDataStore = Props.firebase.localDataStore;\r\n    var Sections = false;\r\n    \r\n    if (localDataStore && localDataStore.sections && localDataStore.sections !== Sections) {\r\n      Sections = sortObject(localDataStore.sections)\r\n    }\r\n\r\n    //Set Section\r\n    const CurrentData = Props.firebase.currentData;\r\n    var Section = Sections? Object.keys(Sections)[0] : \"\"\r\n    if (CurrentData && CurrentData.data && CurrentData.data.section && Sections[CurrentData.data.section]) {\r\n      if (CurrentData.data.section != Section) {\r\n        Section = CurrentData.data.section\r\n      }\r\n    }\r\n\r\n    //Pens & Pen\r\n    var Pens = (Sections&&Sections[Section])? sortObject(Sections[Section].pens): {}\r\n    var Pen = Sections? Object.keys(Pens)[0]: \"\"\r\n    if (CurrentData && CurrentData.dataId && Pens[CurrentData.dataId] && CurrentData.dataId != Pen){\r\n      Pen = CurrentData.dataId\r\n    }\r\n\r\n    if (!Sections) Sections = {}\r\n    return {Sections, Section, Pens, Pen}\r\n  }\r\n\r\n  checkData(props) {\r\n  }\r\n\r\n  componentDidMount() {\r\n    this.props.setViewLoading(false)\r\n    this.props.setViewError(null)\r\n    this.checkData(this.props);\r\n    this.getData();\r\n  }\r\n\r\n  componentDidUpdate(prevProps, prevState) {\r\n    if (this.props !== prevProps){\r\n      this.checkData(this.props);\r\n\r\n      if (this.props.firebase)  {\r\n        if (this.props.firebase.localDataStore) {\r\n          if (this.props.firebase.localDataStore.sections && JSON.stringify(this.state.Sections)!==JSON.stringify(sortObject(this.props.firebase.localDataStore.sections))) {\r\n            \r\n            const {Sections, Section, Pens, Pen} = this.setData(this.props)\r\n\r\n            this.setState({\r\n              Sections: Sections,\r\n              Section: Section,\r\n              Pens: Pens,\r\n              Pen: Pen,\r\n              NewSection: (Sections&&Object.keys(Sections).length > 0)?false:true,\r\n            })\r\n          }\r\n        }\r\n        if (this.props.firebase.currentData) {\r\n          if (this.props.firebase.currentData != prevProps.firebase.currentData){\r\n            this.forceUpdate()\r\n          }\r\n        }\r\n      }\r\n    }\r\n  }\r\n\r\n  render() {\r\n    const IsLoading = this.props.firebase.firebaseIsLoading\r\n    const ErrorMessage = this.props.firebase.viewError\r\n\r\n    const localDataStore = this.props.firebase.localDataStore\r\n    const CurrentData = this.props.firebase.currentData\r\n\r\n    var DataView = (<View></View>);\r\n\r\n    switch(CurrentData.type){\r\n      case DataRefs.PENS:\r\n        DataView = PenEditor_View_Creator(this, CurrentData, localDataStore)\r\n        break;\r\n      case DataRefs.PIGS:\r\n        DataView = PigEditor_View_Creator(this, CurrentData, localDataStore)\r\n        break;\r\n    }\r\n\r\n    return(\r\n      <View\r\n      style={[\r\n        Helpers.mainContainer,\r\n      ]}\r\n      >\r\n        <View style={[Helpers.contentContainer, Helpers.fullSize, Helpers.fill]}>\r\n          {ErrorMessage ? (\r\n            <Text style={ApplicationStyles.error}>{ErrorMessage}</Text>\r\n          ):(<></>)}\r\n          {DataView}\r\n        </View>\r\n        {(IsLoading || this.props.firebase.viewIsLoading) &&\r\n          <ActivityIndicator style={Helpers.loadingContainer} size='large' />\r\n        }\r\n      </View>\r\n    )\r\n  }\r\n}\r\n\r\nconst PenEditor_View_Creator = (Control, CurrentData, localDataStore) => {\r\n  var Sections = Control.state.Sections;\r\n  if (CurrentData.action === Actions.CREATE) {\r\n    Sections[\"New Section\"] = {}\r\n  }\r\n\r\n  return(\r\n    <View style={[Helpers.contentContainer, Helpers.fullSize, Helpers.fill]}>\r\n      <PenEditor_Titles CurrentAction={CurrentData.action}/>\r\n      \r\n      <View style={ [Helpers.borderContainer, Helpers.midWidth, {marginBottom:20}] }>\r\n        <Section_Picker Control={Control} CurrentData={CurrentData} localDataStore={localDataStore}/>\r\n        {CurrentData.action === Actions.CREATE ?(\r\n          <Input\r\n            label=\"Pen name\"\r\n            style={{ ...Style.input}}\r\n            onChangeText={text => {\r\n              if (text){\r\n                if (DataStringCheck(text)){\r\n                  Control.setState({Pen: text})\r\n                }\r\n              }else {\r\n                Control.setState({Pen: text})\r\n              }\r\n            }}\r\n            value={Control.state.Pen}\r\n          />\r\n        ):(<></>)}\r\n        {CurrentData.action === Actions.DELETE ?(\r\n          <Picker\r\n            mode=\"dropdown\"\r\n            selectedValue={Control.state.Pen}\r\n            style={{ height: 50, width: 150 }}\r\n            onValueChange={(itemValue, itemIndex) => {\r\n              Control.setState({\r\n                Pen: itemValue\r\n              })\r\n            }}\r\n          >\r\n            {Object.keys(Control.state.Pens).map((Pen, i) => {\r\n                return (<Picker.Item label={Pen} value={Pen} key={i}/>)\r\n            })}\r\n          </Picker>\r\n        ):(<></>)}\r\n      </View>\r\n\r\n      {CurrentData.action === Actions.CREATE || CurrentData.action === Actions.DELETE ?(\r\n        <View style={[Helpers.buttonContainer, Helpers.midWidth] }>\r\n          <Button Text=\"Submit\"\r\n            onPress={() => {\r\n              if (!Control.state.Section || Control.state.Section === \"\"){\r\n                Control.props.setViewError(\"A section is needed\")\r\n              } else if (!Control.state.Pen || Control.state.Pen === \"\"){\r\n                Control.props.setViewError(\"A pen name is needed\")\r\n              } else if (!isNaN(Control.state.Section) || !isNaN(Control.state.Section[0])){\r\n                Control.props.setViewError(\"Section name cannot be or start with a number\")\r\n              } else if (!isNaN(Control.state.Pen) || !isNaN(Control.state.Pen[0])){\r\n                Control.props.setViewError(\"Pen name cannot be or start with a number\")\r\n              }\r\n              else {\r\n                var exists = false;\r\n\r\n                Object.keys(Control.state.Sections).map((section, i) => {\r\n                  if (Control.state.Sections[section].pens){\r\n                    var test = Object.keys(Control.state.Sections[section].pens).filter(e => e === Control.state.Pen).length\r\n                    if (test) exists = true\r\n                  }\r\n                })\r\n\r\n                if (exists && CurrentData.action === Actions.CREATE) {\r\n                  Control.props.setViewError(\"Given pen name already exists\")\r\n                } else if (!exists && CurrentData.action === Actions.DELETE){\r\n                  Control.props.setViewError(\"Cannot remove non-existing pen\")\r\n                }\r\n                else {\r\n                  Control.props.setViewError(null)\r\n                  Control.props.setViewLoading(true)\r\n                  Control.props.penAction(CurrentData.action, Control.state.Section, Control.state.Pen)\r\n                  NavigationService.navigate(\"UserOperations\")\r\n                }\r\n              }\r\n            } }/>\r\n        </View>\r\n      ):(<></>)}\r\n    </View>\r\n  )\r\n}\r\n\r\nconst PenEditor_Titles = (props) => {\r\n  switch(props.CurrentAction) {\r\n    case Actions.CREATE:\r\n      return(\r\n        <TitleElement Text={\"Add Pen\"}/>\r\n      )\r\n    case Actions.DELETE:\r\n      return(\r\n        <TitleElement Text={\"Remove Pen\"}/>\r\n      )\r\n    default:\r\n      return(<></>)\r\n  }\r\n}\r\n\r\nconst PigEditor_View_Creator = (Control, CurrentData, localDataStore) => {\r\n  var Sections = Control.state.Sections;\r\n  if (CurrentData.action === Actions.CREATE) {\r\n    //Sections[\"New Section\"] = {}\r\n  }\r\n\r\n  return(\r\n    <View style={[Helpers.contentContainer, Helpers.fullSize, Helpers.fill]}>\r\n      <TitleElement Text={\"Add Pig: \" + CurrentData.pigtag}/>\r\n      \r\n      <View style={ [Helpers.borderContainer, Helpers.midWidth, {marginBottom:20}] }>\r\n        <Section_Picker Control={Control} CurrentData={CurrentData} localDataStore={localDataStore}/>\r\n        {Control.state.NewSection?(\r\n        <Input\r\n          label=\"Pen name\"\r\n          style={{ ...Style.input}}\r\n          onChangeText={text => {\r\n            if (text){\r\n              if (DataStringCheck(text)){\r\n                Control.setState({Pen: text})\r\n              }\r\n            }else {\r\n              Control.setState({Pen: text})\r\n            }\r\n          }}\r\n          value={Control.state.Pen}\r\n        />\r\n        ):(\r\n          <Picker\r\n            mode=\"dropdown\"\r\n            selectedValue={Control.state.Pen}\r\n            style={{ height: 50, width: 150 }}\r\n            onValueChange={(itemValue, itemIndex) => {\r\n              Control.setState({\r\n                Pen: itemValue\r\n              })\r\n            }}\r\n          >\r\n            {Object.keys(Control.state.Pens).map((Pen, i) => {\r\n                return (<Picker.Item label={Pen} value={Pen} key={i}/>)\r\n            })}\r\n          </Picker>\r\n        )}\r\n        {CurrentData.action === Actions.CREATE?(\r\n        <View style={[Helpers.buttonContainer, Helpers.midWidth] }>\r\n          <Button Text=\"Submit\"\r\n            onPress={() => {\r\n              if (!Control.state.Section || Control.state.Section === \"\"){\r\n                Control.props.setViewError(\"A section is needed\")\r\n              } else if (!Control.state.Pen || Control.state.Pen === \"\"){\r\n                Control.props.setViewError(\"A pen name is needed\")\r\n              } else if (!isNaN(Control.state.Section) || !isNaN(Control.state.Section[0])){\r\n                Control.props.setViewError(\"Section name cannot be or start with a number\")\r\n              } else if (!isNaN(Control.state.Pen) || !isNaN(Control.state.Pen[0])){\r\n                Control.props.setViewError(\"Pen name cannot be or start with a number\")\r\n              }\r\n              else {\r\n                var exists = false;\r\n\r\n                Object.keys(Control.state.Sections).map((section, i) => {\r\n                  if (Control.state.Sections[section].pens){\r\n                    var test = Object.keys(Control.state.Sections[section].pens).filter(e => e === Control.state.Pen).length\r\n                    if (test) exists = true\r\n                  }\r\n                })\r\n\r\n                if (exists && CurrentData.action === Actions.CREATE && Control.state.NewSection) {\r\n                  Control.props.setViewError(\"Given pen name already exists\")\r\n                } else {\r\n                  Control.props.setViewLoading(true)\r\n                  Control.props.setViewError(null)\r\n                  Control.props.pigAction(CurrentData.action, CurrentData.pigtag, Control.state.Pen)\r\n                  NavigationService.navigate(\"UserPigs\")\r\n                }\r\n              }\r\n            } }/>\r\n        </View>\r\n      ):(<></>)}\r\n      </View>\r\n    </View>\r\n  )\r\n}\r\n\r\nconst Section_Picker = ({Control, CurrentData, localDataStore}) => {\r\n  if (Control.state.NewSection && CurrentData.action === Actions.CREATE){\r\n    return(\r\n      <Input\r\n        label=\"Section Name\"\r\n        style={{ ...Style.input}}\r\n        onChangeText={text => {\r\n          if (text){\r\n            if (DataStringCheck(text)){\r\n              Control.setState({Section: text})\r\n            }\r\n          }else {\r\n            Control.setState({Section: text})\r\n          }\r\n        }}\r\n        value={Control.state.Section}\r\n      />\r\n    )\r\n  } else {\r\n    return(\r\n      <Picker\r\n        mode=\"dropdown\"\r\n        selectedValue={Control.state.Section}\r\n        style={{ height: 50, width: 150 }}\r\n        onValueChange={(itemValue, itemIndex) => {\r\n          var Section = itemValue\r\n          var NewSection = Control.state.NewSection\r\n          var Pens = Control.state.Pens\r\n          var Pen = Control.state.Pen\r\n\r\n          if (itemValue === \"New Section\"){\r\n            NewSection = true;\r\n            Section = \"Section_\" + Object.keys(Control.state.Sections).length\r\n          } else {\r\n            Pens = sortObject(Control.state.Sections[itemValue].pens)\r\n            \r\n            if (CurrentData.action === Actions.DELETE){\r\n              Pen = Object.keys(Pens)[Object.keys(Pens).length-1]\r\n            }\r\n            else {\r\n              if (CurrentData.type == DataRefs.PIGS){\r\n                Pen = Object.keys(Pens)[0]\r\n              }else {\r\n                Pen = \"Pen_\" + (Object.keys(Pens).length +1)\r\n              }\r\n            }\r\n          }\r\n          \r\n          Control.setState({\r\n            Section: Section,\r\n            NewSection: NewSection,\r\n            Pens: Pens,\r\n            Pen: Pen,\r\n          })\r\n        }}>\r\n        {Object.keys(Control.state.Sections).map((Section, i) => {\r\n            return (<Picker.Item label={Section} value={Section} key={i}/>)\r\n        })}\r\n      </Picker>\r\n    )\r\n  }\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n  const { firebase } = state\r\n  return { firebase }\r\n};\r\n\r\nconst mapDispatchToProps  = (dispatch) => {\r\n  return {\r\n    setFirebaseError: error => dispatch(FirebaseActions.setFirebaseError(error)),\r\n    setViewLoading: state => dispatch(FirebaseActions.viewIsLoading(state)),\r\n    setViewError: error => dispatch(FirebaseActions.setViewError(error)),\r\n\r\n    getSections: (DataTime) => dispatch(FirebaseActions.actionStarting(Actions.FETCH, DataRefs.SECTIONS, {DataTime: DataTime})),\r\n    penAction: (action, senctionId, penId) => dispatch(FirebaseActions.actionStarting(action, DataRefs.PENS, {SectionId:senctionId, PenId:penId})),\r\n    pigAction: (action, tagId, penId,) => dispatch(FirebaseActions.actionStarting(action, DataRefs.PIGS, {TagId:tagId, PenId:penId})),\r\n  }\r\n};\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(DataEditor);\r\n//export default DataEditor;\r\n","import React, { Component } from 'react'\r\nimport { Platform, Text, View, ActivityIndicator, Image, StyleSheet, ScrollView, FlatList } from 'react-native'\r\nimport { useDispatch, useSelector, connect } from 'react-redux'\r\nimport { bindActionCreators } from 'redux';\r\nimport { Icon, Input } from 'react-native-elements'\r\n\r\nimport NavigationService from '../../../Services/NavigationService'\r\n\r\nimport DeviceActions from '../../../Stores/Device/Actions'\r\nimport { ConnectionState } from '../../../Stores/Device/Selectors'\r\n\r\nimport FirebaseActions from '../../../Stores/Firebase/Actions'\r\nimport { Actions, DataRefs, sortObject, format_Time, CurvePredict } from '../../../Stores/Firebase/Selectors'\r\n\r\nimport { Button, Button_Panel, ContentProp, OperationsPanel } from '../../../Components'\r\n\r\nimport { ApplicationStyles, Helpers, Metrics, Images, Colors } from '../../../Theme'\r\n\r\nclass DataDisplay_Pens extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.state = {\r\n      currentData: props.currentData,\r\n    }\r\n\r\n    const {CurrentData, WeighingsList, Weighings, CommentsList, Comments} = this.setData(props)\r\n    this.state = {\r\n      currentData: CurrentData,\r\n\r\n      WeighingsList: WeighingsList,\r\n      Weighings: Weighings,\r\n\r\n      CommentsList: CommentsList,\r\n      Comments: Comments,\r\n\r\n      action: \"\"\r\n    }\r\n  }\r\n\r\n  setData(Props) {\r\n    const localDataStore = Props.firebase.localDataStore;\r\n\r\n    var CurrentData = this.state.currentData;\r\n    var Pens = sortObject(localDataStore.pens)\r\n    if (Pens[CurrentData.penId]){\r\n      CurrentData.data = Pens[CurrentData.penId]\r\n    }\r\n\r\n    var WeighingsList = [];\r\n    var Weighings = [];\r\n    var App = Platform.OS === \"android\" || Platform.OS === \"ios\" ? true: false\r\n    if (localDataStore && localDataStore.weighings) {\r\n      if (localDataStore.weighings[CurrentData.penId]) {\r\n        WeighingsList = localDataStore.weighings[CurrentData.penId];\r\n        for(var i = 0; i < Object.keys(WeighingsList).length; i++) {\r\n          var name = Object.keys(WeighingsList)[i]\r\n          if (!name) continue;\r\n          var object = WeighingsList[name];\r\n          if (!object || !object.time) continue;\r\n          Weighings.push({[name]:object})\r\n        }\r\n        Weighings = Weighings.sort((a, b) => (a.time > b.time) ? 1 : -1)\r\n        if (App) {\r\n          Weighings = Weighings.slice(0,5)\r\n        }\r\n      }\r\n    }\r\n\r\n    var CommentsList = [];\r\n    var Comments = [];\r\n    if (localDataStore && localDataStore.comments) {\r\n      if (localDataStore.comments[CurrentData.penId]) {\r\n        CommentsList = localDataStore.comments[CurrentData.penId];\r\n        for(var i = 0; i < Object.keys(CommentsList).length; i++) {\r\n          var name = Object.keys(CommentsList)[i]\r\n          if (!name) continue;\r\n          var object = CommentsList[name];\r\n          if (!object || !object.time) continue;\r\n          Comments.push({[name]:object})\r\n        }\r\n        Comments = Comments.sort((a, b) => (a.time > b.time) ? 1 : -1)\r\n        if (App) {\r\n          Comments = Comments.slice(0,5)\r\n        }\r\n      }\r\n    }\r\n\r\n    if (CurrentData.data && !CurrentData.data.datas) CurrentData.data.datas = {}\r\n\r\n    return {CurrentData, WeighingsList, Weighings, CommentsList, Comments}\r\n  }\r\n\r\n  getData() {\r\n    if (this.props.firebase && this.props.firebase.localDataStore && this.state.currentData.penId) {\r\n      const localDataStore = this.props.firebase.localDataStore\r\n      if (!localDataStore.pens) localDataStore.pens = {}\r\n      this.props.getPens(localDataStore.pens.update_time)\r\n\r\n      var MemTime = null\r\n      if (localDataStore.weighings && localDataStore.weighings[this.state.currentData.penId]) MemTime = localDataStore.weighings.update_time\r\n      this.props.getWeights(this.state.currentData.penId, MemTime, localDataStore.sections)\r\n\r\n      this.props.getComments(this.state.currentData.penId)\r\n      this.props.getBatch(localDataStore.batchs.update_time)\r\n    }\r\n  }\r\n\r\n  checkData(props) {\r\n  }\r\n\r\n  componentDidMount() {\r\n    this.props.setViewLoading(false)\r\n    this.props.setViewError(null)\r\n    this.checkData(this.props);\r\n    this.getData();\r\n  }\r\n\r\n  componentDidUpdate(prevProps, prevState) {\r\n    if (this.props !== prevProps){\r\n      this.checkData(this.props);\r\n\r\n      if (this.props.firebase.localDataStore) {\r\n        const localDataStore = this.props.firebase.localDataStore\r\n        if ((JSON.stringify(prevProps.currentData)!==JSON.stringify(this.state.currentData)) ||\r\n            (localDataStore.sections && JSON.stringify(this.state.Sections)!==JSON.stringify(sortObject(localDataStore.sections))) ||\r\n            (localDataStore.weighings && JSON.stringify(this.state.Weighings)!==JSON.stringify(sortObject(localDataStoree.weighings))) ||\r\n            (localDataStore.comments && JSON.stringify(this.state.Comments)!==JSON.stringify(sortObject(localDataStoree.comments)))\r\n        ) {\r\n          const {CurrentData, WeighingsList, Weighings, CommentsList, Comments} = this.setData(this.props)\r\n          this.setState({\r\n            currentData: CurrentData,\r\n\r\n            WeighingsList: WeighingsList,\r\n            Weighings: Weighings,\r\n\r\n            CommentsList: CommentsList, \r\n            Comments: Comments,\r\n          })\r\n        }\r\n      }\r\n    }\r\n  }\r\n\r\n  render() {\r\n    const IsLoading = this.props.firebase.firebaseIsLoading\r\n\r\n    const localDataStore = this.props.firebase.localDataStore\r\n    const CurrentData = this.state.currentData\r\n\r\n    if (!CurrentData.data) {\r\n      return(\r\n        <View style={[Helpers.fillRowCenter, Helpers.center, Helpers.logoContainer]}>\r\n          <Image style={Helpers.fullSize} source={Images.Hexa_icon} resizeMode={'contain'} />\r\n        </View>\r\n      )\r\n    } else {\r\n      var pigcount = CurrentData.data.datas.count?CurrentData.data.datas.count:0\r\n      var penWeight = []\r\n      if (this.state.Weighings.length > 0) {\r\n        penWeight = this.state.Weighings[0][Object.keys(this.state.Weighings[0])].weight / this.state.Weighings[0][Object.keys(this.state.Weighings[0])].count\r\n      }\r\n\r\n      var batch_name = CurrentData.data.datas.batch?CurrentData.data.datas.batch:\"No Batch\"\r\n      var batch = {}\r\n\r\n      //TODO: Cleanup load mem throws..\r\n      var age = \"\";\r\n      var displayWeight = penWeight;\r\n      \r\n      if (CurrentData.data.datas.batch && localDataStore.batchs && localDataStore.batchs[CurrentData.data.datas.batch]) {\r\n        batch = localDataStore.batchs[CurrentData.data.datas.batch];\r\n        var StartTime = batch.time;\r\n        age = Math.floor(((Date.now()-StartTime)/(1000*60*60*24)));\r\n        CurrentData.data.datas.gcurve = batch.gcurve;\r\n\r\n        var Predict = CurvePredict(localDataStore, CurrentData.penId)\r\n        if (Predict && Predict.Now) displayWeight = Predict.Now\r\n      }\r\n\r\n      if (!batch.datas) batch.datas = {};\r\n      if (!batch.datas.devianceMin) batch.datas.devianceMin = 0;\r\n      if (!batch.datas.devianceMax) batch.datas.devianceMax = 0;\r\n      displayWeight = Math.round(displayWeight * 1000) / 1000\r\n\r\n      var App = Platform.OS === \"android\" || Platform.OS === \"ios\" ? true: false\r\n      return(\r\n        <View style={[Helpers.contentContainer, Helpers.fullSize, Helpers.fill]}>\r\n          <View style={[Helpers.buttonContainer, Helpers.midWidth, Metrics.bottomMargin, Helpers.rowCenter] }>\r\n            <View style={{padding:6, paddingRight: 15}}>\r\n              <Icon name=\"md-arrow-back\" type='ionicon' size={25} color=\"black\" onPress={() => onPageSwipe(this, localDataStore, CurrentData, false)}/>\r\n            </View>\r\n            <View style={[Helpers.buttonContainer, Helpers.midWidth] }>\r\n              <Button Text={CurrentData.penId} buttonStyle={{backgroundColor: Colors.AgriDarkblue}}\r\n                onPress={() => {} }/>\r\n            </View>\r\n            <View style={{padding:6, paddingLeft: 15}}>\r\n              <Icon name=\"md-arrow-forward\" type='ionicon' size={25} color=\"black\" onPress={() => onPageSwipe(this, localDataStore, CurrentData, true)}/>\r\n            </View>\r\n          </View>\r\n          \r\n          <View style={[Helpers.fullWidth]}>\r\n            <ContentProp texts={[\"Pig count\", \"Batch\", \"Age Days\", \"Weight\", \"Growth Cruve\", \"Alarm Max\", \"Alarm Min\", \"Mixtur\", \"Correction\", \"Portion in kg\"]} onPress={(element) => onDataPress(1, element)} \r\n              datas={[pigcount, batch_name, age, /*penWeight*/ displayWeight, CurrentData.data.datas.gcurve?CurrentData.data.datas.gcurve:\"default\", batch.datas.devianceMin + \" %\", batch.datas.devianceMax + \" %\", \"-\", \"-\", \"-\"]} />\r\n          </View>\r\n\r\n          <View style={{height:20}} />\r\n          <View style={[Helpers.fill, App?Helpers.fullWidth:Helpers.midWidth, App?{}:{height:215}]}>\r\n            <ContentProp texts={[\"Control weighings\"]} datas={[]} />\r\n            <View style={{height:10}} />\r\n              <FlatList\r\n                data={this.state.Weighings}\r\n                renderItem={({item, index}) => {\r\n                  if (item === \"__jsogObjectId\") return (<></>);\r\n                  var Weight = this.state.WeighingsList[Object.keys(item)[0]]\r\n                  return(\r\n                    <ContentProp texts={[format_Time(Weight.time)]}\r\n                                datas={[Weight.weight + \"   : \" + Weight.count + \" pigs\"]}\r\n                    />\r\n                  )}\r\n                }\r\n                  //Setting the number of column\r\n                  numColumns={1}\r\n                  keyExtractor={(item, index) => String(index)}\r\n                />\r\n          </View>\r\n\r\n          <View style={{height:20}} />\r\n          <View style={[Helpers.fill, App?Helpers.fullWidth:Helpers.midWidth, App?{}:{height:215}]}>\r\n            <ContentProp texts={[\"Action log\"]} datas={[]} />\r\n            <View style={{height:10}} />\r\n            <FlatList\r\n              data={this.state.Comments}\r\n              renderItem={({item, index}) => {\r\n                if (item === \"__jsogObjectId\") return (<></>);\r\n                var Comment = this.state.CommentsList[Object.keys(item)[0]]\r\n                return(\r\n                  <ContentProp texts={[format_Time(Comment.time) + \":\\n\" + Comment.user]}\r\n                              datas={[(Comment.quantity?(Comment.quantity + \" * \"):(\"\")) + Comment.action + \":\\n\" + Comment.data]}\r\n                  />\r\n                )}\r\n              }\r\n                //Setting the number of column\r\n                numColumns={1}\r\n                keyExtractor={(item, index) => String(index)}\r\n              />\r\n          </View>\r\n\r\n          <View style={{height:30}} />\r\n\r\n          <View style={[Helpers.borderContainer, Helpers.midWidth]}>\r\n            <OperationsPanel />\r\n          </View>\r\n        </View>\r\n      )\r\n    }\r\n  }\r\n}\r\n\r\nfunction onPageSwipe(Control, localDataStore, CurrentData, dir) {\r\n  const section = localDataStore.pens[CurrentData.penId].section\r\n  const Pens = sortObject(localDataStore.sections[section].pens)\r\n\r\n  if (CurrentData.type === DataRefs.PENS && CurrentData.data && Pens[CurrentData.penId]) {\r\n    var index = Object.keys(Pens).indexOf(CurrentData.penId)\r\n\r\n    switch (dir) {\r\n      case true: //forward\r\n        index = index +1\r\n        break;\r\n      case false: //backward\r\n        index = index -1\r\n        break;\r\n    }\r\n\r\n    if (index < 0) index = Object.keys(Pens).length - 1\r\n    else if (index >= Object.keys(Pens).length) index = 0\r\n\r\n    Control.props.setCurrentData(Object.keys(Pens)[index])\r\n    NavigationService.replace(\"DataDisplay\")\r\n  }\r\n}\r\n\r\nfunction onDataPress(sender, element){\r\n  switch(sender){\r\n    case 1:\r\n      switch(element.index){\r\n        case 0:\r\n          console.log(\"test\")\r\n          break;\r\n      }\r\n      break;\r\n  }\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n  const { firebase } = state\r\n  return { firebase }\r\n};\r\n\r\nconst mapDispatchToProps  = (dispatch) => {\r\n  return {\r\n    setViewLoading: state => dispatch(FirebaseActions.viewIsLoading(state)),\r\n    setViewError: error => dispatch(FirebaseActions.setViewError(error)),\r\n\r\n    getPens: (DataTime) => dispatch(FirebaseActions.actionStarting(Actions.FETCH, DataRefs.PENS, {DataTime: DataTime})),\r\n    getWeights: (penId, DataTime, MemSections) => dispatch(FirebaseActions.actionStarting(Actions.FETCH, DataRefs.WEIGHING, {PenId: penId, DataTime: DataTime,  MemSections: MemSections})),\r\n    getComments: (penId) => dispatch(FirebaseActions.actionStarting(Actions.FETCH, DataRefs.COMMENTS, {PenId: penId})),\r\n    getBatch: (DataTime) => dispatch(FirebaseActions.actionStarting(Actions.FETCH, DataRefs.BATCHS, {DataTime: DataTime})),\r\n\r\n    setCurrentData: penId => dispatch(FirebaseActions.setCurrentData({type:DataRefs.PENS, penId: penId})),\r\n    setCurrentDataElement: element => dispatch(FirebaseActions.setCurrentData(element)),\r\n  }\r\n};\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(DataDisplay_Pens);\r\n//export default DataDisplay_Pens;","import React, { useEffect, Component } from 'react'\r\nimport { Platform, Text, View, ActivityIndicator, Image, StyleSheet, ScrollView, FlatList } from 'react-native'\r\nimport { useDispatch, useSelector, connect } from 'react-redux'\r\nimport { bindActionCreators } from 'redux';\r\nimport { Icon, Input } from 'react-native-elements'\r\n\r\nimport NavigationService from '../../../Services/NavigationService'\r\n\r\n//import DeviceActions from '../../../Stores/Device/Actions'\r\n//import { ConnectionState } from '../../../Stores/Device/Selectors'\r\n\r\nimport FirebaseActions from '../../../Stores/Firebase/Actions'\r\nimport { Actions, DataRefs, sortObject, format_Time } from '../../../Stores/Firebase/Selectors'\r\n\r\nimport { Button, Button_Panel, ContentProp, OperationsPanel } from '../../../Components'\r\n\r\nimport { ApplicationStyles, Helpers, Metrics, Images, Colors } from '../../../Theme'\r\n\r\nclass DataDisplay_Pigs extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.state = {\r\n      currentData: props.currentData,\r\n    }\r\n\r\n    const {CurrentData, WeighingsList, Weighings} = this.setData(props)\r\n    this.state = {\r\n      currentData: CurrentData,\r\n\r\n      WeighingsList: WeighingsList,\r\n      Weighings: Weighings,\r\n    }\r\n  }\r\n\r\n  setData(Props) {\r\n    const localDataStore = Props.firebase.localDataStore;\r\n\r\n    var CurrentData = this.state.currentData;\r\n    var Pigs = sortObject(localDataStore.pigs)\r\n    if (Pigs[CurrentData.TagId]){\r\n      CurrentData.data = Pigs[CurrentData.TagId]\r\n    }\r\n\r\n    var WeighingsList = [];\r\n    var Weighings = [];\r\n    var App = Platform.OS === \"android\" || Platform.OS === \"ios\" ? true: false\r\n    if (localDataStore && localDataStore.weighings) {\r\n      if (localDataStore.weighings[CurrentData.penId]) {\r\n        WeighingsList = localDataStore.weighings[CurrentData.penId];\r\n        for(var i = 0; i < Object.keys(WeighingsList).length; i++) {\r\n          var name = Object.keys(WeighingsList)[i]\r\n          if (!name) continue;\r\n          var object = WeighingsList[name];\r\n          if (!object || !object.time) continue;\r\n          Weighings.push({[name]:object})\r\n        }\r\n        Weighings = Weighings.sort((a, b) => (a.time > b.time) ? 1 : -1)\r\n        if (App) {\r\n          Weighings = Weighings.slice(0,5)\r\n        }\r\n      }\r\n    }\r\n    if (CurrentData.data && !CurrentData.data.datas) CurrentData.data.datas = {}\r\n\r\n    return {CurrentData, WeighingsList, Weighings}\r\n  }\r\n\r\n  getData() {\r\n    if (this.props.firebase && this.props.firebase.localDataStore && this.state.currentData.penId) {\r\n      const localDataStore = this.props.firebase.localDataStore\r\n      if (!localDataStore.pens) localDataStore.pens = {}\r\n      this.props.getPens(localDataStore.pens.update_time)\r\n      this.props.getWeights(this.state.currentData.penId)\r\n      this.props.getBatch(null)\r\n    }\r\n  }\r\n\r\n  checkData(props) {\r\n  }\r\n\r\n  componentDidMount() {\r\n    this.props.setViewLoading(false)\r\n    this.props.setViewError(null)\r\n    this.checkData(this.props);\r\n    this.getData();\r\n  }\r\n\r\n  componentDidUpdate(prevProps, prevState) {\r\n    if (this.props !== prevProps){\r\n      this.checkData(this.props);\r\n\r\n      if (this.props.firebase.localDataStore) {\r\n        const localDataStore = this.props.firebase.localDataStore\r\n        if ((JSON.stringify(prevProps.currentData)!==JSON.stringify(this.state.currentData)) ||\r\n            (localDataStore.sections && JSON.stringify(this.state.Sections)!==JSON.stringify(sortObject(localDataStore.sections))) ||\r\n            (localDataStore.weighings && JSON.stringify(this.state.Weighings)!==JSON.stringify(sortObject(localDataStoree.weighings)))\r\n        ) {\r\n          const {CurrentData, WeighingsList, Weighings} = this.setData(this.props)\r\n          this.setState({\r\n            currentData: CurrentData,\r\n\r\n            WeighingsList: WeighingsList,\r\n            Weighings: Weighings,\r\n          })\r\n        }\r\n      }\r\n    }\r\n  }\r\n\r\n  render() {\r\n    const IsLoading = this.props.firebase.firebaseIsLoading\r\n\r\n    const localDataStore = this.props.firebase.localDataStore\r\n    const CurrentData = this.state.currentData\r\n\r\n    if (!CurrentData.data) {\r\n      return(\r\n        <View style={[Helpers.fillRowCenter, Helpers.center, Helpers.logoContainer]}>\r\n          <Image style={Helpers.fullSize} source={Images.Hexa_icon} resizeMode={'contain'} />\r\n        </View>\r\n      )\r\n    } else {\r\n      var pigcount = CurrentData.data.datas.count?CurrentData.data.datas.count:0\r\n      var penWeight = []\r\n      if (this.state.Weighings.length > 0) {\r\n        var count = pigcount?pigcount:1\r\n        penWeight = this.state.Weighings[0][Object.keys(this.state.Weighings[0])].weight / this.state.Weighings[0][Object.keys(this.state.Weighings[0])].count\r\n      }\r\n\r\n      var batch_name = CurrentData.data.datas.batch?CurrentData.data.datas.batch:\"No Batch\"\r\n      var batch = {}\r\n\r\n      //TODO: Cleanup load mem throws..\r\n      var age = \"\";\r\n      var displayWeight = penWeight;\r\n      if (CurrentData.data.datas.batch && localDataStore.batchs && localDataStore.batchs[CurrentData.data.datas.batch]) {\r\n        batch = localDataStore.batchs[CurrentData.data.datas.batch];\r\n        var StartTime = batch.time;\r\n        age = Math.floor(((Date.now()-StartTime)/(1000*60*60*24)));\r\n        CurrentData.data.datas.gcurve = batch.gcurve;\r\n\r\n        var Predict = CurvePredict(localDataStore, CurrentData.penId)\r\n        displayWeight = Predict.Now\r\n      }\r\n\r\n      if (!batch.datas) batch.datas = {};\r\n      if (!batch.datas.devianceMin) batch.datas.devianceMin = 0;\r\n      if (!batch.datas.devianceMax) batch.datas.devianceMax = 0;\r\n\r\n      return(\r\n        <View style={[Helpers.contentContainer, Helpers.fullSize, Helpers.fill]}>\r\n          <View style={[Helpers.buttonContainer, Helpers.midWidth, Metrics.bottomMargin, Helpers.rowCenter] }>\r\n            <View style={{padding:6, paddingRight: 15}}>\r\n              <Icon name=\"md-arrow-back\" type='ionicon' size={25} color=\"black\" onPress={() => onPageSwipe(this, localDataStore, CurrentData, false)}/>\r\n            </View>\r\n            <View style={[Helpers.buttonContainer, Helpers.midWidth] }>\r\n              <Button Text={CurrentData.penId} buttonStyle={{backgroundColor: Colors.AgriDarkblue}}\r\n                onPress={() => {} }/>\r\n            </View>\r\n            <View style={{padding:6, paddingLeft: 15}}>\r\n              <Icon name=\"md-arrow-forward\" type='ionicon' size={25} color=\"black\" onPress={() => onPageSwipe(this, localDataStore, CurrentData, true)}/>\r\n            </View>\r\n          </View>\r\n          \r\n          <View style={[Helpers.fullWidth]}>\r\n            <ContentProp texts={[\"Pig count\", \"Batch\", \"Age Days\", \"Weight\", \"Growth Cruve\", \"Alarm Max\", \"Alarm Min\", \"Mixtur\", \"Correction\", \"Portion in kg\"]} onPress={(element) => onDataPress(1, element)} \r\n              datas={[pigcount, batch_name, age, /*penWeight*/ displayWeight, CurrentData.data.datas.gcurve?CurrentData.data.datas.gcurve:\"default\", batch.datas.devianceMin + \" %\", batch.datas.devianceMax + \" %\", \"-\", \"-\", \"-\"]} />\r\n          </View>\r\n\r\n          <View style={{height:20}} />\r\n          <View style={[Helpers.fill, App?Helpers.fullWidth:Helpers.midWidth, App?{}:{height:215}]}>\r\n            <ContentProp texts={[\"Last weighings\"]} datas={[]} />\r\n            <View style={{height:10}} />\r\n            <FlatList\r\n              data={this.state.Weighings}\r\n              renderItem={({item, index}) => {\r\n                if (item === \"__jsogObjectId\") return (<></>);\r\n                var Weight = this.state.WeighingsList[Object.keys(item)[0]]\r\n                return(\r\n                  <ContentProp texts={[format_Time(Weight.time)]}\r\n                              datas={[Weight.weight]} \r\n                  />\r\n                )}\r\n              }\r\n                //Setting the number of column\r\n                numColumns={1}\r\n                keyExtractor={(item, index) => String(index)}\r\n              />\r\n          </View>\r\n\r\n          <View style={{height:30}} />\r\n\r\n          <View style={[Helpers.borderContainer, Helpers.midWidth]}>\r\n            <OperationsPanel />\r\n          </View>\r\n        </View>\r\n      )\r\n    }\r\n  }\r\n}\r\n\r\nfunction onPageSwipe(Control, localDataStore, CurrentData, dir) {\r\n  const section = localDataStore.pens[CurrentData.penId].section\r\n  const Pens = sortObject(localDataStore.sections[section].pens)\r\n\r\n  if (CurrentData.type === DataRefs.PENS && CurrentData.data && Pens[CurrentData.penId]) {\r\n    var index = Object.keys(Pens).indexOf(CurrentData.penId)\r\n\r\n    switch (dir) {\r\n      case true: //forward\r\n        index = index +1\r\n        break;\r\n      case false: //backward\r\n        index = index -1\r\n        break;\r\n    }\r\n\r\n    if (index < 0) index = Object.keys(Pens).length - 1\r\n    else if (index >= Object.keys(Pens).length) index = 0\r\n\r\n    Control.props.setCurrentData(Object.keys(Pens)[index])\r\n    NavigationService.replace(\"DataDisplay\")\r\n  }\r\n}\r\n\r\nfunction onDataPress(sender, element){\r\n  switch(sender){\r\n    case 1:\r\n      switch(element.index){\r\n        case 0:\r\n          console.log(\"test\")\r\n          break;\r\n      }\r\n      break;\r\n  }\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n  const { firebase } = state\r\n  return { firebase }\r\n};\r\n\r\nconst mapDispatchToProps  = (dispatch) => {\r\n  return {\r\n    setViewLoading: state => dispatch(FirebaseActions.viewIsLoading(state)),\r\n    setViewError: error => dispatch(FirebaseActions.setViewError(error)),\r\n\r\n    getPens: (DataTime) => dispatch(FirebaseActions.actionStarting(Actions.FETCH, DataRefs.PENS, {DataTime: DataTime})),\r\n    getWeights: (penId) => dispatch(FirebaseActions.actionStarting(Actions.FETCH, DataRefs.WEIGHING, {PenId: penId})),\r\n    getBatch: (batchId) => dispatch(FirebaseActions.actionStarting(Actions.FETCH, DataRefs.BATCHS, {BatchId: batchId})),\r\n\r\n    setCurrentData: penId => dispatch(FirebaseActions.setCurrentData({type:DataRefs.PENS, penId: penId})),\r\n    setCurrentDataElement: element => dispatch(FirebaseActions.setCurrentData(element)),\r\n  }\r\n};\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(DataDisplay_Pigs);\r\n//export default DataDisplay_Pigs;","import React, { useEffect, Component } from 'react'\r\nimport { Platform, Text, View, ActivityIndicator, Image, StyleSheet, ScrollView, FlatList } from 'react-native'\r\nimport { useDispatch, useSelector, connect } from 'react-redux'\r\nimport { bindActionCreators } from 'redux';\r\nimport { Icon, Input } from 'react-native-elements'\r\n\r\nimport NavigationService from '../../../Services/NavigationService'\r\n\r\nimport DeviceActions from '../../../Stores/Device/Actions'\r\nimport { ConnectionState } from '../../../Stores/Device/Selectors'\r\n\r\nimport FirebaseActions from '../../../Stores/Firebase/Actions'\r\nimport { Actions, DataRefs, sortObject, format_Time } from '../../../Stores/Firebase/Selectors'\r\n\r\nimport { Button, Button_Panel, ContentProp, OperationsPanel } from '../../../Components'\r\nimport DataDisplay_Pens from './DataDisplay_Pens'\r\nimport DataDisplay_Pigs from './DataDisplay_Pigs'\r\n\r\nimport { ApplicationStyles, Helpers, Metrics, Images, Colors } from '../../../Theme'\r\n\r\nclass DataDisplay extends Component {\r\n  constructor(props){\r\n    super(props);\r\n\r\n    this.state = {\r\n      currentData:{}\r\n    }\r\n  }\r\n\r\n  getData() {\r\n    if (this.props.firebase && this.props.firebase.localDataStore) {\r\n      const localDataStore = this.props.firebase.localDataStore\r\n      if (this.props.firebase.currentData && this.props.firebase.currentData.type){\r\n        const CurrentData = this.props.firebase.currentData;\r\n        switch(CurrentData.type){\r\n          case DataRefs.PIGS:\r\n            //this.props.getWeights()\r\n            break;\r\n        }\r\n      }\r\n    }\r\n  }\r\n\r\n  checkData(props) {\r\n  }\r\n\r\n  componentDidMount() {\r\n    this.props.setViewLoading(false)\r\n    this.props.setViewError(null)\r\n    this.checkData(this.props);\r\n    this.getData();\r\n  }\r\n\r\n  componentDidUpdate(prevProps, prevState) {\r\n    if (this.props !== prevProps){\r\n      this.checkData(this.props);\r\n\r\n      if (this.props.firebase.localDataStore) {\r\n        const localDataStore = this.props.firebase.localDataStore\r\n        if (this.props.firebase.currentData && this.props.firebase.currentData.type &&\r\n            JSON.stringify(this.state.currentData)!==JSON.stringify(this.props.firebase.currentData)) {\r\n          \r\n          const CurrentData = this.props.firebase.currentData;\r\n\r\n          switch(CurrentData.type){\r\n            case DataRefs.PENS:\r\n              if (localDataStore.pens) {\r\n                var Pens = sortObject(localDataStore.pens)\r\n                if (Pens[CurrentData.penId]){\r\n                  if (JSON.stringify(CurrentData.data)!==JSON.stringify(Pens[CurrentData.penId])){\r\n                    CurrentData.data = Pens[CurrentData.penId]\r\n                  }\r\n                  \r\n                  this.props.setCurrentDataElement(CurrentData)\r\n                }\r\n              }\r\n              this.setState({\r\n                currentData:CurrentData\r\n              })\r\n              break;\r\n            case DataRefs.PIGS:\r\n              this.setState({\r\n                currentData:CurrentData\r\n              })\r\n              break;\r\n            default:\r\n              this.setState({\r\n                currentData:CurrentData\r\n              })\r\n              break;\r\n          }\r\n        }\r\n      }\r\n    }\r\n  }\r\n\r\n  render() {\r\n    const IsLoading = this.props.firebase.firebaseIsLoading\r\n\r\n    const localDataStore = this.props.firebase.localDataStore\r\n    const ErrorMessage = this.props.firebase.viewError\r\n    const CurrentData = this.state.currentData\r\n\r\n    var DataView = (<View></View>);\r\n    switch(CurrentData.type){\r\n      case DataRefs.PENS:\r\n        DataView = (<DataDisplay_Pens currentData={this.state.currentData}/>)\r\n        break;\r\n      case DataRefs.PIGS:\r\n        DataView = PigData_View(this, CurrentData, localDataStore) //(<DataDisplay_Pigs currentData={this.state.currentData}/>)\r\n        break;\r\n    }\r\n\r\n    return(\r\n      <ScrollView style={[Helpers.fullSize, Helpers.fill]}>\r\n        <View\r\n          style={[\r\n            Helpers.mainContainer,\r\n          ]}\r\n        >\r\n          <View style={[Helpers.contentContainer, Helpers.fullSize, Helpers.fill]}>\r\n            {ErrorMessage ? (\r\n              <Text style={ApplicationStyles.error}>{ErrorMessage}</Text>\r\n            ):(<></>)}\r\n              {DataView}\r\n          </View>\r\n          \r\n          {(IsLoading || this.props.firebase.viewIsLoading) &&\r\n            <ActivityIndicator style={Helpers.loadingContainer} size='large' />\r\n          }\r\n        </View>\r\n      </ScrollView>\r\n    )\r\n  }\r\n}\r\n\r\nfunction onPageSwipe(Control, localDataStore, CurrentData, dir) {\r\n  const section = localDataStore.pens[CurrentData.penId].section\r\n  const Pens = sortObject(localDataStore.sections[section].pens)\r\n\r\n  if (CurrentData.type === DataRefs.PENS && CurrentData.data && Pens[CurrentData.penId]) {\r\n    var index = Object.keys(Pens).indexOf(CurrentData.penId)\r\n\r\n    switch (dir) {\r\n      case true: //forward\r\n        index = index +1\r\n        break;\r\n      case false: //backward\r\n        index = index -1\r\n        break;\r\n    }\r\n\r\n    if (index < 0) index = Object.keys(Pens).length - 1\r\n    else if (index >= Object.keys(Pens).length) index = 0\r\n\r\n    Control.props.setCurrentData(Object.keys(Pens)[index])\r\n    NavigationService.replace(\"DataDisplay\")\r\n  }\r\n}\r\n\r\nfunction onDataPress(sender, element){\r\n  switch(sender){\r\n    case 1:\r\n      switch(element.index){\r\n        case 0:\r\n          console.log(\"test\")\r\n          break;\r\n      }\r\n      break;\r\n  }\r\n}\r\n\r\nconst PigData_View = (Control, CurrentData, localDataStore) => {\r\n  /*const connectedDevice = useSelector((state) => state.device.connectedDevice)\r\n  const DeviceData = useSelector((state) => state.device.deviceData)\r\n  const connectedState = useSelector((state) => state.device.connectionState)*/\r\n\r\n  var Pigs;\r\n  if (localDataStore && localDataStore.pigs) {\r\n    Pigs = sortObject(localDataStore.pigs)\r\n    if (Pigs[CurrentData.TagId]){\r\n      CurrentData.data = Pigs[CurrentData.TagId]\r\n    }\r\n  }\r\n  \r\n  if (CurrentData.data && !CurrentData.data.datas) CurrentData.data.datas = {}\r\n\r\n  if (!CurrentData.data) {\r\n    return(\r\n      <View style={[Helpers.fillRowCenter, Helpers.center, Helpers.logoContainer]}>\r\n        <Image style={Helpers.fullSize} source={Images.Hexa_icon} resizeMode={'contain'} />\r\n      </View>\r\n    )\r\n  }\r\n  \r\n  /*\r\n    <Row size={1.3}>\r\n          <Col size={1.5} style={{backgroundColor:\"red\"}}>\r\n            <Row size={2.25} style={{backgroundColor:\"blue\"}}>\r\n              <View style={{justifyContent:'center', alignItems: 'center'}}/>\r\n            </Row>\r\n            <Row size={1.50}>\r\n              <Col><Text>Messages</Text></Col>\r\n              <Col><Text>Errors</Text></Col>\r\n            </Row>\r\n          </Col>\r\n          <Col>\r\n            {connectedState === ConnectionState.CONNECTED ? (\r\n              <View style={{...styles.circle, backgroundColor:\"green\", justifyContent:'center', alignItems: 'center'}}>\r\n                <Text>Device is</Text>\r\n                <Text>connected</Text>\r\n              </View>\r\n            ):(\r\n              <View style={{...styles.circle, backgroundColor:\"red\", justifyContent:'center', alignItems: 'center'}}>\r\n                <Text>No Device</Text>\r\n                <Text>connected</Text>\r\n              </View>\r\n            )}\r\n          </Col>\r\n        </Row>\r\n  */\r\n  var App = Platform.OS === \"android\" || Platform.OS === \"ios\" ? true: false\r\n  return(\r\n    <View style={[Helpers.contentContainer, Helpers.fullSize, Helpers.fill]}>\r\n      {App ? (\r\n        <View style={[ Helpers.fill, Helpers.row, Helpers.fullWidth]}>\r\n          <View style={[ Helpers.fill, Helpers.column, {backgroundColor:\"red\"}]}>\r\n            <View style={[ Helpers.fill, Helpers.row, Helpers.fullWidth, {backgroundColor: \"blue\"}]}>\r\n              <View style={{justifyContent:'center', alignItems: 'center'}}/>\r\n            </View>\r\n            <View style={[ Helpers.fill, Helpers.row, Helpers.fullWidth,]}>\r\n              <Text>Messages</Text>\r\n              <Text>Errors</Text>\r\n            </View>\r\n          </View>\r\n          <View style={[ Helpers.fill, Helpers.column]}>\r\n            {connectedState === ConnectionState.CONNECTED ? (\r\n              <View style={{...styles.circle, backgroundColor:\"green\", justifyContent:'center', alignItems: 'center'}}>\r\n                <Text>Device is</Text>\r\n                <Text>connected</Text>\r\n              </View>\r\n            ):(\r\n              <View style={{...styles.circle, backgroundColor:\"red\", justifyContent:'center', alignItems: 'center'}}>\r\n                <Text>No Device</Text>\r\n                <Text>connected</Text>\r\n              </View>\r\n            )}\r\n          </View>\r\n        </View>\r\n      ):(<></>)}\r\n      <View style={[Helpers.buttonContainer, Helpers.midWidth] }>\r\n        <Button Text={CurrentData.TagId} buttonStyle={{backgroundColor: Colors.AgriDarkblue}}\r\n          onPress={() => {} }/>\r\n      </View>\r\n      <View style={[Helpers.fullWidth]}>\r\n        <ContentProp ingrid={true} texts={[\"Section\", \"Pen\"]} datas={[CurrentData.data.section, CurrentData.data.pen]} />\r\n        <View style={{height:20}}/>\r\n        <View style={Helpers.midWidth, Helpers.colCenter}>\r\n          <Input\r\n            label={\"Comment:\"}\r\n            multiline={true}\r\n            containerStyle={[{borderWidth:1}]}\r\n            style={[ApplicationStyles.input]}\r\n            onChangeText={text => {\r\n              \r\n            }}\r\n            value={\r\n              \"NONE\"\r\n            }\r\n          />\r\n        </View>\r\n      </View>\r\n    </View>\r\n  )\r\n}\r\n\r\nconst styles = StyleSheet.create({\r\n  circle: {\r\n    width: 125,\r\n    height: 125,\r\n    borderRadius: 125/2,\r\n    marginTop: Metrics.tiny,\r\n    marginLeft: Metrics.tiny,\r\n  },\r\n});\r\n\r\nconst mapStateToProps = (state) => {\r\n  const { firebase } = state\r\n  return { firebase }\r\n};\r\n\r\nconst mapDispatchToProps  = (dispatch) => {\r\n  return {\r\n    setViewLoading: state => dispatch(FirebaseActions.viewIsLoading(state)),\r\n    setViewError: error => dispatch(FirebaseActions.setViewError(error)),\r\n    \r\n    getWeights: (penId) => dispatch(FirebaseActions.actionStarting(Actions.FETCH, DataRefs.WEIGHING, {PenId: penId})),\r\n\r\n    setCurrentData: penId => dispatch(FirebaseActions.setCurrentData({type:DataRefs.PENS, penId: penId})),\r\n    setCurrentDataElement: element => dispatch(FirebaseActions.setCurrentData(element)),\r\n  }\r\n};\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(DataDisplay);\r\n//export default DataDisplay;","import React, { useEffect, Component } from 'react'\r\nimport { Text, View, ActivityIndicator, Image, StyleSheet, ScrollView, FlatList } from 'react-native'\r\nimport { Input, Icon } from 'react-native-elements'\r\nimport { useDispatch, useSelector, connect } from 'react-redux'\r\nimport { bindActionCreators } from 'redux';\r\n\r\nimport NavigationService from '../../../Services/NavigationService'\r\n\r\nimport FirebaseActions from '../../../Stores/Firebase/Actions'\r\nimport { Actions, DataRefs, GetCurve_FromBatch, CurvePredict, GetBatchEnd, AccumulateTime, format_Time, GetStats_FromBatch, GetStats_FromPen } from '../../../Stores/Firebase/Selectors'\r\n\r\nimport { LineChart } from 'react-native-chart-kit'\r\nimport { Button, TitleElement, CustomListItem, ContentProp } from '../../../Components'\r\nimport Style from './UserPanelStyle'\r\nimport { ApplicationStyles, Helpers, Metrics, Colors } from '../../../Theme'\r\nimport CurveElement, { WeightsToGraphData } from './CurveElement'\r\n\r\nimport { FlatGrid } from 'react-native-super-grid';\r\n\r\nclass DataDisplay extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    var {isClosed, isVirtual, StartDate, EndDate, Animals, TargetWeight, AverageWeight, AverageGrowth, Comments_List, Comments} = this.setData(props)\r\n    this.state = {\r\n      Prediction: false,\r\n\r\n      isClosed: isClosed,\r\n      isVirtual: isVirtual,\r\n\r\n      StartDate: StartDate,\r\n      EndDate: EndDate,\r\n      Animals: Animals,\r\n      TargetWeight: TargetWeight,\r\n      AverageWeight: AverageWeight, \r\n      AverageGrowth:AverageGrowth,\r\n      Comments_List: Comments_List,\r\n      Comments: Comments,\r\n    }\r\n  }\r\n\r\n  setData(Props) {\r\n    const localDataStore = Props.firebase.localDataStore;\r\n    const CurrentData = Props.firebase.currentData;\r\n\r\n    var Batch = localDataStore.batchs[this.props.firebase.currentData.batchId];\r\n    var StartDate, EndDate, TargetWeight, PenCount, Animals, AverageWeight, AverageGrowth, isClosed, isVirtual\r\n    var Data = GetStats_FromBatch(Batch, localDataStore)\r\n    if (Data) {\r\n      StartDate = Data.StartDate\r\n      EndDate = Data.EndDate\r\n      TargetWeight = Data.TargetWeight\r\n      PenCount = Data.PenCount\r\n      Animals = Data.Animals\r\n      AverageWeight = Data.AverageWeight\r\n      AverageGrowth = Data.AverageGrowth\r\n      isClosed = Data.isClosed \r\n      isVirtual = Data.isVirtual\r\n    }\r\n\r\n    var Comments_List = null\r\n    var Comments = [];\r\n    if (Batch && Batch.state && Batch.state === \"Closed\" && Batch.closed && Batch.closed.comments) {\r\n      Comments_List = []\r\n      Object.keys(Batch.pens).reverse().filter(e => (e !== '__jsogObjectId')).forEach(element => {\r\n        var CommentsList = [];\r\n        if (Batch.closed.comments[element]) {\r\n          CommentsList = Batch.closed.comments[element];\r\n          for(var i = 0; i < Object.keys(CommentsList).length; i++) {\r\n            var name = Object.keys(CommentsList)[i]\r\n            if (!name) continue;\r\n            var object = CommentsList[name];\r\n            if (!object || !object.time) continue;\r\n            object.pen = element\r\n            Comments.push({[name]:object})\r\n          }\r\n        }\r\n        Comments_List = Comments_List.concat(CommentsList);\r\n      });\r\n    }\r\n    Comments = Comments.sort((a, b) => (a.time > b.time) ? 1 : -1)\r\n    return { isClosed, isVirtual, StartDate, EndDate, Animals, TargetWeight, AverageWeight, AverageGrowth, Comments_List, Comments }\r\n  }\r\n\r\n  getData() {\r\n    const localDataStore = this.props.firebase.localDataStore;\r\n    const CurrentData = this.props.firebase.currentData;\r\n\r\n    if (CurrentData && CurrentData.batchId && localDataStore.batchs[CurrentData.batchId]){\r\n      const batchData = localDataStore.batchs[CurrentData.batchId]\r\n      \r\n      this.props.getWeights(localDataStore.weighings?localDataStore.weighings.update_time:null, localDataStore.sections)\r\n\r\n      var PenMemTime = null\r\n      if (localDataStore.pens) PenMemTime = localDataStore.pens.update_time\r\n      if (batchData.pens) {\r\n        Object.keys(batchData.pens).filter(e => e !== '__jsogObjectId').forEach(Pen => {\r\n          this.props.getPen(Pen, PenMemTime)\r\n        })\r\n      }\r\n\r\n      var TempGraph = \"\"\r\n      if (CurrentData.curveId) {\r\n        TempGraph = CurrentData.curveId;\r\n      }\r\n      this.props.getCurve(TempGraph)\r\n    }\r\n  }\r\n\r\n  checkData(props) {\r\n  }\r\n\r\n  componentDidUpdate(prevProps, prevState) {\r\n    if (this.props !== prevProps) {\r\n      this.checkData(this.props);\r\n      if (this.props.firebase.localDataStore) {\r\n        var { isClosed, isVirtual, StartDate, EndDate, Animals, TargetWeight, AverageWeight, AverageGrowth, Comments_List, Comments } = this.setData(this.props)\r\n        this.setState({\r\n          Prediction: false,\r\n          isClosed: isClosed,\r\n          isVirtual: isVirtual,\r\n\r\n          StartDate: StartDate,\r\n          EndDate: EndDate,\r\n          Animals: Animals,\r\n          TargetWeight: TargetWeight,\r\n          AverageWeight: AverageWeight, \r\n          AverageGrowth:AverageGrowth,\r\n          Comments_List: Comments_List,\r\n          Comments: Comments,\r\n        })\r\n      }\r\n    }\r\n  }\r\n\r\n  componentDidMount() {\r\n    this.props.setViewLoading(false)\r\n    this.props.setViewError(null)\r\n    this.checkData(this.props);\r\n    this.getData();\r\n  }\r\n\r\n  render() {\r\n    const IsLoading = this.props.firebase.firebaseIsLoading\r\n    const ErrorMessage = this.props.firebase.viewError\r\n\r\n    const localDataStore = this.props.firebase.localDataStore\r\n    const CurrentData = this.props.firebase.currentData;\r\n\r\n    var StartDate = this.state.StartDate\r\n\r\n    var Dif_Time = new Date().getTime() - StartDate\r\n    var Days = Dif_Time / (1000 * 3600 * 24);\r\n    Days = Days.toFixed(0) //TODO: closed date...\r\n\r\n    StartDate = new Date(StartDate).getDate() + \"/\" + (new Date(StartDate).getMonth() +1) + \"/\" + new Date(StartDate).getFullYear()\r\n\r\n    var EndDate = this.state.EndDate\r\n    EndDate = new Date(EndDate).getDate() + \"/\" + (new Date(EndDate).getMonth() +1) + \"/\" + new Date(EndDate).getFullYear()\r\n\r\n    var Virtual = String(this.state.isVirtual)\r\n    Virtual = Virtual.charAt(0).toUpperCase() + Virtual.slice(1)\r\n    return(\r\n      <ScrollView style={[Helpers.fullSize, Helpers.fill]}>\r\n      <View\r\n        style={[\r\n          Helpers.mainContainer,\r\n        ]}\r\n      >\r\n        <View style={[Helpers.contentContainer, Helpers.fullSize, Helpers.fill]}>\r\n          {ErrorMessage ? (\r\n            <Text style={ApplicationStyles.error}>{ErrorMessage}</Text>\r\n          ):(<></>)}\r\n          <TitleElement Text={this.props.firebase.currentData.batchId?this.props.firebase.currentData.batchId:\"-NON-\"}/>\r\n          <View>\r\n            <View style={[Helpers.fullWidth, {justifyContent:'center'}]}>\r\n              <FlatGrid\r\n                itemDimension={120}\r\n                spacing={10}\r\n\r\n                data={[\r\n                  {title: 'Start', data: StartDate},\r\n                  {title: 'End Forecast', data: EndDate},\r\n                  {title: 'Target Weight', data: this.state.TargetWeight},\r\n                  //{title: 'Virtual cal', data: Virtual}\r\n                ]}\r\n                renderItem={({ item }) => (\r\n                  <View style={[Helpers.borderContainer, {textAlign:'center'}]}>\r\n                    <Text>{item.title}</Text>\r\n                    <Text>{item.data}</Text>\r\n                  </View>\r\n                )}\r\n                />\r\n            </View>\r\n            <View style={[Helpers.fullWidth, {justifyContent:'center'}]}>\r\n              <FlatGrid\r\n                itemDimension={120}\r\n                spacing={10}\r\n\r\n                data={[\r\n                  {title: 'Animals', data: this.state.Animals},\r\n                  {title: 'Day', data: Days},\r\n                  {title: 'Avarage weight', data: this.state.AverageWeight},\r\n                  {title: 'Average growth', data: this.state.AverageGrowth}\r\n                ]}\r\n                renderItem={({ item }) => (\r\n                  <View style={[Helpers.borderContainer, {textAlign:'center'}]}>\r\n                    <Text>{item.title}</Text>\r\n                    <Text>{item.data}</Text>\r\n                  </View>\r\n                )}\r\n                />\r\n            </View>\r\n            <Button Text=\"Show Predict\"\r\n                onPress={() => {\r\n                  this.setState({\r\n                    Prediction: !this.state.Prediction\r\n                  })\r\n                } }/>\r\n          </View>\r\n          <View style={[Helpers.fill, Helpers.fullWidth, {minHeight:750}]}>\r\n            <CurveElement Predict={this.state.Prediction} weighings={localDataStore.weighings}/>\r\n          </View>\r\n          {this.state.Comments_List?(\r\n            <View style={[Helpers.fill, Helpers.midWidth, {height:415}]}>\r\n              {/* diff for app / web here ^ */}\r\n              <ContentProp texts={[\"Action log\"]} datas={[]} />\r\n              <View style={{height:10}} />\r\n              <FlatList\r\n                data={this.state.Comments.filter(e => (e !== '__jsogObjectId'))}\r\n                renderItem={({item, index}) => {\r\n                  var Comment = this.state.Comments_List[0][Object.keys(item)[0]]\r\n                  if (!Comment) return null\r\n                  return(\r\n                    <ContentProp texts={[format_Time(Comment.time) + \":\\n\" + Comment.user]}\r\n                                datas={[Comment.pen + \": \" + Comment.action + \":\\n\" + Comment.data]}\r\n                    />\r\n                  )}\r\n                }\r\n                  //Setting the number of column\r\n                  numColumns={1}\r\n                  keyExtractor={(item, index) => String(index)}\r\n                />\r\n            </View>\r\n          ):(<></>)}\r\n        </View>\r\n        {(IsLoading || this.props.firebase.viewIsLoading) &&\r\n          <ActivityIndicator style={Helpers.loadingContainer} size='large' />\r\n        }\r\n      </View>\r\n      </ScrollView>\r\n    )\r\n  }\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n  const { firebase } = state\r\n  return { firebase }\r\n};\r\n\r\nconst mapDispatchToProps  = (dispatch) => {\r\n  return {\r\n    setViewLoading: state => dispatch(FirebaseActions.viewIsLoading(state)),\r\n    setViewError: error => dispatch(FirebaseActions.setViewError(error)),\r\n    \r\n    getPen: (penId, DataTime) => dispatch(FirebaseActions.actionStarting(Actions.FETCH, DataRefs.PENS, {PenId: penId, DataTime:DataTime})),\r\n    getWeights: (DataTime, MemSections) => dispatch(FirebaseActions.actionStarting(Actions.FETCH, DataRefs.WEIGHING, {DataTime: DataTime, MemSections: MemSections})),\r\n    \r\n    getBatch: (batchId) => dispatch(FirebaseActions.actionStarting(Actions.FETCH, DataRefs.BATCHS, {})),\r\n    getCurve: (curveid) => dispatch(FirebaseActions.actionStarting(Actions.FETCH, DataRefs.GRAPH, {GraphId: curveid})),\r\n    setCurve: (curve) => dispatch(FirebaseActions.actionStarting(Actions.CREATE, DataRefs.GRAPH, {Graph: curve}))\r\n  }\r\n};\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(DataDisplay);\r\n//export default DataDisplay;","import React, { useEffect, useState, Component } from 'react'\r\nimport { Platform, Dimensions, Text, View, ActivityIndicator, Image } from 'react-native'\r\nimport { useDispatch, useSelector, connect } from 'react-redux'\r\nimport { bindActionCreators } from 'redux';\r\n\r\nimport NavigationService from '../Services/NavigationService'\r\n\r\n//import DeviceActions from '../Stores/Device/Actions'\r\nimport FirebaseActions from '../Stores/Firebase/Actions'\r\n\r\nimport { Button_Panel } from '../Components'\r\nimport { ApplicationStyles, Helpers, Images } from '../Theme'\r\n\r\nclass ViewContainer extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    \r\n    const window = Dimensions.get(\"window\");\r\n    const screen = Dimensions.get(\"screen\");\r\n\r\n    this.state = {\r\n      dimensions: {window, screen},\r\n      viewState: 0,\r\n\r\n      ShowMainError: false,\r\n      FocusSubscription: null,\r\n\r\n      NaviParams: props.navigation.state.params\r\n    }\r\n  }\r\n\r\n  setData(Props) {\r\n  }\r\n\r\n  getData() {\r\n  }\r\n\r\n  checkData(props) {\r\n  }\r\n\r\n  componentDidUpdate(prevProps, prevState) {\r\n    if (this.props !== prevProps) {\r\n      this.checkData(this.props);\r\n      if (this.props.firebase.viewError != prevProps.firebase.viewError) {\r\n        this.forceUpdate()\r\n      }\r\n    }\r\n  }\r\n\r\n  onChange = ({ window, screen }) => {\r\n    this.setState({\r\n      dimensions: {window, screen},\r\n    })\r\n  };\r\n\r\n  componentDidMount() {\r\n    Dimensions.addEventListener(\"change\", this.onChange);\r\n\r\n    this.props.setFirebaseError(null)\r\n    this.checkData(this.props);\r\n    this.getData();\r\n\r\n    const FocusSubscription = this.props.navigation.addListener(\r\n      'willFocus',\r\n      payload => {\r\n        this.props.setViewLoading(false)\r\n        this.props.setViewError(null)\r\n      }\r\n    );\r\n\r\n    this.setState({\r\n      FocusSubscription: FocusSubscription,\r\n    })\r\n  }\r\n\r\n  componentWillUnmount() {\r\n    if (this.state.FocusSubscription) {\r\n      this.state.FocusSubscription.remove()\r\n    }\r\n    Dimensions.removeEventListener(\"change\", this.onChange);\r\n  }\r\n\r\n  render() {\r\n    const ErrorMessage = this.props.firebase.viewError\r\n    const firebaseErrorMessage = this.props.firebase.firebaseErrorMessage\r\n\r\n    var wide = this.state.dimensions.window.width>900?true:false\r\n    var App = (Platform.OS === 'ios' || Platform.OS === 'android')||!wide\r\n\r\n    var Menu = this.state.NaviParams.Menu\r\n    var Main = this.state.NaviParams.Main\r\n\r\n    if (Menu) {\r\n      if (App) {\r\n        return(\r\n          <Main/>\r\n        )\r\n      } else {\r\n        return(\r\n          <View style={[Helpers.rowMain, Helpers.fullSize, {alignItems:'flex-start'}]}>\r\n            <View style={[Helpers.fillRow, Helpers.fullSize, {flex:1, minWidth:390, maxWidth:400, marginHorizontal: -30, borderRightWidth:1}]}>\r\n              {/* Menu */}\r\n              <Menu/>\r\n            </View>\r\n            <View style={[Helpers.fillRow, Helpers.fullSize, {flex:1, alignItems:'flex-start', marginLeft:20}]}>\r\n              {/* View */}\r\n              <Main/>\r\n            </View>\r\n          </View>\r\n        )\r\n      }\r\n    } else {\r\n      return(\r\n        <Main/>\r\n      )\r\n    }\r\n  }\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n  const { firebase } = state\r\n  return { firebase }\r\n};\r\n\r\nconst mapDispatchToProps  = (dispatch) => {\r\n  return {\r\n    setFirebaseError: error => dispatch(FirebaseActions.setFirebaseError(error)),\r\n    setViewLoading: state => dispatch(FirebaseActions.viewIsLoading(state)),\r\n    setViewError: error => dispatch(FirebaseActions.setViewError(error)),\r\n  }\r\n};\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(ViewContainer);\r\n//export default ViewContainer;\r\n","import React from 'react'\r\nimport { Platform, Dimensions, Text, TouchableOpacity, View } from 'react-native'\r\nimport { createAppContainer } from 'react-navigation'\r\nimport { createStackNavigator } from 'react-navigation-stack'\r\n// Import vector icons\r\nimport { Icon } from 'react-native-elements'\r\n\r\nimport NavigationService from '../Services/NavigationService'\r\n\r\nimport UserFrontScreen from '../Containers/Cloud/UserPanel/FrontScreen'\r\nimport UserDashBoardScreen from '../Containers/Cloud/UserPanel/Dashboard'\r\nimport UserPigsScreen from '../Containers/Cloud/UserPanel/Pigs'\r\nimport UserPensScreen from '../Containers/Cloud/UserPanel/Pens'\r\nimport UserBatchsScreen from '../Containers/Cloud/UserPanel/Batchs'\r\nimport UserCurvesScreen from '../Containers/Cloud/UserPanel/GrowthCurves'\r\nimport AutoPigScreen from '../Containers/Cloud/UserPanel/AutoPig'\r\n\r\nimport UserOperationsScreen from '../Containers/Cloud/UserPanel/Operations'\r\nimport Weighing from '../Containers/Cloud/UserPanel/Weighing'\r\n\r\nimport UserDataEditor from '../Containers/Cloud/UserPanel/DataEditor'\r\nimport UserDataDisplay from '../Containers/Cloud/UserPanel/DataDisplay'\r\nimport UserDataPlotter from '../Containers/Cloud/UserPanel/DataPlotter'\r\n\r\nimport WebViewer from './WebViewer'\r\n\r\nimport { ApplicationStyles } from '../Theme'\r\n\r\nfunction ViewTransformer (Main, Title) {\r\n  const window = Dimensions.get(\"window\");\r\n  const screen = Dimensions.get(\"screen\");\r\n  \r\n  var wide = window.width>900?true:false\r\n  var App = (Platform.OS === 'ios' || Platform.OS === 'android')||!wide\r\n\r\n  var NavComponent = {}\r\n  if (App) {\r\n    NavComponent.screen = Main\r\n    NavComponent.navigationOptions = () => ({\r\n      title: Title,\r\n    })\r\n  } else {\r\n    NavComponent.screen = WebViewer\r\n    NavComponent.navigationOptions = () => ({\r\n      title: Title,\r\n      headerMode: App?'screen':'none',\r\n      headerShown: App?true:false,\r\n    })\r\n  }\r\n\r\n  return NavComponent\r\n}\r\n\r\n/**\r\n * The root screen contains the application's navigation.\r\n *\r\n * @see https://reactnavigation.org/docs/en/hello-react-navigation.html#creating-a-stack-navigator\r\n */\r\nconst StackNavigator = createStackNavigator(\r\n  {\r\n    // Create the application routes here (the key is the route name, the value is the target screen)\r\n    // See https://reactnavigation.org/docs/en/stack-navigator.html#routeconfigs\r\n    \r\n    UserFront: {\r\n      screen: WebViewer,\r\n      navigationOptions: () => ({\r\n        title: 'Front Pannel',\r\n        headerMode: (Dimensions.get(\"window\").width < 900 || (Platform.OS === 'ios' || Platform.OS === 'android'))?'screen':'none',\r\n        headerShown: (Dimensions.get(\"window\").width < 900 || (Platform.OS === 'ios' || Platform.OS === 'android'))?true:false,\r\n        headerLeft: (props) => (\r\n          <View style={{padding:6, paddingLeft: 15}}>\r\n            <Icon type='ionicon' name=\"arrow-back\" size={25} color=\"black\" onPress={() => {\r\n              if (props.label === \"System Board\") {\r\n                NavigationService.nacigationPop()\r\n              }\r\n              else NavigationService.navigate('MainStack')\r\n            }}/>\r\n          </View>\r\n        ),\r\n      }),\r\n      params: (Dimensions.get(\"window\").width < 900 || (Platform.OS === 'ios' || Platform.OS === 'android'))?{Main: UserFrontScreen}:{Menu: UserFrontScreen, Main: UserDashBoardScreen},\r\n      path: 'user_front',\r\n    },\r\n\r\n    UserDashBoard: {\r\n      ...ViewTransformer(UserDashBoardScreen, 'Dashboard'), \r\n      ...{\r\n        params: {Menu: UserFrontScreen, Main: UserDashBoardScreen},\r\n        path: 'user_dashboard',\r\n      }\r\n    },\r\n\r\n    UserPigs: {\r\n      ...ViewTransformer(UserPigsScreen, 'Pigs'), \r\n      ...{\r\n        params: {Menu: UserFrontScreen, Main: UserPigsScreen},\r\n        path: 'user_pigs',\r\n      }\r\n    },\r\n\r\n    UserPens: {\r\n      ...ViewTransformer(UserPensScreen, 'Pens'), \r\n      ...{\r\n        params: {Menu: UserFrontScreen, Main: UserPensScreen},\r\n        path: 'user_pens',\r\n      }\r\n    },\r\n\r\n    UserBatchs: {\r\n      ...ViewTransformer(UserBatchsScreen, 'Batchs'), \r\n      ...{\r\n        params: {Menu: UserFrontScreen, Main: UserBatchsScreen},\r\n        path: 'user_batchs',\r\n      }\r\n    },\r\n\r\n    UserCurves: {\r\n      ...ViewTransformer(UserCurvesScreen, 'Curves'), \r\n      ...{\r\n        params: {Menu: UserFrontScreen, Main: UserCurvesScreen},\r\n        path: 'user_curves',\r\n      }\r\n    },\r\n    \r\n    AutoPig: {\r\n      ...ViewTransformer(AutoPigScreen, 'AutoPig'), \r\n      ...{\r\n        params: {Menu: UserFrontScreen, Main: AutoPigScreen},\r\n        path: 'user_autopigs',\r\n      }\r\n    },\r\n\r\n    /**************** Operations */\r\n    UserOperations: {\r\n      ...ViewTransformer(UserOperationsScreen, 'Operations'), \r\n      ...{\r\n        params: {Menu: UserFrontScreen, Main: UserOperationsScreen},\r\n        path: 'user_operations',\r\n      }\r\n    },\r\n\r\n    WeighingOperations: {\r\n      ...ViewTransformer(Weighing, 'Operations'), \r\n      ...{\r\n        params: {Menu: UserFrontScreen, Main: Weighing},\r\n        path: 'weight_operations',\r\n      }\r\n    },\r\n\r\n    /**************** Data Displays */\r\n    DataEditor: {\r\n      ...ViewTransformer(UserDataEditor, 'User Data'), \r\n      ...{\r\n        params: {Menu: UserFrontScreen, Main: UserDataEditor},\r\n        path: 'user_dataedtior',\r\n      }\r\n    },\r\n\r\n    DataDisplay: {\r\n      ...ViewTransformer(UserDataDisplay, 'User Data'), \r\n      ...{\r\n        params: {Menu: UserFrontScreen, Main: UserDataDisplay},\r\n        path: 'user_datadisplay',\r\n      }\r\n    },\r\n\r\n    DataPlotter: {\r\n      ...ViewTransformer(UserDataPlotter, 'Batch Data'), \r\n      ...{\r\n        params: {Menu: UserFrontScreen, Main: UserDataPlotter},\r\n        path: 'user_dataplotter',\r\n      }\r\n    },\r\n  },\r\n  {\r\n    initialRouteName: 'UserFront', \r\n\r\n    // See https://reactnavigation.org/docs/en/stack-navigator.html#stacknavigatorconfig\r\n    headerMode: 'float',\r\n    defaultNavigationOptions:{\r\n      headerTitleAlign: 'center',\r\n      headerTitleStyle:{...ApplicationStyles.navigationHeader},\r\n      headerRight: () => (<View style={{padding:6}}></View>),\r\n    },\r\n  }\r\n)\r\n\r\nexport default StackNavigator\r\n","import { StyleSheet } from 'react-native'\r\nimport { Helpers, Metrics, Fonts, Colors } from '../../../Theme'\r\n\r\nexport default StyleSheet.create({\r\n\r\n})\r\n","import React, { useEffect, Component } from 'react'\r\nimport { Platform, Text, View, ActivityIndicator } from 'react-native'\r\nimport { useDispatch, useSelector, connect } from 'react-redux'\r\nimport { bindActionCreators } from 'redux';\r\n\r\nimport NavigationService from '../../../Services/NavigationService'\r\n\r\nimport FirebaseActions from '../../../Stores/Firebase/Actions'\r\nimport { Actions, DataRefs } from '../../../Stores/Firebase/Selectors'\r\n\r\nimport { Button, Button_Panel } from '../../../Components'\r\nimport Style from './AdminPanelStyle'\r\nimport { ApplicationStyles, Helpers, Metrics, Images } from '../../../Theme'\r\n\r\nclass FrontScreen extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      ISLOADPAGE: true,\r\n    }\r\n  }\r\n\r\n  getData(){\r\n  }\r\n\r\n  checkData(props) {\r\n  }\r\n\r\n  componentDidMount() {\r\n    this.props.setViewLoading(false)\r\n    this.props.setViewError(null)\r\n    this.props.clearDataMem()\r\n    this.checkData(this.props)\r\n    this.getData()\r\n  }\r\n\r\n  componentDidUpdate(prevProps, prevState) {\r\n    if (this.props !== prevProps){\r\n      this.checkData(this.props);\r\n    }\r\n  }\r\n\r\n  render() {\r\n    const IsLoading = this.props.firebase.firebaseIsLoading\r\n    const firebaseUser = this.props.firebase.firebaseUser\r\n    \r\n    return(\r\n      <View\r\n      style={[\r\n        Helpers.mainContainer,\r\n      ]}\r\n      >\r\n        <View style={[Helpers.contentContainer, Helpers.fullSize, Helpers.fillColMain]}>\r\n          {firebaseUser?(\r\n          <View style={ Helpers.textContainer }>\r\n            <Text style={ApplicationStyles.text}>Welcome: {firebaseUser.displayName ? firebaseUser.displayName : firebaseUser.email}</Text>\r\n          </View>):(<></>)}\r\n\r\n          <Button_Panel \r\n            Texts={[\"User Board\", \"Systems\", \"Tools\"]}\r\n            Images={[Images.DashBoard, Images.System,]}\r\n            onPress={(ele) => {\r\n              switch(ele.text) {\r\n                case \"User Board\":\r\n                  NavigationService.navigate(\"UserBoard\")\r\n                  break;\r\n                case \"Systems\":\r\n                  NavigationService.navigate(\"SystemBoard\")\r\n                  break;\r\n                case \"Tools\":\r\n                  NavigationService.navigate(\"ToolsBoard\")\r\n                  break;\r\n              }\r\n              ele.text\r\n            }}\r\n          />\r\n          \r\n          <View style={[Helpers.buttonContainer, Helpers.midWidth] }>\r\n            <Button Text=\"LogOut\"\r\n              onPress={() => {\r\n                this.props.logOut()\r\n              }}/>\r\n          </View>\r\n        </View>\r\n        {(IsLoading || this.props.firebase.viewIsLoading) &&\r\n          <ActivityIndicator style={Helpers.loadingContainer} size='large' />\r\n        }\r\n      </View>\r\n    )\r\n  }\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n  const { firebase } = state\r\n  return { firebase }\r\n};\r\n\r\nconst mapDispatchToProps  = (dispatch) => {\r\n  return {\r\n    setFirebaseError: error => dispatch(FirebaseActions.setFirebaseError(error)),\r\n    setViewLoading: state => dispatch(FirebaseActions.viewIsLoading(state)),\r\n    setViewError: error => dispatch(FirebaseActions.setViewError(error)),\r\n\r\n    clearDataMem: () => dispatch(FirebaseActions.actionStarting(Actions.CLEAR, DataRefs.USERSDATA)),\r\n    logOut: () => dispatch(FirebaseActions.actionStarting(Actions.SIGN, DataRefs.USERSDATA)),\r\n  }\r\n};\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(FrontScreen);\r\n//export default FrontScreen;\r\n","import React, { useEffect, useState, Component } from 'react'\r\nimport { Platform, Text, View, ActivityIndicator, Image, StyleSheet, ScrollView, SafeAreaView, FlatList } from 'react-native'\r\nimport { ListItem, Input } from 'react-native-elements'\r\nimport { useDispatch, useSelector, connect } from 'react-redux'\r\nimport { bindActionCreators } from 'redux';\r\n\r\nimport NavigationService from '../../../Services/NavigationService'\r\n\r\nimport FirebaseActions from '../../../Stores/Firebase/Actions'\r\nimport { Actions, DataRefs, sortObject } from '../../../Stores/Firebase/Selectors'\r\n\r\nimport { Button, OperationsPanel, CustomListItem, ContentProp } from '../../../Components'\r\nimport Style from '../../../Containers/Cloud/CloudScreenStyle'\r\nimport { ApplicationStyles, Helpers, Metrics } from '../../../Theme'\r\n\r\nimport { FlatGrid, SectionGrid } from 'react-native-super-grid';\r\n\r\nclass UserListBoard extends Component {\r\n  constructor(props){\r\n    super(props);\r\n\r\n    const {UserList} = this.setData(props)\r\n    this.state = {\r\n      UserList: UserList,\r\n      User: \"\"\r\n    }\r\n  }\r\n\r\n  getData() {\r\n    this.props.getUsers()\r\n  }\r\n\r\n  setData(Props) {\r\n    const localDataStore = Props.firebase.localDataStore\r\n\r\n    var UserList = null\r\n    if (localDataStore && localDataStore.users) {\r\n      UserList = sortObject(localDataStore.users)\r\n    }\r\n    \r\n    return {UserList}\r\n  }\r\n\r\n  checkData(props) {\r\n  }\r\n\r\n  componentDidMount() {\r\n    this.props.setViewLoading(false)\r\n    this.props.setViewError(null)\r\n    this.checkData(this.props)\r\n    this.getData()\r\n  }\r\n\r\n  componentDidUpdate(prevProps, prevState) {\r\n    if (this.props !== prevProps){\r\n      this.checkData(this.props);\r\n\r\n      if (this.props.firebase) {\r\n        if (this.props.firebase.localDataStore) {\r\n          if (this.props.firebase.localDataStore.users && JSON.stringify(this.state.UserList)!==JSON.stringify(sortObject(this.props.firebase.localDataStore.users))) {\r\n            const {UserList} = this.setData(this.props)\r\n            this.setState({\r\n              UserList: UserList,\r\n            })\r\n          }\r\n        }\r\n      }\r\n    }\r\n  }\r\n\r\n  render() {\r\n    const IsLoading = this.props.firebase.firebaseIsLoading\r\n\r\n    return(\r\n      <View\r\n        style={[\r\n          Helpers.mainContainer,\r\n        ]}\r\n      >\r\n        <View style={[Helpers.contentContainer, Helpers.fullWidth, Helpers.fill]}>\r\n          <View style={[Helpers.fill, Helpers.buttonContainer, Helpers.fullWidth, Metrics.bottomMargin, Helpers.column, {maxWidth:'100%',}]}>\r\n            {this.state.UserList ? (\r\n              <View style={[Helpers.fill, Helpers.borderContainer, Metrics.smallHorizontalPadding, Metrics.smallVerticalPadding, {maxWidth:'100%', marginTop:10}]}>\r\n                <SafeAreaView style={styles.container}>\r\n                  <FlatList\r\n                    data={Object.keys(this.state.UserList).filter(e => e !== '__jsogObjectId')}\r\n                    renderItem={({item, index})=>{\r\n                      var User = this.state.UserList[item];\r\n                      return(\r\n                        <View style={[Helpers.fill, Helpers.rowCenter, Helpers.fullWidth, {height:35}]}>\r\n                          <CustomListItem Title={User.name} itemStyle={[{minWidth: 190, height:35,}]} onPress={() => {\r\n                              //this.props.setData(item, Section, Pen)\r\n                              //NavigationService.navigate(\"DataDisplay\")\r\n                            }}/>\r\n\r\n                          <CustomListItem itemStyle={[{width:70, height:35, justifyContent:\"center\"}]} Title={\"\"} onPress={() => {\r\n                              this.setState({\r\n                                User: User.name\r\n                              })\r\n                            }}/>\r\n\r\n                          <CustomListItem itemStyle={[{width:90, height:35}]} Title={User.state} onPress={() => {\r\n                              this.setState({\r\n                                User: User.name\r\n                              })\r\n                            }}/>\r\n                        </View>\r\n                      )\r\n                    }}\r\n                    keyExtractor={(item, index) => index.toString()}\r\n                  />\r\n                </SafeAreaView>\r\n              </View>\r\n            ):(<></>)} \r\n            <Input\r\n              label={\"User-tag:\"}\r\n              containerStyle={[{borderWidth:1, marginTop:10}]}\r\n              style={[ApplicationStyles.input, ]}\r\n              onChangeText={text => {\r\n                this.setState({\r\n                  User: text\r\n                })\r\n              }}\r\n              value={\r\n                this.state.User\r\n              }\r\n            />\r\n          </View>\r\n        </View>\r\n        {(IsLoading || this.props.firebase.viewIsLoading) &&\r\n          <ActivityIndicator style={Helpers.loadingContainer} size='large' />\r\n        }\r\n      </View>\r\n    )\r\n  }\r\n}\r\n\r\nconst styles = StyleSheet.create({\r\n  circle: {\r\n    width: 125,\r\n    height: 125,\r\n    borderRadius: 125/2,\r\n    marginTop: Metrics.tiny,\r\n    marginLeft: Metrics.tiny,\r\n  },\r\n});\r\n\r\nconst mapStateToProps = (state) => {\r\n  const { firebase } = state\r\n  return { firebase }\r\n};\r\n\r\nconst mapDispatchToProps  = (dispatch) => {\r\n  return {\r\n    setFirebaseError: error => dispatch(FirebaseActions.setFirebaseError(error)),\r\n    setViewLoading: state => dispatch(FirebaseActions.viewIsLoading(state)),\r\n    setViewError: error => dispatch(FirebaseActions.setViewError(error)),\r\n\r\n    getUsers: () => dispatch(FirebaseActions.actionStarting(Actions.FETCH, DataRefs.USERS, {UserId:\"\"})),\r\n  }\r\n};\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(UserListBoard);","import React, { useEffect, useState, Component } from 'react'\r\nimport { Platform, Text, View, ActivityIndicator, Image, StyleSheet, ScrollView, SafeAreaView, FlatList } from 'react-native'\r\nimport { ListItem, Input } from 'react-native-elements'\r\nimport { useDispatch, useSelector, connect } from 'react-redux'\r\nimport { bindActionCreators } from 'redux';\r\n\r\nimport NavigationService from '../../../Services/NavigationService'\r\n\r\nimport FirebaseActions from '../../../Stores/Firebase/Actions'\r\nimport { Actions, DataRefs, sortObject } from '../../../Stores/Firebase/Selectors'\r\n\r\nimport { Button, OperationsPanel, CustomListItem, ContentProp } from '../../../Components'\r\nimport Style from '../../../Containers/Cloud/CloudScreenStyle'\r\nimport { ApplicationStyles, Helpers, Metrics } from '../../../Theme'\r\n\r\nimport { FlatGrid, SectionGrid } from 'react-native-super-grid';\r\n\r\nclass SystemListBoard extends Component {\r\n  constructor(props){\r\n    super(props);\r\n\r\n    const {FarmList} = this.setData(props)\r\n    this.state = {\r\n      FarmList: FarmList,\r\n      Farm: {name: \"\"}\r\n    }\r\n  }\r\n\r\n  getData() {\r\n    this.props.getFarms()\r\n  }\r\n\r\n  setData(Props) {\r\n    const localDataStore = Props.firebase.localDataStore\r\n\r\n    var FarmList = null\r\n    if (localDataStore && localDataStore.farms) {\r\n      FarmList = sortObject(localDataStore.farms)\r\n    }\r\n    return {FarmList}\r\n  }\r\n\r\n  checkData(props) {\r\n  }\r\n\r\n  componentDidMount() {\r\n    this.props.setViewLoading(false)\r\n    this.props.setViewError(null)\r\n    this.checkData(this.props)\r\n    this.getData()\r\n  }\r\n\r\n  componentDidUpdate(prevProps, prevState) {\r\n    if (this.props !== prevProps){\r\n      this.checkData(this.props);\r\n\r\n      if (this.props.firebase) {\r\n        if (this.props.firebase.localDataStore) {\r\n          if (this.props.firebase.localDataStore.farms && JSON.stringify(this.state.FarmList)!==JSON.stringify(sortObject(this.props.firebase.localDataStore.farms))) {\r\n            const {FarmList} = this.setData(this.props)\r\n            this.setState({\r\n              FarmList: FarmList,\r\n            })\r\n          }\r\n        }\r\n      }\r\n    }\r\n  }\r\n\r\n  render() {\r\n    const IsLoading = this.props.firebase.firebaseIsLoading\r\n\r\n    return(\r\n      <View\r\n        style={[\r\n          Helpers.mainContainer,\r\n        ]}\r\n      >\r\n        <View style={[Helpers.contentContainer, Helpers.fullWidth, Helpers.fill]}>\r\n          <View style={[Helpers.fill, Helpers.buttonContainer, Helpers.fullWidth, Metrics.bottomMargin, Helpers.column, {maxWidth:'100%',}]}>\r\n            {this.state.FarmList ? (\r\n              <View style={[Helpers.fill, Helpers.borderContainer, Metrics.smallHorizontalPadding, Metrics.smallVerticalPadding, {maxWidth:'100%', marginTop:10}]}>\r\n                <SafeAreaView style={styles.container}>\r\n                  <FlatList\r\n                    data={Object.keys(this.state.FarmList).filter(e => e !== '__jsogObjectId')}\r\n                    renderItem={({item, index})=>{\r\n                      var Farm = this.state.FarmList[item];\r\n                      Farm.id = item\r\n                      return(\r\n                        <View style={[Helpers.fill, Helpers.rowCenter, Helpers.fullWidth, {height:35}]}>\r\n                          <CustomListItem Title={Farm.name} itemStyle={[{minWidth: 100, height:35,}]} onPress={() => {\r\n                              //this.props.setData(item, Section, Pen)\r\n                              //NavigationService.navigate(\"DataDisplay\")\r\n                            }}/>\r\n\r\n                          <CustomListItem itemStyle={[{minWidth:150, height:35, justifyContent:\"center\"}]} Title={Farm.manager} onPress={() => {\r\n                              this.setState({\r\n                                Farm: Farm\r\n                              })\r\n                            }}/>\r\n\r\n                          <CustomListItem itemStyle={[{minWidth:150, height:35}]} Title={Farm.email} onPress={() => {\r\n                              this.setState({\r\n                                Farm: Farm\r\n                              })\r\n                            }}/>\r\n                        </View>\r\n                      )\r\n                    }}\r\n                    keyExtractor={(item, index) => index.toString()}\r\n                  />\r\n                </SafeAreaView>\r\n              </View>\r\n            ):(<></>)} \r\n            <View style={[Helpers.rowCenter, Helpers.fullWidth, {height:120}]}>\r\n              <Input\r\n                label={\"Farm-tag:\"}\r\n                containerStyle={[Helpers.halvWidth,{borderWidth:1, marginTop:10}]}\r\n                style={[ApplicationStyles.input, ]}\r\n                editable={false}\r\n                onChangeText={text => {\r\n                  var Farm = this.state.Farm;\r\n                  Farm.name = text;\r\n                  this.setState({\r\n                    Farm: Farm\r\n                  })\r\n                }}\r\n                value={\r\n                  this.state.Farm.name\r\n                }\r\n              />\r\n              <Button Text=\"Consys\"\r\n                boxStyle={[{marginLeft:10}]}\r\n                onPress={() => {\r\n                  //this.props.logOut()\r\n                }}/>\r\n              <Button Text=\"Farm Panel\"\r\n                boxStyle={[{marginLeft:10}]}\r\n                onPress={() => {\r\n                  if (this.state.Farm.id !== \"\") {\r\n                    this.props.clearDataMem()\r\n                    this.props.setUserFarm(this.state.Farm.id)\r\n                    NavigationService.navigate(\"UserPanel\")\r\n                  }\r\n                }}/>\r\n            </View>\r\n          </View>\r\n        </View>\r\n        {(IsLoading || this.props.firebase.viewIsLoading) &&\r\n          <ActivityIndicator style={Helpers.loadingContainer} size='large' />\r\n        }\r\n      </View>\r\n    )\r\n  }\r\n}\r\n\r\nconst styles = StyleSheet.create({\r\n  circle: {\r\n    width: 125,\r\n    height: 125,\r\n    borderRadius: 125/2,\r\n    marginTop: Metrics.tiny,\r\n    marginLeft: Metrics.tiny,\r\n  },\r\n});\r\n\r\nconst mapStateToProps = (state) => {\r\n  const { firebase } = state\r\n  return { firebase }\r\n};\r\n\r\nconst mapDispatchToProps  = (dispatch) => {\r\n  return {\r\n    setFirebaseError: error => dispatch(FirebaseActions.setFirebaseError(error)),\r\n    setViewLoading: state => dispatch(FirebaseActions.viewIsLoading(state)),\r\n    setViewError: error => dispatch(FirebaseActions.setViewError(error)),\r\n\r\n    clearDataMem: () => dispatch(FirebaseActions.actionStarting(Actions.CLEAR, DataRefs.USERSDATA)),\r\n    getFarms: () => dispatch(FirebaseActions.actionStarting(Actions.FETCH, DataRefs.FARMS, {FarmId: \"\"})),\r\n    setUserFarm: (FarmId) => dispatch(FirebaseActions.actionStarting(Actions.UPDATE, DataRefs.USERS, {farms:{[FarmId]: true}})),\r\n  }\r\n};\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(SystemListBoard);","import React, { useEffect, useState, Component } from 'react'\r\nimport { Platform, Text, View, ActivityIndicator, Image, StyleSheet, ScrollView, SafeAreaView, FlatList } from 'react-native'\r\nimport { ListItem, Input } from 'react-native-elements'\r\nimport { useDispatch, useSelector, connect } from 'react-redux'\r\nimport { bindActionCreators } from 'redux';\r\n\r\nimport NavigationService from '../../../Services/NavigationService'\r\n\r\nimport FirebaseActions from '../../../Stores/Firebase/Actions'\r\nimport { Actions, DataRefs, sortObject } from '../../../Stores/Firebase/Selectors'\r\n\r\nimport { Button, OperationsPanel, CustomListItem, ContentProp } from '../../../Components'\r\nimport Style from '../../../Containers/Cloud/CloudScreenStyle'\r\nimport { ApplicationStyles, Helpers, Metrics } from '../../../Theme'\r\n\r\n\r\nclass Tools extends Component {\r\n  constructor(props){\r\n    super(props);\r\n\r\n    //const {} = this.setData(props)\r\n    this.state = {\r\n    }\r\n  }\r\n\r\n  getData() {\r\n    this.props.getUsers()\r\n  }\r\n\r\n  setData(Props) {\r\n    \r\n  }\r\n\r\n  checkData(props) {\r\n  }\r\n\r\n  componentDidMount() {\r\n    this.props.setViewLoading(false)\r\n    this.props.setViewError(null)\r\n    this.checkData(this.props)\r\n    this.getData()\r\n  }\r\n\r\n  componentDidUpdate(prevProps, prevState) {\r\n    if (this.props !== prevProps){\r\n      this.checkData(this.props);\r\n\r\n      if (this.props.firebase) {\r\n        if (this.props.firebase.localDataStore) {\r\n         \r\n        }\r\n      }\r\n    }\r\n  }\r\n\r\n  render() {\r\n    const IsLoading = this.props.firebase.firebaseIsLoading\r\n\r\n    //const customData = require('C:\\\\Users\\\\daniel\\\\Desktop\\\\Anders_Gunder-System_A-Valve Adresses.js');\r\n    //console.log(customData, customData.TAICONFIG_Section_Valve_Definition)\r\n    return(\r\n      <View\r\n        style={[\r\n          Helpers.mainContainer,\r\n        ]}\r\n      >\r\n        <View style={[Helpers.contentContainer, Helpers.fullWidth, Helpers.fill]}>\r\n          \r\n        </View>\r\n        {(IsLoading || this.props.firebase.viewIsLoading) &&\r\n          <ActivityIndicator style={Helpers.loadingContainer} size='large' />\r\n        }\r\n      </View>\r\n    )\r\n  }\r\n}\r\n\r\nconst styles = StyleSheet.create({\r\n  circle: {\r\n    width: 125,\r\n    height: 125,\r\n    borderRadius: 125/2,\r\n    marginTop: Metrics.tiny,\r\n    marginLeft: Metrics.tiny,\r\n  },\r\n});\r\n\r\nconst mapStateToProps = (state) => {\r\n  const { firebase } = state\r\n  return { firebase }\r\n};\r\n\r\nconst mapDispatchToProps  = (dispatch) => {\r\n  return {\r\n    setFirebaseError: error => dispatch(FirebaseActions.setFirebaseError(error)),\r\n    setViewLoading: state => dispatch(FirebaseActions.viewIsLoading(state)),\r\n    setViewError: error => dispatch(FirebaseActions.setViewError(error)),\r\n\r\n    getUsers: () => dispatch(FirebaseActions.actionStarting(Actions.FETCH, DataRefs.USERS, {UserId:\"\"})),\r\n  }\r\n};\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(Tools);","import React from 'react'\r\nimport { createAppContainer } from 'react-navigation'\r\nimport { createStackNavigator } from 'react-navigation-stack'\r\nimport { TouchableOpacity, View, Text } from 'react-native'\r\nimport { Icon } from 'react-native-elements'\r\n\r\nimport NavigationService from '../Services/NavigationService'\r\n\r\nimport AdminFrontScreen from '../Containers/Cloud/AdminPanel/FrontScreen'\r\n\r\nimport AdminUserBoard from '../Containers/Cloud/AdminPanel/UserBoard'\r\nimport AdminSystemBoard from '../Containers/Cloud/AdminPanel/SystemBoard'\r\nimport AdminTools from '../Containers/Cloud/AdminPanel/Tools'\r\n\r\nimport UserPanelNavigation from '../Navigators/UserPanelNavigator'\r\n\r\nimport { ApplicationStyles } from '../Theme'\r\n\r\n/**\r\n * The root screen contains the application's navigation.\r\n *\r\n * @see https://reactnavigation.org/docs/en/hello-react-navigation.html#creating-a-stack-navigator\r\n */\r\nconst StackNavigator = createStackNavigator(\r\n  {\r\n    // Create the application routes here (the key is the route name, the value is the target screen)\r\n    // See https://reactnavigation.org/docs/en/stack-navigator.html#routeconfigs\r\n    \r\n    AdminFront: {\r\n      screen: AdminFrontScreen,\r\n      navigationOptions: () => ({\r\n        title: 'Admin Panel',\r\n        headerLeft: () => (\r\n          <View style={{padding:6, paddingLeft: 15}}>\r\n            <Icon type='ionicon' name=\"md-arrow-back\" size={25} color=\"black\" onPress={() => NavigationService.navigate('MainStack')}/>\r\n          </View>\r\n        ),\r\n      }),\r\n      path: 'admin_front',\r\n    },\r\n\r\n    UserBoard: {\r\n      screen: AdminUserBoard,\r\n      navigationOptions: () => ({\r\n        title: 'User Board',\r\n      }),\r\n      path: 'admin_user_board',\r\n    },\r\n    SystemBoard: {\r\n      screen: AdminSystemBoard,\r\n      navigationOptions: () => ({\r\n        title: 'System Board',\r\n      }),\r\n      path: 'admin_system_board',\r\n    },\r\n    ToolsBoard: {\r\n      screen: AdminTools,\r\n      navigationOptions: () => ({\r\n        title: 'Tools Board',\r\n      }),\r\n      path: 'admin_tools',\r\n    },\r\n\r\n    UserPanel: {\r\n      screen: UserPanelNavigation,\r\n      navigationOptions: () => ({\r\n        title: 'Admin Panel',\r\n        headerLeft: () => (\r\n          <View style={{padding:6, paddingLeft: 15}}>\r\n            <Icon type='ionicon' name=\"md-arrow-back\" size={25} color=\"black\" onPress={() => NavigationService.navigate('SystemBoard')}/>\r\n          </View>\r\n        ),\r\n      }),\r\n      path: 'admin_front',\r\n    },\r\n  },\r\n  {\r\n    initialRouteName: 'AdminFront', \r\n\r\n    // See https://reactnavigation.org/docs/en/stack-navigator.html#stacknavigatorconfig\r\n    headerMode: 'float',\r\n    defaultNavigationOptions:{\r\n      headerTitleAlign: 'center',\r\n      headerTitleStyle:{...ApplicationStyles.navigationHeader},\r\n      headerRight: () => (<View style={{padding:6}}></View>),\r\n    },\r\n  }\r\n)\r\n\r\nexport default StackNavigator\r\n","import React from 'react'\r\nimport { createAppContainer } from 'react-navigation'\r\nimport { createStackNavigator } from 'react-navigation-stack'\r\nimport { TouchableOpacity, Icon, View, Text } from 'react-native'\r\n\r\nimport SplashScreen from '../Containers/SplashScreen/SplashScreen'\r\nimport DeepLinkingScreen from '../Containers/DeepLinking/DeepLinkingScreen'\r\n\r\nimport FrontNavigation from '../Navigators/FrontNavigator'\r\nimport AuthNavigation from '../Navigators/AuthNavigator'\r\n\r\nimport UserPanelNavigation from '../Navigators/UserPanelNavigator'\r\nimport AdminPanelNavigator from '../Navigators/AdminPanelNavigator'\r\nimport { ApplicationStyles } from '../Theme'\r\n\r\n/**\r\n * The root screen contains the application's navigation.\r\n *\r\n * @see https://reactnavigation.org/docs/en/hello-react-navigation.html#creating-a-stack-navigator\r\n */\r\nconst StackNavigator = createStackNavigator(\r\n  {\r\n    // Create the application routes here (the key is the route name, the value is the target screen)\r\n    // See https://reactnavigation.org/docs/en/stack-navigator.html#routeconfigs\r\n    SplashScreen: {\r\n      screen: SplashScreen,\r\n      navigationOptions: () => ({\r\n        headerShown: false,\r\n      }),\r\n    },\r\n\r\n    MainStack: {\r\n      screen: FrontNavigation, // Called By StartupSaga.js\r\n      path: 'Front',\r\n    },\r\n    \r\n    AuthStack: AuthNavigation, // All user pages\r\n\r\n    UserPanel: UserPanelNavigation, // 'Free' Users Pages... \r\n\r\n    AdminPanel: AdminPanelNavigator, // Admin Pages\r\n\r\n    DeepLinkingScreen: {\r\n      screen: DeepLinkingScreen,\r\n      path: 'deeplink',\r\n    },\r\n  },\r\n  {\r\n    // By default the application will show the splash screen\r\n    initialRouteName: 'SplashScreen',\r\n    // See https://reactnavigation.org/docs/en/stack-navigator.html#stacknavigatorconfig\r\n    headerMode: 'none',\r\n    defaultNavigationOptions:{\r\n      headerTitleAlign: 'center',\r\n      headerRight: () => (<View style={{padding:6}}></View>),\r\n    },\r\n  }\r\n)\r\n\r\nexport default createAppContainer(StackNavigator)\r\n","import React, { useEffect } from 'react'\r\nimport { View } from 'react-native'\r\nimport { useDispatch } from 'react-redux'\r\n\r\nimport NavigationService from '../../Services/NavigationService'\r\nimport AppNavigator from '../../Navigators/AppNavigator'\r\n\r\nimport StartupActions from '../../Stores/Startup/Actions'\r\nimport { Helpers } from '../../Theme'\r\n\r\nconst RootScreen = () => {\r\n  // Deep linking prefix\r\n  const prefix = ['https://agrisysdje.github.io/','agrisysapp://'];\r\n  \r\n  const dispatch = useDispatch()\r\n\r\n  useEffect(() => {\r\n    dispatch(StartupActions.startup())\r\n  }, [])\r\n\r\n  return (\r\n    <View style={Helpers.fill}>\r\n      <AppNavigator\r\n        // Initialize the NavigationService (see https://reactnavigation.org/docs/en/navigating-without-navigation-prop.html)\r\n        ref={(navigatorRef) => {\r\n          NavigationService.setTopLevelNavigator(navigatorRef)\r\n        }}\r\n        uriPrefix={prefix}\r\n      />\r\n    </View>\r\n  )\r\n}\r\n\r\nexport default RootScreen\r\n","import React from 'react'\nimport { Provider } from 'react-redux'\nimport { PersistGate } from 'redux-persist/lib/integration/react'\n\nimport createStore from './Src/Stores'\nimport RootScreen from './Src/Containers/Root/RootScreen'\n\nconst { store, persistor } = createStore()\n\nconst App = () => (\n  <Provider store={store}>\n    {/**\n     * PersistGate delays the rendering of the app's UI until the persisted state has been retrieved\n     * and saved to redux.\n     * The `loading` prop can be `null` or any react instance to show during loading (e.g. a splash screen),\n     * for example `loading={<SplashScreen />}`.\n     * @see https://github.com/rt2zz/redux-persist/blob/master/docs/PersistGate.md\n     */}\n    <PersistGate loading={null} persistor={persistor}>\n      <RootScreen />\n    </PersistGate>\n  </Provider>\n);\n\nexport default App\n","module.exports = __webpack_public_path__ + \"static/media/Home.1fff8434.png\";","module.exports = __webpack_public_path__ + \"static/media/Dashboard.26766c7a.png\";","module.exports = __webpack_public_path__ + \"static/media/System.7e4af00c.png\";","module.exports = __webpack_public_path__ + \"static/media/Feed-Curves.da739887.png\";","module.exports = __webpack_public_path__ + \"static/media/Growth-curve.7f9a7fea.png\";","module.exports = __webpack_public_path__ + \"static/media/User.d73be9fd.png\";","module.exports = __webpack_public_path__ + \"static/media/Sow.beff0aff.png\";","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAFMAAABRCAYAAACuepoLAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAq9JREFUeNrsnT1Lw1AUhk9FRFEhDhV0qgouLlrcjYOLi3XpasEfYjo62X/Quorg5iS0P0D8GBzVOAkWP6CVigg1197E0Naa3ER7b/K+cLig3tP4eJJz8g5XIig0JRS8Zr3Pn1+JUgE0JYgjK1JRqEz2y9DE1IJwgrdalRr1BxoZm6Th8aTvfVwvVqxacaE8zLXtQ+EEN+cHdH12QHPpLM0uZX3tbdSrdHmyS7VH0wY6w1caQNvwp5GxJC2v57+q2pJmRc7+HmAKaHBolGbTTkVvAGYIFdoBucfPp7p1rH8efwr280iJiu3ytUUr9iSY5+yZrqIqTAayzB+sIgOqHtJgq7vGD1IRpsaHUY3PTptWmCJjC5+/Ao8/7hlONZgZ/ow0OQylqkIGubv5Cl/3ATI4zFQUX+T7BRMCTMCM5mumqhf+fH8lvLdRqzqraJ7aU++pscznuyBvPk3XjEh/lKcpWZSVr8x+mMNufby/2p6m+rc58xRFZZvD0/O6b3PY/Zg5Pd5BA0I3B0yMRlsU3Ms0ALOlXAh5dwCzpZIVdwEh5uP4x+gGk1lwlYAQjDjCRAMCTMAETAgwARMwoZ5zphJiNpqonri73lrF8thu/U+C0x5Dpz0v2fWYKlcmGhC6OQSYMo1GMjnthkSsfr2WRFsD0lFfnlh5rswSyeO0y5BHyKiO4mgURh7POdCA0M0BEzAhwARMwIQAEzABEzAhwARMwIQ6FRen3fgPmHDaxVh5rswSwWnvlsOX4LQHzIEGhG4OmIAJASZgAiYEmIAJmPGEafJVBxZHi21sPCvH30Fv8W7uqMj3F/1uZCe6PtP3vxvQYg7TcO33dLe6LTh2ACk7Gpe5RxkeFcELKYd0m/UrT4q+zxMtBODgHOLcjHnc8oLyrMQvUDWKr3xX46cAAwCxt3YCfnN46AAAAABJRU5ErkJggg==\"","module.exports = __webpack_public_path__ + \"static/media/Area_Colour.f4a4e098.png\";","module.exports = __webpack_public_path__ + \"static/media/AutoPig.ec16c410.png\";","module.exports = __webpack_public_path__ + \"static/media/Feed-Components.224ca1b3.png\";","module.exports = __webpack_public_path__ + \"static/media/Hexagon-globe.fce26805.png\";","module.exports = __webpack_public_path__ + \"static/media/Hexa-icon.5129d536.png\";","module.exports = __webpack_public_path__ + \"static/media/Logo.9b051259.png\";","module.exports = __webpack_public_path__ + \"static/media/TOM.c88886f3.png\";"],"sourceRoot":""}