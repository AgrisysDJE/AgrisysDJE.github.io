{"version":3,"sources":["Src/Stores/CreateStore.js","Src/Stores/Startup/Actions.js","Src/Stores/Example/Actions.js","Src/Services/NavigationService.js","Src/Stores/Firebase/Actions.js","Src/Sagas/StartupSaga.js","Src/Services/UserService.js","Src/Config/index.js","Src/Sagas/Example/ExampleSaga.js","Src/Stores/Firebase/Selectors.js","Src/Services/FirebaseService.js","Src/Sagas/Firebase/FirebaseSaga.js","Src/Sagas/index.js","Src/Stores/Example/InitialState.js","Src/Stores/Example/Reducers.js","Src/Stores/Firebase/Reducers.js","Src/Stores/Firebase/InitialState.js","Src/Theme/Colors.js","Src/Theme/Fonts.js","Src/Theme/Metrics.js","Src/Theme/Images.js","Src/Theme/Helpers.js","Src/Theme/ApplicationStyles.js","Src/Containers/SplashScreen/SplashScreenStyle.js","Src/Containers/SplashScreen/SplashScreen.js","Src/Containers/DeepLinking/DeepLinkingScreen.js","Src/Components/Button.js","Src/Components/Button_Panel.js","Src/Components/TitleElement.js","Src/Components/CustomListItem.js","Src/Components/ContentProp.js","Src/Components/Loading.js","Src/Components/OperationsPanel.js","Src/Components/Progressbar.js","Src/Components/DateTime_Picker.js","Src/Containers/Agrisys/FrontScreenStyle.js","Src/Containers/Agrisys/FrontScreen.js","Src/Stores/Example/Selectors.js","Src/Containers/Example/ExampleScreenStyle.js","Src/Containers/Example/ExampleScreen.js","Src/Navigators/FrontNavigator.js","Src/Containers/Cloud/AuthScreens/AuthStyle.js","Src/Containers/Cloud/AuthScreens/UserLoadingScreen.js","Src/Containers/Cloud/AuthScreens/UserLoginScreen.js","Src/Containers/Cloud/AuthScreens/CreateUserDataScreen.js","Src/Navigators/AuthNavigator.js","Src/Containers/Cloud/UserPanel/UserPanelStyle.js","Src/Containers/Cloud/UserPanel/FrontScreen.js","Src/Containers/Cloud/UserPanel/Dashboard.js","Src/Containers/Cloud/CloudScreenStyle.js","Src/Containers/Cloud/UserPanel/Pigs.js","Src/Containers/Cloud/UserPanel/Pens.js","Src/Containers/Cloud/UserPanel/Batchs.js","Src/Containers/Cloud/UserPanel/GrowthCurves.js","Src/Containers/Cloud/UserPanel/Operations.js","Src/Containers/Cloud/UserPanel/Weighing.js","Src/Containers/Cloud/UserPanel/DataEditor.js","Src/Containers/Cloud/UserPanel/DataDisplay.js","Src/Containers/Cloud/UserPanel/DataPlotter.js","Src/Navigators/UserPanelNavigator.js","Src/Navigators/AppNavigator.js","Src/Containers/Root/RootScreen.js","Src/Stores/index.js","App.tsx","Src/Assets/Images/Home.png","Src/Assets/Images/Dashboard.png","Src/Assets/Images/System.png","Src/Assets/Images/Feed-Curves.png","Src/Assets/Images/User.png","Src/Assets/Images/Sow.png","Src/Assets/Images/Section.png","Src/Assets/Images/Area_Colour.png","Src/Assets/Images/Hexagon-globe.png","Src/Assets/Images/Hexa-icon.png","Src/Assets/Images/Logo.png","Src/Assets/Images/TOM.png"],"names":["JSOGTransform","createTransform","inboundState","key","JSOG","encode","outboundState","decode","persistConfig","storage","transforms","blacklist","createActions","startup","Types","Creators","StartupTypes","fetchUser","fetchUserLoading","fetchUserSuccess","fetchUserFailure","ExampleTypes","navigator","LastPage","firebaseStartup","firebaseIsLoading","setFirebaseError","setCurrentData","actionStarting","fetchStarting","dataFetchSuccess","fetchSuccess","fetchFailure","FirebaseTypes","navigate","routeName","params","dispatch","NavigationActions","replace","StackActions","navigateAndReset","reset","index","actions","setTopLevelNavigator","navigatorRef","put","FirebaseActions","NavigationService","in200s","curryN","min","max","value","isNumber","is","Number","gte","isWithin","userApiClient","axios","create","baseURL","headers","Accept","timeout","userService","console","log","Math","random","Promise","resolve","reject","number","floor","get","toString","then","response","status","data","ExampleActions","call","user","UserStates","DataRefs","USERS","FARMS","SECTIONS","PENS","PIGS","BATCHS","WEIGHING","GRAPH","FARMDATAS","SHARES","Actions","SIGN","FETCH","CREATE","UPDATE","MOVE","DELETE","ADD","format_num","num","format_Time","time","s","Date","parseInt","getDate","getMonth","getFullYear","getHours","getMinutes","getSeconds","reA","reN","sortAlphaNum","a","b","aA","bA","aN","bN","sortObject","o","sorted","hasOwnProperty","push","sort","length","get_DataSpot","MinMax_Time","MinMax_Data","CalcTime","Data","DataTime","ExValue","VirData","maxX","minY","maxY","slope","atan","createFirebaseUserWithemailandpassword","Email","Pass","firebase","auth","createUserWithEmailAndPassword","User","currentUser","Name","displayName","email","UserId","uid","name","state","catch","error","code","signinWithemailandpassword","logoutUser","signInWithEmailAndPassword","signOut","ref","action","CurrentUser","createFarm","Farms","farmid","updateFarmData","FarmId","sections","Sections","pens","Pens","updateUserData","UserData","farms","userData","fetchFarm","fetchSections","fetchPens","createNewPen","deletePen","updatePen","fetchPigs","updatePigdata","fetchBatchs","createBatchs","updateBatchs","fetchWeights","createWeight","fetchGraphData","updateGraphData","database","once","val","type","path","update","_farmData","farm","set","manager","SectionId","_sectionidData","PenId","_pensData","penData","datas","pen","ref2","section","_Pen","remove","Pen","Datas","TagId","_pigsData","pigData","gcurve","pig","updatePigPen","Action","counts","isNaN","count","pigs","BatchId","Time","_batchdata","batchdata","batch","curve","Batch","Object","keys","forEach","ServerValue","TIMESTAMP","devianceMin","devianceMax","_batch","JSON","stringify","RemovedPens","filter","x","includes","NewPens","limitStart","limitTo","orderByChild","limitToLast","snapshot","weighing","c","itemsProcessed","newWeights","weights","Weight","weightRef","getTime","weight","GraphId","graph","Graphs","GraphVal","newGraph","Agraph","AgraphVal","Graph","periode","_Graph","firebaseService","Platform","OS","async","messaging","requestPermission","authStatus","AuthorizationStatus","AUTHORIZED","PROVISIONAL","isPermit_UserPermission","title","message","okText","_cancelable","Alert","alert","text","onPress","cancelable","onDismiss","token","to","messageId","messageType","notification","body","sendMessage","msg","handleAuthState","handleActions","onMessageHandler","onBackgroundMessageHandler","Constants","manifest","web","config","initializeApp","permitError","fork","isSupported","eventChannel","emit","subscription","onAuthStateChanged","buffers","expanding","authChannel","take","newAuth","firebaseUser","cancelled","close","actionChannel","channel","values","select","localDataStore","NewData","messageListener","onMessage","remoteMessage","onMessageChannel","root","sagaArgs","all","takeLatest","STARTUP","StartupSaga","FETCH_USER","ExampleSaga","FIREBASE_STARTUP","FirebaseSaga","reducer","createReducer","userIsLoading","userErrorMessage","FETCH_USER_LOADING","FETCH_USER_SUCCESS","FETCH_USER_FAILURE","errorMessage","HANDLERS","FIREBASE_IS_LOADING","loadingstate","SET_FIREBASE_ERROR","firebaseErrorMessage","SET_CURRENT_DATA","currentData","ACTION_STARTING","FETCH_STARTING","DATA_FETCH_SUCCESS","NewDataStore","NewFirebaseUser","newData","element","batchs","graphs","weighings","FETCH_SUCCESS","newlocalDataStore","newState","_newState","mergeDeep","target","source","isObject","obj","targetValue","sourceValue","Array","isArray","append","FETCH_FAILURE","h1","fontSize","h2","h3","normal","tiny","small","medium","tinyBottomMargin","marginBottom","smallBottomMargin","bottomMargin","mediumBottomMargin","tinyVerticalMargin","marginVertical","smallVerticalMargin","verticalMargin","mediumVerticalMargin","tinyHorizontalMargin","marginHorizontal","smallHorizontalMargin","horizontalMargin","mediumHorizontalMargin","tinyHorizontalPadding","paddingHorizontal","smallHorizontalPadding","horizontalPadding","mediumHorizontalPadding","tinyVerticalPadding","paddingVertical","smallVerticalPadding","verticalPadding","mediumVerticalPadding","Home","require","DashBoard","System","Curves","Sow","Section","Haxa_globe","Hexa_icon","Logo","logo","column","flexDirection","colMain","justifyContent","colCenter","alignItems","colCross","columnReverse","row","rowMain","rowCenter","rowCross","rowReverse","center","crossCenter","crossEnd","crossStart","crossStretch","fill","flex","fillCenter","fillCol","fillColCenter","fillColCross","fillColMain","fillColReverse","fillRow","fillRowCenter","fillRowCross","fillRowMain","fillRowReverse","fullSize","height","width","halvWidth","midWidth","fullWidth","mainCenter","mainEnd","mainSpaceAround","mainSpaceBetween","mainStart","mainContainer","Metrics","contentContainer","marginTop","borderContainer","borderWidth","borderColor","borderRadius","maxWidth","zIndex","textContainer","Fonts","buttonContainer","loadingContainer","position","left","right","top","bottom","backgroundColor","logoContainer","backgroundReset","Colors","rotate90","transform","rotate","rotate90Inverse","mirror","scaleX","scrollSpaceAround","flexGrow","scrollSpaceBetween","selfStretch","alignSelf","textCenter","textAlign","textJustify","textLeft","textRight","button","color","buttonText","result","input","navigationHeader","StyleSheet","container","SplashScreen","props","onNotificationOpenedApp","getInitialNotification","this","checkData","getData","prevProps","prevState","View","style","Helpers","Style","Image","Images","resizeMode","Component","connect","DeepLinkingScreen","Text","styles","boxContainer","ApplicationStyles","icon","Button","TextView","textStyle","ImageView","_Image","iconStyle","TouchableOpacity","boxStyle","buttonStyle","Button_Panel","Texts","Buttons","image","itemStyle","TitleElement","listitem","CustomListItem","containerStyle","Content","Title","Subtitle","contentBox","minHeight","ContentProp","texts","i","textsStyle","datasStyle","onLongPress","view","dataRow","OperationsPanel","useDispatch","pigTag","PigsList","PenData","pigtag","dataId","ScrollView","paddingRight","penid","ProgressBar","animation","useRef","Animated","Value","progress","useEffect","timing","current","toValue","duration","start","interpolate","inputRange","outputRange","extrapolate","alignContent","progressBar","absoluteFill","paddingTop","padding","monthNames","DateTime_Picker","getStates","year","month","day","Today","FullYear","Year","Month","Day","forceUpdate","changed","YearItems","Picker","Item","label","MonthItems","DayItems","d","selectedValue","minWidth","marginRight","onValueChange","_year","_month","_day","FrontScreen","ele","liveInEurope","entries","example","address","city","instructions","fontStyle","ios","android","ExampleScreen","useSelector","ActivityIndicator","size","StackNavigator","createStackNavigator","screen","Front","navigationOptions","headerMode","headerShown","Example","initialRouteName","defaultNavigationOptions","headerTitleAlign","headerRight","UserLoadingScreen","ISLOADPAGE","Page","getUser","page","userType","PanelsSorter","IsLoading","UserLoginScreen","NewUser","onChangeText","setState","createUser","signIN","CreateNewUserData","Farm","_UserData","_sections","_pens","i2","sectionPens","createUserData","Userdata","LoadingUserScreen","LoginUser","LoginUserScreen","headerLeft","paddingLeft","CreateUserData","CreateUserDataScreen","headerTitleStyle","logOut","Dashboard","setData","Manager","Mail","MaxCap","CurCap","BatchList","farmName","farmManager","farmMail","Props","map","getFarm","getSections","getPen","getBatch","SectionsList","FlatList","e","renderItem","item","keyExtractor","farmId","loading","inputContainer","Pigs","PigTag","getPigs","getPens","connectedState","DeviceData","SafeAreaView","id","tagId","pigId","Device_Display","ConnectionState","CONNECTED","circle","Scanner_Display","tagid","FatLayers","FatL1","FatL2","FatL3","known","marginLeft","Weighings","Mid","property","getWeights","getCurve","itemDimension","spacing","renderSectionHeader","displayWeight","Weighing","_weighing","Batchs","Curve","Keys","WeighingTime","StartTime","EndTime","currentTime","setDate","setMonth","round","penId","onChange","window","dimensions","onMultiChange","items","xorBy","selectedPens","freePens","Display","BatchName","ShowPicker","StartD","DevianceMin","DevianceMax","avaiblePens","add","curveId","batchName","_pen","concat","mode","itemValue","itemIndex","fontWeight","date","endsWith","labelStyle","optionsLabelStyle","options","selectedValues","onMultiSelect","onTapClose","isMulti","newBatch","updateBatch","Dev","setBatch","batchId","GrowthCurve","CurveList","CurveName","DataPoints","Periode","AverageGrowth","parseFloat","toFixed","CurveData","step","evt","split","numColumns","newCurve","updateCurve","Operations","actionType","CurrentData","newWeight","DataEditor","NewSection","DataView","PenEditor_View_Creator","PigEditor_View_Creator","Control","CurrentAction","exists","penAction","PenEditor_Titles","pigAction","Section_Picker","senctionId","DataDisplay","setCurrentDataElement","PenData_View","PigData_View","onPageSwipe","dir","indexOf","WeighingsList","App","object","slice","pigcount","batch_name","age","now","sender","onDataPress","String","ingrid","multiline","getRandomNumber","low","high","getRandomColor","red_range","green_range","blue_range","a_range","red","green","blue","alpha","r","g","rgbaValue","Dimensions","AccumulateTime","PeriodeLength","NewTime","TempGraph","Legends","DataSets","StartDate","EndDate","Labels","ActiveIndex","ActiveLength","ActiveDataSets","ActiveStartDate","ActiveEndDate","ViewPoint","D","reverse","DataX","dataX","opacity","TempData","TempEndDate","NextEnd","TempGraph_DataLength","PenWeighings","_EndDate","undefined","DataSet","DataSetX","WeightsToGraphData","some","unshift","TemplatePeriode","CurrentDate","getNewDate","End","first","batchData","setGraphPeriode","addEventListener","removeEventListener","wide","Animals","Days","horizontal","showsHorizontalScrollIndicator","labels","xMinMax","legend","datasets","onDataPointClick","withShadow","withVerticalLines","fromZero","segments","verticalLabelRotation","xLabelsOffset","chartConfig","backgroundGradientFrom","backgroundGradientTo","decimalPlaces","labelColor","propsForDots","strokeWidth","stroke","control","CurveEditor","TimeText","dataset","maxHeight","React","useState","Point","setPoint","curveid","setCurve","UserFront","UserFrontScreen","UserDashBoard","UserDashBoardScreen","UserPigs","UserPigsScreen","UserPens","UserPensScreen","UserBatchs","UserBatchsScreen","UserCurves","UserCurvesScreen","UserOperations","UserOperationsScreen","WeighingOperations","UserDataEditor","UserDataDisplay","DataPlotter","UserDataPlotter","MainStack","FrontNavigation","AuthStack","AuthNavigation","UserPanel","UserPanelNavigation","createAppContainer","RootScreen","StartupActions","AppNavigator","uriPrefix","rootReducer","rootSaga","middleware","enhancers","sagaMiddleware","createSagaMiddleware","applyMiddleware","persistedReducer","persistReducer","store","createStore","compose","persistor","persistStore","run","configureStore","combineReducers","ExampleReducer","FirebaseReducer","module","exports"],"mappings":"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","file":"static/js/app.0c240c25.chunk.js","sourcesContent":["import { applyMiddleware, compose, createStore } from 'redux'\nimport createSagaMiddleware from 'redux-saga'\nimport { persistReducer, persistStore, createTransform } from 'redux-persist'\n\n//** fix: error serializing state TypeError: Converting circular structure to JSON  */\n// https://www.npmjs.com/package/jsog\n// https://www.npmjs.com/package/flatted\nimport JSOG from 'jsog';\nexport const JSOGTransform = createTransform(\n  (inboundState, key) => JSOG.encode(inboundState),\n  (outboundState, key) => JSOG.decode(outboundState),\n)\n\n/**\n * This import defaults to localStorage for web and AsyncStorage for react-native.\n *\n * Keep in mind this storage *is not secure*. Do not use it to store sensitive information\n * (like API tokens, private and sensitive data, etc.).\n *\n * If you need to store sensitive information, use redux-persist-sensitive-storage.\n * @see https://github.com/CodingZeal/redux-persist-sensitive-storage\n */\nimport storage from 'redux-persist/lib/storage'\n\nconst persistConfig = {\n  key: 'root',\n  storage: storage,\n  transforms: [JSOGTransform],\n  /**\n   * Blacklist state that we do not need/want to persist\n   */\n  blacklist: [\n    // 'auth',\n  ],\n}\n\nexport default (rootReducer, rootSaga) => {\n  const middleware = []\n  const enhancers = []\n\n  // Connect the sagas to the redux store\n  const sagaMiddleware = createSagaMiddleware()\n  middleware.push(sagaMiddleware)\n\n  enhancers.push(applyMiddleware(...middleware))\n\n  // Redux persist\n  const persistedReducer = persistReducer(persistConfig, rootReducer)\n\n  const store = createStore(persistedReducer, compose(...enhancers))\n  const persistor = persistStore(store)\n\n\n  // First step is to create BleManager which should be used as an entry point\n  // to all BLE related functionalities\n  /*const blemanager = new BleManager();\n  blemanager.setLogLevel(LogLevel.Verbose);\n\n  const bluemanager = NativeModules.BlueToothControl;*/\n\n  // SagaArgs Construcktor\n  //const sagaArgs = {BLEManager: blemanager, BlueManager: bluemanager}\n\n  // Kick off the root saga\n  //sagaMiddleware.run(rootSaga, sagaArgs)\n  sagaMiddleware.run(rootSaga)\n  \n  return { store, persistor }\n}\n","import { createActions } from 'reduxsauce'\n\nconst { Types, Creators } = createActions({\n  // This action is triggered when the application starts\n  startup: null,\n})\n\nexport const StartupTypes = Types\nexport default Creators\n","import { createActions } from 'reduxsauce'\n\n/**\n * We use reduxsauce's `createActions()` helper to easily create redux actions.\n *\n * Keys are action names and values are the list of parameters for the given action.\n *\n * Action names are turned to SNAKE_CASE into the `Types` variable. This can be used\n * to listen to actions:\n *\n * - to trigger reducers to update the state, for example in App/Stores/Example/Reducers.js\n * - to trigger sagas, for example in App/Sagas/index.js\n *\n * Actions can be dispatched:\n *\n * - in React components using `dispatch(...)`, for example in App/App.js\n * - in sagas using `yield put(...)`, for example in App/Sagas/ExampleSaga.js\n *\n * @see https://github.com/infinitered/reduxsauce#createactions\n */\nconst { Types, Creators } = createActions({\n  // Fetch user informations\n  fetchUser: null,\n  // The operation has started and is loading\n  fetchUserLoading: null,\n  // User informations were successfully fetched\n  fetchUserSuccess: ['user'],\n  // An error occurred\n  fetchUserFailure: ['errorMessage'],\n})\n\nexport const ExampleTypes = Types\nexport default Creators\n","import React from 'react'\nimport { BackHandler } from 'react-native'\nimport { NavigationActions, StackActions } from 'react-navigation'\n\n/**\n * The navigation is implemented as a service so that it can be used outside of components, for example in sagas.\n *\n * @see https://reactnavigation.org/docs/en/navigating-without-navigation-prop.html\n */\n\nlet navigator\nvar LastPage\n/**\n * This function is called when the RootScreen is created to set the navigator instance to use.\n */\nfunction setTopLevelNavigator(navigatorRef) {\n  navigator = navigatorRef\n\n  /*BackHandler.addEventListener('hardwareBackPress', () => {\n    console.log(navigator._navigation)\n    if (navigator && navigator._navigation && navigator._navigation.state) {\n      var Stackindex = navigator._navigation.state.index\n      var Stack = navigator._navigation.state.routes[Stackindex]\n      if (Stack.routes){\n        var index = Stack.index;\n        var routeName = Stack.routes[index].routeName;\n        if (routeName === 'UserFront' || routeName === 'LoginUser'){\n          navigator.dispatch(\n            NavigationActions.back()\n          )\n          //navigate('FrontScreen');\n          //return true;\n        }\n      }\n    }\n  });*/\n}\n\nfunction replace(routeName, params){\n  if (LastPage === routeName) return null\n  else {\n    LastPage = routeName;\n    navigator.dispatch(\n      StackActions.replace({\n        routeName,\n        params,\n      })\n    )\n  }\n}\n\n/**\n * Call this function when you want to navigate to a specific route.\n *\n * @param routeName The name of the route to navigate to. Routes are defined in RootScreen using createStackNavigator()\n * @param params Route parameters.\n */\nfunction navigate(routeName, params) {\n  if (LastPage === routeName) return null\n  else {\n    LastPage = routeName;\n    navigator.dispatch(\n      NavigationActions.navigate({\n        routeName,\n        params,\n      })\n    )\n  }\n}\n\n/**\n * Call this function when you want to navigate to a specific route AND reset the navigation history.\n *\n * That means the user cannot go back. This is useful for example to redirect from a splashscreen to\n * the main screen: the user should not be able to go back to the splashscreen.\n *\n * @param routeName The name of the route to navigate to. Routes are defined in RootScreen using createStackNavigator()\n * @param params Route parameters.\n */\nfunction navigateAndReset(routeName, params) {\n  if (LastPage === routeName) return null\n  else {\n    LastPage = routeName;\n    navigator.dispatch(\n      StackActions.reset({\n        index: 0,\n        key: null,\n        actions: [\n          NavigationActions.navigate({\n            routeName,\n            params,\n          }),\n        ],\n      })\n    )\n  }\n}\n\nexport default {\n  navigate,\n  replace,\n  navigateAndReset,\n  setTopLevelNavigator,\n}\n","import { createActions } from 'reduxsauce'\n\n/**\n * We use reduxsauce's `createActions()` helper to easily create redux actions.\n *\n * Keys are action names and values are the list of parameters for the given action.\n *\n * Action names are turned to SNAKE_CASE into the `Types` variable. This can be used\n * to listen to actions:\n *\n * - to trigger reducers to update the state, for example in App/Stores/Example/Reducers.js\n * - to trigger sagas, for example in App/Sagas/index.js\n *\n * Actions can be dispatched:\n *\n * - in React components using `dispatch(...)`, for example in App/App.js\n * - in sagas using `yield put(...)`, for example in App/Sagas/ExampleSaga.js\n *\n * @see https://github.com/infinitered/reduxsauce#createactions\n */\nconst { Types, Creators } = createActions({\n  //Firebase Saga events\n  firebaseStartup: null,\n  \n  //Firebase Saga and service\n  firebaseIsLoading: ['loadingstate'],\n  setFirebaseError: ['errorMessage'], // Firebase-saga error occurred\n  \n  setCurrentData: ['data'],\n\n  //Firebase Data fetches\n  actionStarting: ['action', 'ref', 'params'], // Data action (create, singin, share)\n  fetchStarting: ['action', 'ref', 'params'], // Fetch data informations\n  dataFetchSuccess: ['params'],\n  fetchSuccess: ['data'], // Informations were successfully fetched\n  fetchFailure: ['errorMessage'], // An error occurred\n})\n\nexport const FirebaseTypes = {...Types }\nexport default {...Creators }","import { put, call } from 'redux-saga/effects'\n\nimport NavigationService from '../Services/NavigationService'\n\nimport ExampleActions from '../Stores/Example/Actions'\n//import DeviceActions from '../Stores/Device/Actions'\nimport FirebaseActions from '../Stores/Firebase/Actions'\n\n/**\n * The startup saga is the place to define behavior to execute when the application starts.\n */\nexport function* startup() {\n  // Dispatch a redux action using `put()`\n  // @see https://redux-saga.js.org/docs/basics/DispatchingActions.html\n  \n  // Add more operations you need to do at startup here\n  //yield put(ExampleActions.fetchUser())\n  //yield put(DeviceActions.deviceStartup())\n  yield put(FirebaseActions.firebaseStartup())\n\n  // When those operations are finished we redirect to the main screen\n  NavigationService.navigateAndReset('MainStack')\n}\n","import axios from 'axios'\nimport { Config } from '../Config'\nimport { is, curryN, gte } from 'ramda'\n\nconst isWithin = curryN(3, (min, max, value) => {\n  const isNumber = is(Number)\n  return isNumber(min) && isNumber(max) && isNumber(value) && gte(value, min) && gte(max, value)\n})\nconst in200s = isWithin(200, 299)\n\n/**\n * This is an example of a service that connects to a 3rd party API.\n *\n * Feel free to remove this example from your application.\n */\nconst userApiClient = axios.create({\n  /**\n   * Import the config from the App/Config/index.js file\n   */\n  baseURL: Config.API_URL,\n  headers: {\n    Accept: 'application/json',\n    'Content-Type': 'application/json',\n  },\n  timeout: 3000,\n})\n\nfunction fetchUser() {\n  // Simulate an error 50% of the time just for testing purposes\n  console.log(\"user fetch test\");\n  if (Math.random() > 0.5) {\n    return new Promise((resolve, reject) => {\n      console.log(\"error\");\n      resolve(null)\n    })\n  }\n\n  const number = Math.floor(Math.random() / 0.1) + 1\n\n  return userApiClient.get(number.toString()).then((response) => {\n    if (in200s(response.status)) {\n      return response.data\n    }\n\n    return null\n  })\n}\n\nexport const userService = {\n  fetchUser,\n}\n","export const Config = {\n  API_URL: 'https://jsonplaceholder.typicode.com/users/',\n}\n","import { put, call } from 'redux-saga/effects'\n\nimport ExampleActions from '../../Stores/Example/Actions'\nimport { userService } from '../../Services/UserService'\n\n/**\n * A saga can contain multiple functions.\n *\n * This example saga contains only one to fetch fake user informations.\n * Feel free to remove it.\n */\nexport function* fetchUser() {\n  // Dispatch a redux action using `put()`\n  // @see https://redux-saga.js.org/docs/basics/DispatchingActions.html\n  yield put(ExampleActions.fetchUserLoading())\n\n  // Fetch user informations from an API\n  const user = yield call(userService.fetchUser)\n  if (user) {\n    yield put(ExampleActions.fetchUserSuccess(user))\n  } else {\n    yield put(\n      ExampleActions.fetchUserFailure('There was an error while fetching user informations.')\n    )\n  }\n}\n","export const UserStates = {\r\n    STARTER: 'starter',\r\n    FREE: 'free',\r\n    WORKER: 'worker',\r\n    OWNER: 'owner',\r\n    ADMIN: 'admin',\r\n}\r\n\r\nexport const DataRefs = {\r\n    USERS: 'users',\r\n    FARMS: 'farms',\r\n    SECTIONS: 'farms_data/$farmid/sections',\r\n    PENS: 'farms_data/$farmid/pens',\r\n    PIGS: 'farms_data/$farmid/pigs',\r\n    BATCHS: 'farms_data/$farmid/batchs',\r\n\r\n    WEIGHING: 'farms_data/$farmid/pens/$penid/weighings/',\r\n    GRAPH: 'farms_data/$farmid/Graph/$graphid/',\r\n\r\n    FARMDATAS: 'farms_data/$farmid/datas/',\r\n    SHARES: 'shareData'\r\n}\r\n\r\nexport const Actions = {\r\n    SIGN: 'sign',\r\n\r\n    FETCH: 'fetch',\r\n    CREATE: 'create',\r\n    UPDATE: 'update',\r\n    MOVE: 'move',\r\n    DELETE: 'delete',\r\n    ADD: 'add',\r\n}\r\n\r\nfunction format_num(num) {\r\n    if (num < 10){\r\n        num = \"0\"+num\r\n    }\r\n    return num;\r\n}\r\nexport function format_Time(time) {\r\n    var s = new Date(parseInt(time));\r\n    var datetime = format_num(s.getDate()) + \"/\" + format_num(s.getMonth() +1) + \"/\" + s.getFullYear() + \" \" \r\n                    + format_num(s.getHours()) + \":\" + format_num(s.getMinutes()) + \":\" + format_num(s.getSeconds());\r\n    return datetime\r\n}\r\n\r\nvar reA = /[^a-zA-Z]/g;\r\nvar reN = /[^0-9]/g;\r\nfunction sortAlphaNum(a, b) {\r\n  var aA = a.replace(reA, \"\");\r\n  var bA = b.replace(reA, \"\");\r\n  if (aA === bA) {\r\n    var aN = parseInt(a.replace(reN, \"\"), 10);\r\n    var bN = parseInt(b.replace(reN, \"\"), 10);\r\n    return aN === bN ? 0 : aN > bN ? 1 : -1;\r\n  } else {\r\n    return aA > bA ? 1 : -1;\r\n  }\r\n}\r\n\r\nexport function sortObject(o) {\r\n    var sorted = {},\r\n    key, a = [];\r\n\r\n    for (key in o) {\r\n        if (o.hasOwnProperty(key) && key !== \"__jsogObjectId\") {\r\n            a.push(key);\r\n        }\r\n    }\r\n    a.sort(sortAlphaNum);\r\n\r\n    for (key = 0; key < a.length; key++) {\r\n        sorted[a[key]] = o[a[key]];\r\n    }\r\n    return sorted;\r\n}\r\n\r\nexport function get_DataSpot(MinMax_Time, MinMax_Data, CalcTime, Data, DataTime) {\r\n    var ExValue = null\r\n    var VirData = null\r\n    if (CalcTime) {\r\n        // Math.Atan of MaxY - MinY / MaxX - MinX\r\n        var minX = 0\r\n        var maxX = MinMax_Time[1] - MinMax_Time[0]\r\n        var minY = MinMax_Data[0]\r\n        var maxY = MinMax_Data[1]\r\n\r\n        var slope = Math.atan( (maxY - minY) / (maxX - minX) )\r\n        \r\n        // ExValue = ((FindX - MinX) * Slope) + MinY\r\n        var getx = (CalcTime - MinMax_Time[0])\r\n        ExValue = (getx * slope) + minY\r\n\r\n        if (Data && DataTime) {\r\n            var VirGain = (slope * (CalcTime - DataTime))\r\n            VirData = VirGain + Data\r\n        }\r\n    }\r\n    return {ExValue, VirData}\r\n}","import { Platform, Alert } from 'react-native'\n\nimport { UserStates } from '../Stores/Firebase/Selectors'\nimport { Actions, DataRefs, format_Time } from '../Stores/Firebase/Selectors';\n\n//#region App version imports\n/*import messaging from '@react-native-firebase/messaging';\nimport auth from '@react-native-firebase/auth';\nimport database from '@react-native-firebase/database';*/\n//#endregion\n\n//#region Web Version imports\nimport firebase from 'firebase/app'\nimport \"firebase/auth\"\nimport \"firebase/messaging\"\nimport \"firebase/database\"\n//#endregion\n\n//#region Firebase specefic services\nasync function isPermit_UserPermission() {\n  const authStatus = await firebase.messaging().requestPermission();\n  const enabled =\n    authStatus === firebase.messaging.AuthorizationStatus.AUTHORIZED ||\n    authStatus === firebase.messaging.AuthorizationStatus.PROVISIONAL;\n\n  if (!enabled) {\n    console.log('Authorization status:', authStatus);\n    return false;\n  }\n  return true;\n}\n\nfunction requestUserPermission() {\n  return new Promise((resolve, reject) => {\n    if ((Platform.OS === \"ios\" || Platform.OS == \"android\") && !isPermit_UserPermission()) {\n      resolve('This application needs premissions to be using notifications')\n    }\n    resolve(null)\n  })\n}\n\nasync function is_getToken() {\n  var fcmToken = \"\"\n  try{\n    fcmToken = await firebase.messaging().getToken();\n    console.log('Device_token: ', fcmToken)\n  }catch(error){\n    console.log(error)\n  }\n  return fcmToken;\n}\n\nfunction requestFirebaseToken() {\n  return new Promise((resolve, reject) => {\n    var token;\n    if (firebase.messaging.isSupported()) {\n      try {\n        token = is_getToken();\n      } catch{}\n    }\n    if (!token) {\n      resolve('Could not find Firebase messaging Token')\n    }\n    resolve(token)\n  })\n}\n\nfunction wrappedAlert(title, message, okText, _cancelable) {\n  return new Promise(resolve => {\n    Alert.alert(\n      title,\n      message,\n      [{text: okText, onPress: function() { resolve(); }}],\n      {cancelable: _cancelable, onDismiss: function() {resolve(); }},\n    );\n  });\n}\n//#endregion\n\n//#region Firebase Auth services\nfunction createFirebaseUserWithemailandpassword({Email, Pass}) {\n  return new Promise((resolve, reject) => {\n    firebase.auth().createUserWithEmailAndPassword(Email,Pass).then(() => {\n\n      const User = firebase.auth().currentUser;\n      var Name = User.displayName ? User.displayName : User.email\n      actionStarting(DataRefs.USERS, Actions.UPDATE, {UserId: User.uid, Data: {\n        name: Name,\n        state: UserStates.STARTER,\n      }}).then((data) => {\n        resolve(data)\n      })\n\n    }).catch(error => {\n      console.log(\"UserCreate Error: \", error);\n\n      if (error.code === 'auth/email-already-in-use') {\n        resolve({error:'The email address is already in use.'})\n      }\n      if (error.code === 'aith/invalid-email') {\n        resolve({error:'The email addres is invalid.'})\n      }\n    })\n  })\n}\n\nfunction signinWithemailandpassword({Email, Pass}){\n  if (firebase.auth().currentUser){\n    if (firebase.auth().currentUser.email != Email){\n      const res = logoutUser()\n    }\n    else {\n      return new Promise((resolve, reject) => {\n        resolve(true)\n      })\n    }\n  }\n  return new Promise((resolve, reject) => {\n    firebase.auth().signInWithEmailAndPassword(Email,Pass).then(() => {\n      resolve(true)\n    }). catch(error => {\n      console.log(\"User Signin Error: \", error);\n\n      if (error.code === 'auth/email-already-in-use') {\n        resolve('The email address is already in use.')\n      }\n      if (error.code === 'aith/invalid-email') {\n        resolve('The email addres is invalid.')\n      }\n      else {\n        resolve('Could not singin')\n      }\n    })\n  })\n}\n\nfunction logoutUser(){\n  return new Promise((resolve, reject) => {\n    firebase.auth().signOut().then(() => {\n      resolve(true)\n    })\n  })\n}\n//#endregion\n\n//#region Master Control\nfunction actionStarting(ref, action, params = null){\n  const CurrentUser = firebase.auth().currentUser;\n  switch(ref){\n    case DataRefs.USERS:\n      switch(action){\n        case Actions.FETCH:\n          return fetchUser(params)\n        case Actions.CREATE:\n          if (params.hasOwnProperty(\"UserData\")){\n            return new Promise((resolve, reject) => {\n              var Data = params[0]\n              createFarm({Data:{name: params.Farms.name}}).then((farmid) => {\n                updateFarmData({FarmId:farmid, Data:{sections:params.Sections, pens: params.Pens}}).then(() => {\n                  updateUserData({Data:{state: params.UserData.state, farms: {[farmid]: true}}}).then(() => {\n                    fetchUser(CurrentUser.uid).then((data) => {\n                      resolve({userData: data})\n                    });\n                  })\n                })\n              })\n            })\n          }else \n          return createFirebaseUserWithemailandpassword(params)\n        case Actions.UPDATE:\n          return updateUserData(params)\n        case Actions.SIGN:\n          if (!params){\n            return logoutUser()\n          }else {\n            return signinWithemailandpassword(params)\n          }\n      }\n      break;\n\n    case DataRefs.FARMS:\n      switch(action){\n        case Actions.FETCH:\n          return fetchFarm(params);\n        case Actions.CREATE:\n          break;\n        case Actions.UPDATE:\n          console.log(\"??\")\n          break;\n      }\n      break;\n\n    case DataRefs.FARMDATAS:\n      console.log(\"FarmsDatas ???\") //TODO: propperly no use.. (clean up)\n      break;\n\n    case DataRefs.SECTIONS:\n      switch(action){\n        case Actions.FETCH:\n          return fetchSections(params);\n        case Actions.CREATE:\n          break;\n        case Actions.UPDATE:\n          break;\n      }\n      break;\n\n    case DataRefs.PENS:\n      switch(action){\n        case Actions.FETCH:\n          return fetchPens(params);\n        case Actions.CREATE:\n          return createNewPen(params);\n        case Actions.DELETE:\n          return deletePen(params)\n        case Actions.UPDATE:\n          return updatePen(params);\n          break;\n      }\n      break;\n\n    case DataRefs.PIGS:\n      switch(action){\n        case Actions.FETCH:\n          return fetchPigs(params);\n        case Actions.CREATE:\n          return updatePigdata(params);\n        case Actions.UPDATE:\n          break;\n      }\n      break;\n\n    case DataRefs.BATCHS:\n      switch(action){\n        case Actions.FETCH:\n          return fetchBatchs(params)\n        case Actions.CREATE:\n          return createBatchs(params)\n        case Actions.UPDATE:\n          return updateBatchs(params)\n        case Actions.DELETE:\n          //return deleteBatch(params)\n          break;\n      }\n      break;\n\n    case DataRefs.WEIGHING:\n      switch(action){\n        case Actions.FETCH:\n          return fetchWeights(params);\n        case Actions.CREATE:\n          return createWeight(params);\n        case Actions.UPDATE:\n          break;\n      }\n      break;\n\n    case DataRefs.GRAPH:\n      switch(action){\n        case Actions.FETCH:\n          return fetchGraphData(params);\n        case Actions.CREATE:\n          return updateGraphData(params);\n        case Actions.UPDATE:\n          return updateGraphData(params);\n          break;\n      }\n      break;\n  }\n  return new Promise((resolve, reject) => {\n    resolve({error: \"Unknown Action\"})\n  })\n}\n//#endregion\n\n//#region User data Controls\nfunction fetchUser({UserId}) {\n  var user = null;\n  if (UserId) user = UserId\n  else if (firebase.auth().currentUser) user = firebase.auth().currentUser.uid;\n  if (user) {\n    const ref = \"users/\" + user;\n    return firebase.database().ref(ref).once('value').then((userData) => {\n      var data = userData.val()\n      console.log(\"user:\", data)\n      \n      return {type:Actions.UPDATE, path:DataRefs.USERS, data:data}\n    })\n  }\n  else return new Promise((resolve, reject) => {\n    console.log(\"User uid in fecth unknown\");\n    resolve(null)\n  })\n}\n\nfunction updateUserData({UserId, Data}) {\n  const user = UserId? UserId: firebase.auth().currentUser.uid;\n  if (user) {\n    const ref = \"users/\" + user;\n    return new Promise((resolve, reject) => {\n      firebase.database().ref(ref).update(\n        Data\n      ).then((data) => {\n        resolve(null)\n      }).catch(error => {\n        if (error.code === 'database/permission-denied') {\n          console.log(\"User update was permission denied. \");\n        }else if (error.code) {\n          console.log(\"User update Error: \", error);\n        }\n        resolve({error:\"An error occurred\"})\n      })\n    }) \n  } else return new Promise((resolve, reject) => {\n    console.log(\"User uid in fecth unknown\");\n    resolve(null)\n  })\n}\n//#endregion\n\n//#region Farm info data Controls\nfunction fetchFarm({FarmId}) {\n  if (FarmId){\n    var ref = \"farms/\" + FarmId\n    return firebase.database().ref(ref).once('value').then((_farmData) => {\n      //TODO:Multiple farms\n      return {type:Actions.UPDATE, path:DataRefs.FARMS, data:_farmData.val()}\n    })\n  } else return new Promise((resolve, reject) => {\n    console.log(\"Farm uid in fecth unknown\");\n    resolve(null)\n  })\n}\n\nfunction updateFarm({FarmId, Data}) {\n  return new Promise((resolve, reject) => {\n    if (FarmId){\n      firebase.database().ref('farms/').update({\n        Data\n      }).then(()=> {\n        resolve(null)\n      })\n    } else {\n      const farm = firebase.database().ref('farms/').push()\n      const farmid = farm.key\n      farm.set({\n        Data\n      }).then(() => {\n        resolve(farmid)\n      }).catch(error => {\n        console.log(\"Create Farm Error: \", error);\n        resolve(false)\n      })\n    }\n  })\n}\n\nfunction createFarm({Data}){\n  const user = firebase.auth().currentUser;\n  const ref = \"users/\" + user.uid;\n\n  return new Promise((resolve, reject) => {\n    const farm = firebase.database().ref('farms/').push()\n    const farmid = farm.key\n    \n    farm.set({\n      email: user.email,\n      manager: user.displayName ? user.displayName : user.email,\n      name: Data.name\n    }).then(() => {\n      resolve(farmid)\n    }).catch(error => {\n      console.log(\"Create Farm Error: \", error);\n      resolve(false)\n    })\n  })\n}\n\nfunction updateFarmData({FarmId, Data}) {\n  if (FarmId) {\n    const ref = \"farms_data/\" + FarmId;\n    \n    return new Promise((resolve, reject) => {\n      firebase.database().ref(ref).update(\n        Data\n      ).then(() => {\n        resolve(null)\n      }).catch(error => {\n        if (error.code === 'database/permission-denied') {\n          console.log(\"Farm data update was permission denied. \");\n        }else if (error.code) {\n          console.log(\"User update Error: \", error);\n        }\n\n        resolve(false)\n      })\n    })\n  } else return new Promise((resolve, reject) => {\n    console.log(\"Farm uid in fecth unknown\");\n    resolve(null)\n  })\n}\n//#endregion\n\n//#region Farm data Controls\n\n//#region Sections\nfunction fetchSections({FarmId, SectionId}){\n  if (FarmId) {\n    var ref = \"farms_data/\" + FarmId + \"/sections\";\n    if (SectionId){\n      ref += \"/\" + SectionId\n    }\n    return firebase.database().ref(ref).once('value').then((_sectionidData) => {\n      return {type:Actions.UPDATE, path:DataRefs.SECTIONS, data:_sectionidData.val()}\n    })\n  }\n  return new Promise((resolve, reject) => {\n    console.log(\"Fecth Pigs Error\");\n    resolve(null)\n  })\n}\n//#endregion\n\n//#region Pens\nfunction fetchPens({FarmId, PenId}){\n  if (FarmId) {\n    var ref = \"farms_data/\" + FarmId + \"/pens\";\n    if (PenId){\n      ref += \"/\" + PenId\n    }\n    return firebase.database().ref(ref).once('value').then((_pensData) => {\n      if (PenId) {\n        var penData = _pensData.val()\n        if (!penData) penData = {}\n        if (!penData.datas) penData.datas = {}\n        //if (!penData.datas.gcurve) penData.datas.gcurve = \"default\";\n\n        var pen = {[PenId]: penData};\n        return {type:Actions.UPDATE, path:DataRefs.PENS, data:pen}\n      } else {\n        return {type:Actions.UPDATE, path:DataRefs.PENS, data:_pensData.val()}\n      }\n    })\n  } \n  return new Promise((resolve, reject) => {\n    console.log(\"Fecth Pens Error\");\n    resolve(null)\n  })\n}\n\nfunction createNewPen({FarmId, PenId, SectionId}){\n  if (FarmId) {\n    var ref = \"farms_data/\" + FarmId + \"/\";\n    return new Promise((resolve, reject) => {\n      if (PenId){\n        var ref2 = ref + \"pens/\" + PenId + \"/\"\n        firebase.database().ref(ref2).set({\n          section: SectionId,\n        }).then(() => {\n          firebase.database().ref(ref + \"sections/\" + SectionId + \"/pens\").update({\n            [PenId]: true,\n          }).then(() => {\n            fetchPens({FarmId: FarmId, PenId: PenId}).then((_Pen) => {\n              resolve({type:Actions.UPDATE, path:DataRefs.PENS, data:_Pen.data})\n            })\n          });\n        });\n      }\n    })\n  }\n}\n\nfunction deletePen({FarmId, PenId, SectionId}){\n  if (FarmId && PenId){\n    var ref = \"farms_data/\" + FarmId + \"/\";\n    return new Promise((resolve, reject) => {\n      firebase.database().ref(ref + \"pens/\" + PenId).remove().then(() => {\n        if (SectionId){\n          firebase.database().ref(ref + \"sections/\" + SectionId + \"/pens/\" + PenId).remove().then(() => {\n            fetchPens({FarmId: FarmId, PenId: PenId}).then((_Pen) => {\n              resolve({type:Actions.UPDATE, path:DataRefs.PENS, data:_Pen.data})\n            })\n          })\n        }else {\n          resolve(null)\n        }\n      })\n    })\n  }\n}\n\nfunction updatePen({FarmId, PenId, Pen}){\n  if (FarmId) {\n    var ref = \"farms_data/\" + FarmId + \"/\";\n    return new Promise((resolve, reject) => {\n      if (PenId){\n        fetchPens({FarmId: FarmId, PenId: PenId}).then((_Pen) => {\n          var ref2 = ref + \"pens/\" + PenId + \"/\"\n          var data = Pen.datas\n          var Datas = {..._Pen.data[PenId].datas, ...data}\n          firebase.database().ref(ref2).update({\n            ...Pen,\n            datas: Datas\n          }).then(() => {\n            if (Pen.section) {\n              firebase.database().ref(ref + \"sections/\" + SectionId + \"/pens\").update({\n                [PenId]: true,\n              }).then(() => {\n                resolve(null)\n              });\n            }\n          });\n        })\n      }\n    })\n  }\n}\n//#endregion\n\n//#region Pigs\nfunction fetchPigs({FarmId, TagId}){\n  if (FarmId) {\n    var ref = \"farms_data/\" + FarmId + \"/pigs\";\n    if (TagId){\n      ref += \"/\" + TagId\n    }\n\n    return firebase.database().ref(ref).once('value').then((_pigsData) => {\n      if (TagId) {\n        var pigData = _pigsData.val()\n        if (!pigData) return null;\n        if (!pigData.datas) pigData.datas = {}\n        if (!pigData.datas.gcurve) pigData.datas.gcurve = \"default\";\n\n        var pig = {[TagId]: pigData};\n        return {type:Actions.UPDATE, path:DataRefs.PIGS, data:pig}\n      } else {\n        return {type:Actions.UPDATE, path:DataRefs.PIGS, data:_pigsData.val()}\n      }\n    })\n  }\n  return new Promise((resolve, reject) => {\n    console.log(\"Fecth Pigs Error\");\n    resolve(null)\n  })\n}\n\nfunction updatePigPen({FarmId, TagId, PenId, Action}) {\n  if (PenId) {\n    var ref2 = \"farms_data/\" + FarmId + \"/\" + \"pens/\" + PenId + \"/datas\"\n    return new Promise((resolve, reject) => {\n      firebase.database().ref(ref2 + \"/count\").once('value').then((counts) => {\n        var val = counts.val()\n        if (!val) val = 0\n        if (Action && !isNaN(Action)) {\n          val = parseInt(val) + parseInt(Action)\n        } else {\n          val = parseInt(val) +1\n        }\n        firebase.database().ref(ref2).update({\n          count: val,\n        }).then(() => {\n          fetchPens({FarmId: FarmId, PenId: PenId}).then((pen) => {\n            resolve({type:Actions.UPDATE, path:DataRefs.PENS, data:pen.data})\n          })\n        });\n      }).catch(error => {\n        console.log(\"Update pig pen Error: \", error);\n        resolve(null)\n      })\n    })\n  }else {\n    return new Promise((resolve, reject) => {\n      resolve(null)\n    })\n  }\n}\n\nfunction updatePigdata({FarmId, TagId, PenId, Action}) {\n  if (FarmId) {\n    var ref = \"farms_data/\" + FarmId + \"/\";\n    if (TagId) {\n      return new Promise((resolve, reject) => {\n        var ref2 = ref + \"pigs/\" + TagId + \"/\"\n        fetchPigs({FarmId: FarmId, TagId: TagId}).then((pig) => {\n          if (pig && pig.data) {\n            pig = pig.data[TagId]?pig.data[TagId]:null\n          }\n          if (!pig || !pig.hasOwnProperty('pen')){\n            firebase.database().ref(ref2).update({\n              pen: 0,\n            }).then(() => {\n              fetchPigs({FarmId: FarmId}).then((pigs) => {\n                console.log(\"?\", pigs)\n                resolve(null)\n                //resolve({type:Actions.UPDATE, path:DataRefs.PIGS, data:pigs})\n              })\n            })\n          }\n          else if (PenId && PenId != pig.pen){\n            updatePigPen({FarmId: FarmId, TagId: TagId, PenId: pig.pen, Action:-1}).then((data)=>{\n              updatePigPen({FarmId: FarmId, TagId: TagId, PenId: PenId, Action:+1}).then((data)=>{\n                firebase.database().ref(ref2).update({\n                  pen: PenId\n                }).then(() => {\n                  fetchPigs({FarmId: FarmId}).then((pigs)=> {\n                    resolve({type:Actions.UPDATE, path:DataRefs.PIGS, data:pigs.data})\n                  })\n                })\n              })\n            })\n          } else {\n            resolve(null)\n          }\n        })\n      })\n    } else {\n      return new Promise((resolve, reject) => {\n        updatePigPen({FarmId: FarmId, TagId: TagId, PenId: PenId, Action:Action}).then((data) => {\n          console.log(\"?4\", data)\n          resolve({type:Actions.UPDATE, path:DataRefs.PENS, data:data.data})\n        })\n      })\n    }\n  }\n}\n//#endregion\n\n//#region Batchs\nfunction fetchBatchs({FarmId, BatchId, Data, Time}){ //TODO: something realated to active batch.. timebased ???\n  if (FarmId) {\n    var ref = \"farms_data/\" + FarmId + \"/batchs\";\n    if (BatchId){\n      ref += \"/\" + BatchId\n    }\n\n    if (!Data) {\n      return firebase.database().ref(ref).once('value').then((_batchdata) => {\n        if (BatchId) {\n          var batchdata = _batchdata.val()\n          if (!batchdata) return null;\n          if (!batchdata.datas) batchdata.datas = {}\n          if (!batchdata.pens) batchdata.pens = []\n          if (!batchdata.datas.gcurve) batchdata.datas.gcurve = \"default\";\n\n          var batch = {[BatchId]: batchdata};\n          return {type:Actions.UPDATE, path:DataRefs.BATCHS, data:batch}\n        } else {\n          return {type:Actions.UPDATE, path:DataRefs.BATCHS, data:_batchdata.val()}\n        }\n      })\n    }\n    else if (BatchId) {\n      switch(Data){\n        case DataRefs.BATCHS:\n          ref += \"/\" + \"datas\"\n          return firebase.database().ref(ref).once('value').then((_batchdata) => {\n            var data = {[BatchId]: {datas: _batchdata.val()}}\n            return {type:Actions.UPDATE, path:DataRefs.BATCHS, data:data}\n          })\n        case DataRefs.PENS:\n          ref += \"/\" + \"pens\"\n          return firebase.database().ref(ref).once('value').then((_batchdata) => {\n            var pens = {[BatchId]: {pens: _batchdata.val()}}\n            return {type:Actions.UPDATE, path:DataRefs.BATCHS, data:pens}\n          })\n        case DataRefs.GRAPH:\n          ref += \"/\" + \"gcurve\"\n          return firebase.database().ref(ref).once('value').then((_batchdata) => {\n            var curve = {[BatchId]: {gcurve: _batchdata.val()}}\n            return {type:Actions.UPDATE, path:DataRefs.BATCHS, data:curve}\n          })\n      }\n    }\n  }\n  return new Promise((resolve, reject) => {\n    console.log(\"Fecth Batchs Error\");\n    resolve(null)\n  })\n}\n\nfunction createBatchs({FarmId, BatchId, Batch}) {\n  if (FarmId) {\n    var ref = \"farms_data/\" + FarmId + \"/batchs\";\n    return new Promise((resolve, reject) => {\n      if (Batch && Batch.name) {\n        BatchId = Batch.name;\n        ref += \"/\" + Batch.name + \"/\"\n        delete Batch.name;\n        firebase.database().ref(ref).set({\n          ...Batch,\n        }).then(() => {\n          Object.keys(Batch.pens).forEach(pen => {\n            updatePen({FarmId:FarmId, PenId:pen, Pen:{datas:{batch:BatchId}}})\n          })\n          resolve(fetchBatchs({FarmId: FarmId}))\n        }).catch(error => {\n          if (error.code === 'database/permission-denied') {\n            console.log(\"Batch update was permission denied. \");\n          }else if (error.code) {\n            console.log(\"Batch update Error: \", error);\n          }\n          resolve({error:\"An error occurred\"})\n        })\n      }\n      if (BatchId) {\n        console.log(\"???\") //TODO: why id.. mabye cleanup\n        ref += \"/\" + BatchId + \"/\"\n        firebase.database().ref(ref).set({\n          time: firebase.database.ServerValue.TIMESTAMP,\n          pens:[],\n          datas:{\n            devianceMin:1,\n            devianceMax:2,\n          }\n        }).then(() => {\n          resolve(fetchBatchs({FarmId: FarmId}))\n        });\n      }\n    })\n  }\n}\n\nfunction updateBatchs({FarmId, BatchId, Batch, Data}) {\n  if (FarmId) {\n    var ref = \"farms_data/\" + FarmId + \"/batchs\";\n    return new Promise((resolve, reject) => {\n      if (BatchId && Batch) {\n        ref += \"/\" + BatchId\n        fetchBatchs({FarmId: FarmId, BatchId: BatchId, Data:DataRefs.PENS}).then((_batch) => {\n          var Pens = _batch.data[BatchId].pens\n          if (Batch.name) delete Batch.name\n\n          firebase.database().ref(ref).update({\n            ...Batch,\n          }).then(() => {\n            if (Batch.pens && JSON.stringify(Batch.pens)!==JSON.stringify(Pens)) {\n              var RemovedPens = Object.keys(Pens).filter(x => !Object.keys(Batch.pens).includes(x));\n              var NewPens = Object.keys(Batch.pens).filter(x => !Object.keys(Pens).includes(x));\n\n              if (RemovedPens && RemovedPens.length > 0) {\n                RemovedPens.forEach(pen => {\n                  updatePen({FarmId:FarmId, PenId:pen, Pen:{datas:{batch:\"\"}}})\n                })\n              }\n              if (NewPens && NewPens.length > 0) {\n                NewPens.forEach(pen => {\n                  updatePen({FarmId:FarmId, PenId:pen, Pen:{datas:{batch:BatchId}}})\n                })\n              }\n            }\n            if (Batch.state && Batch.state === \"Closed\") {\n              //TODO: Move Closed Batch out off Batch mem\n              Object.keys(Pens).forEach(pen=>{\n                updatePen({FarmId:FarmId, PenId:pen, Pen:{datas:{batch:\"\"}}})\n              })\n            }\n\n            fetchBatchs({FarmId: FarmId, BatchId: BatchId}).then((data)=>{\n              resolve(data)\n            })\n          }).catch(error => {\n            if (error.code === 'database/permission-denied') {\n              console.log(\"Batch update was permission denied. \");\n            }else if (error.code) {\n              console.log(\"Batch update Error: \", error);\n            }\n            console.log(error)\n            resolve({error:\"An error occurred\"})\n          })\n        })\n      }else {\n        console.log(\"Update Batchs Error\");\n        resolve(null)\n      }\n    })\n  }\n}\n//#endregion\n\n//#region Weights\nfunction fetchWeights({FarmId, PenId, SectionId, limitStart = 0, limitTo = 5}) {\n  if (FarmId) {\n    var ref = \"farms_data/\" + FarmId + \"/weighings\";\n    return new Promise((resolve, reject) => {\n      if (PenId) {\n        ref += \"/\" + PenId\n        firebase.database().ref(ref).orderByChild('time').limitToLast(limitTo).once('value', snapshot => {\n          var weighing = {[snapshot.key]:{}}\n          snapshot.forEach(c => {\n            weighing[snapshot.key][c.key] = c.val()\n          }) \n          resolve({type:Actions.UPDATE, path:DataRefs.WEIGHING, data:weighing})\n        })\n      } else {\n        fetchSections({FarmId, SectionId}).then((sections) => {\n          var itemsProcessed = 0;\n          var length = 0;\n\n          var newWeights = {}\n          Object.keys(sections.data).forEach(section => {\n            length += Object.keys(sections.data[section].pens).length\n            Object.keys(sections.data[section].pens).forEach(pen => {\n              fetchWeights({FarmId:FarmId, PenId:pen, limitStart:0, limitTo:limitTo}).then((weights) => {\n                itemsProcessed++\n                newWeights = {...newWeights, ...weights.data}\n                if (itemsProcessed === length) {\n                  resolve({type:Actions.UPDATE, path:DataRefs.WEIGHING, data:newWeights})\n                }\n              }).catch(error => {\n                console.log(error)\n                resolve({type:Actions.UPDATE, path:DataRefs.WEIGHING, data:newWeights})\n              })\n            })\n\n          })\n        }).catch(error => {\n          console.log(error)\n        })\n      }\n    })\n  }\n  return new Promise((resolve, reject) => {\n    console.log(\"Fecth Weights Error\");\n    resolve(null)\n  })\n}\n\nfunction createWeight({FarmId, PenId, Weight, Date}) {\n  if (FarmId) {\n    var ref = \"farms_data/\" + FarmId + \"/weighings\";\n    if (PenId){\n      ref += \"/\" + PenId + \"/\"\n\n      return new Promise((resolve, reject) => {\n        const weightRef = firebase.database().ref(ref).push()\n        const weightid = weightRef.key\n\n        weightRef.set({\n          time: Date.getTime(),\n          weight: Weight,\n        }).then(() => {\n          fetchWeights({FarmId:FarmId, PenId:PenId}).then((weights)=>{\n            resolve(weights)\n          })\n        }).catch(error => {\n          console.log(\"Create Weight Error: \", error);\n          resolve(null)\n        })\n      })\n    }\n  }\n}\n//#endregion\n\n//#region Graphs\nfunction fetchGraphData({FarmId, GraphId}) {\n  if (FarmId) {\n    var ref = \"farms_data/\" + FarmId + \"/graph\";\n    ref = ref + \"/\" + GraphId;\n    return new Promise((resolve, reject) => {\n      firebase.database().ref(ref).once('value').then((graph) => {\n        var Graphs = null\n        var GraphVal = graph.val()\n        if (GraphVal) {\n          if (GraphId) {\n            var newGraph = {[graph.key]: GraphVal}\n            Graphs = {...Graphs, ...newGraph}\n          }else {\n            Graphs = {...Graphs, ...GraphVal}\n          }\n        }\n        if (!GraphId) {\n          firebase.database().ref(\"farms_data/Agrisys/graph\").once('value').then((Agraph) => {\n            var AgraphVal = Agraph.val();\n            if (AgraphVal) {\n              Graphs = {...AgraphVal, ...Graphs}\n            }\n            resolve({type:Actions.UPDATE, path:DataRefs.GRAPH, data:Graphs})\n          }).catch(error => {\n            console.log(\"Get Agrisys graph Error: \", error);\n            resolve({type:Actions.UPDATE, path:DataRefs.GRAPH, data:Graphs})\n          })\n        }else {\n          resolve({type:Actions.UPDATE, path:DataRefs.GRAPH, data:Graphs})\n        }\n      }).catch(error => {\n        console.log(\"Get farm graph Error: \", error);\n        resolve(null)\n      })\n    })\n  }\n  return new Promise((resolve, reject) => {\n    console.log(\"Fecth Graph Error\");\n    resolve(null)\n  })\n}\n\nfunction updateGraphData({FarmId, Graph}) {\n  if (FarmId) {\n    var ref = \"farms_data/\" + FarmId + \"/graph\";\n    if (Graph.name) {\n      ref += \"/\" + Graph.name + \"/\"\n      return new Promise((resolve, reject) => {\n        firebase.database().ref(ref).update({\n          data: Graph.data,\n          periode: Graph.periode\n        }).then(() => {\n          fetchGraphData({FarmId: FarmId, GraphId: Graph.name}).then((_Graph)=>{\n            resolve(_Graph)\n          })\n        }).catch(error => {\n          console.log(\"Create Graph Error: \", error);\n          resolve(null)\n        })\n      })\n    }\n  }\n}\n//#endregion\n//#endregion\n\nexport const firebaseService = {\n  //Firebase\n  requestUserPermission,\n  requestFirebaseToken,\n  wrappedAlert,\n\n  //Firebase Auth (could be moved to fetch / action)\n  createFirebaseUserWithemailandpassword,\n  signinWithemailandpassword,\n  logoutUser,\n\n  //Commnads\n  actionStarting,\n}\n","import { Alert } from 'react-native'\nimport {buffers, eventChannel} from 'redux-saga'\nimport { put, call, fork, take, cancelled, cancel, actionChannel, race, select } from 'redux-saga/effects'\n\nimport FirebaseActions from '../../Stores/Firebase/Actions'\nimport { firebaseService } from '../../Services/FirebaseService'\n\nimport Constants from 'expo-constants';\nimport firebase from 'firebase/app'\nimport \"firebase/auth\"\nimport \"firebase/messaging\"\nimport \"firebase/database\"\n\nimport { UserStates, DataRefs, Actions } from '../../Stores/Firebase/Selectors'\n\nexport function* firebaseStartup() {\n  //Check and setup Firebase and permissions\n  yield put(FirebaseActions.setFirebaseError(null))\n\n  console.log(Constants.manifest.web.config.firebase)\n  firebase.initializeApp(Constants.manifest.web.config.firebase);\n\n  const permitError = yield call(firebaseService.requestUserPermission)\n  if (permitError) {\n    yield put(FirebaseActions.fetchFailure(permitError))\n  }else {\n    //yield put(FirebaseActions.firebaseIsLoading(true))\n    yield fork(handleAuthState)\n    yield fork(handleActions)\n\n    if (firebase.messaging.isSupported()) {\n      yield fork(onMessageHandler)\n      yield fork(onBackgroundMessageHandler)\n    }\n\n    //var FirebaseToken = yield call(firebaseService.requestFirebaseToken);\n    //console.log('Firebase Token: ', FirebaseToken);\n    \n    //yield fork(testmessage,FirebaseToken)\n  }\n\n  console.log('Firebase Startup : Done');\n}\n\n//Somehow works ??? but should only work at server hosting XMPP, try firebase functions insted if nessasary\n//TODO: check this more... SendNotification to device\n//it seams to work ... but slow ???\nfunction* testmessage(token){\n  /*messaging().sendMessage({\n      to: '11111111111111@fcm.googleapis.com',\n      messageId: 'test1',\n      messageType: 'test2',\n      notification: {\n          title: 'Foo',\n          body: 'Bar',\n      }\n    });*/\n    //to: 'worker@agrisys.dk',\n  var message = {\n    to: token,\n    messageId: 'test1',\n    messageType: 'test2',\n    notification: {\n        title: 'Foo',\n        body: 'Bar',\n    }\n  }\n  firebase.messaging().sendMessage(message).then(msg => {\n    console.log(msg)\n  })\n}\n\nexport function* handleAuthState() {\n  const authChannel = yield eventChannel((emit) => {\n    const subscription = firebase.auth().onAuthStateChanged((user) => {\n      if (user == null){\n        emit(\"NONE\")\n      }else {\n        emit(user)\n      }\n    })\n    return () => {\n      subscription()\n    };\n  }, buffers.expanding(1))\n\n  try {\n    for (;;) {\n      const newAuth = yield take(authChannel)\n      var firebaseUser = {firebaseUser: newAuth === \"NONE\"?null:newAuth};\n      \n      yield put(FirebaseActions.dataFetchSuccess({type:Actions.UPDATE, path:DataRefs.USERS, data: firebaseUser}))\n      if (firebaseUser.firebaseUser) {\n        const userData = yield call(firebaseService.actionStarting, DataRefs.USERS, Actions.FETCH, {UserId: newAuth.uid})\n        if (userData.data){\n          yield put(FirebaseActions.dataFetchSuccess({type:Actions.UPDATE, path:DataRefs.USERS, data: userData.data}))\n        }\n      }\n    }\n  } finally {\n    if (yield cancelled()) {\n      authChannel.close()\n    }\n  }\n}\n\nexport function* handleActions() {\n  const channel = yield actionChannel([\n    'ACTION_STARTING',\n  ])\n\n  for (;;) {\n    const action: ACTION_STARTING = yield take(channel)\n    //TODO: mabye clean up Farmid prop.. by current firebase user.. localdata framid.. append here..\n    //console.log(action.ref, action.action)\n    if (Object.values(Actions).includes(action.action)) {\n      if (Object.values(DataRefs).includes(action.ref)) {\n        const UserData = yield select((state) => state.firebase.localDataStore.userData);\n        var params = action.params\n        if (!params && action.action != Actions.SIGN && UserData && UserData.farms) {\n          params = [Object.keys(UserData.farms)[0]]\n        }\n        const NewData = yield call(firebaseService.actionStarting, action.ref, action.action, params)\n        if (NewData && NewData.error) {\n          yield put(FirebaseActions.fetchFailure(NewData.error))\n        } else {\n          //console.log(\"resCall: \", NewData)\n          if (NewData.type && NewData.path && NewData.data) {\n            yield put(FirebaseActions.dataFetchSuccess(NewData))\n          }\n          else {\n            //console.log(\"Old Path: \", action.ref, action.action, params, NewData)\n            yield put(FirebaseActions.fetchSuccess({localDataStore:NewData}))\n          }\n        }\n      }\n    }\n  }\n}\n\n// Notification Handler for then App is in Foreground State\nexport function* onMessageHandler() {\n  const onMessageChannel = yield eventChannel((emit) => {\n    const messageListener = firebase.messaging().onMessage((remoteMessage) => {\n      //console.log(\"message ? \", remoteMessage);\n      emit(remoteMessage);\n    });\n    return () => {\n      messageListener();\n    };\n  }, buffers.expanding(1));\n\n  try {\n    for (;;) {\n      const remoteMessage = yield take(onMessageChannel)\n      console.log(\"New Firebase message: \", remoteMessage)\n      if (remoteMessage.notification && remoteMessage.notification.title && remoteMessage.notification.body){\n        yield call(firebaseService.wrappedAlert, remoteMessage.notification.title, remoteMessage.notification.body, \"Ok\", false)\n      }else {\n        console.log(\"New Firebase data message: \", remoteMessage)\n      }\n    }\n  } finally {\n    if (yield cancelled()) {\n      onMessageChannel.close()\n    }\n  }\n}\n\n// Notification Handler for then App is in Background & Quit state\nexport function* onBackgroundMessageHandler() {\n  // Assume a message-notification contains a \"type\" property in the data payload of the screen to open\n  /*firebase.messaging().onNotificationOpenedApp(remoteMessage => {\n    console.log(\n      'Notification caused app to open from background state:',\n      remoteMessage.notification,\n    );\n    //NavigationService.navigate(remoteMessage.data.type); // this is not view..\n  });\n\n  const onMessageChannel = yield eventChannel((emit) => {\n    firebase.messaging().setBackgroundMessageHandler((remoteMessage) => {\n      emit(remoteMessage);\n    });\n    return () => {\n      //\n    };\n  }, buffers.expanding(1));\n\n  try {\n    for (;;) {\n      const remoteMessage = yield take(onMessageChannel)\n      console.log(\"New background Firebase message: \", remoteMessage)\n    }\n  } finally {\n    if (yield cancelled()) {\n      onMessageChannel.close()\n    }\n  }*/\n}","import { takeLatest, all, take } from 'redux-saga/effects'\n\nimport { StartupTypes } from '../Stores/Startup/Actions'\nimport { ExampleTypes } from '../Stores/Example/Actions'\n//import { DeviceTypes } from '../Stores/Device/Actions'\nimport { FirebaseTypes } from '../Stores/Firebase/Actions'\n\nimport * as StartupSaga from './StartupSaga'\nimport * as ExampleSaga from './Example/ExampleSaga'\n//import * as DeviceSaga from './Device/DeviceSaga'\nimport * as FirebaseSaga from './Firebase/FirebaseSaga'\n\nexport default function* root(sagaArgs) {\n  yield all([\n    /**\n     * @see https://redux-saga.js.org/docs/basics/UsingSagaHelpers.html\n     */\n    // Run the startup saga when the application starts\n    takeLatest(StartupTypes.STARTUP, StartupSaga.startup), //Initer\n    \n\n    //Example\n    takeLatest(ExampleTypes.FETCH_USER, ExampleSaga.fetchUser), // Call `fetchUser()` when a `FETCH_USER` action is triggered\n    \n    /*//Device Main Saga\n    takeLatest(DeviceTypes.DEVICE_STARTUP, DeviceSaga.deviceStartup), //Initer\n\n    takeLatest(DeviceTypes.CONNECT_DEVICE, DeviceSaga.connectDevice),\n    takeLatest(DeviceTypes.DISCONNECT_DEVICE, DeviceSaga.disconnectDevice),\n    takeLatest(DeviceTypes.READ_DEVICE_DATA, DeviceSaga.readDeviceData),\n\n    takeLatest(DeviceTypes.FETCH_DEVICE, DeviceSaga.fetchDevice, sagaArgs),\n\n    //BLE Saga\n    takeLatest(DeviceTypes.BLE_STARTUP, DeviceSaga.BLE.bleStartup, sagaArgs), //Initer\n    takeLatest(DeviceTypes.START_BLE_SCAN, DeviceSaga.BLE.startBleScan),\n    takeLatest(DeviceTypes.STOP_BLE_SCAN, DeviceSaga.BLE.stopBleScan),\n    takeLatest(DeviceTypes.READ_BLE_DEVICE_DATA, DeviceSaga.BLE.readBleDeviceData, sagaArgs),\n    \n    //Android BlueThooth Saga\n    takeLatest(DeviceTypes.BLUETOOTH_STARTUP, DeviceSaga.BlueTooth.bluetoothStartup, sagaArgs), //Initer\n    takeLatest(DeviceTypes.START_BLUETOOTH_SCAN, DeviceSaga.BlueTooth.startBluetoothScan),\n    takeLatest(DeviceTypes.STOP_BLUETOOTH_SCAN, DeviceSaga.BlueTooth.stopBluetoothScan),\n    takeLatest(DeviceTypes.BLUETOOTH_SCAN_ABLE, DeviceSaga.BlueTooth.bluetoothScanAble, sagaArgs),\n    takeLatest(DeviceTypes.READ_BLUE_DEVICE_DATA, DeviceSaga.BlueTooth.readBlueDeviceData, sagaArgs),*/\n\n    //Firebase Saga\n    takeLatest(FirebaseTypes.FIREBASE_STARTUP, FirebaseSaga.firebaseStartup), //Initer\n  ])\n}\n","/**\n * The initial values for the redux state.\n */\nexport const INITIAL_STATE = {\n  user: {},\n  userIsLoading: false,\n  userErrorMessage: null,\n}\n","/**\n * Reducers specify how the application's state changes in response to actions sent to the store.\n *\n * @see https://redux.js.org/basics/reducers\n */\n\nimport { INITIAL_STATE } from './InitialState'\nimport { createReducer } from 'reduxsauce'\nimport { ExampleTypes } from './Actions'\n\nexport const fetchUserLoading = (state) => ({\n  ...state,\n  userIsLoading: true,\n  userErrorMessage: null,\n})\n\nexport const fetchUserSuccess = (state, { user }) => ({\n  ...state,\n  user: user,\n  userIsLoading: false,\n  userErrorMessage: null,\n})\n\nexport const fetchUserFailure = (state, { errorMessage }) => ({\n  ...state,\n  user: {},\n  userIsLoading: false,\n  userErrorMessage: errorMessage,\n})\n\n/**\n * @see https://github.com/infinitered/reduxsauce#createreducer\n */\nexport const reducer = createReducer(INITIAL_STATE, {\n  [ExampleTypes.FETCH_USER_LOADING]: fetchUserLoading,\n  [ExampleTypes.FETCH_USER_SUCCESS]: fetchUserSuccess,\n  [ExampleTypes.FETCH_USER_FAILURE]: fetchUserFailure,\n})\n","/**\n * Reducers specify how the application's state changes in response to actions sent to the store.\n *\n * @see https://redux.js.org/basics/reducers\n */\n\nimport { createReducer } from 'reduxsauce'\nimport { append } from 'funcadelic';\n\nimport { Actions, DataRefs } from './Selectors'\nimport { FirebaseTypes } from './Actions'\n\nimport { INITIAL_STATE } from './InitialState'\n\nexport const firebaseIsLoading = (state, { loadingstate }) => ({\n  ...state,\n  firebaseIsLoading: loadingstate,\n})\n\nexport const setFirebaseError = (state, { errorMessage }) => ({\n  ...state,\n  firebaseErrorMessage: errorMessage,\n})\n\nexport const setCurrentData = (state, {data}) => {\n  return({\n    ...state,\n    currentData: data\n  })\n}\n\nfunction IDGenerate(){\n  return Math.random().toString(36).substr(2, 9);\n}\n\nexport const actionStarting = (state) => ({\n  ...state,\n  //firebaseIsLoading: true,\n  firebaseErrorMessage: null,\n})\n\nexport const fetchStarting = (state) => ({\n  ...state,\n  //firebaseIsLoading: true,\n  firebaseErrorMessage: null,\n})\n\nfunction mergeDeep(target, source) {\n  const isObject = (obj) => obj && typeof obj === 'object';\n\n  if (!isObject(target) || !isObject(source)) {\n    return source;\n  }\n\n  Object.keys(source).forEach(key => {\n    const targetValue = target[key];\n    const sourceValue = source[key];\n\n    if (Array.isArray(targetValue) && Array.isArray(sourceValue)) {\n      //target[key] = targetValue.concat(sourceValue);  //Mercing value of arrays would creates doubles.. like curve data..\n    } else if (isObject(targetValue) && isObject(sourceValue)) {\n      target[key] = mergeDeep(Object.assign({}, targetValue), sourceValue);\n    } else {\n      target[key] = sourceValue;\n    }\n  });\n\n  return target;\n}\n\nexport const dataFetchSuccess = (state, { params }) => {\n  const {type, path, data} = params\n  var NewDataStore = state.localDataStore;\n  var NewFirebaseUser = state.firebaseUser;\n  switch(type) {\n    case Actions.UPDATE:\n    case Actions.ADD:\n      if (!data) break;\n      var newData = data\n      console.log(\"Testing: \", path, params)\n      switch(path){\n        case DataRefs.USERS:\n          Object.keys(newData).forEach(element => {\n            if (element === \"firebaseUser\"){\n              NewFirebaseUser = newData.firebaseUser;\n            } else {\n              if (!NewDataStore.userData) NewDataStore.userData = {};\n              NewDataStore.userData[element] = newData[element]\n            }\n          });\n          break;\n        case DataRefs.FARMS:\n          if (!NewDataStore.farms) NewDataStore.farms = {};\n          if (data.farms) newData = data.farms\n          Object.keys(newData).forEach(element => {\n            NewDataStore.farms[element] = newData[element]\n          });\n          break;\n        case DataRefs.BATCHS:\n          if (!NewDataStore.batchs) NewDataStore.batchs = {};\n          if (data.batchs) newData = data.batchs\n          Object.keys(newData).forEach(element => {\n            NewDataStore.batchs[element] = newData[element]\n          });\n          break;\n        case DataRefs.SECTIONS:\n          if (!NewDataStore.sections) NewDataStore.sections = {};\n          if (data.sections) newData = data.sections\n          Object.keys(newData).forEach(element => {\n            NewDataStore.sections[element] = newData[element]\n          });\n          break;\n        case DataRefs.PENS:\n          if (!NewDataStore.pens) NewDataStore.pens = {};\n          if (data.pens) newData = data.pens\n          Object.keys(newData).forEach(element => {\n            NewDataStore.pens[element] = newData[element]\n          });\n          break;\n        case DataRefs.PIGS:\n          if (!NewDataStore.pigs) NewDataStore.pigs = {};\n          if (data.pigs) newData = data.pigs\n          Object.keys(newData).forEach(element => {\n            NewDataStore.pigs[element] = newData[element]\n          });\n          break;\n\n        case DataRefs.GRAPH:\n          if (!NewDataStore.graphs) NewDataStore.graphs = {};\n          if (data.graphs) newData = data.graphs\n          Object.keys(newData).forEach(element => {\n            NewDataStore.graphs[element] = newData[element]\n          });\n          break;\n        case DataRefs.WEIGHING:\n          if (!NewDataStore.weighings) NewDataStore.weighings = {};\n          if (data.weighings) newData = data.weighings\n          Object.keys(newData).forEach(element => {\n            NewDataStore.weighings[element] = newData[element]\n          });\n          break;\n      }\n      //console.log(path, data)\n      break;\n    default:\n      console.log(\"DataFetch Not created / default\")\n      break;\n  }\n  return({\n    ...state,\n    firebaseUser: NewFirebaseUser,\n    localDataStore: NewDataStore,\n    firebaseIsLoading: false,\n    firebaseErrorMessage: null,\n  })\n}\n\nexport const fetchSuccess = (state, { data }) => {\n  var newlocalDataStore = {...state.localDataStore}\n  var newState = {...state}\n\n  if (data) {\n    console.log(\"?\", data)\n    let {localDataStore, ..._newState} = data;\n    console.log(localDataStore)\n\n    if (localDataStore) {\n      if (Object.keys(localDataStore).length !== 0) {\n        newlocalDataStore = mergeDeep(localDataStore, newlocalDataStore)\n      }\n      else {\n        newlocalDataStore = {...localDataStore}\n      }\n    }\n    newState = append(state,_newState)\n  }\n  return({\n    ...newState,\n    localDataStore: newlocalDataStore,\n    firebaseIsLoading: false,\n    firebaseErrorMessage: null,\n  })\n}\n\nexport const fetchFailure = (state, { errorMessage }) => ({\n  ...state,\n  firebaseIsLoading: false,\n  firebaseErrorMessage: errorMessage,\n})\n\n/**\n * @see https://github.com/infinitered/reduxsauce#createreducer\n */\nexport const HANDLERS = {\n  //Response...\n  [FirebaseTypes.FIREBASE_IS_LOADING]: firebaseIsLoading,\n  [FirebaseTypes.SET_FIREBASE_ERROR]: setFirebaseError,\n\n  [FirebaseTypes.SET_CURRENT_DATA]: setCurrentData,\n\n  //[FirebaseTypes.SET_FREE_DATA]: setFreeUserData,\n  //[FirebaseTypes.GET_FREE_DATA]: getFreeUserData,\n  //[FirebaseTypes.UPDATE_FREE_DATA]: updateFreeUserData,\n\n  [FirebaseTypes.ACTION_STARTING]: actionStarting,\n  [FirebaseTypes.FETCH_STARTING]: fetchStarting,\n  [FirebaseTypes.DATA_FETCH_SUCCESS]: dataFetchSuccess,\n  [FirebaseTypes.FETCH_SUCCESS]: fetchSuccess,\n  [FirebaseTypes.FETCH_FAILURE]: fetchFailure,\n}\n\nexport const reducer = createReducer(INITIAL_STATE, HANDLERS)","import { UserStates } from './Selectors'\n\n/**\n * The initial values for the redux state.\n */\nexport const INITIAL_STATE = {\n  firebaseIsLoading: false,\n  firebaseErrorMessage: null,\n\n  firebaseUser: null,\n\n  localDataStore: {},\n  currentData: null,\n}","/**\n * This file contains the application's colors.\n *\n * Define color here instead of duplicating them throughout the components.\n * That allows to change them more easily later on.\n */\n\nexport default {\n  transparent: 'rgba(0,0,0,0)',\n  white: '#ffffff',\n  gray: '#a6a6a6',\n\n  text: '#4a4a49',\n  secountText: '#ffffff',\n\n  primary: '#a3b9cf',\n\n  success: '#03a489',\n  error: '#dc3545',\n  overest: '#4cafea',\n\n  input: '#86939e',\n\n  AgriGreen: '#03a489',\n  AgriDarkblue: '#4463ab',\n  AgriLightblue: '#a3b9cf',\n  AgriDark: '#4a4a49',\n}\n","import { StyleSheet } from 'react-native'\n\nconst size = {\n  h1: 38,\n  h2: 34,\n  h3: 30,\n  input: 18,\n  regular: 17,\n  medium: 14,\n  small: 12,\n}\n\nexport default {\n  h1: {\n    fontSize: size.h1,\n  },\n  h2: {\n    fontSize: size.h2,\n  },\n  h3: {\n    fontSize: size.h3,\n  },\n  normal: {\n    fontSize: size.regular,\n  },\n}","/**\n * This file contains metric values that are global to the application.\n */\n\n// Examples of metrics you can define:\nexport const tiny = 5\nexport const small = tiny * 2 // 10\nexport const normal = tiny * 3 // 15\nexport const medium = normal * 2 // 30\n\nexport default {\n  tiny,\n  small,\n  normal,\n  medium,\n  \n  tinyBottomMargin: {\n    marginBottom: tiny,\n  },\n  smallBottomMargin: {\n    marginBottom: small,\n  },\n  bottomMargin: {\n    marginBottom: normal,\n  },\n  mediumBottomMargin: {\n    marginBottom: medium,\n  },\n\n  tinyVerticalMargin: {\n    marginVertical: tiny,\n  },\n  smallVerticalMargin: {\n    marginVertical: small,\n  },\n  verticalMargin: {\n    marginVertical: normal,\n  },\n  mediumVerticalMargin: {\n    marginVertical: medium,\n  },\n\n  tinyHorizontalMargin: {\n    marginHorizontal: tiny,\n  },\n  smallHorizontalMargin: {\n    marginHorizontal: small,\n  },\n  horizontalMargin: {\n    marginHorizontal: normal,\n  },\n  mediumHorizontalMargin: {\n    marginHorizontal: medium,\n  },\n\n  tinyHorizontalPadding: {\n    paddingHorizontal: tiny,\n  },\n  smallHorizontalPadding: {\n    paddingHorizontal: small,\n  },\n  horizontalPadding: {\n    paddingHorizontal: normal,\n  },\n  mediumHorizontalPadding: {\n    paddingHorizontal: medium,\n  },\n\n  tinyVerticalPadding: {\n    paddingVertical: tiny,\n  },\n  smallVerticalPadding: {\n    paddingVertical: small,\n  },\n  verticalPadding: {\n    paddingVertical: normal,\n  },\n  mediumVerticalPadding: {\n    paddingVertical: medium,\n  },\n}\n","/**\n * Images should be stored in the `App/Images` directory and referenced using variables defined here.\n */\n\nexport default {\n  Home: require('../Assets/Images/Home.png'),\n\n  DashBoard: require('../Assets/Images/Dashboard.png'),\n  System: require('../Assets/Images/System.png'),\n  Curves: require('../Assets/Images/Feed-Curves.png'),\n\n  User: require('../Assets/Images/User.png'),\n  Sow: require('../Assets/Images/Sow.png'),\n  Section: require('../Assets/Images/Section.png'),\n  Pens: require('../Assets/Images/Area_Colour.png'),\n\n  Haxa_globe: require('../Assets/Images/Hexagon-globe.png'),\n  Hexa_icon: require('../Assets/Images/Hexa-icon.png'),\n  Logo: require('../Assets/Images/Logo.png'),\n\n  logo: require('../Assets/Images/TOM.png'),\n}\n","import { StyleSheet } from 'react-native'\nimport { Colors, Fonts, Metrics, } from '../Theme'\n\nexport default {\n  //********************** col sets */\n  column: {\n    flexDirection: 'column',\n  },\n  colMain: {\n    flexDirection: 'column',\n    justifyContent: 'center',\n  },\n  colCenter: {\n    flexDirection: 'column',\n    alignItems: 'center',\n    justifyContent: 'center',\n  },\n  colCross: {\n    flexDirection: 'column',\n    alignItems: 'center',\n  },\n  columnReverse: {\n    flexDirection: 'column-reverse',\n  },\n\n  //********************** Row sets */\n  row: {\n    flexDirection: 'row',\n  },\n  rowMain: {\n    flexDirection: 'row',\n    justifyContent: 'center',\n  },\n  rowCenter: {\n    flexDirection: 'row',\n    alignItems: 'center',\n    justifyContent: 'center',\n  },\n  rowCross: {\n    flexDirection: 'row',\n    alignItems: 'center',\n  },\n  rowReverse: {\n    flexDirection: 'row-reverse',\n  },\n\n  //********************** Cross sets */\n  center: {\n    alignItems: 'center',\n    justifyContent: 'center',\n  },\n  crossCenter: {\n    alignItems: 'center',\n  },\n  crossEnd: {\n    alignItems: 'flex-end',\n  },\n  crossStart: {\n    alignItems: 'flex-start',\n  },\n  crossStretch: {\n    alignItems: 'stretch',\n  },\n\n  //********************** Fill sets */\n  fill: {\n    flex: 1,\n  },\n  fillCenter: {\n    flex: 1,\n    alignItems: 'center',\n    justifyContent: 'center',\n  },\n  fillCol: {\n    flex: 1,\n    flexDirection: 'column',\n  },\n  fillColCenter: {\n    flex: 1,\n    flexDirection: 'column',\n    alignItems: 'center',\n    justifyContent: 'center',\n  },\n  fillColCross: {\n    flex: 1,\n    flexDirection: 'column',\n    alignItems: 'center',\n  },\n  fillColMain: {\n    flex: 1,\n    flexDirection: 'column',\n    justifyContent: 'center',\n  },\n  fillColReverse: {\n    flex: 1,\n    flexDirection: 'column-reverse',\n  },\n  fillRow: {\n    flex: 1,\n    flexDirection: 'row',\n  },\n  fillRowCenter: {\n    flex: 1,\n    flexDirection: 'row',\n    alignItems: 'center',\n    justifyContent: 'center',\n  },\n  fillRowCross: {\n    flex: 1,\n    flexDirection: 'row',\n    alignItems: 'center',\n  },\n  fillRowMain: {\n    flex: 1,\n    flexDirection: 'row',\n    justifyContent: 'center',\n  },\n  fillRowReverse: {\n    flex: 1,\n    flexDirection: 'row-reverse',\n  },\n\n  //********************** Size sets */\n  fullSize: {\n    height: '100%',\n    width: '100%',\n  },\n  halvWidth: {\n    width: '50%',\n  },\n  midWidth: {\n    width: '75%',\n  },\n  fullWidth: {\n    width: '100%',\n  },\n\n  //********************** Main sets */\n  mainCenter: {\n    justifyContent: 'center',\n  },\n  mainEnd: {\n    justifyContent: 'flex-end',\n  },\n  mainSpaceAround: {\n    justifyContent: 'space-around',\n  },\n  mainSpaceBetween: {\n    justifyContent: 'space-between',\n  },\n  mainStart: {\n    justifyContent: 'flex-start',\n  },\n\n  //********************** Container sets */\n  mainContainer:{\n    flex: 1,\n    flexDirection: 'column',\n    alignItems: 'center',\n    ...Metrics.mediumHorizontalMargin,\n  },\n  contentContainer:{\n    flex:1,\n    flexDirection: 'column',\n    alignItems: 'center',\n    ...Metrics.mediumHorizontalMargin,\n    marginTop: Metrics.small,\n    ...Metrics.bottomMargin,\n  },\n  borderContainer: {\n    borderWidth: 1,\n    borderColor: '#000',\n    borderRadius: 15,\n    ...Metrics.tinyHorizontalPadding,\n    ...Metrics.tinyVerticalPadding,\n    maxWidth:450,\n    zIndex: 1,\n  },\n  textContainer:{\n    ...Fonts.normal,\n    marginBottom: Metrics.normal,\n    alignItems: 'center',\n  },\n  buttonContainer: {\n    marginBottom: Metrics.small,\n    maxWidth:450,\n  },\n  loadingContainer: {\n    position: 'absolute',\n    left: 0,\n    right: 0,\n    top: 0,\n    bottom: 0,\n    alignItems: 'center',\n    justifyContent: 'center',\n    backgroundColor: '#F5FCFF88',\n  },\n  logoContainer: {\n    width: '100%',\n    height: 220,\n  },\n\n  //**********************  */\n  backgroundReset: {\n    backgroundColor: Colors.transparent,\n  },\n\n  rotate90: {\n    transform: [{ rotate: '90deg' }],\n  },\n  rotate90Inverse: {\n    transform: [{ rotate: '-90deg' }],\n  },\n  mirror: {\n    transform: [{ scaleX: -1 }],\n  },\n\n  scrollSpaceAround: {\n    flexGrow: 1,\n    justifyContent: 'space-around',\n  },\n  scrollSpaceBetween: {\n    flexGrow: 1,\n    justifyContent: 'space-between',\n  },\n\n  selfStretch: {\n    alignSelf: 'stretch',\n  },\n\n  textCenter: {\n    textAlign: 'center',\n  },\n  textJustify: {\n    textAlign: 'justify',\n  },\n  textLeft: {\n    textAlign: 'left',\n  },\n  textRight: {\n    textAlign: 'right',\n  },\n};\n","/**\n * This file defines the base application styles.\n *\n * Use it to define generic component styles (e.g. the default text styles, default button styles...).\n */\nimport { StyleSheet } from 'react-native'\nimport { Colors, Fonts, Metrics, } from '../Theme'\n\nexport default {\n  button: {\n    backgroundColor: Colors.primary,\n    color: Colors.secountText,\n  },\n  buttonText: {\n    color: Colors.secountText,\n  },\n\n  error: {\n    ...Fonts.normal,\n    color: Colors.error,\n    marginBottom: Metrics.tiny,\n    textAlign: 'center',\n  },\n  result: {\n    ...Fonts.normal,\n    marginBottom: Metrics.tiny,\n    textAlign: 'center',\n  },\n  text: {\n    ...Fonts.normal,\n    marginBottom: Metrics.tiny,\n    textAlign: 'center',\n  },\n  input: {\n    ...Fonts.normal,\n    height: 24, \n  },\n\n  navigationHeader:{\n    textAlign: 'center',\n    alignSelf:'center',\n    flexGrow:1,\n  }\n};\n","import { StyleSheet } from 'react-native'\nimport { Helpers, Metrics, Fonts, Colors } from '../../Theme'\n\nexport default StyleSheet.create({\n  container: {\n    backgroundColor: Colors.primary,\n  },\n})\n","import React, { useEffect, Component } from 'react'\nimport { Text, View, Image, Platform } from 'react-native'\nimport { useDispatch, useSelector, connect } from 'react-redux'\nimport { bindActionCreators } from 'redux';\n\nimport NavigationService from '../../Services/NavigationService'\n\nimport firebase from 'firebase/app'\nimport \"firebase/messaging\"\n\nimport Style from './SplashScreenStyle'\nimport { Helpers, Images } from '../../Theme'\n\nclass SplashScreen extends Component {\n  constructor(props){\n    super(props);\n    /*this.state = {\n    }*/\n  }\n\n  getData(){\n    //this.props.setFirebaseError(null)\n    if (Platform.OS === \"android\" || Platform.OS === \"ios\"){\n      firebase.messaging().onNotificationOpenedApp(remoteMessage => {\n        console.log(\n          'Notification caused app to open from background state:',\n          remoteMessage.notification,\n        );\n        NavigationService.navigate(remoteMessage.data.type);\n      });\n\n      // Check whether an initial notification is available\n      firebase.messaging().getInitialNotification().then(remoteMessage => {\n        if (remoteMessage) {\n          console.log(\n            'Notification caused app to open from quit state:',\n            remoteMessage.notification,\n          );\n          NavigationService.navigate(remoteMessage.data.type); // e.g. \"Settings\"\n        }\n      });\n    }\n  }\n\n  checkData(props){\n  }\n\n  componentDidMount(){\n    this.checkData(this.props);\n    \n    this.getData();\n  }\n\n  componentDidUpdate(prevProps, prevState) {\n    if (this.props !== prevProps){\n      this.checkData(this.props);\n    }\n  }\n\n  render() {\n    return(\n      <View style={[Helpers.fillRowCenter, Style.container]}>\n        <View style={[Helpers.center, Helpers.logoContainer]}>\n          <Image style={Helpers.fullSize} source={Images.Hexa_icon} resizeMode={'contain'} />\n        </View>\n      </View>\n    )\n  }\n}\n\nconst mapStateToProps = (state) => {\n  const { firebase } = state\n  return { firebase }\n};\n\nconst mapDispatchToProps  = (dispatch) => {\n  return {\n    //setFirebaseError: error => dispatch(FirebaseActions.setFirebaseError(error)),\n  }\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(SplashScreen);\n//export default SplashScreen;\n\n","import React from 'react'\nimport { Text, View } from 'react-native'\nimport { Helpers, Metrics } from '../../Theme'\n\n/**\n * This is an example of a container component with a deep link.\n */\nconst DeepLinkingScreen = () => (\n  <View style={[Helpers.fillCenter, Helpers.rowMain, Metrics.mediumHorizontalMargin]}>\n    <Text>\n      This is deep linking example screen which can be accessed using agrissysapp://deeplink scheme!\n    </Text>\n  </View>\n)\n\nexport default DeepLinkingScreen\n","import React from 'react';\r\nimport { StyleSheet, View, TouchableOpacity, Text, Image} from 'react-native';\r\n\r\nimport { ApplicationStyles, Helpers, Metrics, Fonts, Colors, Images } from '../Theme'\r\n\r\nconst Button = props => {\r\n  var TextView = [<Text style={[styles.text, props.textStyle]} key={0}>{props.Text}</Text>]\r\n\r\n  var ImageView = []\r\n  if (props.icon) {\r\n    var _Image = <Image style={Helpers.fullSize} source={props.icon} resizeMode={'contain'} />\r\n    ImageView = (\r\n      <View style={[styles.icon, props.iconStyle]}>\r\n        {_Image}\r\n      </View>\r\n    )\r\n  }\r\n  return (\r\n    <TouchableOpacity style={[styles.boxContainer, props.boxStyle]} onPress={props.onPress}>\r\n      {props.icon?(\r\n        <View style={[styles.button, props.buttonStyle, Helpers.rowCenter]}>\r\n          <View style={[Helpers.colCenter, Helpers.fill]}>\r\n            {TextView}\r\n          </View>\r\n            {ImageView}\r\n        </View>\r\n      ):(\r\n        <View style={[styles.button, props.buttonStyle]}>\r\n          {TextView}\r\n        </View>\r\n      )}\r\n    </TouchableOpacity>\r\n  );\r\n};\r\n\r\nconst styles = StyleSheet.create({\r\n  boxContainer:{\r\n    ...Helpers.center,\r\n    ...Metrics.tinyVerticalMargin,\r\n  },\r\n  button: {\r\n    borderRadius: 15,\r\n    ...Helpers.center,\r\n    ...Helpers.fullWidth,\r\n    ...Metrics.horizontalPadding,\r\n    ...ApplicationStyles.button,\r\n  },\r\n  text: {\r\n    ...ApplicationStyles.buttonText,\r\n    ...Metrics.verticalPadding,\r\n    ...Helpers.center,\r\n    textAlign:\"center\",\r\n  },\r\n  icon: {\r\n    ...Helpers.colCenter,\r\n    ...Metrics.smallVerticalMargin,\r\n    width: '25%', \r\n    height: 50,\r\n  },\r\n});\r\n\r\nexport default Button;","import React from 'react';\r\nimport { View, Text, Image} from 'react-native';\r\nimport Button from './Button'\r\n\r\nimport { ApplicationStyles, Helpers, Metrics } from '../Theme'\r\n\r\nconst Button_Panel = props => {\r\n  const Texts = props.Texts;\r\n  const Images = props.Images;\r\n\r\n  const onPress = props.onPress;\r\n\r\n  var Buttons = []\r\n\r\n  Texts.forEach((element, index) => {\r\n    var image = null\r\n    if (Images && Images[index]){\r\n      image = Images[index]\r\n    }\r\n    Buttons.push(\r\n      <Button key={index} Text={element} icon={image}\r\n        iconStyle={props.iconStyle} itemStyle={props.itemStyle}\r\n        onPress={() => {\r\n          if (onPress) {\r\n            onPress({index: index, text: element})\r\n          }\r\n        }}/>\r\n    )\r\n  });\r\n\r\n  return(\r\n    <View style={[Helpers.buttonContainer, Helpers.midWidth, {marginBottom:30}, props.style] }>\r\n      {Buttons}\r\n    </View>\r\n  )\r\n};\r\n\r\nexport default Button_Panel;","import React from 'react';\r\nimport { StyleSheet, View, TouchableOpacity, Text, Image} from 'react-native';\r\n\r\nimport Button from './Button';\r\n\r\nimport { ApplicationStyles, Helpers, Metrics, Fonts, Colors, Images } from '../Theme'\r\n\r\nconst TitleElement = props => {\r\n  return(\r\n    <View style={[Helpers.buttonContainer, Helpers.midWidth, Metrics.bottomMargin,] }>\r\n      <Button Text={props.Text} icon={props.icon} buttonStyle={{backgroundColor: Colors.AgriDarkblue}}\r\n        onPress={() => {\r\n          if (props.onPress){\r\n            props.onPress()\r\n          }\r\n        } }/>\r\n    </View>\r\n  )\r\n};\r\n\r\nexport default TitleElement;","import React from 'react';\r\nimport { StyleSheet, View, TouchableOpacity, Text} from 'react-native';\r\nimport { ListItem } from 'react-native-elements'\r\n\r\nimport { ApplicationStyles, Helpers, Metrics, Fonts, Colors } from '../Theme'\r\n\r\nconst CustomListItem = props => {\r\n  const key = props.key? props.key : 0 //TODO: always set prop.. (else it throws warn)\r\n  return (\r\n    <ListItem key={key} containerStyle={[styles.listitem, {flexDirection:\"column\", borderRadius:0}, props.itemStyle]} button onPress={props.onPress}>\r\n      <ListItem.Content>\r\n        <ListItem.Title>{props.Title}</ListItem.Title>\r\n        {props.hasOwnProperty(\"Subtitle\") ? <ListItem.Subtitle>{props.Subtitle}</ListItem.Subtitle>\r\n        :(<></>)}\r\n      </ListItem.Content>\r\n    </ListItem>\r\n  )\r\n};\r\n\r\nconst styles = StyleSheet.create({\r\n  listitem: {\r\n    flex: 1,\r\n    ...Helpers.borderContainer,\r\n    ...Helpers.center,\r\n    backgroundColor: '#fff',\r\n    paddingVertical: 5,\r\n    paddingHorizontal: 5,\r\n  },\r\n});\r\n\r\nexport default CustomListItem;","import React from 'react';\r\nimport { StyleSheet, View, TouchableOpacity, Text, FlatList} from 'react-native';\r\n\r\nimport { ApplicationStyles, Helpers, Metrics, Fonts, Colors } from '../Theme'\r\n\r\nconst ContentProp = props => {\r\n  var texts = [];\r\n  if (props.texts){\r\n    props.texts.forEach((element,i) => {\r\n      texts.push(\r\n        (<View style={[styles.contentBox, props.textsStyle]} key={\"text_\" + i}>\r\n          <Text>{element}</Text>\r\n        </View>)\r\n      )\r\n    });\r\n  }\r\n\r\n  var datas = [];\r\n  if (props.datas) {\r\n    props.datas.forEach((element,i) => {\r\n      datas.push(\r\n        (<TouchableOpacity style={[styles.contentBox, props.datasStyle]} onLongPress={() => {\r\n          if (props.onPress){\r\n            props.onPress({data: element, index: i})\r\n          }\r\n        }} key={\"data_\" + i}>\r\n          <Text>{element}</Text>\r\n        </TouchableOpacity>)\r\n      )\r\n    });\r\n  }\r\n\r\n  var length = texts.length > datas.length? texts.length : datas.length\r\n  \r\n  var view = [];\r\n  for(var i = 0; i < length; i++) {\r\n    var dataRow = [];\r\n    if (i < texts.length) {\r\n      dataRow.push(texts[i])\r\n    } else {\r\n      dataRow.push((<View style={[Helpers.fill, Helpers.colCenter]} key={\"leftSpace_\" + i}/>))\r\n    }\r\n\r\n    if (datas.length > 0) {\r\n      dataRow.push((<View style={[Helpers.fill, Helpers.colCenter, {maxWidth:20}]} key={\"seperator_\" + view.length}/>))\r\n\r\n      if (i < datas.length) {\r\n        dataRow.push(datas[i])\r\n      } else {\r\n        dataRow.push((<View style={[Helpers.fill, Helpers.colCenter]} key={\"rightSpace_\" + i}/>))\r\n      }\r\n    }\r\n\r\n    view.push(\r\n      (<View style={[props.datas?Helpers.rowCenter:Helpers.halvWidth, Metrics.tinyVerticalMargin]} key={\"row_\" + view.length}>\r\n        {dataRow}\r\n      </View>)\r\n    )\r\n  }\r\n  \r\n  return (view);\r\n};\r\n\r\nconst styles = StyleSheet.create({\r\n  contentBox: {\r\n    ...Helpers.fill,\r\n    ...Helpers.colCenter,\r\n    ...Helpers.borderContainer,\r\n    borderRadius: 0,\r\n    minHeight:30,\r\n  }\r\n});\r\n\r\n\r\nexport default ContentProp;","import React, { useEffect } from 'react'\nimport { StyleSheet, Text, View, Image, ActivityIndicator } from 'react-native'\n\nimport { Helpers, Images, Colors } from '../Theme'\n\nconst Loading = props => {\n  if (props.loading){\n    var styles = props.back ? styles.container: {}\n    return (\n      <View style={[Helpers.fillRowCenter, Helpers.center, Helpers.logoContainer, styles]}>\n        <View style={[Helpers.center, Helpers.logoContainer]}>\n          <Image style={Helpers.fullSize} source={Images.Hexa_icon} resizeMode={'contain'} />\n        </View>\n      </View>\n    )\n  } else return null;\n}\n\nconst styles = StyleSheet.create({\n  container: {\n    backgroundColor: Colors.primary,\n  },\n});\n\nexport default Loading\n","import React, { useEffect } from 'react'\nimport { Platform, Text, View, ActivityIndicator, ScrollView } from 'react-native'\nimport { useDispatch, useSelector } from 'react-redux'\nimport NavigationService from '../Services/NavigationService'\n\nimport FirebaseActions from '../Stores/Firebase/Actions'\nimport { Actions, DataRefs, sortObject } from '../Stores/Firebase/Selectors'\n\nimport { Button } from '../Components'\nimport { ApplicationStyles, Helpers, Metrics } from '../Theme'\n\nconst OperationsPanel = props => {\n  const dispatch = useDispatch()\n  if (props.pigTag || props.pig){\n    var Pen = null\n    var Section = null\n    if (props.localDataStore && props.PigsList) {\n      if (props.PigsList[props.pigTag] && props.PigsList[props.pigTag].pen && props.PigsList[props.pigTag].pen != 0){\n        Pen = props.PigsList[props.pigTag].pen\n        if (props.localDataStore.pens && props.localDataStore.pens[Pen]){\n          var PenData = props.localDataStore.pens[Pen];\n          Section = PenData.section;\n        }\n      }\n    }\n    return(\n      <View style={[Helpers.buttonContainer]}>\n        <Button Text=\"Add Pig\"\n          onPress={() => {\n            dispatch(FirebaseActions.actionStarting(Actions.CREATE, DataRefs.PIGS, {FarmId: props.farm, TagId: props.pigTag}))\n          } }/>\n        <Button Text=\"Move Pig\"\n          onPress={() => {\n            dispatch(FirebaseActions.setCurrentData({type:DataRefs.PIGS, action:Actions.CREATE, pigtag:props.pigTag, data:{section:Section}, dataId:Pen}))\n            NavigationService.navigate(\"DataEditor\")\n          } }/>\n      </View>\n    )\n  }else {\n    return(\n      <ScrollView style={{paddingRight: 5}}>\n        <View style={[Helpers.buttonContainer]}>\n          <Button Text=\"Weight\"\n            onPress={() => NavigationService.navigate(\"WeighingOperations\") }/>\n          {props.farm && props.penid?(\n            <View>\n              <Button Text=\"Add Pig\"\n                onPress={() => {\n                  dispatch(FirebaseActions.actionStarting(Actions.CREATE, DataRefs.PIGS, {FarmId: props.farm, PenId: props.penid, Action:1}))\n                } }/>\n              <Button Text=\"Move Pig\"\n                onPress={() => {\n                  dispatch(FirebaseActions.actionStarting(Actions.CREATE, DataRefs.PIGS, {FarmId: props.farm, PenId: props.penid, Action:-1}))\n                } }/>\n              <Button Text=\"Lost Pig\"\n                onPress={() => {\n                  //TODO: Add lost pig data save\n                  dispatch(FirebaseActions.actionStarting(Actions.CREATE, DataRefs.PIGS, {FarmId: props.farm, PenId: props.penid, Action:-1}))\n                } }/>\n              <Button Text=\"Sold Pig\"\n                onPress={() => {\n                  //TODO: Add sold pig data save\n                  dispatch(FirebaseActions.actionStarting(Actions.CREATE, DataRefs.PIGS, {FarmId: props.farm, PenId: props.penid, Action:-1}))\n                } }/>\n            </View>\n          ):(<></>)}\n          {props.farm && props.section ? (\n            <View style={[{marginTop:40}]}>\n              <Button Text=\"Add Pen\"\n                onPress={() => {\n                  dispatch(FirebaseActions.setCurrentData({type:DataRefs.PENS, action:Actions.CREATE}))\n                  NavigationService.navigate(\"DataEditor\")\n                } }/>\n              <Button Text=\"Remove Pen\"\n                onPress={() => {\n                  dispatch(FirebaseActions.setCurrentData({type:DataRefs.PENS, action:Actions.DELETE}))\n                  NavigationService.navigate(\"DataEditor\")\n                } }/>\n            </View>\n          ):(<></>)}\n          {/*<Button Text=\"Start New Batch\"\n            onPress={() => {} }/>*/}\n        </View>\n      </ScrollView>\n    )\n  }\n}\n\nexport default OperationsPanel;\n","import React, {useRef, useState, useEffect} from 'react';\r\nimport { Text, View, StyleSheet, Animated } from 'react-native';\r\n\r\nimport { ApplicationStyles, Helpers, Metrics } from '../Theme'\r\n\r\nconst ProgressBar = props => {\r\n  let animation = useRef(new Animated.Value(0));\r\n  const progress = props.progress\r\n  \r\n  useEffect(() => {\r\n    Animated.timing(animation.current, {\r\n      toValue: progress,\r\n      duration: 100\r\n    }).start();\r\n  },[progress])\r\n\r\n  const width = animation.current.interpolate({\r\n    inputRange: [0, 100],\r\n    outputRange: [\"0%\", \"100%\"],\r\n    extrapolate: \"clamp\"\r\n  })\r\n  return (\r\n    <View style={[Helpers.borderContainer, Helpers.fullWidth, {borderWidth:0, height:45}]}>\r\n      <View style={[Helpers.fill, Helpers.fullWidth, Helpers.colMain, {alignContent:'center'}]}>\r\n        <Text style={{alignSelf:'flex-start'}}>\r\n          {props.text}\r\n        </Text>\r\n        <View style={styles.progressBar}>\r\n          <Animated.View style={[StyleSheet.absoluteFill], {backgroundColor: \"#8BED4F\", width }}/>\r\n        </View>\r\n      </View>\r\n    </View>\r\n  )\r\n}\r\n\r\nexport default ProgressBar;\r\n\r\nconst styles = StyleSheet.create({\r\ncontainer: {\r\n  flex: 1,\r\n  flexDirection: 'column',\r\n  justifyContent: 'center',\r\n  alignItems: 'center',\r\n  paddingTop: 5,\r\n  padding: 8,\r\n},\r\nprogressBar: {\r\n  flexDirection: 'row',\r\n  height: 20,\r\n  width: '100%',\r\n  borderColor: '#000',\r\n  borderWidth: 2,\r\n  borderRadius: 5\r\n}\r\n});\r\n","import React, { useEffect, Component } from 'react'\r\nimport { StyleSheet, View, TouchableOpacity, Picker, Text, Image} from 'react-native';\r\n\r\nimport { ApplicationStyles, Helpers, Metrics, Fonts, Colors, Images } from '../Theme'\r\n\r\nconst monthNames = [\"January\", \"February\", \"March\", \"April\", \"May\", \"June\",\r\n  \"July\", \"August\", \"September\", \"October\", \"November\", \"December\"\r\n];\r\n\r\nclass DateTime_Picker extends Component {\r\n    constructor(props){\r\n        super(props);\r\n        \r\n        const {year, month, day} = this.getStates(props)\r\n        this.state = {\r\n            year: year,\r\n            month: month,\r\n            day: day,\r\n        }\r\n    }\r\n\r\n    getStates(props){\r\n        var Today = new Date();\r\n        var year, month, day;\r\n        if (props.FullYear) {\r\n            Today = new Date(props.FullYear)\r\n        }\r\n\r\n        year = Today.getFullYear()\r\n        month = Today.getMonth()\r\n        day = Today.getDate()\r\n\r\n        if (!props.FullYear) {\r\n            if (props.Year){\r\n                year = this.props.Year\r\n            }\r\n            if (props.Month){\r\n                month = this.props.Month\r\n            }\r\n            if (props.Day){\r\n                day = this.props.Day\r\n            }\r\n        }\r\n        return {year, month, day}\r\n    }\r\n\r\n    componentDidUpdate(prevProps, prevState){\r\n        if (prevProps.FullYear){\r\n            if (prevProps.FullYear != this.props.FullYear){\r\n                this.forceUpdate()\r\n            }\r\n        }else {\r\n            var changed = false;\r\n            if (prevProps.Year != this.props.Year) changed = true\r\n            if (prevProps.Month != this.props.Month) changed = true\r\n            if (prevProps.Day != this.props.Day) changed = true\r\n            if (changed) {\r\n                this.forceUpdate()\r\n            }\r\n        }\r\n    }\r\n\r\n    render() {\r\n        var {year, month, day} = this.getStates(this.props)\r\n\r\n        var YearItems = []\r\n        for (let index = year - 25; index < year + 25; index++) {\r\n            YearItems.push(<Picker.Item key={\"Year_\" + index} value={index} label={index} />)\r\n        }\r\n        var MonthItems = []\r\n        for (let index = 0; index < monthNames.length; index++) {\r\n            MonthItems.push(<Picker.Item key={\"Month_\" + index} value={index} label={monthNames[index]} />)\r\n        }\r\n\r\n        var DayItems = []\r\n        var d = new Date(year, month + 1, 0).getDate()\r\n        for (let index = 1; index <= d; index++) {\r\n            DayItems.push(<Picker.Item key={\"Day_\" + index} value={index} label={index} />)\r\n        }\r\n\r\n        return(\r\n            <View style={[Helpers.fullWidth, Helpers.row, this.props.style]}>\r\n                <Picker selectedValue={year} style={[{minWidth: 100, marginRight:10}]}\r\n                    onValueChange={(_year) => {\r\n                        year = _year\r\n                        this.props.onValueChange(new Date(year, month, day))\r\n                    }}>\r\n                    {YearItems}\r\n                </Picker>\r\n\r\n                <Picker selectedValue={month} style={[{minWidth: 100, marginRight:10}]}\r\n                    onValueChange={(_month) => {\r\n                        month = _month\r\n                        this.props.onValueChange(new Date(year, month, day))\r\n                    }}>\r\n                    {MonthItems}\r\n                </Picker>\r\n\r\n                <Picker selectedValue={day} style={[{minWidth: 100}]}\r\n                    onValueChange={(_day) => {\r\n                        day = _day\r\n                        this.props.onValueChange(new Date(year, month, day))\r\n                    }}>\r\n                    {DayItems}\r\n                </Picker>\r\n            </View>\r\n        )\r\n    }\r\n}\r\nexport default DateTime_Picker;","import { StyleSheet } from 'react-native'\nimport { Helpers, Metrics, Fonts, Colors } from '../../Theme'\n\nexport default StyleSheet.create({\n  logoContainer: {\n    ...Helpers.fullWidth,\n    height: 190,\n    marginTop: Metrics.medium * 2, \n    marginBottom: Metrics.medium,\n  },\n})\n","import React, { useEffect } from 'react'\nimport { Text, View, ActivityIndicator, Image } from 'react-native'\nimport { useDispatch, useSelector } from 'react-redux'\n\nimport NavigationService from '../../Services/NavigationService'\n\n//import DeviceActions from '../../Stores/Device/Actions'\nimport FirebaseActions from '../../Stores/Firebase/Actions'\n\nimport { Button_Panel } from '../../Components'\nimport Style from './FrontScreenStyle'\nimport { ApplicationStyles, Helpers, Images } from '../../Theme'\n\nconst FrontScreen = () => {\n  //const firebaseUser = useSelector((state) => state.firebase.firebaseUser)\n\n  const dispatch = useDispatch()\n  useEffect(() => {\n    dispatch(FirebaseActions.setFirebaseError(null))\n    //dispatch(DeviceActions.stopBleScan())\n    //dispatch(DeviceActions.stopBluetoothScan())\n  }, [])\n  return (\n    <View\n      style={[\n        Helpers.mainContainer,\n      ]}\n    >\n      <View style={[Style.logoContainer]}>\n        <Image style={[Helpers.fullSize]} source={Images.Logo} resizeMode={'contain'} />\n      </View>\n\n      <View style={[Helpers.contentContainer, Helpers.fullSize]}>\n        <View style={[Helpers.textContainer, Helpers.fullWidth]}>\n          <Text style={ApplicationStyles.text}>Wellcome to Agrisys App</Text>\n          <Text style={ApplicationStyles.text}>Please choose your action</Text>\n        </View>\n\n        <Button_Panel \n          Texts={[\"Connect to Agrisys Cloud\", \"Conect to Device\"]}\n          Images={[Images.Haxa_globe, null]}\n          onPress={(ele) => {\n            switch(ele.index){\n              case 0:\n                NavigationService.navigate('AuthStack')\n                break;\n              case 1:\n                NavigationService.navigate(\"DeviceScreen\")\n                break;\n            }\n            /*<Button Text=\"Example\"\n            onPress={() => NavigationService.navigate(\"ExampleScreen\")}/>*/\n          }}\n        />\n      </View>\n      \n    </View>\n  );\n}\n\nexport default FrontScreen;\n","/**\n * Selectors let us factorize logic that queries the state.\n *\n * Selectors can be used in sagas or components to avoid duplicating that logic.\n *\n * Writing selectors is optional as it is not always necessary, we provide a simple example below.\n */\n\nexport const liveInEurope = (state) => {\n  if (Object.entries(state.example.user).length <= 0) return null\n\n  // For this example, we imagine this cities are european cities\n  const europeanCities = [\n    'Gwenborough',\n    'Wisokyburgh',\n    'McKenziehaven',\n    'South Elvis',\n    'Roscoeview',\n  ]\n\n  return europeanCities.includes(state.example.user.address.city)\n}\n","import { StyleSheet } from 'react-native'\nimport { Helpers, Metrics, Fonts, Colors } from '../../Theme'\n\nexport default StyleSheet.create({\n  error: {\n    ...Fonts.normal,\n    color: Colors.error,\n    marginBottom: Metrics.tiny,\n    textAlign: 'center',\n  },\n  instructions: {\n    ...Fonts.normal,\n    fontStyle: 'italic',\n    marginBottom: Metrics.tiny,\n    textAlign: 'center',\n  },\n  logoContainer: {\n    ...Helpers.fullWidth,\n    height: 300,\n    marginBottom: 25,\n  },\n  result: {\n    ...Fonts.normal,\n    marginBottom: Metrics.tiny,\n    textAlign: 'center',\n  },\n  text: {\n    ...Fonts.normal,\n    marginBottom: Metrics.tiny,\n    textAlign: 'center',\n  },\n})\n","import React, { useEffect } from 'react'\nimport { Platform, Text, View, Button, ActivityIndicator, Image } from 'react-native'\nimport { useDispatch, useSelector } from 'react-redux'\n\nimport NavigationService from '../../Services/NavigationService'\n\nimport ExampleActions from '../../Stores/Example/Actions'\nimport { liveInEurope } from '../../Stores/Example/Selectors'\n\nimport Style from './ExampleScreenStyle'\nimport { ApplicationStyles, Helpers, Images, Metrics } from '../../Theme'\n\n/**\n * This is an example of a container component.\n *\n * This screen displays a little help message and informations about a fake user.\n * Feel free to remove it.\n */\nconst instructions = Platform.select({\n  ios: 'Press Cmd+R to reload,\\nCmd+D or shake for dev menu.',\n  android: 'Double tap R on your keyboard to reload,\\nShake or press menu button for dev menu.',\n})\n\nconst ExampleScreen = () => {\n  const dispatch = useDispatch()\n\n  const user = useSelector((state) => state.example.user)\n  const userIsLoading = useSelector((state) => state.example.userIsLoading)\n  const userErrorMessage = useSelector((state) => state.example.userErrorMessage)\n\n  useEffect(() => {\n    dispatch(ExampleActions.fetchUser())\n  }, [])\n\n  return (\n    <View\n      style={[\n        Helpers.fillCenter,\n        Helpers.rowMain,\n        Metrics.mediumHorizontalMargin,\n        Metrics.mediumVerticalMargin,\n      ]}\n    >\n      {userIsLoading ? (\n        <ActivityIndicator size=\"large\" color=\"#0000ff\" />\n      ) : (\n        <View>\n          <View style={Style.logoContainer}>\n            <Image style={Helpers.fullSize} source={Images.logo} resizeMode={'contain'} />\n          </View>\n          <Text style={Style.text}>To get started, edit App.js</Text>\n          <Text style={Style.instructions}>{instructions}</Text>\n          {userErrorMessage ? (\n            <Text style={Style.error}>{userErrorMessage}</Text>\n          ) : (\n            <View>\n              <Text style={Style.result}>\n                {\"I'm a fake user, my name is \"}\n                {user.name}\n              </Text>\n              <Text style={Style.result}>\n                {liveInEurope ? 'I live in Europe !' : \"I don't live in Europe.\"}\n              </Text>\n            </View>\n          )}\n          <Button\n            style={ApplicationStyles.button}\n            onPress={() => dispatch(ExampleActions.fetchUser())}\n            title=\"Refresh\"\n          />\n        </View>\n      )}\n    </View>\n  )\n}\n\nexport default ExampleScreen\n","import React from 'react'\nimport { createAppContainer } from 'react-navigation'\nimport { createStackNavigator } from 'react-navigation-stack'\nimport { TouchableOpacity, Icon, View, Text } from 'react-native'\n\nimport Front from '../Containers/Agrisys/FrontScreen'\nimport Example from '../Containers/Example/ExampleScreen'\n//import Device from '../Containers/Device/DeviceScreen'\n\nimport { ApplicationStyles } from '../Theme'\n/**\n * The root screen contains the application's navigation.\n *\n * @see https://reactnavigation.org/docs/en/hello-react-navigation.html#creating-a-stack-navigator\n */\nconst StackNavigator = createStackNavigator(\n  {\n    // The main application screen is our \"ExampleScreen\". Feel free to replace it with your\n    // own screen and remove the example.\n    FrontScreen: {\n      screen: Front,\n      navigationOptions: () => ({\n        headerMode: 'none',\n        headerShown: false,\n      }),\n      path: 'main',\n    },\n    \n    /*DeviceScreen: {\n      screen: Device,\n      navigationOptions: () => ({\n        title: 'Device',\n        headerTitleStyle:{\n          ...ApplicationStyles.navigationHeader\n        },\n      }),\n    },*/\n\n    ExampleScreen: {\n      screen: Example,\n      navigationOptions: () => ({\n        headerMode: 'none',\n      }),\n      path: 'example',\n    }\n  },\n  {\n    initialRouteName: 'FrontScreen',\n    // See https://reactnavigation.org/docs/en/stack-navigator.html#stacknavigatorconfig\n    headerMode: 'float',\n    defaultNavigationOptions:{\n      headerTitleAlign: 'center',\n      headerRight: () => (<View style={{padding:6}}></View>),\n    },\n  }\n)\n\nexport default StackNavigator\n","import { StyleSheet } from 'react-native'\nimport { Helpers, Metrics, Fonts, Colors } from '../../../Theme'\n\nexport default StyleSheet.create({\n  \n})\n","import React, { Component } from 'react'\nimport { Platform, Text, Image, View, ActivityIndicator } from 'react-native'\nimport { Input } from 'react-native-elements'\nimport { connect } from 'react-redux'\nimport { bindActionCreators } from 'redux';\n\nimport NavigationService from '../../../Services/NavigationService'\n\nimport FirebaseActions from '../../../Stores/Firebase/Actions'\nimport {Actions, DataRefs, UserStates} from '../../../Stores/Firebase/Selectors'\n\nimport { Loading } from '../../../Components'\nimport Style from './AuthStyle'\nimport { ApplicationStyles, Helpers, Metrics, Images } from '../../../Theme'\n\nconst PanelsSorter = (userType) => {\n  switch(userType) {\n    case UserStates.ADMIN:\n      return \"AdminPannel\"\n    case UserStates.OWNER:\n      return \"ConsysPannel\"\n    case UserStates.FREE:\n      return \"UserPanel\"\n    case UserStates.STARTER:\n      return \"CreateUserData\"\n    default:\n      return \"LoginUser\"\n  }\n};\n\nclass UserLoadingScreen extends Component {\n  constructor(props){\n    super(props);\n    this.state = {\n      ISLOADPAGE: true,\n      Page:null,\n    }\n  }\n\n  getData() {\n    this.props.setFirebaseError(null)\n    if (this.props.firebase.firebaseUser !== null) {\n      this.props.getUser(this.props.firebase.firebaseUser.uid)\n    }\n  }\n\n  checkData(props) {\n    const firebaseUser = this.props.firebase.firebaseUser\n    const localDataStore = this.props.firebase.localDataStore\n\n    const state = localDataStore.userData?localDataStore.userData.state:null;\n    const page = PanelsSorter(state)\n    \n    NavigationService.navigate(page)\n  }\n\n  componentDidMount(){\n    this.checkData(this.props);\n\n    this.getData();\n  }\n  \n  componentDidUpdate(prevProps, prevState) {\n    if (this.props !== prevProps){\n      this.checkData(this.props);\n    }\n  }\n\n  render() {\n    const IsLoading = this.props.firebase.firebaseIsLoading\n    const ISLOADPAGE = this.state.ISLOADPAGE;\n    \n    return(\n      <View\n        style={[\n          Helpers.mainContainer,\n        ]}\n      >\n        {!ISLOADPAGE ?(\n          <View style={[Helpers.contentContainer, Helpers.fullSize, Helpers.fillColMain]}>\n            <Text style={ApplicationStyles.text}>This page contains an error.</Text>\n            <Text style={ApplicationStyles.text}>If you are going back, please press back again.</Text>\n          </View>\n        ):(\n          <View style={[Helpers.fillRowCenter, Helpers.center, Helpers.logoContainer]}>\n            <Image style={Helpers.fullSize} source={Images.Hexa_icon} resizeMode={'contain'} />\n          </View>\n        )}\n        {(IsLoading || ISLOADPAGE) &&\n          <ActivityIndicator style={Helpers.loadingContainer} size='large' />\n        }\n      </View>\n    )\n  }\n}\n\nconst mapStateToProps = (state) => {\n  const { firebase } = state\n  return { firebase }\n};\n\nconst mapDispatchToProps  = (dispatch) => {\n  return {\n    setFirebaseError: error => dispatch(FirebaseActions.setFirebaseError(error)),\n  \n    getUser: (UserId) => dispatch(FirebaseActions.actionStarting(Actions.FETCH, DataRefs.USERS, {UserId: UserId})),\n  }\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(UserLoadingScreen);\n//export default UserLoadingScreen;\n","import React, { Component } from 'react'\nimport { Platform, Text, View, ActivityIndicator, Image } from 'react-native'\nimport { Input } from 'react-native-elements'\nimport { connect } from 'react-redux'\nimport { bindActionCreators } from 'redux';\n\nimport NavigationService from '../../../Services/NavigationService'\n\nimport FirebaseActions from '../../../Stores/Firebase/Actions'\nimport { Actions, DataRefs } from '../../../Stores/Firebase/Selectors'\n\nimport { Button } from '../../../Components'\nimport Style from './AuthStyle'\nimport { ApplicationStyles, Helpers, Metrics, Images } from '../../../Theme'\n\nclass UserLoginScreen extends Component {\n  constructor(props){\n    super(props);\n    this.state = {\n      Email: \"\",\n      Pass: \"\",\n      NewUser: false,\n    }\n  }\n\n  getData(){\n    this.props.setFirebaseError(null)\n  }\n\n  checkData(props) {\n    if (props.firebase && props.firebase.firebaseUser &&\n      props.firebase.localDataStore && props.firebase.localDataStore.userData) {\n      //NavigationService.navigate(\"UserLoadingScreen\")\n    }\n  }\n\n  componentDidMount(){\n    this.checkData(this.props);\n    \n    this.getData();\n  }\n\n  componentDidUpdate(prevProps, prevState) {\n    if (this.props !== prevProps){\n      this.checkData(this.props);\n    }\n  }\n\n  render() {\n    const IsLoading = this.props.firebase.firebaseIsLoading\n    const firebaseUser = this.props.firebase.firebaseUser\n    const firebaseErrorMessage = this.props.firebase.firebaseErrorMessage\n    \n    return(\n      <View\n        style={[\n          Helpers.mainContainer,\n        ]}\n      >\n        <View style={[Helpers.contentContainer, Helpers.fullSize, Helpers.fillColMain]}>\n          {firebaseErrorMessage ? (\n            <Text style={ApplicationStyles.error}>{firebaseErrorMessage}</Text>\n          ):(<></>)}\n\n          {!this.state.NewUser?(\n            <View style={[Helpers.contentContainer, Helpers.fullSize, Helpers.fillColMain]}>\n              <View style={[Helpers.borderContainer, Helpers.midWidth, {marginBottom:20}] }>\n                <Input\n                  label=\"Username\"\n                  style={ApplicationStyles.input}\n                  onChangeText={text => {\n                    this.setState({Email: text})\n                  }}\n                  value={this.state.Email}\n                />\n                <Input\n                  label=\"Password\"\n                  style={ApplicationStyles.input}\n                  onChangeText={text => {\n                    this.setState({Pass:text})\n                  }}\n                  value={this.state.Pass}\n                />\n                <Button Text=\"Login\" icon={Images.User}\n                  onPress={() => {\n                    if (!this.state.Email || this.state.Email === \"\") this.props.setFirebaseError(\"Email is needed\")\n                    else if (!this.state.Pass || this.state.Pass === \"\") this.props.setFirebaseError(\"Password is needed\")\n                    else {\n                      this.props.signIN(this.state.Email, this.state.Pass)\n                    }\n                  }}/>\n              </View>\n\n              <View style={[Helpers.buttonContainer, Helpers.midWidth] }>\n                <Button Text=\"Create New User\"\n                  onPress={() => {\n                    this.props.setFirebaseError(null)\n                    this.setState({\n                      Email: \"\",\n                      Pass: \"\",\n                      NewUser: true,\n                    })\n                  }}/>\n              </View>\n            </View>\n          ):(\n            <View style={[Helpers.contentContainer, Helpers.fullSize, Helpers.fillColMain]}>\n              <View style={ [Helpers.borderContainer, Helpers.midWidth, {marginBottom:20}] }>\n                <Input\n                  label=\"Email\"\n                  style={ApplicationStyles.input}\n                  onChangeText={text => {this.setState({Email:text})}}\n                  value={this.state.Email}\n                />\n                <Input\n                  label=\"Password\"\n                  style={ApplicationStyles.input}\n                  onChangeText={text => {this.setState({Pass:text})}}\n                  value={this.state.Pass}\n                />\n              </View>\n              <View style={[Helpers.buttonContainer, Helpers.midWidth] }>\n                <Button Text=\"Create User\" \n                  onPress={() => { \n                    if (!this.state.Email || this.state.Email === \"\") this.props.setFirebaseError(\"Email is needed\")\n                    else if (!this.state.Pass || this.state.Pass === \"\") this.props.setFirebaseError(\"Password is needed\")\n                    else {\n                      this.props.createUser(this.state.Email,this.state.Pass)\n                    }\n                  }}\n                />\n              </View>\n            </View>\n          )}\n\n          {IsLoading &&\n            <ActivityIndicator style={Helpers.loadingContainer} size='large' />\n          }\n        </View>\n      </View>\n    )\n  }\n}\n\nconst mapStateToProps = (state) => {\n  const { firebase } = state\n  return { firebase }\n};\n\nconst mapDispatchToProps  = (dispatch) => {\n  return {\n    setFirebaseError: error => dispatch(FirebaseActions.setFirebaseError(error)),\n\n    getUser: (UserId) => dispatch(FirebaseActions.actionStarting(Actions.FETCH, DataRefs.USERS, {UserId: UserId})),\n    signIN: (Email, Pass) => dispatch(FirebaseActions.actionStarting(Actions.SIGN, DataRefs.USERS, {Email: Email, Pass: Pass})),\n    createUser: (Email, Pass) => dispatch(FirebaseActions.actionStarting(Actions.CREATE, DataRefs.USERS, {Email:Email, Pass:Pass})),\n  }\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(UserLoginScreen);\n//export default UserLoginScreen;","import React, { Component } from 'react'\nimport { Platform, Text, View, ActivityIndicator } from 'react-native'\nimport { Input } from 'react-native-elements'\nimport { connect } from 'react-redux'\nimport { bindActionCreators } from 'redux';\nimport NavigationService from '../../../Services/NavigationService'\n\nimport FirebaseActions from '../../../Stores/Firebase/Actions'\nimport { Actions, DataRefs } from '../../../Stores/Firebase/Selectors'\n\nimport { Button } from '../../../Components'\nimport Style from './AuthStyle'\nimport { ApplicationStyles, Helpers, Metrics } from '../../../Theme'\n\nimport { UserStates } from '../../../Stores/Firebase/Selectors'\n\nclass CreateNewUserData extends Component{\n  constructor(props){\n    super(props);\n    this.state = {\n      Farm: \"Test\",\n      Sections: 1,\n      Pens: 1\n    }\n  }\n\n  getData(){\n    this.props.setFirebaseError(null)\n  }\n\n  checkData(props){\n    const localDataStore = props.firebase.localDataStore\n    if (!props.firebase || props.firebase.firebaseUser === null || \n      !localDataStore.userData || localDataStore.userData.state != UserStates.STARTER){\n      //NavigationService.navigate(\"UserLoadingScreen\")\n    }\n  }\n\n  componentDidMount(){\n    this.checkData(this.props);\n    \n    this.getData();\n  }\n\n  componentDidUpdate(prevProps, prevState) {\n    if (this.props !== prevProps) {\n      this.checkData(this.props);\n    }\n  }\n\n  render() {\n    const IsLoading = this.props.firebase.firebaseIsLoading\n    const firebaseUser = this.props.firebase.firebaseUser\n    const localDataStore = this.props.firebase.localDataStore\n    const firebaseErrorMessage = this.props.firebase.firebaseErrorMessage\n\n    return(\n      <View\n        style={[\n          Helpers.mainContainer,\n        ]}\n      >\n        <View style={[Helpers.contentContainer, Helpers.fullSize, Helpers.fillColMain]}>\n          {firebaseErrorMessage ? (\n            <Text style={ApplicationStyles.error}>{firebaseErrorMessage}</Text>\n          ):(<></>)}\n\n          <View style={ [Helpers.borderContainer, Helpers.midWidth, {marginBottom:20}] }>\n            <Input\n              label=\"Farm Name\"\n              style={ApplicationStyles.input}\n              onChangeText={text => {this.setState({Farm:text})}}\n              value={this.state.Farm}\n            />\n            <Input\n              label=\"Number of Sections\"\n              style={ApplicationStyles.input}\n              onChangeText={text => {\n                if (!isNaN){\n                  this.setState({\n                    Sections:text\n                  })\n                }\n              }}\n              value={this.state.Sections}\n            />\n            <Input\n              label=\"Number of Pens in Sections\"\n              style={ApplicationStyles.input}\n              onChangeText={text => {\n                if (!isNaN){\n                  this.setState({\n                    Pens:text\n                  })\n                }\n              }}\n              value={this.state.Pens}\n            />\n          </View>\n          <View style={[Helpers.buttonContainer, Helpers.midWidth] }>\n            <Button Text=\"Create User\" \n              onPress={() => {\n                var _UserData = {}\n                var _sections = {};\n                var _pens = {};\n\n                if (!this.state.Farm || this.state.Farm === \"\"){\n                  this.props.setFirebaseError(\"Farm name is needed\")\n                }\n                else if (this.state.Sections && isNaN(this.state.Sections)){\n                  this.props.setFirebaseError(\"Number of Sections have to be a number\")\n                } else if (this.state.Pens && isNaN(this.state.Pens)){\n                  this.props.setFirebaseError(\"Number of Pens in Sections have to be a number\")\n                }\n                else {\n                  _UserData = {state: UserStates.FREE, farms: {}}\n                  \n                  var Pen = 1;\n                  var i, i2;\n                  for (i = 1; i <= this.state.Sections; i++) {\n                    var sectionPens = {};\n                    for (i2 = 1; i2 <= this.state.Pens; i2++) {\n                      _pens['Pen_' + Pen] = {section: 'Section_' + i}\n                      sectionPens['Pen_' + Pen] = true\n                      Pen++;\n                    }\n                    \n                    _sections['Section_' + i] = {pens: sectionPens}\n                  }\n                  this.props.createUserData(_UserData, this.state.Farm, _sections, _pens)\n                }\n              }}/>\n            </View>\n        </View>\n        {IsLoading &&\n          <ActivityIndicator style={Helpers.loadingContainer} size='large' />\n        }\n      </View>\n    )\n  }\n}\n\nconst mapStateToProps = (state) => {\n  const { firebase } = state\n  return { firebase }\n};\n\nconst mapDispatchToProps  = (dispatch) => {\n  return {\n    setFirebaseError: error => dispatch(FirebaseActions.setFirebaseError(error)),\n    \n    createUserData: (Userdata, Farm, Sections, Pens) => dispatch(FirebaseActions.actionStarting(Actions.CREATE, DataRefs.USERS, {UserData: Userdata, Farms:{name:Farm}, Sections:Sections, Pens:Pens})),\n  }\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(CreateNewUserData);\n//export default CreateNewUserData;","import React from 'react'\nimport { createStackNavigator } from 'react-navigation-stack'\nimport { TouchableOpacity, View, Text } from 'react-native'\nimport { Icon } from 'react-native-elements'\n\nimport NavigationService from '../Services/NavigationService'\n\nimport LoadingUserScreen from '../Containers/Cloud/AuthScreens/UserLoadingScreen'\nimport LoginUserScreen from '../Containers/Cloud/AuthScreens/UserLoginScreen'\nimport CreateUserDataScreen from '../Containers/Cloud/AuthScreens/CreateUserDataScreen'\n\nimport { ApplicationStyles } from '../Theme'\n\n/**\n * The root screen contains the application's navigation.\n *\n * @see https://reactnavigation.org/docs/en/hello-react-navigation.html#creating-a-stack-navigator\n */\nconst StackNavigator = createStackNavigator(\n  {\n    UserLoadingScreen: {\n      screen: LoadingUserScreen,\n      navigationOptions: () => ({\n        title: 'User loading',\n      }),\n    },\n    LoginUser: {\n      screen: LoginUserScreen,\n      navigationOptions: () => ({\n        title: 'User Login',\n        headerLeft: () => (\n          <View style={{padding:6, paddingLeft: 15}}>\n            <Icon name=\"md-arrow-back\" type='ionicon' size={25} color=\"black\" onPress={() => NavigationService.navigate('MainStack')}/>\n          </View>\n        ),\n      }),\n    },\n    CreateUserData: {\n      screen: CreateUserDataScreen,\n      navigationOptions: () => ({\n        title: 'Create Data',\n      }),\n    },\n  },\n  {\n    initialRouteName: 'UserLoadingScreen',\n    // See https://reactnavigation.org/docs/en/stack-navigator.html#stacknavigatorconfig\n    headerMode: 'float',\n    defaultNavigationOptions:{\n      headerTitleAlign: 'center',\n      headerTitleStyle:{...ApplicationStyles.navigationHeader},\n      headerLeft: () => (\n        <View style={{padding:6, paddingLeft: 15}}>\n          <Icon type='ionicon' name=\"md-arrow-back\" size={25} color=\"black\" onPress={() => NavigationService.navigate('MainStack')}/>\n        </View>\n      ),\n      headerRight: () => (<View style={{padding:6}}></View>),\n    },\n  }\n)\n\nexport default StackNavigator\n","import { StyleSheet } from 'react-native'\nimport { Helpers, Metrics, Fonts, Colors } from '../../../Theme'\n\nexport default StyleSheet.create({\n\n})\n","import React, { useEffect, Component } from 'react'\nimport { Platform, Text, View, ActivityIndicator } from 'react-native'\nimport { useDispatch, useSelector, connect } from 'react-redux'\nimport { bindActionCreators } from 'redux';\n\nimport NavigationService from '../../../Services/NavigationService'\n\nimport FirebaseActions from '../../../Stores/Firebase/Actions'\nimport { Actions, DataRefs } from '../../../Stores/Firebase/Selectors'\n\nimport { Button, Button_Panel } from '../../../Components'\nimport Style from './UserPanelStyle'\nimport { ApplicationStyles, Helpers, Metrics, Images } from '../../../Theme'\n\nclass FrontScreen extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      ISLOADPAGE: true,\n    }\n  }\n\n  getData(){\n    this.props.setFirebaseError(null)\n  }\n\n  checkData(props) {\n    if (!props.firebase || props.firebase.firebaseUser === null){\n      NavigationService.navigate(\"AuthStack\")\n    }\n  }\n\n  componentDidMount(){\n    this.checkData(this.props);\n    \n    this.getData();\n  }\n\n  componentDidUpdate(prevProps, prevState) {\n    if (this.props !== prevProps){\n      this.checkData(this.props);\n    }\n  }\n\n  render() {\n    const IsLoading = this.props.firebase.firebaseIsLoading\n    const firebaseUser = this.props.firebase.firebaseUser\n    \n    return(\n      <View\n      style={[\n        Helpers.mainContainer,\n      ]}\n      >\n        <View style={[Helpers.contentContainer, Helpers.fullSize, Helpers.fillColMain]}>\n          {firebaseUser?(\n          <View style={ Helpers.textContainer }>\n            <Text style={ApplicationStyles.text}>Wellcome: {firebaseUser.displayName ? firebaseUser.displayName : firebaseUser.email}</Text>\n          </View>):(<></>)}\n\n          <Button_Panel \n            Texts={[\"Dashboard\", \"Pigs\", \"Pens\", \"Batchs\", \"Growth curves\", \"Operations\"]}\n            Images={[Images.DashBoard, Images.Sow, Images.Pens, Images.Section, Images.Curves, Images.System]}\n            onPress={(ele) => {\n              switch(ele.text){\n                case \"Dashboard\":\n                  NavigationService.navigate(\"UserDashBoard\")\n                  break;\n                case \"Pigs\":\n                  NavigationService.navigate(\"UserPigs\")\n                  break;\n                case \"Pens\":\n                  NavigationService.navigate(\"UserPens\")\n                  break;\n                case \"Batchs\":\n                  NavigationService.navigate(\"UserBatchs\")\n                  break;\n                  case \"Growth curves\":\n                  NavigationService.navigate(\"UserCurves\")\n                  break;\n                case \"Operations\":\n                  NavigationService.navigate(\"UserOperations\")\n                  break;\n              }\n              ele.text\n            }}\n          />\n          \n          <View style={[Helpers.buttonContainer, Helpers.midWidth] }>\n            <Button Text=\"LogOut\"\n              onPress={() => {\n                this.props.logOut()\n              }}/>\n          </View>\n        </View>\n        {IsLoading &&\n          <ActivityIndicator style={Helpers.loadingContainer} size='large' />\n        }\n      </View>\n    )\n  }\n}\n\nconst mapStateToProps = (state) => {\n  const { firebase } = state\n  return { firebase }\n};\n\nconst mapDispatchToProps  = (dispatch) => {\n  return {\n    setFirebaseError: error => dispatch(FirebaseActions.setFirebaseError(error)),\n    logOut: () => dispatch(FirebaseActions.actionStarting(Actions.SIGN, DataRefs.USERS)),\n  }\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(FrontScreen);\n//export default FrontScreen;\n","import React, { useEffect, Component } from 'react'\nimport { Platform, Text, View, ActivityIndicator, ScrollView, FlatList } from 'react-native'\nimport { Input, Icon } from 'react-native-elements'\nimport { useDispatch, useSelector, connect } from 'react-redux'\nimport { bindActionCreators } from 'redux';\n\nimport NavigationService from '../../../Services/NavigationService'\n\nimport FirebaseActions from '../../../Stores/Firebase/Actions'\nimport { DataRefs, Actions } from '../../../Stores/Firebase/Selectors'\n\nimport { Button, TitleElement, ContentProp, ProgressBar } from '../../../Components'\nimport Style from './UserPanelStyle'\nimport { ApplicationStyles, Helpers, Metrics, Colors } from '../../../Theme'\n\nclass Dashboard extends Component {\n  constructor(props){\n    super(props);\n\n    const {Name, Manager, Mail, MaxCap, CurCap, BatchList} = this.setData(props)\n    this.state = {\n      farmName: Name,\n      farmManager: Manager,\n      farmMail: Mail, \n\n      MaxCap: MaxCap, \n      CurCap: CurCap,\n      \n      BatchList: BatchList,\n    }\n  }\n\n  setData(Props) {\n    const localDataStore = Props.firebase.localDataStore;\n\n    var Name = \"Not set\"\n    var Manager = \"Not set\"\n    var Mail = \"Not set\"\n\n    if (localDataStore && localDataStore.farms) {\n      Name = localDataStore.farms.name?localDataStore.farms.name: Name\n      Manager = localDataStore.farms.name?localDataStore.farms.manager: Manager\n      Mail = localDataStore.farms.name?localDataStore.farms.email: Mail\n    }\n\n    var SectionsList = localDataStore.sections\n    var BatchList = localDataStore.batchs\n\n    if (localDataStore && localDataStore.sections && localDataStore.pens) {\n      var MaxCap = 0;\n      var CurCap = 0;\n\n      Object.keys(localDataStore.sections).map((Section) => {\n        var Pens = localDataStore.sections[Section].pens\n        if (Pens){\n          Object.keys(Pens).map((Pen) => {\n            MaxCap++;\n            var _Pen = localDataStore.pens[Pen]\n            if (_Pen && _Pen.datas && _Pen.datas.count) {\n              CurCap = CurCap + _Pen.datas.count\n              if (_Pen.datas.batch && BatchList && BatchList[_Pen.datas.batch]) {\n                if (!BatchList[_Pen.datas.batch].count){\n                  BatchList[_Pen.datas.batch].count = 0\n                }\n                BatchList[_Pen.datas.batch].count += _Pen.datas.count\n              }\n            }\n          })\n        }\n      })\n    }\n    return { Name, Manager, Mail, MaxCap, CurCap, BatchList }\n  }\n\n  getData() {\n    this.props.setFirebaseError(null)\n\n    const localDataStore = this.props.firebase.localDataStore;\n    \n    this.props.getFarm(Object.keys(localDataStore.userData.farms)[0])\n    this.props.getSections(Object.keys(localDataStore.userData.farms)[0])\n    this.props.getPen(Object.keys(localDataStore.userData.farms)[0])\n    this.props.getBatch(Object.keys(localDataStore.userData.farms)[0])\n  }\n\n  checkData(props) {\n    if (!props.firebase || props.firebase.firebaseUser === null) {\n      NavigationService.navigate(\"AuthStack\")\n    }\n    //Mabye call check for localdataStore get farms..\n  }\n\n  componentDidUpdate(prevProps, prevState) {\n    if (this.props !== prevProps) {\n      this.checkData(this.props);\n\n      if (this.props.firebase.localDataStore) {\n        const localDataStore = this.props.firebase.localDataStore;\n        if (localDataStore.farms && (this.state.farmName!==localDataStore.farms.name || this.state.farmManager!==localDataStore.farms.manager || this.state.farmMail!==localDataStore.farms.email) ||\n            localDataStore.batchs && JSON.stringify(this.state.BatchList)!==JSON.stringify(localDataStore.batchs) ||\n            localDataStore.sections && JSON.stringify(this.state.SectionsList)!==JSON.stringify(localDataStore.sections)) {\n          const {Name, Manager, Mail, SectionsList, BatchList} = this.setData(this.props)\n          this.setState({\n            farmName: Name,\n            farmManager: Manager,\n            farmMail: Mail,\n\n            SectionsList: SectionsList,\n            BatchList: BatchList,\n          })\n        }\n      }\n    }\n  }\n\n  componentDidMount() {\n    this.checkData(this.props);\n    this.getData();\n  }\n\n  render() {\n    const IsLoading = this.props.firebase.firebaseIsLoading\n    const firebaseUser = this.props.firebase.firebaseUser\n    const firebaseErrorMessage = this.props.firebase.firebaseErrorMessage\n\n    const localDataStore = this.props.firebase.localDataStore //Farmid\n\n    //TODO: Farm performance calculation (Batch)\n    return(\n      <View\n        style={[\n          Helpers.mainContainer,\n        ]}\n      >\n        <View style={[Helpers.contentContainer, Helpers.fullWidth, Helpers.fill]}>\n          {firebaseErrorMessage ? (\n            <Text style={ApplicationStyles.error}>{firebaseErrorMessage}</Text>\n          ):(<></>)}\n          \n          <TitleElement Text=\"Farm description\"/>\n\n          <View style={[Helpers.buttonContainer, Helpers.fullWidth, {height:110,}]}>\n            <ContentProp texts={[\"Farm name\", \"Manager\", \"E-mail\"]} datas={[this.state.farmName, this.state.farmManager, this.state.farmMail ]} />\n          </View>\n          <View style={{height:20}}/>\n          <ProgressBar text={\"Farm capacity: \" + this.state.CurCap + \" of \" + this.state.MaxCap} progress={(this.state.CurCap/this.state.MaxCap) * 100 }/>\n          <ProgressBar text={\"Farm performance:\"} progress={50}/>\n\n          {this.state.BatchList?(\n            <View style={[Helpers.borderContainer, Helpers.fullWidth, {borderWidth:0, marginTop:10}]}>\n              <Text>Batches:</Text>\n              <FlatList\n                data={Object.keys(this.state.BatchList).filter(e => e !== '__jsogObjectId' && \n                                                              (!this.state.BatchList[e].state || this.state.BatchList[e].state !== \"Closed\"))}\n                renderItem={({item, i})=>{\n                  var count = this.state.BatchList[item].count\n                  if (!count) count = 0\n                  return(\n                    <ProgressBar text={item + \" performance: \" + count + \" pigs\"} progress={40}/>\n                  )\n                }}\n                keyExtractor={(item, index) => index.toString()}\n              />\n            </View>\n          ):(<></>)}\n        </View>\n        {IsLoading &&\n          <ActivityIndicator style={Helpers.loadingContainer} size='large' />\n        }\n      </View>\n    )\n  }\n}\n\nconst mapStateToProps = (state) => {\n  const { firebase } = state\n  return { firebase }\n};\n\nconst mapDispatchToProps  = (dispatch) => {\n  return {\n    setFirebaseError: error => dispatch(FirebaseActions.setFirebaseError(error)),\n\n    getFarm: (farmId) => dispatch(FirebaseActions.actionStarting(Actions.FETCH, DataRefs.FARMS, {FarmId: farmId})),\n    getSections: farmId => dispatch(FirebaseActions.actionStarting(Actions.FETCH, DataRefs.SECTIONS, {FarmId: farmId})),\n    getPen: farmId => dispatch(FirebaseActions.actionStarting(Actions.FETCH, DataRefs.PENS, {FarmId: farmId})),\n    getBatch: (farmId) => dispatch(FirebaseActions.actionStarting(Actions.FETCH, DataRefs.BATCHS, {FarmId: farmId})),\n  }\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(Dashboard);\n//export default Dashboard;\n","import { StyleSheet } from 'react-native'\nimport { Helpers, Metrics, Fonts, Colors } from '../../Theme'\n\nexport default StyleSheet.create({\n  loading: {\n    position: 'absolute',\n    left: 0,\n    right: 0,\n    top: 0,\n    bottom: 0,\n    alignItems: 'center',\n    justifyContent: 'center',\n    backgroundColor: '#F5FCFF88',\n  },\n\n  textContainer: {\n    ...Fonts.normal,\n    marginBottom: Metrics.normal,\n  },\n  inputContainer: {\n    marginBottom: Metrics.small,\n  },\n\n  input: {\n    ...Fonts.normal,\n    height: 24, \n  },\n  \n})\n","import React, { useEffect, useState, Component } from 'react'\nimport { Platform, Text, View, ActivityIndicator, Image, StyleSheet, ScrollView, SafeAreaView, FlatList } from 'react-native'\nimport { ListItem, Input } from 'react-native-elements'\nimport { useDispatch, useSelector, connect } from 'react-redux'\nimport { bindActionCreators } from 'redux';\n\nimport NavigationService from '../../../Services/NavigationService'\n\n//import { ConnectionState } from '../../../Stores/Device/Selectors'\n\nimport FirebaseActions from '../../../Stores/Firebase/Actions'\nimport { Actions, DataRefs, sortObject } from '../../../Stores/Firebase/Selectors'\n\nimport { Button, OperationsPanel, CustomListItem, ContentProp } from '../../../Components'\nimport Style from '../../../Containers/Cloud/CloudScreenStyle'\nimport { ApplicationStyles, Helpers, Metrics } from '../../../Theme'\n\nimport { FlatGrid, SectionGrid } from 'react-native-super-grid';\n\nclass Pigs extends Component {\n  constructor(props){\n    super(props);\n\n    const {PigsList} = this.setData(props)\n    this.state = {\n      PigsList: PigsList,\n      PigTag: \"\"\n    }\n  }\n\n  getData() {\n    this.props.setFirebaseError(null)\n\n    const localDataStore = this.props.firebase.localDataStore\n    this.props.getPigs(Object.keys(localDataStore.userData.farms)[0])\n    this.props.getPens(Object.keys(localDataStore.userData.farms)[0])\n  }\n\n  setData(Props) {\n    const localDataStore = Props.firebase.localDataStore\n\n    var PigsList = null\n    if (localDataStore && localDataStore.pigs) {\n      PigsList = sortObject(localDataStore.pigs)\n    }\n    \n    return {PigsList}\n  }\n\n  checkData(props) {\n    if (!props.firebase || props.firebase.firebaseUser === null){\n      NavigationService.navigate(\"AuthStack\")\n    }\n    //Mabye call check for localdataStore get farms..\n  }\n\n  componentDidMount() {\n    this.checkData(this.props);\n\n    this.getData();\n  }\n\n  componentDidUpdate(prevProps, prevState) {\n    if (this.props !== prevProps){\n      this.checkData(this.props);\n\n      if (this.props.firebase) {\n        if (this.props.firebase.localDataStore) {\n          if (this.props.firebase.localDataStore.pigs && JSON.stringify(this.state.PigsList)!==JSON.stringify(sortObject(this.props.firebase.localDataStore.pigs))) {\n            const {PigsList} = this.setData(this.props)\n            this.setState({\n              PigsList: PigsList,\n            })\n          }\n        }\n      }\n    }\n  }\n\n  render() {\n    const IsLoading = this.props.firebase.firebaseIsLoading\n    const firebaseUser = this.props.firebase.firebaseUser\n    const firebaseErrorMessage = this.props.firebase.firebaseErrorMessage\n\n    const localDataStore = this.props.firebase.localDataStore //Farmid\n\n    const connectedDevice = null\n    const connectedState = null\n    const DeviceData = null\n\n    return(\n      <View\n        style={[\n          Helpers.mainContainer,\n        ]}\n      >\n        <View style={[Helpers.contentContainer, Helpers.fullWidth, Helpers.fill]}>\n          {firebaseErrorMessage ? (\n            <Text style={ApplicationStyles.error}>{firebaseErrorMessage}</Text>\n          ):(<></>)}\n          {firebaseUser?(\n            <View style={[Helpers.fill, Helpers.buttonContainer, Helpers.fullWidth, Metrics.bottomMargin, Helpers.column]}>\n              <Device_Display connectedState={connectedState}/>\n              <Scanner_Display DeviceData={DeviceData}/>\n              {this.state.PigsList ? (\n                <View style={[Helpers.fill, Helpers.borderContainer, Metrics.smallHorizontalPadding, Metrics.smallVerticalPadding, {maxWidth:800, marginTop:10}]}>\n                  <SafeAreaView style={styles.container}>\n                    <FlatList\n                      data={Object.keys(this.state.PigsList)}\n                      renderItem={({item})=>{\n                        var Pen = \"-\"\n                        var Section = \"-\"\n                        if (this.state.PigsList[item].pen && this.state.PigsList[item].pen != 0) {\n                          Pen = this.state.PigsList[item].pen\n                          if (localDataStore.pens && localDataStore.pens[Pen]){\n                            var PenData = localDataStore.pens[Pen];\n                            Section = PenData.section;\n                          }\n                        }\n                        return(\n                          <View style={[Helpers.fill, Helpers.rowCenter, Helpers.fullWidth, {height:35}]}>\n                            <CustomListItem Title={item} itemStyle={[{height:35,}]} onPress={() => {\n                                this.props.setData(item, Section, Pen)\n                                NavigationService.navigate(\"DataDisplay\")\n                              }}/>\n\n                            <CustomListItem itemStyle={[{width:70, height:35, justifyContent:\"center\"}]} Title={Pen} onPress={() => {\n                                this.setState({\n                                  PigTag: item\n                                })\n                              }}/>\n\n                            <CustomListItem itemStyle={[{width:90, height:35}]} Title={Section} onPress={() => {\n                                this.setState({\n                                  PigTag: item\n                                })\n                              }}/>\n                          </View>\n                        )\n                      }}\n                      keyExtractor={item => item.id}\n                    />\n                  </SafeAreaView>\n                </View>\n              ):(<></>)} \n              <Input\n                label={\"Pig-tag:\"}\n                containerStyle={[{borderWidth:1, marginTop:10}]}\n                style={[ApplicationStyles.input, ]}\n                onChangeText={text => {\n                  this.setState({\n                    PigTag: text\n                  })\n                }}\n                value={\n                  this.state.PigTag\n                }\n              />\n              <OperationsPanel pig={true} pigTag={this.state.PigTag} PigsList={this.state.PigsList} farm={Object.keys(localDataStore.userData.farms)[0]} localDataStore={localDataStore}/>\n            </View>\n          ):(<></>)}\n        </View>\n        {IsLoading &&\n          <ActivityIndicator style={Helpers.loadingContainer} size='large' />\n        }\n      </View>\n    )\n  }\n}\n\nconst mapStateToProps = (state) => {\n  const { firebase } = state\n  return { firebase }\n};\n\nconst mapDispatchToProps  = (dispatch) => {\n  return {\n    getPens: (farmId) => dispatch(FirebaseActions.actionStarting(Actions.FETCH, DataRefs.PENS, {FarmId: farmId})),\n    getPigs: (farmId, tagId = null) => dispatch(FirebaseActions.actionStarting(Actions.FETCH, DataRefs.PIGS, {FarmId: farmId, TagId: tagId})),\n    setData: (pigId, Section, Pen) => dispatch(FirebaseActions.setCurrentData({pigId:pigId, type:DataRefs.PIGS, section:Section, dataId:Pen})),\n    \n    setFirebaseError: error => dispatch(FirebaseActions.setFirebaseError(error)),\n  }\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(Pigs);\n//export default Pigs;\n\n//TODO extract to own component also used in DataDisplay\nconst Device_Display = (props) => {\n  if (Platform.OS === 'ios' || Platform.OS === 'android') {\n    return(\n      <View style={[Helpers.buttonContainer, Helpers.fullWidth, Metrics.bottomMargin, Helpers.rowCenter, ]}>\n        <View style={[Helpers.fill, Helpers.fullWidth, Helpers.rowMain]}>\n          <View style={[Helpers.fill, Helpers.column, {backgroundColor:\"red\"}]}>\n            <View style={[Helpers.fill, Helpers.row, Helpers.fullWidth, {backgroundColor: \"blue\"}]}>\n              <View style={{justifyContent:'center', alignItems: 'center'}}/>\n            </View>\n            <View style={[ Helpers.fill, Helpers.row, Helpers.fullWidth,]}>\n              <Text>Messages</Text>\n              <Text>Errors</Text>\n            </View>\n          </View>\n          <View style={[Helpers.fill, Helpers.fullWidth, Helpers.rowCenter, {maxWidth:150}]}>\n            {props.connectedState === ConnectionState.CONNECTED ? (\n              <View style={{...styles.circle, backgroundColor:\"green\", justifyContent:'center', alignItems: 'center'}}>\n                <Text>Device is</Text>\n                <Text>connected</Text>\n              </View>\n            ):(\n              <View style={{...styles.circle, backgroundColor:\"red\", justifyContent:'center', alignItems: 'center'}}>\n                <Text>No Device</Text>\n                <Text>connected</Text>\n              </View>\n            )}\n          </View>\n        </View>\n      </View>\n    )\n  }else {\n    return(<></>)\n  }\n}\n\nconst Scanner_Display = (props) => {\n  if (Platform.OS === 'ios' || Platform.OS === 'android') {\n    const dispatch = useDispatch()\n    const DeviceData = props.DeviceData\n    return(\n      <View style={{flexDirection: 'row',justifyContent: 'space-between', borderWidth:1, borderColor:'#000', borderRadius: 25, paddingHorizontal:15, paddingVertical:10, marginBottom:10}}>\n        <View style={Style.textContainer, {paddingTop: 10}}>\n          {\n            // App scanners data\n          }\n          {DeviceData.tagid ? (\n          <View style={{marginBottom:5}}>\n            <Text>TAG Id:</Text>\n            <Text>{DeviceData.tagid}</Text>\n          </View>\n          ):(<></>)}\n          {DeviceData.FatLayers && DeviceData.FatLayers > 0 ? (\n            <View style={{marginBottom:5}}>\n              <Text>Layers received: {DeviceData.FatLayers}</Text>\n              <Text>Layer 1: {DeviceData.FatL1}</Text>\n              <Text>Layer 2: {DeviceData.FatL2}</Text>\n              <Text>Layer 3: {DeviceData.FatL3}</Text>\n            </View>\n          ):(<></>)}\n        </View>\n        {DeviceData.tagid ? (\n          <View style={{flexDirection: 'row',justifyContent: 'space-between'}}>\n            {known ?(\n            <Button buttonStyle={ApplicationStyles.button, {minWidth: 0}} Text=\"Open data\" onPress={() => {\n              dispatch(FirebaseActions.setCurrentData({pigId:known, type:DataRefs.PIGS}))\n              NavigationService.navigate(\"DataDisplay\")\n            }}/>\n            ):(<></>)}\n            <Button buttonStyle={ApplicationStyles.button, {minWidth: 0}} Text=\"Save Tag\" onPress={() => {\n              //dispatch(FirebaseActions.actionStarting(Actions.CREATE, DataRefs.PIGS, {FarmId: Object.keys(localDataStore.userData.farms)[0]}))\n            }}/>\n          </View>\n        ):(<></>)}\n      </View>\n    )\n  }else {\n    return(<></>)\n  }\n}\n\nconst styles = StyleSheet.create({\n  circle: {\n    width: 125,\n    height: 125,\n    borderRadius: 125/2,\n    marginTop: Metrics.tiny,\n    marginLeft: Metrics.tiny,\n  },\n});","import React, { useEffect, Component } from 'react'\nimport { Platform, Text, View, ActivityIndicator, ScrollView, FlatList, TouchableOpacity, Image } from 'react-native'\nimport { useDispatch, useSelector, connect } from 'react-redux'\nimport { bindActionCreators } from 'redux';\n\nimport NavigationService from '../../../Services/NavigationService'\n\nimport FirebaseActions from '../../../Stores/Firebase/Actions'\nimport { Actions, DataRefs, sortObject, get_DataSpot } from '../../../Stores/Firebase/Selectors'\n\nimport { Button } from '../../../Components'\nimport Style from '../../../Containers/Cloud/CloudScreenStyle'\nimport { ApplicationStyles, Helpers, Metrics, Images, Colors } from '../../../Theme'\n\nimport { SectionGrid } from 'react-native-super-grid';\n\nclass Pens extends Component {\n  constructor(props){\n    super(props);\n\n    const {Sections, Weighings, Mid} = this.setData(props)\n    this.state = {\n      Mid: Mid,\n      Sections: Sections,\n      Weighings: Weighings\n    }\n  }\n\n  setData(Props) {\n    const localDataStore = Props.firebase.localDataStore;\n\n    var Sections = {}\n    if (localDataStore && localDataStore.sections) {\n      Sections = sortObject(Props.firebase.localDataStore.sections)\n    }\n\n    var Mid = 0;\n    var Weighings = {}\n    if (localDataStore && localDataStore.weighings) {\n      Weighings = localDataStore.weighings\n      for (const property in localDataStore.weighings) {\n        if (localDataStore.weighings[property] && Object.keys(localDataStore.weighings[property]).length > 0){\n          var weight = localDataStore.weighings[property][Object.keys(localDataStore.weighings[property])[0]].weight\n          if (weight){\n            if (Mid > 0){\n              Mid = ((Mid + weight)/2)\n            } else {\n              Mid = (Mid + weight)\n            }\n          }\n        }\n      }\n    }\n\n    return {Sections, Weighings, Mid}\n  }\n\n  getData() {\n    this.props.setFirebaseError(null)\n\n    const localDataStore = this.props.firebase.localDataStore;\n    this.props.getSections(Object.keys(localDataStore.userData.farms)[0])\n    this.props.getPen(Object.keys(localDataStore.userData.farms)[0])\n    this.props.getWeights(Object.keys(localDataStore.userData.farms)[0])\n\n    this.props.getBatch(Object.keys(localDataStore.userData.farms)[0])\n    this.props.getCurve(Object.keys(localDataStore.userData.farms)[0])\n  }\n\n  checkData(props) {\n    if (!props.firebase || props.firebase.firebaseUser === null) {\n      NavigationService.navigate(\"AuthStack\")\n    }\n    //Mabye call check for localdataStore get farms..\n  }\n\n  componentDidMount() {\n    this.checkData(this.props);\n    this.getData();\n  }\n\n  componentDidUpdate(prevProps, prevState) {\n    if (this.props !== prevProps){\n      this.checkData(this.props);\n\n      if (this.props.firebase.localDataStore) {\n        if ((this.props.firebase.localDataStore.sections && JSON.stringify(this.state.Sections)!==JSON.stringify(sortObject(this.props.firebase.localDataStore.sections))) ||\n            (this.props.firebase.localDataStore.weighings && JSON.stringify(this.state.Weighings)!==JSON.stringify(sortObject(this.props.firebase.localDataStore.weighings)))\n        ) {\n          const {Sections, Mid} = this.setData(this.props)\n          this.setState({\n            Mid: Mid,\n            Sections: Sections\n          })\n        }\n      }\n    }\n  }\n\n  render() {\n    const IsLoading = this.props.firebase.firebaseIsLoading\n    const firebaseUser = this.props.firebase.firebaseUser\n    const firebaseErrorMessage = this.props.firebase.firebaseErrorMessage\n\n    const localDataStore = this.props.firebase.localDataStore //Farmid\n\n    return(\n      <View\n      style={[\n        Helpers.mainContainer,\n      ]}\n      >\n        <View style={[Helpers.fullSize, Helpers.fill]}>\n          {firebaseErrorMessage ? (\n            <Text style={ApplicationStyles.error}>{firebaseErrorMessage}</Text>\n          ):(<></>)}\n          {firebaseUser && this.state.Sections? (\n            <ScrollView style={[Metrics.verticalMargin, {paddingRight: 5}]}>\n              <SectionGrid\n                itemDimension={70}\n                spacing={10}\n                sections={\n                  Object.keys(this.state.Sections).map((Section) => {\n                    var Pens = sortObject(this.state.Sections[Section].pens)\n                    return(\n                      {\n                        title: Section,\n                        data: Object.keys(Pens)\n                      }\n                    )\n                  })\n                }\n\n                renderSectionHeader={({ section }) => (\n                  <View style={[Helpers.buttonContainer, Helpers.midWidth, {marginBottom:0}]}>\n                    <Button Text={section.title} buttonStyle={{backgroundColor: Colors.AgriDarkblue}}\n                      onPress={() => {} }/>\n                  </View>\n                )}\n\n                renderItem={({ item }) => {\n                  var color = Colors.gray\n                  var displayWeight = null\n                  //If pen have Weighing\n                  if (localDataStore.weighings && localDataStore.weighings[item]) {\n                    var Weighing = null;\n                    for (const _weighing in localDataStore.weighings[item]) {\n                      var weighing = localDataStore.weighings[item][_weighing]\n                      if (weighing && (!Weighing || Weighing.time < weighing.time)) {\n                        Weighing = weighing\n                      }\n                    }\n                    if (Weighing) {\n                      var weight = Weighing.weight\n                      if (localDataStore.pens && localDataStore.pens[item]) {\n                        var Pen = localDataStore.pens[item]\n                        if (Pen.datas && Pen.datas.count) {\n                          weight = weight / Pen.datas.count\n                        }\n                      }\n                      if (weight && !isNaN(weight)) {\n                        //If batch\n                        var Batchs = null\n                        for (const _batch in localDataStore.batchs) {\n                          var batch = localDataStore.batchs[_batch]\n                          if (batch.hasOwnProperty(\"pens\") && batch.pens[item] != null) {\n                            Batchs = localDataStore.batchs[_batch]\n                            //break; //diffrenc from web ???\n                          }\n                        }\n                        \n                        if (Batchs) {\n                          var Batch = Batchs\n                          if (Batch && Batch.time && Batch.datas \n                            && localDataStore.graphs && localDataStore.graphs[Batch.gcurve]) {\n                            var Curve = localDataStore.graphs[Batch.gcurve]\n                            var Keys = Object.keys(Curve.data);\n                            var WeighingTime = Weighing.time\n\n                            if (WeighingTime > Batch.time && (!Batch.state || Batch.state !== \"Closed\")) {\n                              var StartTime = Batch.time\n                              var EndTime = Batch.time\n                              var index = 0;\n                              for (index = 0; index < Curve.data.length-1; index++) {\n                                var currentTime = new Date(StartTime)\n                                switch(Curve.periode) {\n                                  case \"Days\":\n                                    currentTime = new Date(currentTime.setDate(currentTime.getDate() +1))\n                                    break;\n                                  case \"Month\":\n                                    currentTime = new Date(currentTime.setMonth(currentTime.getMonth() + 1))\n                                    break;\n                                  case \"Weeks\":\n                                  default:\n                                    currentTime = new Date(currentTime.setDate(currentTime.getDate() + 7))\n                                    break;\n                                }\n                                EndTime = currentTime.getTime()\n                                if (EndTime >= WeighingTime){\n                                  break;\n                                }else {\n                                  StartTime = EndTime\n                                }\n                              }\n                              //var EndDate = EndDate = currentTime.getTime();\n                              var {ExValue, VirData} = get_DataSpot([StartTime, EndTime], [Curve.data[Keys[index]], Curve.data[index +1]], new Date().getTime(), weight, WeighingTime)\n                              \n                              var devianceMin = 2\n                              var devianceMax = 5\n                              if (Batch.datas.devianceMin) {\n                                devianceMin = Batch.datas.devianceMin\n                              }\n                              if (Batch.datas.devianceMax) {\n                                devianceMax = Batch.datas.devianceMax\n                              }\n\n                              var devianceValMin = (ExValue/100)* devianceMin\n                              var devianceValMax = (ExValue/100)* devianceMax\n                              if (ExValue && VirData < ExValue && VirData < ExValue - devianceValMin) {\n                                color = Colors.error\n                              } else if (ExValue && VirData > ExValue && VirData > ExValue + devianceValMax) {\n                                color = Colors.overest\n                              } else {\n                                color = Colors.success\n                              }\n                              displayWeight = Math.round(VirData * 100) / 100\n                            }\n                          }\n                        }\n                      }\n                    }\n                  }\n                  return(\n                    <TouchableOpacity style={[Helpers.borderContainer, {width:70, height:70, alignItems:\"center\", justifyContent:\"center\", backgroundColor:color}]}\n                      onPress={() => {\n                        this.props.setCurrentData(item)\n                        NavigationService.navigate(\"DataDisplay\")\n                      }}>\n                      <Text>{item}</Text>\n                      {displayWeight?(<Text>{displayWeight + \" kg\"}</Text>):(<></>)}\n                    </TouchableOpacity>\n                  )\n                }}\n              />\n            </ScrollView>\n          ):(\n            <View style={[Helpers.fillRowCenter, Helpers.center, Helpers.logoContainer]}>\n              <Image style={Helpers.fullSize} source={Images.Hexa_icon} resizeMode={'contain'} />\n            </View>\n          )}\n        </View>\n        {IsLoading &&\n          <ActivityIndicator style={Helpers.loadingContainer} size='large' />\n        }\n      </View>\n    )\n  }\n}\n\nconst mapStateToProps = (state) => {\n  const { firebase } = state\n  return { firebase }\n};\n\nconst mapDispatchToProps  = (dispatch) => {\n  return {\n    setFirebaseError: error => dispatch(FirebaseActions.setFirebaseError(error)),\n\n    getSections: farmId => dispatch(FirebaseActions.actionStarting(Actions.FETCH, DataRefs.SECTIONS, {FarmId: farmId})),\n    getPen: farmId => dispatch(FirebaseActions.actionStarting(Actions.FETCH, DataRefs.PENS, {FarmId: farmId})),\n    getWeights: farmId => dispatch(FirebaseActions.actionStarting(Actions.FETCH, DataRefs.WEIGHING, {FarmId: farmId, limitTo:1})),\n    \n    getBatch: (farmId) => dispatch(FirebaseActions.actionStarting(Actions.FETCH, DataRefs.BATCHS, {FarmId: farmId})),\n    getCurve: (farmid) => dispatch(FirebaseActions.actionStarting(Actions.FETCH, DataRefs.GRAPH, {FarmId: farmid, GraphId: \"\"})),\n\n    setCurrentData: penId => dispatch(FirebaseActions.setCurrentData({type:DataRefs.PENS, penId: penId})),\n  }\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(Pens);\n//export default Pens;\n","import React, { useEffect, useState, Component } from 'react'\nimport { Platform, Text, View, ActivityIndicator, Image, StyleSheet, ScrollView, Dimensions, SafeAreaView, FlatList, Picker } from 'react-native'\nimport { Input } from 'react-native-elements'\nimport { useDispatch, useSelector, connect } from 'react-redux'\nimport { bindActionCreators } from 'redux';\n\nimport NavigationService from '../../../Services/NavigationService'\n\nimport FirebaseActions from '../../../Stores/Firebase/Actions'\nimport { Actions, DataRefs, sortObject } from '../../../Stores/Firebase/Selectors'\n\nimport { Button, TitleElement, CustomListItem, Datetime_Picker } from '../../../Components'\nimport Style from './UserPanelStyle'\nimport { ApplicationStyles, Helpers, Metrics, Colors } from '../../../Theme'\n\nimport Icon from 'react-native-vector-icons/MaterialIcons'\nimport SectionedMultiSelect from 'react-native-sectioned-multi-select'\n\n//import moment from 'moment';\n//import SimplerDatePicker from '@cawfree/react-native-simpler-date-picker';\n//import DatePicker from 'react-native-simple-date-picker';\n\n//import DateTimePicker from '@react-native-community/datetimepicker';\n\nimport SelectBox from 'react-native-multi-selectbox'\nimport { xorBy } from 'lodash'\n\nclass Batchs extends Component {\n  constructor(props){\n    super(props);\n\n    const {BatchList, freePens} = this.setData(props)\n    this.state = {\n      BatchList: BatchList,\n\n      Display: 0,\n\n      BatchName: \"\",\n      ShowPicker: false,\n      StartD: new Date().getTime(),\n      Curve: \"\",\n      DevianceMin: \"\",\n      DevianceMax: \"\",\n\n      freePens: freePens,\n      avaiblePens: freePens,\n      selectedPens: [],\n    }\n  }\n\n  setData(Props) {\n    const localDataStore = Props.firebase.localDataStore;\n\n    var BatchList = localDataStore.batchs\n    \n    var freePens = []\n    if (BatchList && localDataStore.sections) {\n      Object.keys(localDataStore.sections).forEach(section => {\n        if (localDataStore.sections[section].pens) {\n          var pens = []\n          Object.keys(localDataStore.sections[section].pens).forEach(pen => {\n            if (pen !== \"__jsogObjectId\") {\n              var add = true\n              Object.keys(BatchList).forEach(batch => {\n                if (!BatchList[batch].state || BatchList[batch].state !== \"Closed\") {\n                  if (BatchList[batch].pens && BatchList[batch].pens[pen]) {\n                    add = false;\n                  }\n                }\n              });\n              if (add) {\n                var item = {\n                  item: pen,\n                  id: section + \"_\" + pen\n                }\n                freePens.push(item)\n              }\n            }\n          })\n        }\n      });\n    }\n\n    return { BatchList, freePens }\n  }\n\n  getData() {\n    this.props.setFirebaseError(null)\n\n    const localDataStore = this.props.firebase.localDataStore;\n    this.props.getBatch(Object.keys(localDataStore.userData.farms)[0])\n    this.props.getCurve(Object.keys(localDataStore.userData.farms)[0])\n    this.props.getSections(Object.keys(localDataStore.userData.farms)[0])\n    this.props.getPens(Object.keys(localDataStore.userData.farms)[0])\n  }\n\n  checkData(props) {\n    if (!props.firebase || props.firebase.firebaseUser === null) {\n      NavigationService.navigate(\"AuthStack\")\n    }\n    //Mabye call check for localdataStore get farms..\n  }\n\n  componentDidUpdate(prevProps, prevState) {\n    if (this.props !== prevProps) {\n      this.checkData(this.props);\n\n      if (this.props.firebase.localDataStore) {\n        if ((this.props.firebase.localDataStore.batchs && JSON.stringify(this.state.BatchList)!==JSON.stringify(this.props.firebase.localDataStore.batchs)) ||\n            (this.props.firebase.localDataStore.pens && JSON.stringify(this.state.pens)!==JSON.stringify(this.props.firebase.localDataStore.pens))) {\n          const {BatchList, freePens} = this.setData(this.props)\n          this.setState({\n            freePens: freePens,\n            BatchList: BatchList,\n          })\n        }\n      }\n    }\n  }\n\n  componentDidMount() {\n    this.checkData(this.props);\n    this.getData();\n  }\n\n  onChange = ({ window, screen }) => {\n    this.setState({\n      dimensions: {window, screen},\n    })\n  };\n\n  onMultiChange = (item) => {\n    var items = xorBy(this.state.selectedPens, [item], 'id')\n    this.setState({\n      selectedPens: items\n    })\n  }\n\n  render() {\n    const IsLoading = this.props.firebase.firebaseIsLoading\n    const firebaseUser = this.props.firebase.firebaseUser\n    const firebaseErrorMessage = this.props.firebase.firebaseErrorMessage\n\n    const localDataStore = this.props.firebase.localDataStore //Farmid\n\n    return(\n      <ScrollView style={[Helpers.fullSize, Helpers.fill]}>\n      <View\n        style={[\n          Helpers.mainContainer,\n        ]}\n      >\n        <View style={[Helpers.contentContainer, Helpers.fullSize, Helpers.fill]}>\n          {firebaseErrorMessage ? (\n            <Text style={ApplicationStyles.error}>{firebaseErrorMessage}</Text>\n          ):(<></>)}\n          {this.state.Display === 0?(\n            //#region Normal Front View to display all batches.\n            <View style={[Helpers.contentContainer, Helpers.fullSize, {marginHorizontal:0, paddingHorizontal:-20}]}>\n              {this.state.BatchList ? (\n                <View style={[Helpers.fill, Helpers.fullWidth, Metrics.smallHorizontalPadding, Metrics.smallVerticalPadding, {maxWidth:800, marginTop:10}]}>\n                <FlatList\n                    data={Object.keys(this.state.BatchList).filter(e => e !== '__jsogObjectId')}\n                    renderItem={({item, i})=>{\n                      return(\n                        <Button Text={item} onPress={() => {\n                          var curveId = \"default\"\n                          if (this.state.BatchList[item] && this.state.BatchList[item].gcurve) {\n                            curveId = this.state.BatchList[item].gcurve\n                          }\n                          this.props.setCurrentData(item, curveId)\n                          NavigationService.navigate('DataPlotter')\n                        }}/>\n                      )\n                    }}\n                    keyExtractor={(item, index) => index.toString()}\n                  />\n                </View>\n              ):(<></>)}\n              <View style={[Helpers.buttonContainer, Helpers.borderContainer, Helpers.midWidth]}>\n                <Button Text={\"New Batch\"} onPress={() => {\n                  this.setState({\n                    Display: 1,\n                    freePens: this.state.freePens,\n                    avaiblePens: this.state.freePens,\n                    selectedPens: [],\n                  })\n                }}/>\n                {this.state.BatchList?(\n                <Button Text={\"Edit or Close Batch\"} onPress={() => {\n                  var batchName = Object.keys(this.state.BatchList)\n                                    .filter(e => e !== '__jsogObjectId' && \n                                            (!this.state.BatchList[e].state || this.state.BatchList[e].state !== \"Closed\")\n                                    )[0]\n                  var batch = this.state.BatchList[batchName]\n                  \n                  var Pens = []\n                  var pens = sortObject(batch.pens)\n                  Object.keys(pens).forEach(element => {\n                    if (localDataStore.pens && localDataStore.pens[element]){\n                      var _pen = localDataStore.pens[element]\n                      var item = {}\n                      item.item = element;\n                      item.id = _pen.section + \"_\" + element;\n                      Pens.push(item)\n                    }\n                  });\n\n                  this.setState({\n                    Display: 2,\n                    BatchName: batchName,\n                    StartD: batch.time,\n                    Curve: batch.gcurve,\n                    DevianceMin: batch.datas.devianceMin,\n                    DevianceMax: batch.datas.devianceMax,\n                    avaiblePens: this.state.freePens.concat(Pens),\n                    selectedPens: Pens\n                  })\n                }}/>):(<></>)}\n              </View>\n            </View>\n            //#endregion\n          ):(\n            //#region Edit or create\n            <View style={[Helpers.contentContainer, Helpers.fullSize, {marginHorizontal:0, paddingHorizontal:-20}]}>\n              {this.state.Display === 1?( // Create\n                <Input label={\"BatchName\"}\n                  containerStyle={[{borderWidth:1, marginTop:10}]}\n                  style={[ApplicationStyles.input, ]}\n                  onChangeText={text => {\n                    this.setState({\n                      BatchName: text\n                    })\n                  }}\n                  value={\n                    this.state.BatchName\n                  }\n                />\n              ):( // Edit\n                <View style={[Helpers.borderContainer, Helpers.fullWidth, {height:60, borderRadius:0, alignItems:\"center\"}]}>\n                  <Picker\n                    mode=\"dropdown\"\n                    selectedValue={this.state.BatchName}\n                    style={[Helpers.fullWidth, { height: 50, justifyContent:\"flex-end\"}]}\n                    onValueChange={(itemValue, itemIndex) => {\n                      if (this.state.BatchList && this.state.BatchList[itemValue]) {\n                        var batch = this.state.BatchList[itemValue]\n\n                        var Pens = []\n                        var pens = sortObject(batch.pens)\n                        Object.keys(pens).forEach(element => {\n                          if (localDataStore.pens && localDataStore.pens[element]){\n                            var _pen = localDataStore.pens[element]\n                            var item = {}\n                            item.item = element;\n                            item.id = _pen.section + \"_\" + element;\n                            Pens.push(item)\n                          }\n                        });\n\n                        this.setState({\n                          BatchName: itemValue,\n                          StartD: batch.time,\n                          Curve: batch.gcurve,\n                          DevianceMin: batch.datas.devianceMin,\n                          DevianceMax: batch.datas.devianceMax,\n                          avaiblePens: this.state.freePens.concat(Pens),\n                          selectedPens: Pens,\n                        })\n                      }\n                    }}\n                  >\n                    {Object.keys(this.state.BatchList)\n                                    .filter(e => e !== '__jsogObjectId' && \n                                            (!this.state.BatchList[e].state || this.state.BatchList[e].state !== \"Closed\")\n                                    ).map((graph, i) => {\n                      return (<Picker.Item label={graph} value={graph} key={i}/>)\n                    })}\n                  </Picker>\n                </View>\n              )}\n              <View style={[Helpers.fullWidth, Helpers.row, {zIndex:999}]}>\n                <View style={[Helpers.halvWidth, {borderWidth:1 ,height: 75, marginTop:10, paddingHorizontal:5, paddingTop:0, borderRadius:0, alignItems:\"center\"}]}>\n                  <View style={[Helpers.fullWidth, {alignItems:\"flex-start\"}]}>\n                    <Text style={[ApplicationStyles.text, {marginHorizontal:5, marginTop:2, color:Colors.input, fontSize: 15, fontWeight: \"bold\"}]}>Start date:</Text>\n                  </View>\n                  <View style={[Helpers.fullWidth, {alignItems:'flex-start'}]}>\n                    <Datetime_Picker FullYear={this.state.StartD}\n                     onValueChange={(date)=>{\n                      console.log(date.getTime())\n                      this.setState({\n                        StartD: date.getTime()\n                      })\n                    }}/>\n                  </View>\n                </View>\n                \n                <View style={[Helpers.halvWidth, {borderWidth:1 ,height: 75, marginTop:10, paddingHorizontal:5, paddingTop:0, borderRadius:0, alignItems:\"center\", zIndex:1}]}>\n                  <View style={[Helpers.fullWidth, {alignItems:\"flex-start\"}]}>\n                    <Text style={[ApplicationStyles.text, {marginHorizontal:5, marginTop:2, color:Colors.input, fontSize: 15, fontWeight: \"bold\"}]}>Growth curve:</Text>\n                  </View>\n                  <View style={[Helpers.fullWidth, {alignItems:\"center\"}]}>\n                    <Picker\n                      mode=\"dropdown\"\n                      selectedValue={this.state.Curve}\n                      style={[Helpers.fullWidth, {height: 30}]}\n                      onValueChange={(itemValue, itemIndex) => {\n                        this.setState({\n                          Curve: itemValue\n                        })\n                      }}\n                    >\n                      {Object.keys(localDataStore.graphs).map((graph, i) => {\n                        if (graph === \"__jsogObjectId\") return null;\n                        return (<Picker.Item label={graph} value={graph} key={i}/>)\n                      })}\n                    </Picker>\n                  </View>\n                </View>\n              </View>\n              <View style={[Helpers.fullWidth, Helpers.row]}>\n                <Input label={\"Deviance Min alert procentage\"}\n                  containerStyle={[Helpers.halvWidth,{borderWidth:1, marginTop:10}]}\n                  style={[ApplicationStyles.input, ]}\n                  onChangeText={text => {\n                    if (isNaN(text)) {\n                      if (!text.endsWith(\".\")) return;\n                    }\n                    this.setState({\n                      DevianceMin: text\n                    })\n                  }}\n                  value={\n                    this.state.DevianceMin\n                  }\n                />\n                 <Input label={\"Deviance Max alert procentage\"}\n                  containerStyle={[Helpers.halvWidth,{borderWidth:1, marginTop:10}]}\n                  style={[ApplicationStyles.input, ]}\n                  onChangeText={text => {\n                    if (isNaN(text)) {\n                      if (!text.endsWith(\".\")) return;\n                    }\n                    this.setState({\n                      DevianceMax: text\n                    })\n                  }}\n                  value={\n                    this.state.DevianceMax\n                  }\n                />\n              </View>\n              <View style={[Helpers.fullWidth, {borderWidth:1, marginTop:10, paddingHorizontal:10, paddingTop:5}]}>\n                <SelectBox\n                  label=\"Pens in Batch..\"\n                  labelStyle={{color:Colors.input, fontSize: 15, fontWeight: \"bold\"}}\n                  optionsLabelStyle={{color:\"black\", fontSize: 12, fontWeight: \"bold\"}}\n                  options={this.state.avaiblePens}\n                  selectedValues={this.state.selectedPens}\n                  onMultiSelect={this.onMultiChange}\n                  onTapClose={this.onMultiChange}\n                  isMulti\n                />\n              </View>\n              <View style={[Helpers.buttonContainer, Helpers.borderContainer, Helpers.midWidth, {marginTop:10}]}>\n                {this.state.Display === 2?(\n                  <Button Text={\"Close Batch\"} onPress={() => {\n                    var newBatch = {name:this.state.BatchName, state:\"Closed\"}\n                    this.props.updateBatch(Object.keys(localDataStore.userData.farms)[0], newBatch)\n                  }}/>\n                ):(\n                  <></>\n                )}\n                <Button Text={\"Save\"} onPress={() => {\n                  var update = true;\n\n                  if (this.state.BatchName !== \"\") {\n                    var Name = this.state.BatchName;\n                    if (!Object.keys(this.state.BatchList).includes(Name)){\n                      if (this.state.Display === 2) { // update on non existing\n                        update = false \n                        this.props.setFirebaseError(\"BatchName error, batch does not exists\")\n                      }\n                    } \n                    else {\n                      if (this.state.Display === 1) { // create on allready existing\n                        update = false \n                        this.props.setFirebaseError(\"BatchName error, batch allready exists\")\n                      }\n                    }\n                  } else {\n                    update = false \n                    this.props.setFirebaseError(\"BatchName error\")\n                  }\n\n                  if (this.state.StartD !== \"\") {\n                    /*var StartD = this.state.StartD.split(\".\")\n                    if (StartD.length !== 3 || StartD[0].length !== 4 || isNaN(StartD[0]) || \n                                              (StartD[1].length <= 0 && StartD[1].length >= 3) || isNaN(StartD[1]) ||\n                                              (StartD[2].length <= 0 && StartD[2].length >= 3)|| isNaN(StartD[2])) {\n                      update = false \n                      this.props.setFirebaseError(\"Startdate error\")\n                    }*/\n                  }else {\n                    update = false \n                    this.props.setFirebaseError(\"Startdate error\")\n                  }\n\n                  if (this.state.DevianceMin !== \"\") {\n                    var Dev = this.state.DevianceMin\n                    if (Dev.length > 3 || isNaN(Dev) || Dev > 100){\n                      update = false \n                    }\n                  }else {\n                    update = false \n                    this.props.setFirebaseError(\"DevianceMin setting error\")\n                  }\n\n                  if (this.state.DevianceMax !== \"\") {\n                    var Dev = this.state.DevianceMax\n                    if (Dev.length > 3 || isNaN(Dev) || Dev > 100){\n                      update = false \n                    }\n                  }else {\n                    update = false \n                    this.props.setFirebaseError(\"DevianceMax setting error\")\n                  }\n\n                  var Pens = {}\n                  if (this.state.selectedPens && this.state.selectedPens.length > 0) {\n                    this.state.selectedPens.forEach(element => {\n                      Pens[element.item] = true\n                    });\n                  }\n                  if (Object.keys(Pens).length !== this.state.selectedPens.length) {\n                    update = false\n                    this.props.setFirebaseError(\"An error occurred during Pen assigning (please update the page)\")\n                  }\n\n                  if (update) {\n                    var newBatch = {name:this.state.BatchName, gcurve:this.state.Curve, pens:Pens, time: this.state.StartD, datas:{devianceMin: this.state.DevianceMin, devianceMax: this.state.DevianceMax}}\n                    if (this.state.Display === 1) {\n                      this.props.setBatch(Object.keys(localDataStore.userData.farms)[0], newBatch)\n                    }\n                    else if (this.state.Display === 2) {\n                      this.props.updateBatch(Object.keys(localDataStore.userData.farms)[0], newBatch)\n                    }\n                    this.setState({\n                      Display: 0\n                    })\n                    this.props.getPens(Object.keys(localDataStore.userData.farms)[0])\n                  }\n                }}/>\n              </View>\n            </View>\n            //#endregion\n          )}\n        </View>\n        {IsLoading &&\n          <ActivityIndicator style={Helpers.loadingContainer} size='large' />\n        }\n      </View>\n      </ScrollView>\n    )\n  }\n}\n\nconst mapStateToProps = (state) => {\n  const { firebase } = state\n  return { firebase }\n};\n\nconst mapDispatchToProps  = (dispatch) => {\n  return {\n    setFirebaseError: error => dispatch(FirebaseActions.setFirebaseError(error)),\n\n    getCurve: (farmid) => dispatch(FirebaseActions.actionStarting(Actions.FETCH, DataRefs.GRAPH, {FarmId: farmid, GraphId: \"\"})),\n    getSections: farmId => dispatch(FirebaseActions.actionStarting(Actions.FETCH, DataRefs.SECTIONS, {FarmId: farmId})),\n    getPens: farmId => dispatch(FirebaseActions.actionStarting(Actions.FETCH, DataRefs.PENS, {FarmId: farmId})),\n    getBatch: (farmId) => dispatch(FirebaseActions.actionStarting(Actions.FETCH, DataRefs.BATCHS, {FarmId: farmId})),\n\n    setBatch: (farmId, batch) => dispatch(FirebaseActions.actionStarting(Actions.CREATE, DataRefs.BATCHS, {FarmId: farmId, Batch: batch})),\n    updateBatch: (farmId, batch) => dispatch(FirebaseActions.actionStarting(Actions.UPDATE, DataRefs.BATCHS, {FarmId: farmId, BatchId: batch.name, Batch: batch})),\n    \n    setCurrentData: (batchId, curveId) => dispatch(FirebaseActions.setCurrentData({type:DataRefs.PENS, batchId:batchId, curveId: curveId})),\n  }\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(Batchs);\n//export default Batchs;\n","import React, { useEffect, useState, Component } from 'react'\nimport { Platform, Text, View, ActivityIndicator, Image, StyleSheet, ScrollView, Dimensions, SafeAreaView, FlatList, Picker } from 'react-native'\nimport { Input, Icon } from 'react-native-elements'\nimport { useDispatch, useSelector, connect } from 'react-redux'\nimport { bindActionCreators } from 'redux';\n\nimport NavigationService from '../../../Services/NavigationService'\n\nimport FirebaseActions from '../../../Stores/Firebase/Actions'\nimport { Actions, DataRefs } from '../../../Stores/Firebase/Selectors'\n\nimport { Button, TitleElement, CustomListItem, ContentProp } from '../../../Components'\nimport Style from './UserPanelStyle'\nimport { ApplicationStyles, Helpers, Metrics, Images } from '../../../Theme'\n\nclass GrowthCurve extends Component {\n  constructor(props){\n    super(props);\n\n    const {CurveList} = this.setData(props)\n    var D = new Date()\n    this.state = {\n      CurveList: CurveList,\n\n      Display: 0,\n\n      CurveName: \"\",\n      DataPoints: [],\n      Periode: \"Weeks\",\n    }\n  }\n\n  setData(Props) {\n    const localDataStore = Props.firebase.localDataStore;\n\n    var CurveList = localDataStore.graphs\n    return { CurveList }\n  }\n\n  getData(){\n    this.props.setFirebaseError(null)\n\n    const localDataStore = this.props.firebase.localDataStore;\n    this.props.getCurve(Object.keys(localDataStore.userData.farms)[0])\n  }\n\n  checkData(props){\n    if (!props.firebase || props.firebase.firebaseUser === null) {\n      NavigationService.navigate(\"AuthStack\")\n    }\n  }\n\n  componentDidMount(){\n    this.checkData(this.props);\n    \n    this.getData();\n  }\n\n  componentDidUpdate(prevProps, prevState) {\n    if (this.props !== prevProps) {\n      this.checkData(this.props);\n\n      if (this.props.firebase.localDataStore) {\n        if (this.props.firebase.localDataStore.graphs && JSON.stringify(this.state.CurveList)!==JSON.stringify(this.props.firebase.localDataStore.graphs)) {\n          const {CurveList} = this.setData(this.props)\n          this.setState({\n            CurveList: CurveList,\n          })\n        }\n      }\n    }\n  }\n\n  render() {\n    const IsLoading = this.props.firebase.firebaseIsLoading\n    const firebaseUser = this.props.firebase.firebaseUser\n    const firebaseErrorMessage = this.props.firebase.firebaseErrorMessage\n\n    const localDataStore = this.props.firebase.localDataStore //Farmid\n\n    var AverageGrowth = 0\n    for(var i = 0; i < this.state.DataPoints.length; i++){\n      var value = this.state.DataPoints[i].value\n      if (value === \"\" || value === null) value = 0\n      value = parseFloat(value)\n\n      if (i === 0) continue;\n      var Growth = value - this.state.DataPoints[i-1].value\n      AverageGrowth = (AverageGrowth + Growth) / 2\n    }\n    AverageGrowth = AverageGrowth.toFixed(3)\n    \n    return(\n      <View\n        style={[\n          Helpers.mainContainer,\n        ]}\n      >\n        <View style={[Helpers.contentContainer, Helpers.fullSize, Helpers.fillColMain]}>\n          {firebaseErrorMessage ? (\n            <Text style={ApplicationStyles.error}>{firebaseErrorMessage}</Text>\n          ):(<></>)}\n          {this.state.Display === 0?(\n            <View style={[Helpers.contentContainer, Helpers.fullSize, {marginHorizontal:0, paddingHorizontal:-20}]}>\n            {this.state.CurveList ? (\n              <View style={[Helpers.fill, Helpers.fullWidth, Metrics.smallHorizontalPadding, Metrics.smallVerticalPadding, {maxWidth:800, marginTop:10}]}>\n                <FlatList\n                  data={Object.keys(this.state.CurveList).filter(e => e !== '__jsogObjectId')}\n                  renderItem={({item})=>{\n                    return(\n                      <Button Text={item} onPress={() => {\n                        var CurveData = this.state.CurveList[item]\n\n                        var DataPoints = []\n                        CurveData.data.forEach(element => {\n                          DataPoints.push({value: element})\n                        });\n                        this.setState({\n                          Display: 2,\n                          CurveName: item,\n                          DataPoints: DataPoints,\n                          Periode: CurveData.periode\n                        })\n                      }}/>\n                    )\n                  }}\n                />\n              </View>\n            ):(<></>)}\n            <View style={[Helpers.buttonContainer, Helpers.borderContainer, Helpers.midWidth]}>\n              <Button Text={\"New Curve\"} onPress={() => {\n                this.setState({\n                  Display: 1,\n                  DataPoints: [{value:\"0\"}]\n                })\n              }}/>\n            </View>\n          </View>\n          ):(\n            //#region Edit or create\n            <View style={[Helpers.contentContainer, Helpers.fullSize, {marginHorizontal:0, paddingHorizontal:-20}]}>\n              {this.state.Display === 1?( // Create\n                <Input label={\"CurveName\"}\n                  containerStyle={[{borderWidth:1, marginTop:10}]}\n                  style={[ApplicationStyles.input, ]}\n                  onChangeText={text => {\n                    var DataPoints = [{value: \"0\"}]\n                    this.setState({\n                      CurveName: text,\n                    })\n                  }}\n                  value={\n                    this.state.CurveName\n                  }\n                />\n              ):( //Edit\n                <TitleElement Text={this.state.CurveName}/>\n              )}\n              <View style={[Helpers.borderContainer, Helpers.fill, Helpers.fullWidth]}>\n                <ContentProp texts={[\"Data Points\"]} datas={[\"Periode: \" + this.state.Periode]} />\n                <ContentProp texts={[\"Average Growth: \" + AverageGrowth]} datas={[]} />\n                <FlatList\n                  data={this.state.DataPoints}\n                  renderItem={({item, index}) => {\n                    return(\n                      <Input \n                        type='number'\n                        step=\"0.1\"\n\n                        label={\"Point index: \" + (index +1)}\n                        containerStyle={[Helpers.fullWidth,{borderWidth:1, marginTop:10}]}\n                        style={[ApplicationStyles.input, ]}\n                        \n                        onChange= {(evt) => {\n                          var text = evt.target.value\n                          if (!isNaN(text) || text.endsWith('.') && text.split('.').length <= 2) {\n                            var DataPoints = [ ...this.state.DataPoints ];\n                            DataPoints[index].value = text;\n                            this.setState({DataPoints});\n                          }\n                        }}\n                        value={\n                          \"\" + item.value\n                        }\n                      />\n                    )}\n                  }\n                    //Setting the number of column\n                    numColumns={1}\n                />\n                <View style={{height:20}} />\n                <Button Text={\"New Point\"} onPress={() => {\n                  var DataPoints = [ ...this.state.DataPoints ];\n                  var value = this.state.DataPoints&&this.state.DataPoints.length >= 1?this.state.DataPoints[this.state.DataPoints.length-1].value:\"0\"\n                  DataPoints.push({value:value})\n                  this.setState({\n                    DataPoints\n                  })\n                }}/>\n              </View>\n\n              <View style={[Helpers.buttonContainer, Helpers.borderContainer, Helpers.midWidth, {marginTop:10}]}>\n                <Button Text={\"Save\"} onPress={() => {\n                  var update = true;\n\n                  if (this.state.CurveName !== \"\"){\n                    var Name = this.state.CurveName;\n                    if (!Object.keys(this.state.CurveList).includes(Name)){\n                      if (this.state.Display === 2) { // update on non existing\n                        update = false \n                      }\n                    } \n                    else {\n                      if (this.state.Display === 1) { // create on allready existing\n                        update = false \n                      }\n                    }\n                  }else {\n                    update = false \n                  }\n\n                  if (update) {\n                    var newCurve = {name:this.state.CurveName, periode:this.state.Periode}\n                    var Data = []\n                    var index = 0;\n                    this.state.DataPoints.forEach(element => {\n                      Data[index] = parseFloat(element.value)\n                      index++;\n                    });\n                    newCurve.data = Data;\n                    var farmid = Object.keys(localDataStore.userData.farms)[0]\n                    this.props.updateCurve(farmid,newCurve)\n                    \n                    this.setState({\n                      Display: 0\n                    })\n                  }\n                }}/>\n              </View>\n            </View>\n            //#endregion\n          )}\n        </View>\n        {IsLoading &&\n          <ActivityIndicator style={Helpers.loadingContainer} size='large' />\n        }\n      </View>\n    )\n  }\n}\n\nconst mapStateToProps = (state) => {\n  const { firebase } = state\n  return { firebase }\n};\n\nconst mapDispatchToProps  = (dispatch) => {\n  return {\n    setFirebaseError: error => dispatch(FirebaseActions.setFirebaseError(error)),\n\n    getCurve: (farmid) => dispatch(FirebaseActions.actionStarting(Actions.FETCH, DataRefs.GRAPH, {FarmId: farmid, GraphId: \"\"})),\n    updateCurve: (farmid, curve) => dispatch(FirebaseActions.actionStarting(Actions.UPDATE, DataRefs.GRAPH, {FarmId: farmid, Graph: curve}))\n  }\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(GrowthCurve);\n//export default GrowthCurve;\n","import React, { useEffect, Component } from 'react'\nimport { Platform, Text, View, ActivityIndicator, ScrollView } from 'react-native'\nimport { useDispatch, useSelector, connect } from 'react-redux'\nimport { bindActionCreators } from 'redux';\n\nimport NavigationService from '../../../Services/NavigationService'\n\nimport FirebaseActions from '../../../Stores/Firebase/Actions'\nimport { Actions, DataRefs, sortObject } from '../../../Stores/Firebase/Selectors'\n\nimport { Button, OperationsPanel } from '../../../Components'\nimport Style from './UserPanelStyle'\nimport { ApplicationStyles, Helpers, Metrics } from '../../../Theme'\n\nclass Operations extends Component {\n  constructor(props){\n    super(props);\n\n    this.state = {\n    }\n  }\n\n  getData() {\n    this.props.setFirebaseError(null)\n    this.props.setCurrentData({})\n  }\n\n  checkData(props) {\n    if (!props.firebase || props.firebase.firebaseUser === null){\n      NavigationService.navigate(\"AuthStack\")\n    }\n    //Mabye call check for localdataStore get farms..\n  }\n\n  componentDidMount() {\n    this.checkData(this.props);\n    this.getData();\n  }\n\n  componentDidUpdate(prevProps, prevState) {\n    \n  }\n\n  render() {\n    const IsLoading = this.props.firebase.firebaseIsLoading\n    const firebaseUser = this.props.firebase.firebaseUser\n    const firebaseErrorMessage = this.props.firebase.firebaseErrorMessage\n\n    const localDataStore = this.props.firebase.localDataStore //Farmid\n\n    return(\n      <View\n      style={[\n        Helpers.mainContainer,\n      ]}\n    >\n      <View style={[Helpers.contentContainer, Helpers.fullSize, Helpers.fill]}>\n        {firebaseErrorMessage ? (\n          <Text style={ApplicationStyles.error}>{firebaseErrorMessage}</Text>\n        ):(<></>)}\n        <View style={[Helpers.buttonContainer, Helpers.midWidth, Metrics.bottomMargin, {marginBottom:60}] }>\n        </View>\n\n        <View style={[Helpers.buttonContainer, Helpers.halvWidth, Helpers.fillColMain]}>\n          <OperationsPanel farm={Object.keys(localDataStore.userData.farms)[0]} section={true}/>\n        </View>\n      </View>\n      {IsLoading &&\n        <ActivityIndicator style={Helpers.loadingContainer} size='large' />\n      }\n    </View>\n    )\n  }\n}\n\nconst mapStateToProps = (state) => {\n  const { firebase } = state\n  return { firebase }\n};\n\nconst mapDispatchToProps  = (dispatch) => {\n  return {\n    setFirebaseError: error => dispatch(FirebaseActions.setFirebaseError(error)),\n    setCurrentData: actionType => dispatch(FirebaseActions.setCurrentData({type:DataRefs.PENS, action: actionType})),\n  }\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(Operations);\n//export default Operations;\n","import React, { useEffect, Component } from 'react'\nimport { Platform, Text, View, ActivityIndicator, Picker } from 'react-native'\nimport { Input } from 'react-native-elements'\nimport { useDispatch, useSelector, connect } from 'react-redux'\nimport { bindActionCreators } from 'redux';\n\nimport NavigationService from '../../../Services/NavigationService'\n\nimport FirebaseActions from '../../../Stores/Firebase/Actions'\nimport { Actions, DataRefs, sortObject } from '../../../Stores/Firebase/Selectors'\n\nimport { Button, Datetime_Picker } from '../../../Components'\nimport Style from '../CloudScreenStyle'\nimport { ApplicationStyles, Helpers, Metrics, Colors } from '../../../Theme'\n\nclass Weighing extends Component {\n  constructor(props){\n    super(props);\n\n    const {Sections, Section, Pens, Pen} = this.setData(this.props)\n    this.state = {\n      Sections: Sections,\n      Section: Section,\n\n      Pens: Pens,\n      Pen: Pen,\n      weight: \"\",\n      date: new Date().getTime()\n    }\n  }\n\n  getData() {\n    this.props.setFirebaseError(null)\n\n    const localDataStore = this.props.firebase.localDataStore;\n    this.props.getSections(Object.keys(localDataStore.userData.farms)[0])\n  }\n\n  setData(Props) {\n    //Set Sections\n    const localDataStore = Props.firebase.localDataStore;\n    var Sections = false;\n    if (localDataStore && localDataStore.sections && localDataStore.sections !== Sections) {\n      Sections = sortObject(localDataStore.sections)\n    }\n\n    //Set Section\n    const CurrentData = Props.firebase.currentData;\n    var Section = Sections? Object.keys(Sections)[0] : \"\"\n    if (CurrentData && CurrentData.data && CurrentData.data.section && Sections[CurrentData.data.section]) {\n      if (CurrentData.data.section != Section) {\n        Section = CurrentData.data.section\n      }\n    }\n\n    //Pens & Pen\n    var Pens = Sections? sortObject(Sections[Section].pens): {}\n    var Pen = Sections? Object.keys(Pens)[0]: \"\"\n    if (CurrentData && CurrentData.penId && Pens[CurrentData.penId] && CurrentData.penId != Pen){\n      Pen = CurrentData.penId\n    }\n\n    if (!Sections) Sections = {}\n    return {Sections, Section, Pens, Pen}\n  }\n\n  checkData(props) {\n    if (!props.firebase || props.firebase.firebaseUser === null){\n      NavigationService.navigate(\"AuthStack\")\n    }\n    //Mabye call check for localdataStore get farms..\n  }\n\n  componentDidMount() {\n    this.checkData(this.props);\n\n    this.getData();\n  }\n\n  componentDidUpdate(prevProps, prevState) {\n    if (this.props !== prevProps){\n      this.checkData(this.props);\n\n      if (this.props.firebase.localDataStore) {\n        if (this.props.firebase.localDataStore.sections && JSON.stringify(this.state.Sections)!==JSON.stringify(sortObject(this.props.firebase.localDataStore.sections))) {\n\n          const {Sections, Section, Pens, Pen} = this.setData(this.props)\n\n          this.setState({\n            Sections: Sections,\n            Section: Section,\n            Pens: Pens,\n            Pen: Pen,\n\n            weight: \"\",\n          })\n        }\n      }\n    }\n  }\n\n  render() {\n    const IsLoading = this.props.firebase.firebaseIsLoading\n    const firebaseUser = this.props.firebase.firebaseUser\n    const firebaseErrorMessage = this.props.firebase.firebaseErrorMessage\n\n    const localDataStore = this.props.firebase.localDataStore //Farmid\n\n    return(\n      <View\n      style={[\n        Helpers.mainContainer,\n      ]}\n      >\n        <View style={[Helpers.contentContainer, Helpers.fullSize, Helpers.fill]}>\n          {firebaseErrorMessage ? (\n            <Text style={ApplicationStyles.error}>{firebaseErrorMessage}</Text>\n          ):(<></>)}\n          {firebaseUser?(\n            <View style={[Helpers.contentContainer, Helpers.fullSize, Helpers.fill]}>\n              <View style={[Helpers.buttonContainer, Helpers.midWidth, Metrics.bottomMargin] }>\n                <Button Text=\"Weighing\" buttonStyle={{backgroundColor: Colors.AgriDarkblue}}\n                  onPress={() => {} }/>\n              </View>\n              \n              <View style={[Helpers.borderContainer, Helpers.midWidth, {marginBottom:20}] }>\n                <Picker\n                  mode=\"dropdown\"\n                  selectedValue={this.state.Section}\n                  style={{ height: 50, width: 150 }}\n                  onValueChange={(itemValue, itemIndex) => {\n                    if (this.state.Sections[itemValue]){\n                      const Pens = sortObject(this.state.Sections[itemValue].pens)\n                      this.setState({\n                        Section: itemValue,\n                        Pens: Pens,\n                        Pen: Object.keys(Pens)[0],\n                      })\n                    }\n                  }}\n                >\n                  {Object.keys(this.state.Sections).map((Section, i) => {\n                      return (<Picker.Item label={Section} value={Section} key={i}/>)\n                  })}\n                </Picker>\n\n                <Picker\n                  mode=\"dropdown\"\n                  selectedValue={this.state.Pen}\n                  style={{ height: 50, width: 150 }}\n                  onValueChange={(itemValue, itemIndex) => {\n                    this.setState({\n                      Pen: itemValue\n                    })\n                  }}\n                >\n                  {Object.keys(this.state.Pens).map((Pen, i) => {\n                      return (<Picker.Item label={Pen} value={Pen} key={i}/>)\n                  })}\n                </Picker>\n\n                <View style={[Helpers.fullWidth, {borderWidth:0 ,height: 65, marginTop:10, paddingHorizontal:5, paddingTop:0, borderRadius:0, alignItems:\"center\"}]}>\n                  <View style={[Helpers.fullWidth, {alignItems:\"flex-start\"}]}>\n                    <Text style={[ApplicationStyles.text, {marginHorizontal:5, marginTop:2, color:Colors.input, fontSize: 15, fontWeight: \"bold\"}]}>Weight date:</Text>\n                  </View>\n                  <View style={[Helpers.fullWidth, {alignItems:'flex-start'}]}>\n                    <Datetime_Picker FullYear={this.state.date}\n                      onValueChange={(date)=>{\n                        this.setState({\n                          date: date\n                        })\n                      }}\n                    />\n                  </View>\n                </View>\n                 \n                <Input\n                  label=\"Weight\"\n                  style={{ ...Style.input}}\n                  onChangeText={text => {\n                    this.setState({\n                      weight: text\n                    })\n                  }}\n                  value={this.state.weight}\n                />\n              </View>\n\n              <View style={[Helpers.buttonContainer, Helpers.midWidth] }>\n                <Button Text=\"Submit\"\n                  onPress={() => {\n                    if (!this.state.Section){\n                      this.props.setFirebaseError(\"A section is needed\")\n                    } else if (!this.state.Pen){\n                      this.props.setFirebaseError(\"A pen is needed\")\n                    } else if (isNaN(this.state.weight) || this.state.weight === \"\"){\n                      this.props.setFirebaseError(\"Weight have to be a number\")\n                    }\n                    else {\n                      this.props.setFirebaseError(null)\n                      this.props.newWeight(Object.keys(localDataStore.userData.farms)[0], this.state.Pen, parseInt(this.state.weight), this.state.date)\n                      this.setState({\n                        weight: \"\",\n                        date: new Date().getTime()\n                      })\n                    }\n                  } }/>\n              </View>\n            </View>\n          ):(<></>)}\n        </View>\n        {IsLoading &&\n          <ActivityIndicator style={Helpers.loadingContainer} size='large' />\n        }\n      </View>\n    )\n  }\n}\n\nconst mapStateToProps = (state) => {\n  const { firebase } = state\n  return { firebase }\n};\n\nconst mapDispatchToProps  = (dispatch) => {\n  return {\n    getSections: (farmId) => dispatch(FirebaseActions.actionStarting(Actions.FETCH, DataRefs.SECTIONS, {FarmId: farmId})),\n    setFirebaseError: error => dispatch(FirebaseActions.setFirebaseError(error)),\n    \n    newWeight: (farmId, penId, weight, date) => dispatch(FirebaseActions.actionStarting(Actions.CREATE, DataRefs.WEIGHING, {FarmId: farmId, PenId: penId, Weight:weight, Date:date})),\n  }\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(Weighing);\n//export default Weighing;","import React, { useEffect, Component } from 'react'\nimport { Platform, Text, View, ActivityIndicator, Image, StyleSheet, ScrollView, Picker } from 'react-native'\nimport { Input } from 'react-native-elements'\nimport { useDispatch, useSelector, connect } from 'react-redux'\nimport { bindActionCreators } from 'redux';\n\nimport NavigationService from '../../../Services/NavigationService'\n\nimport FirebaseActions from '../../../Stores/Firebase/Actions'\nimport { Actions, DataRefs, sortObject } from '../../../Stores/Firebase/Selectors'\n\nimport { Button, TitleElement } from '../../../Components'\nimport Style from '../../../Containers/Cloud/CloudScreenStyle'\nimport { ApplicationStyles, Helpers, Metrics, Colors } from '../../../Theme'\n\nclass DataEditor extends Component {\n  constructor(props){\n    super(props);\n\n    if (!props.firebase){\n      console.log(\"??\")\n    }\n\n    const {Sections, Section, Pens, Pen} = this.setData(props)\n    this.state = {\n      Sections: Sections,\n      Section: Section,\n\n      Pens: Pens,\n      Pen: Pen,\n      NewSection: false,\n    }\n  }\n\n  getData() {\n    this.props.setFirebaseError(null)\n\n    const localDataStore = this.props.firebase.localDataStore;\n    this.props.getSections(Object.keys(localDataStore.userData.farms)[0])\n  }\n\n  setData(Props) {\n    //Set Sections\n    const localDataStore = Props.firebase.localDataStore;\n    var Sections = false;\n    \n    if (localDataStore && localDataStore.sections && localDataStore.sections !== Sections) {\n      Sections = sortObject(localDataStore.sections)\n    }\n\n    //Set Section\n    const CurrentData = Props.firebase.currentData;\n    var Section = Sections? Object.keys(Sections)[0] : \"\"\n    if (CurrentData && CurrentData.data && CurrentData.data.section && Sections[CurrentData.data.section]) {\n      if (CurrentData.data.section != Section) {\n        Section = CurrentData.data.section\n      }\n    }\n\n    //Pens & Pen\n    var Pens = Sections? sortObject(Sections[Section].pens): {}\n    var Pen = Sections? Object.keys(Pens)[0]: \"\"\n    if (CurrentData && CurrentData.dataId && Pens[CurrentData.dataId] && CurrentData.dataId != Pen){\n      Pen = CurrentData.dataId\n    }\n\n    if (!Sections) Sections = {}\n    return {Sections, Section, Pens, Pen}\n  }\n\n  checkData(props) {\n    if (!props.firebase || props.firebase.firebaseUser === null){\n      NavigationService.navigate(\"AuthStack\")\n    }\n  }\n\n  componentDidMount() {\n    this.checkData(this.props);\n    this.getData();\n  }\n\n  componentDidUpdate(prevProps, prevState) {\n    if (this.props !== prevProps){\n      this.checkData(this.props);\n\n      if (this.props.firebase)  {\n        if (this.props.firebase.localDataStore) {\n          if (this.props.firebase.localDataStore.sections && JSON.stringify(this.state.Sections)!==JSON.stringify(sortObject(this.props.firebase.localDataStore.sections))) {\n            \n            const {Sections, Section, Pens, Pen} = this.setData(this.props)\n\n            this.setState({\n              Sections: Sections,\n              Section: Section,\n              Pens: Pens,\n              Pen: Pen,\n            })\n          }\n        }\n        if (this.props.firebase.currentData) {\n          if (this.props.firebase.currentData != prevProps.firebase.currentData){\n            this.forceUpdate()\n          }\n        }\n      }\n    }\n  }\n\n  render() {\n    const IsLoading = this.props.firebase.firebaseIsLoading\n    const firebaseUser = this.props.firebase.firebaseUser\n    const firebaseErrorMessage = this.props.firebase.firebaseErrorMessage\n\n    const localDataStore = this.props.firebase.localDataStore //Farmid\n    const CurrentData = this.props.firebase.currentData\n\n    var DataView = (<View></View>);\n\n    switch(CurrentData.type){\n      case DataRefs.PENS:\n        DataView = PenEditor_View_Creator(this, CurrentData, localDataStore)\n        break;\n      case DataRefs.PIGS:\n        DataView = PigEditor_View_Creator(this, CurrentData, localDataStore)\n        break;\n    }\n\n    return(\n      <View\n      style={[\n        Helpers.mainContainer,\n      ]}\n      >\n        <View style={[Helpers.contentContainer, Helpers.fullSize, Helpers.fill]}>\n          {firebaseErrorMessage ? (\n            <Text style={ApplicationStyles.error}>{firebaseErrorMessage}</Text>\n          ):(<></>)}\n          {DataView}\n        </View>\n        {IsLoading &&\n          <ActivityIndicator style={Helpers.loadingContainer} size='large' />\n        }\n      </View>\n    )\n  }\n}\n\nconst PenEditor_View_Creator = (Control, CurrentData, localDataStore) => {\n  var Sections = Control.state.Sections;\n  if (CurrentData.action === Actions.CREATE) {\n    Sections[\"New Section\"] = {}\n  }\n\n  return(\n    <View style={[Helpers.contentContainer, Helpers.fullSize, Helpers.fill]}>\n      <PenEditor_Titles CurrentAction={CurrentData.action}/>\n      \n      <View style={ [Helpers.borderContainer, Helpers.midWidth, {marginBottom:20}] }>\n        <Section_Picker Control={Control} CurrentData={CurrentData} localDataStore={localDataStore}/>\n        {CurrentData.action === Actions.CREATE ?(\n          <Input\n            label=\"Pen name\"\n            style={{ ...Style.input}}\n            onChangeText={text => {\n              Control.setState({\n                Pen: text\n              })\n            }}\n            value={Control.state.Pen}\n          />\n        ):(<></>)}\n        {CurrentData.action === Actions.DELETE ?(\n          <Picker\n            mode=\"dropdown\"\n            selectedValue={Control.state.Pen}\n            style={{ height: 50, width: 150 }}\n            onValueChange={(itemValue, itemIndex) => {\n              Control.setState({\n                Pen: itemValue\n              })\n            }}\n          >\n            {Object.keys(Control.state.Pens).map((Pen, i) => {\n                return (<Picker.Item label={Pen} value={Pen} key={i}/>)\n            })}\n          </Picker>\n        ):(<></>)}\n      </View>\n\n      {CurrentData.action === Actions.CREATE || CurrentData.action === Actions.DELETE ?(\n        <View style={[Helpers.buttonContainer, Helpers.midWidth] }>\n          <Button Text=\"Submit\"\n            onPress={() => {\n              if (!Control.state.Section || Control.state.Section === \"\"){\n                Control.props.setFirebaseError(\"A section is needed\")\n              } else if (!Control.state.Pen || Control.state.Pen === \"\"){\n                Control.props.setFirebaseError(\"A pen name is needed\")\n              } else if (!isNaN(Control.state.Section) || !isNaN(Control.state.Section[0])){\n                Control.props.setFirebaseError(\"Section name cannot be or start with a number\")\n              } else if (!isNaN(Control.state.Pen) || !isNaN(Control.state.Pen[0])){\n                Control.props.setFirebaseError(\"Pen name cannot be or start with a number\")\n              }\n              else {\n                var exists = false;\n\n                Object.keys(Control.state.Sections).map((section, i) => {\n                  if (Control.state.Sections[section].pens){\n                    var test = Object.keys(Control.state.Sections[section].pens).filter(e => e === Control.state.Pen).length\n                    if (test) exists = true\n                  }\n                })\n\n                if (exists && CurrentData.action === Actions.CREATE) {\n                  Control.props.setFirebaseError(\"Given pen name already exists\")\n                } else if (!exists && CurrentData.action === Actions.DELETE){\n                  Control.props.setFirebaseError(\"Cannot remove non-existing pen\")\n                }\n                else {\n                  Control.props.setFirebaseError(null)\n                  Control.props.penAction(CurrentData.action, Object.keys(localDataStore.userData.farms)[0], Control.state.Section, Control.state.Pen)\n                  NavigationService.navigate(\"UserOperations\")\n                }\n              }\n            } }/>\n        </View>\n      ):(<></>)}\n    </View>\n  )\n}\n\nconst PenEditor_Titles = (props) => {\n  switch(props.CurrentAction){\n    case Actions.CREATE:\n      return(\n        <TitleElement Text={\"Add Pen\"}/>\n      )\n    case Actions.DELETE:\n      return(\n        <TitleElement Text={\"Remove Pen\"}/>\n      )\n    default:\n      return(<></>)\n  }\n}\n\nconst PigEditor_View_Creator = (Control, CurrentData, localDataStore) => {\n  var Sections = Control.state.Sections;\n  if (CurrentData.action === Actions.CREATE) {\n    //Sections[\"New Section\"] = {}\n  }\n\n  return(\n    <View style={[Helpers.contentContainer, Helpers.fullSize, Helpers.fill]}>\n      <TitleElement Text={\"Add Pig: \" + CurrentData.pigtag}/>\n      \n      <View style={ [Helpers.borderContainer, Helpers.midWidth, {marginBottom:20}] }>\n        <Section_Picker Control={Control} CurrentData={CurrentData} localDataStore={localDataStore}/>\n        {Control.state.NewSection?(\n        <Input\n          label=\"Pen name\"\n          style={{ ...Style.input}}\n          onChangeText={text => {\n            Control.setState({\n              Pen: text\n            })\n          }}\n          value={Control.state.Pen}\n        />\n        ):(\n          <Picker\n            mode=\"dropdown\"\n            selectedValue={Control.state.Pen}\n            style={{ height: 50, width: 150 }}\n            onValueChange={(itemValue, itemIndex) => {\n              Control.setState({\n                Pen: itemValue\n              })\n            }}\n          >\n            {Object.keys(Control.state.Pens).map((Pen, i) => {\n                return (<Picker.Item label={Pen} value={Pen} key={i}/>)\n            })}\n          </Picker>\n        )}\n        {CurrentData.action === Actions.CREATE?(\n        <View style={[Helpers.buttonContainer, Helpers.midWidth] }>\n          <Button Text=\"Submit\"\n            onPress={() => {\n              if (!Control.state.Section || Control.state.Section === \"\"){\n                Control.props.setFirebaseError(\"A section is needed\")\n              } else if (!Control.state.Pen || Control.state.Pen === \"\"){\n                Control.props.setFirebaseError(\"A pen name is needed\")\n              } else if (!isNaN(Control.state.Section) || !isNaN(Control.state.Section[0])){\n                Control.props.setFirebaseError(\"Section name cannot be or start with a number\")\n              } else if (!isNaN(Control.state.Pen) || !isNaN(Control.state.Pen[0])){\n                Control.props.setFirebaseError(\"Pen name cannot be or start with a number\")\n              }\n              else {\n                var exists = false;\n\n                Object.keys(Control.state.Sections).map((section, i) => {\n                  if (Control.state.Sections[section].pens){\n                    var test = Object.keys(Control.state.Sections[section].pens).filter(e => e === Control.state.Pen).length\n                    if (test) exists = true\n                  }\n                })\n\n                if (exists && CurrentData.action === Actions.CREATE && Control.state.NewSection) {\n                  Control.props.setFirebaseError(\"Given pen name already exists\")\n                } else {\n                  Control.props.setFirebaseError(null)\n                  Control.props.pigAction(CurrentData.action, Object.keys(localDataStore.userData.farms)[0], CurrentData.pigtag, Control.state.Pen)\n                  NavigationService.navigate(\"UserPigs\")\n                }\n              }\n            } }/>\n        </View>\n      ):(<></>)}\n      </View>\n    </View>\n  )\n}\n\nconst Section_Picker = ({Control, CurrentData, localDataStore}) => {\n  if (Control.state.NewSection && CurrentData.action === Actions.CREATE){\n    return(\n      <Input\n        label=\"Section Name\"\n        style={{ ...Style.input}}\n        onChangeText={text => {\n          Control.setState({\n            Section: text,\n          })\n        }}\n        value={Control.state.Section}\n      />\n    )\n  } else {\n    return(\n      <Picker\n        mode=\"dropdown\"\n        selectedValue={Control.state.Section}\n        style={{ height: 50, width: 150 }}\n        onValueChange={(itemValue, itemIndex) => {\n          var Section = itemValue\n          var NewSection = Control.state.NewSection\n          var Pens = Control.state.Pens\n          var Pen = Control.state.Pen\n\n          if (itemValue === \"New Section\"){\n            NewSection = true;\n            Section = \"Section_\" + Object.keys(Control.state.Sections).length\n          } else {\n            Pens = sortObject(Control.state.Sections[itemValue].pens)\n            \n            if (CurrentData.action === Actions.DELETE){\n              Pen = Object.keys(Pens)[Object.keys(Pens).length-1]\n            }\n            else {\n              if (CurrentData.type == DataRefs.PIGS){\n                Pen = Object.keys(Pens)[0]\n              }else {\n                Pen = \"Pen_\" + (Object.keys(Pens).length +1)\n              }\n            }\n          }\n          \n          Control.setState({\n            Section: Section,\n            NewSection: NewSection,\n            Pens: Pens,\n            Pen: Pen,\n          })\n        }}>\n        {Object.keys(Control.state.Sections).map((Section, i) => {\n            return (<Picker.Item label={Section} value={Section} key={i}/>)\n        })}\n      </Picker>\n    )\n  }\n}\n\nconst mapStateToProps = (state) => {\n  const { firebase } = state\n  return { firebase }\n};\n\nconst mapDispatchToProps  = (dispatch) => {\n  return {\n    getSections: (farmId) => dispatch(FirebaseActions.actionStarting(Actions.FETCH, DataRefs.SECTIONS, {FarmId: farmId})),\n    setFirebaseError: error => dispatch(FirebaseActions.setFirebaseError(error)),\n    penAction: (action, farmId, senctionId, penId) => dispatch(FirebaseActions.actionStarting(action, DataRefs.PENS, {FarmId:farmId, SectionId:senctionId, PenId:penId})),\n    pigAction: (action, farmId, tagId, penId,) => dispatch(FirebaseActions.actionStarting(action, DataRefs.PIGS, {FarmId:farmId, TagId:tagId, PenId:penId})),\n  }\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(DataEditor);\n//export default DataEditor;\n","import React, { useEffect, Component } from 'react'\nimport { Platform, Text, View, ActivityIndicator, Image, StyleSheet, ScrollView, FlatList } from 'react-native'\nimport { useDispatch, useSelector, connect } from 'react-redux'\nimport { bindActionCreators } from 'redux';\nimport { Icon, Input } from 'react-native-elements'\n\nimport NavigationService from '../../../Services/NavigationService'\n\n//import DeviceActions from '../../../Stores/Device/Actions'\n//import { ConnectionState } from '../../../Stores/Device/Selectors'\n\nimport FirebaseActions from '../../../Stores/Firebase/Actions'\nimport { Actions, DataRefs, sortObject, format_Time, get_DataSpot } from '../../../Stores/Firebase/Selectors'\n\nimport { Button, Button_Panel, ContentProp, OperationsPanel } from '../../../Components'\n\nimport { ApplicationStyles, Helpers, Metrics, Images, Colors } from '../../../Theme'\n\nclass DataDisplay extends Component {\n  constructor(props){\n    super(props);\n\n    this.state = {\n      currentData:{}\n    }\n  }\n\n  getData() {\n    this.props.setFirebaseError(null)\n\n    if (this.props.firebase && this.props.firebase.localDataStore){\n      const localDataStore = this.props.firebase.localDataStore\n      if (this.props.firebase.currentData && this.props.firebase.currentData.type){\n        const CurrentData = this.props.firebase.currentData;\n        switch(CurrentData.type){\n          case DataRefs.PENS:\n            this.props.getPens(Object.keys(localDataStore.userData.farms)[0])\n            this.props.getWeights(Object.keys(localDataStore.userData.farms)[0], CurrentData.penId)\n            /*if (CurrentData.data.datas.batch) {\n              this.props.getBatch(Object.keys(localDataStore.userData.farms)[0], CurrentData.data.datas.batch)\n            }*/\n            this.props.getBatch(Object.keys(localDataStore.userData.farms)[0], null)\n            break;\n          case DataRefs.PIGS:\n            //this.props.getWeights(Object.keys(localDataStore.userData.farms)[0])\n            break;\n        }\n      }\n    }\n  }\n\n  checkData(props) {\n    if (!props.firebase || props.firebase.firebaseUser === null){\n      NavigationService.navigate(\"AuthStack\")\n    }\n    //Mabye call check for localdataStore get farms..\n  }\n\n  componentDidMount() {\n    this.checkData(this.props);\n\n    this.getData();\n  }\n\n  componentDidUpdate(prevProps, prevState) {\n    if (this.props !== prevProps){\n      this.checkData(this.props);\n\n      if (this.props.firebase.localDataStore) {\n        const localDataStore = this.props.firebase.localDataStore\n        if (this.props.firebase.currentData && this.props.firebase.currentData.type &&\n            JSON.stringify(this.state.currentData)!==JSON.stringify(this.props.firebase.currentData)) {\n          \n          const CurrentData = this.props.firebase.currentData;\n          switch(CurrentData.type){\n            case DataRefs.PENS:\n              if (localDataStore.pens) {\n                var Pens = sortObject(localDataStore.pens)\n                if (Pens[CurrentData.penId]){\n                  if (JSON.stringify(CurrentData.data)!==JSON.stringify(Pens[CurrentData.penId]))\n                  CurrentData.data = Pens[CurrentData.penId]\n                  this.props.setCurrentDataElement(CurrentData)\n                }\n              }\n              this.setState({\n                currentData:CurrentData\n              })\n              break;\n            case DataRefs.PIGS:\n              this.setState({\n                currentData:CurrentData\n              })\n              break;\n            default:\n              this.setState({\n                currentData:CurrentData\n              })\n              break;\n          }\n        }\n      }\n    }\n  }\n\n  render() {\n    const IsLoading = this.props.firebase.firebaseIsLoading\n    const firebaseUser = this.props.firebase.firebaseUser\n    const firebaseErrorMessage = this.props.firebase.firebaseErrorMessage\n\n    const localDataStore = this.props.firebase.localDataStore //Farmid\n    const CurrentData = this.state.currentData\n\n    var DataView = (<View></View>);\n    switch(CurrentData.type){\n      case DataRefs.PENS:\n        DataView = PenData_View(this, CurrentData, localDataStore)\n        break;\n      case DataRefs.PIGS:\n        DataView = PigData_View(this, CurrentData, localDataStore)\n        break;\n    }\n\n    return(\n      <ScrollView style={[Helpers.fullSize, Helpers.fill]}>\n        <View\n          style={[\n            Helpers.mainContainer,\n          ]}\n        >\n          <View style={[Helpers.contentContainer, Helpers.fullSize, Helpers.fill]}>\n              {firebaseErrorMessage ? (\n                <Text style={ApplicationStyles.error}>{firebaseErrorMessage}</Text>\n              ):(<></>)}\n              {DataView}\n            </View>\n          \n          {IsLoading &&\n            <ActivityIndicator style={Helpers.loadingContainer} size='large' />\n          }\n        </View>\n      </ScrollView>\n    )\n  }\n}\n\nfunction onPageSwipe(Control, localDataStore, CurrentData, dir) {\n  const section = localDataStore.pens[CurrentData.penId].section\n  const Pens = sortObject(localDataStore.sections[section].pens)\n\n  if (CurrentData.type === DataRefs.PENS && CurrentData.data && Pens[CurrentData.penId]) {\n    var index = Object.keys(Pens).indexOf(CurrentData.penId)\n\n    switch (dir) {\n      case true: //forward\n        index = index +1\n        break;\n      case false: //backward\n        index = index -1\n        break;\n    }\n\n    if (index < 0) index = Object.keys(Pens).length - 1\n    else if (index >= Object.keys(Pens).length) index = 0\n\n    Control.props.setCurrentData(Object.keys(Pens)[index])\n    NavigationService.replace(\"DataDisplay\")\n  }\n}\n\nfunction onDataPress(sender, element){\n  switch(sender){\n    case 1:\n      switch(element.index){\n        case 0:\n          console.log(\"test\")\n          break;\n      }\n      break;\n  }\n}\n\nconst PenData_View = (Control, CurrentData, localDataStore) => {\n  var Pens;\n  var WeighingsList = [];\n  var Weighings = [];\n  if (localDataStore) {\n    if (localDataStore.pens) {\n      Pens = sortObject(localDataStore.pens)\n      if (Pens[CurrentData.penId]){\n        //console.log(Pens[CurrentData.penId])\n        CurrentData.data = Pens[CurrentData.penId]\n      }\n    }\n    /*if (localDataStore.batchs){\n      localDataStore.batchs.forEach(element => {\n        if (Object.keys(element.pens).filter(e => (e === CurrentData.penId)).length > 0 && element.time >)\n      });\n    }*/\n  }\n\n  var App = Platform.OS === \"android\" || Platform.OS === \"ios\" ? true: false\n  if (localDataStore && localDataStore.weighings){\n    if (localDataStore.weighings[CurrentData.penId]){\n      WeighingsList = localDataStore.weighings[CurrentData.penId];\n      for(var i = 0; i < Object.keys(WeighingsList).length; i++){\n        var name = Object.keys(WeighingsList)[i]\n        if (!name) continue;\n        var object = WeighingsList[name];\n        if (!object || !object.time) continue;\n        Weighings.push({[name]:object})\n      }\n      Weighings = Weighings.sort((a, b) => (a.time > b.time) ? 1 : -1)\n      if (App){\n        Weighings = Weighings.slice(0,5)\n      }\n    }\n  }\n  if (CurrentData.data && !CurrentData.data.datas) CurrentData.data.datas = {}\n\n  if (!CurrentData.data) {\n    return(\n      <View style={[Helpers.fillRowCenter, Helpers.center, Helpers.logoContainer]}>\n        <Image style={Helpers.fullSize} source={Images.Hexa_icon} resizeMode={'contain'} />\n      </View>\n    )\n  }\n\n  var pigcount = CurrentData.data.datas.count?CurrentData.data.datas.count:0\n  var penWeight = []\n  if (Weighings.length > 0) {\n    penWeight = Weighings[0][Object.keys(Weighings[0])].weight / pigcount\n  }\n\n  var batch_name = CurrentData.data.datas.batch?CurrentData.data.datas.batch:\"Not set\"\n  var batch = {}\n\n  //TODO: Cleanup load mem throws..\n  var age = \"\";\n  var displayWeight = \"\";\n  if (CurrentData.data.datas.batch && localDataStore.batchs && localDataStore.batchs[CurrentData.data.datas.batch]) {\n    batch = localDataStore.batchs[CurrentData.data.datas.batch];\n    var StartTime = batch.time;\n    age = Math.floor(((Date.now()-StartTime)/(1000*60*60*24)));\n    CurrentData.data.datas.gcurve = batch.gcurve;\n\n    if (batch && batch.time && batch.datas \n      && localDataStore.graphs && localDataStore.graphs[batch.gcurve]) {\n        \n      var Curve = localDataStore.graphs[batch.gcurve]\n      var Keys = Object.keys(Curve.data);\n\n      var weight = Weighings[0][Object.keys(Weighings[0])].weight\n      var WeighingTime = Weighings[0][Object.keys(Weighings[0])].time\n\n      if (WeighingTime > batch.time && (!batch.state || batch.state !== \"Closed\")) {\n        var StartTime = batch.time\n        var EndTime = batch.time\n        var index = 0;\n        for (index = 0; index < Curve.data.length-1; index++) {\n          var currentTime = new Date(StartTime)\n          switch(Curve.periode) {\n            case \"Days\":\n              currentTime = new Date(currentTime.setDate(currentTime.getDate() +1))\n              break;\n            case \"Month\":\n              currentTime = new Date(currentTime.setMonth(currentTime.getMonth() + 1))\n              break;\n            case \"Weeks\":\n            default:\n              currentTime = new Date(currentTime.setDate(currentTime.getDate() + 7))\n              break;\n          }\n          EndTime = currentTime.getTime()\n          if (EndTime >= WeighingTime){\n            break;\n          }else {\n            StartTime = EndTime\n          }\n        }\n        var {ExValue, VirData} = get_DataSpot([StartTime, EndTime], [Curve.data[Keys[index]], Curve.data[index +1]], new Date().getTime(), weight, WeighingTime)\n        displayWeight = Math.round(VirData * 100) / 100\n      }\n    }\n  }\n\n  if (!batch.datas) batch.datas = {};\n  if (!batch.datas.devianceMin) batch.datas.devianceMin = 0;\n  if (!batch.datas.devianceMax) batch.datas.devianceMax = 0;\n\n  return(\n    <View style={[Helpers.contentContainer, Helpers.fullSize, Helpers.fill]}>\n      <View style={[Helpers.buttonContainer, Helpers.midWidth, Metrics.bottomMargin, Helpers.rowCenter] }>\n        <View style={{padding:6, paddingRight: 15}}>\n          <Icon name=\"md-arrow-back\" type='ionicon' size={25} color=\"black\" onPress={() => onPageSwipe(Control, localDataStore, CurrentData, false)}/>\n        </View>\n        <View style={[Helpers.buttonContainer, Helpers.midWidth] }>\n          <Button Text={CurrentData.penId} buttonStyle={{backgroundColor: Colors.AgriDarkblue}}\n            onPress={() => {} }/>\n        </View>\n        <View style={{padding:6, paddingLeft: 15}}>\n          <Icon name=\"md-arrow-forward\" type='ionicon' size={25} color=\"black\" onPress={() => onPageSwipe(Control, localDataStore, CurrentData, true)}/>\n        </View>\n      </View>\n      \n      <View style={[Helpers.fullWidth]}>\n        <ContentProp texts={[\"Pig count\", \"Batch\", \"Age Days\", \"Weight\", \"Growth Cruve\", \"Alarm Max\", \"Alarm Min\", \"Mixtur\", \"Correction\", \"Portion in kg\"]} onPress={(element) => onDataPress(1, element)} \n          datas={[pigcount, batch_name, age, /*penWeight*/ displayWeight, CurrentData.data.datas.gcurve?CurrentData.data.datas.gcurve:\"default\", batch.datas.devianceMin + \" %\", batch.datas.devianceMax + \" %\", \"-\", \"-\", \"-\"]} />\n      </View>\n\n      <View style={{height:20}} />\n      <View style={[Helpers.fill, Helpers.midWidth, {height:250}]}>\n        {/* diff for app / web here ^ */}\n        <ContentProp texts={[\"Last weighings\"]} datas={[]} />\n        <View style={{height:10}} />\n        <FlatList\n          data={Weighings}\n          renderItem={({item, index}) => {\n            if (item === \"__jsogObjectId\") return (<></>);\n            var Weight = WeighingsList[Object.keys(item)[0]]\n            return(\n              <ContentProp texts={[format_Time(Weight.time)]}\n                           datas={[Weight.weight]} \n              />\n            )}\n          }\n            //Setting the number of column\n            numColumns={1}\n            keyExtractor={(item, index) => String(index)}\n          />\n      </View>\n\n      <View style={{height:30}} />\n\n      <View style={[Helpers.borderContainer, Helpers.midWidth]}>\n        <OperationsPanel farm={Object.keys(localDataStore.userData.farms)[0]} penid={CurrentData.penId}/>\n      </View>\n    </View>\n  )\n}\n\nconst PigData_View = (Control, CurrentData, localDataStore) => {\n  /*const connectedDevice = useSelector((state) => state.device.connectedDevice)\n  const DeviceData = useSelector((state) => state.device.deviceData)\n  const connectedState = useSelector((state) => state.device.connectionState)*/\n\n  var Pigs;\n  if (localDataStore && localDataStore.pigs) {\n    Pigs = sortObject(localDataStore.pigs)\n    if (Pigs[CurrentData.TagId]){\n      CurrentData.data = Pigs[CurrentData.TagId]\n    }\n  }\n  \n  if (CurrentData.data && !CurrentData.data.datas) CurrentData.data.datas = {}\n\n  if (!CurrentData.data) {\n    return(\n      <View style={[Helpers.fillRowCenter, Helpers.center, Helpers.logoContainer]}>\n        <Image style={Helpers.fullSize} source={Images.Hexa_icon} resizeMode={'contain'} />\n      </View>\n    )\n  }\n  \n  /*\n    <Row size={1.3}>\n          <Col size={1.5} style={{backgroundColor:\"red\"}}>\n            <Row size={2.25} style={{backgroundColor:\"blue\"}}>\n              <View style={{justifyContent:'center', alignItems: 'center'}}/>\n            </Row>\n            <Row size={1.50}>\n              <Col><Text>Messages</Text></Col>\n              <Col><Text>Errors</Text></Col>\n            </Row>\n          </Col>\n          <Col>\n            {connectedState === ConnectionState.CONNECTED ? (\n              <View style={{...styles.circle, backgroundColor:\"green\", justifyContent:'center', alignItems: 'center'}}>\n                <Text>Device is</Text>\n                <Text>connected</Text>\n              </View>\n            ):(\n              <View style={{...styles.circle, backgroundColor:\"red\", justifyContent:'center', alignItems: 'center'}}>\n                <Text>No Device</Text>\n                <Text>connected</Text>\n              </View>\n            )}\n          </Col>\n        </Row>\n  */\n  var App = Platform.OS === \"android\" || Platform.OS === \"ios\" ? true: false\n  return(\n    <View style={[Helpers.contentContainer, Helpers.fullSize, Helpers.fill]}>\n      {App ? (\n        <View style={[ Helpers.fill, Helpers.row, Helpers.fullWidth]}>\n          <View style={[ Helpers.fill, Helpers.column, {backgroundColor:\"red\"}]}>\n            <View style={[ Helpers.fill, Helpers.row, Helpers.fullWidth, {backgroundColor: \"blue\"}]}>\n              <View style={{justifyContent:'center', alignItems: 'center'}}/>\n            </View>\n            <View style={[ Helpers.fill, Helpers.row, Helpers.fullWidth,]}>\n              <Text>Messages</Text>\n              <Text>Errors</Text>\n            </View>\n          </View>\n          <View style={[ Helpers.fill, Helpers.column]}>\n            {connectedState === ConnectionState.CONNECTED ? (\n              <View style={{...styles.circle, backgroundColor:\"green\", justifyContent:'center', alignItems: 'center'}}>\n                <Text>Device is</Text>\n                <Text>connected</Text>\n              </View>\n            ):(\n              <View style={{...styles.circle, backgroundColor:\"red\", justifyContent:'center', alignItems: 'center'}}>\n                <Text>No Device</Text>\n                <Text>connected</Text>\n              </View>\n            )}\n          </View>\n        </View>\n      ):(<></>)}\n      <View style={[Helpers.buttonContainer, Helpers.midWidth] }>\n        <Button Text={CurrentData.TagId} buttonStyle={{backgroundColor: Colors.AgriDarkblue}}\n          onPress={() => {} }/>\n      </View>\n      <View style={[Helpers.fullWidth]}>\n        <ContentProp ingrid={true} texts={[\"Section\", \"Pen\"]} datas={[CurrentData.data.section, CurrentData.data.pen]} />\n        <View style={{height:20}}/>\n        <View style={Helpers.midWidth, Helpers.colCenter}>\n          <Input\n            label={\"Comment:\"}\n            multiline={true}\n            containerStyle={[{borderWidth:1}]}\n            style={[ApplicationStyles.input]}\n            onChangeText={text => {\n              \n            }}\n            value={\n              \"NONE\"\n            }\n          />\n        </View>\n      </View>\n    </View>\n  )\n}\nconst styles = StyleSheet.create({\n  circle: {\n    width: 125,\n    height: 125,\n    borderRadius: 125/2,\n    marginTop: Metrics.tiny,\n    marginLeft: Metrics.tiny,\n  },\n});\n\nconst mapStateToProps = (state) => {\n  const { firebase } = state\n  return { firebase }\n};\n\nconst mapDispatchToProps  = (dispatch) => {\n  return {\n    getPens: (farmId) => dispatch(FirebaseActions.actionStarting(Actions.FETCH, DataRefs.PENS, {FarmId: farmId})),\n    getWeights: (farmId, penId) => dispatch(FirebaseActions.actionStarting(Actions.FETCH, DataRefs.WEIGHING, {FarmId: farmId, PenId: penId})),\n    getBatch: (farmId, batchId) => dispatch(FirebaseActions.actionStarting(Actions.FETCH, DataRefs.BATCHS, {FarmId: farmId, BatchId: batchId})),\n\n    setFirebaseError: error => dispatch(FirebaseActions.setFirebaseError(error)),\n    setCurrentData: penId => dispatch(FirebaseActions.setCurrentData({type:DataRefs.PENS, penId: penId})),\n    setCurrentDataElement: element => dispatch(FirebaseActions.setCurrentData(element)),\n  }\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(DataDisplay);\n//export default DataDisplay;","import React, { useEffect, Component } from 'react'\nimport { Platform, Text, View, ActivityIndicator, Image, StyleSheet, ScrollView, Dimensions } from 'react-native'\nimport { Input, Icon } from 'react-native-elements'\nimport { useDispatch, useSelector, connect } from 'react-redux'\nimport { bindActionCreators } from 'redux';\n\nimport NavigationService from '../../../Services/NavigationService'\n\nimport FirebaseActions from '../../../Stores/Firebase/Actions'\nimport { Actions, DataRefs, get_DataSpot } from '../../../Stores/Firebase/Selectors'\n\nimport { LineChart } from 'react-native-chart-kit'\nimport { Button, TitleElement, CustomListItem, ContentProp } from '../../../Components'\nimport Style from './UserPanelStyle'\nimport { ApplicationStyles, Helpers, Metrics, Colors } from '../../../Theme'\n\nimport { FlatGrid } from 'react-native-super-grid';\n\nfunction getRandomNumber(low, high) {\n  var r = Math.floor(Math.random() * (high - low + 1)) + low;\n  return r;\n}\n\nfunction getRandomColor() {\n  var red_range = [10, 250];\n  var green_range = [10, 250];\n  var blue_range = [10, 250];\n  var a_range = [0.2, 1];\n\n  var red = getRandomNumber(red_range[0], red_range[1]);\n  var green = getRandomNumber(green_range[0], green_range[1]);\n  var blue = getRandomNumber(blue_range[0], blue_range[1]);\n\n  var alpha = getRandomNumber(a_range[0] * 100, a_range[1] * 100) / 100;\n\n  return {\n    r: red,\n    g: green,\n    b: blue,\n    a: alpha,\n    rgbaValue: 'rgba(' + red + ',' + green + ',' + blue + ',' + alpha + ')'\n  }\n}\n\nconst window = Dimensions.get(\"window\");\nconst screen = Dimensions.get(\"screen\");\n\nfunction AccumulateTime(Time, PeriodeLength){\n  var NewTime = Time\n  switch(PeriodeLength) {\n    case \"Days\":\n      NewTime.setDate(NewTime.getDate() + 1)\n      break;\n    case \"Month\":\n      NewTime.setMonth(NewTime.getMonth() + 1)\n      break;\n    case \"Weeks\":\n    default:\n      NewTime.setDate(NewTime.getDate() + 7)\n      break;\n  }\n  return NewTime;\n}\n\nfunction WeightsToGraphData(Legends, TempGraph_DataLength, Pens, PenWeighings, StartDate, _EndDate = undefined) {\n  var DataSets = []\n  var EndDate = 0;\n\n  Legends.forEach(Pen => {\n    var DataSet = []\n    var DataSetX = []\n\n    if (PenWeighings[Pen]) {\n      var Weighings = PenWeighings[Pen];\n      if (Object.keys(Weighings).length >= 1) {\n        Object.keys(Weighings).sort(function(a, b) {\n          return Weighings[a].time - Weighings[b].time;\n        }).forEach(key => {\n          var data = Weighings[key]\n          if (data.weight && data.time >= StartDate && !(_EndDate && data.time > _EndDate)) {\n            var weight = data.weight\n            if (Pens && Pens[Pen] && Pens[Pen].datas && Pens[Pen].datas.count){\n              weight = weight / Pens[Pen].datas.count\n            }\n            DataSet.push(weight)\n            DataSetX.push(data.time)\n            if (!_EndDate && data.time > EndDate){\n              EndDate = data.time\n            }\n          }\n        });\n      }\n    }\n    while(DataSet.length < TempGraph_DataLength) {\n      DataSet.push(null)\n      DataSetX.push(null)\n    }\n  \n    var color = getRandomColor();\n    //if (DataSet.some(function(i) { return i !== null; })) {\n      DataSets.push({Pen: Pen, data: DataSet, dataX: DataSetX, color:(opacity = 1) => color.rgbaValue})\n    //}\n  });\n  return {DataSets, EndDate};\n}\n\nclass DataDisplay extends Component {\n  constructor(props) {\n    super(props);\n\n    const {TempGraph, Legends, DataSets, StartDate, EndDate } = this.setData(props)\n    this.state = {\n      dimensions: {window, screen},\n\n      TempGraph: TempGraph,\n      Legends: Legends,\n      DataSets: DataSets,\n      StartDate: StartDate,\n      EndDate: EndDate,\n\n      Labels: [],\n      ActiveIndex: 0,\n      ActiveLength: \"Batch\",\n      ActiveDataSets: DataSets,\n      ActiveStartDate: StartDate,\n      ActiveEndDate: EndDate,\n\n      ViewPoint: null,\n    }\n  }\n\n  setData(Props) {\n    const localDataStore = Props.firebase.localDataStore;\n    const CurrentData = Props.firebase.currentData;\n\n    var TempGraph = null //Template Graph\n    var Legends = []     //Name lables\n    var DataSets = []    //Data Points\n\n    var D = new Date()\n    var StartDate = D.getTime()\n    var EndDate = new Date(D.setDate(D.getDate()+(7*8))) //Default timespand is 2 months or 8 weeks (will be changed acording to batch)\n\n    if (localDataStore) {\n      if (localDataStore.batchs && CurrentData.batchId && \n          localDataStore.graphs && CurrentData.curveId) {\n        var TempGraph = localDataStore.graphs[CurrentData.curveId];\n        if (TempGraph) {\n          TempGraph.name = CurrentData.curveId\n        } else {\n          return {TempGraph, Legends, DataSets, StartDate, EndDate }\n        }\n        var Batch = localDataStore.batchs[CurrentData.batchId];\n\n        //Find Startdate\n        StartDate = Batch.time\n        //Find Batch Pens (Legends)\n        Legends = Legends.concat(Object.keys(Batch.pens).reverse().filter(e => (e !== '__jsogObjectId')))\n\n        var DataX = []\n        //#region Find Template X values and EndDate\n        if (!TempGraph.periode){\n          TempGraph.periode = \"Weeks\"\n        }\n        var currentTime = new Date(StartDate)\n        for (var i = 0; i < TempGraph.data.length; i++) {\n          DataX.push(currentTime.getTime())\n          if (i < TempGraph.data.length -1) {\n            currentTime = new Date(AccumulateTime(currentTime, TempGraph.periode))\n          }\n        }\n        EndDate = currentTime.getTime();\n        DataX.push(EndDate)\n        //#endregion\n\n        //Set TempGraph data\n        DataSets.push({\n          data: TempGraph.data,\n          dataX: DataX,\n          color: (opacity = 0.1) => `rgba(0, 0, 0, ${opacity})`, // optional\n        })\n      }\n\n      //Find DataSets from Legends\n      if (localDataStore.weighings) {\n        var TempData = DataSets\n        var TempEndDate = EndDate\n        var NextEnd = new Date(AccumulateTime(new Date(TempEndDate),TempGraph.periode)).getTime()\n        var {DataSets, EndDate} = WeightsToGraphData(Legends, TempGraph.data.length, localDataStore.pens, localDataStore.weighings, StartDate, NextEnd)\n        DataSets = TempData.concat(DataSets)\n        if (TempEndDate > EndDate) {\n          EndDate = TempEndDate\n        }\n\n        Legends = Legends.filter(e => (e !== '__jsogObjectId' && (e === TempGraph.name || DataSets.some(i => i.Pen === e))));\n        Legends.unshift(TempGraph.name)\n      }\n    }\n    return {TempGraph, Legends, DataSets, StartDate, EndDate }\n  }\n\n  setGraphPeriode(ActiveLength = this.state.ActiveLength) {\n    var Labels = []\n\n    var StartDate = this.state.StartDate\n    var EndDate = this.state.EndDate\n    var ActiveIndex = this.state.ActiveIndex\n\n    var TemplatePeriode = this.state.TempGraph.periode\n    var CurrentDate = new Date(StartDate)\n    var TempActiveDataSet = this.state.ActiveDataSets;\n\n    var Today = new Date().getTime()\n    switch(this.state.ActiveLength) {\n      case \"Days\":\n        for (var i = 0; (i < ActiveIndex || ActiveIndex === -1); i++){\n          var getNewDate = new Date(AccumulateTime(CurrentDate, this.state.ActiveLength))\n          if (ActiveIndex === -1 && getNewDate > Today) {\n            ActiveIndex = i-1;\n            break;\n          }\n          CurrentDate = getNewDate;\n        }\n        StartDate = CurrentDate.getTime();\n        Labels.push(CurrentDate.getDate() + \"/\" + (CurrentDate.getMonth() + 1))\n        \n        CurrentDate = new Date(AccumulateTime(CurrentDate, this.state.ActiveLength))\n        Labels.push(CurrentDate.getDate() + \"/\" + (CurrentDate.getMonth() + 1))\n\n        EndDate = CurrentDate.getTime();\n        CurrentDate = new Date(AccumulateTime(CurrentDate, this.state.ActiveLength))\n        break;\n      case \"Weeks\":\n        for (var i = 0; (i < ActiveIndex || ActiveIndex === -1); i++){\n          var getNewDate = new Date(AccumulateTime(CurrentDate, this.state.ActiveLength))\n          if (ActiveIndex === -1 && getNewDate > Today) {\n            ActiveIndex = i;\n            break;\n          }\n          CurrentDate = getNewDate;\n        }\n        StartDate = CurrentDate.getTime();\n\n        for (var i = 0; i <= 7; i++) {\n          Labels.push(CurrentDate.getDate() + \"/\" + (CurrentDate.getMonth() + 1))\n          EndDate = CurrentDate.getTime();\n          CurrentDate = new Date(AccumulateTime(CurrentDate, \"Days\"))\n        }\n        break;\n      case \"Batch\":\n      default:\n        while (CurrentDate.getTime() <= EndDate) {\n          switch (TemplatePeriode){\n            case \"Days\":\n              Labels.push(CurrentDate.getDate() + \"/\" + (CurrentDate.getMonth() + 1))\n              break;\n            case \"Month\":\n              Labels.push(CurrentDate.getDate() + \"/\" + (CurrentDate.getMonth() + 1))\n              break;\n            case \"Weeks\":\n            default:\n              Labels.push(CurrentDate.getDate() + \"/\" + (CurrentDate.getMonth() + 1))\n              break;\n          }\n          CurrentDate = new Date(AccumulateTime(CurrentDate, TemplatePeriode))\n        }\n        break;\n    }\n\n    var ActiveDataSets = []\n    if (this.ActiveLength === \"Batch\") ActiveDataSets = this.state.DataSets;\n    else {\n      var End = AccumulateTime(new Date(EndDate), this.state.ActiveLength).getTime()\n      this.state.DataSets.forEach(element => {\n        var NewData = {...element, data:[], dataX: []}\n\n        var first = null\n        var last = null\n        if (new Date(element.dataX[0]).getTime() <= EndDate) {\n          for(var i = 0; i < element.data.length; i++) {\n            if (new Date(element.dataX[i]).getTime() >= StartDate) {\n              NewData.data.push(element.data[i])\n              NewData.dataX.push(element.dataX[i])\n\n              var time = AccumulateTime(new Date(element.dataX[i]), this.state.ActiveLength)\n              if (time.getTime() > End){\n                if (element.dataX.length -1 >= i) last = i\n                break;\n              }\n            } else if (element.dataX[i] !== null) {\n              first = i\n            }\n          }\n          if (first !== null && NewData.dataX[0] > StartDate && element.data.length >= first+1) {\n            var {ExValue, VirData} = get_DataSpot([element.dataX[first], element.dataX[first+1]], [element.data[first], element.data[first +1]], StartDate, element.data[first], element.dataX[first])\n            NewData.data.unshift(ExValue)\n            NewData.dataX.unshift(StartDate)\n          }\n          if (last != null) {\n            //NewData.data.push(ExValue)\n            //NewData.dataX.push(StartDate)\n          }\n        }\n\n        ActiveDataSets.push(NewData)\n      });\n    }\n\n    var lastDataPoint = this.state.DataSets[0].dataX[this.state.DataSets[0].dataX.length-1]\n    if (this.state.ActiveIndex > 0 && ActiveDataSets[0].data.length === 0){\n      var i = this.state.ActiveIndex\n      i = i-1;\n      this.setState({\n        ActiveIndex: i\n      })\n    } else {\n      this.setState({\n        ActiveLength: ActiveLength,\n        \n        Labels: Labels,\n        ActiveDataSets: ActiveDataSets,\n        ActiveStartDate: StartDate,\n        ActiveEndDate: EndDate,\n        ActiveIndex: ActiveIndex,\n      }, () => {\n        this.forceUpdate()\n      })\n    }\n  }\n\n  getData() {\n    this.props.setFirebaseError(null)\n\n    const localDataStore = this.props.firebase.localDataStore;\n    const CurrentData = this.props.firebase.currentData;\n\n    if (CurrentData && CurrentData.batchId && localDataStore.batchs[CurrentData.batchId]){\n      const batchData = localDataStore.batchs[CurrentData.batchId]\n      \n      Object.keys(batchData.pens).forEach(Pen => {\n        if (Pen === \"__jsogObjectId\") return null\n        this.props.getPen(Object.keys(localDataStore.userData.farms)[0], Pen)\n        this.props.getWeights(Object.keys(localDataStore.userData.farms)[0], Pen)\n      })\n\n      var TempGraph = \"\"\n      if (CurrentData.curveId) {\n        TempGraph = CurrentData.curveId;\n      }\n      this.props.getCurve(Object.keys(localDataStore.userData.farms)[0], TempGraph)\n    }\n  }\n\n  checkData(props) {\n    if (!props.firebase || props.firebase.firebaseUser === null) {\n      NavigationService.navigate(\"AuthStack\")\n    }\n    if (!props.firebase.currentData || !props.firebase.currentData.batchId){\n      NavigationService.navigate(\"UserBatchs\")\n    }\n    //Mabye call check for localdataStore get farms..\n  }\n\n  onChange = ({ window, screen }) => {\n    this.setState({\n      dimensions: {window, screen},\n    })\n  };\n\n  componentDidUpdate(prevProps, prevState) {\n    if (this.props !== prevProps) {\n      this.checkData(this.props);\n      if (this.props.firebase.localDataStore) {\n        if (this.props.firebase.localDataStore.graphs && this.props.firebase.localDataStore.weighings) {\n          const {TempGraph, Legends, DataSets, StartDate, EndDate } = this.setData(this.props)\n\n          if (JSON.stringify(this.state.TempGraph)!==JSON.stringify(TempGraph) ||\n              JSON.stringify(this.state.Legends)!==JSON.stringify(Legends) ||\n              JSON.stringify(this.state.DataSets)!==JSON.stringify(DataSets) ||\n\n              JSON.stringify(this.state.StartDate)!==JSON.stringify(StartDate) ||\n              JSON.stringify(this.state.EndDate)!==JSON.stringify(EndDate)) {\n            this.setState({\n              TempGraph: TempGraph,\n              Legends: Legends,\n              DataSets: DataSets,\n        \n              StartDate: StartDate,\n              EndDate: EndDate,\n            })\n          }\n        }\n      }\n    }\n    \n    if (this.state !== prevState) {\n      if (this.state.ActiveLength != prevState.ActiveLength || this.state.ActiveIndex != prevState.ActiveIndex) {\n        this.setGraphPeriode(this.state.ActiveLength)\n      }\n    }\n  }\n\n  componentDidMount() {\n    this.checkData(this.props);\n    this.getData();\n    Dimensions.addEventListener(\"change\", this.onChange);\n    this.setGraphPeriode(this.state.ActiveLength)\n  }\n\n  componentWillUnmount(){\n    Dimensions.removeEventListener(\"change\", this.onChange);\n  }\n\n  render() {\n    const IsLoading = this.props.firebase.firebaseIsLoading\n    const firebaseUser = this.props.firebase.firebaseUser\n    const firebaseErrorMessage = this.props.firebase.firebaseErrorMessage\n\n    const localDataStore = this.props.firebase.localDataStore //Farmid\n\n    var wide = this.state.dimensions.window.width>1000?true:false\n\n    var height = ((this.state.dimensions.window.height - (70*2)) - (Metrics.medium * (this.state.ViewPoint?8:6))) - (wide?55:85)\n    if (Platform.OS === 'ios' || Platform.OS === 'android') height += 90\n    var width = ((this.state.dimensions.window.width - (Metrics.normal * 2))*2) / (wide?2.05:1)\n    \n    var Animals = 0\n    this.state.Legends.forEach(element => {\n      if (localDataStore && localDataStore.pens && localDataStore.pens[element]) {\n        var Pen = localDataStore.pens[element]\n        if (Pen.datas && Pen.datas.count) {\n          Animals += Pen.datas.count;\n        }\n      }\n    });\n\n    var Dif_Time = Date.now() - this.state.StartDate\n    var Days = Dif_Time / (1000 * 3600 * 24);\n    Days = Days.toFixed(0)\n\n    var Weight = 0;\n    //var {ExValue, VirData} = get_DataSpot([Batch.time, EndTime], [Curve.data[Keys[index]], Curve.data[index +1]], new Date().getTime(), weight, WeighingTime)\n    //Weight = ExValue;\n\n    /*var time = Days;\n    if (this.state.TempGraph.periode === \"Weeks\") {\n      time = time / 7\n    }\n    time = parseInt(time.toFixed(0))\n\n    if (time < this.state.DataSets[0].dataX.length) {\n      var {ExValue, VirData} = get_DataSpot([this.state.DataSets[0].dataX[time], this.state.DataSets[0].dataX[time+1]], [this.state.DataSets[0].data[time], this.state.DataSets[0].data[time +1]], Date.now(), null,null)\n      Weight = ExValue.toFixed(2)\n    }*/\n\n    var AverageGrowth = 0;\n    for(var i = 0; i < this.state.TempGraph.data.length; i++) { \n      var value = this.state.TempGraph.data[i]\n      if (value === \"\" || value === null) value = 0\n      value = parseFloat(value)\n\n      if (i === 0) continue;\n      var Growth = value - this.state.TempGraph.data[i-1]\n      AverageGrowth = (AverageGrowth + Growth) / 2\n    }\n    AverageGrowth = AverageGrowth.toFixed(3)\n    \n    var StartDate = new Date(this.state.StartDate).getDate() + \"/\" + (new Date(this.state.StartDate).getMonth() +1) + \"/\" + new Date(this.state.StartDate).getFullYear()\n    var EndDate = new Date(this.state.EndDate).getDate() + \"/\" + (new Date(this.state.EndDate).getMonth() +1) + \"/\" + new Date(this.state.EndDate).getFullYear()\n\n    return(\n      <ScrollView style={[Helpers.fullSize, Helpers.fill]}>\n      <View\n        style={[\n          Helpers.mainContainer,\n        ]}\n      >\n        <View style={[Helpers.contentContainer, Helpers.fullSize, Helpers.fill]}>\n          {firebaseErrorMessage ? (\n            <Text style={ApplicationStyles.error}>{firebaseErrorMessage}</Text>\n          ):(<></>)}\n          <TitleElement Text={this.props.firebase.currentData.batchId?this.props.firebase.currentData.batchId:\"-NON-\"}/>\n          <View>\n            <View style={[Helpers.fullWidth, {justifyContent:'center'}]}>\n              <FlatGrid\n                itemDimension={120}\n                spacing={10}\n\n                data={[\n                  {title: 'Animals', data: Animals},\n                  {title: 'Day', data: Days},\n                  {title: 'Weight', data: Weight},\n                  {title: 'Average growth', data: AverageGrowth}\n                ]}\n                renderItem={({ item }) => (\n                  <View style={[Helpers.borderContainer, {textAlign:'center'}]}>\n                    <Text>{item.title}</Text>\n                    <Text>{item.data}</Text>\n                  </View>\n                )}\n                />\n            </View>\n            <View style={[Helpers.fullWidth, {justifyContent:'center'}]}>\n              <FlatGrid\n                itemDimension={120}\n                spacing={10}\n\n                data={[\n                  {title: 'Start', data: StartDate},\n                  {title: 'End Forecast', data: EndDate},\n                  {title: 'Target Weight', data: this.state.TempGraph.data[this.state.TempGraph.data.length -1]}\n                ]}\n                renderItem={({ item }) => (\n                  <View style={[Helpers.borderContainer, {textAlign:'center'}]}>\n                    <Text>{item.title}</Text>\n                    <Text>{item.data}</Text>\n                  </View>\n                )}\n                />\n            </View>\n          </View>\n          <View style={[Helpers.contentContainer, Helpers.fullSize, Helpers.fill, {marginHorizontal: 0, paddingHorizontal:-20}]}>\n            <ScrollView horizontal={true} showsHorizontalScrollIndicator={wide?false:true} style={[Helpers.fullSize]}>\n              {this.state.TempGraph && (this.state.Labels && this.state.Labels.length > 0) && (this.state.ActiveDataSets && this.state.ActiveDataSets.length > 0)?(\n              <LineChart\n                //bezier\n                style={[{marginLeft: -15, marginRight:Metrics.normal}]} //??? TODO: check if works on web.. not cut in margin...\n                width={width}\n                height={height}\n\n                data={{\n                  labels: this.state.Labels,\n                  xMinMax: [this.state.ActiveStartDate, this.state.ActiveEndDate, this.state.Labels.length -1],\n                  legend: this.state.Legends.slice(0, this.state.ActiveDataSets.length),\n                  datasets: this.state.ActiveDataSets,\n                }}\n\n                onDataPointClick={(data) => {\n                  this.setState({\n                    ViewPoint: data\n                  })\n                }}\n\n                withShadow={false}\n                withVerticalLines={true}\n                fromZero={false}\n                segments={15} //Horizontal-Lines\n                \n                verticalLabelRotation={0} //Not Working in browser\n                xLabelsOffset={0}\n\n                chartConfig={{\n                  backgroundColor: Colors.white,\n                  backgroundGradientFrom: Colors.white,  //#FFFFFF\n                  backgroundGradientTo: Colors.white,     \n                  decimalPlaces: 1, // optional, defaults to 2dp\n                  color: (opacity = 1) => `rgba(0, 0, 0, ${opacity})`,  //Lines / Grid\n                  labelColor: (opacity = 1) => `rgba(0, 0, 0, ${opacity})`, //Lables\n                  style: {\n                    borderRadius: 16,\n                    height: height,\n                  },\n                  propsForDots: {\n                    r: \"5\",\n                    strokeWidth: \"0.5\",\n                    stroke: Colors.white\n                  }\n                }}\n              />):(<></>)}\n            </ScrollView>\n          </View>\n          <View style={[Helpers.borderContainer, Helpers.rowCenter]}>\n            <View style={{paddingRight: 2.5}}>\n              <Icon name=\"md-arrow-back\" type='ionicon' size={25} color=\"black\" onPress={() => {\n                if (this.state.ActiveIndex != 0){\n                  var i = this.state.ActiveIndex;\n                  i = i-1;\n                  this.setState({\n                    ActiveIndex: i\n                  })\n                }\n              }}/>\n            </View>\n            <Button Text=\"Day view\" buttonStyle={{width:wide?100:80}}\n              onPress={() => {\n                this.setState({\n                  ActiveIndex: -1,\n                  ActiveLength: \"Days\"\n                })\n              } }/>\n            <Button Text=\"Week view\" buttonStyle={{width:wide?100:80, marginLeft:2.5}}\n              onPress={() => {\n                this.setState({\n                  ActiveIndex: -1,\n                  ActiveLength: \"Weeks\"\n                })\n              } }/>\n            <Button Text=\"Full Batch\" buttonStyle={{width:wide?100:80, marginLeft:2.5}}\n              onPress={() => {\n                this.setState({\n                  ActiveIndex: 0,\n                  ActiveLength: \"Batch\"\n                })\n              } }/>\n            <View style={{paddingLeft: 2.5}}>\n              <Icon name=\"md-arrow-forward\" type='ionicon' size={25} color=\"black\" onPress={() => {\n                var i = this.state.ActiveIndex;\n                i = i+1;\n                this.setState({\n                  ActiveIndex: i\n                })\n              }}/>\n            </View>\n          </View>\n          {!localDataStore.batchs[this.props.firebase.currentData.batchId].state || localDataStore.batchs[this.props.firebase.currentData.batchId].state !== \"Closed\"?(\n            <CurveEditor control={this} props={this.props} state={this.state} />\n          ):(<></>)}\n        </View>\n        {IsLoading &&\n          <ActivityIndicator style={Helpers.loadingContainer} size='large' />\n        }\n      </View>\n      </ScrollView>\n    )\n  }\n}\n\nconst CurveEditor = (props) => {\n  if (Platform.OS === 'ios' || Platform.OS === 'android') {\n    if (props.state.ViewPoint){\n      var TimeText = props.state.Labels[props.state.ViewPoint.index]\n      if (props.state.ViewPoint.dataset.dataX) {\n        var Time = new Date(props.state.ViewPoint.dataset.dataX[props.state.ViewPoint.index])\n        TimeText = Time.getFullYear() + \".\" + (Time.getMonth() +1) + \".\" + Time.getDate()\n      }\n\n      var Data = props.state.ViewPoint.value\n      return (\n        <View style={[Helpers.buttonContainer, Helpers.fullWidth, Helpers.rowCenter, {maxHeight:100}] }>\n          <View style={[Helpers.colCenter, Helpers.borderContainer, {borderRadius:0}]}>\n            <Text>{TimeText}</Text>\n          </View>\n          <View style={[Helpers.colCenter, Helpers.borderContainer, {borderRadius:0}]}>\n            <Text>{Data} Kg.</Text>\n          </View>\n        </View>\n      )\n    }\n    else return(<></>)\n  } else {\n    const [Point, setPoint] = React.useState(0)\n    if (!props.state.TempGraph) {\n      return(<></>)\n    }\n    else {\n      return (\n        <View style={[Helpers.buttonContainer, Helpers.fullWidth, Helpers.rowCenter, {maxHeight:100,marginTop:10}] }>\n          <View style={{padding:6, paddingRight: 15}}>\n            <Icon name=\"md-arrow-back\" type='ionicon' size={25} color=\"black\" onPress={() => {\n              var index = Point;\n              index = index -1\n              if (index < 0) {\n                index = props.state.TempGraph.data.length -1\n              }\n              setPoint(index)\n            }}/>\n          </View>\n          <Input\n              type='number'\n              step=\"0.1\"\n\n              label={props.state.Labels[Point]}\n              containerStyle={[{width:\"auto\", borderWidth:1}]}\n              style={[ApplicationStyles.input, Helpers.borderContainer, {borderRadius:0}]}\n\n              onChange= {(evt) => {\n                var text = evt.target.value\n                if (!isNaN(text) || text.endsWith('.') && text.split('.').length <= 2) {\n                  var NewData = props.state.TempGraph.data;\n                  NewData[Point] = text\n                  \n                  props.control.setState({\n                    state: props.state,\n                    TempGraph: {...props.state.TempGraph, data: NewData}\n                  })\n                  props.control.setGraphPeriode(props.state.ActiveLength)\n                }\n              }}\n              /*onChangeText={text => {\n                if (!isNaN(text) || text.endsWith('.') && text.split('.').length <= 2) {\n                  var NewData = props.state.TempGraph.data;\n                  if (text === \"\" || text === null) text = 0\n                  if (text.endsWith('.')) text = text + \"0\"\n                  NewData[Point] = parseFloat(text)\n                  console.log(NewData[Point], text)\n                  props.control.setState({\n                    TempGraph: {...props.state.TempGraph, data: NewData}\n                  })\n\n                  props.control.forceUpdate()\n                }\n              }}*/\n              value={\n                props.state.TempGraph.data[Point]\n              }\n            />\n          <View style={{padding:6, paddingRight: 15}}>\n            <Icon name=\"md-arrow-forward\" type='ionicon' size={25} color=\"black\" onPress={() => {\n              var index = Point;\n              index = index +1\n              if (index > props.state.TempGraph.data.length -1){\n                index = 0\n              }\n              setPoint(index)\n            }}/>\n          </View>\n          <Input\n              label=\"Curve Name\"\n              containerStyle={[{width:\"auto\", borderWidth:1}]}\n              style={[ApplicationStyles.input, Helpers.borderContainer, {borderRadius:0}]}\n              \n              onChangeText={text => {\n                /*var name = text;\n                name = name.replace(' ', '_')\n                if (isNaN(name[0])){\n                  var NewLegends = props.state.Legends;\n                  NewLegends[0] = name\n                  props.control.setState({\n                    TempGraph: {...props.state.TempGraph, name: name},\n                    Legends: NewLegends\n                  })\n                }*/\n              }}\n              value={\n                props.state.TempGraph.name\n              }\n            />\n        </View>\n      )\n    }\n  }\n} \n\n/*\n<Button Text=\"Save\" buttonStyle={{width:100, marginLeft:20}}\n            onPress={() => {\n              var farmid = Object.keys(props.props.firebase.localDataStore.userData.farms)[0]\n              props.props.setCurve(farmid, props.state.TempGraph)\n            } }/>\n*/\n\nconst mapStateToProps = (state) => {\n  const { firebase } = state\n  return { firebase }\n};\n\nconst mapDispatchToProps  = (dispatch) => {\n  return {\n    setFirebaseError: error => dispatch(FirebaseActions.setFirebaseError(error)),\n    \n    getPen: (farmId, penId) => dispatch(FirebaseActions.actionStarting(Actions.FETCH, DataRefs.PENS, {FarmId: farmId, PenId: penId})),\n    getWeights: (farmid, penId) => dispatch(FirebaseActions.actionStarting(Actions.FETCH, DataRefs.WEIGHING, {FarmId: farmid, PenId: penId, limitTo: 99})),\n\n    getBatch: (farmId, batchId) => dispatch(FirebaseActions.actionStarting(Actions.FETCH, DataRefs.BATCHS, {FarmId: farmId})),\n    getCurve: (farmid, curveid) => dispatch(FirebaseActions.actionStarting(Actions.FETCH, DataRefs.GRAPH, {FarmId: farmid, GraphId: curveid})),\n    setCurve: (farmid, curve) => dispatch(FirebaseActions.actionStarting(Actions.CREATE, DataRefs.GRAPH, {FarmId: farmid, Graph: curve}))\n  }\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(DataDisplay);\n//export default DataDisplay;","import React from 'react'\nimport { createAppContainer } from 'react-navigation'\nimport { createStackNavigator } from 'react-navigation-stack'\nimport { TouchableOpacity, View, Text } from 'react-native'\nimport { Icon } from 'react-native-elements'\n\nimport NavigationService from '../Services/NavigationService'\n\nimport UserFrontScreen from '../Containers/Cloud/UserPanel/FrontScreen'\nimport UserDashBoardScreen from '../Containers/Cloud/UserPanel/Dashboard'\nimport UserPigsScreen from '../Containers/Cloud/UserPanel/Pigs'\nimport UserPensScreen from '../Containers/Cloud/UserPanel/Pens'\nimport UserBatchsScreen from '../Containers/Cloud/UserPanel/Batchs'\nimport UserCurvesScreen from '../Containers/Cloud/UserPanel/GrowthCurves'\n\nimport UserOperationsScreen from '../Containers/Cloud/UserPanel/Operations'\nimport Weighing from '../Containers/Cloud/UserPanel/Weighing'\n\nimport UserDataEditor from '../Containers/Cloud/UserPanel/DataEditor'\nimport UserDataDisplay from '../Containers/Cloud/UserPanel/DataDisplay'\nimport UserDataPlotter from '../Containers/Cloud/UserPanel/DataPlotter'\n\nimport { ApplicationStyles } from '../Theme'\n\n/**\n * The root screen contains the application's navigation.\n *\n * @see https://reactnavigation.org/docs/en/hello-react-navigation.html#creating-a-stack-navigator\n */\nconst StackNavigator = createStackNavigator(\n  {\n    // Create the application routes here (the key is the route name, the value is the target screen)\n    // See https://reactnavigation.org/docs/en/stack-navigator.html#routeconfigs\n    \n    // The main application screen is our \"ExampleScreen\". Feel free to replace it with your\n    // own screen and remove the example.\n    \n    UserFront: {\n      screen: UserFrontScreen,\n      navigationOptions: () => ({\n        title: 'User Data',\n        headerLeft: () => (\n          <View style={{padding:6, paddingLeft: 15}}>\n            <Icon type='ionicon' name=\"md-arrow-back\" size={25} color=\"black\" onPress={() => NavigationService.navigate('MainStack')}/>\n          </View>\n        ),\n      }),\n      path: 'user_front',\n    },\n\n    UserDashBoard: {\n      screen: UserDashBoardScreen,\n      navigationOptions: () => ({\n        title: 'Dash Board',\n      }),\n      path: 'user_dashboard',\n    },\n\n    UserPigs: {\n      screen: UserPigsScreen,\n      navigationOptions: () => ({\n        title: 'Pigs',\n      }),\n      path: 'user_pigs',\n    },\n\n    UserPens: {\n      screen: UserPensScreen,\n      navigationOptions: () => ({\n        title: 'Pens',\n      }),\n      path: 'user_pens',\n    },\n\n    UserBatchs: {\n      screen: UserBatchsScreen,\n      navigationOptions: () => ({\n        title: 'Batchs',\n      }),\n      path: 'user_batchs',\n    },\n\n    UserCurves: {\n      screen: UserCurvesScreen,\n      navigationOptions: () => ({\n        title: 'Curves',\n      }),\n      path: 'user_curves',\n    },\n\n    /**************** Operations */\n    UserOperations: {\n      screen: UserOperationsScreen,\n      navigationOptions: () => ({\n        title: 'Operations',\n      }),\n      path: 'user_operations',\n    },\n\n    WeighingOperations: {\n      screen: Weighing,\n      navigationOptions: () => ({\n        title: 'Operations',\n      }),\n      path: 'user_operations',\n    },\n\n    /**************** Data Displays */\n    DataEditor: {\n      screen: UserDataEditor,\n      navigationOptions: () => ({\n        title: 'User Data',\n      }),\n      path: 'user_dataedtior',\n    },\n\n    DataDisplay: {\n      screen: UserDataDisplay,\n      navigationOptions: () => ({\n        title: 'User Data',\n      }),\n      path: 'user_datadisplay',\n    },\n\n    DataPlotter: {\n      screen: UserDataPlotter,\n      navigationOptions: () => ({\n        title: 'User Data',\n      }),\n      path: 'user_dataplotter',\n    },\n  },\n  {\n    initialRouteName: 'UserFront', \n\n    // See https://reactnavigation.org/docs/en/stack-navigator.html#stacknavigatorconfig\n    headerMode: 'float',\n    defaultNavigationOptions:{\n      headerTitleAlign: 'center',\n      headerTitleStyle:{...ApplicationStyles.navigationHeader},\n      headerRight: () => (<View style={{padding:6}}></View>),\n    },\n  }\n)\n\nexport default StackNavigator\n","import React from 'react'\nimport { createAppContainer } from 'react-navigation'\nimport { createStackNavigator } from 'react-navigation-stack'\nimport { TouchableOpacity, Icon, View, Text } from 'react-native'\n\nimport SplashScreen from '../Containers/SplashScreen/SplashScreen'\nimport DeepLinkingScreen from '../Containers/DeepLinking/DeepLinkingScreen'\n\nimport FrontNavigation from '../Navigators/FrontNavigator'\nimport AuthNavigation from '../Navigators/AuthNavigator'\n\nimport UserPanelNavigation from '../Navigators/UserPanelNavigator'\nimport { ApplicationStyles } from '../Theme'\n\n/**\n * The root screen contains the application's navigation.\n *\n * @see https://reactnavigation.org/docs/en/hello-react-navigation.html#creating-a-stack-navigator\n */\nconst StackNavigator = createStackNavigator(\n  {\n    // Create the application routes here (the key is the route name, the value is the target screen)\n    // See https://reactnavigation.org/docs/en/stack-navigator.html#routeconfigs\n    SplashScreen: {\n      screen: SplashScreen,\n      navigationOptions: () => ({\n        headerShown: false,\n      }),\n    },\n\n    MainStack: FrontNavigation, // Called By StartupSaga.js\n    \n    AuthStack: AuthNavigation, // All user pages\n\n    UserPanel: UserPanelNavigation,\n\n    DeepLinkingScreen: {\n      screen: DeepLinkingScreen,\n      path: 'deeplink',\n    },\n  },\n  {\n    // By default the application will show the splash screen\n    initialRouteName: 'SplashScreen',\n    // See https://reactnavigation.org/docs/en/stack-navigator.html#stacknavigatorconfig\n    headerMode: 'none',\n    defaultNavigationOptions:{\n      headerTitleAlign: 'center',\n      headerRight: () => (<View style={{padding:6}}></View>),\n    },\n  }\n)\n\nexport default createAppContainer(StackNavigator)\n","import React, { useEffect } from 'react'\nimport { View } from 'react-native'\nimport { useDispatch } from 'react-redux'\n\nimport NavigationService from '../../Services/NavigationService'\nimport AppNavigator from '../../Navigators/AppNavigator'\n\nimport StartupActions from '../../Stores/Startup/Actions'\nimport { Helpers } from '../../Theme'\n\nconst RootScreen = () => {\n  // Deep linking prefix\n  const prefix = 'agrisysapp://';\n  \n  const dispatch = useDispatch()\n\n  useEffect(() => {\n    dispatch(StartupActions.startup())\n  }, [])\n\n  return (\n    <View style={Helpers.fill}>\n      <AppNavigator\n        // Initialize the NavigationService (see https://reactnavigation.org/docs/en/navigating-without-navigation-prop.html)\n        ref={(navigatorRef) => {\n          NavigationService.setTopLevelNavigator(navigatorRef)\n        }}\n        uriPrefix={prefix}\n      />\n    </View>\n  )\n}\n\nexport default RootScreen\n","import { combineReducers } from 'redux'\nimport configureStore from './CreateStore'\nimport rootSaga from '../Sagas'\n\nimport { reducer as ExampleReducer } from './Example/Reducers'\nimport { reducer as FirebaseReducer } from './Firebase/Reducers'\n\nexport default () => {\n  const rootReducer = combineReducers({\n    /**\n     * Register your reducers here.\n     * @see https://redux.js.org/api-reference/combinereducers\n     */\n    example: ExampleReducer,\n    firebase: FirebaseReducer,\n  })\n\n  return configureStore(rootReducer, rootSaga)\n}\n","import React from 'react'\nimport { Provider } from 'react-redux'\nimport { PersistGate } from 'redux-persist/lib/integration/react'\n\nimport createStore from './Src/Stores'\nimport RootScreen from './Src/Containers/Root/RootScreen'\n\nconst { store, persistor } = createStore()\n\nconst App = () => (\n  <Provider store={store}>\n    {/**\n     * PersistGate delays the rendering of the app's UI until the persisted state has been retrieved\n     * and saved to redux.\n     * The `loading` prop can be `null` or any react instance to show during loading (e.g. a splash screen),\n     * for example `loading={<SplashScreen />}`.\n     * @see https://github.com/rt2zz/redux-persist/blob/master/docs/PersistGate.md\n     */}\n    <PersistGate loading={null} persistor={persistor}>\n      <RootScreen />\n    </PersistGate>\n  </Provider>\n);\n\nexport default App\n","module.exports = __webpack_public_path__ + \"static/media/Home.1fff8434.png\";","module.exports = __webpack_public_path__ + \"static/media/Dashboard.26766c7a.png\";","module.exports = __webpack_public_path__ + \"static/media/System.7e4af00c.png\";","module.exports = __webpack_public_path__ + \"static/media/Feed-Curves.da739887.png\";","module.exports = __webpack_public_path__ + \"static/media/User.d73be9fd.png\";","module.exports = __webpack_public_path__ + \"static/media/Sow.beff0aff.png\";","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAFMAAABRCAYAAACuepoLAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAq9JREFUeNrsnT1Lw1AUhk9FRFEhDhV0qgouLlrcjYOLi3XpasEfYjo62X/Quorg5iS0P0D8GBzVOAkWP6CVigg1197E0Naa3ER7b/K+cLig3tP4eJJz8g5XIig0JRS8Zr3Pn1+JUgE0JYgjK1JRqEz2y9DE1IJwgrdalRr1BxoZm6Th8aTvfVwvVqxacaE8zLXtQ+EEN+cHdH12QHPpLM0uZX3tbdSrdHmyS7VH0wY6w1caQNvwp5GxJC2v57+q2pJmRc7+HmAKaHBolGbTTkVvAGYIFdoBucfPp7p1rH8efwr280iJiu3ytUUr9iSY5+yZrqIqTAayzB+sIgOqHtJgq7vGD1IRpsaHUY3PTptWmCJjC5+/Ao8/7hlONZgZ/ow0OQylqkIGubv5Cl/3ATI4zFQUX+T7BRMCTMCM5mumqhf+fH8lvLdRqzqraJ7aU++pscznuyBvPk3XjEh/lKcpWZSVr8x+mMNufby/2p6m+rc58xRFZZvD0/O6b3PY/Zg5Pd5BA0I3B0yMRlsU3Ms0ALOlXAh5dwCzpZIVdwEh5uP4x+gGk1lwlYAQjDjCRAMCTMAETAgwARMwoZ5zphJiNpqonri73lrF8thu/U+C0x5Dpz0v2fWYKlcmGhC6OQSYMo1GMjnthkSsfr2WRFsD0lFfnlh5rswSyeO0y5BHyKiO4mgURh7POdCA0M0BEzAhwARMwIQAEzABEzAhwARMwIQ6FRen3fgPmHDaxVh5rswSwWnvlsOX4LQHzIEGhG4OmIAJASZgAiYEmIAJmPGEafJVBxZHi21sPCvH30Fv8W7uqMj3F/1uZCe6PtP3vxvQYg7TcO33dLe6LTh2ACk7Gpe5RxkeFcELKYd0m/UrT4q+zxMtBODgHOLcjHnc8oLyrMQvUDWKr3xX46cAAwCxt3YCfnN46AAAAABJRU5ErkJggg==\"","module.exports = __webpack_public_path__ + \"static/media/Area_Colour.f4a4e098.png\";","module.exports = __webpack_public_path__ + \"static/media/Hexagon-globe.fce26805.png\";","module.exports = __webpack_public_path__ + \"static/media/Hexa-icon.5129d536.png\";","module.exports = __webpack_public_path__ + \"static/media/Logo.9b051259.png\";","module.exports = __webpack_public_path__ + \"static/media/TOM.c88886f3.png\";"],"sourceRoot":""}