(this.webpackJsonp=this.webpackJsonp||[]).push([[0],{370:function(e,t,n){"use strict";var r=n(0),a=n.n(r),i=n(25),o=n(313),s=n(53),c=n(121),l=n(205),u=n(239),f=n.n(u),p=n(314),g=n.n(p),b=Object(l.a)((function(e,t){return f.a.encode(e)}),(function(e,t){return f.a.decode(e)})),m={key:"root",storage:g.a,transforms:[b],blacklist:[]},d=n(23),h=n.n(d),y=n(30),v=n(86),E=Object(v.createActions)({startup:null}),O=E.Types,S=E.Creators,j=O,P=S,w=Object(v.createActions)({fetchUser:null,fetchUserLoading:null,fetchUserSuccess:["user"],fetchUserFailure:["errorMessage"]}),D=w.Types,C=w.Creators,x=D,k=C,I=n(5),R=n.n(I);function M(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function A(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?M(Object(n),!0).forEach((function(t){R()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):M(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var F,T=Object(v.createActions)({firebaseStartup:null,firebaseIsLoading:["loadingstate"],setFirebaseError:["errorMessage"],setCurrentData:["data"],actionStarting:["initdata"],fetchStarting:["action","ref","params"],fetchSuccess:["data"],fetchFailure:["errorMessage"]}),N=T.Types,U=T.Creators,z=A({},N),L=A({},U),H=n(51);var W={navigate:function(e,t){F.dispatch(H.NavigationActions.navigate({routeName:e,params:t}))},replace:function(e,t){F.dispatch(H.StackActions.replace({routeName:e,params:t}))},navigateAndReset:function(e,t){F.dispatch(H.StackActions.reset({index:0,key:null,actions:[H.NavigationActions.navigate({routeName:e,params:t})]}))},setTopLevelNavigator:function(e){F=e}},G=h.a.mark(_);function _(){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(y.e)(L.firebaseStartup());case 2:W.navigateAndReset("MainStack");case 3:case"end":return e.stop()}}),G)}var B=n(335),V=n.n(B),J=n(631),Z=n(628),Y=n(629),q=Object(J.a)(3,(function(e,t,n){var r=Object(Z.a)(Number);return r(e)&&r(t)&&r(n)&&Object(Y.a)(n,e)&&Object(Y.a)(t,n)}))(200,299),Q=V.a.create({baseURL:"https://jsonplaceholder.typicode.com/users/",headers:{Accept:"application/json","Content-Type":"application/json"},timeout:3e3});var X=function(){if(console.log("user fetch test"),Math.random()>.5)return new Promise((function(e,t){console.log("error"),e(null)}));var e=Math.floor(Math.random()/.1)+1;return Q.get(e.toString()).then((function(e){return q(e.status)?e.data:null}))},K=h.a.mark($);function $(){var e;return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Object(y.e)(k.fetchUserLoading());case 2:return t.next=4,Object(y.b)(X);case 4:if(!(e=t.sent)){t.next=10;break}return t.next=8,Object(y.e)(k.fetchUserSuccess(e));case 8:t.next=12;break;case 10:return t.next=12,Object(y.e)(k.fetchUserFailure("There was an error while fetching user informations."));case 12:case"end":return t.stop()}}),K)}var ee=n(149),te=n(34),ne=(n(276),n(311),n(277),"starter"),re="free",ae="owner",ie="admin",oe={USERS:"users",FARMS:"farms",SECTIONS:"farms_data/$farmid/sections",PENS:"farms_data/$farmid/pens",PIGS:"farms_data/$farmid/pigs",WEIGHING:"farms_data/$farmid/pens/$penid/weighings/",GRAPH:"farms_data/$farmid/Graph/$graphid/",FARMDATAS:"farms_data/$farmid/datas/",SHARES:"shareData"},se="create",ce="sign",le="fetch",ue="move",fe="delete";function pe(e){return e<10&&(e="0"+e),e}function ge(e){var t=new Date(parseInt(e));return pe(t.getDate())+"/"+pe(t.getMonth())+"/"+t.getFullYear()+" "+pe(t.getHours())+":"+pe(t.getMinutes())+":"+pe(t.getSeconds())}var be=/[^a-zA-Z]/g,me=/[^0-9]/g;function de(e,t){var n=e.replace(be,""),r=t.replace(be,"");if(n===r){var a=parseInt(e.replace(me,""),10),i=parseInt(t.replace(me,""),10);return a===i?0:a>i?1:-1}return n>r?1:-1}function he(e){var t,n={},r=[];for(t in e)e.hasOwnProperty(t)&&"__jsogObjectId"!==t&&r.push(t);for(r.sort(de),t=0;t<r.length;t++)n[r[t]]=e[r[t]];return n}function ye(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ve(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ye(Object(n),!0).forEach((function(t){R()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ye(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Ee(e,t){return new Promise((function(n,r){te.a.auth().createUserWithEmailAndPassword(e,t).then((function(){var e=te.a.auth().currentUser,t="users/"+e.uid;te.a.database().ref(t).set({name:e.displayName?e.displayName:e.email,state:ne}).then((function(){n(null)})).catch((function(e){console.log("UserCreate database Error: ",e),n({error:"Database error"})}))})).catch((function(e){console.log("UserCreate Error: ",e),"auth/email-already-in-use"===e.code&&n({error:"The email address is already in use."}),"aith/invalid-email"===e.code&&n({error:"The email addres is invalid."})}))}))}function Oe(){return new Promise((function(e,t){te.a.auth().signOut().then((function(){e(!0)}))}))}function Se(e,t){if(e){var n="farms_data/"+e+"/sections";return t&&(n+="/"+t),te.a.database().ref(n).once("value").then((function(e){return{sections:e.val()}}))}return new Promise((function(e,t){console.log("Fecth Pigs Error"),e(null)}))}function je(e,t){if(e){var n="farms_data/"+e+"/pens";return t&&(n+="/"+t),te.a.database().ref(n).once("value").then((function(e){if(t){var n=e.val();return n.datas||(n.datas={}),n.datas.gcurve||(n.datas.gcurve="default"),{pens:R()({},t,n)}}return{pens:e.val()}}))}return new Promise((function(e,t){console.log("Fecth Pens Error"),e(null)}))}function Pe(e,t){if(e){var n="farms_data/"+e+"/pigs";return t&&(n+="/"+t),new Promise((function(e,r){te.a.database().ref(n).once("value",(function(n){var r=R()({},n.key,{}),a={};n.forEach((function(e){a[e.key]=e.val(),r[n.key]=a})),e(t?{pigs:r}:r)}))}))}return new Promise((function(e,t){console.log("Fecth Pigs Error"),e(null)}))}function we(e,t){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:5;if(e){var r="farms_data/"+e+"/weighings";if(t)return r+="/"+t,new Promise((function(e,t){te.a.database().ref(r).orderByChild("time").limitToLast(n).once("value",(function(t){var n=R()({},t.key,{});t.forEach((function(e){n[t.key][e.key]=e.val()})),e({weighings:n})}))}))}return new Promise((function(e,t){console.log("Fecth Pens Error"),e(null)}))}function De(e,t){if(e){var n="farms_data/"+e+"/graph";if(t)return n=n+"/"+t,new Promise((function(e,r){te.a.database().ref(n).once("value").then((function(n){var r=n.val();r?(console.log("test fetch user graph",r),e(null)):("default"===t&&(t="gcurve"),te.a.database().ref("farms_data/Agrisys/graph/"+t).once("value").then((function(t){var n=t.val();if(n){var r=R()({},t.key,n);e({graphs:r})}else e(null)})).catch((function(t){console.log("Get Agrisys graph Error: ",t),e(null)})))})).catch((function(t){console.log("Get farm graph Error: ",t),e(null)}))}))}return new Promise((function(e,t){console.log("Fecth Graph Error"),e(null)}))}var Ce=function(){return new Promise((function(e,t){e(null)}))},xe=function(){return new Promise((function(e,t){var n;try{n=function(){var e;return h.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return e="",t.prev=1,t.next=4,h.a.awrap(te.a.messaging().getToken());case 4:e=t.sent,console.log("Device_token: ",e),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(1),console.log(t.t0);case 11:return t.abrupt("return",e);case 12:case"end":return t.stop()}}),null,null,[[1,8]],Promise)}()}catch(r){}n||e("Could not find Firebase Token"),e(n)}))},ke=function(e,t){if(te.a.auth().currentUser){if(te.a.auth().currentUser.email==e)return new Promise((function(e,t){e(!0)}));Oe()}return new Promise((function(n,r){te.a.auth().signInWithEmailAndPassword(e,t).then((function(){n(!0)})).catch((function(e){console.log("User Signin Error: ",e),"auth/email-already-in-use"===e.code&&n("The email address is already in use."),"aith/invalid-email"===e.code?n("The email addres is invalid."):n("Could not singin")}))}))},Ie=Oe,Re=function e(t,n){switch(t){case oe.USERS:return function(e){var t=e||te.a.auth().currentUser;if(t.uid){var n="users/"+t.uid;return te.a.database().ref(n).once("value").then((function(e){return e.val()}))}return new Promise((function(e,t){console.log("User uid in fecth unknown"),e(null)}))}(n);case oe.FARMS:return function(e){var t="farms";if(e)return t+="/"+e,te.a.database().ref(t).once("value").then((function(e){return{farms:e.val()}}));return new Promise((function(e,t){console.log("Fecth Farm Error"),e(null)}))}(n);case oe.SECTIONS:return Se(n);case oe.PENS:return je(n[0],n[1]);case oe.PIGS:return Pe(n);case oe.WEIGHING:return we(n[0],n[1]);case oe.GRAPH:return De(n[0],n[1]);case oe.PENS+oe.WEIGHING:return new Promise((function(e,t){var r={};je(n[0],n[1]).then((function(t){r=ve(ve({},r),t),we(n[0],n[1]).then((function(t){r=ve(ve({},r),t),e(r)})).catch((function(t){e(r)}))})).catch((function(t){e(r)}))}));case oe.SECTIONS+oe.WEIGHING:return new Promise((function(e,t){var r={};Se(n[0]).then((function(t){r=ve(ve({},r),t);var a=0,i=0;Object.keys(r.sections).forEach((function(t){i+=Object.keys(r.sections[t].pens).length,Object.keys(r.sections[t].pens).forEach((function(t){var o=n[1]&&!isNaN(n[1])?n[1]:1;we(n[0],t,0,o).then((function(t){a++;var n=ve(ve({},r.weighings),t.weighings);r=ve(ve({},r),{},{weighings:n}),a===i&&e(r)})).catch((function(t){console.log(t),e(r)}))}))}))})).catch((function(t){console.log(t),e(null)}))}));case oe.GRAPH+oe.WEIGHING:return new Promise((function(t,r){var a={};De(n[0],n[1]).then((function(r){a=ve(ve({},a),r),e(oe.SECTIONS+oe.WEIGHING,[n[0],n[2]]).then((function(e){a=ve(ve({},a),e),t(a)})).catch((function(e){console.log(e),t(a)}))})).catch((function(e){t(null)}))}));default:return new Promise((function(e,n){console.log("fecth unknown",t),e(null)}))}},Me=function(e,t){switch(e){case oe.USERS:return Ee(t[0],t[1]);case oe.PIGS:return function(e,t,n,r){if(e){var a="farms_data/"+e+"/";return new Promise((function(i,o){if(t){var s=a+"pigs/"+t+"/";te.a.database().ref(s).set({pen:n||0}).then((function(){console.log("Firebase Service.. not tested.."),Pe(e,t).then((function(e){i(e)}))}))}else!function(e,t,n,r,a){if(n){var i="farms_data/"+e+"/pens/"+n+"/datas";te.a.database().ref(i+"/count").once("value").then((function(t){var o=t.val();o=r&&!isNaN(r)?parseInt(o)+parseInt(r):parseInt(o)+1,te.a.database().ref(i).update({count:o}).then((function(){je(e,n).then((function(e){a(e)}))}))})).catch((function(e){console.log("Create new pig Error: ",e),a(null)}))}}(e,0,n,r,i)}))}}(t[0],t[1],t[2],t[3]);case oe.WEIGHING:return function(e,t,n){if(e){var r="farms_data/"+e+"/weighings";if(t)return r+="/"+t+"/",new Promise((function(a,i){var o=te.a.database().ref(r).push();o.key;o.set({time:te.a.database.ServerValue.TIMESTAMP,weight:n}).then((function(){we(e,t).then((function(e){a(e)}))})).catch((function(e){console.log("Create Weight Error: ",e),a(null)}))}))}}(t[0],t[1],t[2]);case oe.PENS:if(console.log(t),!(t.length>=4))return function(e,t,n){if(e){var r="farms_data/"+e+"/";return new Promise((function(e,a){if(t){var i=r+"pens/"+t+"/";te.a.database().ref(i).set({section:n}).then((function(){te.a.database().ref(r+"sections/"+n+"/pens").update(R()({},t,!0)).then((function(){e(null)}))}))}}))}}(t[0],t[2],t[1]);var n="farms_data/"+t[0]+"/";if(t[3]==fe)return new Promise((function(e,r){te.a.database().ref(n+"pens/"+t[2]).remove().then((function(){te.a.database().ref(n+"sections/"+t[1]+"/pens/"+t[2]).remove().then((function(){e(null)}))}))}));default:return new Promise((function(t,n){console.log("create unknown",e),t(null)}))}},Ae=function(e,t,n,r){return new Promise((function(a){ee.a.alert(e,t,[{text:n,onPress:function(){a()}}],{cancelable:r,onDismiss:function(){a()}})}))},Fe=n(250),Te=h.a.mark(We),Ne=h.a.mark((function(e){var t;return h.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:t={to:e,messageId:"test1",messageType:"test2",notification:{title:"Foo",body:"Bar"}},te.a.messaging().sendMessage(t).then((function(e){console.log(e)}));case 2:case"end":return n.stop()}}),Ne)})),Ue=h.a.mark(Ge),ze=h.a.mark(_e),Le=h.a.mark(Be),He=h.a.mark(Ve);function We(){var e,t;return h.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Object(y.e)(L.setFirebaseError(null));case 2:return console.log(Fe.a.manifest.web.config.firebase),te.a.initializeApp(Fe.a.manifest.web.config.firebase),n.next=6,Object(y.b)(Ce);case 6:if(!(e=n.sent)){n.next=12;break}return n.next=10,Object(y.e)(L.fetchFailure(e));case 10:n.next=22;break;case 12:return n.next=14,Object(y.d)(Ge);case 14:return n.next=16,Object(y.d)(Be);case 16:return n.next=18,Object(y.d)(Ve);case 18:return n.next=20,Object(y.b)(xe);case 20:t=n.sent,console.log("Firebase Token: ",t);case 22:console.log("Firebase Startup : Done");case 23:case"end":return n.stop()}}),Te)}function Ge(){var e,t,n,r;return h.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,Object(c.c)((function(e){var t=te.a.auth().onAuthStateChanged((function(t){e(null==t?"NONE":t)}));return function(){t()}}),c.a.expanding(1));case 2:e=a.sent,a.prev=3;case 4:return t={localDataStore:{}},a.next=7,Object(y.g)(e);case 7:if(n=a.sent,t.firebaseUser="NONE"===n?null:n,!t.firebaseUser){a.next=14;break}return a.next=12,Object(y.b)(Re,oe.USERS,n);case 12:r=a.sent,t.localDataStore.userData=r;case 14:return a.next=16,Object(y.e)(L.fetchSuccess(t));case 16:console.log("New auth: ",t);case 17:a.next=4;break;case 19:return a.prev=19,a.next=22,Object(y.c)();case 22:if(!a.sent){a.next=24;break}e.close();case 24:return a.finish(19);case 25:case"end":return a.stop()}}),Ue,null,[[3,,19,25]])}function _e(e){var t,n,r,a,i,o,s,c;return h.a.wrap((function(l){for(;;)switch(l.prev=l.next){case 0:t=e.action,n=e.ref,r=e.params,l.t0=t,l.next=l.t0===le?4:l.t0===se?11:l.t0===ue?23:l.t0===fe?24:l.t0===ce?46:70;break;case 4:if(!Object.values(oe).includes(n)&&n!==oe.PENS+oe.WEIGHING&&n!==oe.SECTIONS+oe.WEIGHING&&n!==oe.GRAPH+oe.WEIGHING){l.next=10;break}return l.next=7,Object(y.b)(Re,n,r);case 7:return a=l.sent,l.next=10,Object(y.e)(L.fetchSuccess({localDataStore:a}));case 10:return l.abrupt("break",71);case 11:if(!Object.values(oe).includes(n)){l.next=22;break}return l.next=14,Object(y.b)(Me,n,r);case 14:if(!(i=l.sent)||!i.error){l.next=20;break}return l.next=18,Object(y.e)(L.fetchFailure(i.error));case 18:l.next=22;break;case 20:return l.next=22,Object(y.e)(L.fetchSuccess({localDataStore:i}));case 22:case 23:return l.abrupt("break",71);case 24:if(!Object.values(oe).includes(n)){l.next=45;break}return r.push(t),l.next=28,Object(y.b)(Me,n,r);case 28:if(!(o=l.sent)||!o.error){l.next=34;break}return l.next=32,Object(y.e)(L.fetchFailure(o.error));case 32:l.next=45;break;case 34:l.t1=n,l.next=l.t1===oe.PENS?37:42;break;case 37:return l.next=39,Object(y.e)(L.fetchStarting(le,oe.PENS,[r[0]]));case 39:return l.next=41,Object(y.e)(L.fetchStarting(le,oe.SECTIONS,[r[0]]));case 41:return l.abrupt("break",45);case 42:return l.next=44,Object(y.e)(L.fetchSuccess({localDataStore:o}));case 44:return l.abrupt("break",45);case 45:return l.abrupt("break",71);case 46:return l.next=48,Object(y.f)((function(e){return e.firebase.firebaseUser}));case 48:return s=l.sent,l.next=51,Object(y.e)(L.actionStarting());case 51:if(!s){l.next=61;break}return l.next=54,Object(y.b)(Ie);case 54:if(l.sent){l.next=59;break}return l.next=58,Object(y.e)(L.fetchFailure("Could not LogOut"));case 58:return l.abrupt("return");case 59:l.next=67;break;case 61:return l.next=63,Object(y.b)(ke,r[0],r[1]);case 63:if("string"!==typeof(c=l.sent)){l.next=67;break}return l.next=67,Object(y.e)(L.fetchFailure(c));case 67:return l.next=69,Object(y.e)(L.fetchSuccess());case 69:case 70:return l.abrupt("break",71);case 71:case"end":return l.stop()}}),ze)}function Be(){var e,t;return h.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Object(c.c)((function(e){var t=te.a.messaging().onMessage((function(t){e(t)}));return function(){t()}}),c.a.expanding(1));case 2:e=n.sent,n.prev=3;case 4:return n.next=6,Object(y.g)(e);case 6:if(t=n.sent,console.log("New Firebase message: ",t),!(t.notification&&t.notification.title&&t.notification.body)){n.next=13;break}return n.next=11,Object(y.b)(Ae,t.notification.title,t.notification.body,"Ok",!1);case 11:n.next=14;break;case 13:console.log("New Firebase data message: ",t);case 14:n.next=4;break;case 16:return n.prev=16,n.next=19,Object(y.c)();case 19:if(!n.sent){n.next=21;break}e.close();case 21:return n.finish(16);case 22:case"end":return n.stop()}}),Le,null,[[3,,16,22]])}function Ve(){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),He)}var Je=h.a.mark(Ze);function Ze(e){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(y.a)([Object(y.h)(j.STARTUP,_),Object(y.h)(x.FETCH_USER,$),Object(y.h)(z.FIREBASE_STARTUP,We),Object(y.h)(z.FETCH_STARTING,_e)]);case 2:case"end":return e.stop()}}),Je)}var Ye;function qe(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Qe(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?qe(Object(n),!0).forEach((function(t){R()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):qe(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Xe,Ke=Object(v.createReducer)({user:{},userIsLoading:!1,userErrorMessage:null},(Ye={},R()(Ye,x.FETCH_USER_LOADING,(function(e){return Qe(Qe({},e),{},{userIsLoading:!0,userErrorMessage:null})})),R()(Ye,x.FETCH_USER_SUCCESS,(function(e,t){var n=t.user;return Qe(Qe({},e),{},{user:n,userIsLoading:!1,userErrorMessage:null})})),R()(Ye,x.FETCH_USER_FAILURE,(function(e,t){var n=t.errorMessage;return Qe(Qe({},e),{},{user:{},userIsLoading:!1,userErrorMessage:n})})),Ye)),$e=n(14),et=n.n($e);function tt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function nt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?tt(Object(n),!0).forEach((function(t){R()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):tt(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var rt=(Xe={},R()(Xe,z.FIREBASE_IS_LOADING,(function(e,t){var n=t.loadingstate;return nt(nt({},e),{},{firebaseIsLoading:n})})),R()(Xe,z.SET_FIREBASE_ERROR,(function(e,t){var n=t.errorMessage;return nt(nt({},e),{},{firebaseErrorMessage:n})})),R()(Xe,z.SET_CURRENT_DATA,(function(e,t){var n=t.data;return nt(nt({},e),{},{currentData:n})})),R()(Xe,z.ACTION_STARTING,(function(e,t){var n=t.initdata,r=nt(nt({},e),n);return nt(nt({},r),{},{firebaseIsLoading:!0,firebaseErrorMessage:null})})),R()(Xe,z.FETCH_STARTING,(function(e){return nt(nt({},e),{},{firebaseErrorMessage:null})})),R()(Xe,z.FETCH_SUCCESS,(function(e,t){var n=t.data,r=nt({},e.localDataStore),a=nt({},e);if(n){var i=n.localDataStore,o=et()(n,["localDataStore"]);i&&(r=0!==Object.keys(i).length?nt(nt({},e.localDataStore),i):nt({},i)),a=nt(nt({},e),o)}return nt(nt({},a),{},{localDataStore:r,firebaseIsLoading:!1,firebaseErrorMessage:null})})),R()(Xe,z.FETCH_FAILURE,(function(e,t){var n=t.errorMessage;return nt(nt({},e),{},{firebaseIsLoading:!1,firebaseErrorMessage:n})})),Xe),at=Object(v.createReducer)({firebaseIsLoading:!1,firebaseErrorMessage:null,firebaseUser:null,localDataStore:{},currentData:null},rt),it=n(2),ot=n(630),st=n(31),ct=n(3),lt="rgba(0,0,0,0)",ut="#ffffff",ft="#ffffff",pt="#a3b9cf",gt="#03a489",bt="#dc3545",mt="#4463ab",dt={h1:{fontSize:38},h2:{fontSize:34},h3:{fontSize:30},normal:{fontSize:17}},ht={tiny:5,small:10,normal:15,medium:30,tinyBottomMargin:{marginBottom:5},smallBottomMargin:{marginBottom:10},bottomMargin:{marginBottom:15},mediumBottomMargin:{marginBottom:30},tinyVerticalMargin:{marginVertical:5},smallVerticalMargin:{marginVertical:10},verticalMargin:{marginVertical:15},mediumVerticalMargin:{marginVertical:30},tinyHorizontalMargin:{marginHorizontal:5},smallHorizontalMargin:{marginHorizontal:10},horizontalMargin:{marginHorizontal:15},mediumHorizontalMargin:{marginHorizontal:30},tinyHorizontalPadding:{paddingHorizontal:5},smallHorizontalPadding:{paddingHorizontal:10},horizontalPadding:{paddingHorizontal:15},mediumHorizontalPadding:{paddingHorizontal:30},tinyVerticalPadding:{paddingVertical:5},smallVerticalPadding:{paddingVertical:10},verticalPadding:{paddingVertical:15},mediumVerticalPadding:{paddingVertical:30}},yt={Home:n(495),DashBoard:n(496),System:n(497),Curves:n(498),User:n(499),Sow:n(500),Section:n(501),Haxa_globe:n(502),Hexa_icon:n(503),Logo:n(504),logo:n(505)};function vt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Et(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?vt(Object(n),!0).forEach((function(t){R()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):vt(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Ot={column:{flexDirection:"column"},colMain:{flexDirection:"column",justifyContent:"center"},colCenter:{flexDirection:"column",alignItems:"center",justifyContent:"center"},colCross:{flexDirection:"column",alignItems:"center"},columnReverse:{flexDirection:"column-reverse"},row:{flexDirection:"row"},rowMain:{flexDirection:"row",justifyContent:"center"},rowCenter:{flexDirection:"row",alignItems:"center",justifyContent:"center"},rowCross:{flexDirection:"row",alignItems:"center"},rowReverse:{flexDirection:"row-reverse"},center:{alignItems:"center",justifyContent:"center"},crossCenter:{alignItems:"center"},crossEnd:{alignItems:"flex-end"},crossStart:{alignItems:"flex-start"},crossStretch:{alignItems:"stretch"},fill:{flex:1},fillCenter:{flex:1,alignItems:"center",justifyContent:"center"},fillCol:{flex:1,flexDirection:"column"},fillColCenter:{flex:1,flexDirection:"column",alignItems:"center",justifyContent:"center"},fillColCross:{flex:1,flexDirection:"column",alignItems:"center"},fillColMain:{flex:1,flexDirection:"column",justifyContent:"center"},fillColReverse:{flex:1,flexDirection:"column-reverse"},fillRow:{flex:1,flexDirection:"row"},fillRowCenter:{flex:1,flexDirection:"row",alignItems:"center",justifyContent:"center"},fillRowCross:{flex:1,flexDirection:"row",alignItems:"center"},fillRowMain:{flex:1,flexDirection:"row",justifyContent:"center"},fillRowReverse:{flex:1,flexDirection:"row-reverse"},fullSize:{height:"100%",width:"100%"},halvWidth:{width:"50%"},midWidth:{width:"75%"},fullWidth:{width:"100%"},mainCenter:{justifyContent:"center"},mainEnd:{justifyContent:"flex-end"},mainSpaceAround:{justifyContent:"space-around"},mainSpaceBetween:{justifyContent:"space-between"},mainStart:{justifyContent:"flex-start"},mainContainer:Et(Et({flex:1,flexDirection:"column",alignItems:"center"},ht.mediumHorizontalMargin),ht.mediumBottomMargin),contentContainer:Et(Et({flex:1,flexDirection:"column",alignItems:"center"},ht.mediumHorizontalMargin),{},{marginTop:ht.small},ht.bottomMargin),borderContainer:Et(Et(Et({borderWidth:1,borderColor:"#000",borderRadius:15},ht.tinyHorizontalPadding),ht.tinyVerticalPadding),{},{maxWidth:450}),textContainer:Et(Et({},dt.normal),{},{marginBottom:ht.normal,alignItems:"center"}),buttonContainer:{marginBottom:ht.small,maxWidth:450},loadingContainer:{position:"absolute",left:0,right:0,top:0,bottom:0,alignItems:"center",justifyContent:"center",backgroundColor:"#F5FCFF88"},logoContainer:{width:"100%",height:220},backgroundReset:{backgroundColor:lt},rotate90:{transform:[{rotate:"90deg"}]},rotate90Inverse:{transform:[{rotate:"-90deg"}]},mirror:{transform:[{scaleX:-1}]},scrollSpaceAround:{flexGrow:1,justifyContent:"space-around"},scrollSpaceBetween:{flexGrow:1,justifyContent:"space-between"},selfStretch:{alignSelf:"stretch"},textCenter:{textAlign:"center"},textJustify:{textAlign:"justify"},textLeft:{textAlign:"left"},textRight:{textAlign:"right"}};function St(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function jt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?St(Object(n),!0).forEach((function(t){R()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):St(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Pt={button:{backgroundColor:pt,color:ft},buttonText:{color:ft},error:jt(jt({},dt.normal),{},{color:bt,marginBottom:ht.tiny,textAlign:"center"}),result:jt(jt({},dt.normal),{},{marginBottom:ht.tiny,textAlign:"center"}),text:jt(jt({},dt.normal),{},{marginBottom:ht.tiny,textAlign:"center"}),input:jt(jt({},dt.normal),{},{height:24}),navigationHeader:{textAlign:"center",alignSelf:"center",flexGrow:1}},wt=ct.a.create({container:{backgroundColor:pt}}),Dt=function(){return Object(r.useEffect)((function(){}),[]),a.a.createElement(it.a,{style:[Ot.fillRowCenter,wt.container]},a.a.createElement(it.a,{style:[Ot.center,Ot.logoContainer]},a.a.createElement(st.a,{style:Ot.fullSize,source:yt.Hexa_icon,resizeMode:"contain"})))},Ct=n(21),xt=function(){return a.a.createElement(it.a,{style:[Ot.fillCenter,Ot.rowMain,ht.mediumHorizontalMargin]},a.a.createElement(Ct.a,null,"This is deep linking example screen which can be accessed using agrissysapp://deeplink scheme!"))},kt=n(27);function It(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Rt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?It(Object(n),!0).forEach((function(t){R()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):It(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Mt=ct.a.create({boxContainer:Rt(Rt({},Ot.center),ht.tinyVerticalMargin),button:Rt(Rt(Rt(Rt({borderRadius:15},Ot.center),Ot.fullWidth),ht.horizontalPadding),Pt.button),text:Rt(Rt(Rt(Rt({},Pt.buttonText),ht.verticalPadding),Ot.center),{},{textAlign:"center"}),icon:Rt(Rt(Rt({},Ot.colCenter),ht.smallVerticalMargin),{},{width:"25%",height:50})}),At=function(e){var t=[a.a.createElement(Ct.a,{style:[Mt.text,e.textStyle],key:0},e.Text)],n=[];if(e.icon){var r=a.a.createElement(st.a,{style:Ot.fullSize,source:e.icon,resizeMode:"contain"});n=a.a.createElement(it.a,{style:[Mt.icon,e.iconStyle]},r)}return a.a.createElement(kt.a,{style:[Mt.boxContainer,e.boxStyle],onPress:e.onPress},e.icon?a.a.createElement(it.a,{style:[Mt.button,e.buttonStyle,Ot.rowCenter]},a.a.createElement(it.a,{style:[Ot.colCenter,Ot.fill]},t),n):a.a.createElement(it.a,{style:[Mt.button,e.buttonStyle]},t))},Ft=n(45);function Tt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Nt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Tt(Object(n),!0).forEach((function(t){R()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Tt(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Ut=ct.a.create({listitem:{borderWidth:1,borderColor:"#000",borderRadius:25,backgroundColor:"#fff",paddingVertical:10,paddingHorizontal:25}}),zt=function(e){var t=e.key?e.key:0;return a.a.createElement(Ft.c,{key:t,containerStyle:Nt(Nt({},Ut.listitem),e.itemStyle),button:!0,onPress:e.onPress},a.a.createElement(Ft.c.Content,null,a.a.createElement(Ft.c.Title,null,e.Title),a.a.createElement(Ft.c.Subtitle,null,e.Subtitle)))};function Lt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Ht(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Lt(Object(n),!0).forEach((function(t){R()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Lt(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Wt=ct.a.create({contentBox:Ht(Ht(Ht(Ht({},Ot.fill),Ot.colCenter),Ot.borderContainer),{},{borderRadius:0,minHeight:30})}),Gt=function(e){var t=[];e.texts&&e.texts.forEach((function(n,r){t.push(a.a.createElement(it.a,{style:[Wt.contentBox,e.textsStyle],key:"text_"+r},a.a.createElement(Ct.a,null,n)))}));var n=[];e.datas&&e.datas.forEach((function(t,r){n.push(a.a.createElement(kt.a,{style:[Wt.contentBox,e.datasStyle],onLongPress:function(){e.onPress&&e.onPress({data:t,index:r})},key:"data_"+r},a.a.createElement(Ct.a,null,t)))}));for(var r=t.length>n.length?t.length:n.length,i=[],o=0;o<r;o++){var s=[];o<t.length?s.push(t[o]):s.push(a.a.createElement(it.a,{style:[Ot.fill,Ot.colCenter],key:"leftSpace_"+o})),s.push(a.a.createElement(it.a,{style:[Ot.fill,Ot.colCenter,{maxWidth:20}],key:"seperator_"+i.length})),o<n.length?s.push(n[o]):s.push(a.a.createElement(it.a,{style:[Ot.fill,Ot.colCenter],key:"rightSpace_"+o})),i.push(a.a.createElement(it.a,{style:[Ot.rowCenter,ht.tinyVerticalMargin],key:"row_"+i.length},s))}return i},_t=(ct.a.create({container:{backgroundColor:pt}}),n(46)),Bt=function(e){var t=Object(i.c)();return a.a.createElement(_t.a,{style:{paddingRight:5}},a.a.createElement(it.a,{style:[Ot.buttonContainer]},a.a.createElement(At,{Text:"Weight",onPress:function(){return W.navigate("WeighingOperations")}}),e.farm&&e.penid?a.a.createElement(it.a,null,a.a.createElement(At,{Text:"Add Pig",onPress:function(){t(L.fetchStarting(se,oe.PIGS,[e.farm,null,e.penid,"1"]))}}),a.a.createElement(At,{Text:"Move Pig",onPress:function(){t(L.fetchStarting(se,oe.PIGS,[e.farm,null,e.penid,"-1"]))}})):a.a.createElement(a.a.Fragment,null),e.farm&&e.section?a.a.createElement(it.a,{style:[{marginTop:40}]},a.a.createElement(At,{Text:"Add Pen",onPress:function(){t(L.setCurrentData({type:oe.PENS,action:se})),W.navigate("DataEditor")}}),a.a.createElement(At,{Text:"Remove Pen",onPress:function(){t(L.setCurrentData({type:oe.PENS,action:fe})),W.navigate("DataEditor")}})):a.a.createElement(a.a.Fragment,null)))};function Vt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Jt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Vt(Object(n),!0).forEach((function(t){R()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Vt(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Zt=ct.a.create({logoContainer:Jt(Jt({},Ot.fullWidth),{},{height:190,marginTop:2*ht.medium,marginBottom:ht.medium})}),Yt=function(){var e=Object(i.c)();return Object(r.useEffect)((function(){e(L.setFirebaseError(null))}),[]),a.a.createElement(it.a,{style:[Ot.mainContainer]},a.a.createElement(it.a,{style:[Zt.logoContainer]},a.a.createElement(st.a,{style:[Ot.fullSize],source:yt.Logo,resizeMode:"contain"})),a.a.createElement(it.a,{style:[Ot.contentContainer,Ot.fullSize]},a.a.createElement(it.a,{style:[Ot.textContainer,Ot.fullWidth]},a.a.createElement(Ct.a,{style:Pt.text},"Wellcome to Agrisys App"),a.a.createElement(Ct.a,{style:Pt.text},"Please choose your action")),a.a.createElement(it.a,{style:[Ot.buttonContainer,Ot.fullWidth]},a.a.createElement(At,{Text:"Connect to Agrisys Cloud",icon:yt.Haxa_globe,onPress:function(){return W.navigate("AuthStack")}}),a.a.createElement(At,{Text:"Conect to Device",onPress:function(){return W.navigate("DeviceScreen")}}))))},qt=n(13),Qt=n(184),Xt=n(32),Kt=function(e){if(Object.entries(e.example.user).length<=0)return null;return["Gwenborough","Wisokyburgh","McKenziehaven","South Elvis","Roscoeview"].includes(e.example.user.address.city)};function $t(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function en(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?$t(Object(n),!0).forEach((function(t){R()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):$t(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var tn=ct.a.create({error:en(en({},dt.normal),{},{color:bt,marginBottom:ht.tiny,textAlign:"center"}),instructions:en(en({},dt.normal),{},{fontStyle:"italic",marginBottom:ht.tiny,textAlign:"center"}),logoContainer:en(en({},Ot.fullWidth),{},{height:300,marginBottom:25}),result:en(en({},dt.normal),{},{marginBottom:ht.tiny,textAlign:"center"}),text:en(en({},dt.normal),{},{marginBottom:ht.tiny,textAlign:"center"})}),nn=qt.a.select({ios:"Press Cmd+R to reload,\nCmd+D or shake for dev menu.",android:"Double tap R on your keyboard to reload,\nShake or press menu button for dev menu."}),rn=function(){var e=Object(i.c)(),t=Object(i.d)((function(e){return e.example.user})),n=Object(i.d)((function(e){return e.example.userIsLoading})),o=Object(i.d)((function(e){return e.example.userErrorMessage}));return Object(r.useEffect)((function(){e(k.fetchUser())}),[]),a.a.createElement(it.a,{style:[Ot.fillCenter,Ot.rowMain,ht.mediumHorizontalMargin,ht.mediumVerticalMargin]},n?a.a.createElement(Xt.a,{size:"large",color:"#0000ff"}):a.a.createElement(it.a,null,a.a.createElement(it.a,{style:tn.logoContainer},a.a.createElement(st.a,{style:Ot.fullSize,source:yt.logo,resizeMode:"contain"})),a.a.createElement(Ct.a,{style:tn.text},"To get started, edit App.js"),a.a.createElement(Ct.a,{style:tn.instructions},nn),o?a.a.createElement(Ct.a,{style:tn.error},o):a.a.createElement(it.a,null,a.a.createElement(Ct.a,{style:tn.result},"I'm a fake user, my name is ",t.name),a.a.createElement(Ct.a,{style:tn.result},Kt?"I live in Europe !":"I don't live in Europe.")),a.a.createElement(Qt.a,{style:Pt.button,onPress:function(){return e(k.fetchUser())},title:"Refresh"})))},an=Object(ot.a)({FrontScreen:{screen:Yt,navigationOptions:function(){return{headerMode:"none",headerShown:!1}},path:"main"},ExampleScreen:{screen:rn,navigationOptions:function(){return{headerMode:"none"}},path:"example"}},{initialRouteName:"FrontScreen",headerMode:"float",defaultNavigationOptions:{headerTitleAlign:"center",headerRight:function(){return a.a.createElement(it.a,{style:{padding:6}})}}}),on=n(8),sn=n.n(on),cn=n(9),ln=n.n(cn),un=n(10),fn=n.n(un),pn=n(12),gn=n.n(pn),bn=n(6),mn=n.n(bn);ct.a.create({});function dn(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=mn()(e);if(t){var a=mn()(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return gn()(this,n)}}var hn=function(e){fn()(n,e);var t=dn(n);function n(e){var r;return sn()(this,n),(r=t.call(this,e)).state={ISLOADPAGE:!0},r}return ln()(n,[{key:"getData",value:function(){this.props.setFirebaseError(null)}},{key:"checkData",value:function(e){var t=this.props.firebase.firebaseUser,n=this.props.firebase.localDataStore;t&&n.userData?W.navigate(function(e){switch(e){case ie:return"AdminPannel";case ae:return"ConsysPannel";case re:return"UserPanel";case ne:return"CreateUserData";default:return"LoginUser"}}(n.userData.state)):W.replace("LoginUser")}},{key:"componentDidMount",value:function(){this.checkData(this.props),this.getData()}},{key:"componentDidUpdate",value:function(e,t){this.props!==e&&this.checkData(this.props)}},{key:"render",value:function(){var e=this.props.firebase.firebaseIsLoading,t=this.state.ISLOADPAGE;return a.a.createElement(it.a,{style:[Ot.mainContainer]},t?a.a.createElement(it.a,{style:[Ot.fillRowCenter,Ot.center,Ot.logoContainer]},a.a.createElement(st.a,{style:Ot.fullSize,source:yt.Hexa_icon,resizeMode:"contain"})):a.a.createElement(it.a,{style:[Ot.contentContainer,Ot.fullSize,Ot.fillColMain]},a.a.createElement(Ct.a,{style:Pt.text},"This page contains an error."),a.a.createElement(Ct.a,{style:Pt.text},"If you are going back, please press back again.")),(e||t)&&a.a.createElement(Xt.a,{style:Ot.loadingContainer,size:"large"}))}}]),n}(r.Component),yn=Object(i.b)((function(e){return{firebase:e.firebase}}),(function(e){return{setFirebaseError:function(t){return e(L.setFirebaseError(t))}}}))(hn);function vn(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=mn()(e);if(t){var a=mn()(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return gn()(this,n)}}var En=function(e){fn()(n,e);var t=vn(n);function n(e){var r;return sn()(this,n),(r=t.call(this,e)).state={Email:"",Pass:"",DONE:!1},r}return ln()(n,[{key:"getData",value:function(){this.props.setFirebaseError(null)}},{key:"checkData",value:function(e){e.firebase&&null!==e.firebase.firebaseUser&&void 0!==e.firebase.firebaseUser&&(this.setState({DONE:!0}),W.navigate("UserLoadingScreen"))}},{key:"componentDidMount",value:function(){this.state.DONE||(this.checkData(this.props),this.getData())}},{key:"componentDidUpdate",value:function(e,t){this.state.DONE||this.props!==e&&this.checkData(this.props)}},{key:"render",value:function(){var e=this,t=this.props.firebase.firebaseIsLoading,n=(this.props.firebase.firebaseUser,this.props.firebase.firebaseErrorMessage);return a.a.createElement(it.a,{style:[Ot.mainContainer]},a.a.createElement(it.a,{style:[Ot.contentContainer,Ot.fullSize,Ot.fillColMain]},n?a.a.createElement(Ct.a,{style:Pt.error},n):a.a.createElement(a.a.Fragment,null),a.a.createElement(it.a,{style:[Ot.borderContainer,Ot.midWidth,{marginBottom:20}]},a.a.createElement(Ft.b,{label:"Username",style:Pt.input,onChangeText:function(t){e.setState({Email:t})},value:this.state.Email}),a.a.createElement(Ft.b,{label:"Password",style:Pt.input,onChangeText:function(t){e.setState({Pass:t})},value:this.state.Pass}),a.a.createElement(At,{Text:"Login",icon:yt.User,onPress:function(){e.state.Email&&""!==e.state.Email?e.state.Pass&&""!==e.state.Pass?e.props.signIN(e.state.Email,e.state.Pass):e.props.setFirebaseError("Password is needed"):e.props.setFirebaseError("Email is needed")}})),a.a.createElement(it.a,{style:[Ot.buttonContainer,Ot.midWidth]},a.a.createElement(At,{Text:"Create New User",onPress:function(){e.props.setFirebaseError(null),W.navigate("CreateNewUser")}}))),t&&a.a.createElement(Xt.a,{style:Ot.loadingContainer,size:"large"}))}}]),n}(r.Component),On=Object(i.b)((function(e){return{firebase:e.firebase}}),(function(e){return{setFirebaseError:function(t){return e(L.setFirebaseError(t))},signIN:function(t,n){return e(L.fetchStarting(ce,oe.USER,[t,n]))}}}))(En),Sn=n(41),jn=n.n(Sn),Pn=function(){var e=a.a.useState(""),t=jn()(e,2),n=t[0],o=t[1],s=a.a.useState(""),c=jn()(s,2),l=c[0],u=c[1];null!==Object(i.d)((function(e){return e.firebase.firebaseUser}))&&W.navigate("UserLoadingScreen");var f=Object(i.d)((function(e){return e.firebase.firebaseIsLoading})),p=Object(i.d)((function(e){return e.firebase.firebaseErrorMessage})),g=Object(i.c)();return Object(r.useEffect)((function(){}),[]),a.a.createElement(it.a,{style:[Ot.mainContainer]},a.a.createElement(it.a,{style:[Ot.contentContainer,Ot.fullSize,Ot.fillColMain]},p?a.a.createElement(Ct.a,{style:Pt.error},p):a.a.createElement(a.a.Fragment,null),a.a.createElement(it.a,{style:[Ot.borderContainer,Ot.midWidth,{marginBottom:20}]},a.a.createElement(Ft.b,{label:"Email",style:Pt.input,onChangeText:function(e){o(e)},value:n}),a.a.createElement(Ft.b,{label:"Password",style:Pt.input,onChangeText:function(e){u(e)},value:l})),a.a.createElement(it.a,{style:[Ot.buttonContainer,Ot.midWidth]},a.a.createElement(At,{Text:"Create User",onPress:function(){g(n&&""!==n?l&&""!==l?L.fetchStarting(se,oe.USERS,[n,l]):L.setFirebaseError("Password is needed"):L.setFirebaseError("Email is needed"))}}))),f&&a.a.createElement(Xt.a,{style:Ot.loadingContainer,size:"large"}))},wn=function(){var e=a.a.useState("Test"),t=jn()(e,2),n=t[0],o=t[1],s=a.a.useState("1"),c=jn()(s,2),l=c[0],u=c[1],f=a.a.useState("1"),p=jn()(f,2),g=p[0],b=p[1],m=Object(i.d)((function(e){return e.firebase.firebaseUser})),d=Object(i.d)((function(e){return e.firebase.localDataStore}));null!==m&&d.userData&&d.userData.state==ne||W.navigate("UserLoadingScreen");var h=Object(i.d)((function(e){return e.firebase.firebaseIsLoading})),y=Object(i.d)((function(e){return e.firebase.firebaseErrorMessage})),v=Object(i.c)();return Object(r.useEffect)((function(){}),[]),a.a.createElement(it.a,{style:[Ot.mainContainer]},a.a.createElement(it.a,{style:[Ot.contentContainer,Ot.fullSize,Ot.fillColMain]},y?a.a.createElement(Ct.a,{style:Pt.error},y):a.a.createElement(a.a.Fragment,null),a.a.createElement(it.a,{style:[Ot.borderContainer,Ot.midWidth,{marginBottom:20}]},a.a.createElement(Ft.b,{label:"Farm Name",style:Pt.input,onChangeText:function(e){o(e)},value:n}),a.a.createElement(Ft.b,{label:"Number of Sections",style:Pt.input,onChangeText:function(e){u(e)},value:l}),a.a.createElement(Ft.b,{label:"Number of Pens in Sections",style:Pt.input,onChangeText:function(e){b(e)},value:g})),a.a.createElement(it.a,{style:[Ot.buttonContainer,Ot.midWidth]},a.a.createElement(At,{Text:"Create User",onPress:function(){var e={},t={},r={};if(n&&""!==n)if(isNaN(l))v(L.setFirebaseError("Number of Sections have to be a number"));else if(isNaN(g))v(L.setFirebaseError("Number of Pens in Sections have to be a number"));else{e={state:re,farms:{}};var a,i,o=1;for(a=1;a<=l;a++){var s={};for(i=1;i<=g;i++)r["Pen_"+o]={section:"Section_"+a},s["Pen_"+o]=!0,o++;t["Section_"+a]={pens:s}}v(L.updateUserData({userData:e,farms:{name:n},sections:t,pens:r}))}else v(L.setFirebaseError("Farm name is needed"))}}))),h&&a.a.createElement(Xt.a,{style:Ot.loadingContainer,size:"large"}))};function Dn(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}var Cn=Object(ot.a)({UserLoadingScreen:{screen:yn,navigationOptions:function(){return{title:"User loading"}}},LoginUser:{screen:On,navigationOptions:function(){return{title:"User Login",headerLeft:function(){return a.a.createElement(it.a,{style:{padding:6,paddingLeft:15}},a.a.createElement(Ft.a,{type:"ionicon",name:"md-arrow-back",size:25,color:"black",onPress:function(){return W.navigate("MainStack")}}))}}}},CreateNewUser:{screen:Pn,navigationOptions:function(){return{title:"Create User"}}},CreateUserData:{screen:wn,navigationOptions:function(){return{title:"Create Data"}}}},{initialRouteName:"UserLoadingScreen",headerMode:"float",defaultNavigationOptions:{headerTitleAlign:"center",headerTitleStyle:function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Dn(Object(n),!0).forEach((function(t){R()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Dn(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},Pt.navigationHeader),headerRight:function(){return a.a.createElement(it.a,{style:{padding:6}})}}});ct.a.create({});function xn(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=mn()(e);if(t){var a=mn()(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return gn()(this,n)}}var kn=function(e){fn()(n,e);var t=xn(n);function n(e){var r;return sn()(this,n),(r=t.call(this,e)).state={ISLOADPAGE:!0},r}return ln()(n,[{key:"getData",value:function(){this.props.setFirebaseError(null)}},{key:"checkData",value:function(e){e.firebase&&null!==e.firebase.firebaseUser||W.navigate("AuthStack")}},{key:"componentDidMount",value:function(){this.checkData(this.props),this.getData()}},{key:"componentDidUpdate",value:function(e,t){this.props!==e&&this.checkData(this.props)}},{key:"render",value:function(){var e=this,t=this.props.firebase.firebaseIsLoading,n=this.props.firebase.firebaseUser;return a.a.createElement(it.a,{style:[Ot.mainContainer]},a.a.createElement(it.a,{style:[Ot.contentContainer,Ot.fullSize,Ot.fillColMain]},n?a.a.createElement(it.a,{style:Ot.textContainer},a.a.createElement(Ct.a,{style:Pt.text},"Wellcome: ",n.displayName?n.displayName:n.email)):a.a.createElement(a.a.Fragment,null),a.a.createElement(it.a,{style:[Ot.buttonContainer,Ot.midWidth,{marginBottom:30}]},a.a.createElement(At,{Text:"Dashboard",icon:yt.DashBoard,onPress:function(){return W.navigate("UserDashBoard")}}),a.a.createElement(At,{Text:"Pigs",icon:yt.Sow,onPress:function(){return W.navigate("UserPigs")}}),a.a.createElement(At,{Text:"Pens",icon:yt.Section,onPress:function(){return W.navigate("UserPens")}}),a.a.createElement(At,{Text:"Batchs",icon:yt.Curves,onPress:function(){return W.navigate("DataPlotter")}}),a.a.createElement(At,{Text:"Operations",icon:yt.System,onPress:function(){return W.navigate("UserOperations")}})),a.a.createElement(it.a,{style:[Ot.buttonContainer,Ot.midWidth]},a.a.createElement(At,{Text:"LogOut",onPress:function(){e.props.logOut()}}))),t&&a.a.createElement(Xt.a,{style:Ot.loadingContainer,size:"large"}))}}]),n}(r.Component),In=Object(i.b)((function(e){return{firebase:e.firebase}}),(function(e){return{setFirebaseError:function(t){return e(L.setFirebaseError(t))},logOut:function(){return e(L.fetchStarting(ce,oe.USER))}}}))(kn),Rn=function(){null===Object(i.d)((function(e){return e.firebase.firebaseUser}))&&W.navigate("Auth");var e=Object(i.d)((function(e){return e.firebase.firebaseIsLoading})),t=Object(i.d)((function(e){return e.firebase.localDataStore})),n=Object(i.d)((function(e){return e.firebase.firebaseErrorMessage})),o="Not set",s="Not set",c="Not set";t&&t.farms&&(o=t.farms.name?t.farms.name:o,s=t.farms.name?t.farms.manager:s,c=t.farms.name?t.farms.email:c);var l=Object(i.c)();return Object(r.useEffect)((function(){l(L.fetchStarting(le,oe.FARMS,Object.keys(t.userData.farms)[0]))}),[]),a.a.createElement(it.a,{style:[Ot.mainContainer]},a.a.createElement(it.a,{style:[Ot.contentContainer,Ot.fullWidth,Ot.fill]},n?a.a.createElement(Ct.a,{style:Pt.error},n):a.a.createElement(a.a.Fragment,null),a.a.createElement(it.a,{style:[Ot.buttonContainer,Ot.midWidth,ht.bottomMargin]},a.a.createElement(At,{Text:"Farm description",buttonStyle:{backgroundColor:mt},onPress:function(){}})),a.a.createElement(it.a,{style:[Ot.buttonContainer,Ot.fullWidth,{height:110}]},a.a.createElement(Gt,{texts:["Farm name","Manager","E-mail"],datas:[o,s,c]}))),e&&a.a.createElement(Xt.a,{style:Ot.loadingContainer,size:"large"}))};function Mn(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function An(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Mn(Object(n),!0).forEach((function(t){R()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Mn(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Fn=ct.a.create({loading:{position:"absolute",left:0,right:0,top:0,bottom:0,alignItems:"center",justifyContent:"center",backgroundColor:"#F5FCFF88"},textContainer:An(An({},dt.normal),{},{marginBottom:ht.normal}),inputContainer:{marginBottom:ht.small},input:An(An({},dt.normal),{},{height:24})}),Tn=n(249),Nn=(ct.a.create({circle:{width:125,height:125,borderRadius:62.5,marginTop:ht.tiny,marginLeft:ht.tiny}}),function(){var e=Object(i.d)((function(e){return e.firebase.firebaseUser}));null===e&&W.navigate("Auth");Object(i.d)((function(e){return e.firebase.firebaseIsLoading}));var t=Object(i.d)((function(e){return e.firebase.localDataStore})),n=null;t&&t.pigs&&(console.log(t),n=he(t.pigs));var o=Object(i.c)();return Object(r.useEffect)((function(){o(L.fetchStarting(le,oe.PIGS,Object.keys(t.userData.farms)[0]))}),[]),a.a.createElement(it.a,{style:[Ot.fillCenter,Ot.rowMain,ht.mediumHorizontalMargin,ht.mediumVerticalMargin]},e?a.a.createElement(Tn.a,null,a.a.createElement(Tn.b,{size:4},a.a.createElement(it.a,{style:{flex:1,marginTop:20}},a.a.createElement(it.a,{style:{flex:1,borderWidth:1,borderColor:"#000",borderRadius:25,paddingHorizontal:15,paddingVertical:10}},n?a.a.createElement(_t.a,{style:{paddingRight:5}},console.log(n),Object.keys(n).map((function(e,t){return a.a.createElement(zt,{key:t,Title:e,Subtitle:"",onPress:function(){o(L.setCurrentData({dataId:e,type:oe.PIGS})),W.navigate("DataDisplay")}})}))):a.a.createElement(a.a.Fragment,null))))):a.a.createElement(a.a.Fragment,null))}),Un=n(372);function zn(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=mn()(e);if(t){var a=mn()(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return gn()(this,n)}}var Ln=function(e){fn()(n,e);var t=zn(n);function n(e){var r;sn()(this,n);var a=(r=t.call(this,e)).setData(e),i=a.Sections,o=a.Mid;return r.state={Mid:o,Sections:i},r}return ln()(n,[{key:"setData",value:function(e){var t=e.firebase.localDataStore,n={};t&&t.sections&&(n=he(e.firebase.localDataStore.sections));var r=0;if(t&&t.weighings)for(var a in t.weighings)if(t.weighings[a]&&Object.keys(t.weighings[a]).length>0){var i=t.weighings[a][Object.keys(t.weighings[a])[0]].weight;i&&(r>0?r=(r+i)/2:r+=i)}return{Sections:n,Mid:r}}},{key:"getData",value:function(){this.props.setFirebaseError(null);var e=this.props.firebase.localDataStore;this.props.getWeights(Object.keys(e.userData.farms)[0])}},{key:"checkData",value:function(e){e.firebase&&null!==e.firebase.firebaseUser||W.navigate("Auth")}},{key:"componentDidMount",value:function(){this.checkData(this.props),this.getData()}},{key:"componentDidUpdate",value:function(e,t){if(this.props!==e&&(this.checkData(this.props),this.props.firebase.localDataStore&&this.props.firebase.localDataStore.sections&&JSON.stringify(this.state.Sections)!==JSON.stringify(he(this.props.firebase.localDataStore.sections)))){var n=this.setData(this.props),r=n.Sections,a=n.Mid;this.setState({Mid:a,Sections:r})}}},{key:"render",value:function(){var e=this,t=this.props.firebase.firebaseIsLoading,n=this.props.firebase.firebaseUser,r=this.props.firebase.firebaseErrorMessage,i=this.props.firebase.localDataStore;return a.a.createElement(it.a,{style:[Ot.mainContainer]},a.a.createElement(it.a,{style:[Ot.fullSize,Ot.fill]},r?a.a.createElement(Ct.a,{style:Pt.error},r):a.a.createElement(a.a.Fragment,null),n&&this.state.Sections?a.a.createElement(_t.a,{style:[ht.verticalMargin,{paddingRight:5}]},a.a.createElement(Un.a,{itemDimension:70,spacing:10,sections:Object.keys(this.state.Sections).map((function(t){var n=he(e.state.Sections[t].pens);return{title:t,data:Object.keys(n)}})),renderSectionHeader:function(e){var t=e.section;return a.a.createElement(it.a,{style:[Ot.buttonContainer,Ot.midWidth,{marginBottom:0}]},a.a.createElement(At,{Text:t.title,buttonStyle:{backgroundColor:mt},onPress:function(){}}))},renderItem:function(t){var n=t.item,r="white";if(i.weighings&&i.weighings[n]&&i.weighings[n][Object.keys(i.weighings[n])[0]]){var o=i.weighings[n][Object.keys(i.weighings[n])[0]].weight;if(o&&!isNaN(o)){r=gt;var s=e.state.Mid;(o>s+10||o<s-10)&&(r=bt)}}return a.a.createElement(kt.a,{style:[Ot.borderContainer,{width:70,height:70,alignItems:"center",justifyContent:"center",backgroundColor:r}],onPress:function(){e.props.setCurrentData(n),W.navigate("DataDisplay")}},a.a.createElement(Ct.a,null,n))}})):a.a.createElement(it.a,{style:[Ot.fillRowCenter,Ot.center,Ot.logoContainer]},a.a.createElement(st.a,{style:Ot.fullSize,source:yt.Hexa_icon,resizeMode:"contain"}))),t&&a.a.createElement(Xt.a,{style:Ot.loadingContainer,size:"large"}))}}]),n}(r.Component),Hn=Object(i.b)((function(e){return{firebase:e.firebase}}),(function(e){return{getWeights:function(t){return e(L.fetchStarting(le,oe.SECTIONS+oe.WEIGHING,[t]))},setFirebaseError:function(t){return e(L.setFirebaseError(t))},setCurrentData:function(t){return e(L.setCurrentData({type:oe.PENS,dataId:t}))}}}))(Ln);function Wn(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=mn()(e);if(t){var a=mn()(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return gn()(this,n)}}var Gn=function(e){fn()(n,e);var t=Wn(n);function n(e){var r;return sn()(this,n),(r=t.call(this,e)).state={},r}return ln()(n,[{key:"getData",value:function(){this.props.setFirebaseError(null),this.props.setCurrentData({})}},{key:"checkData",value:function(e){e.firebase&&null!==e.firebase.firebaseUser||W.navigate("Auth")}},{key:"componentDidMount",value:function(){this.checkData(this.props),this.getData()}},{key:"componentDidUpdate",value:function(e,t){}},{key:"render",value:function(){var e=this.props.firebase.firebaseIsLoading,t=(this.props.firebase.firebaseUser,this.props.firebase.firebaseErrorMessage),n=this.props.firebase.localDataStore;return a.a.createElement(it.a,{style:[Ot.mainContainer]},a.a.createElement(it.a,{style:[Ot.contentContainer,Ot.fullSize,Ot.fill]},t?a.a.createElement(Ct.a,{style:Pt.error},t):a.a.createElement(a.a.Fragment,null),a.a.createElement(it.a,{style:[Ot.buttonContainer,Ot.midWidth,ht.bottomMargin,{marginBottom:60}]}),a.a.createElement(it.a,{style:[Ot.buttonContainer,Ot.halvWidth,Ot.fillColMain]},a.a.createElement(Bt,{farm:Object.keys(n.userData.farms)[0],section:!0}))),e&&a.a.createElement(Xt.a,{style:Ot.loadingContainer,size:"large"}))}}]),n}(r.Component),_n=Object(i.b)((function(e){return{firebase:e.firebase}}),(function(e){return{setFirebaseError:function(t){return e(L.setFirebaseError(t))},setCurrentData:function(t){return e(L.setCurrentData({type:oe.PENS,action:t}))},newPigData:function(t,n,r){return e(L.fetchStarting(se,oe.PIGS,[t,null,n,r]))}}}))(Gn),Bn=n(80);function Vn(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Jn(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Vn(Object(n),!0).forEach((function(t){R()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Vn(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Zn(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=mn()(e);if(t){var a=mn()(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return gn()(this,n)}}var Yn=function(e){fn()(n,e);var t=Zn(n);function n(e){var r;sn()(this,n);var a=(r=t.call(this,e)).setData(r.props),i=a.Sections,o=a.Section,s=a.Pens,c=a.Pen;return r.state={Sections:i,Section:o,Pens:s,Pen:c,weight:""},r}return ln()(n,[{key:"getData",value:function(){this.props.setFirebaseError(null);var e=this.props.firebase.localDataStore;this.props.getSections(Object.keys(e.userData.farms)[0])}},{key:"setData",value:function(e){var t=e.firebase.localDataStore,n=!1;t&&t.sections&&t.sections!==n&&(n=he(t.sections));var r=e.firebase.currentData,a=n?Object.keys(n)[0]:"";r&&r.data&&r.data.section&&n[r.data.section]&&r.data.section!=a&&(a=r.data.section);var i=n?he(n[a].pens):{},o=n?Object.keys(i)[0]:"";return r&&r.dataId&&i[r.dataId]&&r.dataId!=o&&(o=r.dataId),n||(n={}),{Sections:n,Section:a,Pens:i,Pen:o}}},{key:"checkData",value:function(e){e.firebase&&null!==e.firebase.firebaseUser||W.navigate("Auth")}},{key:"componentDidMount",value:function(){this.checkData(this.props),this.getData()}},{key:"componentDidUpdate",value:function(e,t){if(this.props!==e&&(this.checkData(this.props),this.props.firebase.localDataStore&&this.props.firebase.localDataStore.sections&&JSON.stringify(this.state.Sections)!==JSON.stringify(he(this.props.firebase.localDataStore.sections)))){var n=this.setData(this.props),r=n.Sections,a=n.Section,i=n.Pens,o=n.Pen;this.setState({Sections:r,Section:a,Pens:i,Pen:o,weight:""})}}},{key:"render",value:function(){var e=this,t=this.props.firebase.firebaseIsLoading,n=this.props.firebase.firebaseUser,r=this.props.firebase.firebaseErrorMessage,i=this.props.firebase.localDataStore;return a.a.createElement(it.a,{style:[Ot.mainContainer]},a.a.createElement(it.a,{style:[Ot.contentContainer,Ot.fullSize,Ot.fill]},r?a.a.createElement(Ct.a,{style:Pt.error},r):a.a.createElement(a.a.Fragment,null),n?a.a.createElement(it.a,{style:[Ot.contentContainer,Ot.fullSize,Ot.fill]},a.a.createElement(it.a,{style:[Ot.buttonContainer,Ot.midWidth,ht.bottomMargin]},a.a.createElement(At,{Text:"Weighing",buttonStyle:{backgroundColor:mt},onPress:function(){}})),a.a.createElement(it.a,{style:[Ot.borderContainer,Ot.midWidth,{marginBottom:20}]},a.a.createElement(Bn.a,{mode:"dropdown",selectedValue:this.state.Section,style:{height:50,width:150},onValueChange:function(t,n){if(e.state.Sections[t]){var r=he(e.state.Sections[t].pens);e.setState({Section:t,Pens:r,Pen:Object.keys(r)[0]})}}},Object.keys(this.state.Sections).map((function(e,t){return a.a.createElement(Bn.a.Item,{label:e,value:e,key:t})}))),a.a.createElement(Bn.a,{mode:"dropdown",selectedValue:this.state.Pen,style:{height:50,width:150},onValueChange:function(t,n){e.setState({Pen:t})}},Object.keys(this.state.Pens).map((function(e,t){return a.a.createElement(Bn.a.Item,{label:e,value:e,key:t})}))),a.a.createElement(Ft.b,{label:"Weight",style:Jn({},Fn.input),onChangeText:function(t){e.setState({weight:t})},value:this.state.weight})),a.a.createElement(it.a,{style:[Ot.buttonContainer,Ot.midWidth]},a.a.createElement(At,{Text:"Submit",onPress:function(){e.state.Section?e.state.Pen?isNaN(e.state.weight)||""===e.state.weight?e.props.setFirebaseError("Weight have to be a number"):(e.props.setFirebaseError(null),e.props.newWeight(Object.keys(i.userData.farms)[0],e.state.Pen,parseInt(e.state.weight)),e.setState({weight:""})):e.props.setFirebaseError("A pen is needed"):e.props.setFirebaseError("A section is needed")}}))):a.a.createElement(a.a.Fragment,null)),t&&a.a.createElement(Xt.a,{style:Ot.loadingContainer,size:"large"}))}}]),n}(r.Component),qn=Object(i.b)((function(e){return{firebase:e.firebase}}),(function(e){return{getSections:function(t){return e(L.fetchStarting(le,oe.SECTIONS,t))},setFirebaseError:function(t){return e(L.setFirebaseError(t))},newWeight:function(t,n,r){return e(L.fetchStarting(se,oe.WEIGHING,[t,n,r]))}}}))(Yn);function Qn(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Xn(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Qn(Object(n),!0).forEach((function(t){R()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Qn(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Kn(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=mn()(e);if(t){var a=mn()(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return gn()(this,n)}}var $n=function(e){fn()(n,e);var t=Kn(n);function n(e){var r;sn()(this,n);var a=(r=t.call(this,e)).setData(e),i=a.Sections,o=a.Section,s=a.Pens,c=a.Pen;return r.state={Sections:i,Section:o,Pens:s,Pen:c,NewSection:!1},r}return ln()(n,[{key:"getData",value:function(){this.props.setFirebaseError(null);var e=this.props.firebase.localDataStore;this.props.getSections(Object.keys(e.userData.farms)[0])}},{key:"setData",value:function(e){var t=e.firebase.localDataStore,n=!1;t&&t.sections&&t.sections!==n&&(n=he(t.sections));var r=e.firebase.currentData,a=n?Object.keys(n)[0]:"";r&&r.data&&r.data.section&&n[r.data.section]&&r.data.section!=a&&(a=r.data.section);var i=n?he(n[a].pens):{},o=n?Object.keys(i)[0]:"";return r&&r.dataId&&i[r.dataId]&&r.dataId!=o&&(o=r.dataId),n||(n={}),{Sections:n,Section:a,Pens:i,Pen:o}}},{key:"checkData",value:function(e){e.firebase&&null!==e.firebase.firebaseUser||W.navigate("Auth")}},{key:"componentDidMount",value:function(){this.checkData(this.props),this.getData()}},{key:"onSwipeLeft",value:function(e){console.log("You swiped left!")}},{key:"onSwipeRight",value:function(e){console.log("You swiped right!")}},{key:"componentDidUpdate",value:function(e,t){if(this.props!==e){if(this.checkData(this.props),this.props.firebase.localDataStore&&this.props.firebase.localDataStore.sections&&JSON.stringify(this.state.Sections)!==JSON.stringify(he(this.props.firebase.localDataStore.sections))){var n=this.setData(this.props),r=n.Sections,a=n.Section,i=n.Pens,o=n.Pen;this.setState({Sections:r,Section:a,Pens:i,Pen:o})}this.props.firebase.currentData&&this.props.firebase.currentData!=e.firebase.currentData&&this.forceUpdate()}}},{key:"render",value:function(){var e=this.props.firebase.firebaseIsLoading,t=(this.props.firebase.firebaseUser,this.props.firebase.firebaseErrorMessage),n=this.props.firebase.localDataStore,r=this.props.firebase.currentData,i=a.a.createElement(it.a,null);switch(r.type){case oe.PENS:i=er(this,r,n)}return a.a.createElement(it.a,{style:[Ot.mainContainer]},a.a.createElement(it.a,{style:[Ot.contentContainer,Ot.fullSize,Ot.fill]},t?a.a.createElement(Ct.a,{style:Pt.error},t):a.a.createElement(a.a.Fragment,null),i),e&&a.a.createElement(Xt.a,{style:Ot.loadingContainer,size:"large"}))}}]),n}(r.Component),er=function(e,t,n){var r=e.state.Sections;return t.action===se&&(r["New Section"]={}),a.a.createElement(it.a,{style:[Ot.contentContainer,Ot.fullSize,Ot.fill]},a.a.createElement(it.a,{style:[Ot.buttonContainer,Ot.midWidth,ht.bottomMargin]},tr(t.action)),a.a.createElement(it.a,{style:[Ot.borderContainer,Ot.midWidth,{marginBottom:20}]},e.state.NewSection&&t.action===se?a.a.createElement(Ft.b,{label:"Section Name",style:Xn({},Fn.input),onChangeText:function(t){e.setState({Section:t})},value:e.state.Section}):a.a.createElement(Bn.a,{mode:"dropdown",selectedValue:e.state.Section,style:{height:50,width:150},onValueChange:function(n,r){var a=n,i=e.state.NewSection,o=e.state.Pens,s=e.state.Pen;"New Section"===n?(i=!0,a="Section_"+Object.keys(e.state.Sections).length):(o=he(e.state.Sections[n].pens),s=t.action===fe?Object.keys(o)[Object.keys(o).length-1]:"Pen_"+(Object.keys(o).length+1)),e.setState({Section:a,NewSection:i,Pens:o,Pen:s})}},Object.keys(e.state.Sections).map((function(e,t){return a.a.createElement(Bn.a.Item,{label:e,value:e,key:t})}))),t.action===se?a.a.createElement(Ft.b,{label:"Pen name",style:Xn({},Fn.input),onChangeText:function(t){e.setState({Pen:t})},value:e.state.Pen}):a.a.createElement(a.a.Fragment,null),t.action===fe?a.a.createElement(Bn.a,{mode:"dropdown",selectedValue:e.state.Pen,style:{height:50,width:150},onValueChange:function(t,n){e.setData({Pen:t})}},Object.keys(e.state.Pens).map((function(e,t){return a.a.createElement(Bn.a.Item,{label:e,value:e,key:t})}))):a.a.createElement(a.a.Fragment,null)),t.action===se||t.action===fe?a.a.createElement(it.a,{style:[Ot.buttonContainer,Ot.midWidth]},a.a.createElement(At,{Text:"Submit",onPress:function(){if(e.state.Section)if(e.state.Pen&&""!==e.state.Pen)if(isNaN(e.state.Pen)&&isNaN(e.state.Pen[0])){var r=!1;Object.keys(e.state.Sections).map((function(t,n){e.state.Sections[t].pens&&(Object.keys(e.state.Sections[t].pens).filter((function(t){return t===e.state.Pen})).length&&(r=!0))})),r&&t.action===se?e.props.setFirebaseError("Given pen name already exists"):r||t.action!==fe?(e.props.setFirebaseError(null),e.props.penAction(t.action,Object.keys(n.userData.farms)[0],e.state.Section,e.state.Pen),W.navigate("UserOperations")):e.props.setFirebaseError("Cannot remove non-existing pen")}else e.props.setFirebaseError("Pen name cannot be or start with a number");else e.props.setFirebaseError("A pen name is needed");else e.props.setFirebaseError("A section is needed")}})):a.a.createElement(a.a.Fragment,null))},tr=function(e){switch(e){case se:return a.a.createElement(At,{Text:"Add Pen",buttonStyle:{backgroundColor:mt},onPress:function(){}});case fe:return a.a.createElement(At,{Text:"Remove Pen",buttonStyle:{backgroundColor:mt},onPress:function(){}});default:return a.a.createElement(a.a.Fragment,null)}},nr=Object(i.b)((function(e){return{firebase:e.firebase}}),(function(e){return{getSections:function(t){return e(L.fetchStarting(le,oe.SECTIONS,t))},setFirebaseError:function(t){return e(L.setFirebaseError(t))},penAction:function(t,n,r,a){return e(L.fetchStarting(t,oe.PENS,[n,r,a]))}}}))($n),rr=n(72);function ar(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=mn()(e);if(t){var a=mn()(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return gn()(this,n)}}var ir=function(e){fn()(n,e);var t=ar(n);function n(e){var r;return sn()(this,n),(r=t.call(this,e)).state={},r}return ln()(n,[{key:"getData",value:function(){if(this.props.setFirebaseError(null),this.props.firebase&&this.props.firebase.localDataStore){var e=this.props.firebase.localDataStore;if(this.props.firebase.currentData&&this.props.firebase.currentData.type){var t=this.props.firebase.currentData;switch(t.type){case oe.PENS:this.props.getWeights(Object.keys(e.userData.farms)[0],t.dataId)}}}}},{key:"checkData",value:function(e){e.firebase&&null!==e.firebase.firebaseUser||W.navigate("Auth")}},{key:"componentDidMount",value:function(){this.checkData(this.props),this.getData()}},{key:"componentDidUpdate",value:function(e,t){}},{key:"render",value:function(){var e=this.props.firebase.firebaseIsLoading,t=(this.props.firebase.firebaseUser,this.props.firebase.firebaseErrorMessage),n=this.props.firebase.localDataStore,r=this.props.firebase.currentData,i=a.a.createElement(it.a,null);switch(r.type){case oe.PENS:i=sr(this,r,n);break;case oe.PIGS:i=cr(this,r,n)}return a.a.createElement(it.a,{style:[Ot.mainContainer]},a.a.createElement(it.a,{style:[Ot.contentContainer,Ot.fullSize,Ot.fill]},t?a.a.createElement(Ct.a,{style:Pt.error},t):a.a.createElement(a.a.Fragment,null),i),e&&a.a.createElement(Xt.a,{style:Ot.loadingContainer,size:"large"}))}}]),n}(r.Component);function or(e,t,n,r){var a=t.pens[n.dataId].section,i=he(t.sections[a].pens);if(n.type===oe.PENS&&n.data&&i[n.dataId]){var o=Object.keys(i).indexOf(n.dataId);switch(r){case!0:o+=1;break;case!1:o-=1}o<0?o=Object.keys(i).length-1:o>=Object.keys(i).length&&(o=0),e.props.setCurrentData(Object.keys(i)[o]),W.replace("DataDisplay")}}var sr=function(e,t,n){var r,i=[];return n&&n.pens&&(r=he(n.pens))[t.dataId]&&(t.data=r[t.dataId]),n&&n.weighings&&n.weighings[t.dataId]&&(i=n.weighings[t.dataId]),t.data&&!t.data.datas&&(t.data.datas={}),t.data?a.a.createElement(it.a,{style:[Ot.contentContainer,Ot.fillColCenter,Ot.fullSize,Ot.fill]},a.a.createElement(it.a,{style:[Ot.buttonContainer,Ot.midWidth,ht.bottomMargin,Ot.rowCenter]},a.a.createElement(it.a,{style:{padding:6,paddingRight:15}},a.a.createElement(Ft.a,{name:"md-arrow-back",type:"ionicon",size:25,color:"black",onPress:function(){return or(e,n,t,!1)}})),a.a.createElement(it.a,{style:[Ot.buttonContainer,Ot.midWidth]},a.a.createElement(At,{Text:t.dataId,buttonStyle:{backgroundColor:mt},onPress:function(){}})),a.a.createElement(it.a,{style:{padding:6,paddingLeft:15}},a.a.createElement(Ft.a,{name:"md-arrow-forward",type:"ionicon",size:25,color:"black",onPress:function(){return or(e,n,t,!0)}}))),a.a.createElement(it.a,{style:[Ot.fullWidth]},a.a.createElement(Gt,{texts:["Pig count","Age","Section"],onPress:function(e){return function(e,t){switch(e){case 1:switch(t.index){case 0:console.log("test")}}}(1,e)},datas:[t.data.datas.count?t.data.datas.count:0,t.data.datas.age,t.data.section]}),a.a.createElement(it.a,{style:{height:10}}),a.a.createElement(Gt,{texts:["Batch","Growth Cruve"],datas:[t.data.datas.batch,t.data.datas.gcurve?t.data.datas.gcurve:"default"]})),a.a.createElement(it.a,{style:{height:20}}),a.a.createElement(it.a,{style:[Ot.contentContainer,Ot.fillColCenter,Ot.fullSize,Ot.fill]},a.a.createElement(it.a,{style:[Ot.fullWidth,Ot.borderContainer,ht.smallBottomMargin,{borderRadius:0,alignItems:"center",justifyContent:"center",minHeight:35}]},a.a.createElement(Ct.a,null,"Last weighings")),a.a.createElement(rr.a,{style:[Ot.fullWidth],data:Object.keys(i).reverse(),renderItem:function(e){var t=e.item;return"__jsogObjectId"===t?a.a.createElement(a.a.Fragment,null):a.a.createElement(Gt,{texts:[ge(i[t].time)],datas:[i[t].weight]})},numColumns:1,keyExtractor:function(e,t){return e.toString()}})),a.a.createElement(it.a,{style:{height:20}}),a.a.createElement(it.a,{style:[Ot.borderContainer,Ot.midWidth]},a.a.createElement(Bt,{farm:Object.keys(n.userData.farms)[0],penid:t.dataId}))):a.a.createElement(it.a,{style:[Ot.fillRowCenter,Ot.center,Ot.logoContainer]},a.a.createElement(st.a,{style:Ot.fullSize,source:yt.Hexa_icon,resizeMode:"contain"}))},cr=function(e,t,n){var r;return n&&n.pigs&&(r=he(n.pigs))[t.dataId]&&(t.data=r[t.dataId]),t.data&&!t.data.datas&&(t.data.datas={}),t.data?(console.log(t.data),a.a.createElement(it.a,{style:[Ot.contentContainer,Ot.fillColCenter,Ot.fullSize,Ot.fill,{marginTop:5}]},a.a.createElement(Row,{size:4},a.a.createElement(it.a,{style:[Ot.contentContainer,Ot.fillColCenter,Ot.fullSize,Ot.fill,{marginTop:0}]},a.a.createElement(it.a,{style:[Ot.buttonContainer,Ot.midWidth,ht.bottomMargin]},a.a.createElement(At,{Text:t.dataId,buttonStyle:{backgroundColor:mt},onPress:function(){}})),a.a.createElement(it.a,{style:[Ot.fullWidth]},a.a.createElement(Gt,{ingrid:!0,texts:["Section","Pen"],datas:[t.data.section,t.data.pen]}),a.a.createElement(it.a,{style:{paddingVertical:12}}),a.a.createElement(Gt,{ingrid:!0,texts:["Comment"],datas:["NONE"]})))))):a.a.createElement(it.a,{style:[Ot.fillRowCenter,Ot.center,Ot.logoContainer]},a.a.createElement(st.a,{style:Ot.fullSize,source:yt.Hexa_icon,resizeMode:"contain"}))},lr=(ct.a.create({circle:{width:125,height:125,borderRadius:62.5,marginTop:ht.tiny,marginLeft:ht.tiny}}),Object(i.b)((function(e){return{firebase:e.firebase}}),(function(e){return{getWeights:function(t,n){return e(L.fetchStarting(le,oe.PENS+oe.WEIGHING,[t,n]))},setFirebaseError:function(t){return e(L.setFirebaseError(t))},setCurrentData:function(t){return e(L.setCurrentData({type:oe.PENS,dataId:t}))}}}))(ir)),ur=n(29),fr=n(371);function pr(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=mn()(e);if(t){var a=mn()(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return gn()(this,n)}}function gr(e,t){return Math.floor(Math.random()*(t-e+1))+e}var br=ur.a.get("window"),mr=ur.a.get("screen");function dr(e,t,n){var r=[];return e.forEach((function(e){if(n[e]){var a=n[e];if(Object.keys(a).length>=1){var i=[],o=[];for(Object.keys(a).forEach((function(e){var t=a[e];t.weight&&(i.push(t.weight),o.push(t.time))}));i.length<t.length;)i.push(null),o.push(null);var s=function(){var e=[10,250],t=[10,250],n=[10,250],r=[.2,1],a=gr(e[0],e[1]),i=gr(t[0],t[1]),o=gr(n[0],n[1]),s=gr(100*r[0],100*r[1])/100;return{r:a,g:i,b:o,a:s,rgbaValue:"rgba("+a+","+i+","+o+","+s+")"}}();r.push({data:i,dataX:o,color:function(){return s.rgbaValue}})}}})),r}var hr=function(e){fn()(n,e);var t=pr(n);function n(e){var r;sn()(this,n),(r=t.call(this,e)).onChange=function(e){var t=e.window,n=e.screen;r.setState({dimensions:{window:t,screen:n}})};var a=r.setData(e),i=a.Labels,o=a.xMinMax,s=a.Legends,c=a.DataSets,l=a.TempGraph,u=a.Graphs;return r.state={dimensions:{window:br,screen:mr},Labels:i,xMinMax:o,Legends:s,DataSets:c,TempGraph:l,Graphs:u,ActiveCurve:null},r}return ln()(n,[{key:"setData",value:function(e){var t=e.firebase.localDataStore,n=[],r=[],a=[],i=null,o=null;return t&&t.graphs&&(o=t.graphs).gcurve&&(i=o.gcurve,r.push("Batch template"),a.push({data:i.data,color:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:.1;return"rgba(0, 0, 0, "+e+")"}}),n=i.labels),t&&t.weighings&&(r=(r=r.concat(Object.keys(t.weighings))).filter((function(e){return"__jsogObjectId"!==e})),a=a.concat(dr(r,n,t.weighings))),{Labels:n,xMinMax:[15778332e5,16093692e5],Legends:r,DataSets:a,TempGraph:i,Graphs:o}}},{key:"getData",value:function(){this.props.setFirebaseError(null);var e=this.props.firebase.localDataStore;this.props.getCurvesWeights(Object.keys(e.userData.farms)[0],"default")}},{key:"checkData",value:function(e){e.firebase&&null!==e.firebase.firebaseUser||W.navigate("Auth")}},{key:"componentDidUpdate",value:function(e,t){if(this.props!==e&&(this.checkData(this.props),this.props.firebase.localDataStore&&this.props.firebase.localDataStore.graphs&&this.props.firebase.localDataStore.weighings)){var n=this.setData(this.props),r=n.Labels,a=n.xMinMax,i=n.Legends,o=n.DataSets,s=n.TempGraph,c=n.Graphs;this.setState({Labels:r,xMinMax:a,Legends:i,DataSets:o,TempGraph:s,Graphs:c})}}},{key:"componentDidMount",value:function(){this.checkData(this.props),this.getData(),ur.a.addEventListener("change",this.onChange)}},{key:"componentWillUnmount",value:function(){ur.a.removeEventListener("change",this.onChange)}},{key:"render",value:function(){var e=this.props.firebase.firebaseIsLoading,t=(this.props.firebase.firebaseUser,this.props.firebase.firebaseErrorMessage),n=(this.props.firebase.localDataStore,this.state.dimensions.window.width>1e3),r=this.state.dimensions.window.height-140-3*ht.medium-80,i=2*(this.state.dimensions.window.width-2*ht.normal)/(n?2.05:1);return console.log(r),a.a.createElement(it.a,{style:[Ot.mainContainer]},a.a.createElement(it.a,{style:[Ot.contentContainer,Ot.fullSize,Ot.fill]},t?a.a.createElement(Ct.a,{style:Pt.error},t):a.a.createElement(a.a.Fragment,null),a.a.createElement(it.a,{style:[Ot.buttonContainer,Ot.midWidth,ht.bottomMargin]},a.a.createElement(At,{Text:"Batch",buttonStyle:{backgroundColor:mt},onPress:function(){}})),a.a.createElement(it.a,{style:[Ot.contentContainer,Ot.fullSize,{marginHorizontal:0,paddingHorizontal:-20}]},a.a.createElement(_t.a,{horizontal:!0,showsHorizontalScrollIndicator:!n,style:[Ot.fullSize]},this.state.Graphs?a.a.createElement(fr.a,{style:[{marginRight:ht.normal}],width:i,height:r,data:{labels:this.state.Labels,xMinMax:this.state.xMinMax,legend:this.state.Legends.slice(0,this.state.DataSets.length),datasets:this.state.DataSets,height:r},onDataPointClick:function(e){console.log("here"),console.log(e)},withShadow:!1,withVerticalLines:!0,fromZero:!1,segments:10,verticalLabelRotation:0,xLabelsOffset:0,height:r,chartConfig:{backgroundColor:ut,backgroundGradientFrom:ut,backgroundGradientTo:ut,decimalPlaces:0,color:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;return"rgba(0, 0, 0, "+e+")"},labelColor:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;return"rgba(0, 0, 0, "+e+")"},style:{borderRadius:16,height:r},propsForDots:{r:"5",strokeWidth:"0.5",stroke:ut}}}):a.a.createElement(a.a.Fragment,null))),a.a.createElement(it.a,{style:[Ot.buttonContainer,Ot.fullWidth,Ot.rowCenter,{maxHeight:100}]},a.a.createElement(it.a,{style:[Ot.column,Ot.borderContainer,{borderRadius:0}]},a.a.createElement(Ct.a,null,"Text 1")),a.a.createElement(it.a,{style:[Ot.colCenter,Ot.borderContainer,{borderRadius:0}]},a.a.createElement(Ct.a,null,"Text 2")),a.a.createElement(it.a,{style:[Ot.colCenter,Ot.borderContainer,{borderRadius:0}]},a.a.createElement(Ct.a,null,"Text 3")))),e&&a.a.createElement(Xt.a,{style:Ot.loadingContainer,size:"large"}))}}]),n}(r.Component),yr=Object(i.b)((function(e){return{firebase:e.firebase}}),(function(e){return{setFirebaseError:function(t){return e(L.setFirebaseError(t))},getCurvesWeights:function(t,n){return e(L.fetchStarting(le,oe.GRAPH+oe.WEIGHING,[t,n,99]))}}}))(hr);function vr(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}var Er=Object(ot.a)({UserFront:{screen:In,navigationOptions:function(){return{title:"User Data",headerLeft:function(){return a.a.createElement(it.a,{style:{padding:6,paddingLeft:15}},a.a.createElement(Ft.a,{type:"ionicon",name:"md-arrow-back",size:25,color:"black",onPress:function(){return W.navigate("MainStack")}}))}}},path:"user_front"},UserDashBoard:{screen:Rn,navigationOptions:function(){return{title:"Dash Board"}},path:"user_dashboard"},UserPigs:{screen:Nn,navigationOptions:function(){return{title:"Pigs"}},path:"user_pigs"},UserPens:{screen:Hn,navigationOptions:function(){return{title:"Pens"}},path:"user_pens"},UserOperations:{screen:_n,navigationOptions:function(){return{title:"Operations"}},path:"user_operations"},WeighingOperations:{screen:qn,navigationOptions:function(){return{title:"Operations"}},path:"user_operations"},DataEditor:{screen:nr,navigationOptions:function(){return{title:"User Data"}},path:"user_dataedtior"},DataDisplay:{screen:lr,navigationOptions:function(){return{title:"User Data"}},path:"user_datadisplay"},DataPlotter:{screen:yr,navigationOptions:function(){return{title:"User Data"}},path:"user_dataplotter"}},{initialRouteName:"UserFront",headerMode:"float",defaultNavigationOptions:{headerTitleAlign:"center",headerTitleStyle:function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?vr(Object(n),!0).forEach((function(t){R()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):vr(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},Pt.navigationHeader),headerRight:function(){return a.a.createElement(it.a,{style:{padding:6}})}}}),Or=Object(ot.a)({SplashScreen:{screen:Dt,navigationOptions:function(){return{headerShown:!1}}},MainStack:an,AuthStack:Cn,UserPanel:Er,DeepLinkingScreen:{screen:xt,path:"deeplink"}},{initialRouteName:"SplashScreen",headerMode:"none",defaultNavigationOptions:{headerTitleAlign:"center",headerRight:function(){return a.a.createElement(it.a,{style:{padding:6}})}}}),Sr=Object(H.createAppContainer)(Or),jr=function(){var e=Object(i.c)();return Object(r.useEffect)((function(){e(P.startup())}),[]),a.a.createElement(it.a,{style:Ot.fill},a.a.createElement(Sr,{ref:function(e){W.setTopLevelNavigator(e)},uriPrefix:"agrisysapp://"}))},Pr=function(e,t){var n=[],r=[],a=Object(c.b)();n.push(a),r.push(s.a.apply(void 0,n));var i=Object(l.b)(m,e),o=Object(s.e)(i,s.d.apply(void 0,r)),u=Object(l.c)(o);return a.run(t),{store:o,persistor:u}}(Object(s.c)({example:Ke,firebase:at}),Ze),wr=Pr.store,Dr=Pr.persistor;t.a=function(){return a.a.createElement(i.a,{store:wr},a.a.createElement(o.PersistGate,{loading:null,persistor:Dr},a.a.createElement(jr,null)))}},374:function(e,t,n){e.exports=n(620)},495:function(e,t,n){e.exports=n.p+"static/media/Home.1fff8434.png"},496:function(e,t,n){e.exports=n.p+"static/media/Dashboard.26766c7a.png"},497:function(e,t,n){e.exports=n.p+"static/media/System.7e4af00c.png"},498:function(e,t,n){e.exports=n.p+"static/media/Feed-Curves.da739887.png"},499:function(e,t,n){e.exports=n.p+"static/media/User.d73be9fd.png"},500:function(e,t,n){e.exports=n.p+"static/media/Sow.beff0aff.png"},501:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAFMAAABRCAYAAACuepoLAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAq9JREFUeNrsnT1Lw1AUhk9FRFEhDhV0qgouLlrcjYOLi3XpasEfYjo62X/Quorg5iS0P0D8GBzVOAkWP6CVigg1197E0Naa3ER7b/K+cLig3tP4eJJz8g5XIig0JRS8Zr3Pn1+JUgE0JYgjK1JRqEz2y9DE1IJwgrdalRr1BxoZm6Th8aTvfVwvVqxacaE8zLXtQ+EEN+cHdH12QHPpLM0uZX3tbdSrdHmyS7VH0wY6w1caQNvwp5GxJC2v57+q2pJmRc7+HmAKaHBolGbTTkVvAGYIFdoBucfPp7p1rH8efwr280iJiu3ytUUr9iSY5+yZrqIqTAayzB+sIgOqHtJgq7vGD1IRpsaHUY3PTptWmCJjC5+/Ao8/7hlONZgZ/ow0OQylqkIGubv5Cl/3ATI4zFQUX+T7BRMCTMCM5mumqhf+fH8lvLdRqzqraJ7aU++pscznuyBvPk3XjEh/lKcpWZSVr8x+mMNufby/2p6m+rc58xRFZZvD0/O6b3PY/Zg5Pd5BA0I3B0yMRlsU3Ms0ALOlXAh5dwCzpZIVdwEh5uP4x+gGk1lwlYAQjDjCRAMCTMAETAgwARMwoZ5zphJiNpqonri73lrF8thu/U+C0x5Dpz0v2fWYKlcmGhC6OQSYMo1GMjnthkSsfr2WRFsD0lFfnlh5rswSyeO0y5BHyKiO4mgURh7POdCA0M0BEzAhwARMwIQAEzABEzAhwARMwIQ6FRen3fgPmHDaxVh5rswSwWnvlsOX4LQHzIEGhG4OmIAJASZgAiYEmIAJmPGEafJVBxZHi21sPCvH30Fv8W7uqMj3F/1uZCe6PtP3vxvQYg7TcO33dLe6LTh2ACk7Gpe5RxkeFcELKYd0m/UrT4q+zxMtBODgHOLcjHnc8oLyrMQvUDWKr3xX46cAAwCxt3YCfnN46AAAAABJRU5ErkJggg=="},502:function(e,t,n){e.exports=n.p+"static/media/Hexagon-globe.fce26805.png"},503:function(e,t,n){e.exports=n.p+"static/media/Hexa-icon.5129d536.png"},504:function(e,t,n){e.exports=n.p+"static/media/Logo.9b051259.png"},505:function(e,t,n){e.exports=n.p+"static/media/TOM.c88886f3.png"}},[[374,1,2]]]);
//# sourceMappingURL=app.32d05b10.chunk.js.map